function MO(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();var DS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ov(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var a=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:function(){return e[i]}})}),r}var T0={exports:{}},zp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MS;function LO(){if(MS)return zp;MS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(i,a,l){var s=null;if(l!==void 0&&(s=""+l),a.key!==void 0&&(s=""+a.key),"key"in a){l={};for(var u in a)u!=="key"&&(l[u]=a[u])}else l=a;return a=l.ref,{$$typeof:e,type:i,key:s,ref:a!==void 0?a:null,props:l}}return zp.Fragment=t,zp.jsx=r,zp.jsxs=r,zp}var LS;function UO(){return LS||(LS=1,T0.exports=LO()),T0.exports}var ie=UO(),O0={exports:{}},vr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var US;function kO(){if(US)return vr;US=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function w(Y){return Y===null||typeof Y!="object"?null:(Y=g&&Y[g]||Y["@@iterator"],typeof Y=="function"?Y:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,x={};function C(Y,xe,$e){this.props=Y,this.context=xe,this.refs=x,this.updater=$e||_}C.prototype.isReactComponent={},C.prototype.setState=function(Y,xe){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,xe,"setState")},C.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function E(){}E.prototype=C.prototype;function I(Y,xe,$e){this.props=Y,this.context=xe,this.refs=x,this.updater=$e||_}var O=I.prototype=new E;O.constructor=I,T(O,C.prototype),O.isPureReactComponent=!0;var H=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function W(Y,xe,$e,Me,at,It){return $e=It.ref,{$$typeof:e,type:Y,key:xe,ref:$e!==void 0?$e:null,props:It}}function $(Y,xe){return W(Y.type,xe,void 0,void 0,void 0,Y.props)}function Ae(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function K(Y){var xe={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function($e){return xe[$e]})}var ae=/\/+/g;function pe(Y,xe){return typeof Y=="object"&&Y!==null&&Y.key!=null?K(""+Y.key):xe.toString(36)}function be(){}function Ze(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(be,be):(Y.status="pending",Y.then(function(xe){Y.status==="pending"&&(Y.status="fulfilled",Y.value=xe)},function(xe){Y.status==="pending"&&(Y.status="rejected",Y.reason=xe)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function it(Y,xe,$e,Me,at){var It=typeof Y;(It==="undefined"||It==="boolean")&&(Y=null);var Pt=!1;if(Y===null)Pt=!0;else switch(It){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(Y.$$typeof){case e:case t:Pt=!0;break;case p:return Pt=Y._init,it(Pt(Y._payload),xe,$e,Me,at)}}if(Pt)return at=at(Y),Pt=Me===""?"."+pe(Y,0):Me,H(at)?($e="",Pt!=null&&($e=Pt.replace(ae,"$&/")+"/"),it(at,xe,$e,"",function(Ie){return Ie})):at!=null&&(Ae(at)&&(at=$(at,$e+(at.key==null||Y&&Y.key===at.key?"":(""+at.key).replace(ae,"$&/")+"/")+Pt)),xe.push(at)),1;Pt=0;var Le=Me===""?".":Me+":";if(H(Y))for(var ce=0;ce<Y.length;ce++)Me=Y[ce],It=Le+pe(Me,ce),Pt+=it(Me,xe,$e,It,at);else if(ce=w(Y),typeof ce=="function")for(Y=ce.call(Y),ce=0;!(Me=Y.next()).done;)Me=Me.value,It=Le+pe(Me,ce++),Pt+=it(Me,xe,$e,It,at);else if(It==="object"){if(typeof Y.then=="function")return it(Ze(Y),xe,$e,Me,at);throw xe=String(Y),Error("Objects are not valid as a React child (found: "+(xe==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":xe)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function Re(Y,xe,$e){if(Y==null)return Y;var Me=[],at=0;return it(Y,Me,"","",function(It){return xe.call($e,It,at++)}),Me}function lt(Y){if(Y._status===-1){var xe=Y._result;xe=xe(),xe.then(function($e){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=$e)},function($e){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=$e)}),Y._status===-1&&(Y._status=0,Y._result=xe)}if(Y._status===1)return Y._result.default;throw Y._result}var ge=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var xe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(xe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function rt(){}return vr.Children={map:Re,forEach:function(Y,xe,$e){Re(Y,function(){xe.apply(this,arguments)},$e)},count:function(Y){var xe=0;return Re(Y,function(){xe++}),xe},toArray:function(Y){return Re(Y,function(xe){return xe})||[]},only:function(Y){if(!Ae(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},vr.Component=C,vr.Fragment=r,vr.Profiler=a,vr.PureComponent=I,vr.StrictMode=i,vr.Suspense=d,vr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,vr.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return L.H.useMemoCache(Y)}},vr.cache=function(Y){return function(){return Y.apply(null,arguments)}},vr.cloneElement=function(Y,xe,$e){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var Me=T({},Y.props),at=Y.key,It=void 0;if(xe!=null)for(Pt in xe.ref!==void 0&&(It=void 0),xe.key!==void 0&&(at=""+xe.key),xe)!q.call(xe,Pt)||Pt==="key"||Pt==="__self"||Pt==="__source"||Pt==="ref"&&xe.ref===void 0||(Me[Pt]=xe[Pt]);var Pt=arguments.length-2;if(Pt===1)Me.children=$e;else if(1<Pt){for(var Le=Array(Pt),ce=0;ce<Pt;ce++)Le[ce]=arguments[ce+2];Me.children=Le}return W(Y.type,at,void 0,void 0,It,Me)},vr.createContext=function(Y){return Y={$$typeof:s,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:l,_context:Y},Y},vr.createElement=function(Y,xe,$e){var Me,at={},It=null;if(xe!=null)for(Me in xe.key!==void 0&&(It=""+xe.key),xe)q.call(xe,Me)&&Me!=="key"&&Me!=="__self"&&Me!=="__source"&&(at[Me]=xe[Me]);var Pt=arguments.length-2;if(Pt===1)at.children=$e;else if(1<Pt){for(var Le=Array(Pt),ce=0;ce<Pt;ce++)Le[ce]=arguments[ce+2];at.children=Le}if(Y&&Y.defaultProps)for(Me in Pt=Y.defaultProps,Pt)at[Me]===void 0&&(at[Me]=Pt[Me]);return W(Y,It,void 0,void 0,null,at)},vr.createRef=function(){return{current:null}},vr.forwardRef=function(Y){return{$$typeof:u,render:Y}},vr.isValidElement=Ae,vr.lazy=function(Y){return{$$typeof:p,_payload:{_status:-1,_result:Y},_init:lt}},vr.memo=function(Y,xe){return{$$typeof:c,type:Y,compare:xe===void 0?null:xe}},vr.startTransition=function(Y){var xe=L.T,$e={};L.T=$e;try{var Me=Y(),at=L.S;at!==null&&at($e,Me),typeof Me=="object"&&Me!==null&&typeof Me.then=="function"&&Me.then(rt,ge)}catch(It){ge(It)}finally{L.T=xe}},vr.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},vr.use=function(Y){return L.H.use(Y)},vr.useActionState=function(Y,xe,$e){return L.H.useActionState(Y,xe,$e)},vr.useCallback=function(Y,xe){return L.H.useCallback(Y,xe)},vr.useContext=function(Y){return L.H.useContext(Y)},vr.useDebugValue=function(){},vr.useDeferredValue=function(Y,xe){return L.H.useDeferredValue(Y,xe)},vr.useEffect=function(Y,xe,$e){var Me=L.H;if(typeof $e=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Me.useEffect(Y,xe)},vr.useId=function(){return L.H.useId()},vr.useImperativeHandle=function(Y,xe,$e){return L.H.useImperativeHandle(Y,xe,$e)},vr.useInsertionEffect=function(Y,xe){return L.H.useInsertionEffect(Y,xe)},vr.useLayoutEffect=function(Y,xe){return L.H.useLayoutEffect(Y,xe)},vr.useMemo=function(Y,xe){return L.H.useMemo(Y,xe)},vr.useOptimistic=function(Y,xe){return L.H.useOptimistic(Y,xe)},vr.useReducer=function(Y,xe,$e){return L.H.useReducer(Y,xe,$e)},vr.useRef=function(Y){return L.H.useRef(Y)},vr.useState=function(Y){return L.H.useState(Y)},vr.useSyncExternalStore=function(Y,xe,$e){return L.H.useSyncExternalStore(Y,xe,$e)},vr.useTransition=function(){return L.H.useTransition()},vr.version="19.1.0",vr}var kS;function mm(){return kS||(kS=1,O0.exports=kO()),O0.exports}var te=mm();const ps=Tv(te),jS=MO({__proto__:null,default:ps},[te]);var I0={exports:{}},Wp={},P0={exports:{}},N0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BS;function jO(){return BS||(BS=1,function(e){function t(Re,lt){var ge=Re.length;Re.push(lt);e:for(;0<ge;){var rt=ge-1>>>1,Y=Re[rt];if(0<a(Y,lt))Re[rt]=lt,Re[ge]=Y,ge=rt;else break e}}function r(Re){return Re.length===0?null:Re[0]}function i(Re){if(Re.length===0)return null;var lt=Re[0],ge=Re.pop();if(ge!==lt){Re[0]=ge;e:for(var rt=0,Y=Re.length,xe=Y>>>1;rt<xe;){var $e=2*(rt+1)-1,Me=Re[$e],at=$e+1,It=Re[at];if(0>a(Me,ge))at<Y&&0>a(It,Me)?(Re[rt]=It,Re[at]=ge,rt=at):(Re[rt]=Me,Re[$e]=ge,rt=$e);else if(at<Y&&0>a(It,ge))Re[rt]=It,Re[at]=ge,rt=at;else break e}}return lt}function a(Re,lt){var ge=Re.sortIndex-lt.sortIndex;return ge!==0?ge:Re.id-lt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var d=[],c=[],p=1,g=null,w=3,_=!1,T=!1,x=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function H(Re){for(var lt=r(c);lt!==null;){if(lt.callback===null)i(c);else if(lt.startTime<=Re)i(c),lt.sortIndex=lt.expirationTime,t(d,lt);else break;lt=r(c)}}function L(Re){if(x=!1,H(Re),!T)if(r(d)!==null)T=!0,q||(q=!0,pe());else{var lt=r(c);lt!==null&&it(L,lt.startTime-Re)}}var q=!1,W=-1,$=5,Ae=-1;function K(){return C?!0:!(e.unstable_now()-Ae<$)}function ae(){if(C=!1,q){var Re=e.unstable_now();Ae=Re;var lt=!0;try{e:{T=!1,x&&(x=!1,I(W),W=-1),_=!0;var ge=w;try{t:{for(H(Re),g=r(d);g!==null&&!(g.expirationTime>Re&&K());){var rt=g.callback;if(typeof rt=="function"){g.callback=null,w=g.priorityLevel;var Y=rt(g.expirationTime<=Re);if(Re=e.unstable_now(),typeof Y=="function"){g.callback=Y,H(Re),lt=!0;break t}g===r(d)&&i(d),H(Re)}else i(d);g=r(d)}if(g!==null)lt=!0;else{var xe=r(c);xe!==null&&it(L,xe.startTime-Re),lt=!1}}break e}finally{g=null,w=ge,_=!1}lt=void 0}}finally{lt?pe():q=!1}}}var pe;if(typeof O=="function")pe=function(){O(ae)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Ze=be.port2;be.port1.onmessage=ae,pe=function(){Ze.postMessage(null)}}else pe=function(){E(ae,0)};function it(Re,lt){W=E(function(){Re(e.unstable_now())},lt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Re){Re.callback=null},e.unstable_forceFrameRate=function(Re){0>Re||125<Re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<Re?Math.floor(1e3/Re):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(Re){switch(w){case 1:case 2:case 3:var lt=3;break;default:lt=w}var ge=w;w=lt;try{return Re()}finally{w=ge}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(Re,lt){switch(Re){case 1:case 2:case 3:case 4:case 5:break;default:Re=3}var ge=w;w=Re;try{return lt()}finally{w=ge}},e.unstable_scheduleCallback=function(Re,lt,ge){var rt=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?rt+ge:rt):ge=rt,Re){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ge+Y,Re={id:p++,callback:lt,priorityLevel:Re,startTime:ge,expirationTime:Y,sortIndex:-1},ge>rt?(Re.sortIndex=ge,t(c,Re),r(d)===null&&Re===r(c)&&(x?(I(W),W=-1):x=!0,it(L,ge-rt))):(Re.sortIndex=Y,t(d,Re),T||_||(T=!0,q||(q=!0,pe()))),Re},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(Re){var lt=w;return function(){var ge=w;w=lt;try{return Re.apply(this,arguments)}finally{w=ge}}}}(N0)),N0}var HS;function BO(){return HS||(HS=1,P0.exports=jO()),P0.exports}var F0={exports:{}},_a={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS;function HO(){if(VS)return _a;VS=1;var e=mm();function t(d){var c="https://react.dev/errors/"+d;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,c,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:c,implementation:p}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,c){if(d==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return _a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_a.createPortal=function(d,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return l(d,c,null,p)},_a.flushSync=function(d){var c=s.T,p=i.p;try{if(s.T=null,i.p=2,d)return d()}finally{s.T=c,i.p=p,i.d.f()}},_a.preconnect=function(d,c){typeof d=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,i.d.C(d,c))},_a.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},_a.preinit=function(d,c){if(typeof d=="string"&&c&&typeof c.as=="string"){var p=c.as,g=u(p,c.crossOrigin),w=typeof c.integrity=="string"?c.integrity:void 0,_=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;p==="style"?i.d.S(d,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:g,integrity:w,fetchPriority:_}):p==="script"&&i.d.X(d,{crossOrigin:g,integrity:w,fetchPriority:_,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},_a.preinitModule=function(d,c){if(typeof d=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var p=u(c.as,c.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&i.d.M(d)},_a.preload=function(d,c){if(typeof d=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var p=c.as,g=u(p,c.crossOrigin);i.d.L(d,p,{crossOrigin:g,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},_a.preloadModule=function(d,c){if(typeof d=="string")if(c){var p=u(c.as,c.crossOrigin);i.d.m(d,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:p,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else i.d.m(d)},_a.requestFormReset=function(d){i.d.r(d)},_a.unstable_batchedUpdates=function(d,c){return d(c)},_a.useFormState=function(d,c,p){return s.H.useFormState(d,c,p)},_a.useFormStatus=function(){return s.H.useHostTransitionStatus()},_a.version="19.1.0",_a}var $S;function Ux(){if($S)return F0.exports;$S=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),F0.exports=HO(),F0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS;function VO(){if(KS)return Wp;KS=1;var e=BO(),t=mm(),r=Ux();function i(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var o=n,f=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(f=o.return),n=o.return;while(n)}return o.tag===3?f:null}function s(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function u(n){if(l(n)!==n)throw Error(i(188))}function d(n){var o=n.alternate;if(!o){if(o=l(n),o===null)throw Error(i(188));return o!==n?null:n}for(var f=n,m=o;;){var R=f.return;if(R===null)break;var F=R.alternate;if(F===null){if(m=R.return,m!==null){f=m;continue}break}if(R.child===F.child){for(F=R.child;F;){if(F===f)return u(R),n;if(F===m)return u(R),o;F=F.sibling}throw Error(i(188))}if(f.return!==m.return)f=R,m=F;else{for(var Z=!1,de=R.child;de;){if(de===f){Z=!0,f=R,m=F;break}if(de===m){Z=!0,m=R,f=F;break}de=de.sibling}if(!Z){for(de=F.child;de;){if(de===f){Z=!0,f=F,m=R;break}if(de===m){Z=!0,m=F,f=R;break}de=de.sibling}if(!Z)throw Error(i(189))}}if(f.alternate!==m)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?n:o}function c(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=c(n),o!==null)return o;n=n.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),O=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Ae=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function pe(n){return n===null||typeof n!="object"?null:(n=ae&&n[ae]||n["@@iterator"],typeof n=="function"?n:null)}var be=Symbol.for("react.client.reference");function Ze(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===be?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case C:return"Profiler";case x:return"StrictMode";case L:return"Suspense";case q:return"SuspenseList";case Ae:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case _:return"Portal";case O:return(n.displayName||"Context")+".Provider";case I:return(n._context.displayName||"Context")+".Consumer";case H:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case W:return o=n.displayName||null,o!==null?o:Ze(n.type)||"Memo";case $:o=n._payload,n=n._init;try{return Ze(n(o))}catch{}}return null}var it=Array.isArray,Re=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},rt=[],Y=-1;function xe(n){return{current:n}}function $e(n){0>Y||(n.current=rt[Y],rt[Y]=null,Y--)}function Me(n,o){Y++,rt[Y]=n.current,n.current=o}var at=xe(null),It=xe(null),Pt=xe(null),Le=xe(null);function ce(n,o){switch(Me(Pt,o),Me(It,n),Me(at,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?rn(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=rn(o),n=Nn(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$e(at),Me(at,n)}function Ie(){$e(at),$e(It),$e(Pt)}function Ye(n){n.memoizedState!==null&&Me(Le,n);var o=at.current,f=Nn(o,n.type);o!==f&&(Me(It,n),Me(at,f))}function se(n){It.current===n&&($e(at),$e(It)),Le.current===n&&($e(Le),Vp._currentValue=ge)}var k=Object.prototype.hasOwnProperty,D=e.unstable_scheduleCallback,z=e.unstable_cancelCallback,re=e.unstable_shouldYield,Se=e.unstable_requestPaint,Ne=e.unstable_now,ct=e.unstable_getCurrentPriorityLevel,Pe=e.unstable_ImmediatePriority,mt=e.unstable_UserBlockingPriority,Tt=e.unstable_NormalPriority,bt=e.unstable_LowPriority,Xe=e.unstable_IdlePriority,qe=e.log,Fe=e.unstable_setDisableYieldValue,et=null,Q=null;function j(n){if(typeof qe=="function"&&Fe(n),Q&&typeof Q.setStrictMode=="function")try{Q.setStrictMode(et,n)}catch{}}var G=Math.clz32?Math.clz32:ot,V=Math.log,Je=Math.LN2;function ot(n){return n>>>=0,n===0?32:31-(V(n)/Je|0)|0}var Qe=256,Yt=4194304;function $n(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function qn(n,o,f){var m=n.pendingLanes;if(m===0)return 0;var R=0,F=n.suspendedLanes,Z=n.pingedLanes;n=n.warmLanes;var de=m&134217727;return de!==0?(m=de&~F,m!==0?R=$n(m):(Z&=de,Z!==0?R=$n(Z):f||(f=de&~n,f!==0&&(R=$n(f))))):(de=m&~F,de!==0?R=$n(de):Z!==0?R=$n(Z):f||(f=m&~n,f!==0&&(R=$n(f)))),R===0?0:o!==0&&o!==R&&(o&F)===0&&(F=R&-R,f=o&-o,F>=f||F===32&&(f&4194048)!==0)?o:R}function sn(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function ze(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wt(){var n=Qe;return Qe<<=1,(Qe&4194048)===0&&(Qe=256),n}function dt(){var n=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),n}function Be(n){for(var o=[],f=0;31>f;f++)o.push(n);return o}function pt(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Xt(n,o,f,m,R,F){var Z=n.pendingLanes;n.pendingLanes=f,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=f,n.entangledLanes&=f,n.errorRecoveryDisabledLanes&=f,n.shellSuspendCounter=0;var de=n.entanglements,Ve=n.expirationTimes,vt=n.hiddenUpdates;for(f=Z&~f;0<f;){var Dt=31-G(f),jt=1<<Dt;de[Dt]=0,Ve[Dt]=-1;var St=vt[Dt];if(St!==null)for(vt[Dt]=null,Dt=0;Dt<St.length;Dt++){var xt=St[Dt];xt!==null&&(xt.lane&=-536870913)}f&=~jt}m!==0&&zt(n,m,0),F!==0&&R===0&&n.tag!==0&&(n.suspendedLanes|=F&~(Z&~o))}function zt(n,o,f){n.pendingLanes|=o,n.suspendedLanes&=~o;var m=31-G(o);n.entangledLanes|=o,n.entanglements[m]=n.entanglements[m]|1073741824|f&4194090}function tn(n,o){var f=n.entangledLanes|=o;for(n=n.entanglements;f;){var m=31-G(f),R=1<<m;R&o|n[m]&o&&(n[m]|=o),f&=~R}}function Ht(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function fe(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ve(){var n=lt.p;return n!==0?n:(n=window.event,n===void 0?32:TS(n.type))}function Ot(n,o){var f=lt.p;try{return lt.p=n,o()}finally{lt.p=f}}var Ct=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Ct,Zt="__reactProps$"+Ct,nn="__reactContainer$"+Ct,Ln="__reactEvents$"+Ct,$t="__reactListeners$"+Ct,en="__reactHandles$"+Ct,vn="__reactResources$"+Ct,on="__reactMarker$"+Ct;function Un(n){delete n[Ft],delete n[Zt],delete n[Ln],delete n[$t],delete n[en]}function xn(n){var o=n[Ft];if(o)return o;for(var f=n.parentNode;f;){if(o=f[nn]||f[Ft]){if(f=o.alternate,o.child!==null||f!==null&&f.child!==null)for(n=hS(n);n!==null;){if(f=n[Ft])return f;n=hS(n)}return o}n=f,f=n.parentNode}return null}function Qn(n){if(n=n[Ft]||n[nn]){var o=n.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return n}return null}function mn(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(i(33))}function ln(n){var o=n[vn];return o||(o=n[vn]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Gt(n){n[on]=!0}var nr=new Set,Mr={};function yr(n,o){kn(n,o),kn(n+"Capture",o)}function kn(n,o){for(Mr[n]=o,n=0;n<o.length;n++)nr.add(o[n])}var Pr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$r={},cn={};function _i(n){return k.call(cn,n)?!0:k.call($r,n)?!1:Pr.test(n)?cn[n]=!0:($r[n]=!0,!1)}function Fr(n,o,f){if(_i(o))if(f===null)n.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+f)}}function ta(n,o,f){if(f===null)n.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+f)}}function Si(n,o,f,m){if(m===null)n.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(f);return}n.setAttributeNS(o,f,""+m)}}var Ha,ha;function Ei(n){if(Ha===void 0)try{throw Error()}catch(f){var o=f.stack.trim().match(/\n( *(at )?)/);Ha=o&&o[1]||"",ha=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ha+n+ha}var b=!1;function v(n,o){if(!n||b)return"";b=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var jt=function(){throw Error()};if(Object.defineProperty(jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(jt,[])}catch(xt){var St=xt}Reflect.construct(n,[],jt)}else{try{jt.call()}catch(xt){St=xt}n.call(jt.prototype)}}else{try{throw Error()}catch(xt){St=xt}(jt=n())&&typeof jt.catch=="function"&&jt.catch(function(){})}}catch(xt){if(xt&&St&&typeof xt.stack=="string")return[xt.stack,St.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=m.DetermineComponentFrameRoot(),Z=F[0],de=F[1];if(Z&&de){var Ve=Z.split(`
`),vt=de.split(`
`);for(R=m=0;m<Ve.length&&!Ve[m].includes("DetermineComponentFrameRoot");)m++;for(;R<vt.length&&!vt[R].includes("DetermineComponentFrameRoot");)R++;if(m===Ve.length||R===vt.length)for(m=Ve.length-1,R=vt.length-1;1<=m&&0<=R&&Ve[m]!==vt[R];)R--;for(;1<=m&&0<=R;m--,R--)if(Ve[m]!==vt[R]){if(m!==1||R!==1)do if(m--,R--,0>R||Ve[m]!==vt[R]){var Dt=`
`+Ve[m].replace(" at new "," at ");return n.displayName&&Dt.includes("<anonymous>")&&(Dt=Dt.replace("<anonymous>",n.displayName)),Dt}while(1<=m&&0<=R);break}}}finally{b=!1,Error.prepareStackTrace=f}return(f=n?n.displayName||n.name:"")?Ei(f):""}function A(n){switch(n.tag){case 26:case 27:case 5:return Ei(n.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return v(n.type,!1);case 11:return v(n.type.render,!1);case 1:return v(n.type,!0);case 31:return Ei("Activity");default:return""}}function P(n){try{var o="";do o+=A(n),n=n.return;while(n);return o}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function B(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function X(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ue(n){var o=X(n)?"checked":"value",f=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),m=""+n[o];if(!n.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var R=f.get,F=f.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return R.call(this)},set:function(Z){m=""+Z,F.call(this,Z)}}),Object.defineProperty(n,o,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(Z){m=""+Z},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Ee(n){n._valueTracker||(n._valueTracker=ue(n))}function ye(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var f=o.getValue(),m="";return n&&(m=X(n)?n.checked?"true":"false":n.value),n=m,n!==f?(o.setValue(n),!0):!1}function _e(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Te=/[\n"\\]/g;function Oe(n){return n.replace(Te,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ke(n,o,f,m,R,F,Z,de){n.name="",Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?n.type=Z:n.removeAttribute("type"),o!=null?Z==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+B(o)):n.value!==""+B(o)&&(n.value=""+B(o)):Z!=="submit"&&Z!=="reset"||n.removeAttribute("value"),o!=null?ut(n,Z,B(o)):f!=null?ut(n,Z,B(f)):m!=null&&n.removeAttribute("value"),R==null&&F!=null&&(n.defaultChecked=!!F),R!=null&&(n.checked=R&&typeof R!="function"&&typeof R!="symbol"),de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?n.name=""+B(de):n.removeAttribute("name")}function We(n,o,f,m,R,F,Z,de){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(n.type=F),o!=null||f!=null){if(!(F!=="submit"&&F!=="reset"||o!=null))return;f=f!=null?""+B(f):"",o=o!=null?""+B(o):f,de||o===n.value||(n.value=o),n.defaultValue=o}m=m??R,m=typeof m!="function"&&typeof m!="symbol"&&!!m,n.checked=de?n.checked:!!m,n.defaultChecked=!!m,Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(n.name=Z)}function ut(n,o,f){o==="number"&&_e(n.ownerDocument)===n||n.defaultValue===""+f||(n.defaultValue=""+f)}function yt(n,o,f,m){if(n=n.options,o){o={};for(var R=0;R<f.length;R++)o["$"+f[R]]=!0;for(f=0;f<n.length;f++)R=o.hasOwnProperty("$"+n[f].value),n[f].selected!==R&&(n[f].selected=R),R&&m&&(n[f].defaultSelected=!0)}else{for(f=""+B(f),o=null,R=0;R<n.length;R++){if(n[R].value===f){n[R].selected=!0,m&&(n[R].defaultSelected=!0);return}o!==null||n[R].disabled||(o=n[R])}o!==null&&(o.selected=!0)}}function Et(n,o,f){if(o!=null&&(o=""+B(o),o!==n.value&&(n.value=o),f==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=f!=null?""+B(f):""}function le(n,o,f,m){if(o==null){if(m!=null){if(f!=null)throw Error(i(92));if(it(m)){if(1<m.length)throw Error(i(93));m=m[0]}f=m}f==null&&(f=""),o=f}f=B(o),n.defaultValue=f,m=n.textContent,m===f&&m!==""&&m!==null&&(n.value=m)}function Ce(n,o){if(o){var f=n.firstChild;if(f&&f===n.lastChild&&f.nodeType===3){f.nodeValue=o;return}}n.textContent=o}var De=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ue(n,o,f){var m=o.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":m?n.setProperty(o,f):typeof f!="number"||f===0||De.has(o)?o==="float"?n.cssFloat=f:n[o]=(""+f).trim():n[o]=f+"px"}function ht(n,o,f){if(o!=null&&typeof o!="object")throw Error(i(62));if(n=n.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?n.setProperty(m,""):m==="float"?n.cssFloat="":n[m]="");for(var R in o)m=o[R],o.hasOwnProperty(R)&&f[R]!==m&&Ue(n,R,m)}else for(var F in o)o.hasOwnProperty(F)&&Ue(n,F,o[F])}function At(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xn(n){return Bt.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var un=null;function gn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var sr=null,hn=null;function lr(n){var o=Qn(n);if(o&&(n=o.stateNode)){var f=n[Zt]||null;e:switch(n=o.stateNode,o.type){case"input":if(ke(n,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),o=f.name,f.type==="radio"&&o!=null){for(f=n;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Oe(""+o)+'"][type="radio"]'),o=0;o<f.length;o++){var m=f[o];if(m!==n&&m.form===n.form){var R=m[Zt]||null;if(!R)throw Error(i(90));ke(m,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(o=0;o<f.length;o++)m=f[o],m.form===n.form&&ye(m)}break e;case"textarea":Et(n,f.value,f.defaultValue);break e;case"select":o=f.value,o!=null&&yt(n,!!f.multiple,o,!1)}}}var ar=!1;function Lr(n,o,f){if(ar)return n(o,f);ar=!0;try{var m=n(o);return m}finally{if(ar=!1,(sr!==null||hn!==null)&&($u(),sr&&(o=sr,n=hn,hn=sr=null,lr(o),n)))for(o=0;o<n.length;o++)lr(n[o])}}function rr(n,o){var f=n.stateNode;if(f===null)return null;var m=f[Zt]||null;if(m===null)return null;f=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(n=n.type,m=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!m;break e;default:n=!1}if(n)return null;if(f&&typeof f!="function")throw Error(i(231,o,typeof f));return f}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(or)try{var Cn={};Object.defineProperty(Cn,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,Cn)}catch{Cr=!1}var Zr=null,Ui=null,pa=null;function Ur(){if(pa)return pa;var n,o=Ui,f=o.length,m,R="value"in Zr?Zr.value:Zr.textContent,F=R.length;for(n=0;n<f&&o[n]===R[n];n++);var Z=f-n;for(m=1;m<=Z&&o[f-m]===R[F-m];m++);return pa=R.slice(n,1<m?1-m:void 0)}function na(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function uo(){return!0}function Oo(){return!1}function Nr(n){function o(f,m,R,F,Z){this._reactName=f,this._targetInst=R,this.type=m,this.nativeEvent=F,this.target=Z,this.currentTarget=null;for(var de in n)n.hasOwnProperty(de)&&(f=n[de],this[de]=f?f(F):F[de]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?uo:Oo,this.isPropagationStopped=Oo,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=uo)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=uo)},persist:function(){},isPersistent:uo}),o}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=Nr(ri),ii=p({},ri,{view:0,detail:0}),bs=Nr(ii),Ra,M,ne,oe=p({},ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ne&&(ne&&n.type==="mousemove"?(Ra=n.screenX-ne.screenX,M=n.screenY-ne.screenY):M=Ra=0,ne=n),Ra)},movementY:function(n){return"movementY"in n?n.movementY:M}}),he=Nr(oe),je=p({},oe,{dataTransfer:0}),we=Nr(je),Ke=p({},ii,{relatedTarget:0}),Rt=Nr(Ke),_t=p({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Nt=Nr(_t),qt=p({},ri,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Vt=Nr(qt),Wt=p({},ri,{data:0}),Lt=Nr(Wt),Jt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},an={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=fn[n])?!!o[n]:!1}function Yn(){return wn}var _n=p({},ii,{key:function(n){if(n.key){var o=Jt[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=na(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?an[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yn,charCode:function(n){return n.type==="keypress"?na(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?na(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Qt=Nr(_n),Hn=p({},oe,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pn=Nr(Hn),Bn=p({},ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yn}),er=Nr(Bn),Mt=p({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pn=Nr(Mt),Ar=p({},oe,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=Nr(Ar),wr=p({},ri,{newState:0,oldState:0}),pr=Nr(wr),kr=[9,13,27,32],Sn=or&&"CompositionEvent"in window,zn=null;or&&"documentMode"in document&&(zn=document.documentMode);var ai=or&&"TextEvent"in window&&!zn,xi=or&&(!Sn||zn&&8<zn&&11>=zn),Tn=" ",Wr=!1;function Kr(n,o){switch(n){case"keyup":return kr.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ir(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ei=!1;function ur(n,o){switch(n){case"compositionend":return ir(o);case"keypress":return o.which!==32?null:(Wr=!0,Tn);case"textInput":return n=o.data,n===Tn&&Wr?null:n;default:return null}}function $a(n,o){if(ei)return n==="compositionend"||!Sn&&Kr(n,o)?(n=Ur(),pa=Ui=Zr=null,ei=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return xi&&o.locale!=="ko"?null:o.data;default:return null}}var wc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rl(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!wc[n.type]:o==="textarea"}function _c(n,o,f,m){sr?hn?hn.push(m):hn=[m]:sr=m,o=ih(o,"onChange"),0<o.length&&(f=new Va("onChange","change",null,f,m),n.push({event:f,listeners:o}))}var co=null,ws=null;function ed(n){Dp(n,0)}function Ca(n){var o=mn(n);if(ye(o))return n}function Xo(n,o){if(n==="change")return o}var du=!1;if(or){var il;if(or){var fo="oninput"in document;if(!fo){var Ka=document.createElement("div");Ka.setAttribute("oninput","return;"),fo=typeof Ka.oninput=="function"}il=fo}else il=!1;du=il&&(!document.documentMode||9<document.documentMode)}function _r(){co&&(co.detachEvent("onpropertychange",al),ws=co=null)}function al(n){if(n.propertyName==="value"&&Ca(ws)){var o=[];_c(o,ws,n,gn(n)),Lr(ed,o)}}function td(n,o,f){n==="focusin"?(_r(),co=o,ws=f,co.attachEvent("onpropertychange",al)):n==="focusout"&&_r()}function ol(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ca(ws)}function pi(n,o){if(n==="click")return Ca(o)}function Sc(n,o){if(n==="input"||n==="change")return Ca(o)}function nd(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var Hi=typeof Object.is=="function"?Object.is:nd;function ho(n,o){if(Hi(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var f=Object.keys(n),m=Object.keys(o);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var R=f[m];if(!k.call(o,R)||!Hi(n[R],o[R]))return!1}return!0}function sl(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function hu(n,o){var f=sl(n);n=0;for(var m;f;){if(f.nodeType===3){if(m=n+f.textContent.length,n<=o&&m>=o)return{node:f,offset:o-n};n=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=sl(f)}}function Ph(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?Ph(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function Ga(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=_e(n.document);o instanceof n.HTMLIFrameElement;){try{var f=typeof o.contentWindow.location.href=="string"}catch{f=!1}if(f)n=o.contentWindow;else break;o=_e(n.document)}return o}function Nh(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var Fm=or&&"documentMode"in document&&11>=document.documentMode,ra=null,rd=null,pu=null,id=!1;function Ta(n,o,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;id||ra==null||ra!==_e(m)||(m=ra,"selectionStart"in m&&Nh(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),pu&&ho(pu,m)||(pu=m,m=ih(rd,"onSelect"),0<m.length&&(o=new Va("onSelect","select",null,o,f),n.push({event:o,listeners:m}),o.target=ra)))}function ll(n,o){var f={};return f[n.toLowerCase()]=o.toLowerCase(),f["Webkit"+n]="webkit"+o,f["Moz"+n]="moz"+o,f}var Io={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionrun:ll("Transition","TransitionRun"),transitionstart:ll("Transition","TransitionStart"),transitioncancel:ll("Transition","TransitionCancel"),transitionend:ll("Transition","TransitionEnd")},Fh={},ul={};or&&(ul=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function cl(n){if(Fh[n])return Fh[n];if(!Io[n])return n;var o=Io[n],f;for(f in o)if(o.hasOwnProperty(f)&&f in ul)return Fh[n]=o[f];return n}var _s=cl("animationend"),Ss=cl("animationiteration"),Dm=cl("animationstart"),r0=cl("transitionrun"),i0=cl("transitionstart"),jr=cl("transitioncancel"),Dh=cl("transitionend"),Mh=new Map,ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ad.push("scrollEnd");function po(n,o){Mh.set(n,o),yr(o,[n])}var ga=new WeakMap;function qa(n,o){if(typeof n=="object"&&n!==null){var f=ga.get(n);return f!==void 0?f:(o={value:n,source:o,stack:P(o)},ga.set(n,o),o)}return{value:n,source:o,stack:P(o)}}var za=[],go=0,od=0;function sd(){for(var n=go,o=od=go=0;o<n;){var f=za[o];za[o++]=null;var m=za[o];za[o++]=null;var R=za[o];za[o++]=null;var F=za[o];if(za[o++]=null,m!==null&&R!==null){var Z=m.pending;Z===null?R.next=R:(R.next=Z.next,Z.next=R),m.pending=R}F!==0&&Mm(f,R,F)}}function gu(n,o,f,m){za[go++]=n,za[go++]=o,za[go++]=f,za[go++]=m,od|=m,n.lanes|=m,n=n.alternate,n!==null&&(n.lanes|=m)}function Lh(n,o,f,m){return gu(n,o,f,m),ld(n)}function Oa(n,o){return gu(n,null,null,o),ld(n)}function Mm(n,o,f){n.lanes|=f;var m=n.alternate;m!==null&&(m.lanes|=f);for(var R=!1,F=n.return;F!==null;)F.childLanes|=f,m=F.alternate,m!==null&&(m.childLanes|=f),F.tag===22&&(n=F.stateNode,n===null||n._visibility&1||(R=!0)),n=F,F=F.return;return n.tag===3?(F=n.stateNode,R&&o!==null&&(R=31-G(f),n=F.hiddenUpdates,m=n[R],m===null?n[R]=[o]:m.push(o),o.lane=f|536870912),F):null}function ld(n){if(50<Ef)throw Ef=0,Af=null,Error(i(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var mu={};function Ec(n,o,f,m){this.tag=n,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(n,o,f,m){return new Ec(n,o,f,m)}function Ac(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Wa(n,o){var f=n.alternate;return f===null?(f=Ci(n.tag,o,n.key,n.mode),f.elementType=n.elementType,f.type=n.type,f.stateNode=n.stateNode,f.alternate=n,n.alternate=f):(f.pendingProps=o,f.type=n.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=n.flags&65011712,f.childLanes=n.childLanes,f.lanes=n.lanes,f.child=n.child,f.memoizedProps=n.memoizedProps,f.memoizedState=n.memoizedState,f.updateQueue=n.updateQueue,o=n.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},f.sibling=n.sibling,f.index=n.index,f.ref=n.ref,f.refCleanup=n.refCleanup,f}function Uh(n,o){n.flags&=65011714;var f=n.alternate;return f===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=f.childLanes,n.lanes=f.lanes,n.child=f.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=f.memoizedProps,n.memoizedState=f.memoizedState,n.updateQueue=f.updateQueue,n.type=f.type,o=f.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function xc(n,o,f,m,R,F){var Z=0;if(m=n,typeof n=="function")Ac(n)&&(Z=1);else if(typeof n=="string")Z=SO(n,f,at.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Ae:return n=Ci(31,f,o,R),n.elementType=Ae,n.lanes=F,n;case T:return fl(f.children,R,F,o);case x:Z=8,R|=24;break;case C:return n=Ci(12,f,o,R|2),n.elementType=C,n.lanes=F,n;case L:return n=Ci(13,f,o,R),n.elementType=L,n.lanes=F,n;case q:return n=Ci(19,f,o,R),n.elementType=q,n.lanes=F,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case E:case O:Z=10;break e;case I:Z=9;break e;case H:Z=11;break e;case W:Z=14;break e;case $:Z=16,m=null;break e}Z=29,f=Error(i(130,n===null?"null":typeof n,"")),m=null}return o=Ci(Z,f,o,R),o.elementType=n,o.type=m,o.lanes=F,o}function fl(n,o,f,m){return n=Ci(7,n,m,o),n.lanes=f,n}function ci(n,o,f){return n=Ci(6,n,null,o),n.lanes=f,n}function Rc(n,o,f){return o=Ci(4,n.children!==null?n.children:[],n.key,o),o.lanes=f,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var dl=[],hl=0,Cc=null,Tc=0,Ia=[],Pa=0,pl=null,Po=1,No="";function gl(n,o){dl[hl++]=Tc,dl[hl++]=Cc,Cc=n,Tc=o}function kh(n,o,f){Ia[Pa++]=Po,Ia[Pa++]=No,Ia[Pa++]=pl,pl=n;var m=Po;n=No;var R=32-G(m)-1;m&=~(1<<R),f+=1;var F=32-G(o)+R;if(30<F){var Z=R-R%5;F=(m&(1<<Z)-1).toString(32),m>>=Z,R-=Z,Po=1<<32-G(o)+R|f<<R|m,No=F+n}else Po=1<<F|f<<R|m,No=n}function Oc(n){n.return!==null&&(gl(n,1),kh(n,1,0))}function ud(n){for(;n===Cc;)Cc=dl[--hl],dl[hl]=null,Tc=dl[--hl],dl[hl]=null;for(;n===pl;)pl=Ia[--Pa],Ia[Pa]=null,No=Ia[--Pa],Ia[Pa]=null,Po=Ia[--Pa],Ia[Pa]=null}var Gi=null,gi=null,Br=!1,Es=null,mo=!1,cd=Error(i(519));function As(n){var o=Error(i(418,""));throw Ic(qa(o,n)),cd}function Lm(n){var o=n.stateNode,f=n.type,m=n.memoizedProps;switch(o[Ft]=n,o[Zt]=m,f){case"dialog":xr("cancel",o),xr("close",o);break;case"iframe":case"object":case"embed":xr("load",o);break;case"video":case"audio":for(f=0;f<Of.length;f++)xr(Of[f],o);break;case"source":xr("error",o);break;case"img":case"image":case"link":xr("error",o),xr("load",o);break;case"details":xr("toggle",o);break;case"input":xr("invalid",o),We(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Ee(o);break;case"select":xr("invalid",o);break;case"textarea":xr("invalid",o),le(o,m.value,m.defaultValue,m.children),Ee(o)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||o.textContent===""+f||m.suppressHydrationWarning===!0||U(o.textContent,f)?(m.popover!=null&&(xr("beforetoggle",o),xr("toggle",o)),m.onScroll!=null&&xr("scroll",o),m.onScrollEnd!=null&&xr("scrollend",o),m.onClick!=null&&(o.onclick=J),o=!0):o=!1,o||As(n)}function fd(n){for(Gi=n.return;Gi;)switch(Gi.tag){case 5:case 13:mo=!1;return;case 27:case 3:mo=!0;return;default:Gi=Gi.return}}function yu(n){if(n!==Gi)return!1;if(!Br)return fd(n),Br=!0,!1;var o=n.tag,f;if((f=o!==3&&o!==27)&&((f=o===5)&&(f=n.type,f=!(f!=="form"&&f!=="button")||gr(n.type,n.memoizedProps)),f=!f),f&&gi&&As(n),fd(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8)if(f=n.data,f==="/$"){if(o===0){gi=fr(n.nextSibling);break e}o--}else f!=="$"&&f!=="$!"&&f!=="$?"||o++;n=n.nextSibling}gi=null}}else o===27?(o=gi,Qi(n.type)?(n=ds,ds=null,gi=n):gi=o):gi=Gi?fr(n.stateNode.nextSibling):null;return!0}function vu(){gi=Gi=null,Br=!1}function jh(){var n=Es;return n!==null&&(oa===null?oa=n:oa.push.apply(oa,n),Es=null),n}function Ic(n){Es===null?Es=[n]:Es.push(n)}var dd=xe(null),ml=null,Zo=null;function xs(n,o,f){Me(dd,o._currentValue),o._currentValue=f}function es(n){n._currentValue=dd.current,$e(dd)}function hd(n,o,f){for(;n!==null;){var m=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),n===f)break;n=n.return}}function Bh(n,o,f,m){var R=n.child;for(R!==null&&(R.return=n);R!==null;){var F=R.dependencies;if(F!==null){var Z=R.child;F=F.firstContext;e:for(;F!==null;){var de=F;F=R;for(var Ve=0;Ve<o.length;Ve++)if(de.context===o[Ve]){F.lanes|=f,de=F.alternate,de!==null&&(de.lanes|=f),hd(F.return,f,n),m||(Z=null);break e}F=de.next}}else if(R.tag===18){if(Z=R.return,Z===null)throw Error(i(341));Z.lanes|=f,F=Z.alternate,F!==null&&(F.lanes|=f),hd(Z,f,n),Z=null}else Z=R.child;if(Z!==null)Z.return=R;else for(Z=R;Z!==null;){if(Z===n){Z=null;break}if(R=Z.sibling,R!==null){R.return=Z.return,Z=R;break}Z=Z.return}R=Z}}function bu(n,o,f,m){n=null;for(var R=o,F=!1;R!==null;){if(!F){if((R.flags&524288)!==0)F=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var Z=R.alternate;if(Z===null)throw Error(i(387));if(Z=Z.memoizedProps,Z!==null){var de=R.type;Hi(R.pendingProps.value,Z.value)||(n!==null?n.push(de):n=[de])}}else if(R===Le.current){if(Z=R.alternate,Z===null)throw Error(i(387));Z.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(n!==null?n.push(Vp):n=[Vp])}R=R.return}n!==null&&Bh(o,n,f,m),o.flags|=262144}function pd(n){for(n=n.firstContext;n!==null;){if(!Hi(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Rs(n){ml=n,Zo=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function qi(n){return Hh(ml,n)}function Pc(n,o){return ml===null&&Rs(n),Hh(n,o)}function Hh(n,o){var f=o._currentValue;if(o={context:o,memoizedValue:f,next:null},Zo===null){if(n===null)throw Error(i(308));Zo=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else Zo=Zo.next=o;return f}var a0=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(f,m){n.push(m)}};this.abort=function(){o.aborted=!0,n.forEach(function(f){return f()})}},Um=e.unstable_scheduleCallback,o0=e.unstable_NormalPriority,yn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fi(){return{controller:new a0,data:new Map,refCount:0}}function wu(n){n.refCount--,n.refCount===0&&Um(o0,function(){n.controller.abort()})}var Nc=null,yo=0,Ja=0,yl=null;function km(n,o){if(Nc===null){var f=Nc=[];yo=0,Ja=Np(),yl={status:"pending",value:void 0,then:function(m){f.push(m)}}}return yo++,o.then(Vh,Vh),o}function Vh(){if(--yo===0&&Nc!==null){yl!==null&&(yl.status="fulfilled");var n=Nc;Nc=null,Ja=0,yl=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function jm(n,o){var f=[],m={status:"pending",value:null,reason:null,then:function(R){f.push(R)}};return n.then(function(){m.status="fulfilled",m.value=o;for(var R=0;R<f.length;R++)(0,f[R])(o)},function(R){for(m.status="rejected",m.reason=R,R=0;R<f.length;R++)(0,f[R])(void 0)}),m}var $h=Re.S;Re.S=function(n,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&km(n,o),$h!==null&&$h(n,o)};var ts=xe(null);function Kh(){var n=ts.current;return n!==null?n:li.pooledCache}function Fc(n,o){o===null?Me(ts,ts.current):Me(ts,o.pool)}function Gh(){var n=Kh();return n===null?null:{parent:yn._currentValue,pool:n}}var vo=Error(i(460)),_u=Error(i(474)),vl=Error(i(542)),Ya={then:function(){}};function bl(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Fo(){}function Dc(n,o,f){switch(f=n[f],f===void 0?n.push(o):f!==o&&(o.then(Fo,Fo),o=f),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Mc(n),n;default:if(typeof o.status=="string")o.then(Fo,Fo);else{if(n=li,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=o,n.status="pending",n.then(function(m){if(o.status==="pending"){var R=o;R.status="fulfilled",R.value=m}},function(m){if(o.status==="pending"){var R=o;R.status="rejected",R.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Mc(n),n}throw Do=o,vo}}var Do=null;function wl(){if(Do===null)throw Error(i(459));var n=Do;return Do=null,n}function Mc(n){if(n===vo||n===vl)throw Error(i(483))}var Mo=!1;function bo(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _l(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Na(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Lo(n,o,f){var m=n.updateQueue;if(m===null)return null;if(m=m.shared,(Jr&2)!==0){var R=m.pending;return R===null?o.next=o:(o.next=R.next,R.next=o),m.pending=o,o=ld(n),Mm(n,null,f),o}return gu(n,m,o,f),ld(n)}function ns(n,o,f){if(o=o.updateQueue,o!==null&&(o=o.shared,(f&4194048)!==0)){var m=o.lanes;m&=n.pendingLanes,f|=m,o.lanes=f,tn(n,f)}}function Sl(n,o){var f=n.updateQueue,m=n.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var R=null,F=null;if(f=f.firstBaseUpdate,f!==null){do{var Z={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};F===null?R=F=Z:F=F.next=Z,f=f.next}while(f!==null);F===null?R=F=o:F=F.next=o}else R=F=o;f={baseState:m.baseState,firstBaseUpdate:R,lastBaseUpdate:F,shared:m.shared,callbacks:m.callbacks},n.updateQueue=f;return}n=f.lastBaseUpdate,n===null?f.firstBaseUpdate=o:n.next=o,f.lastBaseUpdate=o}var Lc=!1;function Di(){if(Lc){var n=yl;if(n!==null)throw n}}function Dn(n,o,f,m){Lc=!1;var R=n.updateQueue;Mo=!1;var F=R.firstBaseUpdate,Z=R.lastBaseUpdate,de=R.shared.pending;if(de!==null){R.shared.pending=null;var Ve=de,vt=Ve.next;Ve.next=null,Z===null?F=vt:Z.next=vt,Z=Ve;var Dt=n.alternate;Dt!==null&&(Dt=Dt.updateQueue,de=Dt.lastBaseUpdate,de!==Z&&(de===null?Dt.firstBaseUpdate=vt:de.next=vt,Dt.lastBaseUpdate=Ve))}if(F!==null){var jt=R.baseState;Z=0,Dt=vt=Ve=null,de=F;do{var St=de.lane&-536870913,xt=St!==de.lane;if(xt?(Or&St)===St:(m&St)===St){St!==0&&St===Ja&&(Lc=!0),Dt!==null&&(Dt=Dt.next={lane:0,tag:de.tag,payload:de.payload,callback:null,next:null});e:{var Zn=n,Kn=de;St=o;var ui=f;switch(Kn.tag){case 1:if(Zn=Kn.payload,typeof Zn=="function"){jt=Zn.call(ui,jt,St);break e}jt=Zn;break e;case 3:Zn.flags=Zn.flags&-65537|128;case 0:if(Zn=Kn.payload,St=typeof Zn=="function"?Zn.call(ui,jt,St):Zn,St==null)break e;jt=p({},jt,St);break e;case 2:Mo=!0}}St=de.callback,St!==null&&(n.flags|=64,xt&&(n.flags|=8192),xt=R.callbacks,xt===null?R.callbacks=[St]:xt.push(St))}else xt={lane:St,tag:de.tag,payload:de.payload,callback:de.callback,next:null},Dt===null?(vt=Dt=xt,Ve=jt):Dt=Dt.next=xt,Z|=St;if(de=de.next,de===null){if(de=R.shared.pending,de===null)break;xt=de,de=xt.next,xt.next=null,R.lastBaseUpdate=xt,R.shared.pending=null}}while(!0);Dt===null&&(Ve=jt),R.baseState=Ve,R.firstBaseUpdate=vt,R.lastBaseUpdate=Dt,F===null&&(R.shared.lanes=0),Go|=Z,n.lanes=Z,n.memoizedState=jt}}function gd(n,o){if(typeof n!="function")throw Error(i(191,n));n.call(o)}function El(n,o){var f=n.callbacks;if(f!==null)for(n.callbacks=null,n=0;n<f.length;n++)gd(f[n],o)}var Su=xe(null),Cs=xe(0);function Al(n,o){n=Ko,Me(Cs,n),Me(Su,o),Ko=n|o.baseLanes}function xl(){Me(Cs,Ko),Me(Su,Su.current)}function Uc(){Ko=Cs.current,$e(Su),$e(Cs)}var Uo=0,cr=null,Sr=null,mi=null,md=!1,Rl=!1,Ts=!1,kc=0,jc=0,Cl=null,qh=0;function yi(){throw Error(i(321))}function yd(n,o){if(o===null)return!1;for(var f=0;f<o.length&&f<n.length;f++)if(!Hi(n[f],o[f]))return!1;return!0}function Os(n,o,f,m,R,F){return Uo=F,cr=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Re.H=n===null||n.memoizedState===null?Yh:lf,Ts=!1,F=f(m,R),Ts=!1,Rl&&(F=Ti(o,f,m,R)),Tl(n),F}function Tl(n){Re.H=Bo;var o=Sr!==null&&Sr.next!==null;if(Uo=0,mi=Sr=cr=null,md=!1,jc=0,Cl=null,o)throw Error(i(300));n===null||$i||(n=n.dependencies,n!==null&&pd(n)&&($i=!0))}function Ti(n,o,f,m){cr=n;var R=0;do{if(Rl&&(Cl=null),jc=0,Rl=!1,25<=R)throw Error(i(301));if(R+=1,mi=Sr=null,n.updateQueue!=null){var F=n.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}Re.H=xd,F=o(f,m)}while(Rl);return F}function Eu(){var n=Re.H,o=n.useState()[0];return o=typeof o.then=="function"?Fs(o):o,n=n.useState()[0],(Sr!==null?Sr.memoizedState:null)!==n&&(cr.flags|=1024),o}function Is(){var n=kc!==0;return kc=0,n}function Ps(n,o,f){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~f}function ia(n){if(md){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}md=!1}Uo=0,mi=Sr=cr=null,Rl=!1,jc=kc=0,Cl=null}function Tr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?cr.memoizedState=mi=n:mi=mi.next=n,mi}function si(){if(Sr===null){var n=cr.alternate;n=n!==null?n.memoizedState:null}else n=Sr.next;var o=mi===null?cr.memoizedState:mi.next;if(o!==null)mi=o,Sr=n;else{if(n===null)throw cr.alternate===null?Error(i(467)):Error(i(310));Sr=n,n={memoizedState:Sr.memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},mi===null?cr.memoizedState=mi=n:mi=mi.next=n}return mi}function Ns(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fs(n){var o=jc;return jc+=1,Cl===null&&(Cl=[]),n=Dc(Cl,n,o),o=cr,(mi===null?o.memoizedState:mi.next)===null&&(o=o.alternate,Re.H=o===null||o.memoizedState===null?Yh:lf),n}function Au(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Fs(n);if(n.$$typeof===O)return qi(n)}throw Error(i(438,String(n)))}function Bc(n){var o=null,f=cr.updateQueue;if(f!==null&&(o=f.memoCache),o==null){var m=cr.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(R){return R.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),f===null&&(f=Ns(),cr.updateQueue=f),f.memoCache=o,f=o.data[o.index],f===void 0)for(f=o.data[o.index]=Array(n),m=0;m<n;m++)f[m]=K;return o.index++,f}function Qa(n,o){return typeof o=="function"?o(n):o}function Ol(n){var o=si();return xu(o,Sr,n)}function xu(n,o,f){var m=n.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=f;var R=n.baseQueue,F=m.pending;if(F!==null){if(R!==null){var Z=R.next;R.next=F.next,F.next=Z}o.baseQueue=R=F,m.pending=null}if(F=n.baseState,R===null)n.memoizedState=F;else{o=R.next;var de=Z=null,Ve=null,vt=o,Dt=!1;do{var jt=vt.lane&-536870913;if(jt!==vt.lane?(Or&jt)===jt:(Uo&jt)===jt){var St=vt.revertLane;if(St===0)Ve!==null&&(Ve=Ve.next={lane:0,revertLane:0,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null}),jt===Ja&&(Dt=!0);else if((Uo&St)===St){vt=vt.next,St===Ja&&(Dt=!0);continue}else jt={lane:0,revertLane:vt.revertLane,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},Ve===null?(de=Ve=jt,Z=F):Ve=Ve.next=jt,cr.lanes|=St,Go|=St;jt=vt.action,Ts&&f(F,jt),F=vt.hasEagerState?vt.eagerState:f(F,jt)}else St={lane:jt,revertLane:vt.revertLane,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},Ve===null?(de=Ve=St,Z=F):Ve=Ve.next=St,cr.lanes|=jt,Go|=jt;vt=vt.next}while(vt!==null&&vt!==o);if(Ve===null?Z=F:Ve.next=de,!Hi(F,n.memoizedState)&&($i=!0,Dt&&(f=yl,f!==null)))throw f;n.memoizedState=F,n.baseState=Z,n.baseQueue=Ve,m.lastRenderedState=F}return R===null&&(m.lanes=0),[n.memoizedState,m.dispatch]}function rs(n){var o=si(),f=o.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=n;var m=f.dispatch,R=f.pending,F=o.memoizedState;if(R!==null){f.pending=null;var Z=R=R.next;do F=n(F,Z.action),Z=Z.next;while(Z!==R);Hi(F,o.memoizedState)||($i=!0),o.memoizedState=F,o.baseQueue===null&&(o.baseState=F),f.lastRenderedState=F}return[F,m]}function Hc(n,o,f){var m=cr,R=si(),F=Br;if(F){if(f===void 0)throw Error(i(407));f=f()}else f=o();var Z=!Hi((Sr||R).memoizedState,f);Z&&(R.memoizedState=f,$i=!0),R=R.queue;var de=Ds.bind(null,m,R,n);if(Ms(2048,8,de,[n]),R.getSnapshot!==o||Z||mi!==null&&mi.memoizedState.tag&1){if(m.flags|=2048,is(9,Pl(),$c.bind(null,m,R,f,o),null),li===null)throw Error(i(349));F||(Uo&124)!==0||Vc(m,o,f)}return f}function Vc(n,o,f){n.flags|=16384,n={getSnapshot:o,value:f},o=cr.updateQueue,o===null?(o=Ns(),cr.updateQueue=o,o.stores=[n]):(f=o.stores,f===null?o.stores=[n]:f.push(n))}function $c(n,o,f,m){o.value=f,o.getSnapshot=m,Kc(o)&&Gc(n)}function Ds(n,o,f){return f(function(){Kc(o)&&Gc(n)})}function Kc(n){var o=n.getSnapshot;n=n.value;try{var f=o();return!Hi(n,f)}catch{return!0}}function Gc(n){var o=Oa(n,2);o!==null&&Ji(o,n,2)}function Ru(n){var o=Tr();if(typeof n=="function"){var f=n;if(n=f(),Ts){j(!0);try{f()}finally{j(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:n},o}function ko(n,o,f,m){return n.baseState=f,xu(n,Sr,typeof m=="function"?m:Qa)}function vd(n,o,f,m,R){if(kl(n))throw Error(i(485));if(n=o.action,n!==null){var F={payload:R,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Z){F.listeners.push(Z)}};Re.T!==null?f(!0):F.isTransition=!1,m(F),f=o.pending,f===null?(F.next=o.pending=F,qc(o,F)):(F.next=f.next,o.pending=f.next=F)}}function qc(n,o){var f=o.action,m=o.payload,R=n.state;if(o.isTransition){var F=Re.T,Z={};Re.T=Z;try{var de=f(R,m),Ve=Re.S;Ve!==null&&Ve(Z,de),zc(n,o,de)}catch(vt){Cu(n,o,vt)}finally{Re.T=F}}else try{F=f(R,m),zc(n,o,F)}catch(vt){Cu(n,o,vt)}}function zc(n,o,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){bd(n,o,m)},function(m){return Cu(n,o,m)}):bd(n,o,f)}function bd(n,o,f){o.status="fulfilled",o.value=f,zh(o),n.state=f,o=n.pending,o!==null&&(f=o.next,f===o?n.pending=null:(f=f.next,o.next=f,qc(n,f)))}function Cu(n,o,f){var m=n.pending;if(n.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=f,zh(o),o=o.next;while(o!==m)}n.action=null}function zh(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function Wc(n,o){return o}function Wh(n,o){if(Br){var f=li.formState;if(f!==null){e:{var m=cr;if(Br){if(gi){t:{for(var R=gi,F=mo;R.nodeType!==8;){if(!F){R=null;break t}if(R=fr(R.nextSibling),R===null){R=null;break t}}F=R.data,R=F==="F!"||F==="F"?R:null}if(R){gi=fr(R.nextSibling),m=R.data==="F!";break e}}As(m)}m=!1}m&&(o=f[0])}}return f=Tr(),f.memoizedState=f.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:o},f.queue=m,f=Ul.bind(null,cr,m),m.dispatch=f,m=Ru(!1),F=Ls.bind(null,cr,!1,m.queue),m=Tr(),R={state:o,dispatch:null,action:n,pending:null},m.queue=R,f=vd.bind(null,cr,R,F,f),R.dispatch=f,m.memoizedState=n,[o,f,!1]}function Jc(n){var o=si();return Il(o,Sr,n)}function Il(n,o,f){if(o=xu(n,o,Wc)[0],n=Ol(Qa)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Fs(o)}catch(Z){throw Z===vo?vl:Z}else m=o;o=si();var R=o.queue,F=R.dispatch;return f!==o.memoizedState&&(cr.flags|=2048,is(9,Pl(),Yc.bind(null,R,f),null)),[m,F,n]}function Yc(n,o){n.action=o}function Qc(n){var o=si(),f=Sr;if(f!==null)return Il(o,f,n);si(),o=o.memoizedState,f=si();var m=f.queue.dispatch;return f.memoizedState=n,[o,m,!1]}function is(n,o,f,m){return n={tag:n,create:f,deps:m,inst:o,next:null},o=cr.updateQueue,o===null&&(o=Ns(),cr.updateQueue=o),f=o.lastEffect,f===null?o.lastEffect=n.next=n:(m=f.next,f.next=n,n.next=m,o.lastEffect=n),n}function Pl(){return{destroy:void 0,resource:void 0}}function Tu(){return si().memoizedState}function Nl(n,o,f,m){var R=Tr();m=m===void 0?null:m,cr.flags|=n,R.memoizedState=is(1|o,Pl(),f,m)}function Ms(n,o,f,m){var R=si();m=m===void 0?null:m;var F=R.memoizedState.inst;Sr!==null&&m!==null&&yd(m,Sr.memoizedState.deps)?R.memoizedState=is(o,F,f,m):(cr.flags|=n,R.memoizedState=is(1|o,F,f,m))}function Xc(n,o){Nl(8390656,8,n,o)}function Fl(n,o){Ms(2048,8,n,o)}function Zc(n,o){return Ms(4,2,n,o)}function wd(n,o){return Ms(4,4,n,o)}function Dl(n,o){if(typeof o=="function"){n=n();var f=o(n);return function(){typeof f=="function"?f():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function ef(n,o,f){f=f!=null?f.concat([n]):null,Ms(4,4,Dl.bind(null,o,n),f)}function tf(){}function Ml(n,o){var f=si();o=o===void 0?null:o;var m=f.memoizedState;return o!==null&&yd(o,m[1])?m[0]:(f.memoizedState=[n,o],n)}function nf(n,o){var f=si();o=o===void 0?null:o;var m=f.memoizedState;if(o!==null&&yd(o,m[1]))return m[0];if(m=n(),Ts){j(!0);try{n()}finally{j(!1)}}return f.memoizedState=[m,o],m}function rf(n,o,f){return f===void 0||(Uo&1073741824)!==0?n.memoizedState=o:(n.memoizedState=f,n=zd(),cr.lanes|=n,Go|=n,f)}function _d(n,o,f,m){return Hi(f,o)?f:Su.current!==null?(n=rf(n,f,m),Hi(n,o)||($i=!0),n):(Uo&42)===0?($i=!0,n.memoizedState=f):(n=zd(),cr.lanes|=n,Go|=n,o)}function Jh(n,o,f,m,R){var F=lt.p;lt.p=F!==0&&8>F?F:8;var Z=Re.T,de={};Re.T=de,Ls(n,!1,o,f);try{var Ve=R(),vt=Re.S;if(vt!==null&&vt(de,Ve),Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var Dt=jm(Ve,m);jo(n,o,Dt,sa(n))}else jo(n,o,m,sa(n))}catch(jt){jo(n,o,{then:function(){},status:"rejected",reason:jt},sa())}finally{lt.p=F,Re.T=Z}}function Bm(){}function Sd(n,o,f,m){if(n.tag!==5)throw Error(i(476));var R=af(n).queue;Jh(n,R,o,ge,f===null?Bm:function(){return Ed(n),f(m)})}function af(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:ge},next:null};var f={};return o.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:f},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function Ed(n){var o=af(n).next.queue;jo(n,o,{},sa())}function Ad(){return qi(Vp)}function of(){return si().memoizedState}function Ll(){return si().memoizedState}function Ou(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var f=sa();n=Na(f);var m=Lo(o,n,f);m!==null&&(Ji(m,o,f),ns(m,o,f)),o={cache:Fi()},n.payload=o;return}o=o.return}}function Iu(n,o,f){var m=sa();f={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},kl(n)?jl(o,f):(f=Lh(n,o,f,m),f!==null&&(Ji(f,n,m),sf(f,o,m)))}function Ul(n,o,f){var m=sa();jo(n,o,f,m)}function jo(n,o,f,m){var R={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(kl(n))jl(o,R);else{var F=n.alternate;if(n.lanes===0&&(F===null||F.lanes===0)&&(F=o.lastRenderedReducer,F!==null))try{var Z=o.lastRenderedState,de=F(Z,f);if(R.hasEagerState=!0,R.eagerState=de,Hi(de,Z))return gu(n,o,R,0),li===null&&sd(),!1}catch{}finally{}if(f=Lh(n,o,R,m),f!==null)return Ji(f,n,m),sf(f,o,m),!0}return!1}function Ls(n,o,f,m){if(m={lane:2,revertLane:Np(),action:m,hasEagerState:!1,eagerState:null,next:null},kl(n)){if(o)throw Error(i(479))}else o=Lh(n,f,m,2),o!==null&&Ji(o,n,2)}function kl(n){var o=n.alternate;return n===cr||o!==null&&o===cr}function jl(n,o){Rl=md=!0;var f=n.pending;f===null?o.next=o:(o.next=f.next,f.next=o),n.pending=o}function sf(n,o,f){if((f&4194048)!==0){var m=o.lanes;m&=n.pendingLanes,f|=m,o.lanes=f,tn(n,f)}}var Bo={readContext:qi,use:Au,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useLayoutEffect:yi,useInsertionEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useSyncExternalStore:yi,useId:yi,useHostTransitionStatus:yi,useFormState:yi,useActionState:yi,useOptimistic:yi,useMemoCache:yi,useCacheRefresh:yi},Yh={readContext:qi,use:Au,useCallback:function(n,o){return Tr().memoizedState=[n,o===void 0?null:o],n},useContext:qi,useEffect:Xc,useImperativeHandle:function(n,o,f){f=f!=null?f.concat([n]):null,Nl(4194308,4,Dl.bind(null,o,n),f)},useLayoutEffect:function(n,o){return Nl(4194308,4,n,o)},useInsertionEffect:function(n,o){Nl(4,2,n,o)},useMemo:function(n,o){var f=Tr();o=o===void 0?null:o;var m=n();if(Ts){j(!0);try{n()}finally{j(!1)}}return f.memoizedState=[m,o],m},useReducer:function(n,o,f){var m=Tr();if(f!==void 0){var R=f(o);if(Ts){j(!0);try{f(o)}finally{j(!1)}}}else R=o;return m.memoizedState=m.baseState=R,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:R},m.queue=n,n=n.dispatch=Iu.bind(null,cr,n),[m.memoizedState,n]},useRef:function(n){var o=Tr();return n={current:n},o.memoizedState=n},useState:function(n){n=Ru(n);var o=n.queue,f=Ul.bind(null,cr,o);return o.dispatch=f,[n.memoizedState,f]},useDebugValue:tf,useDeferredValue:function(n,o){var f=Tr();return rf(f,n,o)},useTransition:function(){var n=Ru(!1);return n=Jh.bind(null,cr,n.queue,!0,!1),Tr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,f){var m=cr,R=Tr();if(Br){if(f===void 0)throw Error(i(407));f=f()}else{if(f=o(),li===null)throw Error(i(349));(Or&124)!==0||Vc(m,o,f)}R.memoizedState=f;var F={value:f,getSnapshot:o};return R.queue=F,Xc(Ds.bind(null,m,F,n),[n]),m.flags|=2048,is(9,Pl(),$c.bind(null,m,F,f,o),null),f},useId:function(){var n=Tr(),o=li.identifierPrefix;if(Br){var f=No,m=Po;f=(m&~(1<<32-G(m)-1)).toString(32)+f,o=""+o+"R"+f,f=kc++,0<f&&(o+="H"+f.toString(32)),o+=""}else f=qh++,o=""+o+"r"+f.toString(32)+"";return n.memoizedState=o},useHostTransitionStatus:Ad,useFormState:Wh,useActionState:Wh,useOptimistic:function(n){var o=Tr();o.memoizedState=o.baseState=n;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=f,o=Ls.bind(null,cr,!0,f),f.dispatch=o,[n,o]},useMemoCache:Bc,useCacheRefresh:function(){return Tr().memoizedState=Ou.bind(null,cr)}},lf={readContext:qi,use:Au,useCallback:Ml,useContext:qi,useEffect:Fl,useImperativeHandle:ef,useInsertionEffect:Zc,useLayoutEffect:wd,useMemo:nf,useReducer:Ol,useRef:Tu,useState:function(){return Ol(Qa)},useDebugValue:tf,useDeferredValue:function(n,o){var f=si();return _d(f,Sr.memoizedState,n,o)},useTransition:function(){var n=Ol(Qa)[0],o=si().memoizedState;return[typeof n=="boolean"?n:Fs(n),o]},useSyncExternalStore:Hc,useId:of,useHostTransitionStatus:Ad,useFormState:Jc,useActionState:Jc,useOptimistic:function(n,o){var f=si();return ko(f,Sr,n,o)},useMemoCache:Bc,useCacheRefresh:Ll},xd={readContext:qi,use:Au,useCallback:Ml,useContext:qi,useEffect:Fl,useImperativeHandle:ef,useInsertionEffect:Zc,useLayoutEffect:wd,useMemo:nf,useReducer:rs,useRef:Tu,useState:function(){return rs(Qa)},useDebugValue:tf,useDeferredValue:function(n,o){var f=si();return Sr===null?rf(f,n,o):_d(f,Sr.memoizedState,n,o)},useTransition:function(){var n=rs(Qa)[0],o=si().memoizedState;return[typeof n=="boolean"?n:Fs(n),o]},useSyncExternalStore:Hc,useId:of,useHostTransitionStatus:Ad,useFormState:Qc,useActionState:Qc,useOptimistic:function(n,o){var f=si();return Sr!==null?ko(f,Sr,n,o):(f.baseState=n,[n,f.queue.dispatch])},useMemoCache:Bc,useCacheRefresh:Ll},Xa=null,ma=0;function Us(n){var o=ma;return ma+=1,Xa===null&&(Xa=[]),Dc(Xa,n,o)}function as(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function Bl(n,o){throw o.$$typeof===g?Error(i(525)):(n=Object.prototype.toString.call(o),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function uf(n){var o=n._init;return o(n._payload)}function cf(n){function o(ft,nt){if(n){var gt=ft.deletions;gt===null?(ft.deletions=[nt],ft.flags|=16):gt.push(nt)}}function f(ft,nt){if(!n)return null;for(;nt!==null;)o(ft,nt),nt=nt.sibling;return null}function m(ft){for(var nt=new Map;ft!==null;)ft.key!==null?nt.set(ft.key,ft):nt.set(ft.index,ft),ft=ft.sibling;return nt}function R(ft,nt){return ft=Wa(ft,nt),ft.index=0,ft.sibling=null,ft}function F(ft,nt,gt){return ft.index=gt,n?(gt=ft.alternate,gt!==null?(gt=gt.index,gt<nt?(ft.flags|=67108866,nt):gt):(ft.flags|=67108866,nt)):(ft.flags|=1048576,nt)}function Z(ft){return n&&ft.alternate===null&&(ft.flags|=67108866),ft}function de(ft,nt,gt,Ut){return nt===null||nt.tag!==6?(nt=ci(gt,ft.mode,Ut),nt.return=ft,nt):(nt=R(nt,gt),nt.return=ft,nt)}function Ve(ft,nt,gt,Ut){var En=gt.type;return En===T?Dt(ft,nt,gt.props.children,Ut,gt.key):nt!==null&&(nt.elementType===En||typeof En=="object"&&En!==null&&En.$$typeof===$&&uf(En)===nt.type)?(nt=R(nt,gt.props),as(nt,gt),nt.return=ft,nt):(nt=xc(gt.type,gt.key,gt.props,null,ft.mode,Ut),as(nt,gt),nt.return=ft,nt)}function vt(ft,nt,gt,Ut){return nt===null||nt.tag!==4||nt.stateNode.containerInfo!==gt.containerInfo||nt.stateNode.implementation!==gt.implementation?(nt=Rc(gt,ft.mode,Ut),nt.return=ft,nt):(nt=R(nt,gt.children||[]),nt.return=ft,nt)}function Dt(ft,nt,gt,Ut,En){return nt===null||nt.tag!==7?(nt=fl(gt,ft.mode,Ut,En),nt.return=ft,nt):(nt=R(nt,gt),nt.return=ft,nt)}function jt(ft,nt,gt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return nt=ci(""+nt,ft.mode,gt),nt.return=ft,nt;if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case w:return gt=xc(nt.type,nt.key,nt.props,null,ft.mode,gt),as(gt,nt),gt.return=ft,gt;case _:return nt=Rc(nt,ft.mode,gt),nt.return=ft,nt;case $:var Ut=nt._init;return nt=Ut(nt._payload),jt(ft,nt,gt)}if(it(nt)||pe(nt))return nt=fl(nt,ft.mode,gt,null),nt.return=ft,nt;if(typeof nt.then=="function")return jt(ft,Us(nt),gt);if(nt.$$typeof===O)return jt(ft,Pc(ft,nt),gt);Bl(ft,nt)}return null}function St(ft,nt,gt,Ut){var En=nt!==null?nt.key:null;if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return En!==null?null:de(ft,nt,""+gt,Ut);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case w:return gt.key===En?Ve(ft,nt,gt,Ut):null;case _:return gt.key===En?vt(ft,nt,gt,Ut):null;case $:return En=gt._init,gt=En(gt._payload),St(ft,nt,gt,Ut)}if(it(gt)||pe(gt))return En!==null?null:Dt(ft,nt,gt,Ut,null);if(typeof gt.then=="function")return St(ft,nt,Us(gt),Ut);if(gt.$$typeof===O)return St(ft,nt,Pc(ft,gt),Ut);Bl(ft,gt)}return null}function xt(ft,nt,gt,Ut,En){if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number"||typeof Ut=="bigint")return ft=ft.get(gt)||null,de(nt,ft,""+Ut,En);if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case w:return ft=ft.get(Ut.key===null?gt:Ut.key)||null,Ve(nt,ft,Ut,En);case _:return ft=ft.get(Ut.key===null?gt:Ut.key)||null,vt(nt,ft,Ut,En);case $:var Ir=Ut._init;return Ut=Ir(Ut._payload),xt(ft,nt,gt,Ut,En)}if(it(Ut)||pe(Ut))return ft=ft.get(gt)||null,Dt(nt,ft,Ut,En,null);if(typeof Ut.then=="function")return xt(ft,nt,gt,Us(Ut),En);if(Ut.$$typeof===O)return xt(ft,nt,gt,Pc(nt,Ut),En);Bl(nt,Ut)}return null}function Zn(ft,nt,gt,Ut){for(var En=null,Ir=null,In=nt,Wn=nt=0,Xi=null;In!==null&&Wn<gt.length;Wn++){In.index>Wn?(Xi=In,In=null):Xi=In.sibling;var qr=St(ft,In,gt[Wn],Ut);if(qr===null){In===null&&(In=Xi);break}n&&In&&qr.alternate===null&&o(ft,In),nt=F(qr,nt,Wn),Ir===null?En=qr:Ir.sibling=qr,Ir=qr,In=Xi}if(Wn===gt.length)return f(ft,In),Br&&gl(ft,Wn),En;if(In===null){for(;Wn<gt.length;Wn++)In=jt(ft,gt[Wn],Ut),In!==null&&(nt=F(In,nt,Wn),Ir===null?En=In:Ir.sibling=In,Ir=In);return Br&&gl(ft,Wn),En}for(In=m(In);Wn<gt.length;Wn++)Xi=xt(In,ft,Wn,gt[Wn],Ut),Xi!==null&&(n&&Xi.alternate!==null&&In.delete(Xi.key===null?Wn:Xi.key),nt=F(Xi,nt,Wn),Ir===null?En=Xi:Ir.sibling=Xi,Ir=Xi);return n&&In.forEach(function(nc){return o(ft,nc)}),Br&&gl(ft,Wn),En}function Kn(ft,nt,gt,Ut){if(gt==null)throw Error(i(151));for(var En=null,Ir=null,In=nt,Wn=nt=0,Xi=null,qr=gt.next();In!==null&&!qr.done;Wn++,qr=gt.next()){In.index>Wn?(Xi=In,In=null):Xi=In.sibling;var nc=St(ft,In,qr.value,Ut);if(nc===null){In===null&&(In=Xi);break}n&&In&&nc.alternate===null&&o(ft,In),nt=F(nc,nt,Wn),Ir===null?En=nc:Ir.sibling=nc,Ir=nc,In=Xi}if(qr.done)return f(ft,In),Br&&gl(ft,Wn),En;if(In===null){for(;!qr.done;Wn++,qr=gt.next())qr=jt(ft,qr.value,Ut),qr!==null&&(nt=F(qr,nt,Wn),Ir===null?En=qr:Ir.sibling=qr,Ir=qr);return Br&&gl(ft,Wn),En}for(In=m(In);!qr.done;Wn++,qr=gt.next())qr=xt(In,ft,Wn,qr.value,Ut),qr!==null&&(n&&qr.alternate!==null&&In.delete(qr.key===null?Wn:qr.key),nt=F(qr,nt,Wn),Ir===null?En=qr:Ir.sibling=qr,Ir=qr);return n&&In.forEach(function(DO){return o(ft,DO)}),Br&&gl(ft,Wn),En}function ui(ft,nt,gt,Ut){if(typeof gt=="object"&&gt!==null&&gt.type===T&&gt.key===null&&(gt=gt.props.children),typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case w:e:{for(var En=gt.key;nt!==null;){if(nt.key===En){if(En=gt.type,En===T){if(nt.tag===7){f(ft,nt.sibling),Ut=R(nt,gt.props.children),Ut.return=ft,ft=Ut;break e}}else if(nt.elementType===En||typeof En=="object"&&En!==null&&En.$$typeof===$&&uf(En)===nt.type){f(ft,nt.sibling),Ut=R(nt,gt.props),as(Ut,gt),Ut.return=ft,ft=Ut;break e}f(ft,nt);break}else o(ft,nt);nt=nt.sibling}gt.type===T?(Ut=fl(gt.props.children,ft.mode,Ut,gt.key),Ut.return=ft,ft=Ut):(Ut=xc(gt.type,gt.key,gt.props,null,ft.mode,Ut),as(Ut,gt),Ut.return=ft,ft=Ut)}return Z(ft);case _:e:{for(En=gt.key;nt!==null;){if(nt.key===En)if(nt.tag===4&&nt.stateNode.containerInfo===gt.containerInfo&&nt.stateNode.implementation===gt.implementation){f(ft,nt.sibling),Ut=R(nt,gt.children||[]),Ut.return=ft,ft=Ut;break e}else{f(ft,nt);break}else o(ft,nt);nt=nt.sibling}Ut=Rc(gt,ft.mode,Ut),Ut.return=ft,ft=Ut}return Z(ft);case $:return En=gt._init,gt=En(gt._payload),ui(ft,nt,gt,Ut)}if(it(gt))return Zn(ft,nt,gt,Ut);if(pe(gt)){if(En=pe(gt),typeof En!="function")throw Error(i(150));return gt=En.call(gt),Kn(ft,nt,gt,Ut)}if(typeof gt.then=="function")return ui(ft,nt,Us(gt),Ut);if(gt.$$typeof===O)return ui(ft,nt,Pc(ft,gt),Ut);Bl(ft,gt)}return typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint"?(gt=""+gt,nt!==null&&nt.tag===6?(f(ft,nt.sibling),Ut=R(nt,gt),Ut.return=ft,ft=Ut):(f(ft,nt),Ut=ci(gt,ft.mode,Ut),Ut.return=ft,ft=Ut),Z(ft)):f(ft,nt)}return function(ft,nt,gt,Ut){try{ma=0;var En=ui(ft,nt,gt,Ut);return Xa=null,En}catch(In){if(In===vo||In===vl)throw In;var Ir=Ci(29,In,null,ft.mode);return Ir.lanes=Ut,Ir.return=ft,Ir}finally{}}}var os=cf(!0),Hl=cf(!1),Vi=xe(null),Fa=null;function ya(n){var o=n.alternate;Me(Mi,Mi.current&1),Me(Vi,n),Fa===null&&(o===null||Su.current!==null||o.memoizedState!==null)&&(Fa=n)}function Vl(n){if(n.tag===22){if(Me(Mi,Mi.current),Me(Vi,n),Fa===null){var o=n.alternate;o!==null&&o.memoizedState!==null&&(Fa=n)}}else ks()}function ks(){Me(Mi,Mi.current),Me(Vi,Vi.current)}function ss(n){$e(Vi),Fa===n&&(Fa=null),$e(Mi)}var Mi=xe(0);function Rd(n){for(var o=n;o!==null;){if(o.tag===13){var f=o.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||Yl(f)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Qh(n,o,f,m){o=n.memoizedState,f=f(m,o),f=f==null?o:p({},o,f),n.memoizedState=f,n.lanes===0&&(n.updateQueue.baseState=f)}var Cd={enqueueSetState:function(n,o,f){n=n._reactInternals;var m=sa(),R=Na(m);R.payload=o,f!=null&&(R.callback=f),o=Lo(n,R,m),o!==null&&(Ji(o,n,m),ns(o,n,m))},enqueueReplaceState:function(n,o,f){n=n._reactInternals;var m=sa(),R=Na(m);R.tag=1,R.payload=o,f!=null&&(R.callback=f),o=Lo(n,R,m),o!==null&&(Ji(o,n,m),ns(o,n,m))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var f=sa(),m=Na(f);m.tag=2,o!=null&&(m.callback=o),o=Lo(n,m,f),o!==null&&(Ji(o,n,f),ns(o,n,f))}};function Xh(n,o,f,m,R,F,Z){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(m,F,Z):o.prototype&&o.prototype.isPureReactComponent?!ho(f,m)||!ho(R,F):!0}function Zh(n,o,f,m){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(f,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(f,m),o.state!==n&&Cd.enqueueReplaceState(o,o.state,null)}function Pu(n,o){var f=o;if("ref"in o){f={};for(var m in o)m!=="ref"&&(f[m]=o[m])}if(n=n.defaultProps){f===o&&(f=p({},f));for(var R in n)f[R]===void 0&&(f[R]=n[R])}return f}var Td=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function s0(n){Td(n)}function l0(n){console.error(n)}function u0(n){Td(n)}function ep(n,o){try{var f=n.onUncaughtError;f(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function c0(n,o,f){try{var m=n.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function Hm(n,o,f){return f=Na(f),f.tag=3,f.payload={element:null},f.callback=function(){ep(n,o)},f}function Vm(n){return n=Na(n),n.tag=3,n}function $m(n,o,f,m){var R=f.type.getDerivedStateFromError;if(typeof R=="function"){var F=m.value;n.payload=function(){return R(F)},n.callback=function(){c0(o,f,m)}}var Z=f.stateNode;Z!==null&&typeof Z.componentDidCatch=="function"&&(n.callback=function(){c0(o,f,m),typeof R!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var de=m.stack;this.componentDidCatch(m.value,{componentStack:de!==null?de:""})})}function dS(n,o,f,m,R){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=f.alternate,o!==null&&bu(o,f,R,!0),f=Vi.current,f!==null){switch(f.tag){case 13:return Fa===null?Ep():f.alternate===null&&bi===0&&(bi=3),f.flags&=-257,f.flags|=65536,f.lanes=R,m===Ya?f.flags|=16384:(o=f.updateQueue,o===null?f.updateQueue=new Set([m]):o.add(m),th(n,m,R)),!1;case 22:return f.flags|=65536,m===Ya?f.flags|=16384:(o=f.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=o):(f=o.retryQueue,f===null?o.retryQueue=new Set([m]):f.add(m)),th(n,m,R)),!1}throw Error(i(435,f.tag))}return th(n,m,R),Ep(),!1}if(Br)return o=Vi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=R,m!==cd&&(n=Error(i(422),{cause:m}),Ic(qa(n,f)))):(m!==cd&&(o=Error(i(423),{cause:m}),Ic(qa(o,f))),n=n.current.alternate,n.flags|=65536,R&=-R,n.lanes|=R,m=qa(m,f),R=Hm(n.stateNode,m,R),Sl(n,R),bi!==4&&(bi=2)),!1;var F=Error(i(520),{cause:m});if(F=qa(F,f),_f===null?_f=[F]:_f.push(F),bi!==4&&(bi=2),o===null)return!0;m=qa(m,f),f=o;do{switch(f.tag){case 3:return f.flags|=65536,n=R&-R,f.lanes|=n,n=Hm(f.stateNode,m,n),Sl(f,n),!1;case 1:if(o=f.type,F=f.stateNode,(f.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Hs===null||!Hs.has(F))))return f.flags|=65536,R&=-R,f.lanes|=R,R=Vm(R),$m(R,n,f,m),Sl(f,R),!1}f=f.return}while(f!==null);return!1}var f0=Error(i(461)),$i=!1;function zi(n,o,f,m){o.child=n===null?Hl(o,null,f,m):os(o,n.child,f,m)}function d0(n,o,f,m,R){f=f.render;var F=o.ref;if("ref"in m){var Z={};for(var de in m)de!=="ref"&&(Z[de]=m[de])}else Z=m;return Rs(o),m=Os(n,o,f,Z,F,R),de=Is(),n!==null&&!$i?(Ps(n,o,R),Ho(n,o,R)):(Br&&de&&Oc(o),o.flags|=1,zi(n,o,m,R),o.child)}function Km(n,o,f,m,R){if(n===null){var F=f.type;return typeof F=="function"&&!Ac(F)&&F.defaultProps===void 0&&f.compare===null?(o.tag=15,o.type=F,Da(n,o,F,m,R)):(n=xc(f.type,null,m,o,o.mode,R),n.ref=o.ref,n.return=o,o.child=n)}if(F=n.child,!Mu(n,R)){var Z=F.memoizedProps;if(f=f.compare,f=f!==null?f:ho,f(Z,m)&&n.ref===o.ref)return Ho(n,o,R)}return o.flags|=1,n=Wa(F,m),n.ref=o.ref,n.return=o,o.child=n}function Da(n,o,f,m,R){if(n!==null){var F=n.memoizedProps;if(ho(F,m)&&n.ref===o.ref)if($i=!1,o.pendingProps=m=F,Mu(n,R))(n.flags&131072)!==0&&($i=!0);else return o.lanes=n.lanes,Ho(n,o,R)}return Od(n,o,f,m,R)}function tp(n,o,f){var m=o.pendingProps,R=m.children,F=n!==null?n.memoizedState:null;if(m.mode==="hidden"){if((o.flags&128)!==0){if(m=F!==null?F.baseLanes|f:f,n!==null){for(R=o.child=n.child,F=0;R!==null;)F=F|R.lanes|R.childLanes,R=R.sibling;o.childLanes=F&~m}else o.childLanes=0,o.child=null;return ff(n,o,m,f)}if((f&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&Fc(o,F!==null?F.cachePool:null),F!==null?Al(o,F):xl(),Vl(o);else return o.lanes=o.childLanes=536870912,ff(n,o,F!==null?F.baseLanes|f:f,f)}else F!==null?(Fc(o,F.cachePool),Al(o,F),ks(),o.memoizedState=null):(n!==null&&Fc(o,null),xl(),ks());return zi(n,o,R,f),o.child}function ff(n,o,f,m){var R=Kh();return R=R===null?null:{parent:yn._currentValue,pool:R},o.memoizedState={baseLanes:f,cachePool:R},n!==null&&Fc(o,null),xl(),Vl(o),n!==null&&bu(n,o,m,!0),null}function Nu(n,o){var f=o.ref;if(f===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(i(284));(n===null||n.ref!==f)&&(o.flags|=4194816)}}function Od(n,o,f,m,R){return Rs(o),f=Os(n,o,f,m,void 0,R),m=Is(),n!==null&&!$i?(Ps(n,o,R),Ho(n,o,R)):(Br&&m&&Oc(o),o.flags|=1,zi(n,o,f,R),o.child)}function np(n,o,f,m,R,F){return Rs(o),o.updateQueue=null,f=Ti(o,m,f,R),Tl(n),m=Is(),n!==null&&!$i?(Ps(n,o,F),Ho(n,o,F)):(Br&&m&&Oc(o),o.flags|=1,zi(n,o,f,F),o.child)}function Id(n,o,f,m,R){if(Rs(o),o.stateNode===null){var F=mu,Z=f.contextType;typeof Z=="object"&&Z!==null&&(F=qi(Z)),F=new f(m,F),o.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=Cd,o.stateNode=F,F._reactInternals=o,F=o.stateNode,F.props=m,F.state=o.memoizedState,F.refs={},bo(o),Z=f.contextType,F.context=typeof Z=="object"&&Z!==null?qi(Z):mu,F.state=o.memoizedState,Z=f.getDerivedStateFromProps,typeof Z=="function"&&(Qh(o,f,Z,m),F.state=o.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(Z=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),Z!==F.state&&Cd.enqueueReplaceState(F,F.state,null),Dn(o,m,F,R),Di(),F.state=o.memoizedState),typeof F.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(n===null){F=o.stateNode;var de=o.memoizedProps,Ve=Pu(f,de);F.props=Ve;var vt=F.context,Dt=f.contextType;Z=mu,typeof Dt=="object"&&Dt!==null&&(Z=qi(Dt));var jt=f.getDerivedStateFromProps;Dt=typeof jt=="function"||typeof F.getSnapshotBeforeUpdate=="function",de=o.pendingProps!==de,Dt||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(de||vt!==Z)&&Zh(o,F,m,Z),Mo=!1;var St=o.memoizedState;F.state=St,Dn(o,m,F,R),Di(),vt=o.memoizedState,de||St!==vt||Mo?(typeof jt=="function"&&(Qh(o,f,jt,m),vt=o.memoizedState),(Ve=Mo||Xh(o,f,Ve,m,St,vt,Z))?(Dt||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(o.flags|=4194308)):(typeof F.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=vt),F.props=m,F.state=vt,F.context=Z,m=Ve):(typeof F.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{F=o.stateNode,_l(n,o),Z=o.memoizedProps,Dt=Pu(f,Z),F.props=Dt,jt=o.pendingProps,St=F.context,vt=f.contextType,Ve=mu,typeof vt=="object"&&vt!==null&&(Ve=qi(vt)),de=f.getDerivedStateFromProps,(vt=typeof de=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Z!==jt||St!==Ve)&&Zh(o,F,m,Ve),Mo=!1,St=o.memoizedState,F.state=St,Dn(o,m,F,R),Di();var xt=o.memoizedState;Z!==jt||St!==xt||Mo||n!==null&&n.dependencies!==null&&pd(n.dependencies)?(typeof de=="function"&&(Qh(o,f,de,m),xt=o.memoizedState),(Dt=Mo||Xh(o,f,Dt,m,St,xt,Ve)||n!==null&&n.dependencies!==null&&pd(n.dependencies))?(vt||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(m,xt,Ve),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(m,xt,Ve)),typeof F.componentDidUpdate=="function"&&(o.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof F.componentDidUpdate!="function"||Z===n.memoizedProps&&St===n.memoizedState||(o.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Z===n.memoizedProps&&St===n.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=xt),F.props=m,F.state=xt,F.context=Ve,m=Dt):(typeof F.componentDidUpdate!="function"||Z===n.memoizedProps&&St===n.memoizedState||(o.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Z===n.memoizedProps&&St===n.memoizedState||(o.flags|=1024),m=!1)}return F=m,Nu(n,o),m=(o.flags&128)!==0,F||m?(F=o.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:F.render(),o.flags|=1,n!==null&&m?(o.child=os(o,n.child,null,R),o.child=os(o,null,f,R)):zi(n,o,f,R),o.memoizedState=F.state,n=o.child):n=Ho(n,o,R),n}function rp(n,o,f,m){return vu(),o.flags|=256,zi(n,o,f,m),o.child}var Fu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function df(n){return{baseLanes:n,cachePool:Gh()}}function Pd(n,o,f){return n=n!==null?n.childLanes&~f:0,o&&(n|=ba),n}function ip(n,o,f){var m=o.pendingProps,R=!1,F=(o.flags&128)!==0,Z;if((Z=F)||(Z=n!==null&&n.memoizedState===null?!1:(Mi.current&2)!==0),Z&&(R=!0,o.flags&=-129),Z=(o.flags&32)!==0,o.flags&=-33,n===null){if(Br){if(R?ya(o):ks(),Br){var de=gi,Ve;if(Ve=de){e:{for(Ve=de,de=mo;Ve.nodeType!==8;){if(!de){de=null;break e}if(Ve=fr(Ve.nextSibling),Ve===null){de=null;break e}}de=Ve}de!==null?(o.memoizedState={dehydrated:de,treeContext:pl!==null?{id:Po,overflow:No}:null,retryLane:536870912,hydrationErrors:null},Ve=Ci(18,null,null,0),Ve.stateNode=de,Ve.return=o,o.child=Ve,Gi=o,gi=null,Ve=!0):Ve=!1}Ve||As(o)}if(de=o.memoizedState,de!==null&&(de=de.dehydrated,de!==null))return Yl(de)?o.lanes=32:o.lanes=536870912,null;ss(o)}return de=m.children,m=m.fallback,R?(ks(),R=o.mode,de=Du({mode:"hidden",children:de},R),m=fl(m,R,f,null),de.return=o,m.return=o,de.sibling=m,o.child=de,R=o.child,R.memoizedState=df(f),R.childLanes=Pd(n,Z,f),o.memoizedState=Fu,m):(ya(o),Nd(o,de))}if(Ve=n.memoizedState,Ve!==null&&(de=Ve.dehydrated,de!==null)){if(F)o.flags&256?(ya(o),o.flags&=-257,o=Fd(n,o,f)):o.memoizedState!==null?(ks(),o.child=n.child,o.flags|=128,o=null):(ks(),R=m.fallback,de=o.mode,m=Du({mode:"visible",children:m.children},de),R=fl(R,de,f,null),R.flags|=2,m.return=o,R.return=o,m.sibling=R,o.child=m,os(o,n.child,null,f),m=o.child,m.memoizedState=df(f),m.childLanes=Pd(n,Z,f),o.memoizedState=Fu,o=R);else if(ya(o),Yl(de)){if(Z=de.nextSibling&&de.nextSibling.dataset,Z)var vt=Z.dgst;Z=vt,m=Error(i(419)),m.stack="",m.digest=Z,Ic({value:m,source:null,stack:null}),o=Fd(n,o,f)}else if($i||bu(n,o,f,!1),Z=(f&n.childLanes)!==0,$i||Z){if(Z=li,Z!==null&&(m=f&-f,m=(m&42)!==0?1:Ht(m),m=(m&(Z.suspendedLanes|f))!==0?0:m,m!==0&&m!==Ve.retryLane))throw Ve.retryLane=m,Oa(n,m),Ji(Z,n,m),f0;de.data==="$?"||Ep(),o=Fd(n,o,f)}else de.data==="$?"?(o.flags|=192,o.child=n.child,o=null):(n=Ve.treeContext,gi=fr(de.nextSibling),Gi=o,Br=!0,Es=null,mo=!1,n!==null&&(Ia[Pa++]=Po,Ia[Pa++]=No,Ia[Pa++]=pl,Po=n.id,No=n.overflow,pl=o),o=Nd(o,m.children),o.flags|=4096);return o}return R?(ks(),R=m.fallback,de=o.mode,Ve=n.child,vt=Ve.sibling,m=Wa(Ve,{mode:"hidden",children:m.children}),m.subtreeFlags=Ve.subtreeFlags&65011712,vt!==null?R=Wa(vt,R):(R=fl(R,de,f,null),R.flags|=2),R.return=o,m.return=o,m.sibling=R,o.child=m,m=R,R=o.child,de=n.child.memoizedState,de===null?de=df(f):(Ve=de.cachePool,Ve!==null?(vt=yn._currentValue,Ve=Ve.parent!==vt?{parent:vt,pool:vt}:Ve):Ve=Gh(),de={baseLanes:de.baseLanes|f,cachePool:Ve}),R.memoizedState=de,R.childLanes=Pd(n,Z,f),o.memoizedState=Fu,m):(ya(o),f=n.child,n=f.sibling,f=Wa(f,{mode:"visible",children:m.children}),f.return=o,f.sibling=null,n!==null&&(Z=o.deletions,Z===null?(o.deletions=[n],o.flags|=16):Z.push(n)),o.child=f,o.memoizedState=null,f)}function Nd(n,o){return o=Du({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function Du(n,o){return n=Ci(22,n,null,o),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Fd(n,o,f){return os(o,n.child,null,f),n=Nd(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function ap(n,o,f){n.lanes|=o;var m=n.alternate;m!==null&&(m.lanes|=o),hd(n.return,o,f)}function Dd(n,o,f,m,R){var F=n.memoizedState;F===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:R}:(F.isBackwards=o,F.rendering=null,F.renderingStartTime=0,F.last=m,F.tail=f,F.tailMode=R)}function op(n,o,f){var m=o.pendingProps,R=m.revealOrder,F=m.tail;if(zi(n,o,m.children,f),m=Mi.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ap(n,f,o);else if(n.tag===19)ap(n,f,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}m&=1}switch(Me(Mi,m),R){case"forwards":for(f=o.child,R=null;f!==null;)n=f.alternate,n!==null&&Rd(n)===null&&(R=f),f=f.sibling;f=R,f===null?(R=o.child,o.child=null):(R=f.sibling,f.sibling=null),Dd(o,!1,R,f,F);break;case"backwards":for(f=null,R=o.child,o.child=null;R!==null;){if(n=R.alternate,n!==null&&Rd(n)===null){o.child=R;break}n=R.sibling,R.sibling=f,f=R,R=n}Dd(o,!0,f,null,F);break;case"together":Dd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ho(n,o,f){if(n!==null&&(o.dependencies=n.dependencies),Go|=o.lanes,(f&o.childLanes)===0)if(n!==null){if(bu(n,o,f,!1),(f&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(i(153));if(o.child!==null){for(n=o.child,f=Wa(n,n.pendingProps),o.child=f,f.return=o;n.sibling!==null;)n=n.sibling,f=f.sibling=Wa(n,n.pendingProps),f.return=o;f.sibling=null}return o.child}function Mu(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&pd(n)))}function Gm(n,o,f){switch(o.tag){case 3:ce(o,o.stateNode.containerInfo),xs(o,yn,n.memoizedState.cache),vu();break;case 27:case 5:Ye(o);break;case 4:ce(o,o.stateNode.containerInfo);break;case 10:xs(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(ya(o),o.flags|=128,null):(f&o.child.childLanes)!==0?ip(n,o,f):(ya(o),n=Ho(n,o,f),n!==null?n.sibling:null);ya(o);break;case 19:var R=(n.flags&128)!==0;if(m=(f&o.childLanes)!==0,m||(bu(n,o,f,!1),m=(f&o.childLanes)!==0),R){if(m)return op(n,o,f);o.flags|=128}if(R=o.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Me(Mi,Mi.current),m)break;return null;case 22:case 23:return o.lanes=0,tp(n,o,f);case 24:xs(o,yn,n.memoizedState.cache)}return Ho(n,o,f)}function sp(n,o,f){if(n!==null)if(n.memoizedProps!==o.pendingProps)$i=!0;else{if(!Mu(n,f)&&(o.flags&128)===0)return $i=!1,Gm(n,o,f);$i=(n.flags&131072)!==0}else $i=!1,Br&&(o.flags&1048576)!==0&&kh(o,Tc,o.index);switch(o.lanes=0,o.tag){case 16:e:{n=o.pendingProps;var m=o.elementType,R=m._init;if(m=R(m._payload),o.type=m,typeof m=="function")Ac(m)?(n=Pu(m,n),o.tag=1,o=Id(null,o,m,n,f)):(o.tag=0,o=Od(null,o,m,n,f));else{if(m!=null){if(R=m.$$typeof,R===H){o.tag=11,o=d0(null,o,m,n,f);break e}else if(R===W){o.tag=14,o=Km(null,o,m,n,f);break e}}throw o=Ze(m)||m,Error(i(306,o,""))}}return o;case 0:return Od(n,o,o.type,o.pendingProps,f);case 1:return m=o.type,R=Pu(m,o.pendingProps),Id(n,o,m,R,f);case 3:e:{if(ce(o,o.stateNode.containerInfo),n===null)throw Error(i(387));m=o.pendingProps;var F=o.memoizedState;R=F.element,_l(n,o),Dn(o,m,null,f);var Z=o.memoizedState;if(m=Z.cache,xs(o,yn,m),m!==F.cache&&Bh(o,[yn],f,!0),Di(),m=Z.element,F.isDehydrated)if(F={element:m,isDehydrated:!1,cache:Z.cache},o.updateQueue.baseState=F,o.memoizedState=F,o.flags&256){o=rp(n,o,m,f);break e}else if(m!==R){R=qa(Error(i(424)),o),Ic(R),o=rp(n,o,m,f);break e}else{switch(n=o.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(gi=fr(n.firstChild),Gi=o,Br=!0,Es=null,mo=!0,f=Hl(o,null,m,f),o.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(vu(),m===R){o=Ho(n,o,f);break e}zi(n,o,m,f)}o=o.child}return o;case 26:return Nu(n,o),n===null?(f=yS(o.type,null,o.pendingProps,null))?o.memoizedState=f:Br||(f=o.type,n=o.pendingProps,m=Kt(Pt.current).createElement(f),m[Ft]=o,m[Zt]=n,He(m,f,n),Gt(m),o.stateNode=m):o.memoizedState=yS(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return Ye(o),n===null&&Br&&(m=o.stateNode=pS(o.type,o.pendingProps,Pt.current),Gi=o,mo=!0,R=gi,Qi(o.type)?(ds=R,gi=fr(m.firstChild)):gi=R),zi(n,o,o.pendingProps.children,f),Nu(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&Br&&((R=m=gi)&&(m=Nf(m,o.type,o.pendingProps,mo),m!==null?(o.stateNode=m,Gi=o,gi=fr(m.firstChild),mo=!1,R=!0):R=!1),R||As(o)),Ye(o),R=o.type,F=o.pendingProps,Z=n!==null?n.memoizedProps:null,m=F.children,gr(R,F)?m=null:Z!==null&&gr(R,Z)&&(o.flags|=32),o.memoizedState!==null&&(R=Os(n,o,Eu,null,null,f),Vp._currentValue=R),Nu(n,o),zi(n,o,m,f),o.child;case 6:return n===null&&Br&&((n=f=gi)&&(f=Ff(f,o.pendingProps,mo),f!==null?(o.stateNode=f,Gi=o,gi=null,n=!0):n=!1),n||As(o)),null;case 13:return ip(n,o,f);case 4:return ce(o,o.stateNode.containerInfo),m=o.pendingProps,n===null?o.child=os(o,null,m,f):zi(n,o,m,f),o.child;case 11:return d0(n,o,o.type,o.pendingProps,f);case 7:return zi(n,o,o.pendingProps,f),o.child;case 8:return zi(n,o,o.pendingProps.children,f),o.child;case 12:return zi(n,o,o.pendingProps.children,f),o.child;case 10:return m=o.pendingProps,xs(o,o.type,m.value),zi(n,o,m.children,f),o.child;case 9:return R=o.type._context,m=o.pendingProps.children,Rs(o),R=qi(R),m=m(R),o.flags|=1,zi(n,o,m,f),o.child;case 14:return Km(n,o,o.type,o.pendingProps,f);case 15:return Da(n,o,o.type,o.pendingProps,f);case 19:return op(n,o,f);case 31:return m=o.pendingProps,f=o.mode,m={mode:m.mode,children:m.children},n===null?(f=Du(m,f),f.ref=o.ref,o.child=f,f.return=o,o=f):(f=Wa(n.child,m),f.ref=o.ref,o.child=f,f.return=o,o=f),o;case 22:return tp(n,o,f);case 24:return Rs(o),m=qi(yn),n===null?(R=Kh(),R===null&&(R=li,F=Fi(),R.pooledCache=F,F.refCount++,F!==null&&(R.pooledCacheLanes|=f),R=F),o.memoizedState={parent:m,cache:R},bo(o),xs(o,yn,R)):((n.lanes&f)!==0&&(_l(n,o),Dn(o,null,null,f),Di()),R=n.memoizedState,F=o.memoizedState,R.parent!==m?(R={parent:m,cache:m},o.memoizedState=R,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=R),xs(o,yn,m)):(m=F.cache,xs(o,yn,m),m!==R.cache&&Bh(o,[yn],f,!0))),zi(n,o,o.pendingProps.children,f),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Vo(n){n.flags|=4}function hf(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!SS(o)){if(o=Vi.current,o!==null&&((Or&4194048)===Or?Fa!==null:(Or&62914560)!==Or&&(Or&536870912)===0||o!==Fa))throw Do=Ya,_u;n.flags|=8192}}function pf(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?dt():536870912,n.lanes|=o,ql|=o)}function Lu(n,o){if(!Br)switch(n.tailMode){case"hidden":o=n.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?n.tail=null:f.sibling=null;break;case"collapsed":f=n.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:m.sibling=null}}function di(n){var o=n.alternate!==null&&n.alternate.child===n.child,f=0,m=0;if(o)for(var R=n.child;R!==null;)f|=R.lanes|R.childLanes,m|=R.subtreeFlags&65011712,m|=R.flags&65011712,R.return=n,R=R.sibling;else for(R=n.child;R!==null;)f|=R.lanes|R.childLanes,m|=R.subtreeFlags,m|=R.flags,R.return=n,R=R.sibling;return n.subtreeFlags|=m,n.childLanes=f,o}function Md(n,o,f){var m=o.pendingProps;switch(ud(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return di(o),null;case 1:return di(o),null;case 3:return f=o.stateNode,m=null,n!==null&&(m=n.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),es(yn),Ie(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(n===null||n.child===null)&&(yu(o)?Vo(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,jh())),di(o),null;case 26:return f=o.memoizedState,n===null?(Vo(o),f!==null?(di(o),hf(o,f)):(di(o),o.flags&=-16777217)):f?f!==n.memoizedState?(Vo(o),di(o),hf(o,f)):(di(o),o.flags&=-16777217):(n.memoizedProps!==m&&Vo(o),di(o),o.flags&=-16777217),null;case 27:se(o),f=Pt.current;var R=o.type;if(n!==null&&o.stateNode!=null)n.memoizedProps!==m&&Vo(o);else{if(!m){if(o.stateNode===null)throw Error(i(166));return di(o),null}n=at.current,yu(o)?Lm(o):(n=pS(R,m,f),o.stateNode=n,Vo(o))}return di(o),null;case 5:if(se(o),f=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==m&&Vo(o);else{if(!m){if(o.stateNode===null)throw Error(i(166));return di(o),null}if(n=at.current,yu(o))Lm(o);else{switch(R=Kt(Pt.current),n){case 1:n=R.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:n=R.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":n=R.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":n=R.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":n=R.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof m.is=="string"?R.createElement("select",{is:m.is}):R.createElement("select"),m.multiple?n.multiple=!0:m.size&&(n.size=m.size);break;default:n=typeof m.is=="string"?R.createElement(f,{is:m.is}):R.createElement(f)}}n[Ft]=o,n[Zt]=m;e:for(R=o.child;R!==null;){if(R.tag===5||R.tag===6)n.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===o)break e;for(;R.sibling===null;){if(R.return===null||R.return===o)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}o.stateNode=n;e:switch(He(n,f,m),f){case"button":case"input":case"select":case"textarea":n=!!m.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Vo(o)}}return di(o),o.flags&=-16777217,null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==m&&Vo(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(i(166));if(n=Pt.current,yu(o)){if(n=o.stateNode,f=o.memoizedProps,m=null,R=Gi,R!==null)switch(R.tag){case 27:case 5:m=R.memoizedProps}n[Ft]=o,n=!!(n.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||U(n.nodeValue,f)),n||As(o)}else n=Kt(n).createTextNode(m),n[Ft]=o,o.stateNode=n}return di(o),null;case 13:if(m=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(R=yu(o),m!==null&&m.dehydrated!==null){if(n===null){if(!R)throw Error(i(318));if(R=o.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(i(317));R[Ft]=o}else vu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;di(o),R=!1}else R=jh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=R),R=!0;if(!R)return o.flags&256?(ss(o),o):(ss(o),null)}if(ss(o),(o.flags&128)!==0)return o.lanes=f,o;if(f=m!==null,n=n!==null&&n.memoizedState!==null,f){m=o.child,R=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(R=m.alternate.memoizedState.cachePool.pool);var F=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(F=m.memoizedState.cachePool.pool),F!==R&&(m.flags|=2048)}return f!==n&&f&&(o.child.flags|=8192),pf(o,o.updateQueue),di(o),null;case 4:return Ie(),n===null&&Lp(o.stateNode.containerInfo),di(o),null;case 10:return es(o.type),di(o),null;case 19:if($e(Mi),R=o.memoizedState,R===null)return di(o),null;if(m=(o.flags&128)!==0,F=R.rendering,F===null)if(m)Lu(R,!1);else{if(bi!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(F=Rd(n),F!==null){for(o.flags|=128,Lu(R,!1),n=F.updateQueue,o.updateQueue=n,pf(o,n),o.subtreeFlags=0,n=f,f=o.child;f!==null;)Uh(f,n),f=f.sibling;return Me(Mi,Mi.current&1|2),o.child}n=n.sibling}R.tail!==null&&Ne()>cs&&(o.flags|=128,m=!0,Lu(R,!1),o.lanes=4194304)}else{if(!m)if(n=Rd(F),n!==null){if(o.flags|=128,m=!0,n=n.updateQueue,o.updateQueue=n,pf(o,n),Lu(R,!0),R.tail===null&&R.tailMode==="hidden"&&!F.alternate&&!Br)return di(o),null}else 2*Ne()-R.renderingStartTime>cs&&f!==536870912&&(o.flags|=128,m=!0,Lu(R,!1),o.lanes=4194304);R.isBackwards?(F.sibling=o.child,o.child=F):(n=R.last,n!==null?n.sibling=F:o.child=F,R.last=F)}return R.tail!==null?(o=R.tail,R.rendering=o,R.tail=o.sibling,R.renderingStartTime=Ne(),o.sibling=null,n=Mi.current,Me(Mi,m?n&1|2:n&1),o):(di(o),null);case 22:case 23:return ss(o),Uc(),m=o.memoizedState!==null,n!==null?n.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(f&536870912)!==0&&(o.flags&128)===0&&(di(o),o.subtreeFlags&6&&(o.flags|=8192)):di(o),f=o.updateQueue,f!==null&&pf(o,f.retryQueue),f=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(f=n.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048),n!==null&&$e(ts),null;case 24:return f=null,n!==null&&(f=n.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),es(yn),di(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function qm(n,o){switch(ud(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return es(yn),Ie(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return se(o),null;case 13:if(ss(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(i(340));vu()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return $e(Mi),null;case 4:return Ie(),null;case 10:return es(o.type),null;case 22:case 23:return ss(o),Uc(),n!==null&&$e(ts),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return es(yn),null;case 25:return null;default:return null}}function lp(n,o){switch(ud(o),o.tag){case 3:es(yn),Ie();break;case 26:case 27:case 5:se(o);break;case 4:Ie();break;case 13:ss(o);break;case 19:$e(Mi);break;case 10:es(o.type);break;case 22:case 23:ss(o),Uc(),n!==null&&$e(ts);break;case 24:es(yn)}}function Uu(n,o){try{var f=o.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var R=m.next;f=R;do{if((f.tag&n)===n){m=void 0;var F=f.create,Z=f.inst;m=F(),Z.destroy=m}f=f.next}while(f!==R)}}catch(de){ti(o,o.return,de)}}function wo(n,o,f){try{var m=o.updateQueue,R=m!==null?m.lastEffect:null;if(R!==null){var F=R.next;m=F;do{if((m.tag&n)===n){var Z=m.inst,de=Z.destroy;if(de!==void 0){Z.destroy=void 0,R=o;var Ve=f,vt=de;try{vt()}catch(Dt){ti(R,Ve,Dt)}}}m=m.next}while(m!==F)}}catch(Dt){ti(o,o.return,Dt)}}function up(n){var o=n.updateQueue;if(o!==null){var f=n.stateNode;try{El(o,f)}catch(m){ti(n,n.return,m)}}}function gf(n,o,f){f.props=Pu(n.type,n.memoizedProps),f.state=n.memoizedState;try{f.componentWillUnmount()}catch(m){ti(n,o,m)}}function ku(n,o){try{var f=n.ref;if(f!==null){switch(n.tag){case 26:case 27:case 5:var m=n.stateNode;break;case 30:m=n.stateNode;break;default:m=n.stateNode}typeof f=="function"?n.refCleanup=f(m):f.current=m}}catch(R){ti(n,o,R)}}function Za(n,o){var f=n.ref,m=n.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(R){ti(n,o,R)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(R){ti(n,o,R)}else f.current=null}function cp(n){var o=n.type,f=n.memoizedProps,m=n.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(R){ti(n,n.return,R)}}function Ld(n,o,f){try{var m=n.stateNode;Ge(m,n.type,f,o),m[Zt]=o}catch(R){ti(n,n.return,R)}}function fp(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Qi(n.type)||n.tag===4}function Ud(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||fp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Qi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function kd(n,o,f){var m=n.tag;if(m===5||m===6)n=n.stateNode,o?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(n,o):(o=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,o.appendChild(n),f=f._reactRootContainer,f!=null||o.onclick!==null||(o.onclick=J));else if(m!==4&&(m===27&&Qi(n.type)&&(f=n.stateNode,o=null),n=n.child,n!==null))for(kd(n,o,f),n=n.sibling;n!==null;)kd(n,o,f),n=n.sibling}function ls(n,o,f){var m=n.tag;if(m===5||m===6)n=n.stateNode,o?f.insertBefore(n,o):f.appendChild(n);else if(m!==4&&(m===27&&Qi(n.type)&&(f=n.stateNode),n=n.child,n!==null))for(ls(n,o,f),n=n.sibling;n!==null;)ls(n,o,f),n=n.sibling}function dp(n){var o=n.stateNode,f=n.memoizedProps;try{for(var m=n.type,R=o.attributes;R.length;)o.removeAttributeNode(R[0]);He(o,m,f),o[Ft]=n,o[Zt]=f}catch(F){ti(n,n.return,F)}}var $o=!1,vi=!1,mf=!1,jd=typeof WeakSet=="function"?WeakSet:Set,Oi=null;function zm(n,o){if(n=n.containerInfo,tt=yy,n=Ga(n),Nh(n)){if("selectionStart"in n)var f={start:n.selectionStart,end:n.selectionEnd};else e:{f=(f=n.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var R=m.anchorOffset,F=m.focusNode;m=m.focusOffset;try{f.nodeType,F.nodeType}catch{f=null;break e}var Z=0,de=-1,Ve=-1,vt=0,Dt=0,jt=n,St=null;t:for(;;){for(var xt;jt!==f||R!==0&&jt.nodeType!==3||(de=Z+R),jt!==F||m!==0&&jt.nodeType!==3||(Ve=Z+m),jt.nodeType===3&&(Z+=jt.nodeValue.length),(xt=jt.firstChild)!==null;)St=jt,jt=xt;for(;;){if(jt===n)break t;if(St===f&&++vt===R&&(de=Z),St===F&&++Dt===m&&(Ve=Z),(xt=jt.nextSibling)!==null)break;jt=St,St=jt.parentNode}jt=xt}f=de===-1||Ve===-1?null:{start:de,end:Ve}}else f=null}f=f||{start:0,end:0}}else f=null;for(kt={focusedElem:n,selectionRange:f},yy=!1,Oi=o;Oi!==null;)if(o=Oi,n=o.child,(o.subtreeFlags&1024)!==0&&n!==null)n.return=o,Oi=n;else for(;Oi!==null;){switch(o=Oi,F=o.alternate,n=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&F!==null){n=void 0,f=o,R=F.memoizedProps,F=F.memoizedState,m=f.stateNode;try{var Zn=Pu(f.type,R,f.elementType===f.type);n=m.getSnapshotBeforeUpdate(Zn,F),m.__reactInternalSnapshotBeforeUpdate=n}catch(Kn){ti(f,f.return,Kn)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,f=n.nodeType,f===9)Ao(n);else if(f===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Ao(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=o.sibling,n!==null){n.return=o.return,Oi=n;break}Oi=o.return}}function Bd(n,o,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:$l(n,f),m&4&&Uu(5,f);break;case 1:if($l(n,f),m&4)if(n=f.stateNode,o===null)try{n.componentDidMount()}catch(Z){ti(f,f.return,Z)}else{var R=Pu(f.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(R,o,n.__reactInternalSnapshotBeforeUpdate)}catch(Z){ti(f,f.return,Z)}}m&64&&up(f),m&512&&ku(f,f.return);break;case 3:if($l(n,f),m&64&&(n=f.updateQueue,n!==null)){if(o=null,f.child!==null)switch(f.child.tag){case 27:case 5:o=f.child.stateNode;break;case 1:o=f.child.stateNode}try{El(n,o)}catch(Z){ti(f,f.return,Z)}}break;case 27:o===null&&m&4&&dp(f);case 26:case 5:$l(n,f),o===null&&m&4&&cp(f),m&512&&ku(f,f.return);break;case 12:$l(n,f);break;case 13:$l(n,f),m&4&&pp(n,f),m&64&&(n=f.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(f=ry.bind(null,f),On(n,f))));break;case 22:if(m=f.memoizedState!==null||$o,!m){o=o!==null&&o.memoizedState!==null||vi,R=$o;var F=vi;$o=m,(vi=o)&&!F?Kl(n,f,(f.subtreeFlags&8772)!==0):$l(n,f),$o=R,vi=F}break;case 30:break;default:$l(n,f)}}function Hd(n){var o=n.alternate;o!==null&&(n.alternate=null,Hd(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&Un(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var fi=null,Wi=!1;function _o(n,o,f){for(f=f.child;f!==null;)hp(n,o,f),f=f.sibling}function hp(n,o,f){if(Q&&typeof Q.onCommitFiberUnmount=="function")try{Q.onCommitFiberUnmount(et,f)}catch{}switch(f.tag){case 26:vi||Za(f,o),_o(n,o,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:vi||Za(f,o);var m=fi,R=Wi;Qi(f.type)&&(fi=f.stateNode,Wi=!1),_o(n,o,f),kp(f.stateNode),fi=m,Wi=R;break;case 5:vi||Za(f,o);case 6:if(m=fi,R=Wi,fi=null,_o(n,o,f),fi=m,Wi=R,fi!==null)if(Wi)try{(fi.nodeType===9?fi.body:fi.nodeName==="HTML"?fi.ownerDocument.body:fi).removeChild(f.stateNode)}catch(F){ti(f,o,F)}else try{fi.removeChild(f.stateNode)}catch(F){ti(f,o,F)}break;case 18:fi!==null&&(Wi?(n=fi,$s(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,f.stateNode),qp(n)):$s(fi,f.stateNode));break;case 4:m=fi,R=Wi,fi=f.stateNode.containerInfo,Wi=!0,_o(n,o,f),fi=m,Wi=R;break;case 0:case 11:case 14:case 15:vi||wo(2,f,o),vi||wo(4,f,o),_o(n,o,f);break;case 1:vi||(Za(f,o),m=f.stateNode,typeof m.componentWillUnmount=="function"&&gf(f,o,m)),_o(n,o,f);break;case 21:_o(n,o,f);break;case 22:vi=(m=vi)||f.memoizedState!==null,_o(n,o,f),vi=m;break;default:_o(n,o,f)}}function pp(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{qp(n)}catch(f){ti(o,o.return,f)}}function h0(n){switch(n.tag){case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new jd),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new jd),o;default:throw Error(i(435,n.tag))}}function Vd(n,o){var f=h0(n);o.forEach(function(m){var R=m0.bind(null,n,m);f.has(m)||(f.add(m),m.then(R,R))})}function va(n,o){var f=o.deletions;if(f!==null)for(var m=0;m<f.length;m++){var R=f[m],F=n,Z=o,de=Z;e:for(;de!==null;){switch(de.tag){case 27:if(Qi(de.type)){fi=de.stateNode,Wi=!1;break e}break;case 5:fi=de.stateNode,Wi=!1;break e;case 3:case 4:fi=de.stateNode.containerInfo,Wi=!0;break e}de=de.return}if(fi===null)throw Error(i(160));hp(F,Z,R),fi=null,Wi=!1,F=R.alternate,F!==null&&(F.return=null),R.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)gp(o,n),o=o.sibling}var eo=null;function gp(n,o){var f=n.alternate,m=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:va(o,n),Ma(n),m&4&&(wo(3,n,n.return),Uu(3,n),wo(5,n,n.return));break;case 1:va(o,n),Ma(n),m&512&&(vi||f===null||Za(f,f.return)),m&64&&$o&&(n=n.updateQueue,n!==null&&(m=n.callbacks,m!==null&&(f=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var R=eo;if(va(o,n),Ma(n),m&512&&(vi||f===null||Za(f,f.return)),m&4){var F=f!==null?f.memoizedState:null;if(m=n.memoizedState,f===null)if(m===null)if(n.stateNode===null){e:{m=n.type,f=n.memoizedProps,R=R.ownerDocument||R;t:switch(m){case"title":F=R.getElementsByTagName("title")[0],(!F||F[on]||F[Ft]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=R.createElement(m),R.head.insertBefore(F,R.querySelector("head > title"))),He(F,m,f),F[Ft]=n,Gt(F),m=F;break e;case"link":var Z=wS("link","href",R).get(m+(f.href||""));if(Z){for(var de=0;de<Z.length;de++)if(F=Z[de],F.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&F.getAttribute("rel")===(f.rel==null?null:f.rel)&&F.getAttribute("title")===(f.title==null?null:f.title)&&F.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){Z.splice(de,1);break t}}F=R.createElement(m),He(F,m,f),R.head.appendChild(F);break;case"meta":if(Z=wS("meta","content",R).get(m+(f.content||""))){for(de=0;de<Z.length;de++)if(F=Z[de],F.getAttribute("content")===(f.content==null?null:""+f.content)&&F.getAttribute("name")===(f.name==null?null:f.name)&&F.getAttribute("property")===(f.property==null?null:f.property)&&F.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&F.getAttribute("charset")===(f.charSet==null?null:f.charSet)){Z.splice(de,1);break t}}F=R.createElement(m),He(F,m,f),R.head.appendChild(F);break;default:throw Error(i(468,m))}F[Ft]=n,Gt(F),m=F}n.stateNode=m}else _S(R,n.type,n.stateNode);else n.stateNode=bS(R,m,n.memoizedProps);else F!==m?(F===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):F.count--,m===null?_S(R,n.type,n.stateNode):bS(R,m,n.memoizedProps)):m===null&&n.stateNode!==null&&Ld(n,n.memoizedProps,f.memoizedProps)}break;case 27:va(o,n),Ma(n),m&512&&(vi||f===null||Za(f,f.return)),f!==null&&m&4&&Ld(n,n.memoizedProps,f.memoizedProps);break;case 5:if(va(o,n),Ma(n),m&512&&(vi||f===null||Za(f,f.return)),n.flags&32){R=n.stateNode;try{Ce(R,"")}catch(xt){ti(n,n.return,xt)}}m&4&&n.stateNode!=null&&(R=n.memoizedProps,Ld(n,R,f!==null?f.memoizedProps:R)),m&1024&&(mf=!0);break;case 6:if(va(o,n),Ma(n),m&4){if(n.stateNode===null)throw Error(i(162));m=n.memoizedProps,f=n.stateNode;try{f.nodeValue=m}catch(xt){ti(n,n.return,xt)}}break;case 3:if(py=null,R=eo,eo=dy(o.containerInfo),va(o,n),eo=R,Ma(n),m&4&&f!==null&&f.memoizedState.isDehydrated)try{qp(o.containerInfo)}catch(xt){ti(n,n.return,xt)}mf&&(mf=!1,p0(n));break;case 4:m=eo,eo=dy(n.stateNode.containerInfo),va(o,n),Ma(n),eo=m;break;case 12:va(o,n),Ma(n);break;case 13:va(o,n),Ma(n),n.child.flags&8192&&n.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Gd=Ne()),m&4&&(m=n.updateQueue,m!==null&&(n.updateQueue=null,Vd(n,m)));break;case 22:R=n.memoizedState!==null;var Ve=f!==null&&f.memoizedState!==null,vt=$o,Dt=vi;if($o=vt||R,vi=Dt||Ve,va(o,n),vi=Dt,$o=vt,Ma(n),m&8192)e:for(o=n.stateNode,o._visibility=R?o._visibility&-2:o._visibility|1,R&&(f===null||Ve||$o||vi||ju(n)),f=null,o=n;;){if(o.tag===5||o.tag===26){if(f===null){Ve=f=o;try{if(F=Ve.stateNode,R)Z=F.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none";else{de=Ve.stateNode;var jt=Ve.memoizedProps.style,St=jt!=null&&jt.hasOwnProperty("display")?jt.display:null;de.style.display=St==null||typeof St=="boolean"?"":(""+St).trim()}}catch(xt){ti(Ve,Ve.return,xt)}}}else if(o.tag===6){if(f===null){Ve=o;try{Ve.stateNode.nodeValue=R?"":Ve.memoizedProps}catch(xt){ti(Ve,Ve.return,xt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;f===o&&(f=null),o=o.return}f===o&&(f=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=n.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,Vd(n,f))));break;case 19:va(o,n),Ma(n),m&4&&(m=n.updateQueue,m!==null&&(n.updateQueue=null,Vd(n,m)));break;case 30:break;case 21:break;default:va(o,n),Ma(n)}}function Ma(n){var o=n.flags;if(o&2){try{for(var f,m=n.return;m!==null;){if(fp(m)){f=m;break}m=m.return}if(f==null)throw Error(i(160));switch(f.tag){case 27:var R=f.stateNode,F=Ud(n);ls(n,F,R);break;case 5:var Z=f.stateNode;f.flags&32&&(Ce(Z,""),f.flags&=-33);var de=Ud(n);ls(n,de,Z);break;case 3:case 4:var Ve=f.stateNode.containerInfo,vt=Ud(n);kd(n,vt,Ve);break;default:throw Error(i(161))}}catch(Dt){ti(n,n.return,Dt)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function p0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;p0(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function $l(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Bd(n,o.alternate,o),o=o.sibling}function ju(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:wo(4,o,o.return),ju(o);break;case 1:Za(o,o.return);var f=o.stateNode;typeof f.componentWillUnmount=="function"&&gf(o,o.return,f),ju(o);break;case 27:kp(o.stateNode);case 26:case 5:Za(o,o.return),ju(o);break;case 22:o.memoizedState===null&&ju(o);break;case 30:ju(o);break;default:ju(o)}n=n.sibling}}function Kl(n,o,f){for(f=f&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,R=n,F=o,Z=F.flags;switch(F.tag){case 0:case 11:case 15:Kl(R,F,f),Uu(4,F);break;case 1:if(Kl(R,F,f),m=F,R=m.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(vt){ti(m,m.return,vt)}if(m=F,R=m.updateQueue,R!==null){var de=m.stateNode;try{var Ve=R.shared.hiddenCallbacks;if(Ve!==null)for(R.shared.hiddenCallbacks=null,R=0;R<Ve.length;R++)gd(Ve[R],de)}catch(vt){ti(m,m.return,vt)}}f&&Z&64&&up(F),ku(F,F.return);break;case 27:dp(F);case 26:case 5:Kl(R,F,f),f&&m===null&&Z&4&&cp(F),ku(F,F.return);break;case 12:Kl(R,F,f);break;case 13:Kl(R,F,f),f&&Z&4&&pp(R,F);break;case 22:F.memoizedState===null&&Kl(R,F,f),ku(F,F.return);break;case 30:break;default:Kl(R,F,f)}o=o.sibling}}function Wm(n,o){var f=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(f=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==f&&(n!=null&&n.refCount++,f!=null&&wu(f))}function mp(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&wu(n))}function to(n,o,f,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Gl(n,o,f,m),o=o.sibling}function Gl(n,o,f,m){var R=o.flags;switch(o.tag){case 0:case 11:case 15:to(n,o,f,m),R&2048&&Uu(9,o);break;case 1:to(n,o,f,m);break;case 3:to(n,o,f,m),R&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&wu(n)));break;case 12:if(R&2048){to(n,o,f,m),n=o.stateNode;try{var F=o.memoizedProps,Z=F.id,de=F.onPostCommit;typeof de=="function"&&de(Z,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(Ve){ti(o,o.return,Ve)}}else to(n,o,f,m);break;case 13:to(n,o,f,m);break;case 23:break;case 22:F=o.stateNode,Z=o.alternate,o.memoizedState!==null?F._visibility&2?to(n,o,f,m):yf(n,o):F._visibility&2?to(n,o,f,m):(F._visibility|=2,Bu(n,o,f,m,(o.subtreeFlags&10256)!==0)),R&2048&&Wm(Z,o);break;case 24:to(n,o,f,m),R&2048&&mp(o.alternate,o);break;default:to(n,o,f,m)}}function Bu(n,o,f,m,R){for(R=R&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var F=n,Z=o,de=f,Ve=m,vt=Z.flags;switch(Z.tag){case 0:case 11:case 15:Bu(F,Z,de,Ve,R),Uu(8,Z);break;case 23:break;case 22:var Dt=Z.stateNode;Z.memoizedState!==null?Dt._visibility&2?Bu(F,Z,de,Ve,R):yf(F,Z):(Dt._visibility|=2,Bu(F,Z,de,Ve,R)),R&&vt&2048&&Wm(Z.alternate,Z);break;case 24:Bu(F,Z,de,Ve,R),R&&vt&2048&&mp(Z.alternate,Z);break;default:Bu(F,Z,de,Ve,R)}o=o.sibling}}function yf(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var f=n,m=o,R=m.flags;switch(m.tag){case 22:yf(f,m),R&2048&&Wm(m.alternate,m);break;case 24:yf(f,m),R&2048&&mp(m.alternate,m);break;default:yf(f,m)}o=o.sibling}}var vf=8192;function us(n){if(n.subtreeFlags&vf)for(n=n.child;n!==null;)yp(n),n=n.sibling}function yp(n){switch(n.tag){case 26:us(n),n.flags&vf&&n.memoizedState!==null&&AO(eo,n.memoizedState,n.memoizedProps);break;case 5:us(n);break;case 3:case 4:var o=eo;eo=dy(n.stateNode.containerInfo),us(n),eo=o;break;case 22:n.memoizedState===null&&(o=n.alternate,o!==null&&o.memoizedState!==null?(o=vf,vf=16777216,us(n),vf=o):us(n));break;default:us(n)}}function vp(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function bf(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var m=o[f];Oi=m,Jm(m,n)}vp(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bp(n),n=n.sibling}function bp(n){switch(n.tag){case 0:case 11:case 15:bf(n),n.flags&2048&&wo(9,n,n.return);break;case 3:bf(n);break;case 12:bf(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,$d(n)):bf(n);break;default:bf(n)}}function $d(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var m=o[f];Oi=m,Jm(m,n)}vp(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:wo(8,o,o.return),$d(o);break;case 22:f=o.stateNode,f._visibility&2&&(f._visibility&=-3,$d(o));break;default:$d(o)}n=n.sibling}}function Jm(n,o){for(;Oi!==null;){var f=Oi;switch(f.tag){case 0:case 11:case 15:wo(8,f,o);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:wu(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Oi=m;else e:for(f=n;Oi!==null;){m=Oi;var R=m.sibling,F=m.return;if(Hd(m),m===f){Oi=null;break e}if(R!==null){R.return=F,Oi=R;break e}Oi=F}}}var wp={getCacheForType:function(n){var o=qi(yn),f=o.data.get(n);return f===void 0&&(f=n(),o.data.set(n,f)),f}},g0=typeof WeakMap=="function"?WeakMap:Map,Jr=0,li=null,Er=null,Or=0,Gr=0,aa=null,So=!1,La=!1,wf=!1,Ko=0,bi=0,Go=0,js=0,Kd=0,ba=0,ql=0,_f=null,oa=null,Bs=!1,Gd=0,cs=1/0,Hu=null,Hs=null,ki=0,fs=null,Vu=null,zl=0,Sf=0,_p=null,qd=null,Ef=0,Af=null;function sa(){if((Jr&2)!==0&&Or!==0)return Or&-Or;if(Re.T!==null){var n=Ja;return n!==0?n:Np()}return ve()}function zd(){ba===0&&(ba=(Or&536870912)===0||Br?wt():536870912);var n=Vi.current;return n!==null&&(n.flags|=32),ba}function Ji(n,o,f){(n===li&&(Gr===2||Gr===9)||n.cancelPendingCommit!==null)&&(Vs(n,0),qo(n,Or,ba,!1)),pt(n,f),((Jr&2)===0||n!==li)&&(n===li&&((Jr&2)===0&&(js|=f),bi===4&&qo(n,Or,ba,!1)),Eo(n))}function Wd(n,o,f){if((Jr&6)!==0)throw Error(i(327));var m=!f&&(o&124)===0&&(o&n.expiredLanes)===0||sn(n,o),R=m?Qm(n,o):Ap(n,o,!0),F=m;do{if(R===0){La&&!m&&qo(n,o,0,!1);break}else{if(f=n.current.alternate,F&&!Yd(f)){R=Ap(n,o,!1),F=!1;continue}if(R===2){if(F=o,n.errorRecoveryDisabledLanes&F)var Z=0;else Z=n.pendingLanes&-536870913,Z=Z!==0?Z:Z&536870912?536870912:0;if(Z!==0){o=Z;e:{var de=n;R=_f;var Ve=de.current.memoizedState.isDehydrated;if(Ve&&(Vs(de,Z).flags|=256),Z=Ap(de,Z,!1),Z!==2){if(wf&&!Ve){de.errorRecoveryDisabledLanes|=F,js|=F,R=4;break e}F=oa,oa=R,F!==null&&(oa===null?oa=F:oa.push.apply(oa,F))}R=Z}if(F=!1,R!==2)continue}}if(R===1){Vs(n,0),qo(n,o,0,!0);break}e:{switch(m=n,F=R,F){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:qo(m,o,ba,!So);break e;case 2:oa=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(R=Gd+300-Ne(),10<R)){if(qo(m,o,ba,!So),qn(m,0,!0)!==0)break e;m.timeoutHandle=Yr(Jd.bind(null,m,f,oa,Hu,Bs,o,ba,js,ql,So,F,2,-0,0),R);break e}Jd(m,f,oa,Hu,Bs,o,ba,js,ql,So,F,0,-0,0)}}break}while(!0);Eo(n)}function Jd(n,o,f,m,R,F,Z,de,Ve,vt,Dt,jt,St,xt){if(n.timeoutHandle=-1,jt=o.subtreeFlags,(jt&8192||(jt&16785408)===16785408)&&(Hp={stylesheets:null,count:0,unsuspend:EO},yp(o),jt=xO(),jt!==null)){n.cancelPendingCommit=jt(ny.bind(null,n,o,F,f,m,R,Z,de,Ve,Dt,1,St,xt)),qo(n,F,Z,!vt);return}ny(n,o,F,f,m,R,Z,de,Ve)}function Yd(n){for(var o=n;;){var f=o.tag;if((f===0||f===11||f===15)&&o.flags&16384&&(f=o.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var R=f[m],F=R.getSnapshot;R=R.value;try{if(!Hi(F(),R))return!1}catch{return!1}}if(f=o.child,o.subtreeFlags&16384&&f!==null)f.return=o,o=f;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function qo(n,o,f,m){o&=~Kd,o&=~js,n.suspendedLanes|=o,n.pingedLanes&=~o,m&&(n.warmLanes|=o),m=n.expirationTimes;for(var R=o;0<R;){var F=31-G(R),Z=1<<F;m[F]=-1,R&=~Z}f!==0&&zt(n,f,o)}function $u(){return(Jr&6)===0?(Ju(0),!1):!0}function Ku(){if(Er!==null){if(Gr===0)var n=Er.return;else n=Er,Zo=ml=null,ia(n),Xa=null,ma=0,n=Er;for(;n!==null;)lp(n.alternate,n),n=n.return;Er=null}}function Vs(n,o){var f=n.timeoutHandle;f!==-1&&(n.timeoutHandle=-1,An(f)),f=n.cancelPendingCommit,f!==null&&(n.cancelPendingCommit=null,f()),Ku(),li=n,Er=f=Wa(n.current,null),Or=o,Gr=0,aa=null,So=!1,La=sn(n,o),wf=!1,ql=ba=Kd=js=Go=bi=0,oa=_f=null,Bs=!1,(o&8)!==0&&(o|=o&32);var m=n.entangledLanes;if(m!==0)for(n=n.entanglements,m&=o;0<m;){var R=31-G(m),F=1<<R;o|=n[R],m&=~F}return Ko=o,sd(),f}function Ym(n,o){cr=null,Re.H=Bo,o===vo||o===vl?(o=wl(),Gr=3):o===_u?(o=wl(),Gr=4):Gr=o===f0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,aa=o,Er===null&&(bi=1,ep(n,qa(o,n.current)))}function Sp(){var n=Re.H;return Re.H=Bo,n===null?Bo:n}function Gu(){var n=Re.A;return Re.A=wp,n}function Ep(){bi=4,So||(Or&4194048)!==Or&&Vi.current!==null||(La=!0),(Go&134217727)===0&&(js&134217727)===0||li===null||qo(li,Or,ba,!1)}function Ap(n,o,f){var m=Jr;Jr|=2;var R=Sp(),F=Gu();(li!==n||Or!==o)&&(Hu=null,Vs(n,o)),o=!1;var Z=bi;e:do try{if(Gr!==0&&Er!==null){var de=Er,Ve=aa;switch(Gr){case 8:Ku(),Z=6;break e;case 3:case 2:case 9:case 6:Vi.current===null&&(o=!0);var vt=Gr;if(Gr=0,aa=null,qu(n,de,Ve,vt),f&&La){Z=0;break e}break;default:vt=Gr,Gr=0,aa=null,qu(n,de,Ve,vt)}}Qd(),Z=bi;break}catch(Dt){Ym(n,Dt)}while(!0);return o&&n.shellSuspendCounter++,Zo=ml=null,Jr=m,Re.H=R,Re.A=F,Er===null&&(li=null,Or=0,sd()),Z}function Qd(){for(;Er!==null;)Zm(Er)}function Qm(n,o){var f=Jr;Jr|=2;var m=Sp(),R=Gu();li!==n||Or!==o?(Hu=null,cs=Ne()+500,Vs(n,o)):La=sn(n,o);e:do try{if(Gr!==0&&Er!==null){o=Er;var F=aa;t:switch(Gr){case 1:Gr=0,aa=null,qu(n,o,F,1);break;case 2:case 9:if(bl(F)){Gr=0,aa=null,ey(o);break}o=function(){Gr!==2&&Gr!==9||li!==n||(Gr=7),Eo(n)},F.then(o,o);break e;case 3:Gr=7;break e;case 4:Gr=5;break e;case 7:bl(F)?(Gr=0,aa=null,ey(o)):(Gr=0,aa=null,qu(n,o,F,7));break;case 5:var Z=null;switch(Er.tag){case 26:Z=Er.memoizedState;case 5:case 27:var de=Er;if(!Z||SS(Z)){Gr=0,aa=null;var Ve=de.sibling;if(Ve!==null)Er=Ve;else{var vt=de.return;vt!==null?(Er=vt,xf(vt)):Er=null}break t}}Gr=0,aa=null,qu(n,o,F,5);break;case 6:Gr=0,aa=null,qu(n,o,F,6);break;case 8:Ku(),bi=6;break e;default:throw Error(i(462))}}Xm();break}catch(Dt){Ym(n,Dt)}while(!0);return Zo=ml=null,Re.H=m,Re.A=R,Jr=f,Er!==null?0:(li=null,Or=0,sd(),bi)}function Xm(){for(;Er!==null&&!re();)Zm(Er)}function Zm(n){var o=sp(n.alternate,n,Ko);n.memoizedProps=n.pendingProps,o===null?xf(n):Er=o}function ey(n){var o=n,f=o.alternate;switch(o.tag){case 15:case 0:o=np(f,o,o.pendingProps,o.type,void 0,Or);break;case 11:o=np(f,o,o.pendingProps,o.type.render,o.ref,Or);break;case 5:ia(o);default:lp(f,o),o=Er=Uh(o,Ko),o=sp(f,o,Ko)}n.memoizedProps=n.pendingProps,o===null?xf(n):Er=o}function qu(n,o,f,m){Zo=ml=null,ia(o),Xa=null,ma=0;var R=o.return;try{if(dS(n,R,o,f,Or)){bi=1,ep(n,qa(f,n.current)),Er=null;return}}catch(F){if(R!==null)throw Er=R,F;bi=1,ep(n,qa(f,n.current)),Er=null;return}o.flags&32768?(Br||m===1?n=!0:La||(Or&536870912)!==0?n=!1:(So=n=!0,(m===2||m===9||m===3||m===6)&&(m=Vi.current,m!==null&&m.tag===13&&(m.flags|=16384))),ty(o,n)):xf(o)}function xf(n){var o=n;do{if((o.flags&32768)!==0){ty(o,So);return}n=o.return;var f=Md(o.alternate,o,Ko);if(f!==null){Er=f;return}if(o=o.sibling,o!==null){Er=o;return}Er=o=n}while(o!==null);bi===0&&(bi=5)}function ty(n,o){do{var f=qm(n.alternate,n);if(f!==null){f.flags&=32767,Er=f;return}if(f=n.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!o&&(n=n.sibling,n!==null)){Er=n;return}Er=n=f}while(n!==null);bi=6,Er=null}function ny(n,o,f,m,R,F,Z,de,Ve){n.cancelPendingCommit=null;do Wl();while(ki!==0);if((Jr&6)!==0)throw Error(i(327));if(o!==null){if(o===n.current)throw Error(i(177));if(F=o.lanes|o.childLanes,F|=od,Xt(n,f,F,Z,de,Ve),n===li&&(Er=li=null,Or=0),Vu=o,fs=n,zl=f,Sf=F,_p=R,qd=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,y0(Tt,function(){return zu(),null})):(n.callbackNode=null,n.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=Re.T,Re.T=null,R=lt.p,lt.p=2,Z=Jr,Jr|=4;try{zm(n,o,f)}finally{Jr=Z,lt.p=R,Re.T=m}}ki=1,xp(),Xd(),Rp()}}function xp(){if(ki===1){ki=0;var n=fs,o=Vu,f=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||f){f=Re.T,Re.T=null;var m=lt.p;lt.p=2;var R=Jr;Jr|=4;try{gp(o,n);var F=kt,Z=Ga(n.containerInfo),de=F.focusedElem,Ve=F.selectionRange;if(Z!==de&&de&&de.ownerDocument&&Ph(de.ownerDocument.documentElement,de)){if(Ve!==null&&Nh(de)){var vt=Ve.start,Dt=Ve.end;if(Dt===void 0&&(Dt=vt),"selectionStart"in de)de.selectionStart=vt,de.selectionEnd=Math.min(Dt,de.value.length);else{var jt=de.ownerDocument||document,St=jt&&jt.defaultView||window;if(St.getSelection){var xt=St.getSelection(),Zn=de.textContent.length,Kn=Math.min(Ve.start,Zn),ui=Ve.end===void 0?Kn:Math.min(Ve.end,Zn);!xt.extend&&Kn>ui&&(Z=ui,ui=Kn,Kn=Z);var ft=hu(de,Kn),nt=hu(de,ui);if(ft&&nt&&(xt.rangeCount!==1||xt.anchorNode!==ft.node||xt.anchorOffset!==ft.offset||xt.focusNode!==nt.node||xt.focusOffset!==nt.offset)){var gt=jt.createRange();gt.setStart(ft.node,ft.offset),xt.removeAllRanges(),Kn>ui?(xt.addRange(gt),xt.extend(nt.node,nt.offset)):(gt.setEnd(nt.node,nt.offset),xt.addRange(gt))}}}}for(jt=[],xt=de;xt=xt.parentNode;)xt.nodeType===1&&jt.push({element:xt,left:xt.scrollLeft,top:xt.scrollTop});for(typeof de.focus=="function"&&de.focus(),de=0;de<jt.length;de++){var Ut=jt[de];Ut.element.scrollLeft=Ut.left,Ut.element.scrollTop=Ut.top}}yy=!!tt,kt=tt=null}finally{Jr=R,lt.p=m,Re.T=f}}n.current=o,ki=2}}function Xd(){if(ki===2){ki=0;var n=fs,o=Vu,f=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||f){f=Re.T,Re.T=null;var m=lt.p;lt.p=2;var R=Jr;Jr|=4;try{Bd(n,o.alternate,o)}finally{Jr=R,lt.p=m,Re.T=f}}ki=3}}function Rp(){if(ki===4||ki===3){ki=0,Se();var n=fs,o=Vu,f=zl,m=qd;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ki=5:(ki=0,Vu=fs=null,Zd(n,n.pendingLanes));var R=n.pendingLanes;if(R===0&&(Hs=null),fe(f),o=o.stateNode,Q&&typeof Q.onCommitFiberRoot=="function")try{Q.onCommitFiberRoot(et,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=Re.T,R=lt.p,lt.p=2,Re.T=null;try{for(var F=n.onRecoverableError,Z=0;Z<m.length;Z++){var de=m[Z];F(de.value,{componentStack:de.stack})}}finally{Re.T=o,lt.p=R}}(zl&3)!==0&&Wl(),Eo(n),R=n.pendingLanes,(f&4194090)!==0&&(R&42)!==0?n===Af?Ef++:(Ef=0,Af=n):Ef=0,Ju(0)}}function Zd(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,wu(o)))}function Wl(n){return xp(),Xd(),Rp(),zu()}function zu(){if(ki!==5)return!1;var n=fs,o=Sf;Sf=0;var f=fe(zl),m=Re.T,R=lt.p;try{lt.p=32>f?32:f,Re.T=null,f=_p,_p=null;var F=fs,Z=zl;if(ki=0,Vu=fs=null,zl=0,(Jr&6)!==0)throw Error(i(331));var de=Jr;if(Jr|=4,bp(F.current),Gl(F,F.current,Z,f),Jr=de,Ju(0,!1),Q&&typeof Q.onPostCommitFiberRoot=="function")try{Q.onPostCommitFiberRoot(et,F)}catch{}return!0}finally{lt.p=R,Re.T=m,Zd(n,o)}}function eh(n,o,f){o=qa(f,o),o=Hm(n.stateNode,o,2),n=Lo(n,o,2),n!==null&&(pt(n,2),Eo(n))}function ti(n,o,f){if(n.tag===3)eh(n,n,f);else for(;o!==null;){if(o.tag===3){eh(o,n,f);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Hs===null||!Hs.has(m))){n=qa(f,n),f=Vm(2),m=Lo(o,f,2),m!==null&&($m(f,m,o,n),pt(m,2),Eo(m));break}}o=o.return}}function th(n,o,f){var m=n.pingCache;if(m===null){m=n.pingCache=new g0;var R=new Set;m.set(o,R)}else R=m.get(o),R===void 0&&(R=new Set,m.set(o,R));R.has(f)||(wf=!0,R.add(f),n=Cp.bind(null,n,o,f),o.then(n,n))}function Cp(n,o,f){var m=n.pingCache;m!==null&&m.delete(o),n.pingedLanes|=n.suspendedLanes&f,n.warmLanes&=~f,li===n&&(Or&f)===f&&(bi===4||bi===3&&(Or&62914560)===Or&&300>Ne()-Gd?(Jr&2)===0&&Vs(n,0):Kd|=f,ql===Or&&(ql=0)),Eo(n)}function Tp(n,o){o===0&&(o=dt()),n=Oa(n,o),n!==null&&(pt(n,o),Eo(n))}function ry(n){var o=n.memoizedState,f=0;o!==null&&(f=o.retryLane),Tp(n,f)}function m0(n,o){var f=0;switch(n.tag){case 13:var m=n.stateNode,R=n.memoizedState;R!==null&&(f=R.retryLane);break;case 19:m=n.stateNode;break;case 22:m=n.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(o),Tp(n,f)}function y0(n,o){return D(n,o)}var Rf=null,Wu=null,Op=!1,Cf=!1,Ip=!1,Jl=0;function Eo(n){n!==Wu&&n.next===null&&(Wu===null?Rf=Wu=n:Wu=Wu.next=n),Cf=!0,Op||(Op=!0,v0())}function Ju(n,o){if(!Ip&&Cf){Ip=!0;do for(var f=!1,m=Rf;m!==null;){if(n!==0){var R=m.pendingLanes;if(R===0)var F=0;else{var Z=m.suspendedLanes,de=m.pingedLanes;F=(1<<31-G(42|n)+1)-1,F&=R&~(Z&~de),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(f=!0,Pp(m,F))}else F=Or,F=qn(m,m===li?F:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(F&3)===0||sn(m,F)||(f=!0,Pp(m,F));m=m.next}while(f);Ip=!1}}function nh(){iy()}function iy(){Cf=Op=!1;var n=0;Jl!==0&&(no()&&(n=Jl),Jl=0);for(var o=Ne(),f=null,m=Rf;m!==null;){var R=m.next,F=ay(m,o);F===0?(m.next=null,f===null?Rf=R:f.next=R,R===null&&(Wu=f)):(f=m,(n!==0||(F&3)!==0)&&(Cf=!0)),m=R}Ju(n)}function ay(n,o){for(var f=n.suspendedLanes,m=n.pingedLanes,R=n.expirationTimes,F=n.pendingLanes&-62914561;0<F;){var Z=31-G(F),de=1<<Z,Ve=R[Z];Ve===-1?((de&f)===0||(de&m)!==0)&&(R[Z]=ze(de,o)):Ve<=o&&(n.expiredLanes|=de),F&=~de}if(o=li,f=Or,f=qn(n,n===o?f:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),m=n.callbackNode,f===0||n===o&&(Gr===2||Gr===9)||n.cancelPendingCommit!==null)return m!==null&&m!==null&&z(m),n.callbackNode=null,n.callbackPriority=0;if((f&3)===0||sn(n,f)){if(o=f&-f,o===n.callbackPriority)return o;switch(m!==null&&z(m),fe(f)){case 2:case 8:f=mt;break;case 32:f=Tt;break;case 268435456:f=Xe;break;default:f=Tt}return m=Yu.bind(null,n),f=D(f,m),n.callbackPriority=o,n.callbackNode=f,o}return m!==null&&m!==null&&z(m),n.callbackPriority=2,n.callbackNode=null,2}function Yu(n,o){if(ki!==0&&ki!==5)return n.callbackNode=null,n.callbackPriority=0,null;var f=n.callbackNode;if(Wl()&&n.callbackNode!==f)return null;var m=Or;return m=qn(n,n===li?m:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),m===0?null:(Wd(n,m,o),ay(n,Ne()),n.callbackNode!=null&&n.callbackNode===f?Yu.bind(null,n):null)}function Pp(n,o){if(Wl())return null;Wd(n,o,!0)}function v0(){Ii(function(){(Jr&6)!==0?D(Pe,nh):iy()})}function Np(){return Jl===0&&(Jl=wt()),Jl}function oy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Xn(""+n)}function sy(n,o){var f=o.ownerDocument.createElement("input");return f.name=o.name,f.value=o.value,n.id&&f.setAttribute("form",n.id),o.parentNode.insertBefore(f,o),n=new FormData(n),f.parentNode.removeChild(f),n}function ly(n,o,f,m,R){if(o==="submit"&&f&&f.stateNode===R){var F=oy((R[Zt]||null).action),Z=m.submitter;Z&&(o=(o=Z[Zt]||null)?oy(o.formAction):Z.getAttribute("formAction"),o!==null&&(F=o,Z=null));var de=new Va("action","action",null,m,R);n.push({event:de,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Jl!==0){var Ve=Z?sy(R,Z):new FormData(R);Sd(f,{pending:!0,data:Ve,method:R.method,action:F},null,Ve)}}else typeof F=="function"&&(de.preventDefault(),Ve=Z?sy(R,Z):new FormData(R),Sd(f,{pending:!0,data:Ve,method:R.method,action:F},F,Ve))},currentTarget:R}]})}}for(var Tf=0;Tf<ad.length;Tf++){var Fp=ad[Tf],uy=Fp.toLowerCase(),cy=Fp[0].toUpperCase()+Fp.slice(1);po(uy,"on"+cy)}po(_s,"onAnimationEnd"),po(Ss,"onAnimationIteration"),po(Dm,"onAnimationStart"),po("dblclick","onDoubleClick"),po("focusin","onFocus"),po("focusout","onBlur"),po(r0,"onTransitionRun"),po(i0,"onTransitionStart"),po(jr,"onTransitionCancel"),po(Dh,"onTransitionEnd"),kn("onMouseEnter",["mouseout","mouseover"]),kn("onMouseLeave",["mouseout","mouseover"]),kn("onPointerEnter",["pointerout","pointerover"]),kn("onPointerLeave",["pointerout","pointerover"]),yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Of="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),If=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Of));function Dp(n,o){o=(o&4)!==0;for(var f=0;f<n.length;f++){var m=n[f],R=m.event;m=m.listeners;e:{var F=void 0;if(o)for(var Z=m.length-1;0<=Z;Z--){var de=m[Z],Ve=de.instance,vt=de.currentTarget;if(de=de.listener,Ve!==F&&R.isPropagationStopped())break e;F=de,R.currentTarget=vt;try{F(R)}catch(Dt){Td(Dt)}R.currentTarget=null,F=Ve}else for(Z=0;Z<m.length;Z++){if(de=m[Z],Ve=de.instance,vt=de.currentTarget,de=de.listener,Ve!==F&&R.isPropagationStopped())break e;F=de,R.currentTarget=vt;try{F(R)}catch(Dt){Td(Dt)}R.currentTarget=null,F=Ve}}}}function xr(n,o){var f=o[Ln];f===void 0&&(f=o[Ln]=new Set);var m=n+"__bubble";f.has(m)||(fy(o,n,2,!1),f.add(m))}function Mp(n,o,f){var m=0;o&&(m|=4),fy(f,n,m,o)}var rh="_reactListening"+Math.random().toString(36).slice(2);function Lp(n){if(!n[rh]){n[rh]=!0,nr.forEach(function(f){f!=="selectionchange"&&(If.has(f)||Mp(f,!1,n),Mp(f,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[rh]||(o[rh]=!0,Mp("selectionchange",!1,o))}}function fy(n,o,f,m){switch(TS(o)){case 2:var R=TO;break;case 8:R=OO;break;default:R=E0}f=R.bind(null,o,f,n),R=void 0,!Cr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(R=!0),m?R!==void 0?n.addEventListener(o,f,{capture:!0,passive:R}):n.addEventListener(o,f,!0):R!==void 0?n.addEventListener(o,f,{passive:R}):n.addEventListener(o,f,!1)}function Up(n,o,f,m,R){var F=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var Z=m.tag;if(Z===3||Z===4){var de=m.stateNode.containerInfo;if(de===R)break;if(Z===4)for(Z=m.return;Z!==null;){var Ve=Z.tag;if((Ve===3||Ve===4)&&Z.stateNode.containerInfo===R)return;Z=Z.return}for(;de!==null;){if(Z=xn(de),Z===null)return;if(Ve=Z.tag,Ve===5||Ve===6||Ve===26||Ve===27){m=F=Z;continue e}de=de.parentNode}}m=m.return}Lr(function(){var vt=F,Dt=gn(f),jt=[];e:{var St=Mh.get(n);if(St!==void 0){var xt=Va,Zn=n;switch(n){case"keypress":if(na(f)===0)break e;case"keydown":case"keyup":xt=Qt;break;case"focusin":Zn="focus",xt=Rt;break;case"focusout":Zn="blur",xt=Rt;break;case"beforeblur":case"afterblur":xt=Rt;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xt=he;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xt=we;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xt=er;break;case _s:case Ss:case Dm:xt=Nt;break;case Dh:xt=Pn;break;case"scroll":case"scrollend":xt=bs;break;case"wheel":xt=jn;break;case"copy":case"cut":case"paste":xt=Vt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xt=pn;break;case"toggle":case"beforetoggle":xt=pr}var Kn=(o&4)!==0,ui=!Kn&&(n==="scroll"||n==="scrollend"),ft=Kn?St!==null?St+"Capture":null:St;Kn=[];for(var nt=vt,gt;nt!==null;){var Ut=nt;if(gt=Ut.stateNode,Ut=Ut.tag,Ut!==5&&Ut!==26&&Ut!==27||gt===null||ft===null||(Ut=rr(nt,ft),Ut!=null&&Kn.push(Pf(nt,Ut,gt))),ui)break;nt=nt.return}0<Kn.length&&(St=new xt(St,Zn,null,f,Dt),jt.push({event:St,listeners:Kn}))}}if((o&7)===0){e:{if(St=n==="mouseover"||n==="pointerover",xt=n==="mouseout"||n==="pointerout",St&&f!==un&&(Zn=f.relatedTarget||f.fromElement)&&(xn(Zn)||Zn[nn]))break e;if((xt||St)&&(St=Dt.window===Dt?Dt:(St=Dt.ownerDocument)?St.defaultView||St.parentWindow:window,xt?(Zn=f.relatedTarget||f.toElement,xt=vt,Zn=Zn?xn(Zn):null,Zn!==null&&(ui=l(Zn),Kn=Zn.tag,Zn!==ui||Kn!==5&&Kn!==27&&Kn!==6)&&(Zn=null)):(xt=null,Zn=vt),xt!==Zn)){if(Kn=he,Ut="onMouseLeave",ft="onMouseEnter",nt="mouse",(n==="pointerout"||n==="pointerover")&&(Kn=pn,Ut="onPointerLeave",ft="onPointerEnter",nt="pointer"),ui=xt==null?St:mn(xt),gt=Zn==null?St:mn(Zn),St=new Kn(Ut,nt+"leave",xt,f,Dt),St.target=ui,St.relatedTarget=gt,Ut=null,xn(Dt)===vt&&(Kn=new Kn(ft,nt+"enter",Zn,f,Dt),Kn.target=gt,Kn.relatedTarget=ui,Ut=Kn),ui=Ut,xt&&Zn)t:{for(Kn=xt,ft=Zn,nt=0,gt=Kn;gt;gt=Qu(gt))nt++;for(gt=0,Ut=ft;Ut;Ut=Qu(Ut))gt++;for(;0<nt-gt;)Kn=Qu(Kn),nt--;for(;0<gt-nt;)ft=Qu(ft),gt--;for(;nt--;){if(Kn===ft||ft!==null&&Kn===ft.alternate)break t;Kn=Qu(Kn),ft=Qu(ft)}Kn=null}else Kn=null;xt!==null&&h(jt,St,xt,Kn,!1),Zn!==null&&ui!==null&&h(jt,ui,Zn,Kn,!0)}}e:{if(St=vt?mn(vt):window,xt=St.nodeName&&St.nodeName.toLowerCase(),xt==="select"||xt==="input"&&St.type==="file")var En=Xo;else if(rl(St))if(du)En=Sc;else{En=ol;var Ir=td}else xt=St.nodeName,!xt||xt.toLowerCase()!=="input"||St.type!=="checkbox"&&St.type!=="radio"?vt&&At(vt.elementType)&&(En=Xo):En=pi;if(En&&(En=En(n,vt))){_c(jt,En,f,Dt);break e}Ir&&Ir(n,St,vt),n==="focusout"&&vt&&St.type==="number"&&vt.memoizedProps.value!=null&&ut(St,"number",St.value)}switch(Ir=vt?mn(vt):window,n){case"focusin":(rl(Ir)||Ir.contentEditable==="true")&&(ra=Ir,rd=vt,pu=null);break;case"focusout":pu=rd=ra=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,Ta(jt,f,Dt);break;case"selectionchange":if(Fm)break;case"keydown":case"keyup":Ta(jt,f,Dt)}var In;if(Sn)e:{switch(n){case"compositionstart":var Wn="onCompositionStart";break e;case"compositionend":Wn="onCompositionEnd";break e;case"compositionupdate":Wn="onCompositionUpdate";break e}Wn=void 0}else ei?Kr(n,f)&&(Wn="onCompositionEnd"):n==="keydown"&&f.keyCode===229&&(Wn="onCompositionStart");Wn&&(xi&&f.locale!=="ko"&&(ei||Wn!=="onCompositionStart"?Wn==="onCompositionEnd"&&ei&&(In=Ur()):(Zr=Dt,Ui="value"in Zr?Zr.value:Zr.textContent,ei=!0)),Ir=ih(vt,Wn),0<Ir.length&&(Wn=new Lt(Wn,n,null,f,Dt),jt.push({event:Wn,listeners:Ir}),In?Wn.data=In:(In=ir(f),In!==null&&(Wn.data=In)))),(In=ai?ur(n,f):$a(n,f))&&(Wn=ih(vt,"onBeforeInput"),0<Wn.length&&(Ir=new Lt("onBeforeInput","beforeinput",null,f,Dt),jt.push({event:Ir,listeners:Wn}),Ir.data=In)),ly(jt,n,vt,f,Dt)}Dp(jt,o)})}function Pf(n,o,f){return{instance:n,listener:o,currentTarget:f}}function ih(n,o){for(var f=o+"Capture",m=[];n!==null;){var R=n,F=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||F===null||(R=rr(n,f),R!=null&&m.unshift(Pf(n,R,F)),R=rr(n,o),R!=null&&m.push(Pf(n,R,F))),n.tag===3)return m;n=n.return}return[]}function Qu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function h(n,o,f,m,R){for(var F=o._reactName,Z=[];f!==null&&f!==m;){var de=f,Ve=de.alternate,vt=de.stateNode;if(de=de.tag,Ve!==null&&Ve===m)break;de!==5&&de!==26&&de!==27||vt===null||(Ve=vt,R?(vt=rr(f,F),vt!=null&&Z.unshift(Pf(f,vt,Ve))):R||(vt=rr(f,F),vt!=null&&Z.push(Pf(f,vt,Ve)))),f=f.return}Z.length!==0&&n.push({event:o,listeners:Z})}var y=/\r\n?/g,S=/\u0000|\uFFFD/g;function N(n){return(typeof n=="string"?n:""+n).replace(y,`
`).replace(S,"")}function U(n,o){return o=N(o),N(n)===o}function J(){}function ee(n,o,f,m,R,F){switch(f){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Ce(n,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Ce(n,""+m);break;case"className":ta(n,"class",m);break;case"tabIndex":ta(n,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ta(n,f,m);break;case"style":ht(n,m,F);break;case"data":if(o!=="object"){ta(n,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||f!=="href")){n.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){n.removeAttribute(f);break}m=Xn(""+m),n.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){n.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(f==="formAction"?(o!=="input"&&ee(n,o,"name",R.name,R,null),ee(n,o,"formEncType",R.formEncType,R,null),ee(n,o,"formMethod",R.formMethod,R,null),ee(n,o,"formTarget",R.formTarget,R,null)):(ee(n,o,"encType",R.encType,R,null),ee(n,o,"method",R.method,R,null),ee(n,o,"target",R.target,R,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){n.removeAttribute(f);break}m=Xn(""+m),n.setAttribute(f,m);break;case"onClick":m!=null&&(n.onclick=J);break;case"onScroll":m!=null&&xr("scroll",n);break;case"onScrollEnd":m!=null&&xr("scrollend",n);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(f=m.__html,f!=null){if(R.children!=null)throw Error(i(60));n.innerHTML=f}}break;case"multiple":n.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":n.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){n.removeAttribute("xlink:href");break}f=Xn(""+m),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?n.setAttribute(f,""+m):n.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?n.setAttribute(f,""):n.removeAttribute(f);break;case"capture":case"download":m===!0?n.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?n.setAttribute(f,m):n.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?n.setAttribute(f,m):n.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?n.removeAttribute(f):n.setAttribute(f,m);break;case"popover":xr("beforetoggle",n),xr("toggle",n),Fr(n,"popover",m);break;case"xlinkActuate":Si(n,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Si(n,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Si(n,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Si(n,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Si(n,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Si(n,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Si(n,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Si(n,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Si(n,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Fr(n,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=dn.get(f)||f,Fr(n,f,m))}}function me(n,o,f,m,R,F){switch(f){case"style":ht(n,m,F);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(f=m.__html,f!=null){if(R.children!=null)throw Error(i(60));n.innerHTML=f}}break;case"children":typeof m=="string"?Ce(n,m):(typeof m=="number"||typeof m=="bigint")&&Ce(n,""+m);break;case"onScroll":m!=null&&xr("scroll",n);break;case"onScrollEnd":m!=null&&xr("scrollend",n);break;case"onClick":m!=null&&(n.onclick=J);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mr.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(R=f.endsWith("Capture"),o=f.slice(2,R?f.length-7:void 0),F=n[Zt]||null,F=F!=null?F[f]:null,typeof F=="function"&&n.removeEventListener(o,F,R),typeof m=="function")){typeof F!="function"&&F!==null&&(f in n?n[f]=null:n.hasAttribute(f)&&n.removeAttribute(f)),n.addEventListener(o,m,R);break e}f in n?n[f]=m:m===!0?n.setAttribute(f,""):Fr(n,f,m)}}}function He(n,o,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xr("error",n),xr("load",n);var m=!1,R=!1,F;for(F in f)if(f.hasOwnProperty(F)){var Z=f[F];if(Z!=null)switch(F){case"src":m=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ee(n,o,F,Z,f,null)}}R&&ee(n,o,"srcSet",f.srcSet,f,null),m&&ee(n,o,"src",f.src,f,null);return;case"input":xr("invalid",n);var de=F=Z=R=null,Ve=null,vt=null;for(m in f)if(f.hasOwnProperty(m)){var Dt=f[m];if(Dt!=null)switch(m){case"name":R=Dt;break;case"type":Z=Dt;break;case"checked":Ve=Dt;break;case"defaultChecked":vt=Dt;break;case"value":F=Dt;break;case"defaultValue":de=Dt;break;case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(i(137,o));break;default:ee(n,o,m,Dt,f,null)}}We(n,F,de,Ve,vt,Z,R,!1),Ee(n);return;case"select":xr("invalid",n),m=Z=F=null;for(R in f)if(f.hasOwnProperty(R)&&(de=f[R],de!=null))switch(R){case"value":F=de;break;case"defaultValue":Z=de;break;case"multiple":m=de;default:ee(n,o,R,de,f,null)}o=F,f=Z,n.multiple=!!m,o!=null?yt(n,!!m,o,!1):f!=null&&yt(n,!!m,f,!0);return;case"textarea":xr("invalid",n),F=R=m=null;for(Z in f)if(f.hasOwnProperty(Z)&&(de=f[Z],de!=null))switch(Z){case"value":m=de;break;case"defaultValue":R=de;break;case"children":F=de;break;case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(91));break;default:ee(n,o,Z,de,f,null)}le(n,m,R,F),Ee(n);return;case"option":for(Ve in f)if(f.hasOwnProperty(Ve)&&(m=f[Ve],m!=null))switch(Ve){case"selected":n.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ee(n,o,Ve,m,f,null)}return;case"dialog":xr("beforetoggle",n),xr("toggle",n),xr("cancel",n),xr("close",n);break;case"iframe":case"object":xr("load",n);break;case"video":case"audio":for(m=0;m<Of.length;m++)xr(Of[m],n);break;case"image":xr("error",n),xr("load",n);break;case"details":xr("toggle",n);break;case"embed":case"source":case"link":xr("error",n),xr("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(vt in f)if(f.hasOwnProperty(vt)&&(m=f[vt],m!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ee(n,o,vt,m,f,null)}return;default:if(At(o)){for(Dt in f)f.hasOwnProperty(Dt)&&(m=f[Dt],m!==void 0&&me(n,o,Dt,m,f,void 0));return}}for(de in f)f.hasOwnProperty(de)&&(m=f[de],m!=null&&ee(n,o,de,m,f,null))}function Ge(n,o,f,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,F=null,Z=null,de=null,Ve=null,vt=null,Dt=null;for(xt in f){var jt=f[xt];if(f.hasOwnProperty(xt)&&jt!=null)switch(xt){case"checked":break;case"value":break;case"defaultValue":Ve=jt;default:m.hasOwnProperty(xt)||ee(n,o,xt,null,m,jt)}}for(var St in m){var xt=m[St];if(jt=f[St],m.hasOwnProperty(St)&&(xt!=null||jt!=null))switch(St){case"type":F=xt;break;case"name":R=xt;break;case"checked":vt=xt;break;case"defaultChecked":Dt=xt;break;case"value":Z=xt;break;case"defaultValue":de=xt;break;case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(i(137,o));break;default:xt!==jt&&ee(n,o,St,xt,m,jt)}}ke(n,Z,de,Ve,vt,Dt,F,R);return;case"select":xt=Z=de=St=null;for(F in f)if(Ve=f[F],f.hasOwnProperty(F)&&Ve!=null)switch(F){case"value":break;case"multiple":xt=Ve;default:m.hasOwnProperty(F)||ee(n,o,F,null,m,Ve)}for(R in m)if(F=m[R],Ve=f[R],m.hasOwnProperty(R)&&(F!=null||Ve!=null))switch(R){case"value":St=F;break;case"defaultValue":de=F;break;case"multiple":Z=F;default:F!==Ve&&ee(n,o,R,F,m,Ve)}o=de,f=Z,m=xt,St!=null?yt(n,!!f,St,!1):!!m!=!!f&&(o!=null?yt(n,!!f,o,!0):yt(n,!!f,f?[]:"",!1));return;case"textarea":xt=St=null;for(de in f)if(R=f[de],f.hasOwnProperty(de)&&R!=null&&!m.hasOwnProperty(de))switch(de){case"value":break;case"children":break;default:ee(n,o,de,null,m,R)}for(Z in m)if(R=m[Z],F=f[Z],m.hasOwnProperty(Z)&&(R!=null||F!=null))switch(Z){case"value":St=R;break;case"defaultValue":xt=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:R!==F&&ee(n,o,Z,R,m,F)}Et(n,St,xt);return;case"option":for(var Zn in f)if(St=f[Zn],f.hasOwnProperty(Zn)&&St!=null&&!m.hasOwnProperty(Zn))switch(Zn){case"selected":n.selected=!1;break;default:ee(n,o,Zn,null,m,St)}for(Ve in m)if(St=m[Ve],xt=f[Ve],m.hasOwnProperty(Ve)&&St!==xt&&(St!=null||xt!=null))switch(Ve){case"selected":n.selected=St&&typeof St!="function"&&typeof St!="symbol";break;default:ee(n,o,Ve,St,m,xt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Kn in f)St=f[Kn],f.hasOwnProperty(Kn)&&St!=null&&!m.hasOwnProperty(Kn)&&ee(n,o,Kn,null,m,St);for(vt in m)if(St=m[vt],xt=f[vt],m.hasOwnProperty(vt)&&St!==xt&&(St!=null||xt!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":if(St!=null)throw Error(i(137,o));break;default:ee(n,o,vt,St,m,xt)}return;default:if(At(o)){for(var ui in f)St=f[ui],f.hasOwnProperty(ui)&&St!==void 0&&!m.hasOwnProperty(ui)&&me(n,o,ui,void 0,m,St);for(Dt in m)St=m[Dt],xt=f[Dt],!m.hasOwnProperty(Dt)||St===xt||St===void 0&&xt===void 0||me(n,o,Dt,St,m,xt);return}}for(var ft in f)St=f[ft],f.hasOwnProperty(ft)&&St!=null&&!m.hasOwnProperty(ft)&&ee(n,o,ft,null,m,St);for(jt in m)St=m[jt],xt=f[jt],!m.hasOwnProperty(jt)||St===xt||St==null&&xt==null||ee(n,o,jt,St,m,xt)}var tt=null,kt=null;function Kt(n){return n.nodeType===9?n:n.ownerDocument}function rn(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nn(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function gr(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var tr=null;function no(){var n=window.event;return n&&n.type==="popstate"?n===tr?!1:(tr=n,!0):(tr=null,!1)}var Yr=typeof setTimeout=="function"?setTimeout:void 0,An=typeof clearTimeout=="function"?clearTimeout:void 0,Yi=typeof Promise=="function"?Promise:void 0,Ii=typeof queueMicrotask=="function"?queueMicrotask:typeof Yi<"u"?function(n){return Yi.resolve(null).then(n).catch(wa)}:Yr;function wa(n){setTimeout(function(){throw n})}function Qi(n){return n==="head"}function $s(n,o){var f=o,m=0,R=0;do{var F=f.nextSibling;if(n.removeChild(f),F&&F.nodeType===8)if(f=F.data,f==="/$"){if(0<m&&8>m){f=m;var Z=n.ownerDocument;if(f&1&&kp(Z.documentElement),f&2&&kp(Z.body),f&4)for(f=Z.head,kp(f),Z=f.firstChild;Z;){var de=Z.nextSibling,Ve=Z.nodeName;Z[on]||Ve==="SCRIPT"||Ve==="STYLE"||Ve==="LINK"&&Z.rel.toLowerCase()==="stylesheet"||f.removeChild(Z),Z=de}}if(R===0){n.removeChild(F),qp(o);return}R--}else f==="$"||f==="$?"||f==="$!"?R++:m=f.charCodeAt(0)-48;else m=0;f=F}while(f);qp(o)}function Ao(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var f=o;switch(o=o.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Ao(f),Un(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}n.removeChild(f)}}function Nf(n,o,f,m){for(;n.nodeType===1;){var R=f;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(m){if(!n[on])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(F=n.getAttribute("rel"),F==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(F!==R.rel||n.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||n.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||n.getAttribute("title")!==(R.title==null?null:R.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(F=n.getAttribute("src"),(F!==(R.src==null?null:R.src)||n.getAttribute("type")!==(R.type==null?null:R.type)||n.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&F&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var F=R.name==null?null:""+R.name;if(R.type==="hidden"&&n.getAttribute("name")===F)return n}else return n;if(n=fr(n.nextSibling),n===null)break}return null}function Ff(n,o,f){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!f||(n=fr(n.nextSibling),n===null))return null;return n}function Yl(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function On(n,o){var f=n.ownerDocument;if(n.data!=="$?"||f.readyState==="complete")o();else{var m=function(){o(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),n._reactRetry=m}}function fr(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return n}var ds=null;function hS(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var f=n.data;if(f==="$"||f==="$!"||f==="$?"){if(o===0)return n;o--}else f==="/$"&&o++}n=n.previousSibling}return null}function pS(n,o,f){switch(o=Kt(f),n){case"html":if(n=o.documentElement,!n)throw Error(i(452));return n;case"head":if(n=o.head,!n)throw Error(i(453));return n;case"body":if(n=o.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function kp(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);Un(n)}var zo=new Map,gS=new Set;function dy(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ql=lt.d;lt.d={f:dO,r:hO,D:pO,C:gO,L:mO,m:yO,X:bO,S:vO,M:wO};function dO(){var n=Ql.f(),o=$u();return n||o}function hO(n){var o=Qn(n);o!==null&&o.tag===5&&o.type==="form"?Ed(o):Ql.r(n)}var ah=typeof document>"u"?null:document;function mS(n,o,f){var m=ah;if(m&&typeof o=="string"&&o){var R=Oe(o);R='link[rel="'+n+'"][href="'+R+'"]',typeof f=="string"&&(R+='[crossorigin="'+f+'"]'),gS.has(R)||(gS.add(R),n={rel:n,crossOrigin:f,href:o},m.querySelector(R)===null&&(o=m.createElement("link"),He(o,"link",n),Gt(o),m.head.appendChild(o)))}}function pO(n){Ql.D(n),mS("dns-prefetch",n,null)}function gO(n,o){Ql.C(n,o),mS("preconnect",n,o)}function mO(n,o,f){Ql.L(n,o,f);var m=ah;if(m&&n&&o){var R='link[rel="preload"][as="'+Oe(o)+'"]';o==="image"&&f&&f.imageSrcSet?(R+='[imagesrcset="'+Oe(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(R+='[imagesizes="'+Oe(f.imageSizes)+'"]')):R+='[href="'+Oe(n)+'"]';var F=R;switch(o){case"style":F=oh(n);break;case"script":F=sh(n)}zo.has(F)||(n=p({rel:"preload",href:o==="image"&&f&&f.imageSrcSet?void 0:n,as:o},f),zo.set(F,n),m.querySelector(R)!==null||o==="style"&&m.querySelector(jp(F))||o==="script"&&m.querySelector(Bp(F))||(o=m.createElement("link"),He(o,"link",n),Gt(o),m.head.appendChild(o)))}}function yO(n,o){Ql.m(n,o);var f=ah;if(f&&n){var m=o&&typeof o.as=="string"?o.as:"script",R='link[rel="modulepreload"][as="'+Oe(m)+'"][href="'+Oe(n)+'"]',F=R;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=sh(n)}if(!zo.has(F)&&(n=p({rel:"modulepreload",href:n},o),zo.set(F,n),f.querySelector(R)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Bp(F)))return}m=f.createElement("link"),He(m,"link",n),Gt(m),f.head.appendChild(m)}}}function vO(n,o,f){Ql.S(n,o,f);var m=ah;if(m&&n){var R=ln(m).hoistableStyles,F=oh(n);o=o||"default";var Z=R.get(F);if(!Z){var de={loading:0,preload:null};if(Z=m.querySelector(jp(F)))de.loading=5;else{n=p({rel:"stylesheet",href:n,"data-precedence":o},f),(f=zo.get(F))&&b0(n,f);var Ve=Z=m.createElement("link");Gt(Ve),He(Ve,"link",n),Ve._p=new Promise(function(vt,Dt){Ve.onload=vt,Ve.onerror=Dt}),Ve.addEventListener("load",function(){de.loading|=1}),Ve.addEventListener("error",function(){de.loading|=2}),de.loading|=4,hy(Z,o,m)}Z={type:"stylesheet",instance:Z,count:1,state:de},R.set(F,Z)}}}function bO(n,o){Ql.X(n,o);var f=ah;if(f&&n){var m=ln(f).hoistableScripts,R=sh(n),F=m.get(R);F||(F=f.querySelector(Bp(R)),F||(n=p({src:n,async:!0},o),(o=zo.get(R))&&w0(n,o),F=f.createElement("script"),Gt(F),He(F,"link",n),f.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},m.set(R,F))}}function wO(n,o){Ql.M(n,o);var f=ah;if(f&&n){var m=ln(f).hoistableScripts,R=sh(n),F=m.get(R);F||(F=f.querySelector(Bp(R)),F||(n=p({src:n,async:!0,type:"module"},o),(o=zo.get(R))&&w0(n,o),F=f.createElement("script"),Gt(F),He(F,"link",n),f.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},m.set(R,F))}}function yS(n,o,f,m){var R=(R=Pt.current)?dy(R):null;if(!R)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(o=oh(f.href),f=ln(R).hoistableStyles,m=f.get(o),m||(m={type:"style",instance:null,count:0,state:null},f.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){n=oh(f.href);var F=ln(R).hoistableStyles,Z=F.get(n);if(Z||(R=R.ownerDocument||R,Z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(n,Z),(F=R.querySelector(jp(n)))&&!F._p&&(Z.instance=F,Z.state.loading=5),zo.has(n)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},zo.set(n,f),F||_O(R,n,f,Z.state))),o&&m===null)throw Error(i(528,""));return Z}if(o&&m!==null)throw Error(i(529,""));return null;case"script":return o=f.async,f=f.src,typeof f=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=sh(f),f=ln(R).hoistableScripts,m=f.get(o),m||(m={type:"script",instance:null,count:0,state:null},f.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function oh(n){return'href="'+Oe(n)+'"'}function jp(n){return'link[rel="stylesheet"]['+n+"]"}function vS(n){return p({},n,{"data-precedence":n.precedence,precedence:null})}function _O(n,o,f,m){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=n.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),He(o,"link",f),Gt(o),n.head.appendChild(o))}function sh(n){return'[src="'+Oe(n)+'"]'}function Bp(n){return"script[async]"+n}function bS(n,o,f){if(o.count++,o.instance===null)switch(o.type){case"style":var m=n.querySelector('style[data-href~="'+Oe(f.href)+'"]');if(m)return o.instance=m,Gt(m),m;var R=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(n.ownerDocument||n).createElement("style"),Gt(m),He(m,"style",R),hy(m,f.precedence,n),o.instance=m;case"stylesheet":R=oh(f.href);var F=n.querySelector(jp(R));if(F)return o.state.loading|=4,o.instance=F,Gt(F),F;m=vS(f),(R=zo.get(R))&&b0(m,R),F=(n.ownerDocument||n).createElement("link"),Gt(F);var Z=F;return Z._p=new Promise(function(de,Ve){Z.onload=de,Z.onerror=Ve}),He(F,"link",m),o.state.loading|=4,hy(F,f.precedence,n),o.instance=F;case"script":return F=sh(f.src),(R=n.querySelector(Bp(F)))?(o.instance=R,Gt(R),R):(m=f,(R=zo.get(F))&&(m=p({},f),w0(m,R)),n=n.ownerDocument||n,R=n.createElement("script"),Gt(R),He(R,"link",m),n.head.appendChild(R),o.instance=R);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,hy(m,f.precedence,n));return o.instance}function hy(n,o,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=m.length?m[m.length-1]:null,F=R,Z=0;Z<m.length;Z++){var de=m[Z];if(de.dataset.precedence===o)F=de;else if(F!==R)break}F?F.parentNode.insertBefore(n,F.nextSibling):(o=f.nodeType===9?f.head:f,o.insertBefore(n,o.firstChild))}function b0(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function w0(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var py=null;function wS(n,o,f){if(py===null){var m=new Map,R=py=new Map;R.set(f,m)}else R=py,m=R.get(f),m||(m=new Map,R.set(f,m));if(m.has(n))return m;for(m.set(n,null),f=f.getElementsByTagName(n),R=0;R<f.length;R++){var F=f[R];if(!(F[on]||F[Ft]||n==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var Z=F.getAttribute(o)||"";Z=n+Z;var de=m.get(Z);de?de.push(F):m.set(Z,[F])}}return m}function _S(n,o,f){n=n.ownerDocument||n,n.head.insertBefore(f,o==="title"?n.querySelector("head > title"):null)}function SO(n,o,f){if(f===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return n=o.disabled,typeof o.precedence=="string"&&n==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function SS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Hp=null;function EO(){}function AO(n,o,f){if(Hp===null)throw Error(i(475));var m=Hp;if(o.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var R=oh(f.href),F=n.querySelector(jp(R));if(F){n=F._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(m.count++,m=gy.bind(m),n.then(m,m)),o.state.loading|=4,o.instance=F,Gt(F);return}F=n.ownerDocument||n,f=vS(f),(R=zo.get(R))&&b0(f,R),F=F.createElement("link"),Gt(F);var Z=F;Z._p=new Promise(function(de,Ve){Z.onload=de,Z.onerror=Ve}),He(F,"link",f),o.instance=F}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(m.count++,o=gy.bind(m),n.addEventListener("load",o),n.addEventListener("error",o))}}function xO(){if(Hp===null)throw Error(i(475));var n=Hp;return n.stylesheets&&n.count===0&&_0(n,n.stylesheets),0<n.count?function(o){var f=setTimeout(function(){if(n.stylesheets&&_0(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(f)}}:null}function gy(){if(this.count--,this.count===0){if(this.stylesheets)_0(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var my=null;function _0(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,my=new Map,o.forEach(RO,n),my=null,gy.call(n))}function RO(n,o){if(!(o.state.loading&4)){var f=my.get(n);if(f)var m=f.get(null);else{f=new Map,my.set(n,f);for(var R=n.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<R.length;F++){var Z=R[F];(Z.nodeName==="LINK"||Z.getAttribute("media")!=="not all")&&(f.set(Z.dataset.precedence,Z),m=Z)}m&&f.set(null,m)}R=o.instance,Z=R.getAttribute("data-precedence"),F=f.get(Z)||m,F===m&&f.set(null,R),f.set(Z,R),this.count++,m=gy.bind(this),R.addEventListener("load",m),R.addEventListener("error",m),F?F.parentNode.insertBefore(R,F.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(R,n.firstChild)),o.state.loading|=4}}var Vp={$$typeof:O,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function CO(n,o,f,m,R,F,Z,de){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Be(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Be(0),this.hiddenUpdates=Be(null),this.identifierPrefix=m,this.onUncaughtError=R,this.onCaughtError=F,this.onRecoverableError=Z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=de,this.incompleteTransitions=new Map}function ES(n,o,f,m,R,F,Z,de,Ve,vt,Dt,jt){return n=new CO(n,o,f,Z,de,Ve,vt,jt),o=1,F===!0&&(o|=24),F=Ci(3,null,null,o),n.current=F,F.stateNode=n,o=Fi(),o.refCount++,n.pooledCache=o,o.refCount++,F.memoizedState={element:m,isDehydrated:f,cache:o},bo(F),n}function AS(n){return n?(n=mu,n):mu}function xS(n,o,f,m,R,F){R=AS(R),m.context===null?m.context=R:m.pendingContext=R,m=Na(o),m.payload={element:f},F=F===void 0?null:F,F!==null&&(m.callback=F),f=Lo(n,m,o),f!==null&&(Ji(f,n,o),ns(f,n,o))}function RS(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var f=n.retryLane;n.retryLane=f!==0&&f<o?f:o}}function S0(n,o){RS(n,o),(n=n.alternate)&&RS(n,o)}function CS(n){if(n.tag===13){var o=Oa(n,67108864);o!==null&&Ji(o,n,67108864),S0(n,67108864)}}var yy=!0;function TO(n,o,f,m){var R=Re.T;Re.T=null;var F=lt.p;try{lt.p=2,E0(n,o,f,m)}finally{lt.p=F,Re.T=R}}function OO(n,o,f,m){var R=Re.T;Re.T=null;var F=lt.p;try{lt.p=8,E0(n,o,f,m)}finally{lt.p=F,Re.T=R}}function E0(n,o,f,m){if(yy){var R=A0(m);if(R===null)Up(n,o,m,vy,f),OS(n,m);else if(PO(R,n,o,f,m))m.stopPropagation();else if(OS(n,m),o&4&&-1<IO.indexOf(n)){for(;R!==null;){var F=Qn(R);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var Z=$n(F.pendingLanes);if(Z!==0){var de=F;for(de.pendingLanes|=2,de.entangledLanes|=2;Z;){var Ve=1<<31-G(Z);de.entanglements[1]|=Ve,Z&=~Ve}Eo(F),(Jr&6)===0&&(cs=Ne()+500,Ju(0))}}break;case 13:de=Oa(F,2),de!==null&&Ji(de,F,2),$u(),S0(F,2)}if(F=A0(m),F===null&&Up(n,o,m,vy,f),F===R)break;R=F}R!==null&&m.stopPropagation()}else Up(n,o,m,null,f)}}function A0(n){return n=gn(n),x0(n)}var vy=null;function x0(n){if(vy=null,n=xn(n),n!==null){var o=l(n);if(o===null)n=null;else{var f=o.tag;if(f===13){if(n=s(o),n!==null)return n;n=null}else if(f===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return vy=n,null}function TS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ct()){case Pe:return 2;case mt:return 8;case Tt:case bt:return 32;case Xe:return 268435456;default:return 32}default:return 32}}var R0=!1,Xu=null,Zu=null,ec=null,$p=new Map,Kp=new Map,tc=[],IO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function OS(n,o){switch(n){case"focusin":case"focusout":Xu=null;break;case"dragenter":case"dragleave":Zu=null;break;case"mouseover":case"mouseout":ec=null;break;case"pointerover":case"pointerout":$p.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kp.delete(o.pointerId)}}function Gp(n,o,f,m,R,F){return n===null||n.nativeEvent!==F?(n={blockedOn:o,domEventName:f,eventSystemFlags:m,nativeEvent:F,targetContainers:[R]},o!==null&&(o=Qn(o),o!==null&&CS(o)),n):(n.eventSystemFlags|=m,o=n.targetContainers,R!==null&&o.indexOf(R)===-1&&o.push(R),n)}function PO(n,o,f,m,R){switch(o){case"focusin":return Xu=Gp(Xu,n,o,f,m,R),!0;case"dragenter":return Zu=Gp(Zu,n,o,f,m,R),!0;case"mouseover":return ec=Gp(ec,n,o,f,m,R),!0;case"pointerover":var F=R.pointerId;return $p.set(F,Gp($p.get(F)||null,n,o,f,m,R)),!0;case"gotpointercapture":return F=R.pointerId,Kp.set(F,Gp(Kp.get(F)||null,n,o,f,m,R)),!0}return!1}function IS(n){var o=xn(n.target);if(o!==null){var f=l(o);if(f!==null){if(o=f.tag,o===13){if(o=s(f),o!==null){n.blockedOn=o,Ot(n.priority,function(){if(f.tag===13){var m=sa();m=Ht(m);var R=Oa(f,m);R!==null&&Ji(R,f,m),S0(f,m)}});return}}else if(o===3&&f.stateNode.current.memoizedState.isDehydrated){n.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}n.blockedOn=null}function by(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var f=A0(n.nativeEvent);if(f===null){f=n.nativeEvent;var m=new f.constructor(f.type,f);un=m,f.target.dispatchEvent(m),un=null}else return o=Qn(f),o!==null&&CS(o),n.blockedOn=f,!1;o.shift()}return!0}function PS(n,o,f){by(n)&&f.delete(o)}function NO(){R0=!1,Xu!==null&&by(Xu)&&(Xu=null),Zu!==null&&by(Zu)&&(Zu=null),ec!==null&&by(ec)&&(ec=null),$p.forEach(PS),Kp.forEach(PS)}function wy(n,o){n.blockedOn===o&&(n.blockedOn=null,R0||(R0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,NO)))}var _y=null;function NS(n){_y!==n&&(_y=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){_y===n&&(_y=null);for(var o=0;o<n.length;o+=3){var f=n[o],m=n[o+1],R=n[o+2];if(typeof m!="function"){if(x0(m||f)===null)continue;break}var F=Qn(f);F!==null&&(n.splice(o,3),o-=3,Sd(F,{pending:!0,data:R,method:f.method,action:m},m,R))}}))}function qp(n){function o(Ve){return wy(Ve,n)}Xu!==null&&wy(Xu,n),Zu!==null&&wy(Zu,n),ec!==null&&wy(ec,n),$p.forEach(o),Kp.forEach(o);for(var f=0;f<tc.length;f++){var m=tc[f];m.blockedOn===n&&(m.blockedOn=null)}for(;0<tc.length&&(f=tc[0],f.blockedOn===null);)IS(f),f.blockedOn===null&&tc.shift();if(f=(n.ownerDocument||n).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var R=f[m],F=f[m+1],Z=R[Zt]||null;if(typeof F=="function")Z||NS(f);else if(Z){var de=null;if(F&&F.hasAttribute("formAction")){if(R=F,Z=F[Zt]||null)de=Z.formAction;else if(x0(R)!==null)continue}else de=Z.action;typeof de=="function"?f[m+1]=de:(f.splice(m,3),m-=3),NS(f)}}}function C0(n){this._internalRoot=n}Sy.prototype.render=C0.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(i(409));var f=o.current,m=sa();xS(f,m,n,o,null,null)},Sy.prototype.unmount=C0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;xS(n.current,2,null,n,null,null),$u(),o[nn]=null}};function Sy(n){this._internalRoot=n}Sy.prototype.unstable_scheduleHydration=function(n){if(n){var o=ve();n={blockedOn:null,target:n,priority:o};for(var f=0;f<tc.length&&o!==0&&o<tc[f].priority;f++);tc.splice(f,0,n),f===0&&IS(n)}};var FS=t.version;if(FS!=="19.1.0")throw Error(i(527,FS,"19.1.0"));lt.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=d(o),n=n!==null?c(n):null,n=n===null?null:n.stateNode,n};var FO={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Re,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ey=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ey.isDisabled&&Ey.supportsFiber)try{et=Ey.inject(FO),Q=Ey}catch{}}return Wp.createRoot=function(n,o){if(!a(n))throw Error(i(299));var f=!1,m="",R=s0,F=l0,Z=u0,de=null;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(R=o.onUncaughtError),o.onCaughtError!==void 0&&(F=o.onCaughtError),o.onRecoverableError!==void 0&&(Z=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(de=o.unstable_transitionCallbacks)),o=ES(n,1,!1,null,null,f,m,R,F,Z,de,null),n[nn]=o.current,Lp(n),new C0(o)},Wp.hydrateRoot=function(n,o,f){if(!a(n))throw Error(i(299));var m=!1,R="",F=s0,Z=l0,de=u0,Ve=null,vt=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(R=f.identifierPrefix),f.onUncaughtError!==void 0&&(F=f.onUncaughtError),f.onCaughtError!==void 0&&(Z=f.onCaughtError),f.onRecoverableError!==void 0&&(de=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(Ve=f.unstable_transitionCallbacks),f.formState!==void 0&&(vt=f.formState)),o=ES(n,1,!0,o,f??null,m,R,F,Z,de,Ve,vt),o.context=AS(null),f=o.current,m=sa(),m=Ht(m),R=Na(m),R.callback=null,Lo(f,R,m),f=m,o.current.lanes=f,pt(o,f),Eo(o),n[nn]=o.current,Lp(n),new Sy(o)},Wp.version="19.1.0",Wp}var GS;function $O(){if(GS)return I0.exports;GS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),I0.exports=VO(),I0.exports}var KO=$O(),zy={exports:{}},st={},Df={},Jp={},D0={},Yp={},qS;function GO(){if(qS)return Yp;qS=1,Yp.byteLength=u,Yp.toByteArray=c,Yp.fromByteArray=w;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=i.length;a<l;++a)e[a]=i[a],t[i.charCodeAt(a)]=a;t[45]=62,t[95]=63;function s(_){var T=_.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=_.indexOf("=");x===-1&&(x=T);var C=x===T?0:4-x%4;return[x,C]}function u(_){var T=s(_),x=T[0],C=T[1];return(x+C)*3/4-C}function d(_,T,x){return(T+x)*3/4-x}function c(_){var T,x=s(_),C=x[0],E=x[1],I=new r(d(_,C,E)),O=0,H=E>0?C-4:C,L;for(L=0;L<H;L+=4)T=t[_.charCodeAt(L)]<<18|t[_.charCodeAt(L+1)]<<12|t[_.charCodeAt(L+2)]<<6|t[_.charCodeAt(L+3)],I[O++]=T>>16&255,I[O++]=T>>8&255,I[O++]=T&255;return E===2&&(T=t[_.charCodeAt(L)]<<2|t[_.charCodeAt(L+1)]>>4,I[O++]=T&255),E===1&&(T=t[_.charCodeAt(L)]<<10|t[_.charCodeAt(L+1)]<<4|t[_.charCodeAt(L+2)]>>2,I[O++]=T>>8&255,I[O++]=T&255),I}function p(_){return e[_>>18&63]+e[_>>12&63]+e[_>>6&63]+e[_&63]}function g(_,T,x){for(var C,E=[],I=T;I<x;I+=3)C=(_[I]<<16&16711680)+(_[I+1]<<8&65280)+(_[I+2]&255),E.push(p(C));return E.join("")}function w(_){for(var T,x=_.length,C=x%3,E=[],I=16383,O=0,H=x-C;O<H;O+=I)E.push(g(_,O,O+I>H?H:O+I));return C===1?(T=_[x-1],E.push(e[T>>2]+e[T<<4&63]+"==")):C===2&&(T=(_[x-2]<<8)+_[x-1],E.push(e[T>>10]+e[T>>4&63]+e[T<<2&63]+"=")),E.join("")}return Yp}var Ay={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var zS;function qO(){return zS||(zS=1,Ay.read=function(e,t,r,i,a){var l,s,u=a*8-i-1,d=(1<<u)-1,c=d>>1,p=-7,g=r?a-1:0,w=r?-1:1,_=e[t+g];for(g+=w,l=_&(1<<-p)-1,_>>=-p,p+=u;p>0;l=l*256+e[t+g],g+=w,p-=8);for(s=l&(1<<-p)-1,l>>=-p,p+=i;p>0;s=s*256+e[t+g],g+=w,p-=8);if(l===0)l=1-c;else{if(l===d)return s?NaN:(_?-1:1)*(1/0);s=s+Math.pow(2,i),l=l-c}return(_?-1:1)*s*Math.pow(2,l-i)},Ay.write=function(e,t,r,i,a,l){var s,u,d,c=l*8-a-1,p=(1<<c)-1,g=p>>1,w=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=i?0:l-1,T=i?1:-1,x=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,s=p):(s=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-s))<1&&(s--,d*=2),s+g>=1?t+=w/d:t+=w*Math.pow(2,1-g),t*d>=2&&(s++,d/=2),s+g>=p?(u=0,s=p):s+g>=1?(u=(t*d-1)*Math.pow(2,a),s=s+g):(u=t*Math.pow(2,g-1)*Math.pow(2,a),s=0));a>=8;e[r+_]=u&255,_+=T,u/=256,a-=8);for(s=s<<a|u,c+=a;c>0;e[r+_]=s&255,_+=T,s/=256,c-=8);e[r+_-T]|=x*128}),Ay}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var WS;function el(){return WS||(WS=1,function(e){const t=GO(),r=qO(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=I,e.INSPECT_MAX_BYTES=50;const a=2147483647;e.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=l(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const Q=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(Q,j),Q.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function s(Q){if(Q>a)throw new RangeError('The value "'+Q+'" is invalid for option "size"');const j=new Uint8Array(Q);return Object.setPrototypeOf(j,u.prototype),j}function u(Q,j,G){if(typeof Q=="number"){if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(Q)}return d(Q,j,G)}u.poolSize=8192;function d(Q,j,G){if(typeof Q=="string")return w(Q,j);if(ArrayBuffer.isView(Q))return T(Q);if(Q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q);if(bt(Q,ArrayBuffer)||Q&&bt(Q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(bt(Q,SharedArrayBuffer)||Q&&bt(Q.buffer,SharedArrayBuffer)))return x(Q,j,G);if(typeof Q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const V=Q.valueOf&&Q.valueOf();if(V!=null&&V!==Q)return u.from(V,j,G);const Je=C(Q);if(Je)return Je;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Q[Symbol.toPrimitive]=="function")return u.from(Q[Symbol.toPrimitive]("string"),j,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q)}u.from=function(Q,j,G){return d(Q,j,G)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function c(Q){if(typeof Q!="number")throw new TypeError('"size" argument must be of type number');if(Q<0)throw new RangeError('The value "'+Q+'" is invalid for option "size"')}function p(Q,j,G){return c(Q),Q<=0?s(Q):j!==void 0?typeof G=="string"?s(Q).fill(j,G):s(Q).fill(j):s(Q)}u.alloc=function(Q,j,G){return p(Q,j,G)};function g(Q){return c(Q),s(Q<0?0:E(Q)|0)}u.allocUnsafe=function(Q){return g(Q)},u.allocUnsafeSlow=function(Q){return g(Q)};function w(Q,j){if((typeof j!="string"||j==="")&&(j="utf8"),!u.isEncoding(j))throw new TypeError("Unknown encoding: "+j);const G=O(Q,j)|0;let V=s(G);const Je=V.write(Q,j);return Je!==G&&(V=V.slice(0,Je)),V}function _(Q){const j=Q.length<0?0:E(Q.length)|0,G=s(j);for(let V=0;V<j;V+=1)G[V]=Q[V]&255;return G}function T(Q){if(bt(Q,Uint8Array)){const j=new Uint8Array(Q);return x(j.buffer,j.byteOffset,j.byteLength)}return _(Q)}function x(Q,j,G){if(j<0||Q.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<j+(G||0))throw new RangeError('"length" is outside of buffer bounds');let V;return j===void 0&&G===void 0?V=new Uint8Array(Q):G===void 0?V=new Uint8Array(Q,j):V=new Uint8Array(Q,j,G),Object.setPrototypeOf(V,u.prototype),V}function C(Q){if(u.isBuffer(Q)){const j=E(Q.length)|0,G=s(j);return G.length===0||Q.copy(G,0,0,j),G}if(Q.length!==void 0)return typeof Q.length!="number"||Xe(Q.length)?s(0):_(Q);if(Q.type==="Buffer"&&Array.isArray(Q.data))return _(Q.data)}function E(Q){if(Q>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return Q|0}function I(Q){return+Q!=Q&&(Q=0),u.alloc(+Q)}u.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==u.prototype},u.compare=function(j,G){if(bt(j,Uint8Array)&&(j=u.from(j,j.offset,j.byteLength)),bt(G,Uint8Array)&&(G=u.from(G,G.offset,G.byteLength)),!u.isBuffer(j)||!u.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===G)return 0;let V=j.length,Je=G.length;for(let ot=0,Qe=Math.min(V,Je);ot<Qe;++ot)if(j[ot]!==G[ot]){V=j[ot],Je=G[ot];break}return V<Je?-1:Je<V?1:0},u.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(j,G){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return u.alloc(0);let V;if(G===void 0)for(G=0,V=0;V<j.length;++V)G+=j[V].length;const Je=u.allocUnsafe(G);let ot=0;for(V=0;V<j.length;++V){let Qe=j[V];if(bt(Qe,Uint8Array))ot+Qe.length>Je.length?(u.isBuffer(Qe)||(Qe=u.from(Qe)),Qe.copy(Je,ot)):Uint8Array.prototype.set.call(Je,Qe,ot);else if(u.isBuffer(Qe))Qe.copy(Je,ot);else throw new TypeError('"list" argument must be an Array of Buffers');ot+=Qe.length}return Je};function O(Q,j){if(u.isBuffer(Q))return Q.length;if(ArrayBuffer.isView(Q)||bt(Q,ArrayBuffer))return Q.byteLength;if(typeof Q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Q);const G=Q.length,V=arguments.length>2&&arguments[2]===!0;if(!V&&G===0)return 0;let Je=!1;for(;;)switch(j){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return Ne(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G*2;case"hex":return G>>>1;case"base64":return mt(Q).length;default:if(Je)return V?-1:Ne(Q).length;j=(""+j).toLowerCase(),Je=!0}}u.byteLength=O;function H(Q,j,G){let V=!1;if((j===void 0||j<0)&&(j=0),j>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0,j>>>=0,G<=j))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return rt(this,j,G);case"utf8":case"utf-8":return Ze(this,j,G);case"ascii":return lt(this,j,G);case"latin1":case"binary":return ge(this,j,G);case"base64":return be(this,j,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,j,G);default:if(V)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),V=!0}}u.prototype._isBuffer=!0;function L(Q,j,G){const V=Q[j];Q[j]=Q[G],Q[G]=V}u.prototype.swap16=function(){const j=this.length;if(j%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let G=0;G<j;G+=2)L(this,G,G+1);return this},u.prototype.swap32=function(){const j=this.length;if(j%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let G=0;G<j;G+=4)L(this,G,G+3),L(this,G+1,G+2);return this},u.prototype.swap64=function(){const j=this.length;if(j%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let G=0;G<j;G+=8)L(this,G,G+7),L(this,G+1,G+6),L(this,G+2,G+5),L(this,G+3,G+4);return this},u.prototype.toString=function(){const j=this.length;return j===0?"":arguments.length===0?Ze(this,0,j):H.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(j){if(!u.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j?!0:u.compare(this,j)===0},u.prototype.inspect=function(){let j="";const G=e.INSPECT_MAX_BYTES;return j=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(j+=" ... "),"<Buffer "+j+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(j,G,V,Je,ot){if(bt(j,Uint8Array)&&(j=u.from(j,j.offset,j.byteLength)),!u.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(G===void 0&&(G=0),V===void 0&&(V=j?j.length:0),Je===void 0&&(Je=0),ot===void 0&&(ot=this.length),G<0||V>j.length||Je<0||ot>this.length)throw new RangeError("out of range index");if(Je>=ot&&G>=V)return 0;if(Je>=ot)return-1;if(G>=V)return 1;if(G>>>=0,V>>>=0,Je>>>=0,ot>>>=0,this===j)return 0;let Qe=ot-Je,Yt=V-G;const $n=Math.min(Qe,Yt),qn=this.slice(Je,ot),sn=j.slice(G,V);for(let ze=0;ze<$n;++ze)if(qn[ze]!==sn[ze]){Qe=qn[ze],Yt=sn[ze];break}return Qe<Yt?-1:Yt<Qe?1:0};function q(Q,j,G,V,Je){if(Q.length===0)return-1;if(typeof G=="string"?(V=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),G=+G,Xe(G)&&(G=Je?0:Q.length-1),G<0&&(G=Q.length+G),G>=Q.length){if(Je)return-1;G=Q.length-1}else if(G<0)if(Je)G=0;else return-1;if(typeof j=="string"&&(j=u.from(j,V)),u.isBuffer(j))return j.length===0?-1:W(Q,j,G,V,Je);if(typeof j=="number")return j=j&255,typeof Uint8Array.prototype.indexOf=="function"?Je?Uint8Array.prototype.indexOf.call(Q,j,G):Uint8Array.prototype.lastIndexOf.call(Q,j,G):W(Q,[j],G,V,Je);throw new TypeError("val must be string, number or Buffer")}function W(Q,j,G,V,Je){let ot=1,Qe=Q.length,Yt=j.length;if(V!==void 0&&(V=String(V).toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(Q.length<2||j.length<2)return-1;ot=2,Qe/=2,Yt/=2,G/=2}function $n(sn,ze){return ot===1?sn[ze]:sn.readUInt16BE(ze*ot)}let qn;if(Je){let sn=-1;for(qn=G;qn<Qe;qn++)if($n(Q,qn)===$n(j,sn===-1?0:qn-sn)){if(sn===-1&&(sn=qn),qn-sn+1===Yt)return sn*ot}else sn!==-1&&(qn-=qn-sn),sn=-1}else for(G+Yt>Qe&&(G=Qe-Yt),qn=G;qn>=0;qn--){let sn=!0;for(let ze=0;ze<Yt;ze++)if($n(Q,qn+ze)!==$n(j,ze)){sn=!1;break}if(sn)return qn}return-1}u.prototype.includes=function(j,G,V){return this.indexOf(j,G,V)!==-1},u.prototype.indexOf=function(j,G,V){return q(this,j,G,V,!0)},u.prototype.lastIndexOf=function(j,G,V){return q(this,j,G,V,!1)};function $(Q,j,G,V){G=Number(G)||0;const Je=Q.length-G;V?(V=Number(V),V>Je&&(V=Je)):V=Je;const ot=j.length;V>ot/2&&(V=ot/2);let Qe;for(Qe=0;Qe<V;++Qe){const Yt=parseInt(j.substr(Qe*2,2),16);if(Xe(Yt))return Qe;Q[G+Qe]=Yt}return Qe}function Ae(Q,j,G,V){return Tt(Ne(j,Q.length-G),Q,G,V)}function K(Q,j,G,V){return Tt(ct(j),Q,G,V)}function ae(Q,j,G,V){return Tt(mt(j),Q,G,V)}function pe(Q,j,G,V){return Tt(Pe(j,Q.length-G),Q,G,V)}u.prototype.write=function(j,G,V,Je){if(G===void 0)Je="utf8",V=this.length,G=0;else if(V===void 0&&typeof G=="string")Je=G,V=this.length,G=0;else if(isFinite(G))G=G>>>0,isFinite(V)?(V=V>>>0,Je===void 0&&(Je="utf8")):(Je=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ot=this.length-G;if((V===void 0||V>ot)&&(V=ot),j.length>0&&(V<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");Je||(Je="utf8");let Qe=!1;for(;;)switch(Je){case"hex":return $(this,j,G,V);case"utf8":case"utf-8":return Ae(this,j,G,V);case"ascii":case"latin1":case"binary":return K(this,j,G,V);case"base64":return ae(this,j,G,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,j,G,V);default:if(Qe)throw new TypeError("Unknown encoding: "+Je);Je=(""+Je).toLowerCase(),Qe=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function be(Q,j,G){return j===0&&G===Q.length?t.fromByteArray(Q):t.fromByteArray(Q.slice(j,G))}function Ze(Q,j,G){G=Math.min(Q.length,G);const V=[];let Je=j;for(;Je<G;){const ot=Q[Je];let Qe=null,Yt=ot>239?4:ot>223?3:ot>191?2:1;if(Je+Yt<=G){let $n,qn,sn,ze;switch(Yt){case 1:ot<128&&(Qe=ot);break;case 2:$n=Q[Je+1],($n&192)===128&&(ze=(ot&31)<<6|$n&63,ze>127&&(Qe=ze));break;case 3:$n=Q[Je+1],qn=Q[Je+2],($n&192)===128&&(qn&192)===128&&(ze=(ot&15)<<12|($n&63)<<6|qn&63,ze>2047&&(ze<55296||ze>57343)&&(Qe=ze));break;case 4:$n=Q[Je+1],qn=Q[Je+2],sn=Q[Je+3],($n&192)===128&&(qn&192)===128&&(sn&192)===128&&(ze=(ot&15)<<18|($n&63)<<12|(qn&63)<<6|sn&63,ze>65535&&ze<1114112&&(Qe=ze))}}Qe===null?(Qe=65533,Yt=1):Qe>65535&&(Qe-=65536,V.push(Qe>>>10&1023|55296),Qe=56320|Qe&1023),V.push(Qe),Je+=Yt}return Re(V)}const it=4096;function Re(Q){const j=Q.length;if(j<=it)return String.fromCharCode.apply(String,Q);let G="",V=0;for(;V<j;)G+=String.fromCharCode.apply(String,Q.slice(V,V+=it));return G}function lt(Q,j,G){let V="";G=Math.min(Q.length,G);for(let Je=j;Je<G;++Je)V+=String.fromCharCode(Q[Je]&127);return V}function ge(Q,j,G){let V="";G=Math.min(Q.length,G);for(let Je=j;Je<G;++Je)V+=String.fromCharCode(Q[Je]);return V}function rt(Q,j,G){const V=Q.length;(!j||j<0)&&(j=0),(!G||G<0||G>V)&&(G=V);let Je="";for(let ot=j;ot<G;++ot)Je+=qe[Q[ot]];return Je}function Y(Q,j,G){const V=Q.slice(j,G);let Je="";for(let ot=0;ot<V.length-1;ot+=2)Je+=String.fromCharCode(V[ot]+V[ot+1]*256);return Je}u.prototype.slice=function(j,G){const V=this.length;j=~~j,G=G===void 0?V:~~G,j<0?(j+=V,j<0&&(j=0)):j>V&&(j=V),G<0?(G+=V,G<0&&(G=0)):G>V&&(G=V),G<j&&(G=j);const Je=this.subarray(j,G);return Object.setPrototypeOf(Je,u.prototype),Je};function xe(Q,j,G){if(Q%1!==0||Q<0)throw new RangeError("offset is not uint");if(Q+j>G)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(j,G,V){j=j>>>0,G=G>>>0,V||xe(j,G,this.length);let Je=this[j],ot=1,Qe=0;for(;++Qe<G&&(ot*=256);)Je+=this[j+Qe]*ot;return Je},u.prototype.readUintBE=u.prototype.readUIntBE=function(j,G,V){j=j>>>0,G=G>>>0,V||xe(j,G,this.length);let Je=this[j+--G],ot=1;for(;G>0&&(ot*=256);)Je+=this[j+--G]*ot;return Je},u.prototype.readUint8=u.prototype.readUInt8=function(j,G){return j=j>>>0,G||xe(j,1,this.length),this[j]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(j,G){return j=j>>>0,G||xe(j,2,this.length),this[j]|this[j+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(j,G){return j=j>>>0,G||xe(j,2,this.length),this[j]<<8|this[j+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(j,G){return j=j>>>0,G||xe(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+this[j+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(j,G){return j=j>>>0,G||xe(j,4,this.length),this[j]*16777216+(this[j+1]<<16|this[j+2]<<8|this[j+3])},u.prototype.readBigUInt64LE=Fe(function(j){j=j>>>0,D(j,"offset");const G=this[j],V=this[j+7];(G===void 0||V===void 0)&&z(j,this.length-8);const Je=G+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24,ot=this[++j]+this[++j]*2**8+this[++j]*2**16+V*2**24;return BigInt(Je)+(BigInt(ot)<<BigInt(32))}),u.prototype.readBigUInt64BE=Fe(function(j){j=j>>>0,D(j,"offset");const G=this[j],V=this[j+7];(G===void 0||V===void 0)&&z(j,this.length-8);const Je=G*2**24+this[++j]*2**16+this[++j]*2**8+this[++j],ot=this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+V;return(BigInt(Je)<<BigInt(32))+BigInt(ot)}),u.prototype.readIntLE=function(j,G,V){j=j>>>0,G=G>>>0,V||xe(j,G,this.length);let Je=this[j],ot=1,Qe=0;for(;++Qe<G&&(ot*=256);)Je+=this[j+Qe]*ot;return ot*=128,Je>=ot&&(Je-=Math.pow(2,8*G)),Je},u.prototype.readIntBE=function(j,G,V){j=j>>>0,G=G>>>0,V||xe(j,G,this.length);let Je=G,ot=1,Qe=this[j+--Je];for(;Je>0&&(ot*=256);)Qe+=this[j+--Je]*ot;return ot*=128,Qe>=ot&&(Qe-=Math.pow(2,8*G)),Qe},u.prototype.readInt8=function(j,G){return j=j>>>0,G||xe(j,1,this.length),this[j]&128?(255-this[j]+1)*-1:this[j]},u.prototype.readInt16LE=function(j,G){j=j>>>0,G||xe(j,2,this.length);const V=this[j]|this[j+1]<<8;return V&32768?V|4294901760:V},u.prototype.readInt16BE=function(j,G){j=j>>>0,G||xe(j,2,this.length);const V=this[j+1]|this[j]<<8;return V&32768?V|4294901760:V},u.prototype.readInt32LE=function(j,G){return j=j>>>0,G||xe(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},u.prototype.readInt32BE=function(j,G){return j=j>>>0,G||xe(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},u.prototype.readBigInt64LE=Fe(function(j){j=j>>>0,D(j,"offset");const G=this[j],V=this[j+7];(G===void 0||V===void 0)&&z(j,this.length-8);const Je=this[j+4]+this[j+5]*2**8+this[j+6]*2**16+(V<<24);return(BigInt(Je)<<BigInt(32))+BigInt(G+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24)}),u.prototype.readBigInt64BE=Fe(function(j){j=j>>>0,D(j,"offset");const G=this[j],V=this[j+7];(G===void 0||V===void 0)&&z(j,this.length-8);const Je=(G<<24)+this[++j]*2**16+this[++j]*2**8+this[++j];return(BigInt(Je)<<BigInt(32))+BigInt(this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+V)}),u.prototype.readFloatLE=function(j,G){return j=j>>>0,G||xe(j,4,this.length),r.read(this,j,!0,23,4)},u.prototype.readFloatBE=function(j,G){return j=j>>>0,G||xe(j,4,this.length),r.read(this,j,!1,23,4)},u.prototype.readDoubleLE=function(j,G){return j=j>>>0,G||xe(j,8,this.length),r.read(this,j,!0,52,8)},u.prototype.readDoubleBE=function(j,G){return j=j>>>0,G||xe(j,8,this.length),r.read(this,j,!1,52,8)};function $e(Q,j,G,V,Je,ot){if(!u.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>Je||j<ot)throw new RangeError('"value" argument is out of bounds');if(G+V>Q.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(j,G,V,Je){if(j=+j,G=G>>>0,V=V>>>0,!Je){const Yt=Math.pow(2,8*V)-1;$e(this,j,G,V,Yt,0)}let ot=1,Qe=0;for(this[G]=j&255;++Qe<V&&(ot*=256);)this[G+Qe]=j/ot&255;return G+V},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(j,G,V,Je){if(j=+j,G=G>>>0,V=V>>>0,!Je){const Yt=Math.pow(2,8*V)-1;$e(this,j,G,V,Yt,0)}let ot=V-1,Qe=1;for(this[G+ot]=j&255;--ot>=0&&(Qe*=256);)this[G+ot]=j/Qe&255;return G+V},u.prototype.writeUint8=u.prototype.writeUInt8=function(j,G,V){return j=+j,G=G>>>0,V||$e(this,j,G,1,255,0),this[G]=j&255,G+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(j,G,V){return j=+j,G=G>>>0,V||$e(this,j,G,2,65535,0),this[G]=j&255,this[G+1]=j>>>8,G+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(j,G,V){return j=+j,G=G>>>0,V||$e(this,j,G,2,65535,0),this[G]=j>>>8,this[G+1]=j&255,G+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(j,G,V){return j=+j,G=G>>>0,V||$e(this,j,G,4,4294967295,0),this[G+3]=j>>>24,this[G+2]=j>>>16,this[G+1]=j>>>8,this[G]=j&255,G+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(j,G,V){return j=+j,G=G>>>0,V||$e(this,j,G,4,4294967295,0),this[G]=j>>>24,this[G+1]=j>>>16,this[G+2]=j>>>8,this[G+3]=j&255,G+4};function Me(Q,j,G,V,Je){k(j,V,Je,Q,G,7);let ot=Number(j&BigInt(4294967295));Q[G++]=ot,ot=ot>>8,Q[G++]=ot,ot=ot>>8,Q[G++]=ot,ot=ot>>8,Q[G++]=ot;let Qe=Number(j>>BigInt(32)&BigInt(4294967295));return Q[G++]=Qe,Qe=Qe>>8,Q[G++]=Qe,Qe=Qe>>8,Q[G++]=Qe,Qe=Qe>>8,Q[G++]=Qe,G}function at(Q,j,G,V,Je){k(j,V,Je,Q,G,7);let ot=Number(j&BigInt(4294967295));Q[G+7]=ot,ot=ot>>8,Q[G+6]=ot,ot=ot>>8,Q[G+5]=ot,ot=ot>>8,Q[G+4]=ot;let Qe=Number(j>>BigInt(32)&BigInt(4294967295));return Q[G+3]=Qe,Qe=Qe>>8,Q[G+2]=Qe,Qe=Qe>>8,Q[G+1]=Qe,Qe=Qe>>8,Q[G]=Qe,G+8}u.prototype.writeBigUInt64LE=Fe(function(j,G=0){return Me(this,j,G,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Fe(function(j,G=0){return at(this,j,G,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(j,G,V,Je){if(j=+j,G=G>>>0,!Je){const $n=Math.pow(2,8*V-1);$e(this,j,G,V,$n-1,-$n)}let ot=0,Qe=1,Yt=0;for(this[G]=j&255;++ot<V&&(Qe*=256);)j<0&&Yt===0&&this[G+ot-1]!==0&&(Yt=1),this[G+ot]=(j/Qe>>0)-Yt&255;return G+V},u.prototype.writeIntBE=function(j,G,V,Je){if(j=+j,G=G>>>0,!Je){const $n=Math.pow(2,8*V-1);$e(this,j,G,V,$n-1,-$n)}let ot=V-1,Qe=1,Yt=0;for(this[G+ot]=j&255;--ot>=0&&(Qe*=256);)j<0&&Yt===0&&this[G+ot+1]!==0&&(Yt=1),this[G+ot]=(j/Qe>>0)-Yt&255;return G+V},u.prototype.writeInt8=function(j,G,V){return j=+j,G=G>>>0,V||$e(this,j,G,1,127,-128),j<0&&(j=255+j+1),this[G]=j&255,G+1},u.prototype.writeInt16LE=function(j,G,V){return j=+j,G=G>>>0,V||$e(this,j,G,2,32767,-32768),this[G]=j&255,this[G+1]=j>>>8,G+2},u.prototype.writeInt16BE=function(j,G,V){return j=+j,G=G>>>0,V||$e(this,j,G,2,32767,-32768),this[G]=j>>>8,this[G+1]=j&255,G+2},u.prototype.writeInt32LE=function(j,G,V){return j=+j,G=G>>>0,V||$e(this,j,G,4,2147483647,-2147483648),this[G]=j&255,this[G+1]=j>>>8,this[G+2]=j>>>16,this[G+3]=j>>>24,G+4},u.prototype.writeInt32BE=function(j,G,V){return j=+j,G=G>>>0,V||$e(this,j,G,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[G]=j>>>24,this[G+1]=j>>>16,this[G+2]=j>>>8,this[G+3]=j&255,G+4},u.prototype.writeBigInt64LE=Fe(function(j,G=0){return Me(this,j,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Fe(function(j,G=0){return at(this,j,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function It(Q,j,G,V,Je,ot){if(G+V>Q.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function Pt(Q,j,G,V,Je){return j=+j,G=G>>>0,Je||It(Q,j,G,4),r.write(Q,j,G,V,23,4),G+4}u.prototype.writeFloatLE=function(j,G,V){return Pt(this,j,G,!0,V)},u.prototype.writeFloatBE=function(j,G,V){return Pt(this,j,G,!1,V)};function Le(Q,j,G,V,Je){return j=+j,G=G>>>0,Je||It(Q,j,G,8),r.write(Q,j,G,V,52,8),G+8}u.prototype.writeDoubleLE=function(j,G,V){return Le(this,j,G,!0,V)},u.prototype.writeDoubleBE=function(j,G,V){return Le(this,j,G,!1,V)},u.prototype.copy=function(j,G,V,Je){if(!u.isBuffer(j))throw new TypeError("argument should be a Buffer");if(V||(V=0),!Je&&Je!==0&&(Je=this.length),G>=j.length&&(G=j.length),G||(G=0),Je>0&&Je<V&&(Je=V),Je===V||j.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(Je<0)throw new RangeError("sourceEnd out of bounds");Je>this.length&&(Je=this.length),j.length-G<Je-V&&(Je=j.length-G+V);const ot=Je-V;return this===j&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(G,V,Je):Uint8Array.prototype.set.call(j,this.subarray(V,Je),G),ot},u.prototype.fill=function(j,G,V,Je){if(typeof j=="string"){if(typeof G=="string"?(Je=G,G=0,V=this.length):typeof V=="string"&&(Je=V,V=this.length),Je!==void 0&&typeof Je!="string")throw new TypeError("encoding must be a string");if(typeof Je=="string"&&!u.isEncoding(Je))throw new TypeError("Unknown encoding: "+Je);if(j.length===1){const Qe=j.charCodeAt(0);(Je==="utf8"&&Qe<128||Je==="latin1")&&(j=Qe)}}else typeof j=="number"?j=j&255:typeof j=="boolean"&&(j=Number(j));if(G<0||this.length<G||this.length<V)throw new RangeError("Out of range index");if(V<=G)return this;G=G>>>0,V=V===void 0?this.length:V>>>0,j||(j=0);let ot;if(typeof j=="number")for(ot=G;ot<V;++ot)this[ot]=j;else{const Qe=u.isBuffer(j)?j:u.from(j,Je),Yt=Qe.length;if(Yt===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(ot=0;ot<V-G;++ot)this[ot+G]=Qe[ot%Yt]}return this};const ce={};function Ie(Q,j,G){ce[Q]=class extends G{constructor(){super(),Object.defineProperty(this,"message",{value:j.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Q}]`,this.stack,delete this.name}get code(){return Q}set code(Je){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Je,writable:!0})}toString(){return`${this.name} [${Q}]: ${this.message}`}}}Ie("ERR_BUFFER_OUT_OF_BOUNDS",function(Q){return Q?`${Q} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ie("ERR_INVALID_ARG_TYPE",function(Q,j){return`The "${Q}" argument must be of type number. Received type ${typeof j}`},TypeError),Ie("ERR_OUT_OF_RANGE",function(Q,j,G){let V=`The value of "${Q}" is out of range.`,Je=G;return Number.isInteger(G)&&Math.abs(G)>2**32?Je=Ye(String(G)):typeof G=="bigint"&&(Je=String(G),(G>BigInt(2)**BigInt(32)||G<-(BigInt(2)**BigInt(32)))&&(Je=Ye(Je)),Je+="n"),V+=` It must be ${j}. Received ${Je}`,V},RangeError);function Ye(Q){let j="",G=Q.length;const V=Q[0]==="-"?1:0;for(;G>=V+4;G-=3)j=`_${Q.slice(G-3,G)}${j}`;return`${Q.slice(0,G)}${j}`}function se(Q,j,G){D(j,"offset"),(Q[j]===void 0||Q[j+G]===void 0)&&z(j,Q.length-(G+1))}function k(Q,j,G,V,Je,ot){if(Q>G||Q<j){const Qe=typeof j=="bigint"?"n":"";let Yt;throw j===0||j===BigInt(0)?Yt=`>= 0${Qe} and < 2${Qe} ** ${(ot+1)*8}${Qe}`:Yt=`>= -(2${Qe} ** ${(ot+1)*8-1}${Qe}) and < 2 ** ${(ot+1)*8-1}${Qe}`,new ce.ERR_OUT_OF_RANGE("value",Yt,Q)}se(V,Je,ot)}function D(Q,j){if(typeof Q!="number")throw new ce.ERR_INVALID_ARG_TYPE(j,"number",Q)}function z(Q,j,G){throw Math.floor(Q)!==Q?(D(Q,G),new ce.ERR_OUT_OF_RANGE("offset","an integer",Q)):j<0?new ce.ERR_BUFFER_OUT_OF_BOUNDS:new ce.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${j}`,Q)}const re=/[^+/0-9A-Za-z-_]/g;function Se(Q){if(Q=Q.split("=")[0],Q=Q.trim().replace(re,""),Q.length<2)return"";for(;Q.length%4!==0;)Q=Q+"=";return Q}function Ne(Q,j){j=j||1/0;let G;const V=Q.length;let Je=null;const ot=[];for(let Qe=0;Qe<V;++Qe){if(G=Q.charCodeAt(Qe),G>55295&&G<57344){if(!Je){if(G>56319){(j-=3)>-1&&ot.push(239,191,189);continue}else if(Qe+1===V){(j-=3)>-1&&ot.push(239,191,189);continue}Je=G;continue}if(G<56320){(j-=3)>-1&&ot.push(239,191,189),Je=G;continue}G=(Je-55296<<10|G-56320)+65536}else Je&&(j-=3)>-1&&ot.push(239,191,189);if(Je=null,G<128){if((j-=1)<0)break;ot.push(G)}else if(G<2048){if((j-=2)<0)break;ot.push(G>>6|192,G&63|128)}else if(G<65536){if((j-=3)<0)break;ot.push(G>>12|224,G>>6&63|128,G&63|128)}else if(G<1114112){if((j-=4)<0)break;ot.push(G>>18|240,G>>12&63|128,G>>6&63|128,G&63|128)}else throw new Error("Invalid code point")}return ot}function ct(Q){const j=[];for(let G=0;G<Q.length;++G)j.push(Q.charCodeAt(G)&255);return j}function Pe(Q,j){let G,V,Je;const ot=[];for(let Qe=0;Qe<Q.length&&!((j-=2)<0);++Qe)G=Q.charCodeAt(Qe),V=G>>8,Je=G%256,ot.push(Je),ot.push(V);return ot}function mt(Q){return t.toByteArray(Se(Q))}function Tt(Q,j,G,V){let Je;for(Je=0;Je<V&&!(Je+G>=j.length||Je>=Q.length);++Je)j[Je+G]=Q[Je];return Je}function bt(Q,j){return Q instanceof j||Q!=null&&Q.constructor!=null&&Q.constructor.name!=null&&Q.constructor.name===j.name}function Xe(Q){return Q!==Q}const qe=function(){const Q="0123456789abcdef",j=new Array(256);for(let G=0;G<16;++G){const V=G*16;for(let Je=0;Je<16;++Je)j[V+Je]=Q[G]+Q[Je]}return j}();function Fe(Q){return typeof BigInt>"u"?et:Q}function et(){throw new Error("BigInt not supported")}}(D0)),D0}var M0,JS;function zO(){if(JS)return M0;JS=1;var{Buffer:e}=el(),t={},r=t.LEFT_BRACE=1,i=t.RIGHT_BRACE=2,a=t.LEFT_BRACKET=3,l=t.RIGHT_BRACKET=4,s=t.COLON=5,u=t.COMMA=6,d=t.TRUE=7,c=t.FALSE=8,p=t.NULL=9,g=t.STRING=10,w=t.NUMBER=11,_=t.START=17,T=t.STOP=18,x=t.TRUE1=33,C=t.TRUE2=34,E=t.TRUE3=35,I=t.FALSE1=49,O=t.FALSE2=50,H=t.FALSE3=51,L=t.FALSE4=52,q=t.NULL1=65,W=t.NULL2=66,$=t.NULL3=67,Ae=t.NUMBER1=81,K=t.NUMBER3=83,ae=t.STRING1=97,pe=t.STRING2=98,be=t.STRING3=99,Ze=t.STRING4=100,it=t.STRING5=101,Re=t.STRING6=102,lt=t.VALUE=113,ge=t.KEY=114,rt=t.OBJECT=129,Y=t.ARRAY=130,xe=92,$e=47,Me=8,at=12,It=10,Pt=13,Le=9,ce=64*1024;function Ie(k){return e.alloc?e.alloc(k):new e(k)}function Ye(){this.tState=_,this.value=void 0,this.string=void 0,this.stringBuffer=Ie(ce),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=lt,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:Ie(2),3:Ie(3),4:Ie(4)},this.offset=-1}Ye.toknam=function(k){for(var D=Object.keys(t),z=0,re=D.length;z<re;z++){var Se=D[z];if(t[Se]===k)return Se}return k&&"0x"+k.toString(16)};var se=Ye.prototype;return se.onError=function(k){throw k},se.charError=function(k,D){this.tState=T,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(k[D]))+" at position "+D+" in state "+Ye.toknam(this.tState)))},se.appendStringChar=function(k){this.stringBufferOffset>=ce&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=k},se.appendStringBuf=function(k,D,z){var re=k.length;typeof D=="number"&&(typeof z=="number"?z<0?re=k.length-D+z:re=z-D:re=k.length-D),re<0&&(re=0),this.stringBufferOffset+re>ce&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),k.copy(this.stringBuffer,this.stringBufferOffset,D,z),this.stringBufferOffset+=re},se.write=function(k){typeof k=="string"&&(k=new e(k));for(var D,z=0,re=k.length;z<re;z++)if(this.tState===_){if(D=k[z],this.offset++,D===123)this.onToken(r,"{");else if(D===125)this.onToken(i,"}");else if(D===91)this.onToken(a,"[");else if(D===93)this.onToken(l,"]");else if(D===58)this.onToken(s,":");else if(D===44)this.onToken(u,",");else if(D===116)this.tState=x;else if(D===102)this.tState=I;else if(D===110)this.tState=q;else if(D===34)this.string="",this.stringBufferOffset=0,this.tState=ae;else if(D===45)this.string="-",this.tState=Ae;else if(D>=48&&D<64)this.string=String.fromCharCode(D),this.tState=K;else if(!(D===32||D===9||D===10||D===13))return this.charError(k,z)}else if(this.tState===ae)if(D=k[z],this.bytes_remaining>0){for(var Se=0;Se<this.bytes_remaining;Se++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+Se]=k[Se];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,z=z+Se-1}else if(this.bytes_remaining===0&&D>=128){if(D<=193||D>244)return this.onError(new Error("Invalid UTF-8 character at position "+z+" in state "+Ye.toknam(this.tState)));if(D>=194&&D<=223&&(this.bytes_in_sequence=2),D>=224&&D<=239&&(this.bytes_in_sequence=3),D>=240&&D<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+z>k.length){for(var Ne=0;Ne<=k.length-1-z;Ne++)this.temp_buffs[this.bytes_in_sequence][Ne]=k[z+Ne];this.bytes_remaining=z+this.bytes_in_sequence-k.length,z=k.length-1}else this.appendStringBuf(k,z,z+this.bytes_in_sequence),z=z+this.bytes_in_sequence-1}else if(D===34)this.tState=_,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(g,this.string),this.offset+=e.byteLength(this.string,"utf8")+1,this.string=void 0;else if(D===92)this.tState=pe;else if(D>=32)this.appendStringChar(D);else return this.charError(k,z);else if(this.tState===pe)if(D=k[z],D===34)this.appendStringChar(D),this.tState=ae;else if(D===92)this.appendStringChar(xe),this.tState=ae;else if(D===47)this.appendStringChar($e),this.tState=ae;else if(D===98)this.appendStringChar(Me),this.tState=ae;else if(D===102)this.appendStringChar(at),this.tState=ae;else if(D===110)this.appendStringChar(It),this.tState=ae;else if(D===114)this.appendStringChar(Pt),this.tState=ae;else if(D===116)this.appendStringChar(Le),this.tState=ae;else if(D===117)this.unicode="",this.tState=be;else return this.charError(k,z);else if(this.tState===be||this.tState===Ze||this.tState===it||this.tState===Re)if(D=k[z],D>=48&&D<64||D>64&&D<=70||D>96&&D<=102){if(this.unicode+=String.fromCharCode(D),this.tState++===Re){var ct=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&ct>=56320&&ct<57344?(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate,ct))),this.highSurrogate=void 0):this.highSurrogate===void 0&&ct>=55296&&ct<56320?this.highSurrogate=ct:(this.highSurrogate!==void 0&&(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new e(String.fromCharCode(ct)))),this.tState=ae}}else return this.charError(k,z);else if(this.tState===Ae||this.tState===K)switch(D=k[z],D){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(D),this.tState=K;break;default:this.tState=_;var Pe=this.numberReviver(this.string,k,z);if(Pe)return Pe;this.offset+=this.string.length-1,this.string=void 0,z--;break}else if(this.tState===x)if(k[z]===114)this.tState=C;else return this.charError(k,z);else if(this.tState===C)if(k[z]===117)this.tState=E;else return this.charError(k,z);else if(this.tState===E)if(k[z]===101)this.tState=_,this.onToken(d,!0),this.offset+=3;else return this.charError(k,z);else if(this.tState===I)if(k[z]===97)this.tState=O;else return this.charError(k,z);else if(this.tState===O)if(k[z]===108)this.tState=H;else return this.charError(k,z);else if(this.tState===H)if(k[z]===115)this.tState=L;else return this.charError(k,z);else if(this.tState===L)if(k[z]===101)this.tState=_,this.onToken(c,!1),this.offset+=4;else return this.charError(k,z);else if(this.tState===q)if(k[z]===117)this.tState=W;else return this.charError(k,z);else if(this.tState===W)if(k[z]===108)this.tState=$;else return this.charError(k,z);else if(this.tState===$)if(k[z]===108)this.tState=_,this.onToken(p,null),this.offset+=3;else return this.charError(k,z)},se.onToken=function(k,D){},se.parseError=function(k,D){this.tState=T,this.onError(new Error("Unexpected "+Ye.toknam(k)+(D?"("+JSON.stringify(D)+")":"")+" in state "+Ye.toknam(this.state)))},se.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},se.pop=function(){var k=this.value,D=this.stack.pop();this.value=D.value,this.key=D.key,this.mode=D.mode,this.emit(k),this.mode||(this.state=lt)},se.emit=function(k){this.mode&&(this.state=u),this.onValue(k)},se.onValue=function(k){},se.onToken=function(k,D){if(this.state===lt)if(k===g||k===w||k===d||k===c||k===p)this.value&&(this.value[this.key]=D),this.emit(D);else if(k===r)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=ge,this.mode=rt;else if(k===a)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=Y,this.state=lt;else if(k===i)if(this.mode===rt)this.pop();else return this.parseError(k,D);else if(k===l)if(this.mode===Y)this.pop();else return this.parseError(k,D);else return this.parseError(k,D);else if(this.state===ge)if(k===g)this.key=D,this.state=s;else if(k===i)this.pop();else return this.parseError(k,D);else if(this.state===s)if(k===s)this.state=lt;else return this.parseError(k,D);else if(this.state===u)if(k===u)this.mode===Y?(this.key++,this.state=lt):this.mode===rt&&(this.state=ge);else if(k===l&&this.mode===Y||k===i&&this.mode===rt)this.pop();else return this.parseError(k,D);else return this.parseError(k,D)},se.numberReviver=function(k,D,z){var re=Number(k);if(isNaN(re))return this.charError(D,z);k.match(/[0-9]+/)==k&&re.toString()!=k?this.onToken(g,k):this.onToken(w,re)},Ye.C=t,M0=Ye,M0}var Mf={},Qp={},L0={},YS;function kx(){return YS||(YS=1,function(){(function(e){(function(t){var r=typeof globalThis<"u"&&globalThis||typeof e<"u"&&e||typeof DS<"u"&&DS||{},i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function a(K){return K&&DataView.prototype.isPrototypeOf(K)}if(i.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(K){return K&&l.indexOf(Object.prototype.toString.call(K))>-1};function u(K){if(typeof K!="string"&&(K=String(K)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(K)||K==="")throw new TypeError('Invalid character in header field name: "'+K+'"');return K.toLowerCase()}function d(K){return typeof K!="string"&&(K=String(K)),K}function c(K){var ae={next:function(){var pe=K.shift();return{done:pe===void 0,value:pe}}};return i.iterable&&(ae[Symbol.iterator]=function(){return ae}),ae}function p(K){this.map={},K instanceof p?K.forEach(function(ae,pe){this.append(pe,ae)},this):Array.isArray(K)?K.forEach(function(ae){if(ae.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+ae.length);this.append(ae[0],ae[1])},this):K&&Object.getOwnPropertyNames(K).forEach(function(ae){this.append(ae,K[ae])},this)}p.prototype.append=function(K,ae){K=u(K),ae=d(ae);var pe=this.map[K];this.map[K]=pe?pe+", "+ae:ae},p.prototype.delete=function(K){delete this.map[u(K)]},p.prototype.get=function(K){return K=u(K),this.has(K)?this.map[K]:null},p.prototype.has=function(K){return this.map.hasOwnProperty(u(K))},p.prototype.set=function(K,ae){this.map[u(K)]=d(ae)},p.prototype.forEach=function(K,ae){for(var pe in this.map)this.map.hasOwnProperty(pe)&&K.call(ae,this.map[pe],pe,this)},p.prototype.keys=function(){var K=[];return this.forEach(function(ae,pe){K.push(pe)}),c(K)},p.prototype.values=function(){var K=[];return this.forEach(function(ae){K.push(ae)}),c(K)},p.prototype.entries=function(){var K=[];return this.forEach(function(ae,pe){K.push([pe,ae])}),c(K)},i.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function g(K){if(!K._noBody){if(K.bodyUsed)return Promise.reject(new TypeError("Already read"));K.bodyUsed=!0}}function w(K){return new Promise(function(ae,pe){K.onload=function(){ae(K.result)},K.onerror=function(){pe(K.error)}})}function _(K){var ae=new FileReader,pe=w(ae);return ae.readAsArrayBuffer(K),pe}function T(K){var ae=new FileReader,pe=w(ae),be=/charset=([A-Za-z0-9_-]+)/.exec(K.type),Ze=be?be[1]:"utf-8";return ae.readAsText(K,Ze),pe}function x(K){for(var ae=new Uint8Array(K),pe=new Array(ae.length),be=0;be<ae.length;be++)pe[be]=String.fromCharCode(ae[be]);return pe.join("")}function C(K){if(K.slice)return K.slice(0);var ae=new Uint8Array(K.byteLength);return ae.set(new Uint8Array(K)),ae.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(K){this.bodyUsed=this.bodyUsed,this._bodyInit=K,K?typeof K=="string"?this._bodyText=K:i.blob&&Blob.prototype.isPrototypeOf(K)?this._bodyBlob=K:i.formData&&FormData.prototype.isPrototypeOf(K)?this._bodyFormData=K:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(K)?this._bodyText=K.toString():i.arrayBuffer&&i.blob&&a(K)?(this._bodyArrayBuffer=C(K.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(K)||s(K))?this._bodyArrayBuffer=C(K):this._bodyText=K=Object.prototype.toString.call(K):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof K=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(K)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var K=g(this);if(K)return K;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var K=g(this);return K||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(i.blob)return this.blob().then(_);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var K=g(this);if(K)return K;if(this._bodyBlob)return T(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}var I=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function O(K){var ae=K.toUpperCase();return I.indexOf(ae)>-1?ae:K}function H(K,ae){if(!(this instanceof H))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');ae=ae||{};var pe=ae.body;if(K instanceof H){if(K.bodyUsed)throw new TypeError("Already read");this.url=K.url,this.credentials=K.credentials,ae.headers||(this.headers=new p(K.headers)),this.method=K.method,this.mode=K.mode,this.signal=K.signal,!pe&&K._bodyInit!=null&&(pe=K._bodyInit,K.bodyUsed=!0)}else this.url=String(K);if(this.credentials=ae.credentials||this.credentials||"same-origin",(ae.headers||!this.headers)&&(this.headers=new p(ae.headers)),this.method=O(ae.method||this.method||"GET"),this.mode=ae.mode||this.mode||null,this.signal=ae.signal||this.signal||function(){if("AbortController"in r){var it=new AbortController;return it.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&pe)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(pe),(this.method==="GET"||this.method==="HEAD")&&(ae.cache==="no-store"||ae.cache==="no-cache")){var be=/([?&])_=[^&]*/;if(be.test(this.url))this.url=this.url.replace(be,"$1_="+new Date().getTime());else{var Ze=/\?/;this.url+=(Ze.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}H.prototype.clone=function(){return new H(this,{body:this._bodyInit})};function L(K){var ae=new FormData;return K.trim().split("&").forEach(function(pe){if(pe){var be=pe.split("="),Ze=be.shift().replace(/\+/g," "),it=be.join("=").replace(/\+/g," ");ae.append(decodeURIComponent(Ze),decodeURIComponent(it))}}),ae}function q(K){var ae=new p,pe=K.replace(/\r?\n[\t ]+/g," ");return pe.split("\r").map(function(be){return be.indexOf(`
`)===0?be.substr(1,be.length):be}).forEach(function(be){var Ze=be.split(":"),it=Ze.shift().trim();if(it){var Re=Ze.join(":").trim();try{ae.append(it,Re)}catch(lt){console.warn("Response "+lt.message)}}}),ae}E.call(H.prototype);function W(K,ae){if(!(this instanceof W))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(ae||(ae={}),this.type="default",this.status=ae.status===void 0?200:ae.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=ae.statusText===void 0?"":""+ae.statusText,this.headers=new p(ae.headers),this.url=ae.url||"",this._initBody(K)}E.call(W.prototype),W.prototype.clone=function(){return new W(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},W.error=function(){var K=new W(null,{status:200,statusText:""});return K.ok=!1,K.status=0,K.type="error",K};var $=[301,302,303,307,308];W.redirect=function(K,ae){if($.indexOf(ae)===-1)throw new RangeError("Invalid status code");return new W(null,{status:ae,headers:{location:K}})},t.DOMException=r.DOMException;try{new t.DOMException}catch{t.DOMException=function(ae,pe){this.message=ae,this.name=pe;var be=Error(ae);this.stack=be.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function Ae(K,ae){return new Promise(function(pe,be){var Ze=new H(K,ae);if(Ze.signal&&Ze.signal.aborted)return be(new t.DOMException("Aborted","AbortError"));var it=new XMLHttpRequest;function Re(){it.abort()}it.onload=function(){var rt={statusText:it.statusText,headers:q(it.getAllResponseHeaders()||"")};Ze.url.indexOf("file://")===0&&(it.status<200||it.status>599)?rt.status=200:rt.status=it.status,rt.url="responseURL"in it?it.responseURL:rt.headers.get("X-Request-URL");var Y="response"in it?it.response:it.responseText;setTimeout(function(){pe(new W(Y,rt))},0)},it.onerror=function(){setTimeout(function(){be(new TypeError("Network request failed"))},0)},it.ontimeout=function(){setTimeout(function(){be(new TypeError("Network request timed out"))},0)},it.onabort=function(){setTimeout(function(){be(new t.DOMException("Aborted","AbortError"))},0)};function lt(rt){try{return rt===""&&r.location.href?r.location.href:rt}catch{return rt}}if(it.open(Ze.method,lt(Ze.url),!0),Ze.credentials==="include"?it.withCredentials=!0:Ze.credentials==="omit"&&(it.withCredentials=!1),"responseType"in it&&(i.blob?it.responseType="blob":i.arrayBuffer&&(it.responseType="arraybuffer")),ae&&typeof ae.headers=="object"&&!(ae.headers instanceof p||r.Headers&&ae.headers instanceof r.Headers)){var ge=[];Object.getOwnPropertyNames(ae.headers).forEach(function(rt){ge.push(u(rt)),it.setRequestHeader(rt,d(ae.headers[rt]))}),Ze.headers.forEach(function(rt,Y){ge.indexOf(Y)===-1&&it.setRequestHeader(Y,rt)})}else Ze.headers.forEach(function(rt,Y){it.setRequestHeader(Y,rt)});Ze.signal&&(Ze.signal.addEventListener("abort",Re),it.onreadystatechange=function(){it.readyState===4&&Ze.signal.removeEventListener("abort",Re)}),it.send(typeof Ze._bodyInit>"u"?null:Ze._bodyInit)})}return Ae.polyfill=!0,r.fetch||(r.fetch=Ae,r.Headers=p,r.Request=H,r.Response=W),t.Headers=p,t.Request=H,t.Response=W,t.fetch=Ae,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:L0)}()),L0}var Lf={},Xl={},QS;function WO(){if(QS)return Xl;QS=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.removeDotSegmentsOfPath=Xl.removeDotSegments=Xl.resolve=void 0;function e(a,l){l=l||"";const s=l.indexOf("#");if(s>0&&(l=l.substr(0,s)),!a.length){if(l.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${l}' for value '${a}'`);return l}if(a.startsWith("?")){const _=l.indexOf("?");return _>0&&(l=l.substr(0,_)),l+a}if(a.startsWith("#"))return l+a;if(!l.length){const _=a.indexOf(":");if(_<0)throw new Error(`Found invalid relative IRI '${a}' for a missing baseIRI`);return r(a,_)}const u=a.indexOf(":");if(u>=0)return r(a,u);const d=l.indexOf(":");if(d<0)throw new Error(`Found invalid baseIRI '${l}' for value '${a}'`);const c=l.substr(0,d+1);if(a.indexOf("//")===0)return c+r(a,u);let p;if(l.indexOf("//",d)===d+1){if(p=l.indexOf("/",d+3),p<0)return l.length>d+3?l+"/"+r(a,u):c+r(a,u)}else if(p=l.indexOf("/",d+1),p<0)return c+r(a,u);if(a.indexOf("/")===0)return l.substr(0,p)+t(a);let g=l.substr(p);const w=g.lastIndexOf("/");return w>=0&&w<g.length-1&&(g=g.substr(0,w+1),a[0]==="."&&a[1]!=="."&&a[1]!=="/"&&a[2]&&(a=a.substr(1))),a=g+a,a=t(a),l.substr(0,p)+a}Xl.resolve=e;function t(a){const l=[];let s=0;for(;s<a.length;)switch(a[s]){case"/":if(a[s+1]===".")if(a[s+2]==="."){if(!i(a[s+3])){l.push([]),s++;break}l.pop(),a[s+3]||l.push([]),s+=3}else{if(!i(a[s+2])){l.push([]),s++;break}a[s+2]||l.push([]),s+=2}else l.push([]),s++;break;case"#":case"?":l.length||l.push([]),l[l.length-1].push(a.substr(s)),s=a.length;break;default:l.length||l.push([]),l[l.length-1].push(a[s]),s++;break}return"/"+l.map(u=>u.join("")).join("/")}Xl.removeDotSegments=t;function r(a,l){let s=l+1;l>=0?a[l+1]==="/"&&a[l+2]==="/"&&(s=l+3):a[0]==="/"&&a[1]==="/"&&(s=2);const u=a.indexOf("/",s);if(u<0)return a;const d=a.substr(0,u),c=a.substr(u);return d+t(c)}Xl.removeDotSegmentsOfPath=r;function i(a){return!a||a==="#"||a==="?"||a==="/"}return Xl}var XS;function Ww(){return XS||(XS=1,function(e){var t=Lf&&Lf.__createBinding||(Object.create?function(i,a,l,s){s===void 0&&(s=l),Object.defineProperty(i,s,{enumerable:!0,get:function(){return a[l]}})}:function(i,a,l,s){s===void 0&&(s=l),i[s]=a[l]}),r=Lf&&Lf.__exportStar||function(i,a){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,i,l)};Object.defineProperty(e,"__esModule",{value:!0}),r(WO(),e)}(Lf)),Lf}var U0={},ZS;function ym(){return ZS||(ZS=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class t extends Error{constructor(i,a){super(i),this.code=a}}e.ErrorCoded=t,function(r){r.COLLIDING_KEYWORDS="colliding keywords",r.CONFLICTING_INDEXES="conflicting indexes",r.CYCLIC_IRI_MAPPING="cyclic IRI mapping",r.INVALID_ID_VALUE="invalid @id value",r.INVALID_INDEX_VALUE="invalid @index value",r.INVALID_NEST_VALUE="invalid @nest value",r.INVALID_PREFIX_VALUE="invalid @prefix value",r.INVALID_PROPAGATE_VALUE="invalid @propagate value",r.INVALID_REVERSE_VALUE="invalid @reverse value",r.INVALID_IMPORT_VALUE="invalid @import value",r.INVALID_VERSION_VALUE="invalid @version value",r.INVALID_BASE_IRI="invalid base IRI",r.INVALID_CONTAINER_MAPPING="invalid container mapping",r.INVALID_CONTEXT_ENTRY="invalid context entry",r.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",r.INVALID_DEFAULT_LANGUAGE="invalid default language",r.INVALID_INCLUDED_VALUE="invalid @included value",r.INVALID_IRI_MAPPING="invalid IRI mapping",r.INVALID_JSON_LITERAL="invalid JSON literal",r.INVALID_KEYWORD_ALIAS="invalid keyword alias",r.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",r.INVALID_LANGUAGE_MAPPING="invalid language mapping",r.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",r.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",r.INVALID_LOCAL_CONTEXT="invalid local context",r.INVALID_REMOTE_CONTEXT="invalid remote context",r.INVALID_REVERSE_PROPERTY="invalid reverse property",r.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",r.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",r.INVALID_SCOPED_CONTEXT="invalid scoped context",r.INVALID_SCRIPT_ELEMENT="invalid script element",r.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",r.INVALID_TERM_DEFINITION="invalid term definition",r.INVALID_TYPE_MAPPING="invalid type mapping",r.INVALID_TYPE_VALUE="invalid type value",r.INVALID_TYPED_VALUE="invalid typed value",r.INVALID_VALUE_OBJECT="invalid value object",r.INVALID_VALUE_OBJECT_VALUE="invalid value object value",r.INVALID_VOCAB_MAPPING="invalid vocab mapping",r.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",r.KEYWORD_REDEFINITION="keyword redefinition",r.LOADING_DOCUMENT_FAILED="loading document failed",r.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",r.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",r.PROCESSING_MODE_CONFLICT="processing mode conflict",r.PROTECTED_TERM_REDEFINITION="protected term redefinition",r.CONTEXT_OVERFLOW="context overflow",r.INVALID_BASE_DIRECTION="invalid base direction",r.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",r.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",r.INVALID_EMBEDDED_NODE="invalid embedded node",r.INVALID_ANNOTATION="invalid annotation"}(e.ERROR_CODES||(e.ERROR_CODES={}))}(U0)),U0}var Xp={},k0,eE;function Jw(){if(eE)return k0;eE=1;var e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,r=/\s|\uFEFF|\xA0/,i=/\r?\n[\x20\x09]+/g,a=/[;,"]/,l=/[;,"]|\s/,s=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,u={IDLE:1,URI:2,ATTR:4};function d(T){return T.replace(t,"")}function c(T){return r.test(T)}function p(T,x){for(;c(T[x]);)x++;return x}function g(T){return l.test(T)||!s.test(T)}function w(T,x){return Object.keys(T).length===Object.keys(x).length&&Object.keys(T).every(C=>C in x&&T[C]===x[C])}class _{constructor(x){this.refs=[],x&&this.parse(x)}rel(x){for(var C=[],E=x.toLowerCase(),I=0;I<this.refs.length;I++)typeof this.refs[I].rel=="string"&&this.refs[I].rel.toLowerCase()===E&&C.push(this.refs[I]);return C}get(x,C){x=x.toLowerCase(),C=C.toLowerCase();for(var E=[],I=0;I<this.refs.length;I++)typeof this.refs[I][x]=="string"&&this.refs[I][x].toLowerCase()===C&&E.push(this.refs[I]);return E}set(x){return this.refs.push(x),this}setUnique(x){return this.refs.some(C=>w(C,x))||this.refs.push(x),this}has(x,C){x=x.toLowerCase(),C=C.toLowerCase();for(var E=0;E<this.refs.length;E++)if(typeof this.refs[E][x]=="string"&&this.refs[E][x].toLowerCase()===C)return!0;return!1}parse(x,O){O=O||0,x=O?x.slice(O):x,x=d(x).replace(i,"");for(var E=u.IDLE,I=x.length,O=0,H=null;O<I;)if(E===u.IDLE){if(c(x[O])){O++;continue}else if(x[O]==="<"){H!=null&&(H.rel!=null?this.refs.push(..._.expandRelations(H)):this.refs.push(H));var L=x.indexOf(">",O);if(L===-1)throw new Error("Expected end of URI delimiter at offset "+O);H={uri:x.slice(O+1,L)},O=L,E=u.URI}else throw new Error('Unexpected character "'+x[O]+'" at offset '+O);O++}else if(E===u.URI)if(c(x[O])){O++;continue}else if(x[O]===";")E=u.ATTR,O++;else if(x[O]===",")E=u.IDLE,O++;else throw new Error('Unexpected character "'+x[O]+'" at offset '+O);else if(E===u.ATTR){if(x[O]===";"||c(x[O])){O++;continue}var L=x.indexOf("=",O);L===-1&&(L=x.indexOf(";",O)),L===-1&&(L=x.length);var q=d(x.slice(O,L)).toLowerCase(),W="";if(O=L+1,O=p(x,O),x[O]==='"')for(O++;O<I;){if(x[O]==='"'){O++;break}x[O]==="\\"&&O++,W+=x[O],O++}else{for(var L=O+1;!a.test(x[L])&&L<I;)L++;W=x.slice(O,L),O=L}switch(H[q]&&_.isSingleOccurenceAttr(q)||(q[q.length-1]==="*"?H[q]=_.parseExtendedValue(W):(W=q==="type"?W.toLowerCase():W,H[q]!=null?Array.isArray(H[q])?H[q].push(W):H[q]=[H[q],W]:H[q]=W)),x[O]){case",":E=u.IDLE;break;case";":E=u.ATTR;break}O++}else throw new Error('Unknown parser state "'+E+'"');return H!=null&&(H.rel!=null?this.refs.push(..._.expandRelations(H)):this.refs.push(H)),H=null,this}toString(){for(var x=[],C="",E=null,I=0;I<this.refs.length;I++)E=this.refs[I],C=Object.keys(this.refs[I]).reduce(function(O,H){return H==="uri"?O:O+"; "+_.formatAttribute(H,E[H])},"<"+E.uri+">"),x.push(C);return x.join(", ")}}return _.isCompatibleEncoding=function(T){return e.test(T)},_.parse=function(T,x){return new _().parse(T,x)},_.isSingleOccurenceAttr=function(T){return T==="rel"||T==="type"||T==="media"||T==="title"||T==="title*"},_.isTokenAttr=function(T){return T==="rel"||T==="type"||T==="anchor"},_.escapeQuotes=function(T){return T.replace(/"/g,'\\"')},_.expandRelations=function(T){var x=T.rel.split(" ");return x.map(function(C){var E=Object.assign({},T);return E.rel=C,E})},_.parseExtendedValue=function(T){var x=/([^']+)?(?:'([^']*)')?(.+)/.exec(T);return{language:x[2].toLowerCase(),encoding:_.isCompatibleEncoding(x[1])?null:x[1].toLowerCase(),value:_.isCompatibleEncoding(x[1])?decodeURIComponent(x[3]):x[3]}},_.formatExtendedAttribute=function(T,x){var C=(x.encoding||"utf-8").toUpperCase(),E=x.language||"en",I="";return Buffer.isBuffer(x.value)&&_.isCompatibleEncoding(C)?I=x.value.toString(C):Buffer.isBuffer(x.value)?I=x.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):I=encodeURIComponent(x.value),T+"="+C+"'"+E+"'"+I},_.formatAttribute=function(T,x){return Array.isArray(x)?x.map(C=>_.formatAttribute(T,C)).join("; "):T[T.length-1]==="*"||typeof x!="string"?_.formatExtendedAttribute(T,x):(_.isTokenAttr(T)?x=g(x)?'"'+_.escapeQuotes(x)+'"':_.escapeQuotes(x):g(x)&&(x=encodeURIComponent(x),x=x.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),x='"'+x+'"'),T+"="+x)},k0=_,k0}var tE;function jx(){if(tE)return Xp;tE=1,Object.defineProperty(Xp,"__esModule",{value:!0}),Xp.FetchDocumentLoader=void 0,kx();const e=ym(),t=Jw(),r=Ww();let i=class{constructor(l){this.fetcher=l}async load(l){const s=await(this.fetcher||fetch)(l,{headers:new Headers({accept:"application/ld+json"})});if(s.ok&&s.headers){let u=s.headers.get("Content-Type");if(u){const d=u.indexOf(";");d>0&&(u=u.substr(0,d))}if(u==="application/ld+json")return await s.json();if(s.headers.has("Link")){let d;if(s.headers.forEach((c,p)=>{if(p==="link"){const g=(0,t.parse)(c);for(const w of g.get("type","application/ld+json"))if(w.rel==="alternate"){if(d)throw new Error("Multiple JSON-LD alternate links were found on "+l);d=(0,r.resolve)(w.uri,l)}}}),d)return this.load(d)}throw new e.ErrorCoded(`Unsupported JSON-LD media type ${u}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(s.statusText||`Status code: ${s.status}`)}};return Xp.FetchDocumentLoader=i,Xp}var j0={},Zp={},nE;function Yw(){if(nE)return Zp;nE=1,Object.defineProperty(Zp,"__esModule",{value:!0}),Zp.Util=void 0;class e{static isCompactIri(r){return r.indexOf(":")>0&&!(r&&r[0]==="#")}static getPrefix(r,i){if(r&&r[0]==="#")return null;const a=r.indexOf(":");if(a>=0){if(r.length>a+1&&r.charAt(a+1)==="/"&&r.charAt(a+2)==="/")return null;const l=r.substr(0,a);if(l==="_")return null;if(i[l])return l}return null}static getContextValueId(r){if(r===null||typeof r=="string")return r;const i=r["@id"];return i||null}static isSimpleTermDefinitionPrefix(r,i){return!e.isPotentialKeyword(r)&&(i.allowPrefixNonGenDelims||typeof r=="string"&&(r[0]==="_"||e.isPrefixIriEndingWithGenDelim(r)))}static isPotentialKeyword(r){return typeof r=="string"&&e.KEYWORD_REGEX.test(r)}static isPrefixIriEndingWithGenDelim(r){return e.ENDS_WITH_GEN_DELIM.test(r)}static isPrefixValue(r){return r&&(typeof r=="string"||r&&typeof r=="object")}static isValidIri(r){return!!(r&&e.IRI_REGEX.test(r))}static isValidIriWeak(r){return!!r&&r[0]!==":"&&e.IRI_REGEX_WEAK.test(r)}static isValidKeyword(r){return e.VALID_KEYWORDS[r]}static isTermProtected(r,i){const a=r[i];return typeof a!="string"&&a&&a["@protected"]}static hasProtectedTerms(r){for(const i of Object.keys(r))if(e.isTermProtected(r,i))return!0;return!1}static isReservedInternalKeyword(r){return r.startsWith("@__")}static deepEqual(r,i){const a=Object.keys(r),l=Object.keys(i);return a.length!==l.length?!1:a.every(s=>{const u=r[s],d=i[s];return u===d||u!==null&&d!==null&&typeof u=="object"&&typeof d=="object"&&this.deepEqual(u,d)})}}return e.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,e.IRI_REGEX_WEAK=/(?::[^:])|\//,e.KEYWORD_REGEX=/^@[a-z]+$/i,e.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,e.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,e.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,e.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},e.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],e.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],e.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],e.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],e.CONTAINERS_1_0=["@list","@set","@index"],Zp.Util=e,Zp}var rE;function Bx(){return rE||(rE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const t=Ww(),r=ym(),i=Yw();class a{constructor(s){this.contextRaw=s}getContextRaw(){return this.contextRaw}expandTerm(s,u,d=e.defaultExpandOptions){const c=this.contextRaw[s];if(c===null||c&&c["@id"]===null)return null;let p=!0;if(c&&u){const C=i.Util.getContextValueId(c);if(C&&C!==s)if(typeof C!="string"||!i.Util.isValidIri(C)&&!i.Util.isValidKeyword(C))i.Util.isPotentialKeyword(C)||(p=!1);else return C}const g=i.Util.getPrefix(s,this.contextRaw),w=this.contextRaw["@vocab"],_=(!!w||w==="")&&w.indexOf(":")<0,T=this.contextRaw["@base"],x=i.Util.isPotentialKeyword(s);if(g){const C=this.contextRaw[g],E=i.Util.getContextValueId(C);if(E){if(typeof C=="string"||!d.allowPrefixForcing){if(!i.Util.isSimpleTermDefinitionPrefix(E,d))return s}else if(E[0]!=="_"&&!x&&!C["@prefix"]&&!(s in this.contextRaw))return s;return E+s.substr(g.length+1)}}else if(u&&(w||w===""||d.allowVocabRelativeToBase&&T&&_)&&!x&&!i.Util.isCompactIri(s))if(_){if(d.allowVocabRelativeToBase)return(w||T?(0,t.resolve)(w,T):"")+s;throw new r.ErrorCoded(`Relative vocab expansion for term '${s}' with vocab '${w}' is not allowed.`,r.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return w+s;else if(!u&&T&&!x&&!i.Util.isCompactIri(s))return(0,t.resolve)(s,T);if(p)return s;throw new r.ErrorCoded(`Invalid IRI mapping found for context entry '${s}': '${JSON.stringify(c)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(s,u){if(u&&this.contextRaw["@vocab"]&&s.startsWith(this.contextRaw["@vocab"]))return s.substr(this.contextRaw["@vocab"].length);if(!u&&this.contextRaw["@base"]&&s.startsWith(this.contextRaw["@base"]))return s.substr(this.contextRaw["@base"].length);const d={prefix:"",suffix:s};for(const c in this.contextRaw){const p=this.contextRaw[c];if(p&&!i.Util.isPotentialKeyword(c)){const g=i.Util.getContextValueId(p);if(s.startsWith(g)){const w=s.substr(g.length);if(w)w.length<d.suffix.length&&(d.prefix=c,d.suffix=w);else if(u)return c}}}return d.prefix?d.prefix+":"+d.suffix:s}}e.JsonLdContextNormalized=a,e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(j0)),j0}var iE;function JO(){if(iE)return Qp;iE=1,Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.ContextParser=void 0,kx();const e=Ww(),t=ym(),r=jx(),i=Bx(),a=Yw();let l=class jf{constructor(u){u=u||{},this.documentLoader=u.documentLoader||new r.FetchDocumentLoader,this.documentCache={},this.validateContext=!u.skipValidation,this.expandContentTypeToBase=!!u.expandContentTypeToBase,this.remoteContextsDepthLimit=u.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in u?!!u.redirectSchemaOrgHttps:!0}static validateLanguage(u,d,c){if(typeof u!="string")throw new t.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(u)}'`,c);if(!a.Util.REGEX_LANGUAGE_TAG.test(u)){if(d)throw new t.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(u)}'`,c);return!1}return!0}static validateDirection(u,d){if(typeof u!="string")throw new t.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(u)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);if(!a.Util.REGEX_DIRECTION_TAG.test(u)){if(d)throw new t.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(u)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(u){for(const d of Object.keys(u)){let c=u[d];if(c&&typeof c=="object"&&c["@reverse"]&&!c["@id"]){if(typeof c["@reverse"]!="string"||a.Util.isValidKeyword(c["@reverse"]))throw new t.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${c["@reverse"]}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);c=u[d]=Object.assign(Object.assign({},c),{"@id":c["@reverse"]}),c["@id"]=c["@reverse"],a.Util.isPotentialKeyword(c["@reverse"])?delete c["@reverse"]:c["@reverse"]=!0}}return u}expandPrefixedTerms(u,d,c){const p=u.getContextRaw();for(const g of c||Object.keys(p))if(a.Util.EXPAND_KEYS_BLACKLIST.indexOf(g)<0&&!a.Util.isReservedInternalKeyword(g)){const w=p[g];if(a.Util.isPotentialKeyword(g)&&a.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(g)>=0&&(g!=="@type"||typeof p[g]=="object"&&!(p[g]["@protected"]||p[g]["@container"]==="@set")))throw new t.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${g} to ${JSON.stringify(w)}`,t.ERROR_CODES.KEYWORD_REDEFINITION);if(a.Util.ALIAS_RANGE_BLACKLIST.indexOf(a.Util.getContextValueId(w))>=0)throw new t.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${g} to ${JSON.stringify(w)}`,t.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(w&&a.Util.isPotentialKeyword(a.Util.getContextValueId(w))&&w["@prefix"]===!0)throw new t.ErrorCoded(`Tried to use keyword aliases as prefix: '${g}': '${JSON.stringify(w)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);for(;a.Util.isPrefixValue(p[g]);){const _=p[g];let T=!1;if(typeof _=="string")p[g]=u.expandTerm(_,!0),T=T||_!==p[g];else{const x=_["@id"],C=_["@type"],E=!("@prefix"in _)||a.Util.isValidIri(g);if("@id"in _)x!=null&&typeof x=="string"&&(p[g]=Object.assign(Object.assign({},p[g]),{"@id":u.expandTerm(x,!0)}),T=T||x!==p[g]["@id"]);else if(!a.Util.isPotentialKeyword(g)&&E){const I=u.expandTerm(g,!0);I!==g&&(p[g]=Object.assign(Object.assign({},p[g]),{"@id":I}),T=!0)}if(C&&typeof C=="string"&&C!=="@vocab"&&(!_["@container"]||!_["@container"]["@type"])&&E){let I=u.expandTerm(C,!0);d&&C===I&&(I=u.expandTerm(C,!1)),I!==C&&(T=!0,p[g]=Object.assign(Object.assign({},p[g]),{"@type":I}))}}if(!T)break}}}normalize(u,{processingMode:d,normalizeLanguageTags:c}){if(c||d===1)for(const p of Object.keys(u))if(p==="@language"&&typeof u[p]=="string")u[p]=u[p].toLowerCase();else{const g=u[p];if(g&&typeof g=="object"&&typeof g["@language"]=="string"){const w=g["@language"].toLowerCase();w!==g["@language"]&&(u[p]=Object.assign(Object.assign({},g),{"@language":w}))}}}containersToHash(u){for(const d of Object.keys(u)){const c=u[d];if(c&&typeof c=="object"){if(typeof c["@container"]=="string")u[d]=Object.assign(Object.assign({},c),{"@container":{[c["@container"]]:!0}});else if(Array.isArray(c["@container"])){const p={};for(const g of c["@container"])p[g]=!0;u[d]=Object.assign(Object.assign({},c),{"@container":p})}}}}applyScopedProtected(u,{processingMode:d},c){if(d&&d>=1.1&&u["@protected"]){for(const p of Object.keys(u))if(!a.Util.isReservedInternalKeyword(p)&&!a.Util.isPotentialKeyword(p)&&!a.Util.isTermProtected(u,p)){const g=u[p];g&&typeof g=="object"?"@protected"in u[p]||(u[p]=Object.assign(Object.assign({},u[p]),{"@protected":!0})):(u[p]={"@id":g,"@protected":!0},a.Util.isSimpleTermDefinitionPrefix(g,c)&&(u[p]=Object.assign(Object.assign({},u[p]),{"@prefix":!0})))}delete u["@protected"]}}validateKeywordRedefinitions(u,d,c,p){for(const g of p??Object.keys(d))if(a.Util.isTermProtected(u,g)&&(typeof d[g]=="string"?d[g]={"@id":d[g],"@protected":!0}:d[g]=Object.assign(Object.assign({},d[g]),{"@protected":!0}),!a.Util.deepEqual(u[g],d[g])))throw new t.ErrorCoded(`Attempted to override the protected keyword ${g} from ${JSON.stringify(a.Util.getContextValueId(u[g]))} to ${JSON.stringify(a.Util.getContextValueId(d[g]))}`,t.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(u,{processingMode:d}){for(const c of Object.keys(u)){if(a.Util.isReservedInternalKeyword(c))continue;if(c==="")throw new t.ErrorCoded(`The empty term is not allowed, got: '${c}': '${JSON.stringify(u[c])}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);const p=u[c],g=typeof p;if(a.Util.isPotentialKeyword(c)){switch(c.substr(1)){case"vocab":if(p!==null&&g!=="string")throw new t.ErrorCoded(`Found an invalid @vocab IRI: ${p}`,t.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(p!==null&&g!=="string")throw new t.ErrorCoded(`Found an invalid @base IRI: ${u[c]}`,t.ERROR_CODES.INVALID_BASE_IRI);break;case"language":p!==null&&jf.validateLanguage(p,!0,t.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(p!==null&&g!=="number")throw new t.ErrorCoded(`Found an invalid @version number: ${p}`,t.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":p!==null&&jf.validateDirection(p,!0);break;case"propagate":if(d===1)throw new t.ErrorCoded(`Found an illegal @propagate keyword: ${p}`,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(p!==null&&g!=="boolean")throw new t.ErrorCoded(`Found an invalid @propagate value: ${p}`,t.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(a.Util.isValidKeyword(c)&&a.Util.isValidKeyword(a.Util.getContextValueId(p)))throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${c}': '${a.Util.getContextValueId(p)}'`,t.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(p!==null)switch(g){case"string":if(a.Util.getPrefix(p,u)===c)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);if(a.Util.isValidIriWeak(c)){if(p==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${c}': '${p}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(p)&&p!==new i.JsonLdContextNormalized(u).expandTerm(c))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${c}': '${p}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!a.Util.isCompactIri(c)&&!("@id"in p)&&(p["@type"]==="@id"?!u["@base"]:!u["@vocab"]))throw new t.ErrorCoded(`Missing @id in context entry: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);for(const w of Object.keys(p)){const _=p[w];if(_)switch(w){case"@id":if(a.Util.isValidKeyword(_)&&_!=="@type"&&_!=="@id"&&_!=="@graph"&&_!=="@nest")throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIriWeak(c)){if(_==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(_)&&_!==new i.JsonLdContextNormalized(u).expandTerm(c))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof _!="string")throw new t.ErrorCoded(`Detected non-string @id in context entry: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.getPrefix(_,u)===c)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(p["@container"]==="@type"&&_!=="@id"&&_!=="@vocab")throw new t.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${c}': '${_}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof _!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(g)}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(_!=="@id"&&_!=="@vocab"&&(d===1||_!=="@json")&&(d===1||_!=="@none")&&(_[0]==="_"||!a.Util.isValidIri(_)))throw new t.ErrorCoded(`A context @type must be an absolute IRI, found: '${c}': '${_}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof _=="string"&&p["@id"]&&p["@id"]!==_)throw new t.ErrorCoded(`Found non-matching @id and @reverse term values in '${c}':'${_}' and '${p["@id"]}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in p)throw new t.ErrorCoded(`@nest is not allowed in the reverse property '${c}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(d===1&&(Object.keys(_).length>1||a.Util.CONTAINERS_1_0.indexOf(Object.keys(_)[0])<0))throw new t.ErrorCoded(`Invalid term @container for '${c}' ('${Object.keys(_)}') in 1.0, must be only one of ${a.Util.CONTAINERS_1_0.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const T of Object.keys(_)){if(T==="@list"&&p["@reverse"])throw new t.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${c}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(a.Util.CONTAINERS.indexOf(T)<0)throw new t.ErrorCoded(`Invalid term @container for '${c}' ('${T}'), must be one of ${a.Util.CONTAINERS.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":jf.validateLanguage(_,!0,t.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":jf.validateDirection(_,!0);break;case"@prefix":if(_!==null&&typeof _!="boolean")throw new t.ErrorCoded(`Found an invalid term @prefix boolean in: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in p)&&!a.Util.isValidIri(c))throw new t.ErrorCoded(`Invalid @prefix definition for '${c}' ('${JSON.stringify(p)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(d===1||!p["@container"]||!p["@container"]["@index"])throw new t.ErrorCoded(`Attempt to add illegal key to value object: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(a.Util.isPotentialKeyword(_)&&_!=="@nest")throw new t.ErrorCoded(`Found an invalid term @nest value in: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new t.ErrorCoded(`Found an invalid term value: '${c}': '${p}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(u,d,c){return typeof u=="string"||(c&&!("@base"in u)&&d.parentContext&&typeof d.parentContext=="object"&&"@base"in d.parentContext&&(u["@base"]=d.parentContext["@base"],d.parentContext["@__baseDocument"]&&(u["@__baseDocument"]=!0)),d.baseIRI&&!d.external&&("@base"in u?u["@base"]!==null&&typeof u["@base"]=="string"&&!a.Util.isValidIri(u["@base"])&&(u["@base"]=(0,e.resolve)(u["@base"],d.parentContext&&d.parentContext["@base"]||d.baseIRI)):(u["@base"]=d.baseIRI,u["@__baseDocument"]=!0))),u}normalizeContextIri(u,d){if(!a.Util.isValidIri(u))try{u=(0,e.resolve)(u,d)}catch{throw new Error(`Invalid context IRI: ${u}`)}return this.redirectSchemaOrgHttps&&u.startsWith("http://schema.org")&&(u="https://schema.org/"),u}async parseInnerContexts(u,d,c){for(const p of c??Object.keys(u)){const g=u[p];if(g&&typeof g=="object"&&"@context"in g&&g["@context"]!==null&&!d.ignoreScopedContexts){if(this.validateContext)try{const w=Object.assign(Object.assign({},u),{[p]:Object.assign({},u[p])});delete w[p]["@context"],await this.parse(g["@context"],Object.assign(Object.assign({},d),{external:!1,parentContext:w,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(w){throw new t.ErrorCoded(w.message,t.ERROR_CODES.INVALID_SCOPED_CONTEXT)}u[p]=Object.assign(Object.assign({},g),{"@context":(await this.parse(g["@context"],Object.assign(Object.assign({},d),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:u}))).getContextRaw()})}}return u}async parse(u,d={},c={}){const{baseIRI:p,parentContext:g,external:w,processingMode:_=jf.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:T,ignoreProtection:x,minimalProcessing:C}=d,E=d.remoteContexts||{};if(Object.keys(E).length>=this.remoteContextsDepthLimit)throw new t.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(E),t.ERROR_CODES.CONTEXT_OVERFLOW);if(u==null){if(!x&&g&&a.Util.hasProtectedTerms(g))throw new t.ErrorCoded("Illegal context nullification when terms are protected",t.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new i.JsonLdContextNormalized(this.applyBaseEntry({},d,!1))}else if(typeof u=="string"){const I=this.normalizeContextIri(u,p),O=this.getOverriddenLoad(I,d);if(O)return new i.JsonLdContextNormalized(O);const H=await this.parse(await this.load(I),Object.assign(Object.assign({},d),{baseIRI:I,external:!0,remoteContexts:Object.assign(Object.assign({},E),{[I]:!0})}));return this.applyBaseEntry(H.getContextRaw(),d,!0),H}else if(Array.isArray(u)){const I=[],O=await Promise.all(u.map((L,q)=>{if(typeof L=="string"){const W=this.normalizeContextIri(L,p);I[q]=W;const $=this.getOverriddenLoad(W,d);return $||this.load(W)}else return L}));if(C)return new i.JsonLdContextNormalized(O);const H=await O.reduce((L,q,W)=>L.then($=>this.parse(q,Object.assign(Object.assign({},d),{baseIRI:I[W]||d.baseIRI,external:!!I[W]||d.external,parentContext:$.getContextRaw(),remoteContexts:I[W]?Object.assign(Object.assign({},E),{[I[W]]:!0}):E}),{skipValidation:W<O.length-1})),Promise.resolve(new i.JsonLdContextNormalized(g||{})));return this.applyBaseEntry(H.getContextRaw(),d,!0),H}else if(typeof u=="object"){if("@context"in u)return await this.parse(u["@context"],d);if(u=Object.assign({},u),w&&delete u["@base"],this.applyBaseEntry(u,d,!0),this.containersToHash(u),C)return new i.JsonLdContextNormalized(u);let I={};if("@import"in u)if(_>=1.1){if(typeof u["@import"]!="string")throw new t.ErrorCoded("An @import value must be a string, but got "+typeof u["@import"],t.ERROR_CODES.INVALID_IMPORT_VALUE);I=await this.loadImportContext(this.normalizeContextIri(u["@import"],p)),delete u["@import"]}else throw new t.ErrorCoded("Context importing is not supported in JSON-LD 1.0",t.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(I,{processingMode:_},i.defaultExpandOptions);const O=Object.assign(I,u);this.idifyReverseTerms(O),this.normalize(O,{processingMode:_,normalizeLanguageTags:T}),this.applyScopedProtected(O,{processingMode:_},i.defaultExpandOptions);const H=Object.keys(O),L=[];if(typeof g=="object")for(const W in g)W in O?L.push(W):O[W]=g[W];await this.parseInnerContexts(O,d,H);const q=new i.JsonLdContextNormalized(O);return(O&&O["@version"]||jf.DEFAULT_PROCESSING_MODE)>=1.1&&(u["@vocab"]&&typeof u["@vocab"]=="string"||u["@vocab"]==="")&&(g&&"@vocab"in g&&u["@vocab"].indexOf(":")<0?O["@vocab"]=g["@vocab"]+u["@vocab"]:(a.Util.isCompactIri(u["@vocab"])||u["@vocab"]in O)&&(O["@vocab"]=q.expandTerm(u["@vocab"],!0))),this.expandPrefixedTerms(q,this.expandContentTypeToBase,H),!x&&g&&_>=1.1&&this.validateKeywordRedefinitions(g,O,i.defaultExpandOptions,L),this.validateContext&&!c.skipValidation&&this.validate(O,{processingMode:_}),q}else throw new t.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${u}`,t.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(u){const d=this.documentCache[u];if(d)return d;let c;try{c=await this.documentLoader.load(u)}catch(p){throw new t.ErrorCoded(`Failed to load remote context ${u}: ${p.message}`,t.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in c))throw new t.ErrorCoded(`Missing @context in remote context at ${u}`,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[u]=c["@context"]}getOverriddenLoad(u,d){if(u in(d.remoteContexts||{})){if(d.ignoreRemoteScopedContexts)return u;throw new t.ErrorCoded("Detected a cyclic context inclusion of "+u,t.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(u){let d=await this.load(u);if(typeof d!="object"||Array.isArray(d))throw new t.ErrorCoded("An imported context must be a single object: "+u,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in d)throw new t.ErrorCoded("An imported context can not import another context: "+u,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);return d=Object.assign({},d),this.containersToHash(d),d}};return l.DEFAULT_PROCESSING_MODE=1.1,Qp.ContextParser=l,Qp}var B0={},aE;function YO(){return aE||(aE=1,Object.defineProperty(B0,"__esModule",{value:!0})),B0}var H0={},oE;function QO(){return oE||(oE=1,Object.defineProperty(H0,"__esModule",{value:!0})),H0}var sE;function ja(){return sE||(sE=1,function(e){var t=Mf&&Mf.__createBinding||(Object.create?function(i,a,l,s){s===void 0&&(s=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(i,s,u)}:function(i,a,l,s){s===void 0&&(s=l),i[s]=a[l]}),r=Mf&&Mf.__exportStar||function(i,a){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,i,l)};Object.defineProperty(e,"__esModule",{value:!0}),r(JO(),e),r(ym(),e),r(jx(),e),r(YO(),e),r(QO(),e),r(Bx(),e),r(Yw(),e)}(Mf)),Mf}var V0={exports:{}},$0={exports:{}},K0,lE;function Ri(){if(lE)return K0;lE=1;class e extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let i="";for(let a=0;a<r.length;a++)i+=`    ${r[a].stack}
`;super(i),this.name="AggregateError",this.errors=r}}return K0={AggregateError:e,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,r){return t.includes(r)},ArrayPrototypeIndexOf(t,r){return t.indexOf(r)},ArrayPrototypeJoin(t,r){return t.join(r)},ArrayPrototypeMap(t,r){return t.map(r)},ArrayPrototypePop(t,r){return t.pop(r)},ArrayPrototypePush(t,r){return t.push(r)},ArrayPrototypeSlice(t,r,i){return t.slice(r,i)},Error,FunctionPrototypeCall(t,r,...i){return t.call(r,...i)},FunctionPrototypeSymbolHasInstance(t,r){return Function.prototype[Symbol.hasInstance].call(t,r)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,r){return Object.defineProperties(t,r)},ObjectDefineProperty(t,r,i){return Object.defineProperty(t,r,i)},ObjectGetOwnPropertyDescriptor(t,r){return Object.getOwnPropertyDescriptor(t,r)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,r){return Object.setPrototypeOf(t,r)},Promise,PromisePrototypeCatch(t,r){return t.catch(r)},PromisePrototypeThen(t,r,i){return t.then(r,i)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,r){return t.test(r)},SafeSet:Set,String,StringPrototypeSlice(t,r,i){return t.slice(r,i)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,r,i){return t.set(r,i)},Boolean,Uint8Array},K0}var G0={exports:{}},q0,uE;function Hx(){return uE||(uE=1,q0={format(e,...t){return e.replace(/%([sdifj])/g,function(...[r,i]){const a=t.shift();return i==="f"?a.toFixed(6):i==="j"?JSON.stringify(a):i==="s"&&typeof a=="object"?`${a.constructor!==Object?a.constructor.name:""} {}`.trim():a.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}),q0}var z0,cE;function Ba(){if(cE)return z0;cE=1;const{format:e,inspect:t}=Hx(),{AggregateError:r}=Ri(),i=globalThis.AggregateError||r,a=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],s=/^([A-Z][a-z0-9]*)+$/,u="__node_internal_",d={};function c(C,E){if(!C)throw new d.ERR_INTERNAL_ASSERTION(E)}function p(C){let E="",I=C.length;const O=C[0]==="-"?1:0;for(;I>=O+4;I-=3)E=`_${C.slice(I-3,I)}${E}`;return`${C.slice(0,I)}${E}`}function g(C,E,I){if(typeof E=="function")return c(E.length<=I.length,`Code: ${C}; The provided arguments length (${I.length}) does not match the required ones (${E.length}).`),E(...I);const O=(E.match(/%[dfijoOs]/g)||[]).length;return c(O===I.length,`Code: ${C}; The provided arguments length (${I.length}) does not match the required ones (${O}).`),I.length===0?E:e(E,...I)}function w(C,E,I){I||(I=Error);class O extends I{constructor(...L){super(g(C,E,L))}toString(){return`${this.name} [${C}]: ${this.message}`}}Object.defineProperties(O.prototype,{name:{value:I.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${C}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),O.prototype.code=C,O.prototype[a]=!0,d[C]=O}function _(C){const E=u+C.name;return Object.defineProperty(C,"name",{value:E}),C}function T(C,E){if(C&&E&&C!==E){if(Array.isArray(E.errors))return E.errors.push(C),E;const I=new i([E,C],E.message);return I.code=E.code,I}return C||E}class x extends Error{constructor(E="The operation was aborted",I=void 0){if(I!==void 0&&typeof I!="object")throw new d.ERR_INVALID_ARG_TYPE("options","Object",I);super(E,I),this.code="ABORT_ERR",this.name="AbortError"}}return w("ERR_ASSERTION","%s",Error),w("ERR_INVALID_ARG_TYPE",(C,E,I)=>{c(typeof C=="string","'name' must be a string"),Array.isArray(E)||(E=[E]);let O="The ";C.endsWith(" argument")?O+=`${C} `:O+=`"${C}" ${C.includes(".")?"property":"argument"} `,O+="must be ";const H=[],L=[],q=[];for(const $ of E)c(typeof $=="string","All expected entries have to be of type string"),l.includes($)?H.push($.toLowerCase()):s.test($)?L.push($):(c($!=="object",'The value "object" should be written as "Object"'),q.push($));if(L.length>0){const $=H.indexOf("object");$!==-1&&(H.splice(H,$,1),L.push("Object"))}if(H.length>0){switch(H.length){case 1:O+=`of type ${H[0]}`;break;case 2:O+=`one of type ${H[0]} or ${H[1]}`;break;default:{const $=H.pop();O+=`one of type ${H.join(", ")}, or ${$}`}}(L.length>0||q.length>0)&&(O+=" or ")}if(L.length>0){switch(L.length){case 1:O+=`an instance of ${L[0]}`;break;case 2:O+=`an instance of ${L[0]} or ${L[1]}`;break;default:{const $=L.pop();O+=`an instance of ${L.join(", ")}, or ${$}`}}q.length>0&&(O+=" or ")}switch(q.length){case 0:break;case 1:q[0].toLowerCase()!==q[0]&&(O+="an "),O+=`${q[0]}`;break;case 2:O+=`one of ${q[0]} or ${q[1]}`;break;default:{const $=q.pop();O+=`one of ${q.join(", ")}, or ${$}`}}if(I==null)O+=`. Received ${I}`;else if(typeof I=="function"&&I.name)O+=`. Received function ${I.name}`;else if(typeof I=="object"){var W;if((W=I.constructor)!==null&&W!==void 0&&W.name)O+=`. Received an instance of ${I.constructor.name}`;else{const $=t(I,{depth:-1});O+=`. Received ${$}`}}else{let $=t(I,{colors:!1});$.length>25&&($=`${$.slice(0,25)}...`),O+=`. Received type ${typeof I} (${$})`}return O},TypeError),w("ERR_INVALID_ARG_VALUE",(C,E,I="is invalid")=>{let O=t(E);return O.length>128&&(O=O.slice(0,128)+"..."),`The ${C.includes(".")?"property":"argument"} '${C}' ${I}. Received ${O}`},TypeError),w("ERR_INVALID_RETURN_VALUE",(C,E,I)=>{var O;const H=I!=null&&(O=I.constructor)!==null&&O!==void 0&&O.name?`instance of ${I.constructor.name}`:`type ${typeof I}`;return`Expected ${C} to be returned from the "${E}" function but got ${H}.`},TypeError),w("ERR_MISSING_ARGS",(...C)=>{c(C.length>0,"At least one arg needs to be specified");let E;const I=C.length;switch(C=(Array.isArray(C)?C:[C]).map(O=>`"${O}"`).join(" or "),I){case 1:E+=`The ${C[0]} argument`;break;case 2:E+=`The ${C[0]} and ${C[1]} arguments`;break;default:{const O=C.pop();E+=`The ${C.join(", ")}, and ${O} arguments`}break}return`${E} must be specified`},TypeError),w("ERR_OUT_OF_RANGE",(C,E,I)=>{c(E,'Missing "range" argument');let O;if(Number.isInteger(I)&&Math.abs(I)>2**32)O=p(String(I));else if(typeof I=="bigint"){O=String(I);const H=BigInt(2)**BigInt(32);(I>H||I<-H)&&(O=p(O)),O+="n"}else O=t(I);return`The value of "${C}" is out of range. It must be ${E}. Received ${O}`},RangeError),w("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),w("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),w("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),w("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),w("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),w("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),w("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),w("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),w("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),w("ERR_STREAM_WRITE_AFTER_END","write after end",Error),w("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),z0={AbortError:x,aggregateTwoErrors:_(T),hideStackFrames:_,codes:d},z0}var eg={exports:{}},fE;function im(){if(fE)return eg.exports;fE=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return eg.exports=e,eg.exports.AbortSignal=t,eg.exports.default=e,eg.exports}var xy={exports:{}},dE;function Yf(){if(dE)return xy.exports;dE=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(L,q,W){return Function.prototype.apply.call(L,q,W)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(L){return Object.getOwnPropertyNames(L).concat(Object.getOwnPropertySymbols(L))}:r=function(L){return Object.getOwnPropertyNames(L)};function i(H){console&&console.warn&&console.warn(H)}var a=Number.isNaN||function(L){return L!==L};function l(){l.init.call(this)}xy.exports=l,xy.exports.once=E,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var s=10;function u(H){if(typeof H!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof H)}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(H){if(typeof H!="number"||H<0||a(H))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+H+".");s=H}}),l.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(L){if(typeof L!="number"||L<0||a(L))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+L+".");return this._maxListeners=L,this};function d(H){return H._maxListeners===void 0?l.defaultMaxListeners:H._maxListeners}l.prototype.getMaxListeners=function(){return d(this)},l.prototype.emit=function(L){for(var q=[],W=1;W<arguments.length;W++)q.push(arguments[W]);var $=L==="error",Ae=this._events;if(Ae!==void 0)$=$&&Ae.error===void 0;else if(!$)return!1;if($){var K;if(q.length>0&&(K=q[0]),K instanceof Error)throw K;var ae=new Error("Unhandled error."+(K?" ("+K.message+")":""));throw ae.context=K,ae}var pe=Ae[L];if(pe===void 0)return!1;if(typeof pe=="function")t(pe,this,q);else for(var be=pe.length,Ze=T(pe,be),W=0;W<be;++W)t(Ze[W],this,q);return!0};function c(H,L,q,W){var $,Ae,K;if(u(q),Ae=H._events,Ae===void 0?(Ae=H._events=Object.create(null),H._eventsCount=0):(Ae.newListener!==void 0&&(H.emit("newListener",L,q.listener?q.listener:q),Ae=H._events),K=Ae[L]),K===void 0)K=Ae[L]=q,++H._eventsCount;else if(typeof K=="function"?K=Ae[L]=W?[q,K]:[K,q]:W?K.unshift(q):K.push(q),$=d(H),$>0&&K.length>$&&!K.warned){K.warned=!0;var ae=new Error("Possible EventEmitter memory leak detected. "+K.length+" "+String(L)+" listeners added. Use emitter.setMaxListeners() to increase limit");ae.name="MaxListenersExceededWarning",ae.emitter=H,ae.type=L,ae.count=K.length,i(ae)}return H}l.prototype.addListener=function(L,q){return c(this,L,q,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(L,q){return c(this,L,q,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(H,L,q){var W={fired:!1,wrapFn:void 0,target:H,type:L,listener:q},$=p.bind(W);return $.listener=q,W.wrapFn=$,$}l.prototype.once=function(L,q){return u(q),this.on(L,g(this,L,q)),this},l.prototype.prependOnceListener=function(L,q){return u(q),this.prependListener(L,g(this,L,q)),this},l.prototype.removeListener=function(L,q){var W,$,Ae,K,ae;if(u(q),$=this._events,$===void 0)return this;if(W=$[L],W===void 0)return this;if(W===q||W.listener===q)--this._eventsCount===0?this._events=Object.create(null):(delete $[L],$.removeListener&&this.emit("removeListener",L,W.listener||q));else if(typeof W!="function"){for(Ae=-1,K=W.length-1;K>=0;K--)if(W[K]===q||W[K].listener===q){ae=W[K].listener,Ae=K;break}if(Ae<0)return this;Ae===0?W.shift():x(W,Ae),W.length===1&&($[L]=W[0]),$.removeListener!==void 0&&this.emit("removeListener",L,ae||q)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(L){var q,W,$;if(W=this._events,W===void 0)return this;if(W.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):W[L]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete W[L]),this;if(arguments.length===0){var Ae=Object.keys(W),K;for($=0;$<Ae.length;++$)K=Ae[$],K!=="removeListener"&&this.removeAllListeners(K);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(q=W[L],typeof q=="function")this.removeListener(L,q);else if(q!==void 0)for($=q.length-1;$>=0;$--)this.removeListener(L,q[$]);return this};function w(H,L,q){var W=H._events;if(W===void 0)return[];var $=W[L];return $===void 0?[]:typeof $=="function"?q?[$.listener||$]:[$]:q?C($):T($,$.length)}l.prototype.listeners=function(L){return w(this,L,!0)},l.prototype.rawListeners=function(L){return w(this,L,!1)},l.listenerCount=function(H,L){return typeof H.listenerCount=="function"?H.listenerCount(L):_.call(H,L)},l.prototype.listenerCount=_;function _(H){var L=this._events;if(L!==void 0){var q=L[H];if(typeof q=="function")return 1;if(q!==void 0)return q.length}return 0}l.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function T(H,L){for(var q=new Array(L),W=0;W<L;++W)q[W]=H[W];return q}function x(H,L){for(;L+1<H.length;L++)H[L]=H[L+1];H.pop()}function C(H){for(var L=new Array(H.length),q=0;q<L.length;++q)L[q]=H[q].listener||H[q];return L}function E(H,L){return new Promise(function(q,W){function $(K){H.removeListener(L,Ae),W(K)}function Ae(){typeof H.removeListener=="function"&&H.removeListener("error",$),q([].slice.call(arguments))}O(H,L,Ae,{once:!0}),L!=="error"&&I(H,$,{once:!0})})}function I(H,L,q){typeof H.on=="function"&&O(H,"error",L,q)}function O(H,L,q,W){if(typeof H.on=="function")W.once?H.once(L,q):H.on(L,q);else if(typeof H.addEventListener=="function")H.addEventListener(L,function $(Ae){W.once&&H.removeEventListener(L,$),q(Ae)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof H)}return xy.exports}var hE;function oo(){return hE||(hE=1,function(e){const t=el(),{format:r,inspect:i}=Hx(),{codes:{ERR_INVALID_ARG_TYPE:a}}=Ba(),{kResistStopPropagation:l,AggregateError:s,SymbolDispose:u}=Ri(),d=globalThis.AbortSignal||im().AbortSignal,c=globalThis.AbortController||im().AbortController,p=Object.getPrototypeOf(async function(){}).constructor,g=globalThis.Blob||t.Blob,w=typeof g<"u"?function(C){return C instanceof g}:function(C){return!1},_=(x,C)=>{if(x!==void 0&&(x===null||typeof x!="object"||!("aborted"in x)))throw new a(C,"AbortSignal",x)},T=(x,C)=>{if(typeof x!="function")throw new a(C,"Function",x)};e.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(x){let C=!1;return function(...E){C||(C=!0,x.apply(this,E))}},createDeferredPromise:function(){let x,C;return{promise:new Promise((I,O)=>{x=I,C=O}),resolve:x,reject:C}},promisify(x){return new Promise((C,E)=>{x((I,...O)=>I?E(I):C(...O))})},debuglog(){return function(){}},format:r,inspect:i,types:{isAsyncFunction(x){return x instanceof p},isArrayBufferView(x){return ArrayBuffer.isView(x)}},isBlob:w,deprecate(x,C){return x},addAbortListener:Yf().addAbortListener||function(C,E){if(C===void 0)throw new a("signal","AbortSignal",C);_(C,"signal"),T(E,"listener");let I;return C.aborted?queueMicrotask(()=>E()):(C.addEventListener("abort",E,{__proto__:null,once:!0,[l]:!0}),I=()=>{C.removeEventListener("abort",E)}),{__proto__:null,[u](){var O;(O=I)===null||O===void 0||O()}}},AbortSignalAny:d.any||function(C){if(C.length===1)return C[0];const E=new c,I=()=>E.abort();return C.forEach(O=>{_(O,"signals"),O.addEventListener("abort",I,{once:!0})}),E.signal.addEventListener("abort",()=>{C.forEach(O=>O.removeEventListener("abort",I))},{once:!0}),E.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(G0)),G0.exports}var Ry={},W0,pE;function vm(){if(pE)return W0;pE=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:r,ArrayPrototypeMap:i,NumberIsInteger:a,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:s,NumberMIN_SAFE_INTEGER:u,NumberParseInt:d,ObjectPrototypeHasOwnProperty:c,RegExpPrototypeExec:p,String:g,StringPrototypeToUpperCase:w,StringPrototypeTrim:_}=Ri(),{hideStackFrames:T,codes:{ERR_SOCKET_BAD_PORT:x,ERR_INVALID_ARG_TYPE:C,ERR_INVALID_ARG_VALUE:E,ERR_OUT_OF_RANGE:I,ERR_UNKNOWN_SIGNAL:O}}=Ba(),{normalizeEncoding:H}=oo(),{isAsyncFunction:L,isArrayBufferView:q}=oo().types,W={};function $(Pe){return Pe===(Pe|0)}function Ae(Pe){return Pe===Pe>>>0}const K=/^[0-7]+$/,ae="must be a 32-bit unsigned integer or an octal string";function pe(Pe,mt,Tt){if(typeof Pe>"u"&&(Pe=Tt),typeof Pe=="string"){if(p(K,Pe)===null)throw new E(mt,Pe,ae);Pe=d(Pe,8)}return it(Pe,mt),Pe}const be=T((Pe,mt,Tt=u,bt=s)=>{if(typeof Pe!="number")throw new C(mt,"number",Pe);if(!a(Pe))throw new I(mt,"an integer",Pe);if(Pe<Tt||Pe>bt)throw new I(mt,`>= ${Tt} && <= ${bt}`,Pe)}),Ze=T((Pe,mt,Tt=-2147483648,bt=2147483647)=>{if(typeof Pe!="number")throw new C(mt,"number",Pe);if(!a(Pe))throw new I(mt,"an integer",Pe);if(Pe<Tt||Pe>bt)throw new I(mt,`>= ${Tt} && <= ${bt}`,Pe)}),it=T((Pe,mt,Tt=!1)=>{if(typeof Pe!="number")throw new C(mt,"number",Pe);if(!a(Pe))throw new I(mt,"an integer",Pe);const bt=Tt?1:0,Xe=4294967295;if(Pe<bt||Pe>Xe)throw new I(mt,`>= ${bt} && <= ${Xe}`,Pe)});function Re(Pe,mt){if(typeof Pe!="string")throw new C(mt,"string",Pe)}function lt(Pe,mt,Tt=void 0,bt){if(typeof Pe!="number")throw new C(mt,"number",Pe);if(Tt!=null&&Pe<Tt||bt!=null&&Pe>bt||(Tt!=null||bt!=null)&&l(Pe))throw new I(mt,`${Tt!=null?`>= ${Tt}`:""}${Tt!=null&&bt!=null?" && ":""}${bt!=null?`<= ${bt}`:""}`,Pe)}const ge=T((Pe,mt,Tt)=>{if(!t(Tt,Pe)){const Xe="must be one of: "+r(i(Tt,qe=>typeof qe=="string"?`'${qe}'`:g(qe)),", ");throw new E(mt,Pe,Xe)}});function rt(Pe,mt){if(typeof Pe!="boolean")throw new C(mt,"boolean",Pe)}function Y(Pe,mt,Tt){return Pe==null||!c(Pe,mt)?Tt:Pe[mt]}const xe=T((Pe,mt,Tt=null)=>{const bt=Y(Tt,"allowArray",!1),Xe=Y(Tt,"allowFunction",!1);if(!Y(Tt,"nullable",!1)&&Pe===null||!bt&&e(Pe)||typeof Pe!="object"&&(!Xe||typeof Pe!="function"))throw new C(mt,"Object",Pe)}),$e=T((Pe,mt)=>{if(Pe!=null&&typeof Pe!="object"&&typeof Pe!="function")throw new C(mt,"a dictionary",Pe)}),Me=T((Pe,mt,Tt=0)=>{if(!e(Pe))throw new C(mt,"Array",Pe);if(Pe.length<Tt){const bt=`must be longer than ${Tt}`;throw new E(mt,Pe,bt)}});function at(Pe,mt){Me(Pe,mt);for(let Tt=0;Tt<Pe.length;Tt++)Re(Pe[Tt],`${mt}[${Tt}]`)}function It(Pe,mt){Me(Pe,mt);for(let Tt=0;Tt<Pe.length;Tt++)rt(Pe[Tt],`${mt}[${Tt}]`)}function Pt(Pe,mt){Me(Pe,mt);for(let Tt=0;Tt<Pe.length;Tt++){const bt=Pe[Tt],Xe=`${mt}[${Tt}]`;if(bt==null)throw new C(Xe,"AbortSignal",bt);se(bt,Xe)}}function Le(Pe,mt="signal"){if(Re(Pe,mt),W[Pe]===void 0)throw W[w(Pe)]!==void 0?new O(Pe+" (signals must use all capital letters)"):new O(Pe)}const ce=T((Pe,mt="buffer")=>{if(!q(Pe))throw new C(mt,["Buffer","TypedArray","DataView"],Pe)});function Ie(Pe,mt){const Tt=H(mt),bt=Pe.length;if(Tt==="hex"&&bt%2!==0)throw new E("encoding",mt,`is invalid for data of length ${bt}`)}function Ye(Pe,mt="Port",Tt=!0){if(typeof Pe!="number"&&typeof Pe!="string"||typeof Pe=="string"&&_(Pe).length===0||+Pe!==+Pe>>>0||Pe>65535||Pe===0&&!Tt)throw new x(mt,Pe,Tt);return Pe|0}const se=T((Pe,mt)=>{if(Pe!==void 0&&(Pe===null||typeof Pe!="object"||!("aborted"in Pe)))throw new C(mt,"AbortSignal",Pe)}),k=T((Pe,mt)=>{if(typeof Pe!="function")throw new C(mt,"Function",Pe)}),D=T((Pe,mt)=>{if(typeof Pe!="function"||L(Pe))throw new C(mt,"Function",Pe)}),z=T((Pe,mt)=>{if(Pe!==void 0)throw new C(mt,"undefined",Pe)});function re(Pe,mt,Tt){if(!t(Tt,Pe))throw new C(mt,`('${r(Tt,"|")}')`,Pe)}const Se=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Ne(Pe,mt){if(typeof Pe>"u"||!p(Se,Pe))throw new E(mt,Pe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ct(Pe){if(typeof Pe=="string")return Ne(Pe,"hints"),Pe;if(e(Pe)){const mt=Pe.length;let Tt="";if(mt===0)return Tt;for(let bt=0;bt<mt;bt++){const Xe=Pe[bt];Ne(Xe,"hints"),Tt+=Xe,bt!==mt-1&&(Tt+=", ")}return Tt}throw new E("hints",Pe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return W0={isInt32:$,isUint32:Ae,parseFileMode:pe,validateArray:Me,validateStringArray:at,validateBooleanArray:It,validateAbortSignalArray:Pt,validateBoolean:rt,validateBuffer:ce,validateDictionary:$e,validateEncoding:Ie,validateFunction:k,validateInt32:Ze,validateInteger:be,validateNumber:lt,validateObject:xe,validateOneOf:ge,validatePlainFunction:D,validatePort:Ye,validateSignalName:Le,validateString:Re,validateUint32:it,validateUndefined:z,validateUnion:re,validateAbortSignal:se,validateLinkHeaderValue:ct},W0}var Cy={exports:{}},J0={exports:{}},gE;function Qf(){if(gE)return J0.exports;gE=1;var e=J0.exports={},t,r;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=i}catch{t=i}try{typeof clearTimeout=="function"?r=clearTimeout:r=a}catch{r=a}})();function l(x){if(t===setTimeout)return setTimeout(x,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(x,0);try{return t(x,0)}catch{try{return t.call(null,x,0)}catch{return t.call(this,x,0)}}}function s(x){if(r===clearTimeout)return clearTimeout(x);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(x);try{return r(x)}catch{try{return r.call(null,x)}catch{return r.call(this,x)}}}var u=[],d=!1,c,p=-1;function g(){!d||!c||(d=!1,c.length?u=c.concat(u):p=-1,u.length&&w())}function w(){if(!d){var x=l(g);d=!0;for(var C=u.length;C;){for(c=u,u=[];++p<C;)c&&c[p].run();p=-1,C=u.length}c=null,d=!1,s(x)}}e.nextTick=function(x){var C=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)C[E-1]=arguments[E];u.push(new _(x,C)),u.length===1&&!d&&l(w)};function _(x,C){this.fun=x,this.array=C}_.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function T(){}return e.on=T,e.addListener=T,e.once=T,e.off=T,e.removeListener=T,e.removeAllListeners=T,e.emit=T,e.prependListener=T,e.prependOnceListener=T,e.listeners=function(x){return[]},e.binding=function(x){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(x){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},J0.exports}var Y0,mE;function uu(){if(mE)return Y0;mE=1;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:r}=Ri(),i=r("nodejs.stream.destroyed"),a=r("nodejs.stream.errored"),l=r("nodejs.stream.readable"),s=r("nodejs.stream.writable"),u=r("nodejs.stream.disturbed"),d=r("nodejs.webstream.isClosedPromise"),c=r("nodejs.webstream.controllerErrorFunction");function p(Y,xe=!1){var $e;return!!(Y&&typeof Y.pipe=="function"&&typeof Y.on=="function"&&(!xe||typeof Y.pause=="function"&&typeof Y.resume=="function")&&(!Y._writableState||(($e=Y._readableState)===null||$e===void 0?void 0:$e.readable)!==!1)&&(!Y._writableState||Y._readableState))}function g(Y){var xe;return!!(Y&&typeof Y.write=="function"&&typeof Y.on=="function"&&(!Y._readableState||((xe=Y._writableState)===null||xe===void 0?void 0:xe.writable)!==!1))}function w(Y){return!!(Y&&typeof Y.pipe=="function"&&Y._readableState&&typeof Y.on=="function"&&typeof Y.write=="function")}function _(Y){return Y&&(Y._readableState||Y._writableState||typeof Y.write=="function"&&typeof Y.on=="function"||typeof Y.pipe=="function"&&typeof Y.on=="function")}function T(Y){return!!(Y&&!_(Y)&&typeof Y.pipeThrough=="function"&&typeof Y.getReader=="function"&&typeof Y.cancel=="function")}function x(Y){return!!(Y&&!_(Y)&&typeof Y.getWriter=="function"&&typeof Y.abort=="function")}function C(Y){return!!(Y&&!_(Y)&&typeof Y.readable=="object"&&typeof Y.writable=="object")}function E(Y){return T(Y)||x(Y)||C(Y)}function I(Y,xe){return Y==null?!1:xe===!0?typeof Y[e]=="function":xe===!1?typeof Y[t]=="function":typeof Y[e]=="function"||typeof Y[t]=="function"}function O(Y){if(!_(Y))return null;const xe=Y._writableState,$e=Y._readableState,Me=xe||$e;return!!(Y.destroyed||Y[i]||Me!=null&&Me.destroyed)}function H(Y){if(!g(Y))return null;if(Y.writableEnded===!0)return!0;const xe=Y._writableState;return xe!=null&&xe.errored?!1:typeof xe?.ended!="boolean"?null:xe.ended}function L(Y,xe){if(!g(Y))return null;if(Y.writableFinished===!0)return!0;const $e=Y._writableState;return $e!=null&&$e.errored?!1:typeof $e?.finished!="boolean"?null:!!($e.finished||xe===!1&&$e.ended===!0&&$e.length===0)}function q(Y){if(!p(Y))return null;if(Y.readableEnded===!0)return!0;const xe=Y._readableState;return!xe||xe.errored?!1:typeof xe?.ended!="boolean"?null:xe.ended}function W(Y,xe){if(!p(Y))return null;const $e=Y._readableState;return $e!=null&&$e.errored?!1:typeof $e?.endEmitted!="boolean"?null:!!($e.endEmitted||xe===!1&&$e.ended===!0&&$e.length===0)}function $(Y){return Y&&Y[l]!=null?Y[l]:typeof Y?.readable!="boolean"?null:O(Y)?!1:p(Y)&&Y.readable&&!W(Y)}function Ae(Y){return Y&&Y[s]!=null?Y[s]:typeof Y?.writable!="boolean"?null:O(Y)?!1:g(Y)&&Y.writable&&!H(Y)}function K(Y,xe){return _(Y)?O(Y)?!0:!(xe?.readable!==!1&&$(Y)||xe?.writable!==!1&&Ae(Y)):null}function ae(Y){var xe,$e;return _(Y)?Y.writableErrored?Y.writableErrored:(xe=($e=Y._writableState)===null||$e===void 0?void 0:$e.errored)!==null&&xe!==void 0?xe:null:null}function pe(Y){var xe,$e;return _(Y)?Y.readableErrored?Y.readableErrored:(xe=($e=Y._readableState)===null||$e===void 0?void 0:$e.errored)!==null&&xe!==void 0?xe:null:null}function be(Y){if(!_(Y))return null;if(typeof Y.closed=="boolean")return Y.closed;const xe=Y._writableState,$e=Y._readableState;return typeof xe?.closed=="boolean"||typeof $e?.closed=="boolean"?xe?.closed||$e?.closed:typeof Y._closed=="boolean"&&Ze(Y)?Y._closed:null}function Ze(Y){return typeof Y._closed=="boolean"&&typeof Y._defaultKeepAlive=="boolean"&&typeof Y._removedConnection=="boolean"&&typeof Y._removedContLen=="boolean"}function it(Y){return typeof Y._sent100=="boolean"&&Ze(Y)}function Re(Y){var xe;return typeof Y._consuming=="boolean"&&typeof Y._dumped=="boolean"&&((xe=Y.req)===null||xe===void 0?void 0:xe.upgradeOrConnect)===void 0}function lt(Y){if(!_(Y))return null;const xe=Y._writableState,$e=Y._readableState,Me=xe||$e;return!Me&&it(Y)||!!(Me&&Me.autoDestroy&&Me.emitClose&&Me.closed===!1)}function ge(Y){var xe;return!!(Y&&((xe=Y[u])!==null&&xe!==void 0?xe:Y.readableDidRead||Y.readableAborted))}function rt(Y){var xe,$e,Me,at,It,Pt,Le,ce,Ie,Ye;return!!(Y&&((xe=($e=(Me=(at=(It=(Pt=Y[a])!==null&&Pt!==void 0?Pt:Y.readableErrored)!==null&&It!==void 0?It:Y.writableErrored)!==null&&at!==void 0?at:(Le=Y._readableState)===null||Le===void 0?void 0:Le.errorEmitted)!==null&&Me!==void 0?Me:(ce=Y._writableState)===null||ce===void 0?void 0:ce.errorEmitted)!==null&&$e!==void 0?$e:(Ie=Y._readableState)===null||Ie===void 0?void 0:Ie.errored)!==null&&xe!==void 0?xe:!((Ye=Y._writableState)===null||Ye===void 0)&&Ye.errored))}return Y0={isDestroyed:O,kIsDestroyed:i,isDisturbed:ge,kIsDisturbed:u,isErrored:rt,kIsErrored:a,isReadable:$,kIsReadable:l,kIsClosedPromise:d,kControllerErrorFunction:c,kIsWritable:s,isClosed:be,isDuplexNodeStream:w,isFinished:K,isIterable:I,isReadableNodeStream:p,isReadableStream:T,isReadableEnded:q,isReadableFinished:W,isReadableErrored:pe,isNodeStream:_,isWebStream:E,isWritable:Ae,isWritableNodeStream:g,isWritableStream:x,isWritableEnded:H,isWritableFinished:L,isWritableErrored:ae,isServerRequest:Re,isServerResponse:it,willEmitClose:lt,isTransformStream:C},Y0}var yE;function mc(){if(yE)return Cy.exports;yE=1;const e=Qf(),{AbortError:t,codes:r}=Ba(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_PREMATURE_CLOSE:a}=r,{kEmptyObject:l,once:s}=oo(),{validateAbortSignal:u,validateFunction:d,validateObject:c,validateBoolean:p}=vm(),{Promise:g,PromisePrototypeThen:w,SymbolDispose:_}=Ri(),{isClosed:T,isReadable:x,isReadableNodeStream:C,isReadableStream:E,isReadableFinished:I,isReadableErrored:O,isWritable:H,isWritableNodeStream:L,isWritableStream:q,isWritableFinished:W,isWritableErrored:$,isNodeStream:Ae,willEmitClose:K,kIsClosedPromise:ae}=uu();let pe;function be(ge){return ge.setHeader&&typeof ge.abort=="function"}const Ze=()=>{};function it(ge,rt,Y){var xe,$e;if(arguments.length===2?(Y=rt,rt=l):rt==null?rt=l:c(rt,"options"),d(Y,"callback"),u(rt.signal,"options.signal"),Y=s(Y),E(ge)||q(ge))return Re(ge,rt,Y);if(!Ae(ge))throw new i("stream",["ReadableStream","WritableStream","Stream"],ge);const Me=(xe=rt.readable)!==null&&xe!==void 0?xe:C(ge),at=($e=rt.writable)!==null&&$e!==void 0?$e:L(ge),It=ge._writableState,Pt=ge._readableState,Le=()=>{ge.writable||Ye()};let ce=K(ge)&&C(ge)===Me&&L(ge)===at,Ie=W(ge,!1);const Ye=()=>{Ie=!0,ge.destroyed&&(ce=!1),!(ce&&(!ge.readable||Me))&&(!Me||se)&&Y.call(ge)};let se=I(ge,!1);const k=()=>{se=!0,ge.destroyed&&(ce=!1),!(ce&&(!ge.writable||at))&&(!at||Ie)&&Y.call(ge)},D=Pe=>{Y.call(ge,Pe)};let z=T(ge);const re=()=>{z=!0;const Pe=$(ge)||O(ge);if(Pe&&typeof Pe!="boolean")return Y.call(ge,Pe);if(Me&&!se&&C(ge,!0)&&!I(ge,!1))return Y.call(ge,new a);if(at&&!Ie&&!W(ge,!1))return Y.call(ge,new a);Y.call(ge)},Se=()=>{z=!0;const Pe=$(ge)||O(ge);if(Pe&&typeof Pe!="boolean")return Y.call(ge,Pe);Y.call(ge)},Ne=()=>{ge.req.on("finish",Ye)};be(ge)?(ge.on("complete",Ye),ce||ge.on("abort",re),ge.req?Ne():ge.on("request",Ne)):at&&!It&&(ge.on("end",Le),ge.on("close",Le)),!ce&&typeof ge.aborted=="boolean"&&ge.on("aborted",re),ge.on("end",k),ge.on("finish",Ye),rt.error!==!1&&ge.on("error",D),ge.on("close",re),z?e.nextTick(re):It!=null&&It.errorEmitted||Pt!=null&&Pt.errorEmitted?ce||e.nextTick(Se):(!Me&&(!ce||x(ge))&&(Ie||H(ge)===!1)||!at&&(!ce||H(ge))&&(se||x(ge)===!1)||Pt&&ge.req&&ge.aborted)&&e.nextTick(Se);const ct=()=>{Y=Ze,ge.removeListener("aborted",re),ge.removeListener("complete",Ye),ge.removeListener("abort",re),ge.removeListener("request",Ne),ge.req&&ge.req.removeListener("finish",Ye),ge.removeListener("end",Le),ge.removeListener("close",Le),ge.removeListener("finish",Ye),ge.removeListener("end",k),ge.removeListener("error",D),ge.removeListener("close",re)};if(rt.signal&&!z){const Pe=()=>{const mt=Y;ct(),mt.call(ge,new t(void 0,{cause:rt.signal.reason}))};if(rt.signal.aborted)e.nextTick(Pe);else{pe=pe||oo().addAbortListener;const mt=pe(rt.signal,Pe),Tt=Y;Y=s((...bt)=>{mt[_](),Tt.apply(ge,bt)})}}return ct}function Re(ge,rt,Y){let xe=!1,$e=Ze;if(rt.signal)if($e=()=>{xe=!0,Y.call(ge,new t(void 0,{cause:rt.signal.reason}))},rt.signal.aborted)e.nextTick($e);else{pe=pe||oo().addAbortListener;const at=pe(rt.signal,$e),It=Y;Y=s((...Pt)=>{at[_](),It.apply(ge,Pt)})}const Me=(...at)=>{xe||e.nextTick(()=>Y.apply(ge,at))};return w(ge[ae].promise,Me,Me),Ze}function lt(ge,rt){var Y;let xe=!1;return rt===null&&(rt=l),(Y=rt)!==null&&Y!==void 0&&Y.cleanup&&(p(rt.cleanup,"cleanup"),xe=rt.cleanup),new g(($e,Me)=>{const at=it(ge,rt,It=>{xe&&at(),It?Me(It):$e()})})}return Cy.exports=it,Cy.exports.finished=lt,Cy.exports}var Q0,vE;function Sh(){if(vE)return Q0;vE=1;const e=Qf(),{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:i}=Ba(),{Symbol:a}=Ri(),{kIsDestroyed:l,isDestroyed:s,isFinished:u,isServerRequest:d}=uu(),c=a("kDestroy"),p=a("kConstruct");function g(K,ae,pe){K&&(K.stack,ae&&!ae.errored&&(ae.errored=K),pe&&!pe.errored&&(pe.errored=K))}function w(K,ae){const pe=this._readableState,be=this._writableState,Ze=be||pe;return be!=null&&be.destroyed||pe!=null&&pe.destroyed?(typeof ae=="function"&&ae(),this):(g(K,be,pe),be&&(be.destroyed=!0),pe&&(pe.destroyed=!0),Ze.constructed?_(this,K,ae):this.once(c,function(it){_(this,t(it,K),ae)}),this)}function _(K,ae,pe){let be=!1;function Ze(it){if(be)return;be=!0;const Re=K._readableState,lt=K._writableState;g(it,lt,Re),lt&&(lt.closed=!0),Re&&(Re.closed=!0),typeof pe=="function"&&pe(it),it?e.nextTick(T,K,it):e.nextTick(x,K)}try{K._destroy(ae||null,Ze)}catch(it){Ze(it)}}function T(K,ae){C(K,ae),x(K)}function x(K){const ae=K._readableState,pe=K._writableState;pe&&(pe.closeEmitted=!0),ae&&(ae.closeEmitted=!0),(pe!=null&&pe.emitClose||ae!=null&&ae.emitClose)&&K.emit("close")}function C(K,ae){const pe=K._readableState,be=K._writableState;be!=null&&be.errorEmitted||pe!=null&&pe.errorEmitted||(be&&(be.errorEmitted=!0),pe&&(pe.errorEmitted=!0),K.emit("error",ae))}function E(){const K=this._readableState,ae=this._writableState;K&&(K.constructed=!0,K.closed=!1,K.closeEmitted=!1,K.destroyed=!1,K.errored=null,K.errorEmitted=!1,K.reading=!1,K.ended=K.readable===!1,K.endEmitted=K.readable===!1),ae&&(ae.constructed=!0,ae.destroyed=!1,ae.closed=!1,ae.closeEmitted=!1,ae.errored=null,ae.errorEmitted=!1,ae.finalCalled=!1,ae.prefinished=!1,ae.ended=ae.writable===!1,ae.ending=ae.writable===!1,ae.finished=ae.writable===!1)}function I(K,ae,pe){const be=K._readableState,Ze=K._writableState;if(Ze!=null&&Ze.destroyed||be!=null&&be.destroyed)return this;be!=null&&be.autoDestroy||Ze!=null&&Ze.autoDestroy?K.destroy(ae):ae&&(ae.stack,Ze&&!Ze.errored&&(Ze.errored=ae),be&&!be.errored&&(be.errored=ae),pe?e.nextTick(C,K,ae):C(K,ae))}function O(K,ae){if(typeof K._construct!="function")return;const pe=K._readableState,be=K._writableState;pe&&(pe.constructed=!1),be&&(be.constructed=!1),K.once(p,ae),!(K.listenerCount(p)>1)&&e.nextTick(H,K)}function H(K){let ae=!1;function pe(be){if(ae){I(K,be??new r);return}ae=!0;const Ze=K._readableState,it=K._writableState,Re=it||Ze;Ze&&(Ze.constructed=!0),it&&(it.constructed=!0),Re.destroyed?K.emit(c,be):be?I(K,be,!0):e.nextTick(L,K)}try{K._construct(be=>{e.nextTick(pe,be)})}catch(be){e.nextTick(pe,be)}}function L(K){K.emit(p)}function q(K){return K?.setHeader&&typeof K.abort=="function"}function W(K){K.emit("close")}function $(K,ae){K.emit("error",ae),e.nextTick(W,K)}function Ae(K,ae){!K||s(K)||(!ae&&!u(K)&&(ae=new i),d(K)?(K.socket=null,K.destroy(ae)):q(K)?K.abort():q(K.req)?K.req.abort():typeof K.destroy=="function"?K.destroy(ae):typeof K.close=="function"?K.close():ae?e.nextTick($,K,ae):e.nextTick(W,K),K.destroyed||(K[l]=!0))}return Q0={construct:O,destroyer:Ae,destroy:w,undestroy:E,errorOrDestroy:I},Q0}var X0,bE;function Qw(){if(bE)return X0;bE=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=Ri(),{EventEmitter:r}=Yf();function i(l){r.call(this,l)}t(i.prototype,r.prototype),t(i,r),i.prototype.pipe=function(l,s){const u=this;function d(x){l.writable&&l.write(x)===!1&&u.pause&&u.pause()}u.on("data",d);function c(){u.readable&&u.resume&&u.resume()}l.on("drain",c),!l._isStdio&&(!s||s.end!==!1)&&(u.on("end",g),u.on("close",w));let p=!1;function g(){p||(p=!0,l.end())}function w(){p||(p=!0,typeof l.destroy=="function"&&l.destroy())}function _(x){T(),r.listenerCount(this,"error")===0&&this.emit("error",x)}a(u,"error",_),a(l,"error",_);function T(){u.removeListener("data",d),l.removeListener("drain",c),u.removeListener("end",g),u.removeListener("close",w),u.removeListener("error",_),l.removeListener("error",_),u.removeListener("end",T),u.removeListener("close",T),l.removeListener("close",T)}return u.on("end",T),u.on("close",T),l.on("close",T),l.emit("pipe",u),l};function a(l,s,u){if(typeof l.prependListener=="function")return l.prependListener(s,u);!l._events||!l._events[s]?l.on(s,u):e(l._events[s])?l._events[s].unshift(u):l._events[s]=[u,l._events[s]]}return X0={Stream:i,prependListener:a},X0}var Z0={exports:{}},wE;function Iv(){return wE||(wE=1,function(e){const{SymbolDispose:t}=Ri(),{AbortError:r,codes:i}=Ba(),{isNodeStream:a,isWebStream:l,kControllerErrorFunction:s}=uu(),u=mc(),{ERR_INVALID_ARG_TYPE:d}=i;let c;const p=(g,w)=>{if(typeof g!="object"||!("aborted"in g))throw new d(w,"AbortSignal",g)};e.exports.addAbortSignal=function(w,_){if(p(w,"signal"),!a(_)&&!l(_))throw new d("stream",["ReadableStream","WritableStream","Stream"],_);return e.exports.addAbortSignalNoValidate(w,_)},e.exports.addAbortSignalNoValidate=function(g,w){if(typeof g!="object"||!("aborted"in g))return w;const _=a(w)?()=>{w.destroy(new r(void 0,{cause:g.reason}))}:()=>{w[s](new r(void 0,{cause:g.reason}))};if(g.aborted)_();else{c=c||oo().addAbortListener;const T=c(g,_);u(w,T[t])}return w}}(Z0)),Z0.exports}var eb,_E;function XO(){if(_E)return eb;_E=1;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:r,Uint8Array:i}=Ri(),{Buffer:a}=el(),{inspect:l}=oo();return eb=class{constructor(){this.head=null,this.tail=null,this.length=0}push(u){const d={data:u,next:null};this.length>0?this.tail.next=d:this.head=d,this.tail=d,++this.length}unshift(u){const d={data:u,next:this.head};this.length===0&&(this.tail=d),this.head=d,++this.length}shift(){if(this.length===0)return;const u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}clear(){this.head=this.tail=null,this.length=0}join(u){if(this.length===0)return"";let d=this.head,c=""+d.data;for(;(d=d.next)!==null;)c+=u+d.data;return c}concat(u){if(this.length===0)return a.alloc(0);const d=a.allocUnsafe(u>>>0);let c=this.head,p=0;for(;c;)r(d,c.data,p),p+=c.data.length,c=c.next;return d}consume(u,d){const c=this.head.data;if(u<c.length){const p=c.slice(0,u);return this.head.data=c.slice(u),p}return u===c.length?this.shift():d?this._getString(u):this._getBuffer(u)}first(){return this.head.data}*[t](){for(let u=this.head;u;u=u.next)yield u.data}_getString(u){let d="",c=this.head,p=0;do{const g=c.data;if(u>g.length)d+=g,u-=g.length;else{u===g.length?(d+=g,++p,c.next?this.head=c.next:this.head=this.tail=null):(d+=e(g,0,u),this.head=c,c.data=e(g,u));break}++p}while((c=c.next)!==null);return this.length-=p,d}_getBuffer(u){const d=a.allocUnsafe(u),c=u;let p=this.head,g=0;do{const w=p.data;if(u>w.length)r(d,w,c-u),u-=w.length;else{u===w.length?(r(d,w,c-u),++g,p.next?this.head=p.next:this.head=this.tail=null):(r(d,new i(w.buffer,w.byteOffset,u),c-u),this.head=p,p.data=w.slice(u));break}++g}while((p=p.next)!==null);return this.length-=g,d}[Symbol.for("nodejs.util.inspect.custom")](u,d){return l(this,{...d,depth:0,customInspect:!1})}},eb}var tb,SE;function Pv(){if(SE)return tb;SE=1;const{MathFloor:e,NumberIsInteger:t}=Ri(),{validateInteger:r}=vm(),{ERR_INVALID_ARG_VALUE:i}=Ba().codes;let a=16*1024,l=16;function s(p,g,w){return p.highWaterMark!=null?p.highWaterMark:g?p[w]:null}function u(p){return p?l:a}function d(p,g){r(g,"value",0),p?l=g:a=g}function c(p,g,w,_){const T=s(g,_,w);if(T!=null){if(!t(T)||T<0){const x=_?`options.${w}`:"options.highWaterMark";throw new i(x,T)}return e(T)}return u(p.objectMode)}return tb={getHighWaterMark:c,getDefaultHighWaterMark:u,setDefaultHighWaterMark:d},tb}var nb={},Ty={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var EE;function ZO(){return EE||(EE=1,function(e,t){var r=el(),i=r.Buffer;function a(s,u){for(var d in s)u[d]=s[d]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=l);function l(s,u,d){return i(s,u,d)}l.prototype=Object.create(i.prototype),a(i,l),l.from=function(s,u,d){if(typeof s=="number")throw new TypeError("Argument must not be a number");return i(s,u,d)},l.alloc=function(s,u,d){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=i(s);return u!==void 0?typeof d=="string"?c.fill(u,d):c.fill(u):c.fill(0),c},l.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return i(s)},l.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}}(Ty,Ty.exports)),Ty.exports}var AE;function eI(){if(AE)return nb;AE=1;var e=ZO().Buffer,t=e.isEncoding||function(E){switch(E=""+E,E&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(E){if(!E)return"utf8";for(var I;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(I)return;E=(""+E).toLowerCase(),I=!0}}function i(E){var I=r(E);if(typeof I!="string"&&(e.isEncoding===t||!t(E)))throw new Error("Unknown encoding: "+E);return I||E}nb.StringDecoder=a;function a(E){this.encoding=i(E);var I;switch(this.encoding){case"utf16le":this.text=g,this.end=w,I=4;break;case"utf8":this.fillLast=d,I=4;break;case"base64":this.text=_,this.end=T,I=3;break;default:this.write=x,this.end=C;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(I)}a.prototype.write=function(E){if(E.length===0)return"";var I,O;if(this.lastNeed){if(I=this.fillLast(E),I===void 0)return"";O=this.lastNeed,this.lastNeed=0}else O=0;return O<E.length?I?I+this.text(E,O):this.text(E,O):I||""},a.prototype.end=p,a.prototype.text=c,a.prototype.fillLast=function(E){if(this.lastNeed<=E.length)return E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,E.length),this.lastNeed-=E.length};function l(E){return E<=127?0:E>>5===6?2:E>>4===14?3:E>>3===30?4:E>>6===2?-1:-2}function s(E,I,O){var H=I.length-1;if(H<O)return 0;var L=l(I[H]);return L>=0?(L>0&&(E.lastNeed=L-1),L):--H<O||L===-2?0:(L=l(I[H]),L>=0?(L>0&&(E.lastNeed=L-2),L):--H<O||L===-2?0:(L=l(I[H]),L>=0?(L>0&&(L===2?L=0:E.lastNeed=L-3),L):0))}function u(E,I,O){if((I[0]&192)!==128)return E.lastNeed=0,"";if(E.lastNeed>1&&I.length>1){if((I[1]&192)!==128)return E.lastNeed=1,"";if(E.lastNeed>2&&I.length>2&&(I[2]&192)!==128)return E.lastNeed=2,""}}function d(E){var I=this.lastTotal-this.lastNeed,O=u(this,E);if(O!==void 0)return O;if(this.lastNeed<=E.length)return E.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,I,0,E.length),this.lastNeed-=E.length}function c(E,I){var O=s(this,E,I);if(!this.lastNeed)return E.toString("utf8",I);this.lastTotal=O;var H=E.length-(O-this.lastNeed);return E.copy(this.lastChar,0,H),E.toString("utf8",I,H)}function p(E){var I=E&&E.length?this.write(E):"";return this.lastNeed?I+"":I}function g(E,I){if((E.length-I)%2===0){var O=E.toString("utf16le",I);if(O){var H=O.charCodeAt(O.length-1);if(H>=55296&&H<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1],O.slice(0,-1)}return O}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=E[E.length-1],E.toString("utf16le",I,E.length-1)}function w(E){var I=E&&E.length?this.write(E):"";if(this.lastNeed){var O=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,O)}return I}function _(E,I){var O=(E.length-I)%3;return O===0?E.toString("base64",I):(this.lastNeed=3-O,this.lastTotal=3,O===1?this.lastChar[0]=E[E.length-1]:(this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1]),E.toString("base64",I,E.length-O))}function T(E){var I=E&&E.length?this.write(E):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function x(E){return E.toString(this.encoding)}function C(E){return E&&E.length?this.write(E):""}return nb}var rb,xE;function Vx(){if(xE)return rb;xE=1;const e=Qf(),{PromisePrototypeThen:t,SymbolAsyncIterator:r,SymbolIterator:i}=Ri(),{Buffer:a}=el(),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:s}=Ba().codes;function u(d,c,p){let g;if(typeof c=="string"||c instanceof a)return new d({objectMode:!0,...p,read(){this.push(c),this.push(null)}});let w;if(c&&c[r])w=!0,g=c[r]();else if(c&&c[i])w=!1,g=c[i]();else throw new l("iterable",["Iterable"],c);const _=new d({objectMode:!0,highWaterMark:1,...p});let T=!1;_._read=function(){T||(T=!0,C())},_._destroy=function(E,I){t(x(E),()=>e.nextTick(I,E),O=>e.nextTick(I,O||E))};async function x(E){const I=E!=null,O=typeof g.throw=="function";if(I&&O){const{value:H,done:L}=await g.throw(E);if(await H,L)return}if(typeof g.return=="function"){const{value:H}=await g.return();await H}}async function C(){for(;;){try{const{value:E,done:I}=w?await g.next():g.next();if(I)_.push(null);else{const O=E&&typeof E.then=="function"?await E:E;if(O===null)throw T=!1,new s;if(_.push(O))continue;T=!1}}catch(E){_.destroy(E)}break}}return _}return rb=u,rb}var ib,RE;function Nv(){if(RE)return ib;RE=1;const e=Qf(),{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:i,NumberParseInt:a,ObjectDefineProperties:l,ObjectKeys:s,ObjectSetPrototypeOf:u,Promise:d,SafeSet:c,SymbolAsyncDispose:p,SymbolAsyncIterator:g,Symbol:w}=Ri();ib=bt,bt.ReadableState=Tt;const{EventEmitter:_}=Yf(),{Stream:T,prependListener:x}=Qw(),{Buffer:C}=el(),{addAbortSignal:E}=Iv(),I=mc();let O=oo().debuglog("stream",fe=>{O=fe});const H=XO(),L=Sh(),{getHighWaterMark:q,getDefaultHighWaterMark:W}=Pv(),{aggregateTwoErrors:$,codes:{ERR_INVALID_ARG_TYPE:Ae,ERR_METHOD_NOT_IMPLEMENTED:K,ERR_OUT_OF_RANGE:ae,ERR_STREAM_PUSH_AFTER_EOF:pe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:be},AbortError:Ze}=Ba(),{validateObject:it}=vm(),Re=w("kPaused"),{StringDecoder:lt}=eI(),ge=Vx();u(bt.prototype,T.prototype),u(bt,T);const rt=()=>{},{errorOrDestroy:Y}=L,xe=1,$e=2,Me=4,at=8,It=16,Pt=32,Le=64,ce=128,Ie=256,Ye=512,se=1024,k=2048,D=4096,z=8192,re=16384,Se=32768,Ne=65536,ct=1<<17,Pe=1<<18;function mt(fe){return{enumerable:!1,get(){return(this.state&fe)!==0},set(ve){ve?this.state|=fe:this.state&=~fe}}}l(Tt.prototype,{objectMode:mt(xe),ended:mt($e),endEmitted:mt(Me),reading:mt(at),constructed:mt(It),sync:mt(Pt),needReadable:mt(Le),emittedReadable:mt(ce),readableListening:mt(Ie),resumeScheduled:mt(Ye),errorEmitted:mt(se),emitClose:mt(k),autoDestroy:mt(D),destroyed:mt(z),closed:mt(re),closeEmitted:mt(Se),multiAwaitDrain:mt(Ne),readingMore:mt(ct),dataEmitted:mt(Pe)});function Tt(fe,ve,Ot){typeof Ot!="boolean"&&(Ot=ve instanceof iu()),this.state=k|D|It|Pt,fe&&fe.objectMode&&(this.state|=xe),Ot&&fe&&fe.readableObjectMode&&(this.state|=xe),this.highWaterMark=fe?q(this,fe,"readableHighWaterMark",Ot):W(!1),this.buffer=new H,this.length=0,this.pipes=[],this.flowing=null,this[Re]=null,fe&&fe.emitClose===!1&&(this.state&=~k),fe&&fe.autoDestroy===!1&&(this.state&=~D),this.errored=null,this.defaultEncoding=fe&&fe.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,fe&&fe.encoding&&(this.decoder=new lt(fe.encoding),this.encoding=fe.encoding)}function bt(fe){if(!(this instanceof bt))return new bt(fe);const ve=this instanceof iu();this._readableState=new Tt(fe,this,ve),fe&&(typeof fe.read=="function"&&(this._read=fe.read),typeof fe.destroy=="function"&&(this._destroy=fe.destroy),typeof fe.construct=="function"&&(this._construct=fe.construct),fe.signal&&!ve&&E(fe.signal,this)),T.call(this,fe),L.construct(this,()=>{this._readableState.needReadable&&Je(this,this._readableState)})}bt.prototype.destroy=L.destroy,bt.prototype._undestroy=L.undestroy,bt.prototype._destroy=function(fe,ve){ve(fe)},bt.prototype[_.captureRejectionSymbol]=function(fe){this.destroy(fe)},bt.prototype[p]=function(){let fe;return this.destroyed||(fe=this.readableEnded?null:new Ze,this.destroy(fe)),new d((ve,Ot)=>I(this,Ct=>Ct&&Ct!==fe?Ot(Ct):ve(null)))},bt.prototype.push=function(fe,ve){return Xe(this,fe,ve,!1)},bt.prototype.unshift=function(fe,ve){return Xe(this,fe,ve,!0)};function Xe(fe,ve,Ot,Ct){O("readableAddChunk",ve);const Ft=fe._readableState;let Zt;if((Ft.state&xe)===0&&(typeof ve=="string"?(Ot=Ot||Ft.defaultEncoding,Ft.encoding!==Ot&&(Ct&&Ft.encoding?ve=C.from(ve,Ot).toString(Ft.encoding):(ve=C.from(ve,Ot),Ot=""))):ve instanceof C?Ot="":T._isUint8Array(ve)?(ve=T._uint8ArrayToBuffer(ve),Ot=""):ve!=null&&(Zt=new Ae("chunk",["string","Buffer","Uint8Array"],ve))),Zt)Y(fe,Zt);else if(ve===null)Ft.state&=~at,j(fe,Ft);else if((Ft.state&xe)!==0||ve&&ve.length>0)if(Ct)if((Ft.state&Me)!==0)Y(fe,new be);else{if(Ft.destroyed||Ft.errored)return!1;qe(fe,Ft,ve,!0)}else if(Ft.ended)Y(fe,new pe);else{if(Ft.destroyed||Ft.errored)return!1;Ft.state&=~at,Ft.decoder&&!Ot?(ve=Ft.decoder.write(ve),Ft.objectMode||ve.length!==0?qe(fe,Ft,ve,!1):Je(fe,Ft)):qe(fe,Ft,ve,!1)}else Ct||(Ft.state&=~at,Je(fe,Ft));return!Ft.ended&&(Ft.length<Ft.highWaterMark||Ft.length===0)}function qe(fe,ve,Ot,Ct){ve.flowing&&ve.length===0&&!ve.sync&&fe.listenerCount("data")>0?((ve.state&Ne)!==0?ve.awaitDrainWriters.clear():ve.awaitDrainWriters=null,ve.dataEmitted=!0,fe.emit("data",Ot)):(ve.length+=ve.objectMode?1:Ot.length,Ct?ve.buffer.unshift(Ot):ve.buffer.push(Ot),(ve.state&Le)!==0&&G(fe)),Je(fe,ve)}bt.prototype.isPaused=function(){const fe=this._readableState;return fe[Re]===!0||fe.flowing===!1},bt.prototype.setEncoding=function(fe){const ve=new lt(fe);this._readableState.decoder=ve,this._readableState.encoding=this._readableState.decoder.encoding;const Ot=this._readableState.buffer;let Ct="";for(const Ft of Ot)Ct+=ve.write(Ft);return Ot.clear(),Ct!==""&&Ot.push(Ct),this._readableState.length=Ct.length,this};const Fe=1073741824;function et(fe){if(fe>Fe)throw new ae("size","<= 1GiB",fe);return fe--,fe|=fe>>>1,fe|=fe>>>2,fe|=fe>>>4,fe|=fe>>>8,fe|=fe>>>16,fe++,fe}function Q(fe,ve){return fe<=0||ve.length===0&&ve.ended?0:(ve.state&xe)!==0?1:i(fe)?ve.flowing&&ve.length?ve.buffer.first().length:ve.length:fe<=ve.length?fe:ve.ended?ve.length:0}bt.prototype.read=function(fe){O("read",fe),fe===void 0?fe=NaN:r(fe)||(fe=a(fe,10));const ve=this._readableState,Ot=fe;if(fe>ve.highWaterMark&&(ve.highWaterMark=et(fe)),fe!==0&&(ve.state&=~ce),fe===0&&ve.needReadable&&((ve.highWaterMark!==0?ve.length>=ve.highWaterMark:ve.length>0)||ve.ended))return O("read: emitReadable",ve.length,ve.ended),ve.length===0&&ve.ended?pt(this):G(this),null;if(fe=Q(fe,ve),fe===0&&ve.ended)return ve.length===0&&pt(this),null;let Ct=(ve.state&Le)!==0;if(O("need readable",Ct),(ve.length===0||ve.length-fe<ve.highWaterMark)&&(Ct=!0,O("length less than watermark",Ct)),ve.ended||ve.reading||ve.destroyed||ve.errored||!ve.constructed)Ct=!1,O("reading, ended or constructing",Ct);else if(Ct){O("do read"),ve.state|=at|Pt,ve.length===0&&(ve.state|=Le);try{this._read(ve.highWaterMark)}catch(Zt){Y(this,Zt)}ve.state&=~Pt,ve.reading||(fe=Q(Ot,ve))}let Ft;return fe>0?Ft=Be(fe,ve):Ft=null,Ft===null?(ve.needReadable=ve.length<=ve.highWaterMark,fe=0):(ve.length-=fe,ve.multiAwaitDrain?ve.awaitDrainWriters.clear():ve.awaitDrainWriters=null),ve.length===0&&(ve.ended||(ve.needReadable=!0),Ot!==fe&&ve.ended&&pt(this)),Ft!==null&&!ve.errorEmitted&&!ve.closeEmitted&&(ve.dataEmitted=!0,this.emit("data",Ft)),Ft};function j(fe,ve){if(O("onEofChunk"),!ve.ended){if(ve.decoder){const Ot=ve.decoder.end();Ot&&Ot.length&&(ve.buffer.push(Ot),ve.length+=ve.objectMode?1:Ot.length)}ve.ended=!0,ve.sync?G(fe):(ve.needReadable=!1,ve.emittedReadable=!0,V(fe))}}function G(fe){const ve=fe._readableState;O("emitReadable",ve.needReadable,ve.emittedReadable),ve.needReadable=!1,ve.emittedReadable||(O("emitReadable",ve.flowing),ve.emittedReadable=!0,e.nextTick(V,fe))}function V(fe){const ve=fe._readableState;O("emitReadable_",ve.destroyed,ve.length,ve.ended),!ve.destroyed&&!ve.errored&&(ve.length||ve.ended)&&(fe.emit("readable"),ve.emittedReadable=!1),ve.needReadable=!ve.flowing&&!ve.ended&&ve.length<=ve.highWaterMark,ze(fe)}function Je(fe,ve){!ve.readingMore&&ve.constructed&&(ve.readingMore=!0,e.nextTick(ot,fe,ve))}function ot(fe,ve){for(;!ve.reading&&!ve.ended&&(ve.length<ve.highWaterMark||ve.flowing&&ve.length===0);){const Ot=ve.length;if(O("maybeReadMore read 0"),fe.read(0),Ot===ve.length)break}ve.readingMore=!1}bt.prototype._read=function(fe){throw new K("_read()")},bt.prototype.pipe=function(fe,ve){const Ot=this,Ct=this._readableState;Ct.pipes.length===1&&(Ct.multiAwaitDrain||(Ct.multiAwaitDrain=!0,Ct.awaitDrainWriters=new c(Ct.awaitDrainWriters?[Ct.awaitDrainWriters]:[]))),Ct.pipes.push(fe),O("pipe count=%d opts=%j",Ct.pipes.length,ve);const Zt=(!ve||ve.end!==!1)&&fe!==e.stdout&&fe!==e.stderr?Ln:ln;Ct.endEmitted?e.nextTick(Zt):Ot.once("end",Zt),fe.on("unpipe",nn);function nn(Gt,nr){O("onunpipe"),Gt===Ot&&nr&&nr.hasUnpiped===!1&&(nr.hasUnpiped=!0,vn())}function Ln(){O("onend"),fe.end()}let $t,en=!1;function vn(){O("cleanup"),fe.removeListener("close",Qn),fe.removeListener("finish",mn),$t&&fe.removeListener("drain",$t),fe.removeListener("error",xn),fe.removeListener("unpipe",nn),Ot.removeListener("end",Ln),Ot.removeListener("end",ln),Ot.removeListener("data",Un),en=!0,$t&&Ct.awaitDrainWriters&&(!fe._writableState||fe._writableState.needDrain)&&$t()}function on(){en||(Ct.pipes.length===1&&Ct.pipes[0]===fe?(O("false write response, pause",0),Ct.awaitDrainWriters=fe,Ct.multiAwaitDrain=!1):Ct.pipes.length>1&&Ct.pipes.includes(fe)&&(O("false write response, pause",Ct.awaitDrainWriters.size),Ct.awaitDrainWriters.add(fe)),Ot.pause()),$t||($t=Qe(Ot,fe),fe.on("drain",$t))}Ot.on("data",Un);function Un(Gt){O("ondata");const nr=fe.write(Gt);O("dest.write",nr),nr===!1&&on()}function xn(Gt){if(O("onerror",Gt),ln(),fe.removeListener("error",xn),fe.listenerCount("error")===0){const nr=fe._writableState||fe._readableState;nr&&!nr.errorEmitted?Y(fe,Gt):fe.emit("error",Gt)}}x(fe,"error",xn);function Qn(){fe.removeListener("finish",mn),ln()}fe.once("close",Qn);function mn(){O("onfinish"),fe.removeListener("close",Qn),ln()}fe.once("finish",mn);function ln(){O("unpipe"),Ot.unpipe(fe)}return fe.emit("pipe",Ot),fe.writableNeedDrain===!0?on():Ct.flowing||(O("pipe resume"),Ot.resume()),fe};function Qe(fe,ve){return function(){const Ct=fe._readableState;Ct.awaitDrainWriters===ve?(O("pipeOnDrain",1),Ct.awaitDrainWriters=null):Ct.multiAwaitDrain&&(O("pipeOnDrain",Ct.awaitDrainWriters.size),Ct.awaitDrainWriters.delete(ve)),(!Ct.awaitDrainWriters||Ct.awaitDrainWriters.size===0)&&fe.listenerCount("data")&&fe.resume()}}bt.prototype.unpipe=function(fe){const ve=this._readableState,Ot={hasUnpiped:!1};if(ve.pipes.length===0)return this;if(!fe){const Ft=ve.pipes;ve.pipes=[],this.pause();for(let Zt=0;Zt<Ft.length;Zt++)Ft[Zt].emit("unpipe",this,{hasUnpiped:!1});return this}const Ct=t(ve.pipes,fe);return Ct===-1?this:(ve.pipes.splice(Ct,1),ve.pipes.length===0&&this.pause(),fe.emit("unpipe",this,Ot),this)},bt.prototype.on=function(fe,ve){const Ot=T.prototype.on.call(this,fe,ve),Ct=this._readableState;return fe==="data"?(Ct.readableListening=this.listenerCount("readable")>0,Ct.flowing!==!1&&this.resume()):fe==="readable"&&!Ct.endEmitted&&!Ct.readableListening&&(Ct.readableListening=Ct.needReadable=!0,Ct.flowing=!1,Ct.emittedReadable=!1,O("on readable",Ct.length,Ct.reading),Ct.length?G(this):Ct.reading||e.nextTick($n,this)),Ot},bt.prototype.addListener=bt.prototype.on,bt.prototype.removeListener=function(fe,ve){const Ot=T.prototype.removeListener.call(this,fe,ve);return fe==="readable"&&e.nextTick(Yt,this),Ot},bt.prototype.off=bt.prototype.removeListener,bt.prototype.removeAllListeners=function(fe){const ve=T.prototype.removeAllListeners.apply(this,arguments);return(fe==="readable"||fe===void 0)&&e.nextTick(Yt,this),ve};function Yt(fe){const ve=fe._readableState;ve.readableListening=fe.listenerCount("readable")>0,ve.resumeScheduled&&ve[Re]===!1?ve.flowing=!0:fe.listenerCount("data")>0?fe.resume():ve.readableListening||(ve.flowing=null)}function $n(fe){O("readable nexttick read 0"),fe.read(0)}bt.prototype.resume=function(){const fe=this._readableState;return fe.flowing||(O("resume"),fe.flowing=!fe.readableListening,qn(this,fe)),fe[Re]=!1,this};function qn(fe,ve){ve.resumeScheduled||(ve.resumeScheduled=!0,e.nextTick(sn,fe,ve))}function sn(fe,ve){O("resume",ve.reading),ve.reading||fe.read(0),ve.resumeScheduled=!1,fe.emit("resume"),ze(fe),ve.flowing&&!ve.reading&&fe.read(0)}bt.prototype.pause=function(){return O("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(O("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Re]=!0,this};function ze(fe){const ve=fe._readableState;for(O("flow",ve.flowing);ve.flowing&&fe.read()!==null;);}bt.prototype.wrap=function(fe){let ve=!1;fe.on("data",Ct=>{!this.push(Ct)&&fe.pause&&(ve=!0,fe.pause())}),fe.on("end",()=>{this.push(null)}),fe.on("error",Ct=>{Y(this,Ct)}),fe.on("close",()=>{this.destroy()}),fe.on("destroy",()=>{this.destroy()}),this._read=()=>{ve&&fe.resume&&(ve=!1,fe.resume())};const Ot=s(fe);for(let Ct=1;Ct<Ot.length;Ct++){const Ft=Ot[Ct];this[Ft]===void 0&&typeof fe[Ft]=="function"&&(this[Ft]=fe[Ft].bind(fe))}return this},bt.prototype[g]=function(){return wt(this)},bt.prototype.iterator=function(fe){return fe!==void 0&&it(fe,"options"),wt(this,fe)};function wt(fe,ve){typeof fe.read!="function"&&(fe=bt.wrap(fe,{objectMode:!0}));const Ot=dt(fe,ve);return Ot.stream=fe,Ot}async function*dt(fe,ve){let Ot=rt;function Ct(nn){this===fe?(Ot(),Ot=rt):Ot=nn}fe.on("readable",Ct);let Ft;const Zt=I(fe,{writable:!1},nn=>{Ft=nn?$(Ft,nn):null,Ot(),Ot=rt});try{for(;;){const nn=fe.destroyed?null:fe.read();if(nn!==null)yield nn;else{if(Ft)throw Ft;if(Ft===null)return;await new d(Ct)}}}catch(nn){throw Ft=$(Ft,nn),Ft}finally{(Ft||ve?.destroyOnReturn!==!1)&&(Ft===void 0||fe._readableState.autoDestroy)?L.destroyer(fe,null):(fe.off("readable",Ct),Zt())}}l(bt.prototype,{readable:{__proto__:null,get(){const fe=this._readableState;return!!fe&&fe.readable!==!1&&!fe.destroyed&&!fe.errorEmitted&&!fe.endEmitted},set(fe){this._readableState&&(this._readableState.readable=!!fe)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(fe){this._readableState&&(this._readableState.flowing=fe)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(fe){this._readableState&&(this._readableState.destroyed=fe)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),l(Tt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Re]!==!1},set(fe){this[Re]=!!fe}}}),bt._fromList=Be;function Be(fe,ve){if(ve.length===0)return null;let Ot;return ve.objectMode?Ot=ve.buffer.shift():!fe||fe>=ve.length?(ve.decoder?Ot=ve.buffer.join(""):ve.buffer.length===1?Ot=ve.buffer.first():Ot=ve.buffer.concat(ve.length),ve.buffer.clear()):Ot=ve.buffer.consume(fe,ve.decoder),Ot}function pt(fe){const ve=fe._readableState;O("endReadable",ve.endEmitted),ve.endEmitted||(ve.ended=!0,e.nextTick(Xt,ve,fe))}function Xt(fe,ve){if(O("endReadableNT",fe.endEmitted,fe.length),!fe.errored&&!fe.closeEmitted&&!fe.endEmitted&&fe.length===0){if(fe.endEmitted=!0,ve.emit("end"),ve.writable&&ve.allowHalfOpen===!1)e.nextTick(zt,ve);else if(fe.autoDestroy){const Ot=ve._writableState;(!Ot||Ot.autoDestroy&&(Ot.finished||Ot.writable===!1))&&ve.destroy()}}}function zt(fe){fe.writable&&!fe.writableEnded&&!fe.destroyed&&fe.end()}bt.from=function(fe,ve){return ge(bt,fe,ve)};let tn;function Ht(){return tn===void 0&&(tn={}),tn}return bt.fromWeb=function(fe,ve){return Ht().newStreamReadableFromReadableStream(fe,ve)},bt.toWeb=function(fe,ve){return Ht().newReadableStreamFromStreamReadable(fe,ve)},bt.wrap=function(fe,ve){var Ot,Ct;return new bt({objectMode:(Ot=(Ct=fe.readableObjectMode)!==null&&Ct!==void 0?Ct:fe.objectMode)!==null&&Ot!==void 0?Ot:!0,...ve,destroy(Ft,Zt){L.destroyer(fe,Ft),Zt(Ft)}}).wrap(fe)},ib}var ab,CE;function Xw(){if(CE)return ab;CE=1;const e=Qf(),{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:i,ObjectDefineProperty:a,ObjectDefineProperties:l,ObjectSetPrototypeOf:s,StringPrototypeToLowerCase:u,Symbol:d,SymbolHasInstance:c}=Ri();ab=it,it.WritableState=be;const{EventEmitter:p}=Yf(),g=Qw().Stream,{Buffer:w}=el(),_=Sh(),{addAbortSignal:T}=Iv(),{getHighWaterMark:x,getDefaultHighWaterMark:C}=Pv(),{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:I,ERR_MULTIPLE_CALLBACK:O,ERR_STREAM_CANNOT_PIPE:H,ERR_STREAM_DESTROYED:L,ERR_STREAM_ALREADY_FINISHED:q,ERR_STREAM_NULL_VALUES:W,ERR_STREAM_WRITE_AFTER_END:$,ERR_UNKNOWN_ENCODING:Ae}=Ba().codes,{errorOrDestroy:K}=_;s(it.prototype,g.prototype),s(it,g);function ae(){}const pe=d("kOnFinished");function be(D,z,re){typeof re!="boolean"&&(re=z instanceof iu()),this.objectMode=!!(D&&D.objectMode),re&&(this.objectMode=this.objectMode||!!(D&&D.writableObjectMode)),this.highWaterMark=D?x(this,D,"writableHighWaterMark",re):C(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const Se=!!(D&&D.decodeStrings===!1);this.decodeStrings=!Se,this.defaultEncoding=D&&D.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Y.bind(void 0,z),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Ze(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!D||D.emitClose!==!1,this.autoDestroy=!D||D.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[pe]=[]}function Ze(D){D.buffered=[],D.bufferedIndex=0,D.allBuffers=!0,D.allNoop=!0}be.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},a(be.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function it(D){const z=this instanceof iu();if(!z&&!i(it,this))return new it(D);this._writableState=new be(D,this,z),D&&(typeof D.write=="function"&&(this._write=D.write),typeof D.writev=="function"&&(this._writev=D.writev),typeof D.destroy=="function"&&(this._destroy=D.destroy),typeof D.final=="function"&&(this._final=D.final),typeof D.construct=="function"&&(this._construct=D.construct),D.signal&&T(D.signal,this)),g.call(this,D),_.construct(this,()=>{const re=this._writableState;re.writing||at(this,re),ce(this,re)})}a(it,c,{__proto__:null,value:function(D){return i(this,D)?!0:this!==it?!1:D&&D._writableState instanceof be}}),it.prototype.pipe=function(){K(this,new H)};function Re(D,z,re,Se){const Ne=D._writableState;if(typeof re=="function")Se=re,re=Ne.defaultEncoding;else{if(!re)re=Ne.defaultEncoding;else if(re!=="buffer"&&!w.isEncoding(re))throw new Ae(re);typeof Se!="function"&&(Se=ae)}if(z===null)throw new W;if(!Ne.objectMode)if(typeof z=="string")Ne.decodeStrings!==!1&&(z=w.from(z,re),re="buffer");else if(z instanceof w)re="buffer";else if(g._isUint8Array(z))z=g._uint8ArrayToBuffer(z),re="buffer";else throw new E("chunk",["string","Buffer","Uint8Array"],z);let ct;return Ne.ending?ct=new $:Ne.destroyed&&(ct=new L("write")),ct?(e.nextTick(Se,ct),K(D,ct,!0),ct):(Ne.pendingcb++,lt(D,Ne,z,re,Se))}it.prototype.write=function(D,z,re){return Re(this,D,z,re)===!0},it.prototype.cork=function(){this._writableState.corked++},it.prototype.uncork=function(){const D=this._writableState;D.corked&&(D.corked--,D.writing||at(this,D))},it.prototype.setDefaultEncoding=function(z){if(typeof z=="string"&&(z=u(z)),!w.isEncoding(z))throw new Ae(z);return this._writableState.defaultEncoding=z,this};function lt(D,z,re,Se,Ne){const ct=z.objectMode?1:re.length;z.length+=ct;const Pe=z.length<z.highWaterMark;return Pe||(z.needDrain=!0),z.writing||z.corked||z.errored||!z.constructed?(z.buffered.push({chunk:re,encoding:Se,callback:Ne}),z.allBuffers&&Se!=="buffer"&&(z.allBuffers=!1),z.allNoop&&Ne!==ae&&(z.allNoop=!1)):(z.writelen=ct,z.writecb=Ne,z.writing=!0,z.sync=!0,D._write(re,Se,z.onwrite),z.sync=!1),Pe&&!z.errored&&!z.destroyed}function ge(D,z,re,Se,Ne,ct,Pe){z.writelen=Se,z.writecb=Pe,z.writing=!0,z.sync=!0,z.destroyed?z.onwrite(new L("write")):re?D._writev(Ne,z.onwrite):D._write(Ne,ct,z.onwrite),z.sync=!1}function rt(D,z,re,Se){--z.pendingcb,Se(re),Me(z),K(D,re)}function Y(D,z){const re=D._writableState,Se=re.sync,Ne=re.writecb;if(typeof Ne!="function"){K(D,new O);return}re.writing=!1,re.writecb=null,re.length-=re.writelen,re.writelen=0,z?(z.stack,re.errored||(re.errored=z),D._readableState&&!D._readableState.errored&&(D._readableState.errored=z),Se?e.nextTick(rt,D,re,z,Ne):rt(D,re,z,Ne)):(re.buffered.length>re.bufferedIndex&&at(D,re),Se?re.afterWriteTickInfo!==null&&re.afterWriteTickInfo.cb===Ne?re.afterWriteTickInfo.count++:(re.afterWriteTickInfo={count:1,cb:Ne,stream:D,state:re},e.nextTick(xe,re.afterWriteTickInfo)):$e(D,re,1,Ne))}function xe({stream:D,state:z,count:re,cb:Se}){return z.afterWriteTickInfo=null,$e(D,z,re,Se)}function $e(D,z,re,Se){for(!z.ending&&!D.destroyed&&z.length===0&&z.needDrain&&(z.needDrain=!1,D.emit("drain"));re-- >0;)z.pendingcb--,Se();z.destroyed&&Me(z),ce(D,z)}function Me(D){if(D.writing)return;for(let Ne=D.bufferedIndex;Ne<D.buffered.length;++Ne){var z;const{chunk:ct,callback:Pe}=D.buffered[Ne],mt=D.objectMode?1:ct.length;D.length-=mt,Pe((z=D.errored)!==null&&z!==void 0?z:new L("write"))}const re=D[pe].splice(0);for(let Ne=0;Ne<re.length;Ne++){var Se;re[Ne]((Se=D.errored)!==null&&Se!==void 0?Se:new L("end"))}Ze(D)}function at(D,z){if(z.corked||z.bufferProcessing||z.destroyed||!z.constructed)return;const{buffered:re,bufferedIndex:Se,objectMode:Ne}=z,ct=re.length-Se;if(!ct)return;let Pe=Se;if(z.bufferProcessing=!0,ct>1&&D._writev){z.pendingcb-=ct-1;const mt=z.allNoop?ae:bt=>{for(let Xe=Pe;Xe<re.length;++Xe)re[Xe].callback(bt)},Tt=z.allNoop&&Pe===0?re:t(re,Pe);Tt.allBuffers=z.allBuffers,ge(D,z,!0,z.length,Tt,"",mt),Ze(z)}else{do{const{chunk:mt,encoding:Tt,callback:bt}=re[Pe];re[Pe++]=null;const Xe=Ne?1:mt.length;ge(D,z,!1,Xe,mt,Tt,bt)}while(Pe<re.length&&!z.writing);Pe===re.length?Ze(z):Pe>256?(re.splice(0,Pe),z.bufferedIndex=0):z.bufferedIndex=Pe}z.bufferProcessing=!1}it.prototype._write=function(D,z,re){if(this._writev)this._writev([{chunk:D,encoding:z}],re);else throw new I("_write()")},it.prototype._writev=null,it.prototype.end=function(D,z,re){const Se=this._writableState;typeof D=="function"?(re=D,D=null,z=null):typeof z=="function"&&(re=z,z=null);let Ne;if(D!=null){const ct=Re(this,D,z);ct instanceof r&&(Ne=ct)}return Se.corked&&(Se.corked=1,this.uncork()),Ne||(!Se.errored&&!Se.ending?(Se.ending=!0,ce(this,Se,!0),Se.ended=!0):Se.finished?Ne=new q("end"):Se.destroyed&&(Ne=new L("end"))),typeof re=="function"&&(Ne||Se.finished?e.nextTick(re,Ne):Se[pe].push(re)),this};function It(D){return D.ending&&!D.destroyed&&D.constructed&&D.length===0&&!D.errored&&D.buffered.length===0&&!D.finished&&!D.writing&&!D.errorEmitted&&!D.closeEmitted}function Pt(D,z){let re=!1;function Se(Ne){if(re){K(D,Ne??O());return}if(re=!0,z.pendingcb--,Ne){const ct=z[pe].splice(0);for(let Pe=0;Pe<ct.length;Pe++)ct[Pe](Ne);K(D,Ne,z.sync)}else It(z)&&(z.prefinished=!0,D.emit("prefinish"),z.pendingcb++,e.nextTick(Ie,D,z))}z.sync=!0,z.pendingcb++;try{D._final(Se)}catch(Ne){Se(Ne)}z.sync=!1}function Le(D,z){!z.prefinished&&!z.finalCalled&&(typeof D._final=="function"&&!z.destroyed?(z.finalCalled=!0,Pt(D,z)):(z.prefinished=!0,D.emit("prefinish")))}function ce(D,z,re){It(z)&&(Le(D,z),z.pendingcb===0&&(re?(z.pendingcb++,e.nextTick((Se,Ne)=>{It(Ne)?Ie(Se,Ne):Ne.pendingcb--},D,z)):It(z)&&(z.pendingcb++,Ie(D,z))))}function Ie(D,z){z.pendingcb--,z.finished=!0;const re=z[pe].splice(0);for(let Se=0;Se<re.length;Se++)re[Se]();if(D.emit("finish"),z.autoDestroy){const Se=D._readableState;(!Se||Se.autoDestroy&&(Se.endEmitted||Se.readable===!1))&&D.destroy()}}l(it.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(D){this._writableState&&(this._writableState.destroyed=D)}},writable:{__proto__:null,get(){const D=this._writableState;return!!D&&D.writable!==!1&&!D.destroyed&&!D.errored&&!D.ending&&!D.ended},set(D){this._writableState&&(this._writableState.writable=!!D)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const D=this._writableState;return D?!D.destroyed&&!D.ending&&D.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Ye=_.destroy;it.prototype.destroy=function(D,z){const re=this._writableState;return!re.destroyed&&(re.bufferedIndex<re.buffered.length||re[pe].length)&&e.nextTick(Me,re),Ye.call(this,D,z),this},it.prototype._undestroy=_.undestroy,it.prototype._destroy=function(D,z){z(D)},it.prototype[p.captureRejectionSymbol]=function(D){this.destroy(D)};let se;function k(){return se===void 0&&(se={}),se}return it.fromWeb=function(D,z){return k().newStreamWritableFromWritableStream(D,z)},it.toWeb=function(D){return k().newWritableStreamFromStreamWritable(D)},ab}var ob,TE;function tI(){if(TE)return ob;TE=1;const e=Qf(),t=el(),{isReadable:r,isWritable:i,isIterable:a,isNodeStream:l,isReadableNodeStream:s,isWritableNodeStream:u,isDuplexNodeStream:d,isReadableStream:c,isWritableStream:p}=uu(),g=mc(),{AbortError:w,codes:{ERR_INVALID_ARG_TYPE:_,ERR_INVALID_RETURN_VALUE:T}}=Ba(),{destroyer:x}=Sh(),C=iu(),E=Nv(),I=Xw(),{createDeferredPromise:O}=oo(),H=Vx(),L=globalThis.Blob||t.Blob,q=typeof L<"u"?function(be){return be instanceof L}:function(be){return!1},W=globalThis.AbortController||im().AbortController,{FunctionPrototypeCall:$}=Ri();class Ae extends C{constructor(be){super(be),be?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),be?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}ob=function pe(be,Ze){if(d(be))return be;if(s(be))return ae({readable:be});if(u(be))return ae({writable:be});if(l(be))return ae({writable:!1,readable:!1});if(c(be))return ae({readable:E.fromWeb(be)});if(p(be))return ae({writable:I.fromWeb(be)});if(typeof be=="function"){const{value:Re,write:lt,final:ge,destroy:rt}=K(be);if(a(Re))return H(Ae,Re,{objectMode:!0,write:lt,final:ge,destroy:rt});const Y=Re?.then;if(typeof Y=="function"){let xe;const $e=$(Y,Re,Me=>{if(Me!=null)throw new T("nully","body",Me)},Me=>{x(xe,Me)});return xe=new Ae({objectMode:!0,readable:!1,write:lt,final(Me){ge(async()=>{try{await $e,e.nextTick(Me,null)}catch(at){e.nextTick(Me,at)}})},destroy:rt})}throw new T("Iterable, AsyncIterable or AsyncFunction",Ze,Re)}if(q(be))return pe(be.arrayBuffer());if(a(be))return H(Ae,be,{objectMode:!0,writable:!1});if(c(be?.readable)&&p(be?.writable))return Ae.fromWeb(be);if(typeof be?.writable=="object"||typeof be?.readable=="object"){const Re=be!=null&&be.readable?s(be?.readable)?be?.readable:pe(be.readable):void 0,lt=be!=null&&be.writable?u(be?.writable)?be?.writable:pe(be.writable):void 0;return ae({readable:Re,writable:lt})}const it=be?.then;if(typeof it=="function"){let Re;return $(it,be,lt=>{lt!=null&&Re.push(lt),Re.push(null)},lt=>{x(Re,lt)}),Re=new Ae({objectMode:!0,writable:!1,read(){}})}throw new _(Ze,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],be)};function K(pe){let{promise:be,resolve:Ze}=O();const it=new W,Re=it.signal;return{value:pe(async function*(){for(;;){const ge=be;be=null;const{chunk:rt,done:Y,cb:xe}=await ge;if(e.nextTick(xe),Y)return;if(Re.aborted)throw new w(void 0,{cause:Re.reason});({promise:be,resolve:Ze}=O()),yield rt}}(),{signal:Re}),write(ge,rt,Y){const xe=Ze;Ze=null,xe({chunk:ge,done:!1,cb:Y})},final(ge){const rt=Ze;Ze=null,rt({done:!0,cb:ge})},destroy(ge,rt){it.abort(),rt(ge)}}}function ae(pe){const be=pe.readable&&typeof pe.readable.read!="function"?E.wrap(pe.readable):pe.readable,Ze=pe.writable;let it=!!r(be),Re=!!i(Ze),lt,ge,rt,Y,xe;function $e(Me){const at=Y;Y=null,at?at(Me):Me&&xe.destroy(Me)}return xe=new Ae({readableObjectMode:!!(be!=null&&be.readableObjectMode),writableObjectMode:!!(Ze!=null&&Ze.writableObjectMode),readable:it,writable:Re}),Re&&(g(Ze,Me=>{Re=!1,Me&&x(be,Me),$e(Me)}),xe._write=function(Me,at,It){Ze.write(Me,at)?It():lt=It},xe._final=function(Me){Ze.end(),ge=Me},Ze.on("drain",function(){if(lt){const Me=lt;lt=null,Me()}}),Ze.on("finish",function(){if(ge){const Me=ge;ge=null,Me()}})),it&&(g(be,Me=>{it=!1,Me&&x(be,Me),$e(Me)}),be.on("readable",function(){if(rt){const Me=rt;rt=null,Me()}}),be.on("end",function(){xe.push(null)}),xe._read=function(){for(;;){const Me=be.read();if(Me===null){rt=xe._read;return}if(!xe.push(Me))return}}),xe._destroy=function(Me,at){!Me&&Y!==null&&(Me=new w),rt=null,lt=null,ge=null,Y===null?at(Me):(Y=at,x(Ze,Me),x(be,Me))},xe}return ob}var sb,OE;function iu(){if(OE)return sb;OE=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:i}=Ri();sb=s;const a=Nv(),l=Xw();i(s.prototype,a.prototype),i(s,a);{const p=r(l.prototype);for(let g=0;g<p.length;g++){const w=p[g];s.prototype[w]||(s.prototype[w]=l.prototype[w])}}function s(p){if(!(this instanceof s))return new s(p);a.call(this,p),l.call(this,p),p?(this.allowHalfOpen=p.allowHalfOpen!==!1,p.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),p.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(s.prototype,{writable:{__proto__:null,...t(l.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(l.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(l.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(l.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(l.prototype,"writableLength")},writableFinished:{__proto__:null,...t(l.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(l.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(l.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(l.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(p){this._readableState&&this._writableState&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}});let u;function d(){return u===void 0&&(u={}),u}s.fromWeb=function(p,g){return d().newStreamDuplexFromReadableWritablePair(p,g)},s.toWeb=function(p){return d().newReadableWritablePairFromDuplex(p)};let c;return s.from=function(p){return c||(c=tI()),c(p,"body")},sb}var lb,IE;function $x(){if(IE)return lb;IE=1;const{ObjectSetPrototypeOf:e,Symbol:t}=Ri();lb=s;const{ERR_METHOD_NOT_IMPLEMENTED:r}=Ba().codes,i=iu(),{getHighWaterMark:a}=Pv();e(s.prototype,i.prototype),e(s,i);const l=t("kCallback");function s(c){if(!(this instanceof s))return new s(c);const p=c?a(this,c,"readableHighWaterMark",!0):null;p===0&&(c={...c,highWaterMark:null,readableHighWaterMark:p,writableHighWaterMark:c.writableHighWaterMark||0}),i.call(this,c),this._readableState.sync=!1,this[l]=null,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",d)}function u(c){typeof this._flush=="function"&&!this.destroyed?this._flush((p,g)=>{if(p){c?c(p):this.destroy(p);return}g!=null&&this.push(g),this.push(null),c&&c()}):(this.push(null),c&&c())}function d(){this._final!==u&&u.call(this)}return s.prototype._final=u,s.prototype._transform=function(c,p,g){throw new r("_transform()")},s.prototype._write=function(c,p,g){const w=this._readableState,_=this._writableState,T=w.length;this._transform(c,p,(x,C)=>{if(x){g(x);return}C!=null&&this.push(C),_.ended||T===w.length||w.length<w.highWaterMark?g():this[l]=g})},s.prototype._read=function(){if(this[l]){const c=this[l];this[l]=null,c()}},lb}var ub,PE;function Kx(){if(PE)return ub;PE=1;const{ObjectSetPrototypeOf:e}=Ri();ub=r;const t=$x();e(r.prototype,t.prototype),e(r,t);function r(i){if(!(this instanceof r))return new r(i);t.call(this,i)}return r.prototype._transform=function(i,a,l){l(null,i)},ub}var cb,NE;function Zw(){if(NE)return cb;NE=1;const e=Qf(),{ArrayIsArray:t,Promise:r,SymbolAsyncIterator:i,SymbolDispose:a}=Ri(),l=mc(),{once:s}=oo(),u=Sh(),d=iu(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:g,ERR_MISSING_ARGS:w,ERR_STREAM_DESTROYED:_,ERR_STREAM_PREMATURE_CLOSE:T},AbortError:x}=Ba(),{validateFunction:C,validateAbortSignal:E}=vm(),{isIterable:I,isReadable:O,isReadableNodeStream:H,isNodeStream:L,isTransformStream:q,isWebStream:W,isReadableStream:$,isReadableFinished:Ae}=uu(),K=globalThis.AbortController||im().AbortController;let ae,pe,be;function Ze(Me,at,It){let Pt=!1;Me.on("close",()=>{Pt=!0});const Le=l(Me,{readable:at,writable:It},ce=>{Pt=!ce});return{destroy:ce=>{Pt||(Pt=!0,u.destroyer(Me,ce||new _("pipe")))},cleanup:Le}}function it(Me){return C(Me[Me.length-1],"streams[stream.length - 1]"),Me.pop()}function Re(Me){if(I(Me))return Me;if(H(Me))return lt(Me);throw new p("val",["Readable","Iterable","AsyncIterable"],Me)}async function*lt(Me){pe||(pe=Nv()),yield*pe.prototype[i].call(Me)}async function ge(Me,at,It,{end:Pt}){let Le,ce=null;const Ie=k=>{if(k&&(Le=k),ce){const D=ce;ce=null,D()}},Ye=()=>new r((k,D)=>{Le?D(Le):ce=()=>{Le?D(Le):k()}});at.on("drain",Ie);const se=l(at,{readable:!1},Ie);try{at.writableNeedDrain&&await Ye();for await(const k of Me)at.write(k)||await Ye();Pt&&(at.end(),await Ye()),It()}catch(k){It(Le!==k?c(Le,k):k)}finally{se(),at.off("drain",Ie)}}async function rt(Me,at,It,{end:Pt}){q(at)&&(at=at.writable);const Le=at.getWriter();try{for await(const ce of Me)await Le.ready,Le.write(ce).catch(()=>{});await Le.ready,Pt&&await Le.close(),It()}catch(ce){try{await Le.abort(ce),It(ce)}catch(Ie){It(Ie)}}}function Y(...Me){return xe(Me,s(it(Me)))}function xe(Me,at,It){if(Me.length===1&&t(Me[0])&&(Me=Me[0]),Me.length<2)throw new w("streams");const Pt=new K,Le=Pt.signal,ce=It?.signal,Ie=[];E(ce,"options.signal");function Ye(){Ne(new x)}be=be||oo().addAbortListener;let se;ce&&(se=be(ce,Ye));let k,D;const z=[];let re=0;function Se(bt){Ne(bt,--re===0)}function Ne(bt,Xe){var qe;if(bt&&(!k||k.code==="ERR_STREAM_PREMATURE_CLOSE")&&(k=bt),!(!k&&!Xe)){for(;z.length;)z.shift()(k);(qe=se)===null||qe===void 0||qe[a](),Pt.abort(),Xe&&(k||Ie.forEach(Fe=>Fe()),e.nextTick(at,k,D))}}let ct;for(let bt=0;bt<Me.length;bt++){const Xe=Me[bt],qe=bt<Me.length-1,Fe=bt>0,et=qe||It?.end!==!1,Q=bt===Me.length-1;if(L(Xe)){let j=function(G){G&&G.name!=="AbortError"&&G.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Se(G)};var Tt=j;if(et){const{destroy:G,cleanup:V}=Ze(Xe,qe,Fe);z.push(G),O(Xe)&&Q&&Ie.push(V)}Xe.on("error",j),O(Xe)&&Q&&Ie.push(()=>{Xe.removeListener("error",j)})}if(bt===0)if(typeof Xe=="function"){if(ct=Xe({signal:Le}),!I(ct))throw new g("Iterable, AsyncIterable or Stream","source",ct)}else I(Xe)||H(Xe)||q(Xe)?ct=Xe:ct=d.from(Xe);else if(typeof Xe=="function"){if(q(ct)){var Pe;ct=Re((Pe=ct)===null||Pe===void 0?void 0:Pe.readable)}else ct=Re(ct);if(ct=Xe(ct,{signal:Le}),qe){if(!I(ct,!0))throw new g("AsyncIterable",`transform[${bt-1}]`,ct)}else{var mt;ae||(ae=Kx());const j=new ae({objectMode:!0}),G=(mt=ct)===null||mt===void 0?void 0:mt.then;if(typeof G=="function")re++,G.call(ct,ot=>{D=ot,ot!=null&&j.write(ot),et&&j.end(),e.nextTick(Se)},ot=>{j.destroy(ot),e.nextTick(Se,ot)});else if(I(ct,!0))re++,ge(ct,j,Se,{end:et});else if($(ct)||q(ct)){const ot=ct.readable||ct;re++,ge(ot,j,Se,{end:et})}else throw new g("AsyncIterable or Promise","destination",ct);ct=j;const{destroy:V,cleanup:Je}=Ze(ct,!1,!0);z.push(V),Q&&Ie.push(Je)}}else if(L(Xe)){if(H(ct)){re+=2;const j=$e(ct,Xe,Se,{end:et});O(Xe)&&Q&&Ie.push(j)}else if(q(ct)||$(ct)){const j=ct.readable||ct;re++,ge(j,Xe,Se,{end:et})}else if(I(ct))re++,ge(ct,Xe,Se,{end:et});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ct);ct=Xe}else if(W(Xe)){if(H(ct))re++,rt(Re(ct),Xe,Se,{end:et});else if($(ct)||I(ct))re++,rt(ct,Xe,Se,{end:et});else if(q(ct))re++,rt(ct.readable,Xe,Se,{end:et});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ct);ct=Xe}else ct=d.from(Xe)}return(Le!=null&&Le.aborted||ce!=null&&ce.aborted)&&e.nextTick(Ye),ct}function $e(Me,at,It,{end:Pt}){let Le=!1;if(at.on("close",()=>{Le||It(new T)}),Me.pipe(at,{end:!1}),Pt){let Ie=function(){Le=!0,at.end()};var ce=Ie;Ae(Me)?e.nextTick(Ie):Me.once("end",Ie)}else It();return l(Me,{readable:!0,writable:!1},Ie=>{const Ye=Me._readableState;Ie&&Ie.code==="ERR_STREAM_PREMATURE_CLOSE"&&Ye&&Ye.ended&&!Ye.errored&&!Ye.errorEmitted?Me.once("end",It).once("error",It):It(Ie)}),l(at,{readable:!1,writable:!0},It)}return cb={pipelineImpl:xe,pipeline:Y},cb}var fb,FE;function Gx(){if(FE)return fb;FE=1;const{pipeline:e}=Zw(),t=iu(),{destroyer:r}=Sh(),{isNodeStream:i,isReadable:a,isWritable:l,isWebStream:s,isTransformStream:u,isWritableStream:d,isReadableStream:c}=uu(),{AbortError:p,codes:{ERR_INVALID_ARG_VALUE:g,ERR_MISSING_ARGS:w}}=Ba(),_=mc();return fb=function(...x){if(x.length===0)throw new w("streams");if(x.length===1)return t.from(x[0]);const C=[...x];if(typeof x[0]=="function"&&(x[0]=t.from(x[0])),typeof x[x.length-1]=="function"){const ae=x.length-1;x[ae]=t.from(x[ae])}for(let ae=0;ae<x.length;++ae)if(!(!i(x[ae])&&!s(x[ae]))){if(ae<x.length-1&&!(a(x[ae])||c(x[ae])||u(x[ae])))throw new g(`streams[${ae}]`,C[ae],"must be readable");if(ae>0&&!(l(x[ae])||d(x[ae])||u(x[ae])))throw new g(`streams[${ae}]`,C[ae],"must be writable")}let E,I,O,H,L;function q(ae){const pe=H;H=null,pe?pe(ae):ae?L.destroy(ae):!K&&!Ae&&L.destroy()}const W=x[0],$=e(x,q),Ae=!!(l(W)||d(W)||u(W)),K=!!(a($)||c($)||u($));if(L=new t({writableObjectMode:!!(W!=null&&W.writableObjectMode),readableObjectMode:!!($!=null&&$.readableObjectMode),writable:Ae,readable:K}),Ae){if(i(W))L._write=function(pe,be,Ze){W.write(pe,be)?Ze():E=Ze},L._final=function(pe){W.end(),I=pe},W.on("drain",function(){if(E){const pe=E;E=null,pe()}});else if(s(W)){const be=(u(W)?W.writable:W).getWriter();L._write=async function(Ze,it,Re){try{await be.ready,be.write(Ze).catch(()=>{}),Re()}catch(lt){Re(lt)}},L._final=async function(Ze){try{await be.ready,be.close().catch(()=>{}),I=Ze}catch(it){Ze(it)}}}const ae=u($)?$.readable:$;_(ae,()=>{if(I){const pe=I;I=null,pe()}})}if(K){if(i($))$.on("readable",function(){if(O){const ae=O;O=null,ae()}}),$.on("end",function(){L.push(null)}),L._read=function(){for(;;){const ae=$.read();if(ae===null){O=L._read;return}if(!L.push(ae))return}};else if(s($)){const pe=(u($)?$.readable:$).getReader();L._read=async function(){for(;;)try{const{value:be,done:Ze}=await pe.read();if(!L.push(be))return;if(Ze){L.push(null);return}}catch{return}}}}return L._destroy=function(ae,pe){!ae&&H!==null&&(ae=new p),O=null,E=null,I=null,H===null?pe(ae):(H=pe,i($)&&r($,ae))},L},fb}var DE;function nI(){if(DE)return Ry;DE=1;const e=globalThis.AbortController||im().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:i,ERR_OUT_OF_RANGE:a},AbortError:l}=Ba(),{validateAbortSignal:s,validateInteger:u,validateObject:d}=vm(),c=Ri().Symbol("kWeak"),p=Ri().Symbol("kResistStopPropagation"),{finished:g}=mc(),w=Gx(),{addAbortSignalNoValidate:_}=Iv(),{isWritable:T,isNodeStream:x}=uu(),{deprecate:C}=oo(),{ArrayPrototypePush:E,Boolean:I,MathFloor:O,Number:H,NumberIsNaN:L,Promise:q,PromiseReject:W,PromiseResolve:$,PromisePrototypeThen:Ae,Symbol:K}=Ri(),ae=K("kEmpty"),pe=K("kEof");function be(ce,Ie){if(Ie!=null&&d(Ie,"options"),Ie?.signal!=null&&s(Ie.signal,"options.signal"),x(ce)&&!T(ce))throw new t("stream",ce,"must be writable");const Ye=w(this,ce);return Ie!=null&&Ie.signal&&_(Ie.signal,Ye),Ye}function Ze(ce,Ie){if(typeof ce!="function")throw new r("fn",["Function","AsyncFunction"],ce);Ie!=null&&d(Ie,"options"),Ie?.signal!=null&&s(Ie.signal,"options.signal");let Ye=1;Ie?.concurrency!=null&&(Ye=O(Ie.concurrency));let se=Ye-1;return Ie?.highWaterMark!=null&&(se=O(Ie.highWaterMark)),u(Ye,"options.concurrency",1),u(se,"options.highWaterMark",0),se+=Ye,(async function*(){const D=oo().AbortSignalAny([Ie?.signal].filter(I)),z=this,re=[],Se={signal:D};let Ne,ct,Pe=!1,mt=0;function Tt(){Pe=!0,bt()}function bt(){mt-=1,Xe()}function Xe(){ct&&!Pe&&mt<Ye&&re.length<se&&(ct(),ct=null)}async function qe(){try{for await(let Fe of z){if(Pe)return;if(D.aborted)throw new l;try{if(Fe=ce(Fe,Se),Fe===ae)continue;Fe=$(Fe)}catch(et){Fe=W(et)}mt+=1,Ae(Fe,bt,Tt),re.push(Fe),Ne&&(Ne(),Ne=null),!Pe&&(re.length>=se||mt>=Ye)&&await new q(et=>{ct=et})}re.push(pe)}catch(Fe){const et=W(Fe);Ae(et,bt,Tt),re.push(et)}finally{Pe=!0,Ne&&(Ne(),Ne=null)}}qe();try{for(;;){for(;re.length>0;){const Fe=await re[0];if(Fe===pe)return;if(D.aborted)throw new l;Fe!==ae&&(yield Fe),re.shift(),Xe()}await new q(Fe=>{Ne=Fe})}}finally{Pe=!0,ct&&(ct(),ct=null)}}).call(this)}function it(ce=void 0){return ce!=null&&d(ce,"options"),ce?.signal!=null&&s(ce.signal,"options.signal"),(async function*(){let Ye=0;for await(const k of this){var se;if(ce!=null&&(se=ce.signal)!==null&&se!==void 0&&se.aborted)throw new l({cause:ce.signal.reason});yield[Ye++,k]}}).call(this)}async function Re(ce,Ie=void 0){for await(const Ye of Y.call(this,ce,Ie))return!0;return!1}async function lt(ce,Ie=void 0){if(typeof ce!="function")throw new r("fn",["Function","AsyncFunction"],ce);return!await Re.call(this,async(...Ye)=>!await ce(...Ye),Ie)}async function ge(ce,Ie){for await(const Ye of Y.call(this,ce,Ie))return Ye}async function rt(ce,Ie){if(typeof ce!="function")throw new r("fn",["Function","AsyncFunction"],ce);async function Ye(se,k){return await ce(se,k),ae}for await(const se of Ze.call(this,Ye,Ie));}function Y(ce,Ie){if(typeof ce!="function")throw new r("fn",["Function","AsyncFunction"],ce);async function Ye(se,k){return await ce(se,k)?se:ae}return Ze.call(this,Ye,Ie)}class xe extends i{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function $e(ce,Ie,Ye){var se;if(typeof ce!="function")throw new r("reducer",["Function","AsyncFunction"],ce);Ye!=null&&d(Ye,"options"),Ye?.signal!=null&&s(Ye.signal,"options.signal");let k=arguments.length>1;if(Ye!=null&&(se=Ye.signal)!==null&&se!==void 0&&se.aborted){const Ne=new l(void 0,{cause:Ye.signal.reason});throw this.once("error",()=>{}),await g(this.destroy(Ne)),Ne}const D=new e,z=D.signal;if(Ye!=null&&Ye.signal){const Ne={once:!0,[c]:this,[p]:!0};Ye.signal.addEventListener("abort",()=>D.abort(),Ne)}let re=!1;try{for await(const Ne of this){var Se;if(re=!0,Ye!=null&&(Se=Ye.signal)!==null&&Se!==void 0&&Se.aborted)throw new l;k?Ie=await ce(Ie,Ne,{signal:z}):(Ie=Ne,k=!0)}if(!re&&!k)throw new xe}finally{D.abort()}return Ie}async function Me(ce){ce!=null&&d(ce,"options"),ce?.signal!=null&&s(ce.signal,"options.signal");const Ie=[];for await(const se of this){var Ye;if(ce!=null&&(Ye=ce.signal)!==null&&Ye!==void 0&&Ye.aborted)throw new l(void 0,{cause:ce.signal.reason});E(Ie,se)}return Ie}function at(ce,Ie){const Ye=Ze.call(this,ce,Ie);return(async function*(){for await(const k of Ye)yield*k}).call(this)}function It(ce){if(ce=H(ce),L(ce))return 0;if(ce<0)throw new a("number",">= 0",ce);return ce}function Pt(ce,Ie=void 0){return Ie!=null&&d(Ie,"options"),Ie?.signal!=null&&s(Ie.signal,"options.signal"),ce=It(ce),(async function*(){var se;if(Ie!=null&&(se=Ie.signal)!==null&&se!==void 0&&se.aborted)throw new l;for await(const D of this){var k;if(Ie!=null&&(k=Ie.signal)!==null&&k!==void 0&&k.aborted)throw new l;ce--<=0&&(yield D)}}).call(this)}function Le(ce,Ie=void 0){return Ie!=null&&d(Ie,"options"),Ie?.signal!=null&&s(Ie.signal,"options.signal"),ce=It(ce),(async function*(){var se;if(Ie!=null&&(se=Ie.signal)!==null&&se!==void 0&&se.aborted)throw new l;for await(const D of this){var k;if(Ie!=null&&(k=Ie.signal)!==null&&k!==void 0&&k.aborted)throw new l;if(ce-- >0&&(yield D),ce<=0)return}}).call(this)}return Ry.streamReturningOperators={asIndexedPairs:C(it,"readable.asIndexedPairs will be removed in a future version."),drop:Pt,filter:Y,flatMap:at,map:Ze,take:Le,compose:be},Ry.promiseReturningOperators={every:lt,forEach:rt,reduce:$e,toArray:Me,some:Re,find:ge},Ry}var db,ME;function qx(){if(ME)return db;ME=1;const{ArrayPrototypePop:e,Promise:t}=Ri(),{isIterable:r,isNodeStream:i,isWebStream:a}=uu(),{pipelineImpl:l}=Zw(),{finished:s}=mc();zx();function u(...d){return new t((c,p)=>{let g,w;const _=d[d.length-1];if(_&&typeof _=="object"&&!i(_)&&!r(_)&&!a(_)){const T=e(d);g=T.signal,w=T.end}l(d,(T,x)=>{T?p(T):c(x)},{signal:g,end:w})})}return db={finished:s,pipeline:u},db}var LE;function zx(){if(LE)return $0.exports;LE=1;const{Buffer:e}=el(),{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:i}=Ri(),{promisify:{custom:a}}=oo(),{streamReturningOperators:l,promiseReturningOperators:s}=nI(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=Ba(),d=Gx(),{setDefaultHighWaterMark:c,getDefaultHighWaterMark:p}=Pv(),{pipeline:g}=Zw(),{destroyer:w}=Sh(),_=mc(),T=qx(),x=uu(),C=$0.exports=Qw().Stream;C.isDestroyed=x.isDestroyed,C.isDisturbed=x.isDisturbed,C.isErrored=x.isErrored,C.isReadable=x.isReadable,C.isWritable=x.isWritable,C.Readable=Nv();for(const O of r(l)){let L=function(...q){if(new.target)throw u();return C.Readable.from(i(H,this,q))};var I=L;const H=l[O];t(L,"name",{__proto__:null,value:H.name}),t(L,"length",{__proto__:null,value:H.length}),t(C.Readable.prototype,O,{__proto__:null,value:L,enumerable:!1,configurable:!0,writable:!0})}for(const O of r(s)){let L=function(...W){if(new.target)throw u();return i(H,this,W)};var I=L;const H=s[O];t(L,"name",{__proto__:null,value:H.name}),t(L,"length",{__proto__:null,value:H.length}),t(C.Readable.prototype,O,{__proto__:null,value:L,enumerable:!1,configurable:!0,writable:!0})}C.Writable=Xw(),C.Duplex=iu(),C.Transform=$x(),C.PassThrough=Kx(),C.pipeline=g;const{addAbortSignal:E}=Iv();return C.addAbortSignal=E,C.finished=_,C.destroy=w,C.compose=d,C.setDefaultHighWaterMark=c,C.getDefaultHighWaterMark=p,t(C,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return T}}),t(g,a,{__proto__:null,enumerable:!0,get(){return T.pipeline}}),t(_,a,{__proto__:null,enumerable:!0,get(){return T.finished}}),C.Stream=C,C._isUint8Array=function(H){return H instanceof Uint8Array},C._uint8ArrayToBuffer=function(H){return e.from(H.buffer,H.byteOffset,H.byteLength)},$0.exports}var UE;function Wx(){return UE||(UE=1,function(e){const t=zx(),r=qx(),i=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=i,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports}(V0)),V0.exports}var tg={},ng={},Uf={},rg={},kE;function Jx(){if(kE)return rg;kE=1,Object.defineProperty(rg,"__esModule",{value:!0}),rg.BlankNode=void 0;class e{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}}return rg.BlankNode=e,rg}var ig={},ag={},jE;function Yx(){if(jE)return ag;jE=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.DefaultGraph=void 0;class e{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}}return ag.DefaultGraph=e,e.INSTANCE=new e,ag}var og={},sg={},BE;function e_(){if(BE)return sg;BE=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.NamedNode=void 0;class e{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}}return sg.NamedNode=e,sg}var HE;function Qx(){if(HE)return og;HE=1,Object.defineProperty(og,"__esModule",{value:!0}),og.Literal=void 0;const e=e_();class t{constructor(i,a){this.termType="Literal",this.value=i,typeof a=="string"?(this.language=a,this.datatype=t.RDF_LANGUAGE_STRING):a?(this.language="",this.datatype=a):(this.language="",this.datatype=t.XSD_STRING)}equals(i){return!!i&&i.termType==="Literal"&&i.value===this.value&&i.language===this.language&&this.datatype.equals(i.datatype)}}return og.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),og}var lg={},VE;function Xx(){if(VE)return lg;VE=1,Object.defineProperty(lg,"__esModule",{value:!0}),lg.Quad=void 0;class e{constructor(r,i,a,l){this.termType="Quad",this.value="",this.subject=r,this.predicate=i,this.object=a,this.graph=l}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}}return lg.Quad=e,lg}var ug={},$E;function Zx(){if($E)return ug;$E=1,Object.defineProperty(ug,"__esModule",{value:!0}),ug.Variable=void 0;class e{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}}return ug.Variable=e,ug}var KE;function rI(){if(KE)return ig;KE=1,Object.defineProperty(ig,"__esModule",{value:!0}),ig.DataFactory=void 0;const e=Jx(),t=Yx(),r=Qx(),i=e_(),a=Xx(),l=Zx();let s=0;class u{constructor(c){this.blankNodeCounter=0,c=c||{},this.blankNodePrefix=c.blankNodePrefix||`df_${s++}_`}namedNode(c){return new i.NamedNode(c)}blankNode(c){return new e.BlankNode(c||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(c,p){return new r.Literal(c,p)}variable(c){return new l.Variable(c)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(c,p,g,w){return new a.Quad(c,p,g,w||this.defaultGraph())}fromTerm(c){switch(c.termType){case"NamedNode":return this.namedNode(c.value);case"BlankNode":return this.blankNode(c.value);case"Literal":return c.language?this.literal(c.value,c.language):c.datatype.equals(r.Literal.XSD_STRING)?this.literal(c.value):this.literal(c.value,this.fromTerm(c.datatype));case"Variable":return this.variable(c.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(c.subject),this.fromTerm(c.predicate),this.fromTerm(c.object),this.fromTerm(c.graph))}}fromQuad(c){return this.fromTerm(c)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return ig.DataFactory=u,ig}var GE;function iI(){return GE||(GE=1,function(e){var t=Uf&&Uf.__createBinding||(Object.create?function(i,a,l,s){s===void 0&&(s=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(i,s,u)}:function(i,a,l,s){s===void 0&&(s=l),i[s]=a[l]}),r=Uf&&Uf.__exportStar||function(i,a){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,i,l)};Object.defineProperty(e,"__esModule",{value:!0}),r(Jx(),e),r(rI(),e),r(Yx(),e),r(Qx(),e),r(e_(),e),r(Xx(),e),r(Zx(),e)}(Uf)),Uf}var cg={},fg={},qE;function aI(){if(qE)return fg;qE=1,Object.defineProperty(fg,"__esModule",{value:!0}),fg.ContainerHandlerIdentifier=void 0;let e=class{canCombineWithGraph(){return!0}async handle(r,i,a,l,s,u){let d;if(i.emittedStack[u+1]&&i.idStack[u+1])d=i.idStack[u+1][0];else{const g=await a.getContainerKey(l[u],l,u)!==null?await a.resourceToTerm(await i.getContext(l),l[u]):a.dataFactory.blankNode();if(!g){i.emittedStack[u]=!1;return}d=g,i.idStack[u+1]=[d]}let c=i.idStack[u];c||(c=i.idStack[u]=[]),c.some(p=>p.equals(d))||c.push(d),await i.handlePendingContainerFlushBuffers()||(i.emittedStack[u]=!1)}};return fg.ContainerHandlerIdentifier=e,fg}var dg={},hg={},zE;function Fv(){if(zE)return hg;zE=1,Object.defineProperty(hg,"__esModule",{value:!0}),hg.EntryHandlerPredicate=void 0;const e=ja(),t=Xf();let r=class eR{static async handlePredicateObject(a,l,s,u,d,c,p,g,w){const _=await l.getPropertiesDepth(s,u),T=await l.getDepthOffsetGraph(u,s),x=u-T,C=a.idStack[_];if(C&&!w)for(const E of C)if(T>=0){const O=a.idStack[x-1];if(O)for(const H of O)l.emitQuadChecked(u,E,d,c,H,p,g);else p?(l.validateReverseSubject(c),a.getUnidentifiedGraphBufferSafe(x-1).push({subject:c,predicate:d,object:E,isEmbedded:g})):a.getUnidentifiedGraphBufferSafe(x-1).push({subject:E,predicate:d,object:c,isEmbedded:g})}else{const O=await l.getGraphContainerValue(s,_);l.emitQuadChecked(u,E,d,c,O,p,g)}else if(p&&l.validateReverseSubject(c),w){if(a.rdfstar){a.idStack[u]&&a.emitError(new e.ErrorCoded(`Found an illegal @id inside an annotation: ${a.idStack[u][0].value}`,e.ERROR_CODES.INVALID_ANNOTATION));for(let O=0;O<u;O++)await l.unaliasKeyword(s[O],s,O)==="@id"&&a.emitError(new e.ErrorCoded("Found an illegal annotation inside an embedded node",e.ERROR_CODES.INVALID_ANNOTATION));const E=a.getAnnotationsBufferSafe(_),I={predicate:d,object:c,reverse:p,nestedAnnotations:[],depth:_};E.push(I);for(let O=E.length-2;O>=0;O--){const H=E[O];H.depth>_&&(I.nestedAnnotations.push(H),E.splice(O,1))}}}else a.getUnidentifiedValueBufferSafe(_).push({predicate:d,object:c,reverse:p,isEmbedded:g})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(a,l,s,u,d){const c=s[u];if(c){const p=await a.getContext(s);if(!a.jsonLiteralStack[u]&&await l.predicateToTerm(p,s[u]))return t.Util.getContextValueType(p,c)==="@json"&&(a.jsonLiteralStack[u+1]=!0),!0}return!1}async test(a,l,s,u,d){return u[d]}async handle(a,l,s,u,d,c,p){const g=u[c],w=await a.getContext(u),_=await l.predicateToTerm(w,s);if(_){const T=await l.valueToTerm(w,s,d,c,u);if(T.length)for(let x of T){let C=await l.unaliasKeywordParent(u,c);const E=t.Util.isPropertyReverse(w,g,C);let I=0;for(;C==="@reverse"||typeof C=="number";)typeof C=="number"?I++:c--,C=await l.unaliasKeywordParent(u,c-I);const O=t.Util.isPropertyInEmbeddedNode(C);l.validateReverseInEmbeddedNode(s,E,O);const H=t.Util.isPropertyInAnnotationObject(C);if(d){const L="@list"in t.Util.getContextValueContainer(w,s);if(L||d["@list"]){if((L&&!Array.isArray(d)&&!d["@list"]||d["@list"]&&!Array.isArray(d["@list"]))&&x!==l.rdfNil){const q=l.dataFactory.blankNode();a.emitQuad(c,l.dataFactory.quad(q,l.rdfRest,l.rdfNil,l.getDefaultGraph())),a.emitQuad(c,l.dataFactory.quad(q,l.rdfFirst,x,l.getDefaultGraph())),x=q}if(E&&!a.allowSubjectList)throw new e.ErrorCoded(`Found illegal list value in subject position at ${s}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await eR.handlePredicateObject(a,l,u,c,_,x,E,O,H)}}}};return hg.EntryHandlerPredicate=r,hg}var WE;function oI(){if(WE)return dg;WE=1,Object.defineProperty(dg,"__esModule",{value:!0}),dg.ContainerHandlerIndex=void 0;const e=ja(),t=Fv(),r=Xf();let i=class{canCombineWithGraph(){return!0}async handle(l,s,u,d,c,p){if(!Array.isArray(c)){const g="@graph"in l,w=await s.getContext(d),_=d[p-1],T=r.Util.getContextValueIndex(w,_);if(T){if(e.Util.isPotentialKeyword(T))throw new e.ErrorCoded(`Keywords can not be used as @index value, got: ${T}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof T!="string")throw new e.ErrorCoded(`@index values must be strings, got: ${T}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof c!="object"){if(r.Util.getContextValueType(w,_)!=="@id")throw new e.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${c}`,e.ERROR_CODES.INVALID_VALUE_OBJECT);const E=u.resourceToTerm(w,c);E&&(s.idStack[p+1]=[E])}const C=u.createVocabOrBaseTerm(w,T);if(C){const E=await u.valueToTerm(w,T,await u.getContainerKey(d[p],d,p),p,d);if(g){const I=await u.getGraphContainerValue(d,p+1);for(const O of E)s.emitQuad(p,u.dataFactory.quad(I,C,O,u.getDefaultGraph()))}else for(const I of E)await t.EntryHandlerPredicate.handlePredicateObject(s,u,d,p+1,C,I,!1,!1,!1)}}const x=g?2:1;await s.newOnValueJob(d.slice(0,d.length-x),c,p-x,!0),await s.handlePendingContainerFlushBuffers()}s.emittedStack[p]=!1}};return dg.ContainerHandlerIndex=i,dg}var pg={},JE;function sI(){if(JE)return pg;JE=1,Object.defineProperty(pg,"__esModule",{value:!0}),pg.ContainerHandlerLanguage=void 0;const e=ja();let t=class{canCombineWithGraph(){return!1}async handle(i,a,l,s,u,d){const c=await l.getContainerKey(s[d],s,d);if(Array.isArray(u))u=u.map(p=>({"@value":p,"@language":c}));else{if(typeof u!="string")throw new e.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(u)}', but expected string`,e.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);u={"@value":u,"@language":c}}await a.newOnValueJob(s.slice(0,s.length-1),u,d-1,!0),a.emittedStack[d]=!1}};return pg.ContainerHandlerLanguage=t,pg}var gg={},YE;function lI(){if(YE)return gg;YE=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.ContainerHandlerType=void 0;const e=Fv(),t=Xf();let r=class{canCombineWithGraph(){return!1}async handle(a,l,s,u,d,c){if(!Array.isArray(d)){if(typeof d=="string"){const w=await l.getContext(u),T=t.Util.getContextValueType(w,u[c-1])==="@vocab"?await s.createVocabOrBaseTerm(w,d):await s.resourceToTerm(w,d);if(T){const x={"@id":T.termType==="NamedNode"?T.value:d};await l.newOnValueJob(u.slice(0,u.length-1),x,c-1,!0),l.idStack[c+1]=[T]}}else{const w=!!l.idStack[c+1];w||delete l.idStack[c],await l.newOnValueJob(u.slice(0,u.length-1),d,c-1,!0),w||(l.idStack[c+1]=l.idStack[c])}const p=await s.getContainerKey(u[c],u,c),g=p!==null?s.createVocabOrBaseTerm(await l.getContext(u),p):null;g&&await e.EntryHandlerPredicate.handlePredicateObject(l,s,u,c+1,s.rdfType,g,!1,!1,!1),await l.handlePendingContainerFlushBuffers()}l.emittedStack[c]=!1}};return gg.ContainerHandlerType=r,gg}var QE;function tR(){if(QE)return cg;QE=1,Object.defineProperty(cg,"__esModule",{value:!0}),cg.EntryHandlerContainer=void 0;const e=aI(),t=oI(),r=sI(),i=lI(),a=Xf();let l=class oc{static isSimpleGraphContainer(u){return"@graph"in u&&("@set"in u&&Object.keys(u).length===2||Object.keys(u).length===1)}static isComplexGraphContainer(u){return"@graph"in u&&("@set"in u&&Object.keys(u).length>2||!("@set"in u)&&Object.keys(u).length>1)}static getContainerGraphIndex(u,d,c){let p=oc.isSimpleGraphContainer(u),g="";for(let w=d;w<c.length;w++)(!p||typeof c[w]=="number")&&(g+=":"+c[w]),!p&&typeof c[w]!="number"&&(p=!0);return g}static async getContainerHandler(u,d,c){const p={containers:{"@set":!0},depth:c,fallback:!0};let g=!1;const w=await u.getContext(d,2);for(let _=c-1;_>=0;_--)if(typeof d[_]!="number"){const T=a.Util.getContextValue(w,"@container",d[_],!1);if(T&&oc.isSimpleGraphContainer(T))return{containers:T,depth:_+1,fallback:!1};const x=a.Util.getContextValue(w,"@container",d[_-1],!1);if(x){const C="@graph"in x;for(const E in oc.CONTAINER_HANDLERS)if(x[E])return C?oc.CONTAINER_HANDLERS[E].canCombineWithGraph()?{containers:x,depth:_,fallback:!1}:p:g?p:{containers:x,depth:_,fallback:!1};return p}else{if(g)return p;g=!0}}return p}static async isBufferableContainerHandler(u,d,c){const p=await oc.getContainerHandler(u,d,c);return!p.fallback&&!("@graph"in p.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(u,d,c,p,g){return!!await this.test(u,d,null,c,p)}async test(u,d,c,p,g){const w=a.Util.getContextValueContainer(await u.getContext(p,2),p[g-1]);for(const _ in oc.CONTAINER_HANDLERS)if(w[_])return{containers:w,handler:oc.CONTAINER_HANDLERS[_]};return null}async handle(u,d,c,p,g,w,_){return _.handler.handle(_.containers,u,d,p,g,w)}};return l.CONTAINER_HANDLERS={"@id":new e.ContainerHandlerIdentifier,"@index":new t.ContainerHandlerIndex,"@language":new r.ContainerHandlerLanguage,"@type":new i.ContainerHandlerType},cg.EntryHandlerContainer=l,cg}var hb,XE;function uI(){return XE||(XE=1,hb=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((r,i,a)=>{const l=a===0?"":",",s=i===void 0||typeof i=="symbol"?null:i;return r+l+e(s)},"")+"]":"{"+Object.keys(t).sort().reduce((r,i,a)=>{if(t[i]===void 0||typeof t[i]=="symbol")return r;const l=r.length===0?"":",";return r+l+e(i)+":"+e(t[i])},"")+"}"}),hb}var ZE;function Xf(){if(ZE)return ng;ZE=1,Object.defineProperty(ng,"__esModule",{value:!0}),ng.Util=void 0;const e=ja(),t=iI(),r=tR(),i=uI();class a{constructor(s){this.parsingContext=s.parsingContext,this.dataFactory=s.dataFactory||new t.DataFactory,this.rdfFirst=this.dataFactory.namedNode(a.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(a.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(a.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(a.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(a.RDF+"JSON")}static getContextValue(s,u,d,c){const p=s.getContextRaw()[d];if(!p)return c;const g=p[u];return g===void 0?c:g}static getContextValueContainer(s,u){return a.getContextValue(s,"@container",u,{"@set":!0})}static getContextValueType(s,u){const d=a.getContextValue(s,"@type",u,null);return d==="@none"?null:d}static getContextValueLanguage(s,u){return a.getContextValue(s,"@language",u,s.getContextRaw()["@language"]||null)}static getContextValueDirection(s,u){return a.getContextValue(s,"@direction",u,s.getContextRaw()["@direction"]||null)}static isContextValueReverse(s,u){return!!a.getContextValue(s,"@reverse",u,null)}static getContextValueIndex(s,u){return a.getContextValue(s,"@index",u,s.getContextRaw()["@index"]||null)}static isPropertyReverse(s,u,d){return d==="@reverse"!==a.isContextValueReverse(s,u)}static isPropertyInEmbeddedNode(s){return s==="@id"}static isPropertyInAnnotationObject(s){return s==="@annotation"}static isValidIri(s){return s!==null&&e.Util.isValidIri(s)}static isPrefixArray(s,u){if(s.length>u.length)return!1;for(let d=0;d<s.length;d++)if(s[d]!==u[d])return!1;return!0}async validateValueIndexes(s){if(this.parsingContext.validateValueIndexes){const u={};for(const d of s)if(d&&typeof d=="object"){const c=d["@id"],p=d["@index"];if(c&&p){const g=u[c];if(g&&g!==p)throw new e.ErrorCoded(`Conflicting @index value for ${c}`,e.ERROR_CODES.CONFLICTING_INDEXES);u[c]=p}}}}async valueToTerm(s,u,d,c,p){if(a.getContextValueType(s,u)==="@json")return[this.dataFactory.literal(this.valueToJsonString(d),this.rdfJson)];const g=typeof d;switch(g){case"object":if(d==null)return[];if(Array.isArray(d))return"@list"in a.getContextValueContainer(s,u)?d.length===0?[this.rdfNil]:this.parsingContext.idStack[c+1]||[]:(await this.validateValueIndexes(d),[]);if(s=await this.getContextSelfOrPropertyScoped(s,u),"@context"in d&&(s=await this.parsingContext.parseContext(d["@context"],(await this.parsingContext.getContext(p,0)).getContextRaw())),d=await this.unaliasKeywords(d,p,c,s),"@value"in d){let w,_,T,x,C;for(u in d){const E=d[u];switch(u){case"@value":w=E;break;case"@language":_=E;break;case"@direction":T=E;break;case"@type":x=E;break;case"@index":C=E;break;case"@annotation":break;default:throw new e.ErrorCoded(`Unknown value entry '${u}' in @value: ${JSON.stringify(d)}`,e.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(x,p,c,!0,s)==="@json")return[this.dataFactory.literal(this.valueToJsonString(w),this.rdfJson)];if(w===null)return[];if(typeof w=="object")throw new e.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(w)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&C&&typeof C!="string")throw new e.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(C)}'`,e.ERROR_CODES.INVALID_INDEX_VALUE);if(_){if(typeof w!="string")throw new e.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(w)}'`,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!e.ContextParser.validateLanguage(_,this.parsingContext.strictValues,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(_=_.toLowerCase())}if(T){if(typeof w!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(w)}'`);if(!e.ContextParser.validateDirection(T,this.parsingContext.strictValues))return[]}if(_&&T&&this.parsingContext.rdfDirection){if(x)throw new e.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(c,w,_,T))}else if(_){if(x)throw new e.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(w,_)]}else if(T&&this.parsingContext.rdfDirection){if(x)throw new e.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(c,w,_,T))}else if(x){if(typeof x!="string")throw new e.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(x)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);const E=this.createVocabOrBaseTerm(s,x);if(!E)throw new e.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(x)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);if(E.termType!=="NamedNode")throw new e.ErrorCoded(`Illegal value type (${E.termType}): ${x}`,e.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(w,E)]}return await this.valueToTerm(new e.JsonLdContextNormalized({}),u,w,c,p)}else if("@set"in d){if(Object.keys(d).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${u}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in d){if(Object.keys(d).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${u}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const w=d["@list"];return Array.isArray(w)?w.length===0?[this.rdfNil]:this.parsingContext.idStack[c+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(p),u,w,c-1,p.slice(0,-1))}else{if("@reverse"in d&&typeof d["@reverse"]=="boolean")return[];if("@graph"in a.getContextValueContainer(await this.parsingContext.getContext(p),u)){const w=this.parsingContext.graphContainerTermStack[c+1];return w?Object.values(w):[this.dataFactory.blankNode()]}else if("@id"in d){if(Object.keys(d).length>1&&(s=await this.parsingContext.getContext(p,0)),"@context"in d&&(s=await this.parsingContext.parseContext(d["@context"],s.getContextRaw())),d["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(s,d["@id"]));{const w=d["@id"];let _;if(typeof w=="object")if(this.parsingContext.rdfstar)_=this.parsingContext.idStack[c+1][0];else throw new e.ErrorCoded(`Found illegal @id '${d}'`,e.ERROR_CODES.INVALID_ID_VALUE);else _=this.resourceToTerm(s,w);return this.nullableTermToArray(_)}}else return this.parsingContext.emittedStack[c+1]||d&&typeof d=="object"&&Object.keys(d).length===0?this.parsingContext.idStack[c+1]||(this.parsingContext.idStack[c+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(c,await this.getContextSelfOrPropertyScoped(s,u),u,d,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(c,await this.getContextSelfOrPropertyScoped(s,u),u,(!!d).toString(),this.dataFactory.namedNode(a.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(c,await this.getContextSelfOrPropertyScoped(s,u),u,d,this.dataFactory.namedNode(d%1===0&&d<1e21?a.XSD_INTEGER:a.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${g}`)),[]}}async getContextSelfOrPropertyScoped(s,u){const d=s.getContextRaw()[u];return d&&typeof d=="object"&&"@context"in d&&(s=await this.parsingContext.parseContext(d,s.getContextRaw(),!0)),s}nullableTermToArray(s){return s?[s]:[]}predicateToTerm(s,u){const d=s.expandTerm(u,!0,this.parsingContext.getExpandOptions());if(!d)return null;if(d[0]==="_"&&d[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(d.substr(2)):null;if(a.isValidIri(d))return this.dataFactory.namedNode(d);if(d&&this.parsingContext.strictValues)this.parsingContext.emitError(new e.ErrorCoded(`Invalid predicate IRI: ${d}`,e.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(s,u){if(u.startsWith("_:"))return this.dataFactory.blankNode(u.substr(2));const d=s.expandTerm(u,!1,this.parsingContext.getExpandOptions());if(!a.isValidIri(d))if(d&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${d}`));else return null;return this.dataFactory.namedNode(d)}createVocabOrBaseTerm(s,u){if(u.startsWith("_:"))return this.dataFactory.blankNode(u.substr(2));const d=this.parsingContext.getExpandOptions();let c=s.expandTerm(u,!0,d);if(c===u&&(c=s.expandTerm(u,!1,d)),!a.isValidIri(c))if(c&&this.parsingContext.strictValues&&!c.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${c}`));else return null;return this.dataFactory.namedNode(c)}intToString(s,u){return typeof s=="number"?Number.isFinite(s)?s%1===0&&(!u||u.value!==a.XSD_DOUBLE)?Number(s).toString():s.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):s>0?"INF":"-INF":s}stringValueToTerm(s,u,d,c,p){const g=a.getContextValueType(u,d);if(g)if(g==="@id"){if(!p)return this.resourceToTerm(u,this.intToString(c,p))}else if(g==="@vocab"){if(!p)return this.createVocabOrBaseTerm(u,this.intToString(c,p))}else p=this.dataFactory.namedNode(g);if(!p){const w=a.getContextValueLanguage(u,d),_=a.getContextValueDirection(u,d);return _&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(s,this.intToString(c,p),w,_):this.dataFactory.literal(this.intToString(c,p),w)}return this.dataFactory.literal(this.intToString(c,p),p)}createLanguageDirectionLiteral(s,u,d,c){if(this.parsingContext.rdfDirection==="i18n-datatype")return d||(d=""),this.dataFactory.literal(u,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${d}_${c}`));{const p=this.dataFactory.blankNode(),g=this.getDefaultGraph();return this.parsingContext.emitQuad(s,this.dataFactory.quad(p,this.dataFactory.namedNode(a.RDF+"value"),this.dataFactory.literal(u),g)),d&&this.parsingContext.emitQuad(s,this.dataFactory.quad(p,this.dataFactory.namedNode(a.RDF+"language"),this.dataFactory.literal(d),g)),this.parsingContext.emitQuad(s,this.dataFactory.quad(p,this.dataFactory.namedNode(a.RDF+"direction"),this.dataFactory.literal(c),g)),p}}valueToJsonString(s){return i(s)}async unaliasKeyword(s,u,d,c,p){if(Number.isInteger(s))return s;if(!c){const g=this.parsingContext.unaliasedKeywordCacheStack[d];if(g)return g}if(!e.Util.isPotentialKeyword(s)){p=p||await this.parsingContext.getContext(u);let g=p.getContextRaw()[s];g&&typeof g=="object"&&(g=g["@id"]),e.Util.isValidKeyword(g)&&(s=g)}return c?s:this.parsingContext.unaliasedKeywordCacheStack[d]=s}async unaliasKeywordParent(s,u){return await this.unaliasKeyword(u>0&&s[u-1],s,u-1)}async unaliasKeywords(s,u,d,c){const p={};for(const g in s)p[await this.unaliasKeyword(g,u,d+1,!0,c)]=s[g];return p}async isLiteral(s,u){for(let d=u;d>=0;d--){if(await this.unaliasKeyword(s[d],s,d)==="@annotation")return!1;if(this.parsingContext.literalStack[d]||this.parsingContext.jsonLiteralStack[d])return!0}return!1}async getDepthOffsetGraph(s,u){for(let d=s-1;d>0;d--)if(await this.unaliasKeyword(u[d],u,d)==="@graph"){const c=(await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,u,d)).containers;return r.EntryHandlerContainer.isComplexGraphContainer(c)?-1:s-d-1}return-1}validateReverseSubject(s){if(s.termType==="Literal")throw new e.ErrorCoded(`Found illegal literal in subject position: ${s.value}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(s,u){let d=this.getDefaultGraph();const{containers:c,depth:p}=await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,s,u);if("@graph"in c){const g=r.EntryHandlerContainer.getContainerGraphIndex(c,p,s),w=this.parsingContext.graphContainerTermStack[p];if(d=w?w[g]:null,!d){let _=null;if("@id"in c){const T=await this.getContainerKey(s[p],s,p);T!==null&&(_=await this.resourceToTerm(await this.parsingContext.getContext(s),T))}_||(_=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[p]||(this.parsingContext.graphContainerTermStack[p]={}),d=this.parsingContext.graphContainerTermStack[p][g]=_}}return d}async getPropertiesDepth(s,u){let d=u;for(let c=u-1;c>0;c--)if(typeof s[c]!="number"){const p=await this.unaliasKeyword(s[c],s,c);if(p==="@reverse")return c;if(p==="@nest")d=c;else return d}return d}async getContainerKey(s,u,d){const c=await this.unaliasKeyword(s,u,d);return c==="@none"?null:c}validateReverseInEmbeddedNode(s,u,d){if(d&&u&&!this.parsingContext.rdfstarReverseInEmbedded)throw new e.ErrorCoded(`Illegal reverse property in embedded node in ${s}`,e.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(s,u,d,c,p,g,w){let _;if(g?(this.validateReverseSubject(c),_=this.dataFactory.quad(c,d,u,p)):_=this.dataFactory.quad(u,d,c,p),w){if(_.graph.termType!=="DefaultGraph"&&(_=this.dataFactory.quad(_.subject,_.predicate,_.object)),this.parsingContext.idStack[s-1])throw new e.ErrorCoded("Illegal multiple properties in an embedded node",e.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[s-1]=[_]}else this.parsingContext.emitQuad(s,_);const T=this.parsingContext.annotationsBuffer[s];if(T){for(const x of T)this.emitAnnotation(s,_,x);delete this.parsingContext.annotationsBuffer[s]}}emitAnnotation(s,u,d){let c;d.reverse?(this.validateReverseSubject(d.object),c=this.dataFactory.quad(d.object,d.predicate,u)):c=this.dataFactory.quad(u,d.predicate,d.object),this.parsingContext.emitQuad(s,c);for(const p of d.nestedAnnotations)this.emitAnnotation(s,c,p)}}return a.XSD="http://www.w3.org/2001/XMLSchema#",a.XSD_BOOLEAN=a.XSD+"boolean",a.XSD_INTEGER=a.XSD+"integer",a.XSD_DOUBLE=a.XSD+"double",a.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ng.Util=a,ng}var e1;function cI(){if(e1)return tg;e1=1,Object.defineProperty(tg,"__esModule",{value:!0}),tg.EntryHandlerArrayValue=void 0;const e=Xf(),t=ja();let r=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(a,l,s,u,d){return this.test(a,l,null,s,u)}async test(a,l,s,u,d){return typeof u[d]=="number"}async handle(a,l,s,u,d,c){let p=await l.unaliasKeywordParent(u,c);if(p==="@list"){let g=null,w=0;for(let _=c-2;_>0;_--){const T=u[_];if(typeof T=="string"||typeof T=="number"){w=_,g=T;break}}if(g!==null){const _=await l.valueToTerm(await a.getContext(u),g,d,c,u);for(const T of _)await this.handleListElement(a,l,T,d,c,u.slice(0,w),w);_.length===0&&await this.handleListElement(a,l,null,d,c,u.slice(0,w),w)}}else if(p==="@set")await a.newOnValueJob(u.slice(0,-2),d,c-2,!1);else if(p!==void 0&&p!=="@type"){for(let w=c-1;w>0;w--)if(typeof u[w]!="number"){p=await l.unaliasKeyword(u[w],u,w);break}const g=await a.getContext(u.slice(0,-1));if("@list"in e.Util.getContextValueContainer(g,p)){a.emittedStack[c+1]=!0;const w=await l.valueToTerm(await a.getContext(u),p,d,c,u);for(const _ of w)await this.handleListElement(a,l,_,d,c,u.slice(0,-1),c-1);w.length===0&&await this.handleListElement(a,l,null,d,c,u.slice(0,-1),c-1)}else a.shiftStack(c,1),await a.newOnValueJob(u.slice(0,-1),d,c-1,!1),a.contextTree.removeContext(u.slice(0,-1))}}async handleListElement(a,l,s,u,d,c,p){let g=a.listPointerStack[d];if(u!==null&&(await l.unaliasKeywords(u,c,d))["@value"]!==null){if(!g||!g.value){const w=l.dataFactory.blankNode();g={value:w,listRootDepth:p,listId:w}}else{const w=l.dataFactory.blankNode();a.emitQuad(d,l.dataFactory.quad(g.value,l.rdfRest,w,l.getDefaultGraph())),g.value=w}s&&a.emitQuad(d,l.dataFactory.quad(g.value,l.rdfFirst,s,l.getDefaultGraph()))}else g||(g={listRootDepth:p,listId:l.rdfNil});a.listPointerStack[d]=g,a.rdfstar&&a.annotationsBuffer[d]&&a.emitError(new t.ErrorCoded("Found an illegal annotation inside a list",t.ERROR_CODES.INVALID_ANNOTATION))}};return tg.EntryHandlerArrayValue=r,tg}var mg={},t1;function fI(){if(t1)return mg;t1=1,Object.defineProperty(mg,"__esModule",{value:!0}),mg.EntryHandlerInvalidFallback=void 0;let e=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,i,a,l,s){return!1}async test(r,i,a,l,s){return!0}async handle(r,i,a,l,s,u){r.emittedStack[u]=!1}};return mg.EntryHandlerInvalidFallback=e,mg}var yg={},vg={},n1;function yc(){if(n1)return vg;n1=1,Object.defineProperty(vg,"__esModule",{value:!0}),vg.EntryHandlerKeyword=void 0;let e=class{constructor(r){this.keyword=r}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,i,a,l,s){return!1}async test(r,i,a,l,s){return a===this.keyword}};return vg.EntryHandlerKeyword=e,vg}var r1;function dI(){if(r1)return yg;r1=1,Object.defineProperty(yg,"__esModule",{value:!0}),yg.EntryHandlerKeywordContext=void 0;const e=ja(),t=yc();let r=class extends t.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(a,l,s,u,d,c){a.streamingProfile&&(a.processingStack[c]||a.processingType[c]||a.idStack[c]!==void 0)&&a.emitError(new e.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",e.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const p=a.getContext(u),g=a.parseContext(d,(await p).getContextRaw());a.contextTree.setContext(u.slice(0,-1),g),a.emitContext(d),await a.validateContext(await g)}};return yg.EntryHandlerKeywordContext=r,yg}var bg={},i1;function hI(){if(i1)return bg;i1=1,Object.defineProperty(bg,"__esModule",{value:!0}),bg.EntryHandlerKeywordGraph=void 0;const e=yc();let t=class extends e.EntryHandlerKeyword{constructor(){super("@graph")}async handle(i,a,l,s,u,d){i.graphStack[d+1]=!0}};return bg.EntryHandlerKeywordGraph=t,bg}var wg={},a1;function pI(){if(a1)return wg;a1=1,Object.defineProperty(wg,"__esModule",{value:!0}),wg.EntryHandlerKeywordId=void 0;const e=ja(),t=yc();let r=class extends t.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(a,l,s,u,d,c){if(typeof d!="string"){if(a.rdfstar&&typeof d=="object"){const g=Object.keys(d);g.length===1&&g[0]==="@id"&&a.emitError(new e.ErrorCoded(`Invalid embedded node without property with @id ${d["@id"]}`,e.ERROR_CODES.INVALID_EMBEDDED_NODE))}else a.emitError(new e.ErrorCoded(`Found illegal @id '${d}'`,e.ERROR_CODES.INVALID_ID_VALUE));return}const p=await l.getPropertiesDepth(u,c);if(a.idStack[p]!==void 0&&(a.idStack[p][0].listHead?a.emitError(new e.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${u[c-1]}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):a.emitError(new e.ErrorCoded(`Found duplicate @ids '${a.idStack[p][0].value}' and '${d}'`,e.ERROR_CODES.COLLIDING_KEYWORDS))),a.rdfstar&&a.annotationsBuffer[c])for(const g of a.annotationsBuffer[c])g.depth===c&&a.emitError(new e.ErrorCoded(`Found an illegal @id inside an annotation: ${d}`,e.ERROR_CODES.INVALID_ANNOTATION));a.idStack[p]=l.nullableTermToArray(await l.resourceToTerm(await a.getContext(u),d))}};return wg.EntryHandlerKeywordId=r,wg}var _g={},o1;function gI(){if(o1)return _g;o1=1,Object.defineProperty(_g,"__esModule",{value:!0}),_g.EntryHandlerKeywordIncluded=void 0;const e=ja(),t=yc();let r=class extends t.EntryHandlerKeyword{constructor(){super("@included")}async handle(a,l,s,u,d,c){typeof d!="object"&&a.emitError(new e.ErrorCoded(`Found illegal @included '${d}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE));const p=await l.unaliasKeywords(d,u,c,await a.getContext(u));"@value"in p&&a.emitError(new e.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in p&&a.emitError(new e.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE)),a.emittedStack[c]=!1}};return _g.EntryHandlerKeywordIncluded=r,_g}var Sg={},s1;function mI(){if(s1)return Sg;s1=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.EntryHandlerKeywordNest=void 0;const e=ja(),t=yc();let r=class extends t.EntryHandlerKeyword{constructor(){super("@nest")}async handle(a,l,s,u,d,c){typeof d!="object"&&a.emitError(new e.ErrorCoded(`Found invalid @nest entry for '${s}': '${d}'`,e.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await l.unaliasKeywords(d,u,c,await a.getContext(u))&&a.emitError(new e.ErrorCoded(`Found an invalid @value node for '${s}'`,e.ERROR_CODES.INVALID_NEST_VALUE)),a.emittedStack[c]=!1}};return Sg.EntryHandlerKeywordNest=r,Sg}var Eg={},l1;function yI(){if(l1)return Eg;l1=1,Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.EntryHandlerKeywordType=void 0;const e=ja(),t=Xf(),r=Fv(),i=yc();let a=class extends i.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(s,u,d,c,p,g){const w=c[g],_=await s.getContext(c),T=u.rdfType,x=await u.unaliasKeywordParent(c,g),C=t.Util.isPropertyReverse(_,w,x),E=t.Util.isPropertyInEmbeddedNode(x);u.validateReverseInEmbeddedNode(d,C,E);const I=t.Util.isPropertyInAnnotationObject(x),O=Array.isArray(p)?p:[p];for(const q of O){typeof q!="string"&&s.emitError(new e.ErrorCoded(`Found illegal @type '${q}'`,e.ERROR_CODES.INVALID_TYPE_VALUE));const W=u.createVocabOrBaseTerm(_,q);W&&await r.EntryHandlerPredicate.handlePredicateObject(s,u,c,g,T,W,C,E,I)}let H=Promise.resolve(_),L=!1;for(const q of O.sort()){const W=t.Util.getContextValue(_,"@context",q,null);W&&(L=!0,H=H.then($=>s.parseContext(W,$.getContextRaw())))}s.streamingProfile&&(L||!s.streamingProfileAllowOutOfOrderPlainType)&&(s.processingStack[g]||s.idStack[g])&&s.emitError(new e.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",e.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),L&&(H=H.then(q=>q.getContextRaw()["@propagate"]!==!0?new e.JsonLdContextNormalized(Object.assign(Object.assign({},q.getContextRaw()),{"@propagate":!1,"@__propagateFallback":_.getContextRaw()})):q),s.contextTree.setContext(c.slice(0,c.length-1),H)),s.processingType[g]=!0}};return Eg.EntryHandlerKeywordType=a,Eg}var Ag={},u1;function vI(){if(u1)return Ag;u1=1,Object.defineProperty(Ag,"__esModule",{value:!0}),Ag.EntryHandlerKeywordUnknownFallback=void 0;const e=ja();let t=class nR{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(i,a,l,s,u){const d=await a.unaliasKeyword(l[s],l,s);return e.Util.isPotentialKeyword(d)?!(!u&&d==="@list"):!1}async test(i,a,l,s,u){return e.Util.isPotentialKeyword(l)}async handle(i,a,l,s,u,d){const c=nR.VALID_KEYWORDS_TYPES[l];c!==void 0?c&&typeof u!==c.type&&i.emitError(new e.ErrorCoded(`Invalid value type for '${l}' with value '${u}'`,c.errorCode)):i.strictValues&&i.emitError(new Error(`Unknown keyword '${l}' with value '${u}'`)),i.emittedStack[d]=!1}};return t.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:e.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:e.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null},Ag.EntryHandlerKeywordUnknownFallback=t,Ag}var xg={},c1;function bI(){if(c1)return xg;c1=1,Object.defineProperty(xg,"__esModule",{value:!0}),xg.EntryHandlerKeywordValue=void 0;const e=yc();let t=class extends e.EntryHandlerKeyword{constructor(){super("@value")}async validate(i,a,l,s,u){const d=l[s];return d&&!i.literalStack[s]&&await this.test(i,a,d,l,s)&&(i.literalStack[s]=!0),super.validate(i,a,l,s,u)}async test(i,a,l,s,u){return await a.unaliasKeyword(s[u],s.slice(0,s.length-1),u-1,!0)==="@value"}async handle(i,a,l,s,u,d){i.literalStack[d]=!0,delete i.unidentifiedValuesBuffer[d],delete i.unidentifiedGraphsBuffer[d],i.emittedStack[d]=!1}};return xg.EntryHandlerKeywordValue=t,xg}var Rg={},Cg={},f1;function wI(){if(f1)return Cg;f1=1,Object.defineProperty(Cg,"__esModule",{value:!0}),Cg.ContextTree=void 0;let e=class rR{constructor(){this.subTrees={}}getContext(r){if(r.length>0){const[i,...a]=r,l=this.subTrees[i];if(l){const s=l.getContext(a);if(s)return s.then(({context:u,depth:d})=>({context:u,depth:d+1}))}}return this.context?this.context.then(i=>({context:i,depth:0})):null}setContext(r,i){if(r.length===0)this.context=i;else{const[a,...l]=r;let s=this.subTrees[a];s||(s=this.subTrees[a]=new rR),s.setContext(l,i)}}removeContext(r){this.setContext(r,null)}};return Cg.ContextTree=e,Cg}var d1;function _I(){if(d1)return Rg;d1=1,Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.ParsingContext=void 0;const e=ja(),t=ym(),r=wI(),i=aR();let a=class iR{constructor(s){this.contextParser=new e.ContextParser({documentLoader:s.documentLoader,skipValidation:s.skipContextValidation}),this.streamingProfile=!!s.streamingProfile,this.baseIRI=s.baseIRI,this.produceGeneralizedRdf=!!s.produceGeneralizedRdf,this.allowSubjectList=!!s.allowSubjectList,this.processingMode=s.processingMode||i.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!s.strictValues,this.validateValueIndexes=!!s.validateValueIndexes,this.defaultGraph=s.defaultGraph,this.rdfDirection=s.rdfDirection,this.normalizeLanguageTags=s.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=s.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=s.rdfstar!==!1,this.rdfstarReverseInEmbedded=s.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new r.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=s.parser,s.context?(this.rootContext=this.parseContext(s.context),this.rootContext.then(u=>this.validateContext(u))):this.rootContext=Promise.resolve(new e.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(s,u,d){return this.contextParser.parse(s,{baseIRI:this.baseIRI,ignoreProtection:d,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:u,processingMode:this.activeProcessingMode})}validateContext(s){const u=s.getContextRaw()["@version"];if(u){if(this.activeProcessingMode&&u>this.activeProcessingMode)throw new t.ErrorCoded(`Unsupported JSON-LD version '${u}' under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&u<this.activeProcessingMode)throw new t.ErrorCoded(`Invalid JSON-LD version ${u} under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=u}}async getContext(s,u=1){const d=s;for(;typeof s[s.length-1]=="number";)s=s.slice(0,s.length-1);u&&(s=s.slice(0,-u));const c=await this.getContextPropagationAware(s);let g=c.context.getContextRaw();for(let w=c.depth;w<d.length-u;w++){const _=d[w],T=g[_];if(T&&typeof T=="object"&&"@context"in T){const x=(await this.parseContext(T,g,!0)).getContextRaw(),C=!(_ in x)||x[_]["@context"]["@propagate"];(C!==!1||w===d.length-1-u)&&(g=Object.assign({},x),delete g["@propagate"],g[_]=Object.assign({},g[_]),"@id"in T&&(g[_]["@id"]=T["@id"]),delete g[_]["@context"],C!==!1&&this.contextTree.setContext(d.slice(0,w+u),Promise.resolve(new e.JsonLdContextNormalized(g))))}}return new e.JsonLdContextNormalized(g)}async getContextPropagationAware(s){const u=s.length;let d=null,c;do{c=!1,d&&"@__propagateFallback"in d.context.getContextRaw()?d.context=new e.JsonLdContextNormalized(d.context.getContextRaw()["@__propagateFallback"]):(d&&(s=s.slice(0,d.depth-1)),d=await this.contextTree.getContext(s)||{context:await this.rootContext,depth:0});const p=s[s.length-1];if(p in d.context.getContextRaw()){const g=d.context.getContextRaw()[p];g&&typeof g=="object"&&"@context"in g&&(c=!0)}}while(d.depth>0&&d.context.getContextRaw()["@propagate"]===!1&&d.depth!==u&&!c);return d.depth===0&&d.context.getContextRaw()["@propagate"]===!1&&d.depth!==u&&(d.context=new e.JsonLdContextNormalized({})),d}async newOnValueJob(s,u,d,c){await this.parser.newOnValueJob(s,u,d,c)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const s of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(s.depth,s.keys),this.parser.flushStacks(s.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1}emitQuad(s,u){s===1&&(this.topLevelProperties=!0),this.parser.push(u)}emitError(s){this.parser.emit("error",s)}emitContext(s){this.parser.emit("context",s)}getUnidentifiedValueBufferSafe(s){let u=this.unidentifiedValuesBuffer[s];return u||(u=[],this.unidentifiedValuesBuffer[s]=u),u}getUnidentifiedGraphBufferSafe(s){let u=this.unidentifiedGraphsBuffer[s];return u||(u=[],this.unidentifiedGraphsBuffer[s]=u),u}getAnnotationsBufferSafe(s){let u=this.annotationsBuffer[s];return u||(u=[],this.annotationsBuffer[s]=u),u}getExpandOptions(){return iR.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(s,u){const d=this.idStack[s+u];if(d&&(this.idStack[s]=d,this.emittedStack[s]=!0,delete this.idStack[s+u]),this.pendingContainerFlushBuffers.length)for(const c of this.pendingContainerFlushBuffers)c.depth>=s+u&&(c.depth-=u,c.keys.splice(s,u));this.unidentifiedValuesBuffer[s+u]&&(this.unidentifiedValuesBuffer[s]=this.unidentifiedValuesBuffer[s+u],delete this.unidentifiedValuesBuffer[s+u]),this.annotationsBuffer[s+u-1]&&(this.annotationsBuffer[s-1]||(this.annotationsBuffer[s-1]=[]),this.annotationsBuffer[s-1]=[...this.annotationsBuffer[s-1],...this.annotationsBuffer[s+u-1]],delete this.annotationsBuffer[s+u-1])}};return a.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},Rg.ParsingContext=a,Rg}var Tg={},h1;function SI(){if(h1)return Tg;h1=1,Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.EntryHandlerKeywordAnnotation=void 0;const e=yc(),t=ja();let r=class extends e.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(a,l,s,u,d,c){(typeof d=="string"||typeof d=="object"&&d["@value"])&&a.emitError(new t.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(d)}`,t.ERROR_CODES.INVALID_ANNOTATION))}};return Tg.EntryHandlerKeywordAnnotation=r,Tg}var p1;function aR(){if(p1)return Jp;p1=1,Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.JsonLdParser=void 0;const e=zO(),t=ja(),r=Wx(),i=cI(),a=tR(),l=fI(),s=Fv(),u=dI(),d=hI(),c=pI(),p=gI(),g=mI(),w=yI(),_=vI(),T=bI(),x=_I(),C=Xf(),E=Jw(),I=SI();let O=class ph extends r.Transform{constructor(L){super({readableObjectMode:!0}),L=L||{},this.options=L,this.parsingContext=new x.ParsingContext(Object.assign({parser:this},L)),this.util=new C.Util({dataFactory:L.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new e,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(L,q,W,$){let Ae,K=["application/activity+json"];if($&&$.wellKnownMediaTypes&&(K=$.wellKnownMediaTypes),q!=="application/ld+json"&&!K.includes(q)){if(q!=="application/json"&&!q.endsWith("+json"))throw new t.ErrorCoded(`Unsupported JSON-LD media type ${q}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(W&&W.has("Link")&&W.forEach((pe,be)=>{if(be==="link"){const Ze=(0,E.parse)(pe);for(const it of Ze.get("rel","http://www.w3.org/ns/json-ld#context")){if(Ae)throw new t.ErrorCoded("Multiple JSON-LD context link headers were found on "+L,t.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);Ae=it.uri}}}),!Ae&&!$?.ignoreMissingContextLinkHeader)throw new t.ErrorCoded(`Missing context link header for media type ${q} on ${L}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let ae;if(W&&W.has("Content-Type")){const pe=W.get("Content-Type"),be=/; *profile=([^"]*)/.exec(pe);be&&be[1]==="http://www.w3.org/ns/json-ld#streaming"&&(ae=!0)}return new ph(Object.assign({baseIRI:L,context:Ae,streamingProfile:ae},$||{}))}import(L){if("pipe"in L){L.on("error",W=>q.emit("error",W));const q=L.pipe(new ph(this.options));return q}else{const q=new r.PassThrough({readableObjectMode:!0});L.on("error",$=>W.emit("error",$)),L.on("data",$=>q.push($)),L.on("end",()=>q.push(null));const W=q.pipe(new ph(this.options));return W}}_transform(L,q,W){this.jsonParser.write(L),this.lastOnValueJob.then(()=>W(),$=>W($))}async newOnValueJob(L,q,W,$){let Ae=!0;if($&&W<this.lastDepth){const Ze=this.parsingContext.listPointerStack[this.lastDepth];Ze&&(Ze.value&&this.push(this.util.dataFactory.quad(Ze.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),Ze.listId.listHead=!0,this.parsingContext.idStack[Ze.listRootDepth+1]=[Ze.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await a.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),Ae=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const K=await this.util.unaliasKeyword(L[W],L,W),ae=await this.util.unaliasKeywordParent(L,W);this.parsingContext.emittedStack[W]=!0;let pe=!0;t.Util.isValidKeyword(K)&&ae==="@reverse"&&K!=="@context"&&this.emit("error",new t.ErrorCoded(`Found the @id '${q}' inside an @reverse property`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let be=!1;this.parsingContext.validationStack.length>1&&(be=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let Ze=Math.max(1,this.parsingContext.validationStack.length-1);Ze<L.length-1;Ze++){const it=this.parsingContext.validationStack[Ze]||(this.parsingContext.validationStack[Ze]=await this.validateKey(L.slice(0,Ze+1),Ze,be));if(it.valid)!be&&it.property&&(be=!0);else{this.parsingContext.emittedStack[W]=!1,pe=!1;break}}if(await this.util.isLiteral(L,W)&&(pe=!1),pe)for(const Ze of ph.ENTRY_HANDLERS){const it=await Ze.test(this.parsingContext,this.util,K,L,W);if(it){await Ze.handle(this.parsingContext,this.util,K,L,q,W,it),Ze.isStackProcessor()&&(this.parsingContext.processingStack[W]=!0);break}}W===0&&Array.isArray(q)&&await this.util.validateValueIndexes(q),Ae&&W<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=W,this.lastKeys=L,this.parsingContext.unaliasedKeywordCacheStack.splice(W-1)}flushStacks(L){this.parsingContext.processingStack.splice(L,1),this.parsingContext.processingType.splice(L,1),this.parsingContext.emittedStack.splice(L,1),this.parsingContext.idStack.splice(L,1),this.parsingContext.graphStack.splice(L+1,1),this.parsingContext.graphContainerTermStack.splice(L,1),this.parsingContext.jsonLiteralStack.splice(L,1),this.parsingContext.validationStack.splice(L-1,2),this.parsingContext.literalStack.splice(L,this.parsingContext.literalStack.length-L),this.parsingContext.annotationsBuffer.splice(L,1)}async flushBuffer(L,q){let W=this.parsingContext.idStack[L];!!W||(W=this.parsingContext.idStack[L]=[this.util.dataFactory.blankNode()]);const Ae=this.parsingContext.unidentifiedValuesBuffer[L];if(Ae){for(const pe of W){const be=await this.util.getDepthOffsetGraph(L,q),Ze=this.parsingContext.graphStack[L]||be>=0?this.parsingContext.idStack[L-be-1]:[await this.util.getGraphContainerValue(q,L)];if(Ze)for(const it of Ze){this.parsingContext.emittedStack[L]=!0;for(const Re of Ae)this.util.emitQuadChecked(L,pe,Re.predicate,Re.object,it,Re.reverse,Re.isEmbedded)}else{const it=this.parsingContext.getUnidentifiedGraphBufferSafe(L-await this.util.getDepthOffsetGraph(L,q)-1);for(const Re of Ae)Re.reverse?it.push({object:pe,predicate:Re.predicate,subject:Re.object,isEmbedded:Re.isEmbedded}):it.push({object:Re.object,predicate:Re.predicate,subject:pe,isEmbedded:Re.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(L,1),this.parsingContext.literalStack.splice(L,1),this.parsingContext.jsonLiteralStack.splice(L,1)}const K=this.parsingContext.unidentifiedGraphsBuffer[L];if(K){for(const pe of W){const be=L===1&&pe.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():pe;this.parsingContext.emittedStack[L]=!0;for(const Ze of K)this.parsingContext.emitQuad(L,this.util.dataFactory.quad(Ze.subject,Ze.predicate,Ze.object,be))}this.parsingContext.unidentifiedGraphsBuffer.splice(L,1)}const ae=this.parsingContext.annotationsBuffer[L];if(ae){ae.length>0&&L===1&&this.parsingContext.emitError(new t.ErrorCoded("Annotations can not be made on top-level nodes",t.ERROR_CODES.INVALID_ANNOTATION));const pe=this.parsingContext.getAnnotationsBufferSafe(L-1);for(const be of ae)pe.push(be);delete this.parsingContext.annotationsBuffer[L]}}async validateKey(L,q,W){for(const $ of ph.ENTRY_HANDLERS)if(await $.validate(this.parsingContext,this.util,L,q,W))return{valid:!0,property:W||$.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=L=>{const q=this.jsonParser.stack.length,W=new Array(q+1).fill(0).map(($,Ae)=>Ae===q?this.jsonParser.key:this.jsonParser.stack[Ae].key);if(!this.isParsingContextInner(q)){const $=()=>this.newOnValueJob(W,L,q,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(W.slice(0,-1)))if(W[q]==="@context"){let Ae=this.contextJobs[q];Ae||(Ae=this.contextJobs[q]=[]),Ae.push($)}else this.contextAwaitingJobs.push({job:$,keys:W,depth:q});else this.lastOnValueJob=this.lastOnValueJob.then($);!this.parsingContext.streamingProfile&&q===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=L=>{this.emit("error",L)}}isParsingContextInner(L){for(let q=L;q>0;q--)if(this.jsonParser.stack[q-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const q of this.contextJobs)if(q)for(const W of q)await W();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const L=[];for(const q of this.contextAwaitingJobs)await this.util.unaliasKeyword(q.keys[q.depth],q.keys,q.depth,!0)==="@type"||typeof q.keys[q.depth]=="number"&&await this.util.unaliasKeyword(q.keys[q.depth-1],q.keys,q.depth-1,!0)==="@type"?this.typeJobs.push({job:q.job,keys:q.keys.slice(0,q.keys.length-1)}):L.push(q);for(const q of L){if(this.typeJobs.length>0){const W=[],$=[];for(let ae=0;ae<this.typeJobs.length;ae++){const pe=this.typeJobs[ae];C.Util.isPrefixArray(pe.keys,q.keys)&&(W.push(pe),$.push(ae))}const Ae=W.sort((ae,pe)=>ae.keys.length-pe.keys.length);for(const ae of Ae)await ae.job();const K=$.sort().reverse();for(const ae of K)this.typeJobs.splice(ae,1)}await q.job()}}};return O.DEFAULT_PROCESSING_MODE="1.1",O.ENTRY_HANDLERS=[new i.EntryHandlerArrayValue,new u.EntryHandlerKeywordContext,new c.EntryHandlerKeywordId,new p.EntryHandlerKeywordIncluded,new d.EntryHandlerKeywordGraph,new g.EntryHandlerKeywordNest,new w.EntryHandlerKeywordType,new T.EntryHandlerKeywordValue,new I.EntryHandlerKeywordAnnotation,new a.EntryHandlerContainer,new _.EntryHandlerKeywordUnknownFallback,new s.EntryHandlerPredicate,new l.EntryHandlerInvalidFallback],Jp.JsonLdParser=O,Jp}var g1;function EI(){return g1||(g1=1,function(e){var t=Df&&Df.__createBinding||(Object.create?function(i,a,l,s){s===void 0&&(s=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(i,s,u)}:function(i,a,l,s){s===void 0&&(s=l),i[s]=a[l]}),r=Df&&Df.__exportStar||function(i,a){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,i,l)};Object.defineProperty(e,"__esModule",{value:!0}),r(aR(),e)}(Df)),Df}var rc={},m1;function t_(){if(m1)return rc;m1=1,Object.defineProperty(rc,"__esModule",{value:!0});var e=globalThis.fetch;const{fetch:t,Response:r,Request:i,Headers:a}=globalThis;return rc.Headers=a,rc.Request=i,rc.Response=r,rc.default=e,rc.fetch=t,rc}var AI=el();const Og="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Ig="http://www.w3.org/2001/XMLSchema#",Oy="http://www.w3.org/2000/10/swap/",ua={xsd:{decimal:`${Ig}decimal`,boolean:`${Ig}boolean`,double:`${Ig}double`,integer:`${Ig}integer`,string:`${Ig}string`},rdf:{type:`${Og}type`,nil:`${Og}nil`,first:`${Og}first`,rest:`${Og}rest`,langString:`${Og}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${Oy}reify#forSome`,forAll:`${Oy}reify#forAll`},log:{implies:`${Oy}log#implies`,isImpliedBy:`${Oy}log#isImpliedBy`}},{xsd:Iy}=ua,xI=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,y1={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},RI=/[\x00-\x20<>\\"\{\}\|\^\`]/,CI={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},TI=/$0^/;class n_{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._isImpliedBy=t.isImpliedBy,this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const r in this)!(r in CI)&&this[r]instanceof RegExp&&(this[r]=TI)}else this._n3Mode=t.n3!==!1;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,r){let i=this._input,a=i.length;for(;;){let u,d;for(;u=this._newline.exec(i);)this.comments&&(d=this._comment.exec(u[0]))&&l("comment",d[1],"",this._line,u[0].length),i=i.substr(u[0].length,i.length),a=i.length,this._line++;if(!u&&(u=this._whitespace.exec(i))&&(i=i.substr(u[0].length,i.length)),this._endOfFile.test(i))return r&&(this.comments&&(d=this._comment.exec(i))&&l("comment",d[1],"",this._line,i.length),i=null,l("eof","","",this._line,0)),this._input=i;const c=this._line,p=i[0];let g="",w="",_="",T=null,x=0,C=!1;switch(p){case"^":if(i.length<3)break;if(i[1]==="^"){if(this._previousMarker="^^",i=i.substr(2),i[0]!=="<"){C=!0;break}}else{this._n3Mode&&(x=1,g="^");break}case"<":if(T=this._unescapedIri.exec(i))g="IRI",w=T[1];else if(T=this._iri.exec(i)){if(w=this._unescape(T[1]),w===null||RI.test(w))return s(this);g="IRI"}else i.length>1&&i[1]==="<"?(g="<<",x=2):this._n3Mode&&i.length>1&&i[1]==="="&&(x=2,this._isImpliedBy?(g="abbreviation",w="<"):(g="inverse",w=">"));break;case">":i.length>1&&i[1]===">"&&(g=">>",x=2);break;case"_":((T=this._blank.exec(i))||r&&(T=this._blank.exec(`${i} `)))&&(g="blank",_="_",w=T[1]);break;case'"':if(T=this._simpleQuotedString.exec(i))w=T[1];else if({value:w,matchLength:x}=this._parseLiteral(i),w===null)return s(this);(T!==null||x!==0)&&(g="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(T=this._simpleApostropheString.exec(i))w=T[1];else if({value:w,matchLength:x}=this._parseLiteral(i),w===null)return s(this);(T!==null||x!==0)&&(g="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(T=this._variable.exec(i))&&(g="var",w=T[0]);break;case"@":this._previousMarker==="literal"&&(T=this._langcode.exec(i))?(g="langcode",w=T[1]):(T=this._keyword.exec(i))&&(g=T[0]);break;case".":if(i.length===1?r:i[1]<"0"||i[1]>"9"){g=".",x=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(T=this._number.exec(i)||r&&(T=this._number.exec(`${i} `)))&&(g="literal",w=T[0],_=typeof T[1]=="string"?Iy.double:typeof T[2]=="string"?Iy.decimal:Iy.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(T=this._sparqlKeyword.exec(i))?g=T[0].toUpperCase():C=!0;break;case"f":case"t":(T=this._boolean.exec(i))?(g="literal",w=T[0],_=Iy.boolean):C=!0;break;case"a":(T=this._shortPredicates.exec(i))?(g="abbreviation",w="a"):C=!0;break;case"=":this._n3Mode&&i.length>1&&(g="abbreviation",i[1]!==">"?(x=1,w="="):(x=2,w=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(x=1,g=p);break;case"{":!this._lineMode&&i.length>=2&&(i[1]==="|"?(g="{|",x=2):(g=p,x=1));break;case"|":i.length>=2&&i[1]==="}"&&(g="|}",x=2);break;default:C=!0}if(C&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(T=this._prefix.exec(i))?(g="prefix",w=T[1]||""):((T=this._prefixed.exec(i))||r&&(T=this._prefixed.exec(`${i} `)))&&(g="prefixed",_=T[1]||"",w=this._unescape(T[2]))),this._previousMarker==="^^")switch(g){case"prefixed":g="type";break;case"IRI":g="typeIRI";break;default:g=""}if(!g)return r||!/^'''|^"""/.test(i)&&/\n|\r/.test(i)?s(this):this._input=i;const E=x||T[0].length,I=l(g,w,_,c,E);this.previousToken=I,this._previousMarker=g,i=i.substr(E,i.length)}function l(u,d,c,p,g){const w=i?a-i.length:a,_=w+g,T={type:u,value:d,prefix:c,line:p,start:w,end:_};return t(null,T),T}function s(u){t(u._syntaxError(/^\S*/.exec(i)[0]))}}_unescape(t){let r=!1;const i=t.replace(xI,(a,l,s,u)=>{if(typeof l=="string")return String.fromCharCode(Number.parseInt(l,16));if(typeof s=="string"){let d=Number.parseInt(s,16);return d<=65535?String.fromCharCode(Number.parseInt(s,16)):String.fromCharCode(55296+((d-=65536)>>10),56320+(d&1023))}return u in y1?y1[u]:(r=!0,"")});return r?null:i}_parseLiteral(t){if(t.length>=3){const r=t.match(/^(?:"""|"|'''|'|)/)[0],i=r.length;let a=Math.max(this._literalClosingPos,i);for(;(a=t.indexOf(r,a))>0;){let l=0;for(;t[a-l-1]==="\\";)l++;if(l%2===0){const s=t.substring(i,a),u=s.split(/\r\n|\r|\n/).length-1,d=a+i;if(i===1&&u!==0||i===3&&this._lineMode)break;return this._line+=u,{value:this._unescape(s),matchLength:d}}a++}this._literalClosingPos=t.length-i+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const r=new Error(`Unexpected "${t}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,r){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof r=="function")queueMicrotask(()=>this._tokenizeToEnd(r,!0));else{const i=[];let a;if(this._tokenizeToEnd((l,s)=>l?a=l:i.push(s),!0),a)throw a;return i}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",i=>{this._input!==null&&i.length!==0&&(this._pendingBuffer&&(i=AI.Buffer.concat([this._pendingBuffer,i]),this._pendingBuffer=null),i[i.length-1]&128?this._pendingBuffer=i:(typeof this._input>"u"?this._input=this._readStartingBom(typeof i=="string"?i:i.toString()):this._input+=i,this._tokenizeToEnd(r,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),t.on("error",r)}}const{rdf:OI,xsd:Hf}=ua;let Eh,II=0;const ms={namedNode:oR,blankNode:sR,variable:uR,literal:lR,defaultGraph:PI,quad:ow,triple:ow,fromTerm:Yg,fromQuad:cR};class To{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof To?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class Dv extends To{get termType(){return"NamedNode"}}class hc extends To{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let r=t.lastIndexOf('"')+1;return r<t.length&&t[r++]==="@"?t.substr(r).toLowerCase():""}get datatype(){return new Dv(this.datatypeString)}get datatypeString(){const t=this.id,r=t.lastIndexOf('"')+1,i=r<t.length?t[r]:"";return i==="^"?t.substr(r+2):i!=="@"?Hf.string:OI.langString}equals(t){return t instanceof hc?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class r_ extends To{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class i_ extends To{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class a_ extends To{constructor(){return super(""),Eh||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}}Eh=new a_;function Kf(e,t,r){if(t=t||ms,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===ms)return new hc(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));const i=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,i-1),e[i+1]==="@"?e.substr(i+2):t.namedNode(e.substr(i+3)));case"[":e=JSON.parse(e);break;default:if(!r||!Array.isArray(e))return t.namedNode(e)}return t.quad(Kf(e[0],t,!0),Kf(e[1],t,!0),Kf(e[2],t,!0),e[3]&&Kf(e[3],t,!0))}function cc(e,t){if(typeof e=="string")return e;if(e instanceof To&&e.termType!=="Quad")return e.id;if(!e)return Eh.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==Hf.string?`^^${e.datatype.value}`:""}`;case"Quad":const r=[cc(e.subject,!0),cc(e.predicate,!0),cc(e.object,!0)];return e.graph&&e.graph.termType!=="DefaultGraph"&&r.push(cc(e.graph,!0)),t?r:JSON.stringify(r);default:throw new Error(`Unexpected termType: ${e.termType}`)}}class yh extends To{constructor(t,r,i,a){super(""),this._subject=t,this._predicate=r,this._object=i,this._graph=a||Eh}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}}function oR(e){return new Dv(e)}function sR(e){return new r_(e||`n3-${II++}`)}function lR(e,t){if(typeof t=="string")return new hc(`"${e}"@${t.toLowerCase()}`);let r=t?t.value:"";return r===""&&(typeof e=="boolean"?r=Hf.boolean:typeof e=="number"&&(Number.isFinite(e)?r=Number.isInteger(e)?Hf.integer:Hf.double:(r=Hf.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),r===""||r===Hf.string?new hc(`"${e}"`):new hc(`"${e}"^^${r}`)}function uR(e){return new i_(e)}function PI(){return Eh}function ow(e,t,r,i){return new yh(e,t,r,i)}function Yg(e){if(e instanceof To)return e;switch(e.termType){case"NamedNode":return oR(e.value);case"BlankNode":return sR(e.value);case"Variable":return uR(e.value);case"DefaultGraph":return Eh;case"Literal":return lR(e.value,e.language||e.datatype);case"Quad":return cR(e);default:throw new Error(`Unexpected termType: ${e.termType}`)}}function cR(e){if(e instanceof yh)return e;if(e.termType!=="Quad")throw new Error(`Unexpected termType: ${e.termType}`);return ow(Yg(e.subject),Yg(e.predicate),Yg(e.object),Yg(e.graph))}let v1=0;class Mv{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&fR(this,t.factory);const r=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",i=/turtle/.test(r),a=/trig/.test(r),l=/triple/.test(r),s=/quad/.test(r),u=this._n3Mode=/n3/.test(r),d=l||s;(this._supportsNamedGraphs=!(i||u))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(i||a||l||u),this._isImpliedBy=t.isImpliedBy,this._supportsRDFStar=r===""||/star|\*$/.test(r),d&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new n_({lineMode:d,n3:u,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){v1=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const r=t.indexOf("#");r>=0&&(t=t.substr(0,r)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,r,i,a,l){const s=this._n3Mode;this._contextStack.push({type:t,subject:i,predicate:a,object:l,graph:r,inverse:s?this._inversePredicate:!1,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,r){const i=this._contextStack.pop();if(!i||i.type!==t)return this._error(`Unexpected ${r.type}`,r);this._subject=i.subject,this._predicate=i.predicate,this._object=i.object,this._graph=i.graph,this._n3Mode&&(this._inversePredicate=i.inverse,this._prefixes._=i.blankPrefix,this._quantified=i.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,r){let i;switch(t.type){case"IRI":case"typeIRI":const a=this._resolveIRI(t.value);if(a===null)return this._error("Invalid IRI",t);i=this._factory.namedNode(a);break;case"type":case"prefixed":const l=this._prefixes[t.prefix];if(l===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);i=this._factory.namedNode(l+t.value);break;case"blank":i=this._factory.blankNode(this._prefixes[t.prefix]+t.value);break;case"var":i=this._factory.variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!r&&this._n3Mode&&i.id in this._quantified&&(i=this._quantified[i.id]),i}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const r=t.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,t):(this._subject=null,r==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const r=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let r=null,i=null,a=this._readListItem;const l=this._subject,s=this._contextStack,u=s[s.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,i=this._factory.blankNode(),this.RDF_FIRST,this._subject=r=this._factory.blankNode()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,i=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),s.length!==0&&s[s.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;i=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,a=this._readListItemDataTypeOrLang):(r=this._factory.literal(t.value,this._factory.namedNode(t.prefix)),a=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((r=this._readEntity(t))===void 0)return}if(i===null&&(this._subject=i=this._factory.blankNode()),l===null?u.predicate===null?u.subject=i:u.object=i:this._emit(l,this.RDF_REST,i,this._graph),r!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,i,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(i,this.RDF_FIRST,r,this._graph)}return a}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let r=this._factory.literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const i=this._readEntity(t);if(i===void 0)return;r=this._factory.literal(this._literalValue,i),t=null;break;case"langcode":r=this._factory.literal(this._literalValue,t.value),t=null;break}return{token:t,literal:r}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,r){const i=this._completeLiteral(t);if(i)return this._object=i.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),i.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(i.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let r,i=this._graph;const a=this._subject,l=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,l&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);const s=this._predicate,u=this._object;this._subject=this._factory.quad(a,s,u,this.DEFAULTGRAPH),r=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,r=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(i=this._readEntity(t))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(a!==null){const s=this._predicate,u=this._object;l?this._emit(u,s,a,i):this._emit(a,s,u,i)}return r}_readBlankNodePunctuation(t){let r;switch(t.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const r=this._readEntity(t);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(t){const r=t.type==="IRI"&&this._resolveIRI(t.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let r;switch(t.type){case"IRI":case"prefixed":if((r=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const r=this._contextStack,i=r.length&&r[r.length-1];if(i&&i.type==="item"){const a=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,a,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let r,i;const a=this._factory.blankNode();if((i=this._readEntity(t))!==void 0)return this._predicate===null?(r=this._subject,this._subject=a):(r=this._object,this._object=a),this._emit(r,i,a,this._graph),this._readPath}_readBackwardPath(t){const r=this._factory.blankNode();let i,a;if((i=this._readEntity(t))!==void 0)return this._predicate===null?(a=this._subject,this._subject=r):(a=this._object,this._object=r),this._emit(r,i,a,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const r=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,r,i,a){this._callback(null,this._factory.quad(t,r,i,a||this.DEFAULTGRAPH))}_error(t,r){const i=new Error(`${t} on line ${r.line}.`);i.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(i),this._callback=Py}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const r=t.length;let i="",a=-1,l=-1,s=0,u="/";for(;a<r;){switch(u){case":":if(l<0&&t[++a]==="/"&&t[++a]==="/")for(;(l=a+1)<r&&t[l]!=="/";)a=l;break;case"?":case"#":a=r;break;case"/":if(t[a+1]===".")switch(u=t[++a+1],u){case"/":i+=t.substring(s,a-1),s=a+1;break;case void 0:case"?":case"#":return i+t.substring(s,a)+t.substr(a+1);case".":if(u=t[++a+1],u===void 0||u==="/"||u==="?"||u==="#"){if(i+=t.substring(s,a-2),(s=i.lastIndexOf("/"))>=l&&(i=i.substr(0,s)),u!=="/")return`${i}/${t.substr(a+1)}`;s=a+1}}}u=t[++a]}return i+t.substring(s)}parse(t,r,i){let a,l,s;if(r&&(r.onQuad||r.onPrefix||r.onComment)?(a=r.onQuad,l=r.onPrefix,s=r.onComment):(a=r,l=i),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${v1++}_`,this._prefixCallback=l||Py,this._inversePredicate=!1,this._quantified=Object.create(null),!a){const d=[];let c;if(this._callback=(p,g)=>{p?c=p:g&&d.push(g)},this._lexer.tokenize(t).every(p=>this._readCallback=this._readCallback(p)),c)throw c;return d}let u=(d,c)=>{d!==null?(this._callback(d),this._callback=Py):this._readCallback&&(this._readCallback=this._readCallback(c))};s&&(this._lexer.comments=!0,u=(d,c)=>{d!==null?(this._callback(d),this._callback=Py):this._readCallback&&(c.type==="comment"?s(c.value):this._readCallback=this._readCallback(c))}),this._callback=a,this._lexer.tokenize(t,u)}}function Py(){}function fR(e,t){e._factory=t,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=t.namedNode(ua.rdf.first),e.RDF_REST=t.namedNode(ua.rdf.rest),e.RDF_NIL=t.namedNode(ua.rdf.nil),e.N3_FORALL=t.namedNode(ua.r.forAll),e.N3_FORSOME=t.namedNode(ua.r.forSome),e.ABBREVIATIONS={a:t.namedNode(ua.rdf.type),"=":t.namedNode(ua.owl.sameAs),">":t.namedNode(ua.log.implies),"<":t.namedNode(ua.log.isImpliedBy)},e.QUANTIFIERS_GRAPH=t.namedNode("urn:n3:quantifiers")}fR(Mv.prototype,ms);function NI(e){return!!e&&e.termType==="NamedNode"}function FI(e){return!!e&&e.termType==="BlankNode"}function DI(e){return!!e&&e.termType==="Literal"}function MI(e){return!!e&&e.termType==="Variable"}function LI(e){return!!e&&e.termType==="Quad"}function am(e){return!!e&&e.termType==="DefaultGraph"}function UI(e){return am(e.graph)}function kI(e,t){return dR({"":e.value||e},t)("")}function dR(e,t){const r=Object.create(null);for(const a in e)i(a,e[a]);t=t||ms;function i(a,l){if(typeof l=="string"){const s=Object.create(null);r[a]=u=>s[u]||(s[u]=t.namedNode(l+u))}else if(!(a in r))throw new Error(`Unknown prefix: ${a}`);return r[a]}return i}const hR=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:UI,isBlankNode:FI,isDefaultGraph:am,isLiteral:DI,isNamedNode:NI,isQuad:LI,isVariable:MI,prefix:kI,prefixes:dR},Symbol.toStringTag,{value:"Module"}));function Wy(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}const jI=/^:?[^:?#]*(?:[?#]|$)|^file:|^[^:]*:\/*[^?#]+?\/(?:\.\.?(?:\/|$)|\/)/i,BI=/^(?:(?:[^/?#]{3,}|\.?[^/?#.]\.?)(?:\/[^/?#]{3,}|\.?[^/?#.]\.?)*\/?)?(?:[?#]|$)/,b1="./",HI="../",pb="?",w1="#";class bm{constructor(t){this.base=t,this._baseLength=0,this._baseMatcher=null,this._pathReplacements=new Array(t.length+1)}static supports(t){return!jI.test(t)}_getBaseMatcher(){if(this._baseMatcher)return this._baseMatcher;if(!bm.supports(this.base))return this._baseMatcher=/.^/;const t=/^[^:]*:\/*/.exec(this.base)[0],r=["^",Wy(t)],i=[],a=[],l=/[^/?#]*([/?#])/y;let s,u=0,d=0,c=l.lastIndex=t.length;for(;!u&&!d&&(s=l.exec(this.base));)s[1]===w1?d=l.lastIndex-1:(r.push(Wy(s[0]),"(?:"),i.push(")?"),s[1]!==pb?a.push(c=l.lastIndex):(u=c=l.lastIndex,d=this.base.indexOf(w1,u),this._pathReplacements[u]=pb));for(let p=0;p<a.length;p++)this._pathReplacements[a[p]]=HI.repeat(a.length-p-1);return this._pathReplacements[a[a.length-1]]=b1,this._baseLength=d>0?d:this.base.length,r.push(Wy(this.base.substring(c,this._baseLength)),u?"(?:#|$)":"(?:[?#]|$)"),this._baseMatcher=new RegExp([...r,...i].join(""))}toRelative(t){const r=this._getBaseMatcher().exec(t);if(!r)return t;const i=r[0].length;if(i===this._baseLength&&i===t.length)return"";const a=this._pathReplacements[i];if(a){const l=t.substring(i);return a!==pb&&!BI.test(l)?t:a===b1&&/^[^?#]/.test(l)?l:a+l}return t.substring(i-1)}}const Pg=ms.defaultGraph(),{rdf:VI,xsd:lh}=ua,_1=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,S1=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,$I={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class Ng extends To{equals(t){return t===this}}class wm{constructor(t,r){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(r=t,t=null),r=r||{},this._lists=r.lists,t)this._outputStream=t,this._endStream=r.end===void 0?!0:!!r.end;else{let i="";this._outputStream={write(a,l,s){i+=a,s&&s()},end:a=>{a&&a(null,i)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=Pg,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes),r.baseIRI&&(this._baseIri=new bm(r.baseIRI)))}get _inDefaultGraph(){return Pg.equals(this._graph)}_write(t,r){this._outputStream.write(t,"utf8",r)}_writeQuad(t,r,i,a,l){try{a.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(Pg.equals(a)?"":`${this._encodeIriOrBlank(a)} {
`)),this._graph=a,this._subject=null),t.equals(this._subject)?r.equals(this._predicate)?this._write(`, ${this._encodeObject(i)}`,l):this._write(`;
    ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(i)}`,l):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(i)}`,l)}catch(s){l&&l(s)}}_writeQuadLine(t,r,i,a,l){delete this._prefixMatch,this._write(this.quadToString(t,r,i,a),l)}quadToString(t,r,i,a){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(r)} ${this._encodeObject(i)}${a&&a.value?` ${this._encodeIriOrBlank(a)} .
`:` .
`}`}quadsToString(t){let r="";for(const i of t)r+=this.quadToString(i.subject,i.predicate,i.object,i.graph);return r}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let r=t.value;this._baseIri&&(r=this._baseIri.toRelative(r)),_1.test(r)&&(r=r.replace(S1,E1));const i=this._prefixRegex.exec(r);return i?i[1]?this._prefixIRIs[i[1]]+i[2]:r:`<${r}>`}_encodeLiteral(t){let r=t.value;if(_1.test(r)&&(r=r.replace(S1,E1)),t.language)return`"${r}"@${t.language}`;if(this._lineMode){if(t.datatype.value===lh.string)return`"${r}"`}else switch(t.datatype.value){case lh.string:return`"${r}"`;case lh.boolean:if(r==="true"||r==="false")return r;break;case lh.integer:if(/^[+-]?\d+$/.test(r))return r;break;case lh.decimal:if(/^[+-]?\d*\.\d+$/.test(r))return r;break;case lh.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(r))return r;break}return`"${r}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===VI.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:r,object:i,graph:a}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(r)} ${this._encodeObject(i)}${am(a)?"":` ${this._encodeIriOrBlank(a)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,r,i,a,l){i===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,r):typeof a=="function"?this._writeQuad(t,r,i,Pg,a):this._writeQuad(t,r,i,a||Pg,l)}addQuads(t){for(let r=0;r<t.length;r++)this.addQuad(t[r])}addPrefix(t,r,i){const a={};a[t]=r,this.addPrefixes(a,i)}addPrefixes(t,r){if(!this._prefixIRIs)return r&&r();let i=!1;for(let a in t){let l=t[a];typeof l!="string"&&(l=l.value),i=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[l]=a+=":",this._write(`@prefix ${a} <${l}>.
`)}if(i){let a="",l="";for(const s in this._prefixIRIs)a+=a?`|${s}`:s,l+=(l?"|":"")+this._prefixIRIs[s];a=Wy(a),this._prefixRegex=new RegExp(`^(?:${l})[^/]*$|^(${a})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(i?`
`:"",r)}blank(t,r){let i=t,a,l;switch(t===void 0?i=[]:t.termType?i=[{predicate:t,object:r}]:"length"in t||(i=[t]),l=i.length){case 0:return new Ng("[]");case 1:if(a=i[0],!(a.object instanceof Ng))return new Ng(`[ ${this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)} ]`);default:let s="[";for(let u=0;u<l;u++)a=i[u],a.predicate.equals(t)?s+=`, ${this._encodeObject(a.object)}`:(s+=`${(u?`;
  `:`
  `)+this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)}`,t=a.predicate);return new Ng(`${s}
]`)}}list(t){const r=t&&t.length||0,i=new Array(r);for(let a=0;a<r;a++)i[a]=this._encodeObject(t[a]);return new Ng(`(${i.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let r=t&&((i,a)=>{r=null,t(i,a)});if(this._endStream)try{return this._outputStream.end(r)}catch{}r&&r()}}function E1(e){let t=$I[e];return t===void 0&&(e.length===1?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}var Lv=Wx();const gb=Symbol("iter");function em(e,t,r=4){if(r===0)return Object.assign(e,t);for(const i in t)e[i]=em(e[i]||Object.create(null),t[i],r-1);return e}function pR(e,t,r=4){let i=!1;for(const a in e)if(a in t){const l=r===0?null:pR(e[a],t[a],r-1);if(l!==!1)i=i||Object.create(null),i[a]=l;else if(r===3)return!1}return i}function gR(e,t,r=4){let i=!1;for(const a in e)if(!(a in t))i=i||Object.create(null),i[a]=r===0?null:em({},e[a],r-1);else if(r!==0){const l=gR(e[a],t[a],r-1);if(l!==!1)i=i||Object.create(null),i[a]=l;else if(r===3)return!1}return i}class o_{constructor(t={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=t.factory||ms}_termFromId(t){if(t[0]==="."){const r=this._entities,i=t.split(".");return this._factory.quad(this._termFromId(r[i[1]]),this._termFromId(r[i[2]]),this._termFromId(r[i[3]]),i[4]&&this._termFromId(r[i[4]]))}return Kf(t,this._factory)}_termToNumericId(t){if(t.termType==="Quad"){const r=this._termToNumericId(t.subject),i=this._termToNumericId(t.predicate),a=this._termToNumericId(t.object);let l;return r&&i&&a&&(am(t.graph)||(l=this._termToNumericId(t.graph)))&&this._ids[l?`.${r}.${i}.${a}.${l}`:`.${r}.${i}.${a}`]}return this._ids[cc(t)]}_termToNewNumericId(t){const r=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${am(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:cc(t);return this._ids[r]||(this._ids[this._entities[++this._id]=r]=this._id)}createBlankNode(t){let r,i;if(t)for(r=t=`_:${t}`,i=1;this._ids[r];)r=t+i++;else do r=`_:b${this._blankNodeIndex++}`;while(this._ids[r]);return this._ids[r]=++this._id,this._entities[this._id]=r,this._factory.blankNode(r.substr(2))}}class Ea{constructor(t,r){this._size=0,this._graphs=Object.create(null),!r&&t&&!t[0]&&typeof t.match!="function"&&(r=t,t=null),r=r||{},this._factory=r.factory||ms,this._entityIndex=r.entityIndex||new o_({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),t&&this.addAll(t)}get size(){let t=this._size;if(t!==null)return t;t=0;const r=this._graphs;let i,a;for(const l in r)for(const s in i=r[l].subjects)for(const u in a=i[s])t+=Object.keys(a[u]).length;return this._size=t}_addToIndex(t,r,i,a){const l=t[r]||(t[r]={}),s=l[i]||(l[i]={}),u=a in s;return u||(s[a]=null),!u}_removeFromIndex(t,r,i,a){const l=t[r],s=l[i];delete s[a];for(const u in s)return;delete l[i];for(const u in l)return;delete t[r]}*_findInIndex(t,r,i,a,l,s,u,d){let c,p,g;const w=this._entities,_=this._termFromId(w[d]),T={subject:null,predicate:null,object:null};r&&((c=t,t={})[r]=c[r]);for(const x in t)if(p=t[x]){T[l]=this._termFromId(w[x]),i&&((c=p,p={})[i]=c[i]);for(const C in p)if(g=p[C]){T[s]=this._termFromId(w[C]);const E=a?a in g?[a]:[]:Object.keys(g);for(let I=0;I<E.length;I++)T[u]=this._termFromId(w[E[I]]),yield this._factory.quad(T.subject,T.predicate,T.object,_)}}}_loop(t,r){for(const i in t)r(i)}_loopByKey0(t,r,i){let a,l;if(a=t[r])for(l in a)i(l)}_loopByKey1(t,r,i){let a,l;for(a in t)l=t[a],l[r]&&i(a)}_loopBy2Keys(t,r,i,a){let l,s,u;if((l=t[r])&&(s=l[i]))for(u in s)a(u)}_countInIndex(t,r,i,a){let l=0,s,u,d;r&&((s=t,t={})[r]=s[r]);for(const c in t)if(u=t[c]){i&&((s=u,u={})[i]=s[i]);for(const p in u)(d=u[p])&&(a?a in d&&l++:l+=Object.keys(d).length)}return l}_getGraphs(t){return t=t===""?1:t&&(this._termToNumericId(t)||-1),typeof t!="number"?this._graphs:{[t]:this._graphs[t]}}_uniqueEntities(t){const r=Object.create(null);return i=>{i in r||(r[i]=!0,t(this._termFromId(this._entities[i],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,r,i,a){r||(a=t.graph,i=t.object,r=t.predicate,t=t.subject),a=a?this._termToNewNumericId(a):1;let l=this._graphs[a];return l||(l=this._graphs[a]={subjects:{},predicates:{},objects:{}},Object.freeze(l)),t=this._termToNewNumericId(t),r=this._termToNewNumericId(r),i=this._termToNewNumericId(i),this._addToIndex(l.subjects,t,r,i)?(this._addToIndex(l.predicates,r,i,t),this._addToIndex(l.objects,i,t,r),this._size=null,!0):!1}addQuads(t){for(let r=0;r<t.length;r++)this.addQuad(t[r])}delete(t){return this.removeQuad(t),this}has(t,r,i,a){return t&&t.subject&&({subject:t,predicate:r,object:i,graph:a}=t),!this.readQuads(t,r,i,a).next().done}import(t){return t.on("data",r=>{this.addQuad(r)}),t}removeQuad(t,r,i,a){r||({subject:t,predicate:r,object:i,graph:a}=t),a=a?this._termToNumericId(a):1;const l=this._graphs;let s,u,d;if(!(t=t&&this._termToNumericId(t))||!(r=r&&this._termToNumericId(r))||!(i=i&&this._termToNumericId(i))||!(s=l[a])||!(u=s.subjects[t])||!(d=u[r])||!(i in d))return!1;this._removeFromIndex(s.subjects,t,r,i),this._removeFromIndex(s.predicates,r,i,t),this._removeFromIndex(s.objects,i,t,r),this._size!==null&&this._size--;for(t in s.subjects)return!0;return delete l[a],!0}removeQuads(t){for(let r=0;r<t.length;r++)this.removeQuad(t[r])}remove(t){return t.on("data",r=>{this.removeQuad(r)}),t}removeMatches(t,r,i,a){const l=new Lv.Readable({objectMode:!0}),s=this.readQuads(t,r,i,a);return l._read=u=>{for(;--u>=0;){const{done:d,value:c}=s.next();if(d){l.push(null);return}l.push(c)}},this.remove(l)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,r,i,a){return[...this.readQuads(t,r,i,a)]}*readQuads(t,r,i,a){const l=this._getGraphs(a);let s,u,d,c;if(!(t&&!(u=this._termToNumericId(t))||r&&!(d=this._termToNumericId(r))||i&&!(c=this._termToNumericId(i))))for(const p in l)(s=l[p])&&(u?c?yield*this._findInIndex(s.objects,c,u,d,"object","subject","predicate",p):yield*this._findInIndex(s.subjects,u,d,null,"subject","predicate","object",p):d?yield*this._findInIndex(s.predicates,d,c,null,"predicate","object","subject",p):c?yield*this._findInIndex(s.objects,c,null,null,"object","subject","predicate",p):yield*this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",p))}match(t,r,i,a){return new lc(this,t,r,i,a,{entityIndex:this._entityIndex})}countQuads(t,r,i,a){const l=this._getGraphs(a);let s=0,u,d,c,p;if(t&&!(d=this._termToNumericId(t))||r&&!(c=this._termToNumericId(r))||i&&!(p=this._termToNumericId(i)))return 0;for(const g in l)(u=l[g])&&(t?i?s+=this._countInIndex(u.objects,p,d,c):s+=this._countInIndex(u.subjects,d,c,p):r?s+=this._countInIndex(u.predicates,c,p,d):s+=this._countInIndex(u.objects,p,d,c));return s}forEach(t,r,i,a,l){this.some(s=>(t(s,this),!1),r,i,a,l)}every(t,r,i,a,l){return!this.some(s=>!t(s,this),r,i,a,l)}some(t,r,i,a,l){for(const s of this.readQuads(r,i,a,l))if(t(s,this))return!0;return!1}getSubjects(t,r,i){const a=[];return this.forSubjects(l=>{a.push(l)},t,r,i),a}forSubjects(t,r,i,a){const l=this._getGraphs(a);let s,u,d;if(t=this._uniqueEntities(t),!(r&&!(u=this._termToNumericId(r))||i&&!(d=this._termToNumericId(i))))for(a in l)(s=l[a])&&(u?d?this._loopBy2Keys(s.predicates,u,d,t):this._loopByKey1(s.subjects,u,t):d?this._loopByKey0(s.objects,d,t):this._loop(s.subjects,t))}getPredicates(t,r,i){const a=[];return this.forPredicates(l=>{a.push(l)},t,r,i),a}forPredicates(t,r,i,a){const l=this._getGraphs(a);let s,u,d;if(t=this._uniqueEntities(t),!(r&&!(u=this._termToNumericId(r))||i&&!(d=this._termToNumericId(i))))for(a in l)(s=l[a])&&(u?d?this._loopBy2Keys(s.objects,d,u,t):this._loopByKey0(s.subjects,u,t):d?this._loopByKey1(s.predicates,d,t):this._loop(s.predicates,t))}getObjects(t,r,i){const a=[];return this.forObjects(l=>{a.push(l)},t,r,i),a}forObjects(t,r,i,a){const l=this._getGraphs(a);let s,u,d;if(t=this._uniqueEntities(t),!(r&&!(u=this._termToNumericId(r))||i&&!(d=this._termToNumericId(i))))for(a in l)(s=l[a])&&(u?d?this._loopBy2Keys(s.subjects,u,d,t):this._loopByKey1(s.objects,u,t):d?this._loopByKey0(s.predicates,d,t):this._loop(s.objects,t))}getGraphs(t,r,i){const a=[];return this.forGraphs(l=>{a.push(l)},t,r,i),a}forGraphs(t,r,i,a){for(const l in this._graphs)this.some(s=>(t(s.graph),!0),r,i,a,this._termFromId(this._entities[l]))}createBlankNode(t){return this._entityIndex.createBlankNode(t)}extractLists({remove:t=!1,ignoreErrors:r=!1}={}){const i={},a=r?()=>!0:(u,d)=>{throw new Error(`${u.value} ${d}`)},l=this.getQuads(null,ua.rdf.rest,ua.rdf.nil,null),s=t?[...l]:[];return l.forEach(u=>{const d=[];let c=!1,p,g;const w=u.graph;let _=u.subject;for(;_&&!c;){const T=this.getQuads(null,null,_,null),x=this.getQuads(_,null,null,null);let C,E=null,I=null,O=null;for(let H=0;H<x.length&&!c;H++)C=x[H],C.graph.equals(w)?p?c=a(_,"has non-list arcs out"):C.predicate.value===ua.rdf.first?E?c=a(_,"has multiple rdf:first arcs"):s.push(E=C):C.predicate.value===ua.rdf.rest?I?c=a(_,"has multiple rdf:rest arcs"):s.push(I=C):T.length?c=a(_,"can't be subject and object"):(p=C,g="subject"):c=a(_,"not confined to single graph");for(let H=0;H<T.length&&!c;++H)C=T[H],p?c=a(_,"can't have coreferences"):C.predicate.value===ua.rdf.rest?O?c=a(_,"has incoming rdf:rest arcs"):O=C:(p=C,g="object");E?d.unshift(E.object):c=a(_,"has no list head"),_=O&&O.subject}c?t=!1:p&&(i[p[g].value]=d)}),t&&this.removeQuads(s),i}addAll(t){if(t instanceof lc&&(t=t.filtered),Array.isArray(t))this.addQuads(t);else if(t instanceof Ea&&t._entityIndex===this._entityIndex)t._size!==0&&(this._graphs=em(this._graphs,t._graphs),this._size=null);else for(const r of t)this.add(r);return this}contains(t){if(t instanceof lc&&(t=t.filtered),t===this)return!0;if(!(t instanceof Ea)||this._entityIndex!==t._entityIndex)return t.every(c=>this.has(c));const r=this._graphs,i=t._graphs;let a,l,s,u,d;for(const c in i){if(!(a=r[c]))return!1;a=a.subjects;for(const p in l=i[c].subjects){if(!(s=a[p]))return!1;for(const g in u=l[p]){if(!(d=s[g]))return!1;for(const w in u[g])if(!(w in d))return!1}}}return!0}deleteMatches(t,r,i,a){for(const l of this.match(t,r,i,a))this.removeQuad(l);return this}difference(t){if(t&&t instanceof lc&&(t=t.filtered),t===this)return new Ea({entityIndex:this._entityIndex});if(t instanceof Ea&&t._entityIndex===this._entityIndex){const r=new Ea({entityIndex:this._entityIndex}),i=gR(this._graphs,t._graphs);return i&&(r._graphs=i,r._size=null),r}return this.filter(r=>!t.has(r))}equals(t){return t instanceof lc&&(t=t.filtered),t===this||this.size===t.size&&this.contains(t)}filter(t){const r=new Ea({entityIndex:this._entityIndex});for(const i of this)t(i,this)&&r.add(i);return r}intersection(t){if(t instanceof lc&&(t=t.filtered),t===this){const r=new Ea({entityIndex:this._entityIndex});return r._graphs=em(Object.create(null),this._graphs),r._size=this._size,r}else if(t instanceof Ea&&this._entityIndex===t._entityIndex){const r=new Ea({entityIndex:this._entityIndex}),i=pR(t._graphs,this._graphs);return i&&(r._graphs=i,r._size=null),r}return this.filter(r=>t.has(r))}map(t){const r=new Ea({entityIndex:this._entityIndex});for(const i of this)r.add(t(i,this));return r}reduce(t,r){const i=this.readQuads();let a=r===void 0?i.next().value:r;for(const l of i)a=t(a,l,this);return a}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new wm().quadsToString(this)}union(t){const r=new Ea({entityIndex:this._entityIndex});return r._graphs=em(Object.create(null),this._graphs),r._size=this._size,r.addAll(t),r}*[Symbol.iterator](){yield*this.readQuads()}}function Gs(e,t,r=0){const i=t[r];if(i&&!(i in e))return!1;let a=!1;for(const l in i?{[i]:e[i]}:e){const s=r===2?null:Gs(e[l],t,r+1);s!==!1&&(a=a||Object.create(null),a[l]=s)}return a}class lc extends Lv.Readable{constructor(t,r,i,a,l,s){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:r,predicate:i,object:a,graph:l,options:s})}get filtered(){if(!this._filtered){const{n3Store:t,graph:r,object:i,predicate:a,subject:l}=this,s=this._filtered=new Ea({factory:t._factory,entityIndex:this.options.entityIndex});let u,d,c;if(l&&!(u=s._termToNumericId(l))||a&&!(d=s._termToNumericId(a))||i&&!(c=s._termToNumericId(i)))return s;const p=t._getGraphs(r);for(const g in p){let w,_,T,x;(x=p[g])&&(!u&&d?(_=Gs(x.predicates,[d,c,u]))&&(w=Gs(x.subjects,[u,d,c]),T=Gs(x.objects,[c,u,d])):c?(T=Gs(x.objects,[c,u,d]))&&(w=Gs(x.subjects,[u,d,c]),_=Gs(x.predicates,[d,c,u])):(w=Gs(x.subjects,[u,d,c]))&&(_=Gs(x.predicates,[d,c,u]),T=Gs(x.objects,[c,u,d])),w&&(s._graphs[g]={subjects:w,predicates:_,objects:T}))}s._size=null}return this._filtered}get size(){return this.filtered.size}_read(t){t>0&&!this[gb]&&(this[gb]=this[Symbol.iterator]());const r=this[gb];for(;--t>=0;){const{done:i,value:a}=r.next();if(i){this.push(null);return}this.push(a)}}addAll(t){return this.filtered.addAll(t)}contains(t){return this.filtered.contains(t)}deleteMatches(t,r,i,a){return this.filtered.deleteMatches(t,r,i,a)}difference(t){return this.filtered.difference(t)}equals(t){return this.filtered.equals(t)}every(t,r,i,a,l){return this.filtered.every(t,r,i,a,l)}filter(t){return this.filtered.filter(t)}forEach(t,r,i,a,l){return this.filtered.forEach(t,r,i,a,l)}import(t){return this.filtered.import(t)}intersection(t){return this.filtered.intersection(t)}map(t){return this.filtered.map(t)}some(t,r,i,a,l){return this.filtered.some(t,r,i,a,l)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(t){return this._filtered?this._filtered.union(t):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(t)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(t,r){return this.filtered.reduce(t,r)}toString(){return new wm().quadsToString(this)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,r,i,a){return new lc(this.filtered,t,r,i,a,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class mR{dataset(t){return new Ea(t)}}function yR(e){const t=[];for(const{subject:r,object:i}of e.match(null,ms.namedNode("http://www.w3.org/2000/10/swap/log#implies"),null,ms.defaultGraph())){const a=[...e.match(null,null,null,r)],l=[...e.match(null,null,null,i)];t.push({premise:a,conclusion:l})}return t}class vR{constructor(t){this._store=t}_add(t,r,i,a,l){this._store._addToIndex(a.subjects,t,r,i)&&(this._store._addToIndex(a.predicates,r,i,t),this._store._addToIndex(a.objects,i,t,r),l())}_evaluatePremise(t,r,i,a=0){let l,s,u,d,c;const[p,g,w]=t.premise[a].value,_=r[t.premise[a].content],T=!(u=p.value);for(u in T?_:{[u]:_[u]})if(d=_[u]){T&&(p.value=Number(u)),l=!(u=g.value);for(u in l?d:{[u]:d[u]})if(c=d[u]){l&&(g.value=Number(u)),s=!(u=w.value);for(u in s?c:{[u]:c[u]})s&&(w.value=Number(u)),a===t.premise.length-1?t.conclusion.forEach(x=>{this._add(x.subject.value,x.predicate.value,x.object.value,r,()=>{i(x)})}):this._evaluatePremise(t,r,i,a+1);s&&(w.value=null)}l&&(g.value=null)}T&&(p.value=null)}_evaluateRules(t,r,i){for(let a=0;a<t.length;a++)this._evaluatePremise(t[a],r,i)}_reasonGraphNaive(t,r){const i=[];function a(u){u.next&&u.next.forEach(d=>{i.push([u.subject.value,u.predicate.value,u.object.value,d])})}const l=u=>{u.forEach(d=>{this._add(d.subject.value,d.predicate.value,d.object.value,r,()=>{a(d)})})};this._evaluateRules(t,r,a);let s;for(;(s=i.pop())!==void 0;){const[u,d,c,p]=s,g=p.basePremise.subject.value;g||(p.basePremise.subject.value=u);const w=p.basePremise.predicate.value;w||(p.basePremise.predicate.value=d);const _=p.basePremise.object.value;_||(p.basePremise.object.value=c),p.premise.length===0?l(p.conclusion):this._evaluatePremise(p,r,a),g||(p.basePremise.subject.value=null),w||(p.basePremise.predicate.value=null),_||(p.basePremise.object.value=null)}}_createRule({premise:t,conclusion:r}){const i={},a=s=>s.termType==="Variable"?i[s.value]=i[s.value]||{}:{value:this._store._termToNewNumericId(s)},l=s=>({subject:a(s.subject),predicate:a(s.predicate),object:a(s.object)});return{premise:t.map(s=>l(s)),conclusion:r.map(s=>l(s)),variables:Object.values(i)}}reason(t){Array.isArray(t)||(t=yR(t)),t=t.map(i=>this._createRule(i));for(const i of t)for(const a of t)for(let l=0;l<a.premise.length;l++){const s=a.premise[l];for(const u of i.conclusion){if(mb(s.subject,u.subject)&&mb(s.predicate,u.predicate)&&mb(s.object,u.object)){const d=new Set,c=[];s.subject.value=s.subject.value||1,s.object.value=s.object.value||1,s.predicate.value=s.predicate.value||1;for(let p=0;p<a.premise.length;p++)p!==l&&c.push(A1(a.premise[p],d));(u.next=u.next||[]).push({premise:c,conclusion:a.conclusion,basePremise:s})}a.variables.forEach(d=>{d.value=null})}}for(const i of t){const a=new Set;i.premise=i.premise.map(l=>A1(l,a))}const r=this._store._getGraphs();for(const i in r)this._reasonGraphNaive(t,r[i]);this._store._size=null}}function A1({subject:e,predicate:t,object:r},i){const a=e.value||i.has(e)||(i.add(e),!1),l=t.value||i.has(t)||(i.add(t),!1),s=r.value||i.has(r)||(i.add(r),!1);return!a&&l?{content:"predicates",value:[t,r,e]}:s?{content:"objects",value:[r,e,t]}:{content:"subjects",value:[e,t,r]}}function mb(e,t){return e.value===null&&(e.value=t.value),e.value===t.value}class bR extends Lv.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const r=new Mv(t);let i,a;const l={onQuad:(s,u)=>{s&&this.emit("error",s)||u&&this.push(u)},onPrefix:(s,u)=>{this.emit("prefix",s,u)}};t&&t.comments&&(l.onComment=s=>{this.emit("comment",s)}),r.parse({on:(s,u)=>{switch(s){case"data":i=u;break;case"end":a=u;break}}},l),this._transform=(s,u,d)=>{i(s),d()},this._flush=s=>{a(),s()}}import(t){return t.on("data",r=>{this.write(r)}),t.on("end",()=>{this.end()}),t.on("error",r=>{this.emit("error",r)}),this}}class wR extends Lv.Transform{constructor(t){super({encoding:"utf8",writableObjectMode:!0});const r=this._writer=new wm({write:(i,a,l)=>{this.push(i),l&&l()},end:i=>{this.push(null),i&&i()}},t);this._transform=(i,a,l)=>{r.addQuad(i,l)},this._flush=i=>{r.end(i)}}import(t){return t.on("data",r=>{this.write(r)}),t.on("end",()=>{this.end()}),t.on("error",r=>{this.emit("error",r)}),t.on("prefix",(r,i)=>{this._writer.addPrefix(r,i)}),this}}const KI={Lexer:n_,Parser:Mv,Writer:wm,Store:Ea,StoreFactory:mR,EntityIndex:o_,StreamParser:bR,StreamWriter:wR,Util:hR,Reasoner:vR,BaseIRI:bm,DataFactory:ms,Term:To,NamedNode:Dv,Literal:hc,BlankNode:r_,Variable:i_,DefaultGraph:a_,Quad:yh,Triple:yh,termFromId:Kf,termToId:cc},GI=Object.freeze(Object.defineProperty({__proto__:null,BaseIRI:bm,BlankNode:r_,DataFactory:ms,DefaultGraph:a_,EntityIndex:o_,Lexer:n_,Literal:hc,NamedNode:Dv,Parser:Mv,Quad:yh,Reasoner:vR,Store:Ea,StoreFactory:mR,StreamParser:bR,StreamWriter:wR,Term:To,Triple:yh,Util:hR,Variable:i_,Writer:wm,default:KI,getRulesFromDataset:yR,termFromId:Kf,termToId:cc},Symbol.toStringTag,{value:"Module"})),qI=Ov(GI);var yb,x1;function zI(){if(x1)return yb;x1=1;class e{constructor(r){this.value=r||"b"+ ++e.nextId}equals(r){return!!r&&r.termType===this.termType&&r.value===this.value}}return e.prototype.termType="BlankNode",e.nextId=0,yb=e,yb}var vb,R1;function _R(){if(R1)return vb;R1=1;class e{equals(r){return!!r&&r.termType===this.termType}}return e.prototype.termType="DefaultGraph",e.prototype.value="",vb=e,vb}var bb,C1;function WI(){if(C1)return bb;C1=1;function e(t){if(!t)return null;if(t.termType==="BlankNode")return this.blankNode(t.value);if(t.termType==="DefaultGraph")return this.defaultGraph();if(t.termType==="Literal")return this.literal(t.value,t.language||this.namedNode(t.datatype.value));if(t.termType==="NamedNode")return this.namedNode(t.value);if(t.termType==="Quad"){const r=this.fromTerm(t.subject),i=this.fromTerm(t.predicate),a=this.fromTerm(t.object),l=this.fromTerm(t.graph);return this.quad(r,i,a,l)}if(t.termType==="Variable")return this.variable(t.value);throw new Error(`unknown termType ${t.termType}`)}return bb=e,bb}var wb,T1;function SR(){if(T1)return wb;T1=1;class e{constructor(r){this.value=r}equals(r){return!!r&&r.termType===this.termType&&r.value===this.value}}return e.prototype.termType="NamedNode",wb=e,wb}var _b,O1;function JI(){if(O1)return _b;O1=1;const e=SR();class t{constructor(i,a,l){this.value=i,this.datatype=t.stringDatatype,this.language="",a?(this.language=a,this.datatype=t.langStringDatatype):l&&(this.datatype=l)}equals(i){return!!i&&i.termType===this.termType&&i.value===this.value&&i.language===this.language&&i.datatype.equals(this.datatype)}}return t.prototype.termType="Literal",t.langStringDatatype=new e("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.stringDatatype=new e("http://www.w3.org/2001/XMLSchema#string"),_b=t,_b}var Sb,I1;function YI(){if(I1)return Sb;I1=1;const e=_R();class t{constructor(i,a,l,s){this.subject=i,this.predicate=a,this.object=l,s?this.graph=s:this.graph=new e}equals(i){return!!i&&(i.termType==="Quad"||!i.termType)&&i.subject.equals(this.subject)&&i.predicate.equals(this.predicate)&&i.object.equals(this.object)&&i.graph.equals(this.graph)}}return t.prototype.termType="Quad",t.prototype.value="",Sb=t,Sb}var Eb,P1;function QI(){if(P1)return Eb;P1=1;class e{constructor(r){this.value=r}equals(r){return!!r&&r.termType===this.termType&&r.value===this.value}}return e.prototype.termType="Variable",Eb=e,Eb}var Ab,N1;function XI(){if(N1)return Ab;N1=1;const e=zI(),t=_R(),r=WI(),i=JI(),a=SR(),l=YI(),s=QI();function u(E){return new a(E)}function d(E){return new e(E)}function c(E,I){return typeof I=="string"?I.indexOf(":")===-1?new i(E,I):new i(E,null,C.namedNode(I)):new i(E,null,I)}function p(E){return new s(E)}function g(){return C.defaultGraphInstance}function w(E,I,O){return C.quad(E,I,O)}function _(E,I,O,H){return new l(E,I,O,H||C.defaultGraphInstance)}function T(E){return r.call(C,E)}function x(E){return r.call(C,E)}const C={namedNode:u,blankNode:d,literal:c,variable:p,defaultGraph:g,triple:w,quad:_,fromTerm:T,fromQuad:x,defaultGraphInstance:new t};return Ab=C,Ab}var xb,F1;function ER(){return F1||(F1=1,xb=XI()),xb}var Rb,D1;function ZI(){if(D1)return Rb;D1=1;function e(s){return typeof s=="string"||s instanceof String}const t="http://www.w3.org/2001/XMLSchema#string";function r(s){if(typeof s=="string")return s;if(!s)return"";if(typeof s.id<"u"&&s.termType!=="Quad")return s.id;let u,d,c,p;switch(s.termType){case"NamedNode":return s.value;case"BlankNode":return`_:${s.value}`;case"Variable":return`?${s.value}`;case"DefaultGraph":return"";case"Literal":return s.language?`"${s.value}"@${s.language}`:`"${s.value}"${s.datatype&&s.datatype.value!==t?`^^${s.datatype.value}`:""}`;case"Quad":return u=a(r(s.subject)),d=a(r(s.predicate)),c=a(r(s.object)),p=s.graph.termType==="DefaultGraph"?"":` ${r(s.graph)}`,`<<${u} ${d} ${c}${p}>>`;default:throw new Error(`Unexpected termType: ${s.termType}`)}}const i=/^"(.*".*)(?="[^"]*$)/;function a(s){return s.replace(i,(u,d)=>`"${d.replace(/"/g,'""')}`)}class l{constructor(u){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,u)for(const d of u)this.add(d)}get size(){let u=this._size;if(u!==null)return u;u=0;const d=this._graphs;let c,p;for(const g in d)for(const w in c=d[g].subjects)for(const _ in p=c[w])u+=Object.keys(p[_]).length;return this._size=u,this._size}add(u){let d=r(u.subject),c=r(u.predicate),p=r(u.object);const g=r(u.graph);let w=this._graphs[g];w||(w=this._graphs[g]={subjects:{},predicates:{},objects:{}},Object.freeze(w));const _=this._ids,T=this._entities;return d=_[d]||(_[T[++this._id]=d]=this._id),c=_[c]||(_[T[++this._id]=c]=this._id),p=_[p]||(_[T[++this._id]=p]=this._id),this._addToIndex(w.subjects,d,c,p),this._addToIndex(w.predicates,c,p,d),this._addToIndex(w.objects,p,d,c),this._setQuad(d,c,p,g,u),this._size=null,this}delete(u){let d=r(u.subject),c=r(u.predicate),p=r(u.object);const g=r(u.graph),w=this._ids,_=this._graphs;let T,x,C;if(!(d=w[d])||!(c=w[c])||!(p=w[p])||!(T=_[g])||!(x=T.subjects[d])||!(C=x[c])||!(p in C))return this;this._removeFromIndex(T.subjects,d,c,p),this._removeFromIndex(T.predicates,c,p,d),this._removeFromIndex(T.objects,p,d,c),this._size!==null&&this._size--,this._deleteQuad(d,c,p,g);for(d in T.subjects)return this;return delete _[g],this}has(u){const d=r(u.subject),c=r(u.predicate),p=r(u.object),g=r(u.graph),w=this._graphs[g];if(!w)return!1;const _=this._ids;let T,x,C;return e(d)&&!(T=_[d])||e(c)&&!(x=_[c])||e(p)&&!(C=_[p])?!1:this._countInIndex(w.objects,C,T,x)===1}match(u,d,c,p){return this._createDataset(this._match(u,d,c,p))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(u,d,c,p){const g=u[d]||(u[d]={}),w=g[c]||(g[c]={}),_=p in w;return _||(w[p]=null),!_}_removeFromIndex(u,d,c,p){const g=u[d],w=g[c];delete w[p];for(const _ in w)return;delete g[c];for(const _ in g)return;delete u[d]}_findInIndex(u,d,c,p,g,w,_,T,x,C){let E,I,O;d&&((E=u,u={})[d]=E[d]);for(const H in u)if(I=u[H],I){c&&((E=I,I={})[c]=E[c]);for(const L in I)if(O=I[L],O){const q=p?p in O?[p]:[]:Object.keys(O);for(let W=0;W<q.length;W++){const $={[g]:H,[w]:L,[_]:q[W]},Ae=this._getQuad($.subject,$.predicate,$.object,T);if(C)C.push(Ae);else if(x(Ae))return!0}}}return C}_countInIndex(u,d,c,p){let g=0,w,_,T;d&&((w=u,u={})[d]=w[d]);for(const x in u)if(_=u[x],_){c&&((w=_,_={})[c]=w[c]);for(const C in _)T=_[C],T&&(p?p in T&&g++:g+=Object.keys(T).length)}return g}_getGraphs(u){return e(u)?{[u]:this._graphs[u]}:this._graphs}_match(u,d,c,p){u=u&&r(u),d=d&&r(d),c=c&&r(c),p=p&&r(p);const g=[],w=this._getGraphs(p),_=this._ids;let T,x,C,E;if(e(u)&&!(x=_[u])||e(d)&&!(C=_[d])||e(c)&&!(E=_[c]))return g;for(const I in w)T=w[I],T&&(x?E?this._findInIndex(T.objects,E,x,C,"object","subject","predicate",I,null,g):this._findInIndex(T.subjects,x,C,null,"subject","predicate","object",I,null,g):C?this._findInIndex(T.predicates,C,E,null,"predicate","object","subject",I,null,g):E?this._findInIndex(T.objects,E,null,null,"object","subject","predicate",I,null,g):this._findInIndex(T.subjects,null,null,null,"subject","predicate","object",I,null,g));return g}_getQuad(u,d,c,p){return this._quads.get(this._toId(u,d,c,p))}_setQuad(u,d,c,p,g){this._quads.set(this._toId(u,d,c,p),g)}_deleteQuad(u,d,c,p){this._quads.delete(this._toId(u,d,c,p))}_createDataset(u){return new this.constructor(u)}_toId(u,d,c,p){return`${u}:${d}:${c}:${p}`}}return Rb=l,Rb}var Cb,M1;function eP(){if(M1)return Cb;M1=1;const e=ER(),t=ZI();function r(i){return new t(i)}return Cb=Object.assign({dataset:r},e),Cb}var Tb={},Fg={},Ny={},L1;function AR(){if(L1)return Ny;L1=1,Object.defineProperty(Ny,"__esModule",{value:!0}),Ny.default=r;let e;const t=new Uint8Array(16);function r(){if(!e&&(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}return Ny}var uh={},Dg={},Mg={},U1;function tP(){if(U1)return Mg;U1=1,Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.default=void 0;var e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return Mg.default=e,Mg}var k1;function Uv(){if(k1)return Dg;k1=1,Object.defineProperty(Dg,"__esModule",{value:!0}),Dg.default=void 0;var e=t(tP());function t(a){return a&&a.__esModule?a:{default:a}}function r(a){return typeof a=="string"&&e.default.test(a)}var i=r;return Dg.default=i,Dg}var j1;function kv(){if(j1)return uh;j1=1,Object.defineProperty(uh,"__esModule",{value:!0}),uh.default=void 0,uh.unsafeStringify=i;var e=t(Uv());function t(s){return s&&s.__esModule?s:{default:s}}const r=[];for(let s=0;s<256;++s)r.push((s+256).toString(16).slice(1));function i(s,u=0){return r[s[u+0]]+r[s[u+1]]+r[s[u+2]]+r[s[u+3]]+"-"+r[s[u+4]]+r[s[u+5]]+"-"+r[s[u+6]]+r[s[u+7]]+"-"+r[s[u+8]]+r[s[u+9]]+"-"+r[s[u+10]]+r[s[u+11]]+r[s[u+12]]+r[s[u+13]]+r[s[u+14]]+r[s[u+15]]}function a(s,u=0){const d=i(s,u);if(!(0,e.default)(d))throw TypeError("Stringified UUID is invalid");return d}var l=a;return uh.default=l,uh}var B1;function nP(){if(B1)return Fg;B1=1,Object.defineProperty(Fg,"__esModule",{value:!0}),Fg.default=void 0;var e=r(AR()),t=kv();function r(c){return c&&c.__esModule?c:{default:c}}let i,a,l=0,s=0;function u(c,p,g){let w=p&&g||0;const _=p||new Array(16);c=c||{};let T=c.node||i,x=c.clockseq!==void 0?c.clockseq:a;if(T==null||x==null){const L=c.random||(c.rng||e.default)();T==null&&(T=i=[L[0]|1,L[1],L[2],L[3],L[4],L[5]]),x==null&&(x=a=(L[6]<<8|L[7])&16383)}let C=c.msecs!==void 0?c.msecs:Date.now(),E=c.nsecs!==void 0?c.nsecs:s+1;const I=C-l+(E-s)/1e4;if(I<0&&c.clockseq===void 0&&(x=x+1&16383),(I<0||C>l)&&c.nsecs===void 0&&(E=0),E>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=C,s=E,a=x,C+=122192928e5;const O=((C&268435455)*1e4+E)%4294967296;_[w++]=O>>>24&255,_[w++]=O>>>16&255,_[w++]=O>>>8&255,_[w++]=O&255;const H=C/4294967296*1e4&268435455;_[w++]=H>>>8&255,_[w++]=H&255,_[w++]=H>>>24&15|16,_[w++]=H>>>16&255,_[w++]=x>>>8|128,_[w++]=x&255;for(let L=0;L<6;++L)_[w+L]=T[L];return p||(0,t.unsafeStringify)(_)}var d=u;return Fg.default=d,Fg}var Lg={},ic={},Ug={},H1;function xR(){if(H1)return Ug;H1=1,Object.defineProperty(Ug,"__esModule",{value:!0}),Ug.default=void 0;var e=t(Uv());function t(a){return a&&a.__esModule?a:{default:a}}function r(a){if(!(0,e.default)(a))throw TypeError("Invalid UUID");let l;const s=new Uint8Array(16);return s[0]=(l=parseInt(a.slice(0,8),16))>>>24,s[1]=l>>>16&255,s[2]=l>>>8&255,s[3]=l&255,s[4]=(l=parseInt(a.slice(9,13),16))>>>8,s[5]=l&255,s[6]=(l=parseInt(a.slice(14,18),16))>>>8,s[7]=l&255,s[8]=(l=parseInt(a.slice(19,23),16))>>>8,s[9]=l&255,s[10]=(l=parseInt(a.slice(24,36),16))/1099511627776&255,s[11]=l/4294967296&255,s[12]=l>>>24&255,s[13]=l>>>16&255,s[14]=l>>>8&255,s[15]=l&255,s}var i=r;return Ug.default=i,Ug}var V1;function RR(){if(V1)return ic;V1=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.URL=ic.DNS=void 0,ic.default=s;var e=kv(),t=r(xR());function r(u){return u&&u.__esModule?u:{default:u}}function i(u){u=unescape(encodeURIComponent(u));const d=[];for(let c=0;c<u.length;++c)d.push(u.charCodeAt(c));return d}const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";ic.DNS=a;const l="6ba7b811-9dad-11d1-80b4-00c04fd430c8";ic.URL=l;function s(u,d,c){function p(g,w,_,T){var x;if(typeof g=="string"&&(g=i(g)),typeof w=="string"&&(w=(0,t.default)(w)),((x=w)===null||x===void 0?void 0:x.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let C=new Uint8Array(16+g.length);if(C.set(w),C.set(g,w.length),C=c(C),C[6]=C[6]&15|d,C[8]=C[8]&63|128,_){T=T||0;for(let E=0;E<16;++E)_[T+E]=C[E];return _}return(0,e.unsafeStringify)(C)}try{p.name=u}catch{}return p.DNS=a,p.URL=l,p}return ic}var kg={},$1;function rP(){if($1)return kg;$1=1,Object.defineProperty(kg,"__esModule",{value:!0}),kg.default=void 0;function e(_){if(typeof _=="string"){const T=unescape(encodeURIComponent(_));_=new Uint8Array(T.length);for(let x=0;x<T.length;++x)_[x]=T.charCodeAt(x)}return t(i(a(_),_.length*8))}function t(_){const T=[],x=_.length*32,C="0123456789abcdef";for(let E=0;E<x;E+=8){const I=_[E>>5]>>>E%32&255,O=parseInt(C.charAt(I>>>4&15)+C.charAt(I&15),16);T.push(O)}return T}function r(_){return(_+64>>>9<<4)+14+1}function i(_,T){_[T>>5]|=128<<T%32,_[r(T)-1]=T;let x=1732584193,C=-271733879,E=-1732584194,I=271733878;for(let O=0;O<_.length;O+=16){const H=x,L=C,q=E,W=I;x=d(x,C,E,I,_[O],7,-680876936),I=d(I,x,C,E,_[O+1],12,-389564586),E=d(E,I,x,C,_[O+2],17,606105819),C=d(C,E,I,x,_[O+3],22,-1044525330),x=d(x,C,E,I,_[O+4],7,-176418897),I=d(I,x,C,E,_[O+5],12,1200080426),E=d(E,I,x,C,_[O+6],17,-1473231341),C=d(C,E,I,x,_[O+7],22,-45705983),x=d(x,C,E,I,_[O+8],7,1770035416),I=d(I,x,C,E,_[O+9],12,-1958414417),E=d(E,I,x,C,_[O+10],17,-42063),C=d(C,E,I,x,_[O+11],22,-1990404162),x=d(x,C,E,I,_[O+12],7,1804603682),I=d(I,x,C,E,_[O+13],12,-40341101),E=d(E,I,x,C,_[O+14],17,-1502002290),C=d(C,E,I,x,_[O+15],22,1236535329),x=c(x,C,E,I,_[O+1],5,-165796510),I=c(I,x,C,E,_[O+6],9,-1069501632),E=c(E,I,x,C,_[O+11],14,643717713),C=c(C,E,I,x,_[O],20,-373897302),x=c(x,C,E,I,_[O+5],5,-701558691),I=c(I,x,C,E,_[O+10],9,38016083),E=c(E,I,x,C,_[O+15],14,-660478335),C=c(C,E,I,x,_[O+4],20,-405537848),x=c(x,C,E,I,_[O+9],5,568446438),I=c(I,x,C,E,_[O+14],9,-1019803690),E=c(E,I,x,C,_[O+3],14,-187363961),C=c(C,E,I,x,_[O+8],20,1163531501),x=c(x,C,E,I,_[O+13],5,-1444681467),I=c(I,x,C,E,_[O+2],9,-51403784),E=c(E,I,x,C,_[O+7],14,1735328473),C=c(C,E,I,x,_[O+12],20,-1926607734),x=p(x,C,E,I,_[O+5],4,-378558),I=p(I,x,C,E,_[O+8],11,-2022574463),E=p(E,I,x,C,_[O+11],16,1839030562),C=p(C,E,I,x,_[O+14],23,-35309556),x=p(x,C,E,I,_[O+1],4,-1530992060),I=p(I,x,C,E,_[O+4],11,1272893353),E=p(E,I,x,C,_[O+7],16,-155497632),C=p(C,E,I,x,_[O+10],23,-1094730640),x=p(x,C,E,I,_[O+13],4,681279174),I=p(I,x,C,E,_[O],11,-358537222),E=p(E,I,x,C,_[O+3],16,-722521979),C=p(C,E,I,x,_[O+6],23,76029189),x=p(x,C,E,I,_[O+9],4,-640364487),I=p(I,x,C,E,_[O+12],11,-421815835),E=p(E,I,x,C,_[O+15],16,530742520),C=p(C,E,I,x,_[O+2],23,-995338651),x=g(x,C,E,I,_[O],6,-198630844),I=g(I,x,C,E,_[O+7],10,1126891415),E=g(E,I,x,C,_[O+14],15,-1416354905),C=g(C,E,I,x,_[O+5],21,-57434055),x=g(x,C,E,I,_[O+12],6,1700485571),I=g(I,x,C,E,_[O+3],10,-1894986606),E=g(E,I,x,C,_[O+10],15,-1051523),C=g(C,E,I,x,_[O+1],21,-2054922799),x=g(x,C,E,I,_[O+8],6,1873313359),I=g(I,x,C,E,_[O+15],10,-30611744),E=g(E,I,x,C,_[O+6],15,-1560198380),C=g(C,E,I,x,_[O+13],21,1309151649),x=g(x,C,E,I,_[O+4],6,-145523070),I=g(I,x,C,E,_[O+11],10,-1120210379),E=g(E,I,x,C,_[O+2],15,718787259),C=g(C,E,I,x,_[O+9],21,-343485551),x=l(x,H),C=l(C,L),E=l(E,q),I=l(I,W)}return[x,C,E,I]}function a(_){if(_.length===0)return[];const T=_.length*8,x=new Uint32Array(r(T));for(let C=0;C<T;C+=8)x[C>>5]|=(_[C/8]&255)<<C%32;return x}function l(_,T){const x=(_&65535)+(T&65535);return(_>>16)+(T>>16)+(x>>16)<<16|x&65535}function s(_,T){return _<<T|_>>>32-T}function u(_,T,x,C,E,I){return l(s(l(l(T,_),l(C,I)),E),x)}function d(_,T,x,C,E,I,O){return u(T&x|~T&C,_,T,E,I,O)}function c(_,T,x,C,E,I,O){return u(T&C|x&~C,_,T,E,I,O)}function p(_,T,x,C,E,I,O){return u(T^x^C,_,T,E,I,O)}function g(_,T,x,C,E,I,O){return u(x^(T|~C),_,T,E,I,O)}var w=e;return kg.default=w,kg}var K1;function iP(){if(K1)return Lg;K1=1,Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.default=void 0;var e=r(RR()),t=r(rP());function r(l){return l&&l.__esModule?l:{default:l}}var a=(0,e.default)("v3",48,t.default);return Lg.default=a,Lg}var jg={},Bg={},G1;function aP(){if(G1)return Bg;G1=1,Object.defineProperty(Bg,"__esModule",{value:!0}),Bg.default=void 0;var t={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return Bg.default=t,Bg}var q1;function oP(){if(q1)return jg;q1=1,Object.defineProperty(jg,"__esModule",{value:!0}),jg.default=void 0;var e=i(aP()),t=i(AR()),r=kv();function i(s){return s&&s.__esModule?s:{default:s}}function a(s,u,d){if(e.default.randomUUID&&!u&&!s)return e.default.randomUUID();s=s||{};const c=s.random||(s.rng||t.default)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,u){d=d||0;for(let p=0;p<16;++p)u[d+p]=c[p];return u}return(0,r.unsafeStringify)(c)}var l=a;return jg.default=l,jg}var Hg={},Vg={},z1;function sP(){if(z1)return Vg;z1=1,Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.default=void 0;function e(a,l,s,u){switch(a){case 0:return l&s^~l&u;case 1:return l^s^u;case 2:return l&s^l&u^s&u;case 3:return l^s^u}}function t(a,l){return a<<l|a>>>32-l}function r(a){const l=[1518500249,1859775393,2400959708,3395469782],s=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof a=="string"){const p=unescape(encodeURIComponent(a));a=[];for(let g=0;g<p.length;++g)a.push(p.charCodeAt(g))}else Array.isArray(a)||(a=Array.prototype.slice.call(a));a.push(128);const u=a.length/4+2,d=Math.ceil(u/16),c=new Array(d);for(let p=0;p<d;++p){const g=new Uint32Array(16);for(let w=0;w<16;++w)g[w]=a[p*64+w*4]<<24|a[p*64+w*4+1]<<16|a[p*64+w*4+2]<<8|a[p*64+w*4+3];c[p]=g}c[d-1][14]=(a.length-1)*8/Math.pow(2,32),c[d-1][14]=Math.floor(c[d-1][14]),c[d-1][15]=(a.length-1)*8&4294967295;for(let p=0;p<d;++p){const g=new Uint32Array(80);for(let E=0;E<16;++E)g[E]=c[p][E];for(let E=16;E<80;++E)g[E]=t(g[E-3]^g[E-8]^g[E-14]^g[E-16],1);let w=s[0],_=s[1],T=s[2],x=s[3],C=s[4];for(let E=0;E<80;++E){const I=Math.floor(E/20),O=t(w,5)+e(I,_,T,x)+C+l[I]+g[E]>>>0;C=x,x=T,T=t(_,30)>>>0,_=w,w=O}s[0]=s[0]+w>>>0,s[1]=s[1]+_>>>0,s[2]=s[2]+T>>>0,s[3]=s[3]+x>>>0,s[4]=s[4]+C>>>0}return[s[0]>>24&255,s[0]>>16&255,s[0]>>8&255,s[0]&255,s[1]>>24&255,s[1]>>16&255,s[1]>>8&255,s[1]&255,s[2]>>24&255,s[2]>>16&255,s[2]>>8&255,s[2]&255,s[3]>>24&255,s[3]>>16&255,s[3]>>8&255,s[3]&255,s[4]>>24&255,s[4]>>16&255,s[4]>>8&255,s[4]&255]}var i=r;return Vg.default=i,Vg}var W1;function lP(){if(W1)return Hg;W1=1,Object.defineProperty(Hg,"__esModule",{value:!0}),Hg.default=void 0;var e=r(RR()),t=r(sP());function r(l){return l&&l.__esModule?l:{default:l}}var a=(0,e.default)("v5",80,t.default);return Hg.default=a,Hg}var $g={},J1;function uP(){if(J1)return $g;J1=1,Object.defineProperty($g,"__esModule",{value:!0}),$g.default=void 0;var e="00000000-0000-0000-0000-000000000000";return $g.default=e,$g}var Kg={},Y1;function cP(){if(Y1)return Kg;Y1=1,Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.default=void 0;var e=t(Uv());function t(a){return a&&a.__esModule?a:{default:a}}function r(a){if(!(0,e.default)(a))throw TypeError("Invalid UUID");return parseInt(a.slice(14,15),16)}var i=r;return Kg.default=i,Kg}var Q1;function s_(){return Q1||(Q1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.default}});var t=p(nP()),r=p(iP()),i=p(oP()),a=p(lP()),l=p(uP()),s=p(cP()),u=p(Uv()),d=p(kv()),c=p(xR());function p(g){return g&&g.__esModule?g:{default:g}}}(Tb)),Tb}var X1;function fP(){if(X1)return st;X1=1;var e=EI(),t=ja(),r=t_(),i=Jw(),a=qI,l=ER(),s=eP(),u=s_();function d(h){const y=h;return typeof y=="object"&&typeof y.internal_resourceInfo=="object"}function c(h){const y=h;return typeof y=="object"&&typeof y.internal_resourceInfo=="object"&&typeof y.internal_resourceInfo.linkedResources=="object"}function p(h){const y=h;return typeof y.internal_changeLog=="object"&&Array.isArray(y.internal_changeLog.additions)&&Array.isArray(y.internal_changeLog.deletions)}class g extends Error{}function w(h){return typeof h=="string"?h:h.value}const _=r.fetch.bind(globalThis);function T(h){var y,S,N,U,J;const ee=(S=(y=h.headers.get("Content-Type"))===null||y===void 0?void 0:y.split(";"))!==null&&S!==void 0?S:[],me=ee.length>0&&["text/turtle","application/ld+json"].includes(ee[0]),He={sourceIri:h.url,isRawData:!me,contentLocation:(N=h.headers.get("Content-Location"))!==null&&N!==void 0?N:void 0,contentType:(U=h.headers.get("Content-Type"))!==null&&U!==void 0?U:void 0,linkedResources:{},location:(J=h.headers.get("Location"))!==null&&J!==void 0?J:void 0},Ge=h.headers.get("Link");if(Ge){const kt=i.parse(Ge),Kt=kt.get("rel","acl");Kt.length===1&&(He.aclUrl=new URL(Kt[0].uri,He.sourceIri).href),He.linkedResources=kt.refs.reduce((rn,Nn)=>{var gr,tr;return(gr=rn[tr=Nn.rel])!==null&&gr!==void 0||(rn[tr]=[]),rn[Nn.rel].push(new URL(Nn.uri,He.sourceIri).href),rn},He.linkedResources)}const tt=h.headers.get("WAC-Allow");return tt&&(He.permissions=x(tt)),He}function x(h){function y(N){const U=N.split(" ");return U.includes("write")?{read:U.includes("read"),append:!0,write:!0,control:U.includes("control")}:{read:U.includes("read"),append:U.includes("append"),write:!1,control:U.includes("control")}}function S(N,U){const J=N.split(",").map(me=>me.split("=")).filter(me=>me.length===2&&me[0].trim()===U);if(J.length!==1)return"";const ee=J[0][1].trim();return ee.charAt(0)!=='"'||ee.charAt(ee.length-1)!=='"'?"":ee.substring(1,ee.length-1)}return{user:y(S(h,"user")),public:y(S(h,"public"))}}function C(h){let y;return typeof h.slice=="function"?y=Object.assign(h.slice(),{...h}):y={...h},y}function E(h){return!h.ok}function I(h){return h.status===401||h.status===403}const O={Authorization:"http://www.w3.org/ns/auth/acl#Authorization",accessTo:"http://www.w3.org/ns/auth/acl#accessTo",agent:"http://www.w3.org/ns/auth/acl#agent",agentGroup:"http://www.w3.org/ns/auth/acl#agentGroup",agentClass:"http://www.w3.org/ns/auth/acl#agentClass",default:"http://www.w3.org/ns/auth/acl#default",defaultForNew:"http://www.w3.org/ns/auth/acl#defaultForNew",mode:"http://www.w3.org/ns/auth/acl#mode",origin:"http://www.w3.org/ns/auth/acl#origin"},H={type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"},L={seeAlso:"http://www.w3.org/2000/01/rdf-schema#seeAlso"},q={BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",Resource:"http://www.w3.org/ns/ldp#Resource",contains:"http://www.w3.org/ns/ldp#contains"},W={Agent:"http://xmlns.com/foaf/0.1/Agent",primaryTopic:"http://xmlns.com/foaf/0.1/primaryTopic",isPrimaryTopicOf:"http://xmlns.com/foaf/0.1/isPrimaryTopicOf"},$={AccessControlResource:"http://www.w3.org/ns/solid/acp#AccessControlResource",Policy:"http://www.w3.org/ns/solid/acp#Policy",AccessControl:"http://www.w3.org/ns/solid/acp#AccessControl",Read:"http://www.w3.org/ns/solid/acp#Read",Append:"http://www.w3.org/ns/solid/acp#Append",Write:"http://www.w3.org/ns/solid/acp#Write",Rule:"http://www.w3.org/ns/solid/acp#Rule",Matcher:"http://www.w3.org/ns/solid/acp#Matcher",accessControl:"http://www.w3.org/ns/solid/acp#accessControl",apply:"http://www.w3.org/ns/solid/acp#apply",applyMembers:"http://www.w3.org/ns/solid/acp#applyMembers",allow:"http://www.w3.org/ns/solid/acp#allow",deny:"http://www.w3.org/ns/solid/acp#deny",allOf:"http://www.w3.org/ns/solid/acp#allOf",anyOf:"http://www.w3.org/ns/solid/acp#anyOf",noneOf:"http://www.w3.org/ns/solid/acp#noneOf",access:"http://www.w3.org/ns/solid/acp#access",accessMembers:"http://www.w3.org/ns/solid/acp#accessMembers",agent:"http://www.w3.org/ns/solid/acp#agent",group:"http://www.w3.org/ns/solid/acp#group",client:"http://www.w3.org/ns/solid/acp#client",PublicAgent:"http://www.w3.org/ns/solid/acp#PublicAgent",AuthenticatedAgent:"http://www.w3.org/ns/solid/acp#AuthenticatedAgent",CreatorAgent:"http://www.w3.org/ns/solid/acp#CreatorAgent"},Ae={PublicOidcClient:"http://www.w3.org/ns/solid/terms#PublicOidcClient"},K={publicKey:"https://w3id.org/security#publicKey"},ae={storage:"http://www.w3.org/ns/pim/space#storage"},pe={fetch:_};async function be(h,y={...pe,ignoreAuthenticationErrors:!1}){var S;const U=await{...pe,...y}.fetch(h,{method:"HEAD"});return Ze(U,{ignoreAuthenticationErrors:(S=y.ignoreAuthenticationErrors)!==null&&S!==void 0?S:!1})}function Ze(h,y={ignoreAuthenticationErrors:!1}){if(E(h)&&(!I(h)||!y.ignoreAuthenticationErrors))throw new at(`Fetching the metadata of the Resource at [${h.url}] failed: [${h.status}] [${h.statusText}].`,h);return{internal_resourceInfo:T(h)}}function it(h){return(d(h)?ge(h):w(h)).endsWith("/")}function Re(h){return h.internal_resourceInfo.isRawData}function lt(h){var y;return(y=h.internal_resourceInfo.contentType)!==null&&y!==void 0?y:null}function ge(h){return d(h)?h.internal_resourceInfo.sourceIri:null}const rt=ge;function Y(h){var y;if(!c(h))return null;const S=(y=$e(h)["http://www.w3.org/ns/solid/terms#podOwner"])!==null&&y!==void 0?y:[];return S.length===1?S[0]:null}function xe(h,y){const S=Y(y);return typeof S!="string"?null:S===h}function $e(h){return h.internal_resourceInfo.linkedResources}function Me(h){var y,S,N,U,J,ee,me;if(typeof h.internal_resourceInfo.permissions=="object")return{user:{read:h.internal_resourceInfo.permissions.user.read,append:h.internal_resourceInfo.permissions.user.append,write:h.internal_resourceInfo.permissions.user.write},public:{read:h.internal_resourceInfo.permissions.public.read,append:h.internal_resourceInfo.permissions.public.append,write:h.internal_resourceInfo.permissions.public.write}};const He=$e(h);return{user:{read:(S=(y=He[$.allow])===null||y===void 0?void 0:y.includes($.Read))!==null&&S!==void 0?S:!1,append:(J=((N=He[$.allow])===null||N===void 0?void 0:N.includes($.Append))||((U=He[$.allow])===null||U===void 0?void 0:U.includes($.Write)))!==null&&J!==void 0?J:!1,write:(me=(ee=He[$.allow])===null||ee===void 0?void 0:ee.includes($.Write))!==null&&me!==void 0?me:!1}}}class at extends g{get statusCode(){return this.response.status}get statusText(){return this.response.statusText}constructor(y,S){super(y),this.response=S}}const It=()=>{const h=[],y=[],S=[];return{onQuad:N=>{h.push(N)},onError:N=>{S.push(N)},onComplete:N=>{y.push(N)},parse:async(N,U)=>new Promise(J=>{const ee=new e.JsonLdParser({baseIRI:ge(U),documentLoader:new t.FetchDocumentLoader(_)});let me=!1;function He(){me||(me=!0,y.forEach(Ge=>Ge()),J())}ee.on("end",He),ee.on("error",Ge=>{S.forEach(tt=>tt(Ge)),He()}),h.forEach(Ge=>ee.on("data",Ge)),ee.write(N),ee.end()})}};s.dataset;const Pt="https://inrupt.com/.well-known/sdk-local-node/",{freeze:Le}=Object;function ce(h){return h.substring(0,Pt.length)===Pt}function Ie(h){return h.substring(Pt.length)}function Ye(h){return`${Pt}${h}`}function se(h){return typeof h=="string"&&h.substring(0,2)==="_:"}function k(h){return h.substring(2)}function D(h){return`_:${h.value}`}const z={boolean:"http://www.w3.org/2001/XMLSchema#boolean",dateTime:"http://www.w3.org/2001/XMLSchema#dateTime",date:"http://www.w3.org/2001/XMLSchema#date",time:"http://www.w3.org/2001/XMLSchema#time",decimal:"http://www.w3.org/2001/XMLSchema#decimal",integer:"http://www.w3.org/2001/XMLSchema#integer",string:"http://www.w3.org/2001/XMLSchema#string",langString:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"};function re(h){return h?"true":"false"}function Se(h){return h==="true"||h==="1"?!0:h==="false"||h==="0"?!1:null}function Ne(h){let y,S;if(h.millisecond&&(h.millisecond<10?y=`00${h.millisecond}`:h.millisecond<100?y=`0${h.millisecond}`:y=h.millisecond),typeof h.timezoneHourOffset=="number"){const N=Math.abs(h.timezoneHourOffset)<10?`0${Math.abs(h.timezoneHourOffset)}`:Math.abs(h.timezoneHourOffset);S=h.timezoneHourOffset>=0?`+${N}`:`-${N}`,h.timezoneMinuteOffset?S=`${S}:${h.timezoneMinuteOffset<10?`0${h.timezoneMinuteOffset}`:h.timezoneMinuteOffset}`:S+=":00"}return`${h.hour<10?`0${h.hour}`:h.hour}:${h.minute<10?`0${h.minute}`:h.minute}:${h.second<10?`0${h.second}`:h.second}${h.millisecond?`.${y}`:""}${S||""}`}function ct(h){if(!/\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(h))return null;const[S,N]=Xe(h),[U,J,ee]=S.split(":");let me=Number.parseInt(U,10),He=Number.parseInt(J,10);const[Ge,tt]=ee.split("."),kt=Number.parseInt(Ge,10),Kt=tt?Number.parseInt(tt,10):void 0;He>=60&&(me+=1,He-=60);const rn={hour:me,minute:He,second:kt};if(typeof Kt=="number"&&(rn.millisecond=Kt),typeof N=="string"){const[Nn,gr]=qe(N);if(typeof Nn!="number"||Nn>24||typeof gr!="number"||gr>59)return null;rn.timezoneHourOffset=Nn,rn.timezoneMinuteOffset=gr}return rn}function Pe(h){return h.toISOString()}function mt(h){if(!/-?\d{4,}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(h))return null;const[S,N]=h.split("T"),[U,J]=S.charAt(0)==="-"?[-1,S.substring(1)]:[1,S],[ee,me,He]=J.split("-"),Ge=Number.parseInt(ee,10)*U,tt=Number.parseInt(me,10)-1,kt=Number.parseInt(He,10),[Kt,rn]=Xe(N),[Nn,gr]=typeof rn=="string"?qe(rn):[0,0],[tr,no,Yr]=Kt.split(":"),An=Number.parseInt(tr,10)+Nn,Yi=Number.parseInt(no,10)+gr,[Ii,wa]=Yr.split("."),Qi=Number.parseInt(Ii,10),$s=wa?Number.parseInt(wa,10):0,Ao=new Date(Date.UTC(Ge,tt,kt,An,Yi,Qi,$s));return Ge>=0&&Ge<100&&Ao.setUTCFullYear(Ao.getUTCFullYear()-1900),Ao}function Tt(h){const y=h.getFullYear(),S=h.getMonth()+1,N=h.getDate(),[,U]=Xe(h.toISOString());return`${y}-${String(S).padStart(2,"0")}-${String(N).padStart(2,"0")}${U}`}function bt(h){if(!/-?\d{4,}-\d\d-\d\d(Z|(\+|-)\d\d:\d\d)?/.test(h))return null;const S=h,[N,U]=S.charAt(0)==="-"?[-1,S.substring(1)]:[1,S],[J,ee,me]=U.split("-"),He=me.length>2?me.substring(0,2):me,Ge=Number.parseInt(J,10)*N,tt=Number.parseInt(ee,10)-1,kt=Number.parseInt(He,10),Kt=12,rn=new Date(Date.UTC(Ge,tt,kt,Kt));return Ge>=0&&Ge<100&&rn.setUTCFullYear(rn.getUTCFullYear()-1900),rn}function Xe(h){if(h.endsWith("Z"))return[h.substring(0,h.length-1),"Z"];const y=h.split("+"),S=h.split("-");return y.length===1&&S.length===1?[y[0],void 0]:y.length>S.length?[y[0],`+${y[1]}`]:[S[0],`-${S[1]}`]}function qe(h){if(h==="Z")return[0,0];const y=h.charAt(0)==="+"?1:-1,[S,N]=h.substring(1).split(":"),U=Number.parseInt(S,10),J=Number.parseInt(N,10);return[U*y,J*y]}function Fe(h){return h.toString()}function et(h){const y=Number.parseFloat(h);return Number.isNaN(y)?null:y}function Q(h){return h.toString()}function j(h){const y=Number.parseInt(h,10);return Number.isNaN(y)?null:y}function G(h){return h.toLowerCase()}function V(h){return ot(h)&&h.termType==="NamedNode"}function Je(h){return ot(h)&&h.termType==="Literal"}function ot(h){return h!==null&&typeof h=="object"&&typeof h.termType=="string"&&typeof h.value=="string"&&typeof h.equals=="function"}function Qe(h){return V(h)&&ce(h.value)}function Yt(h){const y=w(h);if(typeof URL!="function")return!0;try{return new URL(y),!0}catch{return!1}}function $n(h,y){return sn.namedNode(qn(Ie(h.value),y))}function qn(h,y){if(typeof URL!="function")throw new Error("The URL interface is not available, so an IRI cannot be determined.");const S=new URL(y);return S.hash=h,S.href}const sn=l;function ze(h,y,S={}){var N;if(!["NamedNode","DefaultGraph"].includes(y.graph.termType))throw new Error(`Cannot parse Quads with nodes of type [${y.graph.termType}] as their Graph node.`);const J=y.graph.termType==="DefaultGraph"?"default":y.graph.value,ee=(N=h.graphs[J])!==null&&N!==void 0?N:{};return Le({...h,graphs:Le({...h.graphs,[J]:wt(ee,y,S)})})}function wt(h,y,S){var N;if(!["NamedNode","BlankNode"].includes(y.subject.termType))throw new Error(`Cannot parse Quads with nodes of type [${y.subject.termType}] as their Subject node.`);const J=y.subject.termType==="BlankNode"?`_:${y.subject.value}`:y.subject.value,ee=(N=h[J])!==null&&N!==void 0?N:{type:"Subject",url:J,predicates:{}};return Le({...h,[J]:dt(ee,y,S)})}function dt(h,y,S){return Le({...h,predicates:Be(h.predicates,y,S)})}function Be(h,y,S){var N;if(!["NamedNode"].includes(y.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${y.predicate.termType}] as their Predicate node.`);const J=y.predicate.value,ee=(N=h[J])!==null&&N!==void 0?N:{};return Le({...h,[J]:pt(ee,y,S)})}function pt(h,y,S){var N,U,J,ee,me,He,Ge,tt;if(y.object.termType==="NamedNode"){const kt=Le([...(N=h.namedNodes)!==null&&N!==void 0?N:[],y.object.value]);return Le({...h,namedNodes:kt})}if(y.object.termType==="Literal"){if(y.object.datatype.value===z.langString){const rn=y.object.language.toLowerCase(),Nn=Le([...(J=(U=h.langStrings)===null||U===void 0?void 0:U[rn])!==null&&J!==void 0?J:[],y.object.value]),gr=Le({...(ee=h.langStrings)!==null&&ee!==void 0?ee:{},[rn]:Nn});return Le({...h,langStrings:gr})}const kt=Le([...(He=(me=h.literals)===null||me===void 0?void 0:me[y.object.datatype.value])!==null&&He!==void 0?He:[],y.object.value]),Kt=Le({...(Ge=h.literals)!==null&&Ge!==void 0?Ge:{},[y.object.datatype.value]:kt});return Le({...h,literals:Kt})}if(y.object.termType==="BlankNode"){const kt=Xt(y.object,S),Kt=Le([...(tt=h.blankNodes)!==null&&tt!==void 0?tt:[],kt]);return Le({...h,blankNodes:Kt})}throw new Error(`Objects of type [${y.object.termType}] are not supported.`)}function Xt(h,y){var S,N;if(((S=y.chainBlankNodes)!==null&&S!==void 0?S:[]).find(Ge=>Ge.equals(h))===void 0)return D(h);const ee=((N=y.otherQuads)!==null&&N!==void 0?N:[]).filter(Ge=>Ge.subject.equals(h)),me=ee.filter(Ge=>!ve(Ge.object)).reduce((Ge,tt)=>{var kt;if(!["NamedNode"].includes(tt.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${tt.predicate.termType}] as their Predicate node.`);const rn=(kt=Ge[tt.predicate.value])!==null&&kt!==void 0?kt:{};return Le({...Ge,[tt.predicate.value]:pt(rn,tt,y)})},{});return ee.filter(Ge=>ve(Ge.object)).reduce((Ge,tt)=>{var kt,Kt;if(!["NamedNode"].includes(tt.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${tt.predicate.termType}] as their Predicate node.`);const Nn=(kt=Ge[tt.predicate.value])!==null&&kt!==void 0?kt:{},gr=(Kt=Nn.blankNodes)!==null&&Kt!==void 0?Kt:[];return Le({...Ge,[tt.predicate.value]:{...Nn,blankNodes:[...gr,Xt(tt.object,y)]}})},me)}function zt(h){const y=h.map(ee=>ee.subject).filter(ve),S=h.map(ee=>ee.object).filter(ve);function N(ee){return ee.every(me=>ee.every(He=>me.equals(He)))}const U=[];return S.forEach(ee=>{U.push(...fe(ee,h))}),y.concat(S).filter(ee=>{if(U.some(He=>He.equals(ee)))return!1;const me=h.filter(He=>He.object.equals(ee)).map(He=>He.subject);return me.length>0&&N(me)})}function tn(h,y={}){var S;const N=[],U=(S=y.dataFactory)!==null&&S!==void 0?S:l;return Object.keys(h.graphs).forEach(J=>{const ee=h.graphs[J],me=J==="default"?U.defaultGraph():U.namedNode(J);Object.keys(ee).forEach(He=>{const{predicates:Ge}=ee[He],tt=se(He)?U.blankNode(k(He)):U.namedNode(He);N.push(...Ht(Ge,tt,me,y))})}),N}function Ht(h,y,S,N={}){var U;const J=[],ee=(U=N.dataFactory)!==null&&U!==void 0?U:l;return Object.keys(h).forEach(me=>{var He,Ge,tt,kt;const Kt=ee.namedNode(me),rn=(He=h[me].langStrings)!==null&&He!==void 0?He:{},Nn=(Ge=h[me].namedNodes)!==null&&Ge!==void 0?Ge:[],gr=(tt=h[me].literals)!==null&&tt!==void 0?tt:{},tr=(kt=h[me].blankNodes)!==null&&kt!==void 0?kt:[];Object.keys(gr).forEach(An=>{const Yi=ee.namedNode(An);gr[An].forEach(wa=>{const Qi=ee.literal(wa,Yi);J.push(ee.quad(y,Kt,Qi,S))})}),Object.keys(rn).forEach(An=>{rn[An].forEach(Ii=>{const wa=ee.literal(Ii,An);J.push(ee.quad(y,Kt,wa,S))})}),Nn.forEach(An=>{const Yi=ee.namedNode(An);J.push(ee.quad(y,Kt,Yi,S))}),tr.forEach(An=>{if(se(An)){const Yi=ee.blankNode(k(An));J.push(ee.quad(y,Kt,Yi,S))}else{const Yi=ee.blankNode(),Ii=ee.quad(y,Kt,Yi,S),wa=Ht(An,Yi,S);J.push(Ii),J.push(...wa)}})}),J}function fe(h,y,S=[]){if(S.find(me=>me.equals(h))!==void 0)return S;const N=y.filter(me=>me.subject.equals(h)&&ve(me.object)).map(me=>me.object);if(N.length===0)return[];const U=[...S,h],J=N.map(me=>fe(me,y,U)),ee=[];for(const me of J)ee.push(...me);return ee}function ve(h){return h.termType==="BlankNode"}const Ot=()=>{const h=[],y=[],S=[];return{onQuad:N=>{h.push(N)},onError:N=>{S.push(N)},onComplete:N=>{y.push(N)},parse:async(N,U)=>{(await Ct(ge(U))).parse(N,(ee,me)=>{ee?S.forEach(He=>He(ee)):me?h.forEach(He=>He(me)):y.forEach(He=>He())})}}};async function Ct(h){return new a.Parser({format:"text/turtle",baseIRI:h})}async function Ft(h,y){const S="text/turtle",N=new a.Writer({format:S,prefixes:y?.prefixes}),U=h.map(me=>sn.quad(me.subject,me.predicate,me.object,void 0));return N.addQuads(U),await new Promise((me,He)=>{N.end((Ge,tt)=>{Ge?He(Ge):me(tt)})})}const Zt={acl:"http://www.w3.org/ns/auth/acl#",acp:"http://www.w3.org/ns/solid/acp#",cc:"http://creativecommons.org/ns#",cert:"http://www.w3.org/ns/auth/cert#",csvw:"http://www.w3.org/ns/csvw#",current:"#",dc:"http://purl.org/dc/terms/",dcam:"http://purl.org/dc/dcam/",dcat:"http://www.w3.org/ns/dcat#",dctype:"http://purl.org/dc/dcmitype/",foaf:"http://xmlns.com/foaf/0.1/",ldp:"http://www.w3.org/ns/ldp#",owl:"http://www.w3.org/2002/07/owl#",posixstat:"http://www.w3.org/ns/posix/stat#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"https://schema.org/",shacl:"http://www.w3.org/ns/shacl#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",solid:"http://www.w3.org/ns/solid/terms#",swapdoc:"http://www.w3.org/2000/10/swap/pim/doc#",ui:"http://www.w3.org/ns/ui#",vann:"http://purl.org/vocab/vann/",vcard:"http://www.w3.org/2006/vcard/ns#",ws:"http://www.w3.org/ns/pim/space#",xsd:"http://www.w3.org/2001/XMLSchema#"},nn=s.dataset;function Ln(h){const y={graphs:{default:{}},type:"Dataset"},S=Array.from(h),N=zt(S);return S.filter(J=>N.every(ee=>!ee.equals(J.subject))).reduce((J,ee)=>ze(J,ee,{otherQuads:S,chainBlankNodes:N}),y)}function $t(h,y={}){var S,N;return((N=(S=y.datasetFactory)===null||S===void 0?void 0:S.dataset)!==null&&N!==void 0?N:nn)(tn(h,y))}async function en(h,y){const{prefixes:S=Zt,thing:N}={...y},U=new a.Writer({format:"application/turtle",prefixes:S}),J=N?new a.NamedNode(N):void 0;for(const ee of $t(h).match(J))U.addQuad(ee);return new Promise((ee,me)=>{U.end((He,Ge)=>{He?me(He):ee(Ge)})})}var vn=Object.freeze({__proto__:null,getJsonLdParser:It,getTurtleParser:Ot,solidDatasetAsTurtle:en});const on={fetch:_},Un=["Slug","If-None-Match","Content-Type"];function xn(h){return Un.some(y=>h[y]!==void 0)}async function Qn(h,y=on){const S={...on,...y},N=w(h),U=await S.fetch(N,S.init);if(E(U))throw new at(`Fetching the File failed: [${U.status}] [${U.statusText}] ${await U.text()}.`,U);const J=T(U),ee=await U.blob();return Object.assign(ee,{internal_resourceInfo:J})}async function mn(h,y=on){const S={...on,...y},N=d(h)?w(rt(h)):w(h),U=await S.fetch(N,{...S.init,method:"DELETE"});if(E(U))throw new at(`Deleting the file at [${N}] failed: [${U.status}] [${U.statusText}] ${await U.text()}.`,U)}async function ln(h,y,S=on){const N=w(h),U=await kn(N,y,"POST",S);if(E(U))throw new at(`Saving the file in [${h}] failed: [${U.status}] [${U.statusText}] ${await U.text()}.`,U);const J=U.headers.get("Location");if(J===null)throw new Error("Could not determine the location of the newly saved file.");const ee=new URL(J,new URL(N).origin).href,me=C(y),He={internal_resourceInfo:{isRawData:!0,sourceIri:ee,contentType:Pr(y,S.contentType)}};return Object.assign(me,He)}async function Gt(h,y,S=on){const N=w(h),U=await kn(N,y,"PUT",S);if(E(U))throw new at(`Overwriting the file at [${N}] failed: [${U.status}] [${U.statusText}] ${await U.text()}.`,U);const J=C(y),ee=T(U);return ee.sourceIri=N,ee.isRawData=!0,Object.assign(J,{internal_resourceInfo:ee})}function nr(h){return Array.isArray(h)}function Mr(h){return typeof h.forEach=="function"}function yr(h){if(typeof h>"u")return{};let y={};return nr(h)?h.forEach(([S,N])=>{y[S]=N}):Mr(h)?h.forEach((S,N)=>{y[N]=S}):y=h,y}async function kn(h,y,S,N){var U,J;const ee={...on,...N},me=yr((J=(U=ee.init)===null||U===void 0?void 0:U.headers)!==null&&J!==void 0?J:{});if(xn(me))throw new Error(`No reserved header (${Un.join(", ")}) should be set in the optional RequestInit.`);ee.slug!==void 0&&(me.Slug=ee.slug),me["Content-Type"]=Pr(y,N.contentType);const He=w(h);return ee.fetch(He,{...ee.init,headers:me,method:S,body:y})}function Pr(h,y){if(typeof y=="string")return y;const S=typeof h=="object"&&h!==null&&"type"in h&&typeof h.type=="string"&&h.type.length>0?h.type:void 0;return S??"application/octet-stream"}function $r(h){var y,S,N,U,J,ee,me,He;if(V(h))return`<${h.value}> (URL)`;if(Je(h)){if(!V(h.datatype))return`[${h.value}] (RDF/JS Literal of unknown type)`;let Ge;switch(h.datatype.value){case z.boolean:return Ge=(S=(y=Se(h.value))===null||y===void 0?void 0:y.valueOf())!==null&&S!==void 0?S:`Invalid data: \`${h.value}\``,`${Ge} (boolean)`;case z.dateTime:return Ge=(U=(N=mt(h.value))===null||N===void 0?void 0:N.toUTCString())!==null&&U!==void 0?U:`Invalid data: \`${h.value}\``,`${Ge} (datetime)`;case z.decimal:return Ge=(ee=(J=et(h.value))===null||J===void 0?void 0:J.toString())!==null&&ee!==void 0?ee:`Invalid data: \`${h.value}\``,`${Ge} (decimal)`;case z.integer:return Ge=(He=(me=j(h.value))===null||me===void 0?void 0:me.toString())!==null&&He!==void 0?He:`Invalid data: \`${h.value}\``,`${Ge} (integer)`;case z.langString:return`"${h.value}" (${h.language} string)`;case z.string:return`"${h.value}" (string)`;default:return`[${h.value}] (RDF/JS Literal of type: \`${h.datatype.value}\`)`}}return h.termType==="BlankNode"?`[${h.value}] (RDF/JS BlankNode)`:h.termType==="Quad"?"??? (nested RDF* Quad)":h.termType==="Variable"?`?${h.value} (RDF/JS Variable)`:h}function cn(h){if(!or(h))throw new pa(h)}function _i(h,y){const S=p(h)?h.internal_changeLog:{additions:[],deletions:[]},[N,U]=y.filter(J=>!Si(J)).reduce(([J,ee],me)=>typeof ee.find(Ge=>Ge.equals(me))<"u"?[J,ee.filter(Ge=>!Ge.equals(me))]:[J.concat(me),ee],[S.additions,S.deletions]);return Le({...h,internal_changeLog:{additions:N,deletions:U}})}function Fr(h,y){const S=p(h)?h.internal_changeLog:{additions:[],deletions:[]},[N,U]=y.filter(J=>!Si(J)).reduce(([J,ee],me)=>typeof J.find(Ge=>Ge.equals(me))<"u"?[J.filter(Ge=>!Ge.equals(me)),ee]:[J,ee.concat(me)],[S.additions,S.deletions]);return Le({...h,internal_changeLog:{additions:N,deletions:U}})}function ta(h){return p(h)?h:Le({...h,internal_changeLog:{additions:[],deletions:[]}})}function Si(h){return h.subject.termType==="BlankNode"||h.object.termType==="BlankNode"}function Ha(h){return Object.keys(h.predicates).filter(y=>Xn(h,y)!==null)}function ha(h,y){var S,N,U;if(cn(h),!Yt(y))throw new Ur(y);const J=w(y),ee=(U=(N=(S=h.predicates[J])===null||S===void 0?void 0:S.namedNodes)===null||N===void 0?void 0:N[0])!==null&&U!==void 0?U:null;return ee===null?null:ce(ee)?`#${Ie(ee)}`:ee}const Ei=ha;function b(h,y){var S,N,U;if(cn(h),!Yt(y))throw new Ur(y);const J=w(y);return(U=(N=(S=h.predicates[J])===null||S===void 0?void 0:S.namedNodes)===null||N===void 0?void 0:N.map(ee=>ce(ee)?`#${Ie(ee)}`:ee))!==null&&U!==void 0?U:[]}const v=b;function A(h,y){cn(h);const S=gn(h,y,z.boolean);return S===null?null:Se(S)}function P(h,y){return cn(h),sr(h,y,z.boolean).map(Se).filter(N=>N!==null)}function B(h,y){cn(h);const S=gn(h,y,z.dateTime);return S===null?null:mt(S)}function X(h,y){return cn(h),sr(h,y,z.dateTime).map(mt).filter(N=>N!==null)}function ue(h,y){cn(h);const S=gn(h,y,z.date);return S===null?null:bt(S)}function Ee(h,y){return cn(h),sr(h,y,z.date).map(bt).filter(N=>N!==null)}function ye(h,y){cn(h);const S=gn(h,y,z.time);return S===null?null:ct(S)}function _e(h,y){return cn(h),sr(h,y,z.time).map(ct).filter(N=>N!==null)}function Te(h,y){cn(h);const S=gn(h,y,z.decimal);return S===null?null:et(S)}function Oe(h,y){return cn(h),sr(h,y,z.decimal).map(N=>et(N)).filter(N=>N!==null)}function ke(h,y){cn(h);const S=gn(h,y,z.integer);return S===null?null:j(S)}function We(h,y){return cn(h),sr(h,y,z.integer).map(N=>j(N)).filter(N=>N!==null)}function ut(h,y){return yt(h,y,"en")}function yt(h,y,S){var N,U;if(cn(h),!Yt(y))throw new Ur(y);const J=w(y),ee=(U=(N=h.predicates[J])===null||N===void 0?void 0:N.langStrings)!==null&&U!==void 0?U:{},He=Object.keys(ee).find(Ge=>Ge.toLowerCase()===S.toLowerCase()&&Array.isArray(ee[Ge])&&ee[Ge].length>0);return typeof He=="string"?ee[He][0]:null}function Et(h,y){return le(h,y,"en")}function le(h,y,S){var N,U;if(cn(h),!Yt(y))throw new Ur(y);const J=w(y),ee=(U=(N=h.predicates[J])===null||N===void 0?void 0:N.langStrings)!==null&&U!==void 0?U:{},He=Object.keys(ee).find(Ge=>Ge.toLowerCase()===S.toLowerCase()&&Array.isArray(ee[Ge])&&ee[Ge].length>0);return typeof He=="string"?[...ee[He]]:[]}function Ce(h,y){var S,N;if(cn(h),!Yt(y))throw new Ur(y);const U=w(y),J=(N=(S=h.predicates[U])===null||S===void 0?void 0:S.langStrings)!==null&&N!==void 0?N:{};return new Map(Object.entries(J).map(([ee,me])=>[ee,[...me]]))}function De(h,y){return cn(h),gn(h,y,z.string)}function Ue(h,y){return cn(h),sr(h,y,z.string)}function ht(h,y){const S=Ei(h,y);return S===null?null:sn.namedNode(S)}function At(h,y){return v(h,y).map(N=>sn.namedNode(N))}function dn(h,y){var S,N,U,J;if(cn(h),!Yt(y))throw new Ur(y);const ee=w(y),me=(N=(S=h.predicates[ee])===null||S===void 0?void 0:S.langStrings)!==null&&N!==void 0?N:{},He=Object.keys(me);if(He.length>0){const kt=He.find(Kt=>Array.isArray(me[Kt])&&me[Kt].length>0);if(typeof kt=="string")return sn.literal(me[kt][0],kt)}const Ge=(J=(U=h.predicates[ee])===null||U===void 0?void 0:U.literals)!==null&&J!==void 0?J:{},tt=Object.keys(Ge);if(tt.length>0){const kt=tt.find(Kt=>Array.isArray(Ge[Kt])&&Ge[Kt].length>0);if(typeof kt=="string")return sn.literal(Ge[kt][0],sn.namedNode(kt))}return null}function Bt(h,y){var S,N,U,J;if(cn(h),!Yt(y))throw new Ur(y);const ee=w(y);let me=[];const He=(N=(S=h.predicates[ee])===null||S===void 0?void 0:S.langStrings)!==null&&N!==void 0?N:{},Ge=Object.keys(He);for(const Kt of Ge){const Nn=He[Kt].map(gr=>sn.literal(gr,Kt));me=me.concat(Nn)}const tt=(J=(U=h.predicates[ee])===null||U===void 0?void 0:U.literals)!==null&&J!==void 0?J:{},kt=Object.keys(tt);for(const Kt of kt){const rn=tt[Kt],Nn=sn.namedNode(Kt),gr=rn.map(tr=>sn.literal(tr,Nn));me=me.concat(gr)}return me}function Xn(h,y){var S,N;cn(h);const U=ht(h,y);if(U!==null)return U;const J=dn(h,y);if(J!==null)return J;const ee=w(y),me=(N=(S=h.predicates[ee])===null||S===void 0?void 0:S.blankNodes)!==null&&N!==void 0?N:[];if(me.length>0){const He=se(me[0])?k(me[0]):void 0;return sn.blankNode(He)}return null}function un(h,y){var S,N;cn(h);const U=At(h,y),J=Bt(h,y),ee=w(y),He=((N=(S=h.predicates[ee])===null||S===void 0?void 0:S.blankNodes)!==null&&N!==void 0?N:[]).map(tt=>{const kt=se(tt)?k(tt):void 0;return sn.blankNode(kt)});return U.concat(J).concat(He)}function gn(h,y,S){var N,U,J,ee;if(!Yt(y))throw new Ur(y);const me=w(y);return(ee=(J=(U=(N=h.predicates[me])===null||N===void 0?void 0:N.literals)===null||U===void 0?void 0:U[S])===null||J===void 0?void 0:J[0])!==null&&ee!==void 0?ee:null}function sr(h,y,S){var N,U,J;if(!Yt(y))throw new Ur(y);const ee=w(y);return[...(J=(U=(N=h.predicates[ee])===null||N===void 0?void 0:N.literals)===null||U===void 0?void 0:U[S])!==null&&J!==void 0?J:[]]}function hn(h,y,S={}){var N;if(!Yt(y))throw new uo(y);const U=typeof S.scope<"u"?w(S.scope):"default",J=(N=h.graphs[U])!==null&&N!==void 0?N:{},ee=w(y),me=ce(ee)&&c(h)?qn(Ie(ee),ge(h)):ee,He=J[me];return typeof He>"u"?null:He}function lr(h,y={acceptBlankNodes:!1}){var S;const N=typeof y.scope<"u"?w(y.scope):"default",U=(S=h.graphs[N])!==null&&S!==void 0?S:{};return Object.values(U).filter(J=>!se(J.url)||y.acceptBlankNodes)}function ar(h,y){var S;const N=Ui(y)&&c(h)?qn(Ie(y.url),ge(h)):y.url,U=h.graphs.default,J=Le({...U,[N]:Le({...y,url:N})}),ee=Le({...h.graphs,default:J}),me=sn.namedNode(N),He=(S=h.graphs.default[N])===null||S===void 0?void 0:S.predicates,Ge=typeof He<"u"?Ht(He,me,sn.defaultGraph()):[],tt=Ht(y.predicates,me,sn.defaultGraph());return _i(Fr(Le({...h,graphs:ee}),Ge),tt)}function Lr(h,y){var S;let N;V(y)?N=y.value:typeof y=="string"?N=ce(y)&&c(h)?qn(Ie(y),ge(h)):y:Ui(y)?N=y.url:N=Cn(y);const J={...h.graphs.default};delete J[N];const ee=Le({...h.graphs,default:Le(J)}),me=sn.namedNode(N),He=(S=h.graphs.default[N])===null||S===void 0?void 0:S.predicates,Ge=typeof He<"u"?Ht(He,me,sn.defaultGraph()):[];return Fr(Le({...h,graphs:ee}),Ge)}function rr(h={}){var y;if(typeof h.url<"u"){const{url:J}=h;if(!Yt(J))throw new uo(J);return Le({type:"Subject",predicates:Le({}),url:J})}const S=(y=h.name)!==null&&y!==void 0?y:Oo(),N=Ye(S);return Le({type:"Subject",predicates:Le({}),url:N})}function or(h){return typeof h=="object"&&h!==null&&typeof h.type=="string"&&h.type==="Subject"}function Cr(h,y){if(Ui(h)){if(typeof y>"u")throw new Error("The URL of a Thing that has not been persisted cannot be determined without a base URL.");return qn(Ie(h.url),y)}return h.url}const Cn=Cr;function Zr(h){let y="";Ui(h)?y+=`## Thing (no URL yet  identifier: \`#${Ie(h.url)}\`)
`:y+=`## Thing: ${h.url}
`;const S=Object.keys(h.predicates);if(S.length===0)y+=`
<empty>
`;else for(const N of S){y+=`
Property: ${N}
`;const U=un(h,N);y+=U.reduce((J,ee)=>`${J}- ${$r(ee)}
`,"")}return y}function Ui(h){return ce(h.url)}class pa extends g{constructor(y){const S=`Expected a Thing, but received: [${y}].`;super(S),this.receivedValue=y}}class Ur extends g{constructor(y){const S=V(y)?y.value:y,N=`Expected a valid URL to identify a property, but received: [${S}].`;super(N),this.receivedProperty=S}}class na extends g{constructor(y){const S=V(y)?y.value:y,N=`Expected a valid URL value, but received: [${S}].`;super(N),this.receivedValue=S}}class uo extends g{constructor(y){const S=V(y)?y.value:y,N=`Expected a valid URL to identify a Thing, but received: [${S}].`;super(N),this.receivedValue=S}}const Oo=()=>u.v4();function Nr(h){const y=new URL(h);return y.hash="",y.href}function ri(){return Le({type:"Dataset",graphs:{default:{}}})}async function Va(h,y={}){if(E(h))throw new at(`Fetching the SolidDataset at [${h.url}] failed: [${h.status}] [${h.statusText}] ${await h.text()}.`,h);const S=Ze(h),N={"text/turtle":Ot(),...y.parsers},U=lt(S);if(U===null)throw new Error(`Could not determine the content type of the Resource at [${ge(S)}].`);const J=U.split(";")[0],ee=N[J];if(typeof ee>"u")throw new Error(`The Resource at [${ge(S)}] has a MIME type of [${J}], but the only parsers available are for the following MIME types: [${Object.keys(N).join(", ")}].`);const me=await h.text();return new Promise((Ge,tt)=>{let kt=Le({graphs:Le({default:Le({})}),type:"Dataset"});const Kt=[],rn=[];ee.onError(Nn=>{tt(new Error(`Encountered an error parsing the Resource at [${ge(S)}] with content type [${U}]: ${Nn}`))}),ee.onQuad(Nn=>{rn.push(Nn),Nn.subject.termType==="BlankNode"||Nn.object.termType==="BlankNode"?Kt.push(Nn):kt=ze(kt,Nn)}),ee.onComplete(async()=>{const gr=Kt.length<=20?zt(Kt):[];kt=Kt.filter(Yr=>gr.every(An=>!An.equals(Yr.subject))).reduce((Yr,An)=>ze(Yr,An,{otherQuads:rn,chainBlankNodes:gr}),kt);const no=Le({...kt,...S});Ge(no)}),ee.parse(me,S)})}async function ii(h,y=pe){var S;h=w(h);const N={...pe,...y},U=Object.keys((S=y.parsers)!==null&&S!==void 0?S:{}),J=U.length>0?U.join(", "):"text/turtle",ee=await N.fetch(h,{headers:{Accept:J}});if(E(ee))throw new at(`Fetching the Resource at [${h}] failed: [${ee.status}] [${ee.statusText}] ${await ee.text()}.`,ee);return await Va(ee,y)}async function bs(h){const y=h.internal_changeLog.deletions.length>0?`DELETE DATA {${(await Ft(h.internal_changeLog.deletions.map(an))).trim()}};`:"",S=h.internal_changeLog.additions.length>0?`INSERT DATA {${(await Ft(h.internal_changeLog.additions.map(an))).trim()}};`:"";return{method:"PATCH",body:`${y} ${S}`,headers:{"Content-Type":"application/sparql-update"}}}async function Ra(h,y){return{method:"PUT",body:await Ft(tn(h).map(an),y),headers:{"Content-Type":"text/turtle","If-None-Match":"*",Link:`<${q.Resource}>; rel="type"`}}}async function M(h,y,S=pe){h=w(h);const N={...pe,...S},U=ta(y),J=je(U,h)?await bs(U):await Ra(U,S),ee=await N.fetch(h,J);if(E(ee)){const tt=je(U,h)?`The changes that were sent to the Pod are listed below.

${Wt(U)}`:`The SolidDataset that was sent to the Pod is listed below.

${Vt(U)}`;throw new at(`Storing the Resource at [${h}] failed: [${ee.status}] [${ee.statusText}] ${await ee.text()}.

${tt}`,ee)}const me={...T(ee),isRawData:!1},He=Le({...y,internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:me});return wn(He)}async function ne(h,y=pe){const S={...pe,...y},N=d(h)?w(ge(h)):w(h),U=await S.fetch(N,{method:"DELETE"});if(E(U))throw new at(`Deleting the SolidDataset at [${N}] failed: [${U.status}] [${U.statusText}] ${await U.text()}.`,U)}async function oe(h,y=pe){var S;h=w(h),h=h.endsWith("/")?h:`${h}/`;const N={...pe,...y},U=await N.fetch(h,{method:"PUT",body:N.initialContent?await Ft(tn(N.initialContent).map(an)):void 0,headers:{Accept:"text/turtle","Content-Type":"text/turtle","If-None-Match":"*",Link:`<${q.BasicContainer}>; rel="type"`}});if(E(U)){const me=N.initialContent===void 0?"empty":"non-empty";throw new at(`Creating the ${me} Container at [${h}] failed: [${U.status}] [${U.statusText}] ${await U.text()}.`,U)}const J=T(U);return Le({...(S=y.initialContent)!==null&&S!==void 0?S:ri(),internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:J})}function he(h,y){return Nr(h.internal_resourceInfo.sourceIri)===Nr(y)}function je(h,y){return p(h)&&d(h)&&typeof h.internal_resourceInfo.sourceIri=="string"&&he(h,y)}async function we(h,y,S=pe){const N={...pe,...S};h=w(h);const U=await Ft(tn(y).map(an)),J={"Content-Type":"text/turtle",Link:`<${q.Resource}>; rel="type"`};S.slugSuggestion&&(J.slug=S.slugSuggestion);const ee=await N.fetch(h,{method:"POST",body:U,headers:J});if(E(ee))throw new at(`Storing the Resource in the Container at [${h}] failed: [${ee.status}] [${ee.statusText}] ${await ee.text()}.

The SolidDataset that was sent to the Pod is listed below.

${Vt(y)}`,ee);const me=T(ee);if(!me.location)throw new Error("Could not determine the location of the newly saved SolidDataset.");let He;try{He=new URL(me.location).href}catch{He=new URL(me.location,ee.url).href}const tt=Le({...y,...{internal_resourceInfo:{isRawData:!1,sourceIri:He}}});return wn(tt)}async function Ke(h,y=pe){h=w(h);const S={...pe,...y},N={"Content-Type":"text/turtle",Link:`<${q.BasicContainer}>; rel="type"`};y.slugSuggestion&&(N.slug=y.slugSuggestion);const U=await S.fetch(h,{method:"POST",headers:N});if(E(U))throw new at(`Creating an empty Container in the Container at [${h}] failed: [${U.status}] [${U.statusText}] ${await U.text()}.`,U);const J=T(U);if(!J.location)throw new Error("Could not determine the location of the newly created Container.");try{const ee=new URL(J.location).toString();return Le({...ri(),internal_resourceInfo:{...J,sourceIri:ee}})}catch{}return Le({...ri(),internal_resourceInfo:{...J,sourceIri:new URL(J.location,U.url).href}})}async function Rt(h,y=pe){const S=d(h)?w(ge(h)):w(h);if(!it(h))throw new Error(`You're trying to delete the Container at [${S}], but Container URLs should end in a \`/\`. Are you sure this is a Container?`);const U=await{...pe,...y}.fetch(S,{method:"DELETE"});if(E(U))throw new at(`Deleting the Container at [${S}] failed: [${U.status}] [${U.statusText}] ${await U.text()}.`,U)}function _t(h,y){const S=new URL(y),N=new URL(h),U=N.href.startsWith(S.href),J=N.pathname.substring(S.pathname.length,N.pathname.length).replace(/(^\/)|(\/$)/g,"");return U&&J.length>=1&&!J.includes("/")}function Nt(h){const y=ge(h),S=hn(h,y);return S===null?[]:v(S,q.contains).filter(N=>_t(N,y))}function qt(h){const y=ge(h),S=hn(h,y);if(S===null)return{isValid:!0,invalidContainedResources:[]};const N=v(S,q.contains).filter(U=>!_t(U,y));return N.length>0?{isValid:!1,invalidContainedResources:N}:{isValid:!0,invalidContainedResources:[]}}function Vt(h){let y="";d(h)?y+=`# SolidDataset: ${ge(h)}
`:y+=`# SolidDataset (no URL yet)
`;const S=lr(h);return S.length===0?y+=`
<empty>
`:S.forEach(N=>{y+=`
${Zr(N)}`,p(h)&&(y+=`
${Jt(h,N)}
`)}),y}function Wt(h){if(!d(h))return"This is a newly initialized SolidDataset, so there is no source to compare it to.";if(!p(h)||h.internal_changeLog.additions.length===0&&h.internal_changeLog.deletions.length===0)return`## Changes compared to ${ge(h)}

This SolidDataset has not been modified since it was fetched from ${ge(h)}.
`;let y=`## Changes compared to ${ge(h)}
`;const S=Lt(h);return Object.keys(S).forEach(N=>{y+=`
### Thing: ${N}
`;const U=S[N];Object.keys(U).forEach(J=>{y+=`
Property: ${J}
`;const{deleted:ee}=U[J],{added:me}=U[J];ee.length>0&&(y+=`- Removed:
`,y+=ee.reduce((He,Ge)=>`${He}  - ${$r(Ge)}
`,"")),me.length>0&&(y+=`- Added:
`,y+=me.reduce((He,Ge)=>`${He}  - ${$r(Ge)}
`,""))})}),y}function Lt(h){const y=Object.create(null);return h.internal_changeLog.deletions.forEach(S=>{var N,U,J;const ee=Qe(S.subject)?$n(S.subject,ge(h)):S.subject;if(!V(ee)||!V(S.predicate))return;const me=w(ee),He=w(S.predicate);(N=y[me])!==null&&N!==void 0||(y[me]=Object.create(null)),(U=(J=y[me])[He])!==null&&U!==void 0||(J[He]={added:[],deleted:[]}),y[me][He].deleted.push(S.object)}),h.internal_changeLog.additions.forEach(S=>{var N,U,J;const ee=Qe(S.subject)?$n(S.subject,ge(h)):S.subject;if(!V(ee)||!V(S.predicate))return;const me=w(ee),He=w(S.predicate);(N=y[me])!==null&&N!==void 0||(y[me]=Object.create(null)),(U=(J=y[me])[He])!==null&&U!==void 0||(J[He]={added:[],deleted:[]}),y[me][He].added.push(S.object)}),y}function Jt(h,y){const S=sn.namedNode(y.url),N=h.internal_changeLog.additions.reduce((me,He)=>He.subject.equals(S)?me+1:me,0),U=h.internal_changeLog.deletions.reduce((me,He)=>He.subject.equals(S)?me+1:me,0),J=N===1?"1 new value added":`${N} new values added`,ee=U===1?"1 value removed":`${U} values removed`;return`(${J} / ${ee})`}function an(h){const y=V(h.subject)?fn(h.subject):h.subject,S=V(h.object)?fn(h.object):h.object;return sn.quad(y,h.predicate,S,h.graph)}function fn(h){return ce(h.value)?sn.namedNode(`#${Ie(h.value)}`):h}function wn(h){const y=ge(h),S=h.graphs.default,U=Object.keys(S).reduce((ee,me)=>{const He=Yn(ee[me],y),Ge=ce(me)?`${y}#${Ie(me)}`:me,tt={...ee};return delete tt[me],tt[Ge]=He,Le(tt)},S),J=Le({...h.graphs,default:U});return Le({...h,graphs:J})}function Yn(h,y){const N=Object.keys(h.predicates).reduce((U,J)=>{var ee;const me=(ee=U[J].namedNodes)!==null&&ee!==void 0?ee:[];if(me.every(tt=>!ce(tt)))return U;const He=Le(me.map(tt=>ce(tt)?`${y}#${Ie(tt)}`:tt)),Ge=Le({...U[J],namedNodes:He});return Le({...U,[J]:Ge})},h.predicates);return Le({...h,predicates:N,url:ce(h.url)?`${y}#${Ie(h.url)}`:h.url})}async function _n(h,y=pe){const S=w(h);try{const me=new URL("/.well-known/solid",new URL(S).origin).href;return await ii(me,{fetch:_})}catch{}const N=await be(S,{fetch:y.fetch,ignoreAuthenticationErrors:!0}),J=$e(N)[ae.storage],ee=J?.length===1?J[0]:null;if(ee!==null){const me=new URL(".well-known/solid",ee.endsWith("/")?ee:`${ee}/`).href;return ii(me,{...y,parsers:{"application/ld+json":It()}})}throw new Error("Could not determine storage root or well-known solid resource.")}function Qt(h){return{...ri(),internal_resourceInfo:{sourceIri:w(h),isRawData:!1,contentType:"text/turtle",linkedResources:{}}}}function Hn(h){const y=w(h);if(!y.endsWith("/"))throw new Error("A Container's URL should end in a slash. Please update your tests.");return Qt(y)}function pn(h,y){const S=new Blob;return Object.assign(S,{internal_resourceInfo:{sourceIri:w(h),isRawData:!0,contentType:y?.contentType,linkedResources:{}}})}function Bn(h,y=404,S="Not Found"){const N=new r.Response(void 0,{status:y,statusText:S});return new at(`Fetching the Resource at [${h}] failed: [${N.status}] [${N.statusText}].`,N)}const er=(h,y,S)=>{var N,U;if(cn(h),!Yt(y))throw new Ur(y);if(!or(S)&&!Yt(S))throw new na(S);const J=w(y),ee=(N=h.predicates[J])!==null&&N!==void 0?N:{},me=(U=ee.namedNodes)!==null&&U!==void 0?U:[];let He;V(S)?He=S.value:typeof S=="string"?He=S:Ui(S)?He=S.url:He=Cn(S);const Ge=Le(me.concat(w(He))),tt=Le({...ee,namedNodes:Ge}),kt=Le({...h.predicates,[J]:tt});return Le({...h,predicates:kt})},Mt=er,Pn=(h,y,S)=>(cn(h),Kr(h,y,re(S),z.boolean)),Ar=(h,y,S)=>(cn(h),Kr(h,y,Pe(S),z.dateTime)),jn=(h,y,S)=>(cn(h),Kr(h,y,Tt(S),z.date)),wr=(h,y,S)=>(cn(h),Kr(h,y,Ne(S),z.time)),pr=(h,y,S)=>(cn(h),Kr(h,y,Fe(S),z.decimal)),kr=(h,y,S)=>(cn(h),Kr(h,y,Q(S),z.integer));function Sn(h,y,S){return zn(h,y,S,"en")}function zn(h,y,S,N){var U,J,ee;if(cn(h),!Yt(y))throw new Ur(y);const me=w(y),He=G(N),Ge=(U=h.predicates[me])!==null&&U!==void 0?U:{},tt=(J=Ge.langStrings)!==null&&J!==void 0?J:{},kt=(ee=tt[He])!==null&&ee!==void 0?ee:[],Kt=Le(kt.concat(S)),rn=Le({...tt,[He]:Kt}),Nn=Le({...Ge,langStrings:rn}),gr=Le({...h.predicates,[me]:Nn});return Le({...h,predicates:gr})}const ai=(h,y,S)=>(cn(h),Kr(h,y,S,z.string));function xi(h,y,S){return er(h,y,S.value)}function Tn(h,y,S){if(cn(h),!Yt(y))throw new Ur(y);return S.datatype.value===z.langString?zn(h,y,S.value,S.language):Kr(h,y,S.value,S.datatype.value)}function Wr(h,y,S){var N,U;if(S.termType==="NamedNode")return xi(h,y,S);if(S.termType==="Literal")return Tn(h,y,S);if(S.termType==="BlankNode"){if(cn(h),!Yt(y))throw new Ur(y);const J=w(y),ee=(N=h.predicates[J])!==null&&N!==void 0?N:{},me=(U=ee.blankNodes)!==null&&U!==void 0?U:[],He=Le(me.concat(D(S))),Ge=Le({...ee,blankNodes:He}),tt=Le({...h.predicates,[J]:Ge});return Le({...h,predicates:tt})}throw new Error(`Term type [${S.termType}] is not supported by @inrupt/solid-client.`)}function Kr(h,y,S,N){var U,J,ee;if(cn(h),!Yt(y))throw new Ur(y);const me=w(y),He=(U=h.predicates[me])!==null&&U!==void 0?U:{},Ge=(J=He.literals)!==null&&J!==void 0?J:{},tt=(ee=Ge[N])!==null&&ee!==void 0?ee:[],kt=Le(tt.concat(S)),Kt=Le({...Ge,[N]:kt}),rn=Le({...He,literals:Kt}),Nn=Le({...h.predicates,[me]:rn});return Le({...h,predicates:Nn})}function ir(h,y){if(cn(h),!Yt(y))throw new Ur(y);const S=w(y),N={...h.predicates};return delete N[S],Le({...h,predicates:Le(N)})}const ei=(h,y,S)=>{var N,U,J;if(cn(h),!Yt(y))throw new Ur(y);const ee=w(y);if(!or(S)&&!Yt(S))throw new na(S);const me=or(S)?Cn(S):w(S),He=Le((J=(U=(N=h.predicates[ee])===null||N===void 0?void 0:N.namedNodes)===null||U===void 0?void 0:U.filter(kt=>kt.toLowerCase()!==me.toLowerCase()))!==null&&J!==void 0?J:[]),Ge=Le({...h.predicates[ee],namedNodes:He}),tt=Le({...h.predicates,[ee]:Ge});return Le({...h,predicates:tt})},ur=ei,$a=(h,y,S)=>(cn(h),fo(h,y,z.boolean,N=>Se(N)===S)),wc=(h,y,S)=>(cn(h),fo(h,y,z.dateTime,N=>{var U;return((U=mt(N))===null||U===void 0?void 0:U.getTime())===S.getTime()})),rl=(h,y,S)=>(cn(h),fo(h,y,z.date,function(N){const U=bt(N);return U?U.getFullYear()===S.getFullYear()&&U.getMonth()===S.getMonth()&&U.getUTCDate()===S.getUTCDate():!1})),_c=(h,y,S)=>(cn(h),fo(h,y,z.time,function(N){const U=ct(N);return U?U.hour===S.hour&&U.minute===S.minute&&U.second===S.second&&U.millisecond===S.millisecond&&U.timezoneHourOffset===S.timezoneHourOffset&&U.timezoneMinuteOffset===S.timezoneMinuteOffset:!1})),co=(h,y,S)=>(cn(h),fo(h,y,z.decimal,N=>et(N)===S)),ws=(h,y,S)=>(cn(h),fo(h,y,z.integer,N=>j(N)===S));function ed(h,y,S){return Ca(h,y,S,"en")}function Ca(h,y,S,N){var U,J;if(cn(h),!Yt(y))throw new Ur(y);const ee=w(y),me=(J=(U=h.predicates[ee])===null||U===void 0?void 0:U.langStrings)!==null&&J!==void 0?J:{},He=Object.keys(me).find(Nn=>G(Nn)===G(N)&&Array.isArray(me[Nn])&&me[Nn].length>0);if(typeof He!="string")return h;const Ge=me[He],tt=Le(Ge.filter(Nn=>Nn!==S)),kt=Le({...me,[He]:tt}),Kt=Le({...h.predicates[ee],langStrings:kt}),rn=Le({...h.predicates,[ee]:Kt});return Le({...h,predicates:rn})}const Xo=(h,y,S)=>(cn(h),fo(h,y,z.string,N=>N===S));function du(h,y,S){return ei(h,y,S.value)}function il(h,y,S){var N,U,J;if(cn(h),!Yt(y))throw new Ur(y);const ee=S.datatype.value;if(ee===z.langString)return Ca(h,y,S.value,S.language);const me=w(y),He=(N=h.predicates[me])!==null&&N!==void 0?N:{},Ge=(U=He.literals)!==null&&U!==void 0?U:{},tt=(J=Ge[ee])!==null&&J!==void 0?J:[],kt=Le(tt.filter(tr=>tr!==S.value)),Kt=Le({...Ge,[ee]:kt}),rn=Le({...He,literals:Kt}),Nn=Le({...h.predicates,[me]:rn});return Le({...h,predicates:Nn})}function fo(h,y,S,N){var U,J,ee;if(!Yt(y))throw new Ur(y);const me=w(y),He=(U=h.predicates[me])!==null&&U!==void 0?U:{},Ge=(J=He.literals)!==null&&J!==void 0?J:{},tt=(ee=Ge[S])!==null&&ee!==void 0?ee:[],kt=Le(tt.filter(tr=>!N(tr))),Kt=Le({...Ge,[S]:kt}),rn=Le({...He,literals:Kt}),Nn=Le({...h.predicates,[me]:rn});return Le({...h,predicates:Nn})}const Ka=(h,y,S)=>{if(cn(h),!Yt(y))throw new Ur(y);if(!or(S)&&!Yt(S))throw new na(S);return er(ir(h,y),y,S)},_r=Ka,al=(h,y,S)=>(cn(h),Pn(ir(h,y),y,S)),td=(h,y,S)=>(cn(h),Ar(ir(h,y),y,S)),ol=(h,y,S)=>(cn(h),jn(ir(h,y),y,S)),pi=(h,y,S)=>(cn(h),wr(ir(h,y),y,S)),Sc=(h,y,S)=>(cn(h),pr(ir(h,y),y,S)),nd=(h,y,S)=>(cn(h),kr(ir(h,y),y,S));function Hi(h,y,S,N){return cn(h),zn(ir(h,y),y,S,N)}const ho=(h,y,S)=>(cn(h),ai(ir(h,y),y,S));function sl(h,y,S){return cn(h),xi(ir(h,y),y,S)}function hu(h,y,S){return cn(h),Tn(ir(h,y),y,S)}function Ph(h,y,S){if(cn(h),!Yt(y))throw new Ur(y);return Wr(ir(h,y),y,S)}function Ga(h=rr()){let y=or(h)?h:rr(h);function S(ee){return(me,He)=>(y=ee(y,me,He),J)}function N(ee){return(me,He)=>(y=ee(y,me,He),J)}function U(ee){return(me,He)=>(y=ee(y,me,He),J)}const J={build:()=>y,addUrl:S(er),addIri:S(Mt),addBoolean:S(Pn),addDatetime:S(Ar),addDate:S(jn),addTime:S(wr),addDecimal:S(pr),addInteger:S(kr),addStringNoLocale:S(ai),addStringEnglish:(ee,me)=>(y=zn(y,ee,me,"en"),J),addStringWithLocale:(ee,me,He)=>(y=zn(y,ee,me,He),J),addNamedNode:S(xi),addLiteral:S(Tn),addTerm:S(Wr),setUrl:N(Ka),setIri:N(_r),setBoolean:N(al),setDatetime:N(td),setDate:N(ol),setTime:N(pi),setDecimal:N(Sc),setInteger:N(nd),setStringNoLocale:N(ho),setStringEnglish:(ee,me)=>(y=Hi(y,ee,me,"en"),J),setStringWithLocale:(ee,me,He)=>(y=Hi(y,ee,me,He),J),setNamedNode:N(sl),setLiteral:N(hu),setTerm:N(Ph),removeAll:ee=>(y=ir(y,ee),J),removeUrl:U(ei),removeIri:U(ur),removeBoolean:U($a),removeDatetime:U(wc),removeDate:U(rl),removeTime:U(_c),removeDecimal:U(co),removeInteger:U(ws),removeStringNoLocale:U(Xo),removeStringEnglish:(ee,me)=>Ga(Ca(y,ee,me,"en")),removeStringWithLocale:(ee,me,He)=>Ga(Ca(y,ee,me,He)),removeNamedNode:U(du),removeLiteral:U(il)};return J}function Nh(h){const y=w(h);return{type:"Subject",predicates:{},url:y}}function Fm(h){const y=$e(h).type;return Array.isArray(y)&&y.includes($.AccessControlResource)}async function ra(h,y=pe){if(!ci(h))return{resourceAcl:null,fallbackAcl:null};try{const S=await rd(h,y);return S===null?{resourceAcl:null,fallbackAcl:await pu(h,y)}:{resourceAcl:S,fallbackAcl:null}}catch(S){if(S instanceof gu)return{resourceAcl:null,fallbackAcl:null};throw S}}async function rd(h,y=pe){if(!ci(h))return null;try{const S=await ii(h.internal_resourceInfo.aclUrl,y);if(Fm(S))throw new gu(h,S);return Le({...S,internal_accessTo:ge(h)})}catch(S){if(S instanceof gu)throw S;return null}}async function pu(h,y=pe){const S=new URL(ge(h)),N=S.pathname;if(N==="/")return null;const U=id(N),J=new URL(U,S.origin).href,ee=await be(J,y);if(!ci(ee))return null;const me=await rd(ee,y);return me===null?pu(ee,y):me}function id(h){const y=h.substring(h.length-1)==="/"?h.substring(0,h.length-1):h;return`${h.substring(0,y.lastIndexOf("/"))}/`}function Ta(h){return lr(h).filter(ll)}function ll(h){return v(h,H.type).includes(O.Authorization)}function Io(h,y){return h.filter(S=>Fh(S,y))}function Fh(h,y){return v(h,O.accessTo).includes(y)}function ul(h,y){return h.filter(S=>cl(S,y))}function cl(h,y){return v(h,O.default).includes(y)||v(h,O.defaultForNew).includes(y)}function _s(h){const y=v(h,O.mode);return y.includes(jr.write)?{read:y.includes(jr.read),append:!0,write:!0,control:y.includes(jr.control)}:{read:y.includes(jr.read),append:y.includes(jr.append),write:!1,control:y.includes(jr.control)}}function Ss(h){return h.reduce((y,S)=>y.write||S.write?{read:y.read||S.read,append:!0,write:!0,control:y.control||S.control}:{read:y.read||S.read,append:y.append||S.append,write:!1,control:y.control||S.control},{read:!1,append:!1,write:!1,control:!1})}function Dm(h){return Ta(h).filter(r0).reduce(Lr,h)}function r0(h){return Ht(h.predicates,sn.namedNode(h.url),sn.defaultGraph()).some(y=>!i0(y))?!1:Ei(h,O.accessTo)===null&&Ei(h,O.default)===null&&Ei(h,O.defaultForNew)===null||Ei(h,O.mode)===null||Ei(h,O.agent)===null&&Ei(h,O.agentGroup)===null&&Ei(h,O.agentClass)===null}function i0(h){const{predicate:y}=h,{object:S}=h;return!!(y.equals(sn.namedNode(H.type))&&S.equals(sn.namedNode(O.Authorization))||y.equals(sn.namedNode(O.accessTo))||y.equals(sn.namedNode(O.default))||y.equals(sn.namedNode(O.defaultForNew))||y.equals(sn.namedNode(O.mode))&&Object.values(jr).some(N=>S.equals(sn.namedNode(N)))||y.equals(sn.namedNode(O.agent))||y.equals(sn.namedNode(O.agentGroup))||y.equals(sn.namedNode(O.agentClass))||y.equals(sn.namedNode(O.origin)))}const jr={read:"http://www.w3.org/ns/auth/acl#Read",append:"http://www.w3.org/ns/auth/acl#Append",write:"http://www.w3.org/ns/auth/acl#Write",control:"http://www.w3.org/ns/auth/acl#Control"};function Dh(h,y,S){return h.filter(N=>v(N,S).includes(y))}function Mh(h,y){const S={};return h.forEach(N=>{const U=v(N,y),J=_s(N);U.forEach(ee=>{S[ee]=typeof S[ee]>"u"?J:Ss([S[ee],J])})}),S}function ad(h){let y=rr();return y=_r(y,H.type,O.Authorization),h.read&&(y=Mt(y,O.mode,jr.read)),h.append&&!h.write&&(y=Mt(y,O.mode,jr.append)),h.write&&(y=Mt(y,O.mode,jr.write)),h.control&&(y=Mt(y,O.mode,jr.control)),y}function po(h){let y=rr();y=_r(y,H.type,O.Authorization);function S(N,U,J){return v(N,J).reduce((ee,me)=>Mt(ee,J,me),U)}return y=S(h,y,O.accessTo),y=S(h,y,O.default),y=S(h,y,O.defaultForNew),y=S(h,y,O.agent),y=S(h,y,O.agentGroup),y=S(h,y,O.agentClass),y=S(h,y,O.origin),y=S(h,y,O.mode),y}function ga(h,y){return Object.assign(C(h),{internal_acl:y})}const qa=[O.agent,O.agentClass,O.agentGroup,O.origin];function za(h,y,S,N,U){if(!v(h,S).includes(y)){const me=ad({read:!1,append:!1,write:!1,control:!1});return[h,me]}const J=ur(h,S,y);let ee=po(h);return ee=ur(ee,U==="resource"?O.accessTo:O.default,N),U==="default"&&(ee=ur(ee,O.defaultForNew,N)),ee=_r(ee,S,y),qa.filter(me=>me!==S).forEach(me=>{ee=ir(ee,me)}),[J,ee]}function go(h,y,S,N,U){let J=h;lr(h).forEach(He=>{const[Ge,tt]=za(He,U,S,h.internal_accessTo,N);J=ar(J,Ge),J=ar(J,tt)});let ee=ad(y);ee=_r(ee,N==="resource"?O.accessTo:O.default,h.internal_accessTo),ee=_r(ee,S,U);const me=ar(J,ee);return Dm(me)}function od(h,y){return ga(h,{resourceAcl:y,fallbackAcl:null})}function sd(h){return h.internal_acl.resourceAcl}class gu extends Error{constructor(y,S){super(`[${rt(y)}] is governed by Access Control Policies in [${rt(S)}] rather than by Web Access Control.`)}}function Lh(h){return typeof h.internal_acl=="object"}function Oa(h){return h.internal_acl.resourceAcl!==null&&ge(h)===h.internal_acl.resourceAcl.internal_accessTo&&h.internal_resourceInfo.aclUrl===ge(h.internal_acl.resourceAcl)}async function Mm(h,y=pe){const S=await ii(h,y),N=await ra(S,y);return ga(S,N)}async function ld(h,y=pe){const S=await Qn(h,y),N=await ra(S,y);return ga(S,N)}async function mu(h,y=pe){const S=await be(h,y),N=await ra(S,y);return ga(S,N)}function Ec(h){return Oa(h)?h.internal_acl.resourceAcl:null}function Ci(h){return h.internal_acl.fallbackAcl!==null}function Ac(h){return Ci(h)?h.internal_acl.fallbackAcl:null}function Wa(h){return Le({...ri(),internal_accessTo:ge(h),internal_resourceInfo:{sourceIri:h.internal_resourceInfo.aclUrl,isRawData:!1,linkedResources:{}}})}function Uh(h){const y=Wa(h),S=Ta(h.internal_acl.fallbackAcl);return ul(S,h.internal_acl.fallbackAcl.internal_accessTo).map(ee=>(ee=ir(ee,O.default),ee=ir(ee,O.defaultForNew),ee=_r(ee,O.accessTo,ge(h)),ee=_r(ee,O.default,ge(h)),ee)).reduce(ar,y)}async function xc(h,y,S=pe){if(!ci(h))throw new Error(`Could not determine the location of the ACL for the Resource at [${ge(h)}]; possibly the current user does not have Control access to that Resource. Try calling \`hasAccessibleAcl()\` before calling \`saveAclFor()\`.`);return{...await M(h.internal_resourceInfo.aclUrl,y,S),internal_accessTo:ge(h)}}async function fl(h,y=pe){const N=await{...pe,...y}.fetch(h.internal_resourceInfo.aclUrl,{method:"DELETE"});if(!N.ok)throw new Error(`Deleting the ACL of the Resource at [${ge(h)}] failed: [${N.status}] [${N.statusText}].`);return Object.assign(C(h),{acl:{resourceAcl:null}})}function ci(h){return typeof h.internal_resourceInfo.aclUrl=="string"}function Rc(h,y){return Oa(h)?hl(h.internal_acl.resourceAcl,y):Ci(h)?Ia(h.internal_acl.fallbackAcl,y):null}function dl(h){if(Oa(h)){const y=Ec(h);return Cc(y)}if(Ci(h)){const y=Ac(h);return Pa(y)}return null}function hl(h,y){const S=Ta(h),N=Io(S,h.internal_accessTo),J=Po(N,y).map(_s);return Ss(J)}function Cc(h){const y=Ta(h),S=Io(y,h.internal_accessTo),N=No(S);return kh(N)}function Tc(h,y,S){return go(h,S,O.agent,"resource",y)}function Ia(h,y){const S=Ta(h),N=ul(S,h.internal_accessTo),J=Po(N,y).map(_s);return Ss(J)}function Pa(h){const y=Ta(h),S=ul(y,h.internal_accessTo),N=No(S);return kh(N)}function pl(h,y,S){return go(h,S,O.agent,"default",y)}function Po(h,y){return Dh(h,y,O.agent)}function No(h){return h.filter(gl)}function gl(h){return Ei(h,O.agent)!==null}function kh(h){return Mh(h,O.agent)}function Oc(h,y){return Oa(h)?Gi(h.internal_acl.resourceAcl,y):Ci(h)?Br(h.internal_acl.fallbackAcl,y):null}function ud(h){if(Oa(h)){const y=Ec(h);return gi(y)}if(Ci(h)){const y=Ac(h);return Es(y)}return null}function Gi(h,y){const S=Ta(h),N=Io(S,h.internal_accessTo),J=mo(N,y).map(_s);return Ss(J)}function gi(h){const y=Ta(h),S=Io(y,h.internal_accessTo);return cd(S)}function Br(h,y){const S=Ta(h),N=ul(S,h.internal_accessTo),J=mo(N,y).map(_s);return Ss(J)}function Es(h){const y=Ta(h),S=ul(y,h.internal_accessTo);return cd(S)}function mo(h,y){return Dh(h,y,O.agentGroup)}function cd(h){return Mh(h,O.agentGroup)}function As(h,y,S){return go(h,S,O.agentGroup,"resource",y)}function Lm(h,y,S){return go(h,S,O.agentGroup,"default",y)}function fd(h){return Oa(h)?yu(h.internal_acl.resourceAcl):Ci(h)?vu(h.internal_acl.fallbackAcl):null}function yu(h){const y=Ta(h),S=Io(y,h.internal_accessTo),U=dd(S,W.Agent).map(_s);return Ss(U)}function vu(h){const y=Ta(h),S=ul(y,h.internal_accessTo),U=dd(S,W.Agent).map(_s);return Ss(U)}function jh(h,y){return go(h,y,O.agentClass,"resource",W.Agent)}function Ic(h,y){return go(h,y,O.agentClass,"default",W.Agent)}function dd(h,y){return h.filter(S=>ml(S,y))}function ml(h,y){return v(h,O.agentClass).includes(y)}function Zo(h,y){return Object.assign(C(h),{internal_resourceInfo:{...h.internal_resourceInfo,aclUrl:y}})}function xs(h){var y;const S=(y=h.internal_resourceInfo.aclUrl)!==null&&y!==void 0?y:"https://your.pod/mock-acl.ttl",N=Object.assign(C(h),{internal_resourceInfo:{...h.internal_resourceInfo,aclUrl:S}}),U=Wa(N);return ga(N,{resourceAcl:U,fallbackAcl:null})}function es(h){const y=id(rt(h)),S=`${y}.acl`,N=Zo(Hn(y),S),U=Wa(N);return ga(C(h),{resourceAcl:null,fallbackAcl:U})}function hd(h,y){const S=hn(h,y);if(S===null)throw new Error(`Profile document [${ge(h)}] does not include WebID [${y}]`);return S}function Bh(h,y,S){return ar(h,_r(hd(h,y),K.publicKey,S))}function bu(h,y){return ha(hd(h,y),K.publicKey)}const pd=h=>typeof h.keys<"u";async function Rs(h,y,S=pe){const U=await{...pe,...S}.fetch(y);if(!U.ok)throw new Error(`Fetching [${y}] returned an error: ${U.status} ${U.statusText}`);try{const J=await U.json();if(!pd(J))throw new Error(`[${y}] does not dereference to a valid JWKS: ${JSON.stringify(J)}`);return{keys:[...J.keys,h]}}catch(J){throw new Error(`Parsing the document at [${y}] failed: ${J}`)}}async function qi(h,y,S=pe){const N=await ii(y,{fetch:S.fetch});if(N===null)throw new Error(`The profile document associated with WebID [${y}] could not be retrieved.`);const U=bu(N,y);if(U===null)throw new Error(`No key set is declared for the property [${K.publicKey}] in the profile of [${y}]`);const J=await Rs(h,U,S);return Gt(U,new Blob([JSON.stringify(J)]),{contentType:"application/json",fetch:S.fetch})}function Pc(h,y){const S=hn(y,h),N=lr(y).filter(U=>v(U,W.primaryTopic).length>0).map(Cn).concat(S?v(S,L.seeAlso):[]).concat(S?v(S,W.isPrimaryTopicOf):[]).filter(U=>U!==rt(y));return Array.from(new Set(N))}async function Hh(h,y=pe){var S,N;const U=(S=y.fetch)!==null&&S!==void 0?S:_,J=(N=y.webIdProfile)!==null&&N!==void 0?N:await ii(h,{fetch:_}),ee=(await Promise.allSettled(Pc(h,J).map(me=>ii(me,{fetch:U})))).filter(me=>me.status==="fulfilled").map(me=>me.value);return{webIdProfile:J,altProfileAll:ee}}async function a0(h,y=pe){const S=await Hh(h,y);return Um(S,h)}function Um(h,y){const S=new Set;return[h.webIdProfile,...h.altProfileAll].forEach(N=>{const U=hn(N,y);U!==null&&v(U,ae.storage).forEach(J=>S.add(J))}),Array.from(S)}async function o0(h){return ii(h,{fetch:_})}function yn(h){if(!Tr(h))throw new Error(`An Access Control Resource for [${ge(h)}] is not available. This could be because the current user is not allowed to see it, or because their Pod Server does not support Access Control Resources.`);return h.internal_acp.acr}function Fi(h,y){return Object.assign(C(h),{internal_acp:{...h.internal_acp,acr:y}})}function wu(h){let y=rr(h);return y=_r(y,H.type,$.AccessControl),y}function Nc(h,y,S){const N=yn(h),U=hn(N,y,S);return U===null||!v(U,H.type).includes($.AccessControl)?null:U}function yo(h,y){const S=yn(h),N=lr(S,y),U=N.filter(ee=>v(ee,H.type).includes($.AccessControl)),J=N.filter(ee=>v(ee,$.accessControl).length>0).map(ee=>{const me=v(ee,$.accessControl)[0];return rr({url:me})});return U.concat(J)}function Ja(h,y){const S=yn(h),N=ar(S,y);return Fi(h,N)}function yl(h,y){return Mt(h,$.apply,y)}function km(h){return v(h,$.apply)}function Vh(h,y){return ur(h,$.apply,y)}function jm(h){return ir(h,$.apply)}function $h(h,y){return Mt(h,$.applyMembers,y)}function ts(h){return v(h,$.applyMembers)}function Kh(h,y){return ur(h,$.applyMembers,y)}function Fc(h){return ir(h,$.applyMembers)}function Gh(h){const y=yo(h);return y.length===0?wu():y[0]}function vo(h){return c(h)&&Array.isArray(h.internal_resourceInfo.linkedResources[$.accessControl])&&h.internal_resourceInfo.linkedResources[$.accessControl].length===1}function _u(h,y){var S;const N=yn(h),U=ge(N);let J=(S=hn(N,U))!==null&&S!==void 0?S:rr({url:U});J=Mt(J,$.access,y);const ee=ar(N,J);return Fi(h,ee)}function vl(h,y){var S;const N=yn(h),U=ge(N);let J=(S=hn(N,U))!==null&&S!==void 0?S:rr({url:U});J=Mt(J,$.accessMembers,y);const ee=ar(N,J);return Fi(h,ee)}function Ya(h){const y=yn(h),S=ge(y),N=hn(y,S);return N===null?[]:v(N,$.access)}function bl(h){const y=yn(h),S=ge(y),N=hn(y,S);return N===null?[]:v(N,$.accessMembers)}function Fo(h,y){const S=yn(h),N=ge(S),U=hn(S,N);if(U===null)return h;const J=ur(U,$.access,y),ee=ar(S,J);return Fi(h,ee)}function Dc(h,y){const S=yn(h),N=ge(S),U=hn(S,N);if(U===null)return h;const J=ur(U,$.accessMembers,y),ee=ar(S,J);return Fi(h,ee)}function Do(h){const y=yn(h),S=ge(y),N=hn(y,S);if(N===null)return h;const U=ir(N,$.access),J=ar(y,U);return Fi(h,J)}function wl(h){const y=yn(h),S=ge(y),N=hn(y,S);if(N===null)return h;const U=ir(N,$.accessMembers),J=ar(y,U);return Fi(h,J)}function Mc(h,y){const S=Gh(h),N=yl(S,y);return Ja(h,N)}function Mo(h,y){const S=Gh(h),N=$h(S,y);return Ja(h,N)}function bo(h){const S=yo(h).map(U=>km(U)),N=new Set;return S.forEach(U=>{U.forEach(J=>N.add(J))}),Array.from(N)}function _l(h){const S=yo(h).map(U=>ts(U)),N=new Set;return S.forEach(U=>{U.forEach(J=>N.add(J))}),Array.from(N)}function Na(h,y){return yo(h).map(J=>Vh(J,y)).reduce(Ja,h)}function Lo(h,y){return yo(h).map(J=>Kh(J,y)).reduce(Ja,h)}function ns(h){return yo(h).map(U=>jm(U)).reduce(Ja,h)}function Sl(h){return yo(h).map(U=>Fc(U)).reduce(Ja,h)}function Lc(h){let y=`# Access controls for ${ge(h)}
`;const S=bo(h),N=_l(h),U=Ya(h),J=bl(h);return S.length===0&&N.length===0&&U.length===0&&J.length===0&&(y+=`
<no policies specified yet>
`),S.length>0&&(y+=`
The following policies apply to this resource:
- `,y+=`${S.join(`
- `)}
`),U.length>0&&(y+=`
The following policies apply to the access control resource for this resource:
- `,y+=`${U.join(`
- `)}
`),N.length>0&&(y+=`
The following policies apply to the children of this resource:
- `,y+=`${N.join(`
- `)}
`),J.length>0&&(y+=`
The following policies apply to the access control resources for children of this resource:
- `,y+=`${J.join(`
- `)}
`),y}const Di="http://www.w3.org/ns/solid/acp#",Dn={AccessControlResource:Di.concat("AccessControlResource"),Matcher:Di.concat("Matcher"),Policy:Di.concat("Policy"),PublicAgent:Di.concat("PublicAgent"),access:Di.concat("access"),accessControl:Di.concat("accessControl"),agent:Di.concat("agent"),allOf:Di.concat("allOf"),allow:Di.concat("allow"),anyOf:Di.concat("anyOf"),apply:Di.concat("apply"),deny:Di.concat("deny"),memberAccessControl:Di.concat("memberAccessControl"),noneOf:Di.concat("noneOf"),vc:Di.concat("vc")},gd="http://www.w3.org/ns/auth/acl#",El={Append:gd.concat("Append"),Read:gd.concat("Read"),Write:gd.concat("Write")},Su="http://www.w3.org/ns/solid/vc#SolidAccessGrant";function Cs(h){const y=yn(h),S=ge(y);return hn(y,S)}const Al="defaultAccessControl",xl="defaultAcrAccessControl",Uc="defaultMemberAccessControl",Uo="defaultMemberAcrAccessControl";function cr(h,y){const S=yn(h);return ge(S).concat("#").concat(y)}function Sr(h,y){const S=yn(h),N=cr(h,y),U=hn(S,N);return U===null||typeof U>"u"?rr({url:N}):U}function mi(h,y){const S=v(h,y);return{read:S.includes(El.Read),append:S.includes(El.Append),write:S.includes(El.Write),controlRead:!1,controlWrite:!1}}function md(h,y){return Object.assign(C(h),{internal_acp:{acr:y}})}function Rl(h,y,S){let N=ir(h,S);return(y.read||y.controlRead)&&(N=Mt(N,S,El.Read)),y.append&&(N=Mt(N,S,El.Append)),(y.write||y.controlWrite)&&(N=Mt(N,S,El.Write)),N}const Ts="defaultVcPolicy",kc="defaultVcMatcher";function jc(h,y,S,N){var U;let J=hn(h,y);J===null&&(J=Ga({url:y}).addIri(H.type,Dn.Policy).addIri(Dn.anyOf,S).build());const ee=(U=hn(h,S))!==null&&U!==void 0?U:Ga({url:S}).addIri(H.type,Dn.Matcher).addIri(Dn.vc,Su).build(),me=mi(J,Dn.allow);return J=Rl(J,{...me,...N},Dn.allow),{matcher:ee,policy:J}}function Cl(h,y,S={inherit:!1}){var N;let U=yn(h);const J=`${rt(U)}#${Ts}`,ee=`${rt(U)}#${kc}`,{policy:me,matcher:He}=jc(U,J,ee,y);let Ge=Sr(h,"defaultAccessControl");v(Ge,Dn.apply).includes(Cn(me))||(Ge=Mt(Ge,Dn.apply,me));let tt=Sr(h,"defaultMemberAccessControl"),kt=(N=Cs(h))!==null&&N!==void 0?N:rr({url:rt(U)});return v(kt,Dn.accessControl).includes(Cn(Ge))||(kt=Mt(kt,Dn.accessControl,Ge)),U=[kt,Ge,me,He].reduce(ar,U),S.inherit&&(v(tt,Dn.apply).includes(Cn(me))||(tt=Mt(tt,Dn.apply,me)),v(kt,Dn.memberAccessControl).includes(Cn(tt))||(kt=Mt(kt,Dn.memberAccessControl,tt)),U=[kt,tt].reduce(ar,U)),md(h,U)}const qh={read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1},yi=(h,y,S)=>v(h,y).includes(Cn(S));function yd(h){const y=yn(h),S=Sr(h,"defaultAccessControl"),N=Cs(h);if(N===null||!yi(N,Dn.accessControl,S))return qh;const U=`${rt(y)}#${Ts}`,J=hn(y,U);if(J===null||!yi(S,Dn.apply,J))return qh;const ee=`${rt(y)}#${kc}`,me=hn(y,ee);return me===null||!yi(J,Dn.anyOf,me)?qh:mi(J,Dn.allow)}async function Os(h,y=pe){const S=w(h),N={...pe,...y},U=await ii(S,N),J=await si(U,N);return{...U,...J}}async function Tl(h,y=pe){const S=w(h),N={...pe,...y},U=await Qn(S,N),J=await si(U,N);return Object.assign(U,J)}async function Ti(h,y=pe){const S=w(h),N={...pe,...y},U=await be(S,N),J=await si(U,N);return{...U,...J}}async function Eu(h,y=pe){const S=w(h),N={...pe,...y},U=await ii(S,N);if(ci(U)){const ee=await ra(U,N);return ga(U,ee)}const J=await si(U,N);return{...U,...J}}async function Is(h,y=pe){const S=w(h),N={...pe,...y},U=await Qn(S,N);if(ci(U)){const ee=await ra(U,N);return ga(U,ee)}const J=await si(U,N);return Object.assign(U,J)}async function Ps(h,y=pe){const S=w(h),N={...pe,...y},U=await be(S,N);if(ci(U)){const ee=await ra(U,N);return ga(U,ee)}const J=await si(U,N);return{...U,...J}}async function ia(h,y=pe){const S=yn(h),N={...pe,...y},U=await M(ge(S),S,N);return Fi(h,U)}function Tr(h){return typeof h.internal_acp=="object"&&h.internal_acp!==null&&typeof h.internal_acp.acr=="object"&&h.internal_acp.acr!==null}async function si(h,y){let S;if(vo(h)){const{linkedResources:ee}=h.internal_resourceInfo;[S]=ee[$.accessControl]}else if(ci(h)){let ee;try{ee=await be(h.internal_resourceInfo.aclUrl,y)}catch{}ee&&Fm(ee)&&(S=ge(ee))}if(typeof S!="string")return{internal_acp:{acr:null}};let N;try{N=await ii(S,y)}catch{return{internal_acp:{acr:null}}}return{internal_acp:{acr:{...N,accessTo:ge(h)}}}}function Ns(h){const y=bo(h).map(Nr).concat(_l(h).map(Nr)).concat(Ya(h).map(Nr)).concat(bl(h).map(Nr));return Array.from(new Set(y))}async function Fs(h,y=pe){const S=w(h),N={...pe,...y},U=await be(S,N);return Tr(await si(U,N))}function Au(h){return c(h)?[$.accessControl,"acl"].map(S=>{if(Array.isArray(h.internal_resourceInfo.linkedResources[S])&&h.internal_resourceInfo.linkedResources[S].length===1)return h.internal_resourceInfo.linkedResources[S][0]}).find(S=>S!==void 0):void 0}function Bc(h){return v(h,H.type).includes($.Rule)}function Qa(h,y){return Mt(h,$.allOf,y)}function Ol(h,y){return ur(h,$.allOf,y)}function xu(h,y){return _r(h,$.allOf,y)}function rs(h){return v(h,$.allOf)}function Hc(h,y){return Mt(h,$.anyOf,y)}function Vc(h,y){return ur(h,$.anyOf,y)}function $c(h,y){return _r(h,$.anyOf,y)}function Ds(h){return v(h,$.anyOf)}function Kc(h,y){return Mt(h,$.noneOf,y)}function Gc(h,y){return ur(h,$.noneOf,y)}function Ru(h,y){return _r(h,$.noneOf,y)}function ko(h){return v(h,$.noneOf)}function vd(h){const y=w(h);let S=rr({url:y});return S=Ka(S,H.type,$.Rule),S}function qc(h,y){const S=yn(h),N=new URL(ge(S));N.hash=`#${y}`;let U=rr({url:N.href});return U=Ka(U,H.type,$.Rule),U}function zc(h,y){const S=hn(h,y);return S===null||ha(S,H.type)!==$.Rule?null:S}function bd(h,y){const S=yn(h),N=ge(S),U=new URL(N);U.hash=`#${y}`;const J=hn(S,U.href);return J===null||!Bc(J)?null:J}function Cu(h){return lr(h).filter(Bc)}function zh(h){const y=yn(h);return lr(y).filter(Bc)}function Wc(h,y){return Lr(h,y)}function Wh(h,y){const S=yn(h);let N;if(typeof y=="string")if(Yt(y))N=y;else{const me=new URL(ge(S));me.hash=`#${y}`,N=me.href}else V(y)?N=w(y):N=Cr(y);const U=bd(h,new URL(N).hash.substring(1));if(U===null)return h;const J=Lr(S,U);return Fi(h,J)}function Jc(h,y){return ar(h,y)}function Il(h,y){const S=yn(h),N=ar(S,y);return Fi(h,N)}function Yc(h){return v(h,$.agent).filter(y=>y!==$.PublicAgent&&y!==$.AuthenticatedAgent&&y!==$.CreatorAgent)}function Qc(h,y){const S=Fl(h),N=Dl(h),U=Ml(h);let J=_r(h,$.agent,y);return S&&(J=Zc(J)),N&&(J=ef(J)),U&&(J=nf(J)),J}function is(h,y){return Mt(h,$.agent,y)}function Pl(h,y){return ur(h,$.agent,y)}function Tu(h){return v(h,$.group)}function Nl(h,y){return _r(h,$.group,y)}function Ms(h,y){return Mt(h,$.group,y)}function Xc(h,y){return ur(h,$.group,y)}function Fl(h){return v(h,$.agent).filter(y=>y===$.PublicAgent).length>0}function Zc(h){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return Mt(h,$.agent,$.PublicAgent)}function wd(h){return ur(h,$.agent,$.PublicAgent)}function Dl(h){return v(h,$.agent).filter(y=>y===$.AuthenticatedAgent).length>0}function ef(h){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return Mt(h,$.agent,$.AuthenticatedAgent)}function tf(h){return ur(h,$.agent,$.AuthenticatedAgent)}function Ml(h){return v(h,$.agent).filter(y=>y===$.CreatorAgent).length>0}function nf(h){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return Mt(h,$.agent,$.CreatorAgent)}function rf(h){return ur(h,$.agent,$.CreatorAgent)}function _d(h){return v(h,$.client).filter(y=>y!==Ae.PublicOidcClient)}function Jh(h,y){const S=af(h);let N=_r(h,$.client,y);return S&&(N=Ed(N)),N}function Bm(h,y){return Mt(h,$.client,y)}function Sd(h,y){return ur(h,$.client,y)}function af(h){return v(h,$.client).filter(y=>y===Ae.PublicOidcClient).length>0}function Ed(h){return Mt(h,$.client,Ae.PublicOidcClient)}function Ad(h){return ur(h,$.client,Ae.PublicOidcClient)}function of(h){let y=`## Rule: ${Cr(h)}

`,S="";Fl(h)&&(S+=`- Everyone
`),Dl(h)&&(S+=`- All authenticated agents
`),Ml(h)&&(S+=`- The creator of this resource
`),af(h)&&(S+=`- Users of any client application
`);const N=Yc(h);N.length>0&&(S+=`- The following agents:
  - `,S+=`${N.join(`
  - `)}
`);const U=Tu(h);U.length>0&&(S+=`- Members of the following groups:
  - `,S+=`${U.join(`
  - `)}
`);const J=_d(h);return J.length>0&&(S+=`- Users of the following client applications:
  - `,S+=`${J.join(`
  - `)}
`),y+=S.length>0?`This rule applies to:
${S}`:`<empty>
`,y}function Ll(h){return v(h,H.type).includes($.Policy)}function Ou(h){const y=w(h);let S=rr({url:y});return S=Ka(S,H.type,$.Policy),S}function Iu(h,y){const S=hn(h,y);return S===null||!Ll(S)?null:S}function Ul(h){return lr(h).filter(N=>!Ui(N)&&Ll(N))}function jo(h,y){return Lr(h,y)}function Ls(h,y){return ar(h,y)}function kl(h,y){let S=ir(h,$.allow);return y.read===!0&&(S=Mt(S,$.allow,jr.read)),y.append===!0&&(S=Mt(S,$.allow,jr.append)),y.write===!0&&(S=Mt(S,$.allow,jr.write)),S}function jl(h,y){let S=ir(h,$.allow);return y.read===!0&&(S=Mt(S,$.allow,$.Read)),y.append===!0&&(S=Mt(S,$.allow,$.Append)),y.write===!0&&(S=Mt(S,$.allow,$.Write)),S}function sf(h){const y=v(h,$.allow);return{read:y.includes(jr.read),append:y.includes(jr.append),write:y.includes(jr.write)}}function Bo(h){const y=v(h,$.allow);return{read:y.includes($.Read),append:y.includes($.Append),write:y.includes($.Write)}}function Yh(h,y){let S=ir(h,$.deny);return y.read===!0&&(S=Mt(S,$.deny,jr.read)),y.append===!0&&(S=Mt(S,$.deny,jr.append)),y.write===!0&&(S=Mt(S,$.deny,jr.write)),S}function lf(h,y){let S=ir(h,$.deny);return y.read===!0&&(S=Mt(S,$.deny,$.Read)),y.append===!0&&(S=Mt(S,$.deny,$.Append)),y.write===!0&&(S=Mt(S,$.deny,$.Write)),S}function xd(h){const y=v(h,$.deny);return{read:y.includes(jr.read),append:y.includes(jr.append),write:y.includes(jr.write)}}function Xa(h){const y=v(h,$.deny);return{read:y.includes($.Read),append:y.includes($.Append),write:y.includes($.Write)}}function ma(h,y){const S=yn(h),N=new URL(ge(S));N.hash=`#${y}`;let U=rr({url:N.href});return U=Ka(U,H.type,$.Policy),U}function Us(h,y){const S=yn(h),N=ge(S),U=new URL(N);U.hash=`#${y}`;const J=hn(S,U.href);return!bo(h).includes(U.href)||J===null||!Ll(J)?null:J}function as(h,y){const S=yn(h),N=ge(S),U=new URL(N);U.hash=`#${y}`;const J=hn(S,U.href);return!Ya(h).includes(U.href)||J===null||!Ll(J)?null:J}function Bl(h){const y=yn(h);return bo(h).map(J=>hn(y,J)).filter(J=>J!==null&&Ll(J))}function uf(h){const y=yn(h);return Ya(h).map(J=>hn(y,J)).filter(J=>J!==null&&Ll(J))}function cf(h,y){const S=yn(h);let N=y;if(typeof N=="string"&&Yt(N)===!1){const He=new URL(ge(S));He.hash=`#${y}`,N=He.href}let U;if(typeof N=="string"?U=N:V(N)?U=w(N):U=Cr(N,ge(S)),Us(h,new URL(U).hash.substring(1))===null)return h;const ee=Lr(S,N),me=Fi(h,ee);return Na(me,U)}function os(h,y){const S=yn(h);let N=y;if(typeof N=="string"&&Yt(N)===!1){const He=new URL(ge(S));He.hash=`#${y}`,N=He.href}let U;if(typeof N=="string"?U=N:V(N)?U=w(N):U=Cr(N,ge(S)),as(h,new URL(U).hash.substring(1))===null)return h;const ee=Lr(S,N),me=Fi(h,ee);return Fo(me,U)}function Hl(h,y){const S=yn(h),N=ar(S,y),U=Fi(h,N),J=Cr(y,ge(S));return Mc(U,J)}function Vi(h,y){const S=yn(h),N=ar(S,y),U=Fi(h,N),J=Cr(y,ge(S));return _u(U,J)}function Fa(h){function y(He,Ge){return Ge?"denied":He?"allowed":"unspecified"}const S=Bo(h),N=Xa(h);let U=`## Policy: ${Cr(h)}

`;U+=`- Read: ${y(S.read,N.read)}
`,U+=`- Append: ${y(S.append,N.append)}
`,U+=`- Write: ${y(S.write,N.write)}
`;const J=rs(h),ee=Ds(h),me=ko(h);return J.length===0&&ee.length===0&&me.length===0&&(U+=`
<no rules specified yet>
`),J.length>0&&(U+=`
All of these rules should match:
`,U+=`- ${J.join(`
- `)}
`),ee.length>0&&(U+=`
At least one of these rules should match:
`,U+=`- ${ee.join(`
- `)}
`),me.length>0&&(U+=`
None of these rules should match:
`,U+=`- ${me.join(`
- `)}
`),U}function ya(h){const y=new URL("access-control-resource",h).href;return{...Qt(y),accessTo:h}}function Vl(h,y=ya(ge(h))){return Object.assign(C(h),{internal_acp:{acr:y,aprs:{}}})}const ks={getFileWithAccessDatasets:Is,getFileWithAcr:Tl,getReferencedPolicyUrlAll:Ns,getResourceInfoWithAccessDatasets:Ps,getResourceInfoWithAcr:Ti,getSolidDatasetWithAccessDatasets:Eu,getSolidDatasetWithAcr:Os,hasAccessibleAcr:Tr,saveAcrFor:ia},ss={acrAsMarkdown:Lc,addAcrPolicyUrl:_u,addMemberAcrPolicyUrl:vl,addMemberPolicyUrl:Mo,addPolicyUrl:Mc,getAcrPolicyUrlAll:Ya,getMemberAcrPolicyUrlAll:bl,getMemberPolicyUrlAll:_l,getPolicyUrlAll:bo,hasLinkedAcr:vo,removeAcrPolicyUrl:Fo,removeAcrPolicyUrlAll:Do,removeMemberAcrPolicyUrl:Dc,removeMemberAcrPolicyUrlAll:wl,removeMemberPolicyUrl:Lo,removeMemberPolicyUrlAll:Sl,removePolicyUrl:Na,removePolicyUrlAll:ns},Mi={createPolicy:Ou,getAllowModes:Bo,getDenyModes:Xa,getPolicy:Iu,getPolicyAll:Ul,policyAsMarkdown:Fa,removePolicy:jo,setAllowModes:jl,setDenyModes:lf,setPolicy:Ls},Rd={addAgent:is,addForbiddenRuleUrl:Kc,addGroup:Ms,addOptionalRuleUrl:Hc,addRequiredRuleUrl:Qa,createRule:vd,getAgentAll:Yc,getForbiddenRuleUrlAll:ko,getGroupAll:Tu,getOptionalRuleUrlAll:Ds,getRequiredRuleUrlAll:rs,getRule:zc,getRuleAll:Cu,hasAuthenticated:Dl,hasCreator:Ml,hasPublic:Fl,removeAgent:Pl,removeForbiddenRuleUrl:Gc,removeGroup:Xc,removeOptionalRuleUrl:Vc,removeRequiredRuleUrl:Ol,removeRule:Wc,ruleAsMarkdown:of,setAgent:Qc,setForbiddenRuleUrl:Ru,setGroup:Nl,setOptionalRuleUrl:$c,setRequiredRuleUrl:xu,setRule:Jc},Qh={addMockAcrTo:Vl,mockAcrFor:ya};function Cd(h,y){return y?Zc(h):wd(h)}function Xh(h,y){return y?ef(h):tf(h)}function Zh(h,y){return y?nf(h):rf(h)}const Td={...ks,...ss,...Mi,...Rd,...Qh,...{getForbiddenRuleurlAll:ko,setPublic:Cd,setAuthenticated:Xh,setCreator:Zh}},Vm={...{getFileWithAccessDatasets:Is,getFileWithAcr:Tl,getReferencedPolicyUrlAll:Ns,getResourceInfoWithAccessDatasets:Ps,getResourceInfoWithAcr:Ti,getSolidDatasetWithAccessDatasets:Eu,getSolidDatasetWithAcr:Os,hasAccessibleAcr:Tr,saveAcrFor:ia},...{createPolicy:Ou,getAllowModes:Bo,getDenyModes:Xa,getPolicy:Iu,getPolicyAll:Ul,policyAsMarkdown:Fa,removePolicy:jo,setAllowModes:jl,setDenyModes:lf,setPolicy:Ls},...{addAgent:is,addForbiddenRuleUrl:Kc,addGroup:Ms,addOptionalRuleUrl:Hc,addRequiredRuleUrl:Qa,createRule:vd,getAgentAll:Yc,getForbiddenRuleUrlAll:ko,getGroupAll:Tu,getOptionalRuleUrlAll:Ds,getRequiredRuleUrlAll:rs,getRule:zc,getRuleAll:Cu,hasAuthenticated:Dl,hasCreator:Ml,hasPublic:Fl,removeAgent:Pl,removeForbiddenRuleUrl:Gc,removeGroup:Xc,removeOptionalRuleUrl:Vc,removeRequiredRuleUrl:Ol,removeRule:Wc,ruleAsMarkdown:of,setAgent:Qc,setForbiddenRuleUrl:Ru,setGroup:Nl,setOptionalRuleUrl:$c,setRequiredRuleUrl:xu,setRule:Jc},...{addMockAcrTo:Vl,mockAcrFor:ya},...{hasLinkedAcr:vo,addAcrPolicyUrl:_u,addMemberAcrPolicyUrl:vl,getAcrPolicyUrlAll:Ya,getMemberAcrPolicyUrlAll:bl,removeAcrPolicyUrl:Fo,removeAcrPolicyUrlAll:Do,removeMemberAcrPolicyUrl:Dc,removeMemberAcrPolicyUrlAll:wl},...{createControl:wu,getControl:Nc,getAllControl:yo,getControlAll:yo,setControl:Ja,removeControl:$m,addPolicyUrl:yl,getPolicyUrlAll:km,removePolicyUrl:Vh,removePolicyUrlAll:jm,addMemberPolicyUrl:$h,getMemberPolicyUrlAll:ts,removeMemberPolicyUrl:ts,removeMemberPolicyUrlAll:Fc,getForbiddenRuleurlAll:ko,setPublic:Cd,setAuthenticated:Xh,setCreator:Zh}};function $m(h,y){const S=yn(h),N=Lr(S,y);return Fi(h,N)}const Km={...{getFileWithAccessDatasets:Is,getFileWithAcr:Tl,getLinkedAcrUrl:Au,getReferencedPolicyUrlAll:Ns,getResourceInfoWithAccessDatasets:Ps,getResourceInfoWithAcr:Ti,getSolidDatasetWithAccessDatasets:Eu,getSolidDatasetWithAcr:Os,hasAccessibleAcr:Tr,saveAcrFor:ia,isAcpControlled:Fs},...{acrAsMarkdown:Lc,addAcrPolicyUrl:_u,addMemberAcrPolicyUrl:vl,addMemberPolicyUrl:Mo,addPolicyUrl:Mc,getAcrPolicyUrlAll:Ya,getMemberAcrPolicyUrlAll:bl,getMemberPolicyUrlAll:_l,getPolicyUrlAll:bo,hasLinkedAcr:vo,removeAcrPolicyUrl:Fo,removeAcrPolicyUrlAll:Do,removeMemberAcrPolicyUrl:Dc,removeMemberAcrPolicyUrlAll:wl,removeMemberPolicyUrl:Lo,removeMemberPolicyUrlAll:Sl,removePolicyUrl:Na,removePolicyUrlAll:ns},...{createPolicy:Ou,getAllowModes:Bo,getDenyModes:Xa,getPolicy:Iu,getPolicyAll:Ul,policyAsMarkdown:Fa,removePolicy:jo,setAllowModes:jl,setDenyModes:lf,setPolicy:Ls,createResourcePolicyFor:ma,getResourceAcrPolicy:as,getResourceAcrPolicyAll:uf,getResourcePolicy:Us,getResourcePolicyAll:Bl,removeResourceAcrPolicy:os,removeResourcePolicy:cf,setResourceAcrPolicy:Vi,setResourcePolicy:Hl},...{addAgent:is,addGroup:Ms,createRule:vd,getAgentAll:Yc,getGroupAll:Tu,getRule:zc,getRuleAll:Cu,removeAgent:Pl,removeGroup:Xc,removeRule:Wc,ruleAsMarkdown:of,setAgent:Qc,setGroup:Nl,setRule:Jc,addClient:Bm,getClientAll:_d,hasAnyClient:af,removeClient:Sd,setAnyClient:Ed,setClient:Jh,removeAnyClient:Ad,hasAuthenticated:Dl,hasCreator:Ml,hasPublic:Fl,setAuthenticated:ef,setCreator:nf,setPublic:Zc,removeAuthenticated:tf,removeCreator:rf,removePublic:wd,getAnyOfRuleUrlAll:Ds,addAnyOfRuleUrl:Hc,removeAnyOfRuleUrl:Vc,setAnyOfRuleUrl:$c,getAllOfRuleUrlAll:rs,addAllOfRuleUrl:Qa,removeAllOfRuleUrl:Ol,setAllOfRuleUrl:xu,getNoneOfRuleUrlAll:ko,addNoneOfRuleUrl:Kc,removeNoneOfRuleUrl:Gc,setNoneOfRuleUrl:Ru,createResourceRuleFor:qc,getResourceRule:bd,getResourceRuleAll:zh,removeResourceRule:Wh,setResourceRule:Il},...{addMockAcrTo:Vl,mockAcrFor:ya}};function Da(h,y){return Object.assign(C(h),{internal_acp:{...h.internal_acp,acr:ar(h.internal_acp.acr,y)}})}function tp(h){return h.includes("Member")?Dn.memberAccessControl:Dn.accessControl}function ff(h,y){const S=cr(h,y),N=yn(h);let U=Cs(h);return(U===null||typeof U>"u")&&(U=rr({url:ge(N)})),v(U,tp(y)).includes(S)?h:(U=Ga(U).addUrl(tp(y),S).build(),Da(h,U))}function Nu(h,y){const S=ff(h,xl),N=Sr(S,xl);return Da(S,Ga(N).addUrl(Dn.access,y).build())}function Od(h,y){const S=ff(h,Uo),N=Sr(S,Uo);return Da(S,Ga(N).addUrl(Dn.access,y).build())}function np(h,y){const S=ff(h,Uc),N=Sr(S,Uc);return Da(S,Ga(N).addUrl(Dn.apply,y).build())}function Id(h,y){const S=ff(h,Al),N=Sr(S,Al);return Da(S,Ga(N).addUrl(Dn.apply,y).build())}function rp(h){const y=Cs(h);return y===null?[]:v(y,Dn.accessControl)}function Fu(h,y,S){const N=yn(h);return Array.from(new Set(y.map(U=>{const J=hn(N,U);return J!==null?v(J,S):[]}).reduce((U,J)=>U.concat(J),[])))}function df(h){return Fu(h,rp(h),Dn.access)}function Pd(h){const y=Cs(h);return y===null?[]:v(y,Dn.memberAccessControl)}function ip(h){return Fu(h,Pd(h),Dn.access)}function Nd(h){return Fu(h,Pd(h),Dn.apply)}function Du(h){return Fu(h,rp(h),Dn.apply)}function Fd(h,y){const S=Sr(h,xl);return Da(h,ur(S,Dn.access,y))}function ap(h,y){const S=Sr(h,Uo);return Da(h,ur(S,Dn.access,y))}function Dd(h,y){const S=Sr(h,Uc);return Da(h,ur(S,Dn.apply,y))}function op(h,y){const S=Sr(h,Al);return Da(h,ur(S,Dn.apply,y))}function Ho(h,y){return Da(h,y)}function Mu(h){return v(h,H.type).includes($.Matcher)}function Gm(h,y){return Mt(h,$.allOf,y)}function sp(h,y){return ur(h,$.allOf,y)}function Vo(h,y){return _r(h,$.allOf,y)}function hf(h){return v(h,$.allOf)}function pf(h,y){return Mt(h,$.anyOf,y)}function Lu(h,y){return ur(h,$.anyOf,y)}function di(h,y){return _r(h,$.anyOf,y)}function Md(h){return v(h,$.anyOf)}function qm(h,y){return Mt(h,$.noneOf,y)}function lp(h,y){return ur(h,$.noneOf,y)}function Uu(h,y){return _r(h,$.noneOf,y)}function wo(h){return v(h,$.noneOf)}function up(h){const y=w(h);let S=rr({url:y});return S=Ka(S,H.type,$.Matcher),S}function gf(h,y){const S=yn(h),N=new URL(ge(S));N.hash=`#${y}`;let U=rr({url:N.href});return U=Ka(U,H.type,$.Matcher),U}function ku(h,y){const S=hn(h,y);return S===null||!Mu(S)?null:S}function Za(h,y){const S=yn(h),N=ge(S),U=new URL(N);U.hash=`#${y}`;const J=hn(S,U.href);return J===null||!Mu(J)?null:J}function cp(h){return lr(h).filter(Mu)}function Ld(h){const y=yn(h);return lr(y).filter(Mu)}function fp(h,y){return Lr(h,y)}function Ud(h,y){const S=yn(h);let N;if(typeof y=="string")if(Yt(y))N=y;else{const me=new URL(ge(S));me.hash=`#${y}`,N=me.href}else V(y)?N=w(y):N=Cr(y);const U=Za(h,new URL(N).hash.substring(1));if(U===null)return h;const J=Lr(S,U);return Fi(h,J)}function kd(h,y){return ar(h,y)}function ls(h,y){const S=yn(h),N=ar(S,y);return Fi(h,N)}function dp(h){return v(h,$.agent).filter(y=>y!==$.PublicAgent&&y!==$.AuthenticatedAgent&&y!==$.CreatorAgent)}function $o(h,y){const S=jd(h),N=Bd(h),U=Wi(h);let J=_r(h,$.agent,y);return S&&(J=Oi(J)),N&&(J=Hd(J)),U&&(J=_o(J)),J}function vi(h,y){return Mt(h,$.agent,y)}function mf(h,y){return ur(h,$.agent,y)}function jd(h){return v(h,$.agent).filter(y=>y===$.PublicAgent).length>0}function Oi(h){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return Mt(h,$.agent,$.PublicAgent)}function zm(h){return ur(h,$.agent,$.PublicAgent)}function Bd(h){return v(h,$.agent).filter(y=>y===$.AuthenticatedAgent).length>0}function Hd(h){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return Mt(h,$.agent,$.AuthenticatedAgent)}function fi(h){return ur(h,$.agent,$.AuthenticatedAgent)}function Wi(h){return v(h,$.agent).filter(y=>y===$.CreatorAgent).length>0}function _o(h){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return Mt(h,$.agent,$.CreatorAgent)}function hp(h){return ur(h,$.agent,$.CreatorAgent)}function pp(h){return v(h,$.client).filter(y=>y!==Ae.PublicOidcClient).concat(Ue(h,$.client))}function h0(h,y){const S=eo(h);let N=_r(h,$.client,y);return S&&(N=gp(N)),N}function Vd(h,y){return Yt(y)?Mt(h,$.client,y):ai(h,$.client,y)}function va(h,y){return Yt(y)?ur(h,$.client,y):Xo(h,$.client,y)}function eo(h){return v(h,$.client).filter(y=>y===Ae.PublicOidcClient).length>0}function gp(h){return Mt(h,$.client,Ae.PublicOidcClient)}function Ma(h){return ur(h,$.client,Ae.PublicOidcClient)}const mp={...{getFileWithAccessDatasets:Is,getFileWithAcr:Tl,getReferencedPolicyUrlAll:Ns,getResourceInfoWithAccessDatasets:Ps,getResourceInfoWithAcr:Ti,getSolidDatasetWithAccessDatasets:Eu,getSolidDatasetWithAcr:Os,hasAccessibleAcr:Tr,saveAcrFor:ia,isAcpControlled:Fs,getVcAccess:yd,setVcAccess:Cl},...{addAcrPolicyUrl:Nu,addMemberAcrPolicyUrl:Od,addMemberPolicyUrl:np,addPolicyUrl:Id,getAcrPolicyUrlAll:df,getMemberAcrPolicyUrlAll:ip,getMemberPolicyUrlAll:Nd,getPolicyUrlAll:Du,hasLinkedAcr:vo,removeAcrPolicyUrl:Fd,removeAcrPolicyUrlAll:Do,removeMemberAcrPolicyUrl:ap,removeMemberAcrPolicyUrlAll:wl,removeMemberPolicyUrl:Dd,removeMemberPolicyUrlAll:Sl,removePolicyUrl:op,removePolicyUrlAll:ns},...{createPolicy:Ou,getAllowModes:sf,getDenyModes:xd,getPolicy:Iu,getPolicyAll:Ul,removePolicy:jo,setAllowModes:kl,setDenyModes:Yh,setPolicy:Ls,createResourcePolicyFor:ma,getResourceAcrPolicy:as,getResourceAcrPolicyAll:uf,getResourcePolicy:Us,getResourcePolicyAll:Bl,removeResourceAcrPolicy:os,removeResourcePolicy:cf,setResourcePolicy:Ho},...{addAgent:vi,createMatcher:up,getAgentAll:dp,getMatcher:ku,getMatcherAll:cp,removeAgent:mf,removeMatcher:fp,setAgent:$o,setMatcher:kd,addClient:Vd,getClientAll:pp,hasAnyClient:eo,removeClient:va,setAnyClient:gp,setClient:h0,removeAnyClient:Ma,hasAuthenticated:Bd,hasCreator:Wi,hasPublic:jd,setAuthenticated:Hd,setCreator:_o,setPublic:Oi,removeAuthenticated:fi,removeCreator:hp,removePublic:zm,getAnyOfMatcherUrlAll:Md,addAnyOfMatcherUrl:pf,removeAnyOfMatcherUrl:Lu,setAnyOfMatcherUrl:di,getAllOfMatcherUrlAll:hf,addAllOfMatcherUrl:Gm,removeAllOfMatcherUrl:sp,setAllOfMatcherUrl:Vo,getNoneOfMatcherUrlAll:wo,addNoneOfMatcherUrl:qm,removeNoneOfMatcherUrl:lp,setNoneOfMatcherUrl:Uu,createResourceMatcherFor:gf,getResourceMatcher:Za,getResourceMatcherAll:Ld,removeResourceMatcher:Ud,setResourceMatcher:ls},...{addMockAcrTo:Vl,mockAcrFor:ya}},to=[$.agent,$.group];function Gl(h,y,S){if(h.inaccessibleUrls.length>0)return null;const N=h.acrPolicies.filter(tt=>us(tt,y,S,h)),U=h.policies.filter(tt=>us(tt,y,S,h)),J={read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1},ee=N.reduce((tt,kt)=>{const Kt={...tt},rn=Bo(kt);return rn.read&&(Kt.controlRead=!0),rn.write&&(Kt.controlWrite=!0),Kt},J),me=U.reduce((tt,kt)=>{const Kt={...tt},rn=Bo(kt);return rn.read&&(Kt.read=!0),rn.append&&(Kt.append=!0),rn.write&&(Kt.write=!0),Kt},ee),He=N.reduce((tt,kt)=>{const Kt={...tt},rn=Xa(kt);return rn.read===!0&&(Kt.controlRead=!1),rn.write===!0&&(Kt.controlWrite=!1),Kt},me);return U.reduce((tt,kt)=>{const Kt={...tt},rn=Xa(kt);return rn.read===!0&&(Kt.read=!1),rn.append===!0&&(Kt.append=!1),rn.write===!0&&(Kt.write=!1),Kt},He)}function Bu(h,y){return Gl(h,$.agent,y)}function yf(h,y){return Gl(h,$.group,y)}function vf(h){return Gl(h,$.agent,$.PublicAgent)}function us(h,y,S,N){const U=v(h,$.allow),J=v(h,$.deny);if(U.length+J.length===0)return!1;const ee=rs(h).map(Ge=>N.rules.find(tt=>Cn(tt)===Ge)),me=Ds(h).map(Ge=>N.rules.find(tt=>Cn(tt)===Ge)),He=ko(h).map(Ge=>N.rules.find(tt=>Cn(tt)===Ge));return ee.every(Ge=>vp(Ge,y,S))&&(me.length===0||me.some(Ge=>vp(Ge,y,S)))&&He.length===0}function yp(h,y){const S=v(h,$.allow),N=v(h,$.deny);return y.read===!0&&N.includes($.Read)||y.read===!1&&S.includes($.Read)&&!N.includes($.Read)||y.append===!0&&N.includes($.Append)||y.append===!1&&S.includes($.Append)&&!N.includes($.Append)||y.write===!0&&N.includes($.Write)||y.write===!1&&S.includes($.Write)&&!N.includes($.Write)}function vp(h,y,S){let N=!0;return to.forEach(U=>{N&&(N=Ei(h,U)===null)}),N||v(h,y).includes(S)}function bf(h,y){const S=new Set;return h.rules.forEach(N=>{v(N,y).filter(U=>![$.PublicAgent,$.CreatorAgent,$.AuthenticatedAgent].includes(U)||y!==$.agent).forEach(U=>S.add(U))}),S}function bp(h,y){if(h.inaccessibleUrls.length>0)return null;const S={};return bf(h,y).forEach(U=>{const J=Gl(h,y,U);S[U]=J}),S}function $d(h){return bp(h,$.group)}function Jm(h){return bp(h,$.agent)}function wp(h,y,S,N,U){var J,ee,me,He,Ge;if(!Tr(h)||y.inaccessibleUrls.length>0)return null;const tt=Gl(y,S,N);if(tt===null)return null;const kt=y.acrPolicies.filter(On=>us(On,S,N,y)),Kt=y.policies.filter(On=>us(On,S,N,y)),rn=kt.filter(On=>yp(On,{read:U.controlRead,write:U.controlWrite})),Nn=Kt.filter(On=>yp(On,{read:U.read,append:U.append,write:U.write})),gr=rn.filter(On=>Er(On,S,N,y)),tr=Nn.filter(On=>Er(On,S,N,y)),no={...y,acrPolicies:y.acrPolicies.filter(On=>!gr.includes(On)),policies:y.policies.filter(On=>!tr.includes(On))},Yr=Gl(no,S,N);if(Yr===null)return null;let An=h;gr.forEach(On=>{const[fr,ds]=Gr(On,h,y,S,N);An=Vi(An,fr),An=ds.reduce(Il,An)}),tr.forEach(On=>{const[fr,ds]=Gr(On,h,y,S,N);An=Hl(An,fr),An=ds.reduce(Il,An)});const Yi=`rule_${encodeURIComponent(`${S}_${N}`)}`;let Ii=qc(h,Yi);Ii=_r(Ii,S,N);const wa=(J=U.controlRead)!==null&&J!==void 0?J:tt.controlRead,Qi=(ee=U.controlWrite)!==null&&ee!==void 0?ee:tt.controlWrite;let $s=gr;if(wa!==Yr.controlRead||Qi!==Yr.controlWrite){const On=u.v4();let fr=ma(h,On);fr=jl(fr,{read:wa===!0,append:!1,write:Qi===!0}),fr=Mt(fr,$.allOf,Ii),An=Vi(An,fr),An=Il(An,Ii),$s=rn}const Ao=(me=U.read)!==null&&me!==void 0?me:tt.read,Nf=(He=U.append)!==null&&He!==void 0?He:tt.append,Ff=(Ge=U.write)!==null&&Ge!==void 0?Ge:tt.write;let Yl=tr;if(Ao!==Yr.read||Nf!==Yr.append||Ff!==Yr.write){const On=u.v4();let fr=ma(h,On);fr=jl(fr,{read:Ao===!0,append:Nf===!0,write:Ff===!0}),fr=Mt(fr,$.allOf,Ii),An=Hl(An,fr),An=Il(An,Ii),Yl=Nn}return $s.forEach(On=>{An=Fo(An,Cn(On))}),Yl.forEach(On=>{An=Na(An,Cn(On))}),An}function g0(h,y,S,N){return wp(h,y,$.agent,S,N)}function Jr(h,y,S,N){return wp(h,y,$.group,S,N)}function li(h,y,S){return wp(h,y,$.agent,$.PublicAgent,S)}function Er(h,y,S,N){const J=v(h,$.allOf).map(tt=>N.rules.find(kt=>Cn(kt)===tt)).some(tt=>Or(tt,y,S)),me=v(h,$.anyOf).map(tt=>N.rules.find(kt=>Cn(kt)===tt)).some(tt=>Or(tt,y,S)),Ge=v(h,$.noneOf).map(tt=>N.rules.find(kt=>Cn(kt)===tt)).some(tt=>Or(tt,y,S));return J||me||Ge}function Or(h,y,S){const N=[];return to.forEach(U=>{const J=v(h,U).filter(ee=>ee!==S||U!==y);N.push(...J)}),N.length>0}function Gr(h,y,S,N,U){const J=u.v4(),ee=aa(v(h,$.allOf),y,S,J,N,U),me=aa(v(h,$.anyOf),y,S,J,N,U),He=aa(v(h,$.noneOf),y,S,J,N,U);let Ge=ma(y,encodeURI(Cn(h))+J);return v(h,$.allow).forEach(tt=>{Ge=Mt(Ge,$.allow,tt)}),v(h,$.deny).forEach(tt=>{Ge=Mt(Ge,$.deny,tt)}),ee.forEach(tt=>{Ge=Mt(Ge,$.allOf,tt)}),me.forEach(tt=>{Ge=Mt(Ge,$.anyOf,tt)}),He.forEach(tt=>{Ge=Mt(Ge,$.noneOf,tt)}),[Ge,ee.concat(me).concat(He)]}function aa(h,y,S,N,U,J){return h.map(ee=>{const me=S.rules.find(tt=>Cn(tt)===ee);if(typeof me>"u")return null;let He=qc(y,encodeURI(Cn(me))+N),Ge=!1;return to.forEach(tt=>{v(me,tt).forEach(kt=>{tt===U&&kt===J||(Ge=!0,He=Mt(He,tt,kt))})}),Ge?He:null}).filter(So)}function So(h){return h!==null}async function La(h,y=pe){const S=Ya(h),N=bo(h),U=Ko(S).concat(Ko(N)),J=await bi(U,y),ee=Go(S,J).filter(So),me=Go(N,J).filter(So),He=new Set;ee.forEach(tr=>{js(tr).forEach(Yr=>{He.add(Yr)})}),me.forEach(tr=>{js(tr).forEach(Yr=>{He.add(Yr)})});const Ge=Array.from(He),kt=Ge.map(tr=>wf(tr)).filter(tr=>!U.includes(tr)),Kt=await bi(kt,y),rn={...J,...Kt},Nn=Go(Ge,rn).filter(So);return{inaccessibleUrls:Object.keys(rn).filter(tr=>rn[tr]===null),acrPolicies:ee,policies:me,rules:Nn}}function wf(h){const y=new URL(h);return y.hash="",y.href}function Ko(h){const y=[];return h.forEach(S=>{const N=wf(S);y.includes(N)||y.push(N)}),y}async function bi(h,y){const S=Array.from(new Set(h)),N={};return await Promise.all(S.map(async U=>{try{const J=await ii(U,y);N[U]=J}catch{N[U]=null}})),N}function Go(h,y){return h.map(S=>{const N=wf(S),U=y[N];return U?hn(U,S):null})}function js(h){return rs(h).concat(Ds(h)).concat(ko(h))}function Kd(h,y){var S,N,U,J;if(h.controlRead!==h.controlWrite)throw new Error("For Pods using Web Access Control, controlRead and controlWrite must be equal.");return{read:(S=h.read)!==null&&S!==void 0?S:y.read,append:(N=h.append)!==null&&N!==void 0?N:y.append,write:(U=h.write)!==null&&U!==void 0?U:y.write,control:(J=h.controlRead)!==null&&J!==void 0?J:y.control}}function ba(h){return{read:h.read,write:h.write,append:h.append,controlRead:h.control,controlWrite:h.control}}async function ql(h,y,S,N){const U=await ra(h,N),J=S(ga(h,U),y);return J===null?null:ba(J)}async function _f(h,y,S){const N=await ra(h,S),U=y(ga(h,N));return U===null?null:ba(U)}async function oa(h,y,S){const N=await ra(h,S),U=y(ga(h,N));if(U===null)return null;const J={};for(const[ee,me]of Object.entries(U))J[ee]=ba(me);return J}function Bs(h,y,S=pe){return ql(h,y,Rc,S)}function Gd(h,y,S=pe){return ql(h,y,Oc,S)}function cs(h,y=pe){return _f(h,fd,y)}function Hu(h,y=pe){return oa(h,dl,y)}function Hs(h,y=pe){return oa(h,ud,y)}async function ki(h,y){if(!ci(h))return null;const S=await ra(h,y),N=ga(h,S);let U;if(Oa(N))U=sd(N);else if(Ci(N))U=Uh(N);else return null;return od(N,U)}async function fs(h,y,S){let N=null;try{return N=await xc(h,y,S),od(h,N)}catch{return null}}async function Vu(h,y,S,N,U){const J=await ki(h,U);if(J===null)return null;const ee=Ec(J),me=S(J),He=Kd(y,me),Ge=N(ee,He);return fs(J,Ge,U)}async function zl(h,y,S,N,U,J){const ee=await ki(h,J);if(ee===null)return null;const me=N(ee,y),He=Ec(ee),Ge=Kd(S,me),tt=U(He,y,Ge);return fs(ee,tt,J)}async function Sf(h,y,S,N=pe){return zl(h,y,S,Rc,Tc,N)}async function _p(h,y,S,N=pe){return zl(h,y,S,Oc,As,N)}async function qd(h,y,S=pe){return Vu(h,y,fd,jh,S)}var Ef=Object.freeze({__proto__:null,getAccessFor:Af,getAccessForAll:sa,getAgentAccess:Ji,getAgentAccessAll:Jd,getGroupAccess:Yd,getGroupAccessAll:qo,getPublicAccess:Ku,setAccessFor:zd,setAgentAccess:Wd,setGroupAccess:$u,setPublicAccess:Vs});async function Af(h,y,S=pe,N=pe){if(y==="agent"){if(typeof S!="string")throw new Error("When reading Agent-specific access, the given agent cannot be left undefined.");return Ji(h,S,N)}if(y==="group"){if(typeof S!="string")throw new Error("When reading Group-specific access, the given group cannot be left undefined.");return Yd(h,S,N)}if(y==="public"){if(typeof S=="string")throw new Error(`When reading public access, no actor type should be specified (here [${S}]).`);return Ku(h,S)}return null}async function sa(h,y,S=pe){return y==="agent"?Jd(h,S):y==="group"?qo(h,S):null}async function zd(h,y,S,N=pe,U=pe){if(y==="agent"){if(typeof N!="string")throw new Error("When writing Agent-specific access, the given agent cannot be left undefined.");return Wd(h,N,S,U)}if(y==="group"){if(typeof N!="string")throw new Error("When writing Group-specific access, the given group cannot be left undefined.");return $u(h,N,S,U)}if(y==="public"){if(typeof N=="string")throw new Error(`When writing public access, no actor type should be specified (here [${N}]).`);return Vs(h,S,N)}return null}async function Ji(h,y,S=pe){const N=await Ti(h,S);if(Tr(N)){const U=await La(N,S);return Bu(U,y)}return ci(N)?Bs(N,y,S):null}async function Wd(h,y,S,N=pe){const U=await Ti(h,N);if(Tr(U)){const J=await La(U,N),ee=g0(U,J,y,S);if(ee)try{return await ia(ee,N),await Ji(h,y,N)}catch{return null}return null}if(ci(U)){if(S.controlRead!==S.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${rt(U)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);return await Sf(U,y,S,N),Bs(U,y,N)}return null}async function Jd(h,y=pe){const S=await Ti(h,y);if(Tr(S)){const N=await La(S,y);return Jm(N)}return ci(S)?Hu(S,y):null}async function Yd(h,y,S=pe){const N=await Ti(h,S);if(Tr(N)){const U=await La(N,S);return yf(U,y)}return ci(N)?Gd(N,y,S):null}async function qo(h,y=pe){const S=await Ti(h,y);if(Tr(S)){const N=await La(S,y);return $d(N)}return ci(S)?Hs(S,y):null}async function $u(h,y,S,N=pe){const U=await Ti(h,N);if(Tr(U)){const J=await La(U,N),ee=Jr(U,J,y,S);if(ee)try{return await ia(ee,N),await Yd(h,y,N)}catch{return null}return null}if(ci(U)){if(S.controlRead!==S.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${rt(U)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);return await _p(U,y,S,N),Gd(U,y,N)}return null}async function Ku(h,y=pe){const S=await Ti(h,y);if(Tr(S)){const N=await La(S,y);return vf(N)}return ci(S)?cs(S,y):null}async function Vs(h,y,S=pe){const N=await Ti(h,S);if(Tr(N)){const U=await La(N,S),J=li(N,U,y);if(J)try{return await ia(J,S),await Ku(h,S)}catch{return null}return null}if(ci(N)){if(y.controlRead!==y.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${rt(N)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);return await qd(N,y,S),cs(N,S)}return null}var Ym=Object.freeze({__proto__:null,getAccessFor:Af,getAccessForAll:sa,getAgentAccess:Ji,getAgentAccessAll:Jd,getGroupAccess:Yd,getGroupAccessAll:qo,getPublicAccess:Ku,setAccessFor:zd,setAgentAccess:Wd,setGroupAccess:$u,setPublicAccess:Vs});const Sp=[$.agent];function Gu(h,y,S){if(h.inaccessibleUrls.length>0)return null;const N=h.acrPolicies.filter(tt=>Qd(tt,y,S,h)),U=h.policies.filter(tt=>Qd(tt,y,S,h)),J={read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1},ee=N.reduce((tt,kt)=>{const Kt={...tt},rn=sf(kt);return rn.read&&(Kt.controlRead=!0),rn.write&&(Kt.controlWrite=!0),Kt},J),me=U.reduce((tt,kt)=>{const Kt={...tt},rn=sf(kt);return rn.read&&(Kt.read=!0),rn.append&&(Kt.append=!0),rn.write&&(Kt.write=!0),Kt},ee),He=N.reduce((tt,kt)=>{const Kt={...tt},rn=xd(kt);return rn.read===!0&&(Kt.controlRead=!1),rn.write===!0&&(Kt.controlWrite=!1),Kt},me);return U.reduce((tt,kt)=>{const Kt={...tt},rn=xd(kt);return rn.read===!0&&(Kt.read=!1),rn.append===!0&&(Kt.append=!1),rn.write===!0&&(Kt.write=!1),Kt},He)}function Ep(h,y){return Gu(h,$.agent,y)}function Ap(h){return Gu(h,$.agent,$.PublicAgent)}function Qd(h,y,S,N){const U=v(h,$.allow),J=v(h,$.deny);if(U.length+J.length===0)return!1;const ee=hf(h).map(Ge=>N.matchers.find(tt=>Cn(tt)===Ge)),me=Md(h).map(Ge=>N.matchers.find(tt=>Cn(tt)===Ge)),He=wo(h).map(Ge=>N.matchers.find(tt=>Cn(tt)===Ge));return ee.every(Ge=>Xm(Ge,y,S))&&(me.length===0||me.some(Ge=>Xm(Ge,y,S)))&&ee.length+me.length>0&&He.length===0}function Qm(h,y){const S=v(h,$.allow),N=v(h,$.deny);return y.read===!0&&N.includes(jr.read)||y.read===!1&&S.includes(jr.read)&&!N.includes(jr.read)||y.append===!0&&N.includes(jr.append)||y.append===!1&&S.includes(jr.append)&&!N.includes(jr.append)||y.write===!0&&N.includes(jr.write)||y.write===!1&&S.includes(jr.write)&&!N.includes(jr.write)}function Xm(h,y,S){return v(h,y).includes(S)}function Zm(h,y){const S=new Set;return h.matchers.forEach(N=>{v(N,y).filter(U=>![$.PublicAgent,$.CreatorAgent,$.AuthenticatedAgent].includes(U)||y!==$.agent).forEach(U=>S.add(U))}),S}function ey(h,y){if(h.inaccessibleUrls.length>0)return null;const S={};return Zm(h,y).forEach(U=>{const J=Gu(h,y,U);S[U]=J}),S}function qu(h){return ey(h,$.agent)}function xf(h,y,S,N,U){var J,ee,me,He,Ge;if(!Tr(h)||y.inaccessibleUrls.length>0)return null;const tt=Gu(y,S,N);if(tt===null)return null;const kt=y.acrPolicies.filter(On=>Qd(On,S,N,y)),Kt=y.policies.filter(On=>Qd(On,S,N,y)),rn=kt.filter(On=>Qm(On,{read:U.controlRead,write:U.controlWrite})),Nn=Kt.filter(On=>Qm(On,{read:U.read,append:U.append,write:U.write})),gr=rn.filter(On=>xp(On,S,N,y)),tr=Nn.filter(On=>xp(On,S,N,y)),no={...y,acrPolicies:y.acrPolicies.filter(On=>!gr.includes(On)),policies:y.policies.filter(On=>!tr.includes(On))},Yr=Gu(no,S,N);if(Yr===null)return null;let An=h;gr.forEach(On=>{const[fr,ds]=Rp(On,h,y,S,N);An=Vi(An,fr),An=ds.reduce(ls,An)}),tr.forEach(On=>{const[fr,ds]=Rp(On,h,y,S,N);An=Hl(An,fr),An=ds.reduce(ls,An)});const Yi=`matcher_${encodeURIComponent(`${S}_${N}`)}`;let Ii=gf(h,Yi);Ii=_r(Ii,S,N);const wa=(J=U.controlRead)!==null&&J!==void 0?J:tt.controlRead,Qi=(ee=U.controlWrite)!==null&&ee!==void 0?ee:tt.controlWrite;let $s=gr;if(wa!==Yr.controlRead||Qi!==Yr.controlWrite){const On=u.v4();let fr=ma(h,On);fr=kl(fr,{read:wa===!0,append:!1,write:Qi===!0}),fr=Mt(fr,$.allOf,Ii),An=Vi(An,fr),An=ls(An,Ii),$s=rn}const Ao=(me=U.read)!==null&&me!==void 0?me:tt.read,Nf=(He=U.append)!==null&&He!==void 0?He:tt.append,Ff=(Ge=U.write)!==null&&Ge!==void 0?Ge:tt.write;let Yl=tr;if(Ao!==Yr.read||Nf!==Yr.append||Ff!==Yr.write){const On=u.v4();let fr=ma(h,On);fr=kl(fr,{read:Ao===!0,append:Nf===!0,write:Ff===!0}),fr=Mt(fr,$.allOf,Ii),An=Hl(An,fr),An=ls(An,Ii),Yl=Nn}return $s.forEach(On=>{An=Fo(An,Cn(On))}),Yl.forEach(On=>{An=Na(An,Cn(On))}),An}function ty(h,y,S,N){return xf(h,y,$.agent,S,N)}function ny(h,y,S){return xf(h,y,$.agent,$.PublicAgent,S)}function xp(h,y,S,N){const J=v(h,$.allOf).map(tt=>N.matchers.find(kt=>Cn(kt)===tt)).some(tt=>Xd(tt,y,S)),me=v(h,$.anyOf).map(tt=>N.matchers.find(kt=>Cn(kt)===tt)).some(tt=>Xd(tt,y,S)),Ge=v(h,$.noneOf).map(tt=>N.matchers.find(kt=>Cn(kt)===tt)).some(tt=>Xd(tt,y,S));return J||me||Ge}function Xd(h,y,S){const N=[];return Sp.forEach(U=>{const J=v(h,U).filter(ee=>ee!==S||U!==y);N.push(...J)}),N.length>0}function Rp(h,y,S,N,U){const J=u.v4(),ee=Zd(v(h,$.allOf),y,S,J,N,U),me=Zd(v(h,$.anyOf),y,S,J,N,U),He=Zd(v(h,$.noneOf),y,S,J,N,U);let Ge=ma(y,encodeURI(Cn(h))+J);return v(h,$.allow).forEach(tt=>{Ge=Mt(Ge,$.allow,tt)}),v(h,$.deny).forEach(tt=>{Ge=Mt(Ge,$.deny,tt)}),ee.forEach(tt=>{Ge=Mt(Ge,$.allOf,tt)}),me.forEach(tt=>{Ge=Mt(Ge,$.anyOf,tt)}),He.forEach(tt=>{Ge=Mt(Ge,$.noneOf,tt)}),[Ge,ee.concat(me).concat(He)]}function Zd(h,y,S,N,U,J){return h.map(ee=>{const me=S.matchers.find(tt=>Cn(tt)===ee);if(typeof me>"u")return null;let He=gf(y,encodeURI(Cn(me))+N),Ge=!1;return Sp.forEach(tt=>{v(me,tt).forEach(kt=>{tt===U&&kt===J||(Ge=!0,He=Mt(He,tt,kt))})}),Ge?He:null}).filter(Wl)}function Wl(h){return h!==null}async function zu(h,y=pe){const S=Ya(h),N=bo(h),U=ti(S).concat(ti(N)),J=await th(U,y),ee=Cp(S,J).filter(Wl),me=Cp(N,J).filter(Wl),He=new Set;ee.forEach(tr=>{Tp(tr).forEach(Yr=>{He.add(Yr)})}),me.forEach(tr=>{Tp(tr).forEach(Yr=>{He.add(Yr)})});const Ge=Array.from(He),kt=Ge.map(tr=>eh(tr)).filter(tr=>!U.includes(tr)),Kt=await th(kt,y),rn={...J,...Kt},Nn=Cp(Ge,rn).filter(Wl);return{inaccessibleUrls:Object.keys(rn).filter(tr=>rn[tr]===null),acrPolicies:ee,policies:me,matchers:Nn}}function eh(h){const y=new URL(h);return y.hash="",y.href}function ti(h){const y=[];return h.forEach(S=>{const N=eh(S);y.includes(N)||y.push(N)}),y}async function th(h,y){const S=Array.from(new Set(h)),N={};return await Promise.all(S.map(async U=>{try{const J=await ii(U,y);N[U]=J}catch{N[U]=null}})),N}function Cp(h,y){return h.map(S=>{const N=eh(S),U=y[N];return U?hn(U,S):null})}function Tp(h){return hf(h).concat(Md(h)).concat(wo(h))}async function ry(h,y,S=pe){const N=await Ti(h,S);if(Tr(N)){const U=await zu(N,S);return Ep(U,y)}return ci(N)?Bs(N,y,S):null}async function m0(h,y,S,N=pe){const U=await Ti(h,N);if(Tr(U)){const J=await zu(U,N),ee=ty(U,J,y,S);if(ee)try{return await ia(ee,N),await ry(h,y,N)}catch{return null}return null}if(ci(U)){if(S.controlRead!==S.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${rt(U)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);return await Sf(U,y,S,N),Bs(U,y,N)}return null}async function y0(h,y=pe){const S=await Ti(h,y);if(Tr(S)){const N=await zu(S,y);return qu(N)}return ci(S)?Hu(S,y):null}async function Rf(h,y=pe){const S=await Ti(h,y);if(Tr(S)){const N=await zu(S,y);return Ap(N)}return ci(S)?cs(S,y):null}async function Wu(h,y,S=pe){const N=await Ti(h,S);if(Tr(N)){const U=await zu(N,S),J=ny(N,U,y);if(J)try{return await ia(J,S),await Rf(h,S)}catch{return null}return null}if(ci(N)){if(y.controlRead!==y.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${rt(N)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);return await qd(N,y,S),cs(N,S)}return null}var Op=Object.freeze({__proto__:null,getAccessFor:Af,getAccessForAll:sa,getAgentAccess:ry,getAgentAccessAll:y0,getPublicAccess:Rf,setAccessFor:zd,setAgentAccess:m0,setPublicAccess:Wu});async function Cf(h,y){if(typeof h.internal_resourceInfo.aclUrl!="string")return null;try{return await be(h.internal_resourceInfo.aclUrl,y)}catch{return null}}function Ip(h){return mi(h,Dn.allow)}function Jl(h){return mi(h,Dn.deny)}function Eo(h,y,S){const N=b(y,Dn.allOf).map(Ge=>hn(yn(h),Ge)).filter(Ge=>Ge!==null),U=N.every(Ge=>b(Ge,Dn.agent).includes(S)),J=b(y,Dn.anyOf).map(Ge=>hn(yn(h),Ge)).filter(Ge=>Ge!==null),ee=J.some(Ge=>b(Ge,Dn.agent).includes(S)),me=b(y,Dn.noneOf).map(Ge=>hn(yn(h),Ge)).filter(Ge=>Ge!==null),He=me.some(Ge=>b(Ge,Dn.agent).includes(S));return N.length+J.length>0&&(N.length===0||U)&&(J.length===0||ee)&&(me.length===0||!He)}function Ju(h,y,S){const N=Ip(h),U=Jl(h);return S==="control"?{read:y.read,append:y.append,write:y.write,controlRead:(y.controlRead||N.read)&&!U.read,controlWrite:(y.controlWrite||N.write)&&!U.write}:{read:(y.read||N.read)&&!U.read,append:(y.append||N.append)&&!U.append,write:(y.write||N.write)&&!U.write,controlRead:y.controlRead,controlWrite:y.controlWrite}}async function nh(h,y){let S={read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1};return Du(h).map(J=>hn(yn(h),J)).filter(J=>J!==null).forEach(J=>{Eo(h,J,y)&&(S=Ju(J,S,"resource"))}),df(h).map(J=>hn(yn(h),J)).filter(J=>J!==null).forEach(J=>{Eo(h,J,y)&&(S=Ju(J,S,"control"))}),S}function iy(h){const y=h.internal_resourceInfo.linkedResources[Dn.accessControl];return Array.isArray(y)&&y.length===1?y[0]:null}async function ay(h,y){const S=iy(h);if(S!==null)return S;const N=await Cf(h,y);if(N===null)return null;const U=$e(N).type;return Array.isArray(U)&&U.includes(Dn.AccessControlResource)?ge(N):null}async function Yu(h,y){const S=await ay(h,y);if(S===null)return null;let N;try{N=await ii(S,y)}catch{return null}return{...h,internal_acp:{acr:{...N,accessTo:ge(h)}}}}async function Pp(h,y,S){const N=await be(h,S),U=await Yu(N,S);return U===null?Bs(N,y,S):nh(U,y)}function v0(h){return Array.from(new Set(lr(yn(h)).map(y=>b(y,Dn.agent)).reduce((y,S)=>y.concat(S),[])))}async function Np(h){return(await Promise.all(v0(h).map(async y=>({[y]:await nh(h,y)})))).reduce((y,S)=>({...y,...S}),{})}async function oy(h,y){const S=await be(h,y),N=await Yu(S,y);return N===null?Hu(S,y):Np(N)}async function sy(h){return nh(h,Dn.PublicAgent)}async function ly(h,y){const S=await be(h,y),N=await Yu(S,y);return N===null?cs(S,y):sy(N)}function Tf(h,y,S){return cr(h,y).concat("AgentMatcher").concat(S.charAt(0).toUpperCase()+S.slice(1)).concat("Policy")}function Fp(h,y,S){const N=Tf(h,y,S);return N.includes("Acr")?Nu(h,N):Id(h,N)}function uy(h,y,S){return Tf(h,y,S).concat("Matcher")}const cy=Dn.anyOf;function Of(h,y,S){const N=Tf(h,y,S),U=uy(h,y,S);let J=hn(yn(h),N);return J||(h=Fp(h,y,S),J=rr({url:N}),J=Rl(J,{[S]:!0},Dn.allow)),v(J,cy).includes(U)?h:(J=Ga(J).addUrl(cy,U).build(),Da(h,J))}function If(h,y,S,N,U){var J;const ee=uy(h,S,N),me=Of(h,S,N),He=(J=hn(yn(me),ee))!==null&&J!==void 0?J:rr({url:ee});return Da(me,U==="add"?vi(He,y):mf(He,y))}async function Dp(h,y,S){const N=await nh(h,y);return typeof S.read=="boolean"&&N.read!==S.read&&(h=If(h,y,Al,"read",S.read?"add":"remove")),typeof S.append=="boolean"&&N.append!==S.append&&(h=If(h,y,Al,"append",S.append?"add":"remove")),typeof S.write=="boolean"&&N.write!==S.write&&(h=If(h,y,Al,"write",S.write?"add":"remove")),typeof S.controlRead=="boolean"&&N.controlRead!==S.controlRead&&(h=If(h,y,xl,"controlRead",S.controlRead?"add":"remove")),typeof S.controlWrite=="boolean"&&N.controlWrite!==S.controlWrite&&(h=If(h,y,xl,"controlWrite",S.controlWrite?"add":"remove")),h}async function xr(h,y,S,N){const U=await be(h,N),J=await Yu(U,N);if(J===null)return await Sf(U,y,S,N),Bs(U,y,N);try{return await ia(await Dp(J,y,S),N),await Pp(h,y,N)}catch{return null}}async function Mp(h,y){return Dp(h,Dn.PublicAgent,y)}async function rh(h,y,S){const N=await be(h,S),U=await Yu(N,S);if(U===null)return await qd(N,y,S),cs(N,S);try{return await ia(await Mp(U,y),S),await ly(h,S)}catch{return null}}var Lp=Object.freeze({__proto__:null,getAclServerResourceInfo:Cf,getAgentAccess:Pp,getAgentAccessAll:oy,getPublicAccess:ly,setAgentAccess:xr,setPublicAccess:rh}),fy=Object.freeze({__proto__:null,acrAsMarkdown:Lc,addAcrPolicyUrl:_u,addAgent:is,addAllOfRuleUrl:Qa,addAnyOfRuleUrl:Hc,addClient:Bm,addGroup:Ms,addMemberAcrPolicyUrl:vl,addMemberPolicyUrl:Mo,addMockAcrTo:Vl,addNoneOfRuleUrl:Kc,addPolicyUrl:Mc,createPolicy:Ou,createResourcePolicyFor:ma,createResourceRuleFor:qc,createRule:vd,getAcrPolicyUrlAll:Ya,getAgentAll:Yc,getAllOfRuleUrlAll:rs,getAllowModes:Bo,getAnyOfRuleUrlAll:Ds,getClientAll:_d,getDenyModes:Xa,getFileWithAccessDatasets:Is,getFileWithAcr:Tl,getGroupAll:Tu,getLinkedAcrUrl:Au,getMemberAcrPolicyUrlAll:bl,getMemberPolicyUrlAll:_l,getNoneOfRuleUrlAll:ko,getPolicy:Iu,getPolicyAll:Ul,getPolicyUrlAll:bo,getReferencedPolicyUrlAll:Ns,getResourceAcrPolicy:as,getResourceAcrPolicyAll:uf,getResourceInfoWithAccessDatasets:Ps,getResourceInfoWithAcr:Ti,getResourcePolicy:Us,getResourcePolicyAll:Bl,getResourceRule:bd,getResourceRuleAll:zh,getRule:zc,getRuleAll:Cu,getSolidDatasetWithAccessDatasets:Eu,getSolidDatasetWithAcr:Os,hasAccessibleAcr:Tr,hasAnyClient:af,hasAuthenticated:Dl,hasCreator:Ml,hasLinkedAcr:vo,hasPublic:Fl,isAcpControlled:Fs,mockAcrFor:ya,policyAsMarkdown:Fa,removeAcrPolicyUrl:Fo,removeAcrPolicyUrlAll:Do,removeAgent:Pl,removeAllOfRuleUrl:Ol,removeAnyClient:Ad,removeAnyOfRuleUrl:Vc,removeAuthenticated:tf,removeClient:Sd,removeCreator:rf,removeGroup:Xc,removeMemberAcrPolicyUrl:Dc,removeMemberAcrPolicyUrlAll:wl,removeMemberPolicyUrl:Lo,removeMemberPolicyUrlAll:Sl,removeNoneOfRuleUrl:Gc,removePolicy:jo,removePolicyUrl:Na,removePolicyUrlAll:ns,removePublic:wd,removeResourceAcrPolicy:os,removeResourcePolicy:cf,removeResourceRule:Wh,removeRule:Wc,ruleAsMarkdown:of,saveAcrFor:ia,setAgent:Qc,setAllOfRuleUrl:xu,setAllowModes:jl,setAnyClient:Ed,setAnyOfRuleUrl:$c,setAuthenticated:ef,setClient:Jh,setCreator:nf,setDenyModes:lf,setGroup:Nl,setNoneOfRuleUrl:Ru,setPolicy:Ls,setPublic:Zc,setResourceAcrPolicy:Vi,setResourcePolicy:Hl,setResourceRule:Il,setRule:Jc}),Up=Object.freeze({__proto__:null,addAcrPolicyUrl:Nu,addAgent:vi,addAllOfMatcherUrl:Gm,addAnyOfMatcherUrl:pf,addClient:Vd,addMemberAcrPolicyUrl:Od,addMemberPolicyUrl:np,addMockAcrTo:Vl,addNoneOfMatcherUrl:qm,addPolicyUrl:Id,createMatcher:up,createPolicy:Ou,createResourceMatcherFor:gf,createResourcePolicyFor:ma,getAcrPolicyUrlAll:df,getAgentAll:dp,getAllOfMatcherUrlAll:hf,getAllowModes:sf,getAnyOfMatcherUrlAll:Md,getClientAll:pp,getDenyModes:xd,getFileWithAccessDatasets:Is,getFileWithAcr:Tl,getLinkedAcrUrl:Au,getMatcher:ku,getMatcherAll:cp,getMemberAcrPolicyUrlAll:ip,getMemberPolicyUrlAll:Nd,getNoneOfMatcherUrlAll:wo,getPolicy:Iu,getPolicyAll:Ul,getPolicyUrlAll:Du,getReferencedPolicyUrlAll:Ns,getResourceAcrPolicy:as,getResourceAcrPolicyAll:uf,getResourceInfoWithAccessDatasets:Ps,getResourceInfoWithAcr:Ti,getResourceMatcher:Za,getResourceMatcherAll:Ld,getResourcePolicy:Us,getResourcePolicyAll:Bl,getSolidDatasetWithAccessDatasets:Eu,getSolidDatasetWithAcr:Os,getVcAccess:yd,hasAccessibleAcr:Tr,hasAuthenticated:Bd,hasCreator:Wi,hasLinkedAcr:vo,hasPublic:jd,isAcpControlled:Fs,mockAcrFor:ya,removeAcrPolicyUrl:Fd,removeAcrPolicyUrlAll:Do,removeAgent:mf,removeAllOfMatcherUrl:sp,removeAnyOfMatcherUrl:Lu,removeAuthenticated:fi,removeClient:va,removeCreator:hp,removeMatcher:fp,removeMemberAcrPolicyUrl:ap,removeMemberAcrPolicyUrlAll:wl,removeMemberPolicyUrl:Dd,removeMemberPolicyUrlAll:Sl,removeNoneOfMatcherUrl:lp,removePolicy:jo,removePolicyUrl:op,removePolicyUrlAll:ns,removePublic:zm,removeResourceAcrPolicy:os,removeResourceMatcher:Ud,removeResourcePolicy:cf,saveAcrFor:ia,setAgent:$o,setAllOfMatcherUrl:Vo,setAllowModes:kl,setAnyOfMatcherUrl:di,setAuthenticated:Hd,setCreator:_o,setDenyModes:Yh,setMatcher:kd,setNoneOfMatcherUrl:Uu,setPolicy:Ls,setPublic:Oi,setResourceMatcher:ls,setResourcePolicy:Ho,setVcAccess:Cl});const{getJsonLdParser:Pf,getTurtleParser:ih,solidDatasetAsTurtle:Qu}=vn;return st.FetchError=at,st.SolidClientError=g,st.ThingExpectedError=pa,st.access=Ef,st.access_v1=Ym,st.access_v2=Op,st.acp_ess_1=fy,st.acp_ess_2=Up,st.acp_v1=Vm,st.acp_v2=Td,st.acp_v3=Km,st.acp_v4=mp,st.addBoolean=Pn,st.addDate=jn,st.addDatetime=Ar,st.addDecimal=pr,st.addInteger=kr,st.addIri=Mt,st.addJwkToJwks=Rs,st.addLiteral=Tn,st.addMockFallbackAclTo=es,st.addMockResourceAclTo=xs,st.addNamedNode=xi,st.addPublicKeyToProfileJwks=qi,st.addStringEnglish=Sn,st.addStringNoLocale=ai,st.addStringWithLocale=zn,st.addTerm=Wr,st.addTime=wr,st.addUrl=er,st.asIri=Cn,st.asUrl=Cr,st.buildThing=Ga,st.changeLogAsMarkdown=Wt,st.createAcl=Wa,st.createAclFromFallbackAcl=Uh,st.createContainerAt=oe,st.createContainerInContainer=Ke,st.createSolidDataset=ri,st.createThing=rr,st.deleteAclFor=fl,st.deleteContainer=Rt,st.deleteFile=mn,st.deleteSolidDataset=ne,st.fromRdfJsDataset=Ln,st.getAgentAccess=Rc,st.getAgentAccessAll=dl,st.getAgentDefaultAccess=Ia,st.getAgentDefaultAccessAll=Pa,st.getAgentResourceAccess=hl,st.getAgentResourceAccessAll=Cc,st.getAltProfileUrlAllFrom=Pc,st.getBoolean=A,st.getBooleanAll=P,st.getContainedResourceUrlAll=Nt,st.getContentType=lt,st.getDate=ue,st.getDateAll=Ee,st.getDatetime=B,st.getDatetimeAll=X,st.getDecimal=Te,st.getDecimalAll=Oe,st.getEffectiveAccess=Me,st.getFallbackAcl=Ac,st.getFile=Qn,st.getFileWithAcl=ld,st.getGroupAccess=Oc,st.getGroupAccessAll=ud,st.getGroupDefaultAccess=Br,st.getGroupDefaultAccessAll=Es,st.getGroupResourceAccess=Gi,st.getGroupResourceAccessAll=gi,st.getInteger=ke,st.getIntegerAll=We,st.getIri=Ei,st.getIriAll=v,st.getJsonLdParser=Pf,st.getLinkedResourceUrlAll=$e,st.getLiteral=dn,st.getLiteralAll=Bt,st.getNamedNode=ht,st.getNamedNodeAll=At,st.getPodOwner=Y,st.getPodUrlAll=a0,st.getPodUrlAllFrom=Um,st.getProfileAll=Hh,st.getProfileJwksIri=bu,st.getPropertyAll=Ha,st.getPublicAccess=fd,st.getPublicDefaultAccess=vu,st.getPublicResourceAccess=yu,st.getResourceAcl=Ec,st.getResourceInfo=be,st.getResourceInfoWithAcl=mu,st.getSolidDataset=ii,st.getSolidDatasetWithAcl=Mm,st.getSourceIri=rt,st.getSourceUrl=ge,st.getStringByLocaleAll=Ce,st.getStringEnglish=ut,st.getStringEnglishAll=Et,st.getStringNoLocale=De,st.getStringNoLocaleAll=Ue,st.getStringWithLocale=yt,st.getStringWithLocaleAll=le,st.getTerm=Xn,st.getTermAll=un,st.getThing=hn,st.getThingAll=lr,st.getTime=ye,st.getTimeAll=_e,st.getTurtleParser=ih,st.getUrl=ha,st.getUrlAll=b,st.getWebIdDataset=o0,st.getWellKnownSolid=_n,st.hasAccessibleAcl=ci,st.hasAcl=Lh,st.hasFallbackAcl=Ci,st.hasResourceAcl=Oa,st.hasResourceInfo=d,st.hasServerResourceInfo=c,st.isContainer=it,st.isPodOwner=xe,st.isRawData=Re,st.isThing=or,st.isThingLocal=Ui,st.mockContainerFrom=Hn,st.mockFetchError=Bn,st.mockFileFrom=pn,st.mockSolidDatasetFrom=Qt,st.mockThingFrom=Nh,st.overwriteFile=Gt,st.removeAll=ir,st.removeBoolean=$a,st.removeDate=rl,st.removeDatetime=wc,st.removeDecimal=co,st.removeInteger=ws,st.removeIri=ur,st.removeLiteral=il,st.removeNamedNode=du,st.removeStringEnglish=ed,st.removeStringNoLocale=Xo,st.removeStringWithLocale=Ca,st.removeThing=Lr,st.removeTime=_c,st.removeUrl=ei,st.responseToResourceInfo=Ze,st.responseToSolidDataset=Va,st.saveAclFor=xc,st.saveFileInContainer=ln,st.saveSolidDatasetAt=M,st.saveSolidDatasetInContainer=we,st.setAgentDefaultAccess=pl,st.setAgentResourceAccess=Tc,st.setBoolean=al,st.setDate=ol,st.setDatetime=td,st.setDecimal=Sc,st.setGroupDefaultAccess=Lm,st.setGroupResourceAccess=As,st.setInteger=nd,st.setIri=_r,st.setLiteral=hu,st.setNamedNode=sl,st.setProfileJwks=Bh,st.setPublicDefaultAccess=Ic,st.setPublicResourceAccess=jh,st.setStringNoLocale=ho,st.setStringWithLocale=Hi,st.setTerm=Ph,st.setThing=ar,st.setTime=pi,st.setUrl=Ka,st.solidDatasetAsMarkdown=Vt,st.solidDatasetAsTurtle=Qu,st.thingAsMarkdown=Zr,st.toRdfJsDataset=$t,st.universalAccess=Lp,st.validateContainedResourceAll=qt,st}var Ob={},dr={};const br=crypto,so=e=>e instanceof CryptoKey,CR=async(e,t)=>{const r=`SHA-${e.slice(-3)}`;return new Uint8Array(await br.subtle.digest(r,t))},Li=new TextEncoder,Jo=new TextDecoder,sv=2**32;function tl(...e){const t=e.reduce((a,{length:l})=>a+l,0),r=new Uint8Array(t);let i=0;return e.forEach(a=>{r.set(a,i),i+=a.length}),r}function dP(e,t){return tl(Li.encode(e),new Uint8Array([0]),t)}function sw(e,t,r){if(t<0||t>=sv)throw new RangeError(`value must be >= 0 and <= ${sv-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,t&255],r)}function TR(e){const t=Math.floor(e/sv),r=e%sv,i=new Uint8Array(8);return sw(i,t,0),sw(i,r,4),i}function l_(e){const t=new Uint8Array(4);return sw(t,e),t}function Ib(e){return tl(l_(e.length),e)}async function hP(e,t,r){const i=Math.ceil((t>>3)/32),a=new Uint8Array(i*32);for(let l=0;l<i;l++){const s=new Uint8Array(4+e.length+r.length);s.set(l_(l+1)),s.set(e,4),s.set(r,4+e.length),a.set(await CR("sha256",s),l*32)}return a.slice(0,t>>3)}const u_=e=>{let t=e;typeof t=="string"&&(t=Li.encode(t));const r=32768,i=[];for(let a=0;a<t.length;a+=r)i.push(String.fromCharCode.apply(null,t.subarray(a,a+r)));return btoa(i.join(""))},ji=e=>u_(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),OR=e=>{const t=atob(e),r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r},Ki=e=>{let t=e;t instanceof Uint8Array&&(t=Jo.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return OR(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class ea extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var r;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}}class ro extends ea{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(t,r="unspecified",i="unspecified"){super(t),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=i}}class lw extends ea{static get code(){return"ERR_JWT_EXPIRED"}constructor(t,r="unspecified",i="unspecified"){super(t),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=i}}class lv extends ea{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class Vr extends ea{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class om extends ea{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}class pP extends ea{constructor(){super(...arguments),this.code="ERR_JWE_DECOMPRESSION_FAILED",this.message="decompression operation failed"}static get code(){return"ERR_JWE_DECOMPRESSION_FAILED"}}class bn extends ea{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}class oi extends ea{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class ao extends ea{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class IR extends ea{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}class jv extends ea{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class c_ extends ea{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class PR extends ea{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}class NR extends ea{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class f_ extends ea{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}const gP=Object.freeze(Object.defineProperty({__proto__:null,JOSEAlgNotAllowed:lv,JOSEError:ea,JOSENotSupported:Vr,JWEDecompressionFailed:pP,JWEDecryptionFailed:om,JWEInvalid:bn,JWKInvalid:IR,JWKSInvalid:jv,JWKSMultipleMatchingKeys:PR,JWKSNoMatchingKey:c_,JWKSTimeout:NR,JWSInvalid:oi,JWSSignatureVerificationFailed:f_,JWTClaimValidationFailed:ro,JWTExpired:lw,JWTInvalid:ao},Symbol.toStringTag,{value:"Module"})),Bv=br.getRandomValues.bind(br);function FR(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new Vr(`Unsupported JWE Algorithm: ${e}`)}}const DR=e=>Bv(new Uint8Array(FR(e)>>3)),MR=(e,t)=>{if(t.length<<3!==FR(e))throw new bn("Invalid Initialization Vector length")},uv=(e,t)=>{const r=e.byteLength<<3;if(r!==t)throw new bn(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)},mP=(e,t)=>{if(!(e instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(e.length!==t.length)throw new TypeError("Input buffers must have the same length");const r=e.length;let i=0,a=-1;for(;++a<r;)i|=e[a]^t[a];return i===0};function ca(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function fc(e,t){return e.name===t}function Jy(e){return parseInt(e.name.slice(4),10)}function yP(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function LR(e,t){if(t.length&&!t.some(r=>e.usages.includes(r))){let r="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const i=t.pop();r+=`one of ${t.join(", ")}, or ${i}.`}else t.length===2?r+=`one of ${t[0]} or ${t[1]}.`:r+=`${t[0]}.`;throw new TypeError(r)}}function vP(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!fc(e.algorithm,"HMAC"))throw ca("HMAC");const i=parseInt(t.slice(2),10);if(Jy(e.algorithm.hash)!==i)throw ca(`SHA-${i}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!fc(e.algorithm,"RSASSA-PKCS1-v1_5"))throw ca("RSASSA-PKCS1-v1_5");const i=parseInt(t.slice(2),10);if(Jy(e.algorithm.hash)!==i)throw ca(`SHA-${i}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!fc(e.algorithm,"RSA-PSS"))throw ca("RSA-PSS");const i=parseInt(t.slice(2),10);if(Jy(e.algorithm.hash)!==i)throw ca(`SHA-${i}`,"algorithm.hash");break}case"EdDSA":{if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw ca("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!fc(e.algorithm,"ECDSA"))throw ca("ECDSA");const i=yP(t);if(e.algorithm.namedCurve!==i)throw ca(i,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}LR(e,r)}function gc(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!fc(e.algorithm,"AES-GCM"))throw ca("AES-GCM");const i=parseInt(t.slice(1,4),10);if(e.algorithm.length!==i)throw ca(i,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!fc(e.algorithm,"AES-KW"))throw ca("AES-KW");const i=parseInt(t.slice(1,4),10);if(e.algorithm.length!==i)throw ca(i,"algorithm.length");break}case"ECDH":{switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw ca("ECDH, X25519, or X448")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!fc(e.algorithm,"PBKDF2"))throw ca("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!fc(e.algorithm,"RSA-OAEP"))throw ca("RSA-OAEP");const i=parseInt(t.slice(9),10)||1;if(Jy(e.algorithm.hash)!==i)throw ca(`SHA-${i}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}LR(e,r)}function UR(e,t,...r){if(r.length>2){const i=r.pop();e+=`one of type ${r.join(", ")}, or ${i}.`}else r.length===2?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const xa=(e,...t)=>UR("Key must be ",e,...t);function kR(e,t,...r){return UR(`Key for the ${e} algorithm must be `,t,...r)}const jR=e=>so(e),Pi=["CryptoKey"];async function bP(e,t,r,i,a,l){if(!(t instanceof Uint8Array))throw new TypeError(xa(t,"Uint8Array"));const s=parseInt(e.slice(1,4),10),u=await br.subtle.importKey("raw",t.subarray(s>>3),"AES-CBC",!1,["decrypt"]),d=await br.subtle.importKey("raw",t.subarray(0,s>>3),{hash:`SHA-${s<<1}`,name:"HMAC"},!1,["sign"]),c=tl(l,i,r,TR(l.length<<3)),p=new Uint8Array((await br.subtle.sign("HMAC",d,c)).slice(0,s>>3));let g;try{g=mP(a,p)}catch{}if(!g)throw new om;let w;try{w=new Uint8Array(await br.subtle.decrypt({iv:i,name:"AES-CBC"},u,r))}catch{}if(!w)throw new om;return w}async function wP(e,t,r,i,a,l){let s;t instanceof Uint8Array?s=await br.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(gc(t,e,"decrypt"),s=t);try{return new Uint8Array(await br.subtle.decrypt({additionalData:l,iv:i,name:"AES-GCM",tagLength:128},s,tl(r,a)))}catch{throw new om}}const BR=async(e,t,r,i,a,l)=>{if(!so(t)&&!(t instanceof Uint8Array))throw new TypeError(xa(t,...Pi,"Uint8Array"));switch(MR(e,i),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&uv(t,parseInt(e.slice(-3),10)),bP(e,t,r,i,a,l);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&uv(t,parseInt(e.slice(1,4),10)),wP(e,t,r,i,a,l);default:throw new Vr("Unsupported JWE Content Encryption Algorithm")}},_P=async()=>{throw new Vr('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.')},SP=async()=>{throw new Vr('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')},_m=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let r;for(const i of t){const a=Object.keys(i);if(!r||r.size===0){r=new Set(a);continue}for(const l of a){if(r.has(l))return!1;r.add(l)}}return!0};function EP(e){return typeof e=="object"&&e!==null}function Zi(e){if(!EP(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const Hv=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function HR(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${t}`)}function VR(e,t,r){if(so(e))return gc(e,t,r),e;if(e instanceof Uint8Array)return br.subtle.importKey("raw",e,"AES-KW",!0,[r]);throw new TypeError(xa(e,...Pi,"Uint8Array"))}const uw=async(e,t,r)=>{const i=await VR(t,e,"wrapKey");HR(i,e);const a=await br.subtle.importKey("raw",r,...Hv);return new Uint8Array(await br.subtle.wrapKey("raw",a,i,"AES-KW"))},cw=async(e,t,r)=>{const i=await VR(t,e,"unwrapKey");HR(i,e);const a=await br.subtle.unwrapKey("raw",r,i,"AES-KW",...Hv);return new Uint8Array(await br.subtle.exportKey("raw",a))};async function $R(e,t,r,i,a=new Uint8Array(0),l=new Uint8Array(0)){if(!so(e))throw new TypeError(xa(e,...Pi));if(gc(e,"ECDH"),!so(t))throw new TypeError(xa(t,...Pi));gc(t,"ECDH","deriveBits");const s=tl(Ib(Li.encode(r)),Ib(a),Ib(l),l_(i));let u;e.algorithm.name==="X25519"?u=256:e.algorithm.name==="X448"?u=448:u=Math.ceil(parseInt(e.algorithm.namedCurve.substr(-3),10)/8)<<3;const d=new Uint8Array(await br.subtle.deriveBits({name:e.algorithm.name,public:e},t,u));return hP(d,i,s)}async function AP(e){if(!so(e))throw new TypeError(xa(e,...Pi));return br.subtle.generateKey(e.algorithm,!0,["deriveBits"])}function KR(e){if(!so(e))throw new TypeError(xa(e,...Pi));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)||e.algorithm.name==="X25519"||e.algorithm.name==="X448"}function xP(e){if(!(e instanceof Uint8Array)||e.length<8)throw new bn("PBES2 Salt Input must be 8 or more octets")}function RP(e,t){if(e instanceof Uint8Array)return br.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(so(e))return gc(e,t,"deriveBits","deriveKey"),e;throw new TypeError(xa(e,...Pi,"Uint8Array"))}async function GR(e,t,r,i){xP(e);const a=dP(t,e),l=parseInt(t.slice(13,16),10),s={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:a},u={length:l,name:"AES-KW"},d=await RP(i,t);if(d.usages.includes("deriveBits"))return new Uint8Array(await br.subtle.deriveBits(s,d,l));if(d.usages.includes("deriveKey"))return br.subtle.deriveKey(s,d,u,!1,["wrapKey","unwrapKey"]);throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}const CP=async(e,t,r,i=2048,a=Bv(new Uint8Array(16)))=>{const l=await GR(a,e,i,t);return{encryptedKey:await uw(e.slice(-6),l,r),p2c:i,p2s:ji(a)}},TP=async(e,t,r,i,a)=>{const l=await GR(a,e,i,t);return cw(e.slice(-6),l,r)};function cv(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new Vr(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}const Vv=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:r}=t.algorithm;if(typeof r!="number"||r<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},OP=async(e,t,r)=>{if(!so(t))throw new TypeError(xa(t,...Pi));if(gc(t,e,"encrypt","wrapKey"),Vv(e,t),t.usages.includes("encrypt"))return new Uint8Array(await br.subtle.encrypt(cv(e),t,r));if(t.usages.includes("wrapKey")){const i=await br.subtle.importKey("raw",r,...Hv);return new Uint8Array(await br.subtle.wrapKey("raw",i,t,cv(e)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},IP=async(e,t,r)=>{if(!so(t))throw new TypeError(xa(t,...Pi));if(gc(t,e,"decrypt","unwrapKey"),Vv(e,t),t.usages.includes("decrypt"))return new Uint8Array(await br.subtle.decrypt(cv(e),t,r));if(t.usages.includes("unwrapKey")){const i=await br.subtle.unwrapKey("raw",r,t,cv(e),...Hv);return new Uint8Array(await br.subtle.exportKey("raw",i))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function d_(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new Vr(`Unsupported JWE Algorithm: ${e}`)}}const Vf=e=>Bv(new Uint8Array(d_(e)>>3)),qR=(e,t)=>{const r=(e.match(/.{1,64}/g)||[]).join(`
`);return`-----BEGIN ${t}-----
${r}
-----END ${t}-----`},zR=async(e,t,r)=>{if(!so(r))throw new TypeError(xa(r,...Pi));if(!r.extractable)throw new TypeError("CryptoKey is not extractable");if(r.type!==e)throw new TypeError(`key is not a ${e} key`);return qR(u_(new Uint8Array(await br.subtle.exportKey(t,r))),`${e.toUpperCase()} KEY`)},PP=e=>zR("public","spki",e),NP=e=>zR("private","pkcs8",e),sc=(e,t,r=0)=>{r===0&&(t.unshift(t.length),t.unshift(6));let i=e.indexOf(t[0],r);if(i===-1)return!1;const a=e.subarray(i,i+t.length);return a.length!==t.length?!1:a.every((l,s)=>l===t[s])||sc(e,t,i+1)},Z1=e=>{switch(!0){case sc(e,[42,134,72,206,61,3,1,7]):return"P-256";case sc(e,[43,129,4,0,34]):return"P-384";case sc(e,[43,129,4,0,35]):return"P-521";case sc(e,[43,101,110]):return"X25519";case sc(e,[43,101,111]):return"X448";case sc(e,[43,101,112]):return"Ed25519";case sc(e,[43,101,113]):return"Ed448";default:throw new Vr("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},WR=async(e,t,r,i,a)=>{var l;let s,u;const d=new Uint8Array(atob(r.replace(e,"")).split("").map(p=>p.charCodeAt(0))),c=t==="spki";switch(i){case"PS256":case"PS384":case"PS512":s={name:"RSA-PSS",hash:`SHA-${i.slice(-3)}`},u=c?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":s={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${i.slice(-3)}`},u=c?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s={name:"RSA-OAEP",hash:`SHA-${parseInt(i.slice(-3),10)||1}`},u=c?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":s={name:"ECDSA",namedCurve:"P-256"},u=c?["verify"]:["sign"];break;case"ES384":s={name:"ECDSA",namedCurve:"P-384"},u=c?["verify"]:["sign"];break;case"ES512":s={name:"ECDSA",namedCurve:"P-521"},u=c?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const p=Z1(d);s=p.startsWith("P-")?{name:"ECDH",namedCurve:p}:{name:p},u=c?[]:["deriveBits"];break}case"EdDSA":s={name:Z1(d)},u=c?["verify"]:["sign"];break;default:throw new Vr('Invalid or unsupported "alg" (Algorithm) value')}return br.subtle.importKey(t,d,s,(l=a?.extractable)!==null&&l!==void 0?l:!1,u)},FP=(e,t,r)=>WR(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,r),JR=(e,t,r)=>WR(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,r);function eA(e){let t=[],r=0;for(;r<e.length;){let i=YR(e.subarray(r));t.push(i),r+=i.byteLength}return t}function YR(e){let t=0,r=e[0]&31;if(t++,r===31){for(r=0;e[t]>=128;)r=r*128+e[t]-128,t++;r=r*128+e[t]-128,t++}let i=0;if(e[t]<128)i=e[t],t++;else if(i===128){for(i=0;e[t+i]!==0||e[t+i+1]!==0;){if(i>e.byteLength)throw new TypeError("invalid indefinite form length");i++}const l=t+i+2;return{byteLength:l,contents:e.subarray(t,t+i),raw:e.subarray(0,l)}}else{let l=e[t]&127;t++,i=0;for(let s=0;s<l;s++)i=i*256+e[t],t++}const a=t+i;return{byteLength:a,contents:e.subarray(t,a),raw:e.subarray(0,a)}}function DP(e){const t=eA(eA(YR(e).contents)[0].contents);return u_(t[t[0].raw[0]===160?6:5].raw)}function MP(e){const t=e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""),r=OR(t);return qR(DP(r),"PUBLIC KEY")}const LP=(e,t,r)=>{let i;try{i=MP(e)}catch(a){throw new TypeError("Failed to parse the X.509 certificate",{cause:a})}return JR(i,t,r)};function UP(e){let t,r;switch(e.kty){case"oct":{switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:`SHA-${e.alg.slice(-3)}`},r=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new Vr(`${e.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},r=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},r=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},r=["deriveBits"];break;default:throw new Vr('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"RSA":{switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Vr('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new Vr('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(e.alg){case"EdDSA":t={name:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new Vr('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new Vr('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}const tA=async e=>{var t,r;if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:i,keyUsages:a}=UP(e),l=[i,(t=e.ext)!==null&&t!==void 0?t:!1,(r=e.key_ops)!==null&&r!==void 0?r:a];if(i.name==="PBKDF2")return br.subtle.importKey("raw",Ki(e.k),...l);const s={...e};return delete s.alg,delete s.use,br.subtle.importKey("jwk",s,...l)};async function kP(e,t,r){if(typeof e!="string"||e.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return JR(e,t,r)}async function jP(e,t,r){if(typeof e!="string"||e.indexOf("-----BEGIN CERTIFICATE-----")!==0)throw new TypeError('"x509" must be X.509 formatted string');return LP(e,t,r)}async function BP(e,t,r){if(typeof e!="string"||e.indexOf("-----BEGIN PRIVATE KEY-----")!==0)throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return FP(e,t,r)}async function Sm(e,t,r){var i;if(!Zi(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return r??(r=e.ext!==!0),r?tA({...e,alg:t,ext:(i=e.ext)!==null&&i!==void 0?i:!1}):Ki(e.k);case"RSA":if(e.oth!==void 0)throw new Vr('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return tA({...e,alg:t});default:throw new Vr('Unsupported "kty" (Key Type) Parameter value')}}const HP=(e,t)=>{if(!(t instanceof Uint8Array)){if(!jR(t))throw new TypeError(kR(e,t,...Pi,"Uint8Array"));if(t.type!=="secret")throw new TypeError(`${Pi.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},VP=(e,t,r)=>{if(!jR(t))throw new TypeError(kR(e,t,...Pi));if(t.type==="secret")throw new TypeError(`${Pi.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(r==="sign"&&t.type==="public")throw new TypeError(`${Pi.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(r==="decrypt"&&t.type==="public")throw new TypeError(`${Pi.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&r==="verify"&&t.type==="private")throw new TypeError(`${Pi.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&r==="encrypt"&&t.type==="private")throw new TypeError(`${Pi.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},$v=(e,t,r)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?HP(e,t):VP(e,t,r)};async function $P(e,t,r,i,a){if(!(r instanceof Uint8Array))throw new TypeError(xa(r,"Uint8Array"));const l=parseInt(e.slice(1,4),10),s=await br.subtle.importKey("raw",r.subarray(l>>3),"AES-CBC",!1,["encrypt"]),u=await br.subtle.importKey("raw",r.subarray(0,l>>3),{hash:`SHA-${l<<1}`,name:"HMAC"},!1,["sign"]),d=new Uint8Array(await br.subtle.encrypt({iv:i,name:"AES-CBC"},s,t)),c=tl(a,i,d,TR(a.length<<3)),p=new Uint8Array((await br.subtle.sign("HMAC",u,c)).slice(0,l>>3));return{ciphertext:d,tag:p}}async function KP(e,t,r,i,a){let l;r instanceof Uint8Array?l=await br.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(gc(r,e,"encrypt"),l=r);const s=new Uint8Array(await br.subtle.encrypt({additionalData:a,iv:i,name:"AES-GCM",tagLength:128},l,t)),u=s.slice(-16);return{ciphertext:s.slice(0,-16),tag:u}}const fw=async(e,t,r,i,a)=>{if(!so(r)&&!(r instanceof Uint8Array))throw new TypeError(xa(r,...Pi,"Uint8Array"));switch(MR(e,i),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&uv(r,parseInt(e.slice(-3),10)),$P(e,t,r,i,a);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&uv(r,parseInt(e.slice(1,4),10)),KP(e,t,r,i,a);default:throw new Vr("Unsupported JWE Content Encryption Algorithm")}};async function GP(e,t,r,i){const a=e.slice(0,7);i||(i=DR(a));const{ciphertext:l,tag:s}=await fw(a,r,t,i,new Uint8Array(0));return{encryptedKey:l,iv:ji(i),tag:ji(s)}}async function qP(e,t,r,i,a){const l=e.slice(0,7);return BR(l,t,r,i,a,new Uint8Array(0))}async function zP(e,t,r,i,a){switch($v(e,t,"decrypt"),e){case"dir":{if(r!==void 0)throw new bn("Encountered unexpected JWE Encrypted Key");return t}case"ECDH-ES":if(r!==void 0)throw new bn("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!Zi(i.epk))throw new bn('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!KR(t))throw new Vr("ECDH with the provided key is not allowed or not supported by your javascript runtime");const l=await Sm(i.epk,e);let s,u;if(i.apu!==void 0){if(typeof i.apu!="string")throw new bn('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{s=Ki(i.apu)}catch{throw new bn("Failed to base64url decode the apu")}}if(i.apv!==void 0){if(typeof i.apv!="string")throw new bn('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{u=Ki(i.apv)}catch{throw new bn("Failed to base64url decode the apv")}}const d=await $R(l,t,e==="ECDH-ES"?i.enc:e,e==="ECDH-ES"?d_(i.enc):parseInt(e.slice(-5,-2),10),s,u);if(e==="ECDH-ES")return d;if(r===void 0)throw new bn("JWE Encrypted Key missing");return cw(e.slice(-6),d,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(r===void 0)throw new bn("JWE Encrypted Key missing");return IP(e,t,r)}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(r===void 0)throw new bn("JWE Encrypted Key missing");if(typeof i.p2c!="number")throw new bn('JOSE Header "p2c" (PBES2 Count) missing or invalid');const l=a?.maxPBES2Count||1e4;if(i.p2c>l)throw new bn('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if(typeof i.p2s!="string")throw new bn('JOSE Header "p2s" (PBES2 Salt) missing or invalid');let s;try{s=Ki(i.p2s)}catch{throw new bn("Failed to base64url decode the p2s")}return TP(e,t,r,i.p2c,s)}case"A128KW":case"A192KW":case"A256KW":{if(r===void 0)throw new bn("JWE Encrypted Key missing");return cw(e,t,r)}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(r===void 0)throw new bn("JWE Encrypted Key missing");if(typeof i.iv!="string")throw new bn('JOSE Header "iv" (Initialization Vector) missing or invalid');if(typeof i.tag!="string")throw new bn('JOSE Header "tag" (Authentication Tag) missing or invalid');let l;try{l=Ki(i.iv)}catch{throw new bn("Failed to base64url decode the iv")}let s;try{s=Ki(i.tag)}catch{throw new bn("Failed to base64url decode the tag")}return qP(e,t,r,l,s)}default:throw new Vr('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function Em(e,t,r,i,a){if(a.crit!==void 0&&i.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||i.crit===void 0)return new Set;if(!Array.isArray(i.crit)||i.crit.length===0||i.crit.some(s=>typeof s!="string"||s.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let l;r!==void 0?l=new Map([...Object.entries(r),...t.entries()]):l=t;for(const s of i.crit){if(!l.has(s))throw new Vr(`Extension Header Parameter "${s}" is not recognized`);if(a[s]===void 0)throw new e(`Extension Header Parameter "${s}" is missing`);if(l.get(s)&&i[s]===void 0)throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(i.crit)}const dw=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(r=>typeof r!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function h_(e,t,r){var i;if(!Zi(e))throw new bn("Flattened JWE must be an object");if(e.protected===void 0&&e.header===void 0&&e.unprotected===void 0)throw new bn("JOSE Header missing");if(typeof e.iv!="string")throw new bn("JWE Initialization Vector missing or incorrect type");if(typeof e.ciphertext!="string")throw new bn("JWE Ciphertext missing or incorrect type");if(typeof e.tag!="string")throw new bn("JWE Authentication Tag missing or incorrect type");if(e.protected!==void 0&&typeof e.protected!="string")throw new bn("JWE Protected Header incorrect type");if(e.encrypted_key!==void 0&&typeof e.encrypted_key!="string")throw new bn("JWE Encrypted Key incorrect type");if(e.aad!==void 0&&typeof e.aad!="string")throw new bn("JWE AAD incorrect type");if(e.header!==void 0&&!Zi(e.header))throw new bn("JWE Shared Unprotected Header incorrect type");if(e.unprotected!==void 0&&!Zi(e.unprotected))throw new bn("JWE Per-Recipient Unprotected Header incorrect type");let a;if(e.protected)try{const H=Ki(e.protected);a=JSON.parse(Jo.decode(H))}catch{throw new bn("JWE Protected Header is invalid")}if(!_m(a,e.header,e.unprotected))throw new bn("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const l={...a,...e.header,...e.unprotected};if(Em(bn,new Map,r?.crit,a,l),l.zip!==void 0){if(!a||!a.zip)throw new bn('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(l.zip!=="DEF")throw new Vr('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:s,enc:u}=l;if(typeof s!="string"||!s)throw new bn("missing JWE Algorithm (alg) in JWE Header");if(typeof u!="string"||!u)throw new bn("missing JWE Encryption Algorithm (enc) in JWE Header");const d=r&&dw("keyManagementAlgorithms",r.keyManagementAlgorithms),c=r&&dw("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(d&&!d.has(s))throw new lv('"alg" (Algorithm) Header Parameter not allowed');if(c&&!c.has(u))throw new lv('"enc" (Encryption Algorithm) Header Parameter not allowed');let p;if(e.encrypted_key!==void 0)try{p=Ki(e.encrypted_key)}catch{throw new bn("Failed to base64url decode the encrypted_key")}let g=!1;typeof t=="function"&&(t=await t(a,e),g=!0);let w;try{w=await zP(s,t,p,l,r)}catch(H){if(H instanceof TypeError||H instanceof bn||H instanceof Vr)throw H;w=Vf(u)}let _,T;try{_=Ki(e.iv)}catch{throw new bn("Failed to base64url decode the iv")}try{T=Ki(e.tag)}catch{throw new bn("Failed to base64url decode the tag")}const x=Li.encode((i=e.protected)!==null&&i!==void 0?i:"");let C;e.aad!==void 0?C=tl(x,Li.encode("."),Li.encode(e.aad)):C=x;let E;try{E=Ki(e.ciphertext)}catch{throw new bn("Failed to base64url decode the ciphertext")}let I=await BR(u,w,E,_,T,C);l.zip==="DEF"&&(I=await(r?.inflateRaw||_P)(I));const O={plaintext:I};if(e.protected!==void 0&&(O.protectedHeader=a),e.aad!==void 0)try{O.additionalAuthenticatedData=Ki(e.aad)}catch{throw new bn("Failed to base64url decode the aad")}return e.unprotected!==void 0&&(O.sharedUnprotectedHeader=e.unprotected),e.header!==void 0&&(O.unprotectedHeader=e.header),g?{...O,key:t}:O}async function QR(e,t,r){if(e instanceof Uint8Array&&(e=Jo.decode(e)),typeof e!="string")throw new bn("Compact JWE must be a string or Uint8Array");const{0:i,1:a,2:l,3:s,4:u,length:d}=e.split(".");if(d!==5)throw new bn("Invalid Compact JWE");const c=await h_({ciphertext:s,iv:l||void 0,protected:i||void 0,tag:u||void 0,encrypted_key:a||void 0},t,r),p={plaintext:c.plaintext,protectedHeader:c.protectedHeader};return typeof t=="function"?{...p,key:c.key}:p}async function WP(e,t,r){if(!Zi(e))throw new bn("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(Zi))throw new bn("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new bn("JWE Recipients has no members");for(const i of e.recipients)try{return await h_({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:i.encrypted_key,header:i.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch{}throw new om}const JP=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:ji(e)};if(!so(e))throw new TypeError(xa(e,...Pi,"Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:r,alg:i,use:a,...l}=await br.subtle.exportKey("jwk",e);return l};async function YP(e){return PP(e)}async function QP(e){return NP(e)}async function p_(e){return JP(e)}async function XR(e,t,r,i,a={}){let l,s,u;switch($v(e,r,"encrypt"),e){case"dir":{u=r;break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!KR(r))throw new Vr("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:d,apv:c}=a;let{epk:p}=a;p||(p=(await AP(r)).privateKey);const{x:g,y:w,crv:_,kty:T}=await p_(p),x=await $R(r,p,e==="ECDH-ES"?t:e,e==="ECDH-ES"?d_(t):parseInt(e.slice(-5,-2),10),d,c);if(s={epk:{x:g,crv:_,kty:T}},T==="EC"&&(s.epk.y=w),d&&(s.apu=ji(d)),c&&(s.apv=ji(c)),e==="ECDH-ES"){u=x;break}u=i||Vf(t);const C=e.slice(-6);l=await uw(C,x,u);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{u=i||Vf(t),l=await OP(e,r,u);break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{u=i||Vf(t);const{p2c:d,p2s:c}=a;({encryptedKey:l,...s}=await CP(e,r,u,d,c));break}case"A128KW":case"A192KW":case"A256KW":{u=i||Vf(t),l=await uw(e,r,u);break}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{u=i||Vf(t);const{iv:d}=a;({encryptedKey:l,...s}=await GP(e,r,u,d));break}default:throw new Vr('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:u,encryptedKey:l,parameters:s}}const ZR=Symbol();class fv{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=t}setKeyManagementParameters(t){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=t,this}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setSharedUnprotectedHeader(t){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}setAdditionalAuthenticatedData(t){return this._aad=t,this}setContentEncryptionKey(t){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=t,this}setInitializationVector(t){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=t,this}async encrypt(t,r){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new bn("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!_m(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new bn("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const i={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(Em(bn,new Map,r?.crit,this._protectedHeader,i),i.zip!==void 0){if(!this._protectedHeader||!this._protectedHeader.zip)throw new bn('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(i.zip!=="DEF")throw new Vr('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:a,enc:l}=i;if(typeof a!="string"||!a)throw new bn('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof l!="string"||!l)throw new bn('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let s;if(a==="dir"){if(this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if(a==="ECDH-ES"&&this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");let u;{let T;({cek:u,encryptedKey:s,parameters:T}=await XR(a,l,t,this._cek,this._keyManagementParameters)),T&&(r&&ZR in r?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...T}:this.setUnprotectedHeader(T):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...T}:this.setProtectedHeader(T))}this._iv||(this._iv=DR(l));let d,c,p;this._protectedHeader?c=Li.encode(ji(JSON.stringify(this._protectedHeader))):c=Li.encode(""),this._aad?(p=ji(this._aad),d=tl(c,Li.encode("."),Li.encode(p))):d=c;let g,w;if(i.zip==="DEF"){const T=await(r?.deflateRaw||SP)(this._plaintext);({ciphertext:g,tag:w}=await fw(l,T,u,this._iv,d))}else({ciphertext:g,tag:w}=await fw(l,this._plaintext,u,this._iv,d));const _={ciphertext:ji(g),iv:ji(this._iv),tag:ji(w)};return s&&(_.encrypted_key=ji(s)),p&&(_.aad=p),this._protectedHeader&&(_.protected=Jo.decode(c)),this._sharedUnprotectedHeader&&(_.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(_.header=this._unprotectedHeader),_}}class XP{constructor(t,r,i){this.parent=t,this.key=r,this.options=i}setUnprotectedHeader(t){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=t,this}addRecipient(...t){return this.parent.addRecipient(...t)}encrypt(...t){return this.parent.encrypt(...t)}done(){return this.parent}}class ZP{constructor(t){this._recipients=[],this._plaintext=t}addRecipient(t,r){const i=new XP(this,t,{crit:r?.crit});return this._recipients.push(i),i}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setSharedUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}setAdditionalAuthenticatedData(t){return this._aad=t,this}async encrypt(t){var r,i,a;if(!this._recipients.length)throw new bn("at least one recipient must be added");if(t={deflateRaw:t?.deflateRaw},this._recipients.length===1){const[d]=this._recipients,c=await new fv(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(d.unprotectedHeader).encrypt(d.key,{...d.options,...t});let p={ciphertext:c.ciphertext,iv:c.iv,recipients:[{}],tag:c.tag};return c.aad&&(p.aad=c.aad),c.protected&&(p.protected=c.protected),c.unprotected&&(p.unprotected=c.unprotected),c.encrypted_key&&(p.recipients[0].encrypted_key=c.encrypted_key),c.header&&(p.recipients[0].header=c.header),p}let l;for(let d=0;d<this._recipients.length;d++){const c=this._recipients[d];if(!_m(this._protectedHeader,this._unprotectedHeader,c.unprotectedHeader))throw new bn("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const p={...this._protectedHeader,...this._unprotectedHeader,...c.unprotectedHeader},{alg:g}=p;if(typeof g!="string"||!g)throw new bn('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(g==="dir"||g==="ECDH-ES")throw new bn('"dir" and "ECDH-ES" alg may only be used with a single recipient');if(typeof p.enc!="string"||!p.enc)throw new bn('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(!l)l=p.enc;else if(l!==p.enc)throw new bn('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients');if(Em(bn,new Map,c.options.crit,this._protectedHeader,p),p.zip!==void 0&&(!this._protectedHeader||!this._protectedHeader.zip))throw new bn('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}const s=Vf(l);let u={ciphertext:"",iv:"",recipients:[],tag:""};for(let d=0;d<this._recipients.length;d++){const c=this._recipients[d],p={};u.recipients.push(p);const w={...this._protectedHeader,...this._unprotectedHeader,...c.unprotectedHeader}.alg.startsWith("PBES2")?2048+d:void 0;if(d===0){const x=await new fv(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(s).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(c.unprotectedHeader).setKeyManagementParameters({p2c:w}).encrypt(c.key,{...c.options,...t,[ZR]:!0});u.ciphertext=x.ciphertext,u.iv=x.iv,u.tag=x.tag,x.aad&&(u.aad=x.aad),x.protected&&(u.protected=x.protected),x.unprotected&&(u.unprotected=x.unprotected),p.encrypted_key=x.encrypted_key,x.header&&(p.header=x.header);continue}const{encryptedKey:_,parameters:T}=await XR(((r=c.unprotectedHeader)===null||r===void 0?void 0:r.alg)||((i=this._protectedHeader)===null||i===void 0?void 0:i.alg)||((a=this._unprotectedHeader)===null||a===void 0?void 0:a.alg),l,c.key,s,{p2c:w});p.encrypted_key=ji(_),(c.unprotectedHeader||T)&&(p.header={...c.unprotectedHeader,...T})}return u}}function eC(e,t){const r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new Vr(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function tC(e,t,r){if(so(t))return vP(t,e,r),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(xa(t,...Pi));return br.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}throw new TypeError(xa(t,...Pi,"Uint8Array"))}const eN=async(e,t,r,i)=>{const a=await tC(e,t,"verify");Vv(e,a);const l=eC(e,a.algorithm);try{return await br.subtle.verify(l,a,r,i)}catch{return!1}};async function g_(e,t,r){var i;if(!Zi(e))throw new oi("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new oi('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new oi("JWS Protected Header incorrect type");if(e.payload===void 0)throw new oi("JWS Payload missing");if(typeof e.signature!="string")throw new oi("JWS Signature missing or incorrect type");if(e.header!==void 0&&!Zi(e.header))throw new oi("JWS Unprotected Header incorrect type");let a={};if(e.protected)try{const C=Ki(e.protected);a=JSON.parse(Jo.decode(C))}catch{throw new oi("JWS Protected Header is invalid")}if(!_m(a,e.header))throw new oi("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const l={...a,...e.header},s=Em(oi,new Map([["b64",!0]]),r?.crit,a,l);let u=!0;if(s.has("b64")&&(u=a.b64,typeof u!="boolean"))throw new oi('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:d}=l;if(typeof d!="string"||!d)throw new oi('JWS "alg" (Algorithm) Header Parameter missing or invalid');const c=r&&dw("algorithms",r.algorithms);if(c&&!c.has(d))throw new lv('"alg" (Algorithm) Header Parameter not allowed');if(u){if(typeof e.payload!="string")throw new oi("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new oi("JWS Payload must be a string or an Uint8Array instance");let p=!1;typeof t=="function"&&(t=await t(a,e),p=!0),$v(d,t,"verify");const g=tl(Li.encode((i=e.protected)!==null&&i!==void 0?i:""),Li.encode("."),typeof e.payload=="string"?Li.encode(e.payload):e.payload);let w;try{w=Ki(e.signature)}catch{throw new oi("Failed to base64url decode the signature")}if(!await eN(d,t,w,g))throw new f_;let T;if(u)try{T=Ki(e.payload)}catch{throw new oi("Failed to base64url decode the payload")}else typeof e.payload=="string"?T=Li.encode(e.payload):T=e.payload;const x={payload:T};return e.protected!==void 0&&(x.protectedHeader=a),e.header!==void 0&&(x.unprotectedHeader=e.header),p?{...x,key:t}:x}async function nC(e,t,r){if(e instanceof Uint8Array&&(e=Jo.decode(e)),typeof e!="string")throw new oi("Compact JWS must be a string or Uint8Array");const{0:i,1:a,2:l,length:s}=e.split(".");if(s!==3)throw new oi("Invalid Compact JWS");const u=await g_({payload:a,protected:i,signature:l},t,r),d={payload:u.payload,protectedHeader:u.protectedHeader};return typeof t=="function"?{...d,key:u.key}:d}async function tN(e,t,r){if(!Zi(e))throw new oi("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(Zi))throw new oi("JWS Signatures missing or incorrect type");for(const i of e.signatures)try{return await g_({header:i.header,payload:e.payload,protected:i.protected,signature:i.signature},t,r)}catch{}throw new f_}const Yy=e=>Math.floor(e.getTime()/1e3),rC=60,iC=rC*60,m_=iC*24,nN=m_*7,rN=m_*365.25,iN=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,dv=e=>{const t=iN.exec(e);if(!t)throw new TypeError("Invalid time period format");const r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(r*rC);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(r*iC);case"day":case"days":case"d":return Math.round(r*m_);case"week":case"weeks":case"w":return Math.round(r*nN);default:return Math.round(r*rN)}},nA=e=>e.toLowerCase().replace(/^application\//,""),aN=(e,t)=>typeof e=="string"?t.includes(e):Array.isArray(e)?t.some(Set.prototype.has.bind(new Set(e))):!1,y_=(e,t,r={})=>{const{typ:i}=r;if(i&&(typeof e.typ!="string"||nA(e.typ)!==nA(i)))throw new ro('unexpected "typ" JWT header value',"typ","check_failed");let a;try{a=JSON.parse(Jo.decode(t))}catch{}if(!Zi(a))throw new ao("JWT Claims Set must be a top-level JSON object");const{requiredClaims:l=[],issuer:s,subject:u,audience:d,maxTokenAge:c}=r;c!==void 0&&l.push("iat"),d!==void 0&&l.push("aud"),u!==void 0&&l.push("sub"),s!==void 0&&l.push("iss");for(const _ of new Set(l.reverse()))if(!(_ in a))throw new ro(`missing required "${_}" claim`,_,"missing");if(s&&!(Array.isArray(s)?s:[s]).includes(a.iss))throw new ro('unexpected "iss" claim value',"iss","check_failed");if(u&&a.sub!==u)throw new ro('unexpected "sub" claim value',"sub","check_failed");if(d&&!aN(a.aud,typeof d=="string"?[d]:d))throw new ro('unexpected "aud" claim value',"aud","check_failed");let p;switch(typeof r.clockTolerance){case"string":p=dv(r.clockTolerance);break;case"number":p=r.clockTolerance;break;case"undefined":p=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:g}=r,w=Yy(g||new Date);if((a.iat!==void 0||c)&&typeof a.iat!="number")throw new ro('"iat" claim must be a number',"iat","invalid");if(a.nbf!==void 0){if(typeof a.nbf!="number")throw new ro('"nbf" claim must be a number',"nbf","invalid");if(a.nbf>w+p)throw new ro('"nbf" claim timestamp check failed',"nbf","check_failed")}if(a.exp!==void 0){if(typeof a.exp!="number")throw new ro('"exp" claim must be a number',"exp","invalid");if(a.exp<=w-p)throw new lw('"exp" claim timestamp check failed',"exp","check_failed")}if(c){const _=w-a.iat,T=typeof c=="number"?c:dv(c);if(_-p>T)throw new lw('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(_<0-p)throw new ro('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return a};async function aC(e,t,r){var i;const a=await nC(e,t,r);if(!((i=a.protectedHeader.crit)===null||i===void 0)&&i.includes("b64")&&a.protectedHeader.b64===!1)throw new ao("JWTs MUST NOT use unencoded payload");const s={payload:y_(a.protectedHeader,a.payload,r),protectedHeader:a.protectedHeader};return typeof t=="function"?{...s,key:a.key}:s}async function oN(e,t,r){const i=await QR(e,t,r),a=y_(i.protectedHeader,i.plaintext,r),{protectedHeader:l}=i;if(l.iss!==void 0&&l.iss!==a.iss)throw new ro('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(l.sub!==void 0&&l.sub!==a.sub)throw new ro('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(l.aud!==void 0&&JSON.stringify(l.aud)!==JSON.stringify(a.aud))throw new ro('replicated "aud" claim header parameter mismatch',"aud","mismatch");const s={payload:a,protectedHeader:l};return typeof t=="function"?{...s,key:i.key}:s}class oC{constructor(t){this._flattened=new fv(t)}setContentEncryptionKey(t){return this._flattened.setContentEncryptionKey(t),this}setInitializationVector(t){return this._flattened.setInitializationVector(t),this}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}setKeyManagementParameters(t){return this._flattened.setKeyManagementParameters(t),this}async encrypt(t,r){const i=await this._flattened.encrypt(t,r);return[i.protected,i.encrypted_key,i.iv,i.ciphertext,i.tag].join(".")}}const sN=async(e,t,r)=>{const i=await tC(e,t,"sign");Vv(e,i);const a=await br.subtle.sign(eC(e,i.algorithm),i,r);return new Uint8Array(a)};class v_{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=t}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}async sign(t,r){if(!this._protectedHeader&&!this._unprotectedHeader)throw new oi("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!_m(this._protectedHeader,this._unprotectedHeader))throw new oi("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...this._protectedHeader,...this._unprotectedHeader},a=Em(oi,new Map([["b64",!0]]),r?.crit,this._protectedHeader,i);let l=!0;if(a.has("b64")&&(l=this._protectedHeader.b64,typeof l!="boolean"))throw new oi('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=i;if(typeof s!="string"||!s)throw new oi('JWS "alg" (Algorithm) Header Parameter missing or invalid');$v(s,t,"sign");let u=this._payload;l&&(u=Li.encode(ji(u)));let d;this._protectedHeader?d=Li.encode(ji(JSON.stringify(this._protectedHeader))):d=Li.encode("");const c=tl(d,Li.encode("."),u),p=await sN(s,t,c),g={signature:ji(p),payload:""};return l&&(g.payload=Jo.decode(u)),this._unprotectedHeader&&(g.header=this._unprotectedHeader),this._protectedHeader&&(g.protected=Jo.decode(d)),g}}class sC{constructor(t){this._flattened=new v_(t)}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}async sign(t,r){const i=await this._flattened.sign(t,r);if(i.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${i.protected}.${i.payload}.${i.signature}`}}class lN{constructor(t,r,i){this.parent=t,this.key=r,this.options=i}setProtectedHeader(t){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=t,this}setUnprotectedHeader(t){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=t,this}addSignature(...t){return this.parent.addSignature(...t)}sign(...t){return this.parent.sign(...t)}done(){return this.parent}}class uN{constructor(t){this._signatures=[],this._payload=t}addSignature(t,r){const i=new lN(this,t,r);return this._signatures.push(i),i}async sign(){if(!this._signatures.length)throw new oi("at least one signature must be added");const t={signatures:[],payload:""};for(let r=0;r<this._signatures.length;r++){const i=this._signatures[r],a=new v_(this._payload);a.setProtectedHeader(i.protectedHeader),a.setUnprotectedHeader(i.unprotectedHeader);const{payload:l,...s}=await a.sign(i.key,i.options);if(r===0)t.payload=l;else if(t.payload!==l)throw new oi("inconsistent use of JWS Unencoded Payload (RFC7797)");t.signatures.push(s)}return t}}class b_{constructor(t){if(!Zi(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}setIssuer(t){return this._payload={...this._payload,iss:t},this}setSubject(t){return this._payload={...this._payload,sub:t},this}setAudience(t){return this._payload={...this._payload,aud:t},this}setJti(t){return this._payload={...this._payload,jti:t},this}setNotBefore(t){return typeof t=="number"?this._payload={...this._payload,nbf:t}:this._payload={...this._payload,nbf:Yy(new Date)+dv(t)},this}setExpirationTime(t){return typeof t=="number"?this._payload={...this._payload,exp:t}:this._payload={...this._payload,exp:Yy(new Date)+dv(t)},this}setIssuedAt(t){return typeof t>"u"?this._payload={...this._payload,iat:Yy(new Date)}:this._payload={...this._payload,iat:t},this}}class lC extends b_{setProtectedHeader(t){return this._protectedHeader=t,this}async sign(t,r){var i;const a=new sC(Li.encode(JSON.stringify(this._payload)));if(a.setProtectedHeader(this._protectedHeader),Array.isArray((i=this._protectedHeader)===null||i===void 0?void 0:i.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new ao("JWTs MUST NOT use unencoded payload");return a.sign(t,r)}}class cN extends b_{setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setKeyManagementParameters(t){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=t,this}setContentEncryptionKey(t){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=t,this}setInitializationVector(t){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=t,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(t,r){const i=new oC(Li.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),i.setProtectedHeader(this._protectedHeader),this._iv&&i.setInitializationVector(this._iv),this._cek&&i.setContentEncryptionKey(this._cek),this._keyManagementParameters&&i.setKeyManagementParameters(this._keyManagementParameters),i.encrypt(t,r)}}const ac=(e,t)=>{if(typeof e!="string"||!e)throw new IR(`${t} missing or invalid`)};async function uC(e,t){if(!Zi(e))throw new TypeError("JWK must be an object");if(t??(t="sha256"),t!=="sha256"&&t!=="sha384"&&t!=="sha512")throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let r;switch(e.kty){case"EC":ac(e.crv,'"crv" (Curve) Parameter'),ac(e.x,'"x" (X Coordinate) Parameter'),ac(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":ac(e.crv,'"crv" (Subtype of Key Pair) Parameter'),ac(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":ac(e.e,'"e" (Exponent) Parameter'),ac(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":ac(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new Vr('"kty" (Key Type) Parameter missing or unsupported')}const i=Li.encode(JSON.stringify(r));return ji(await CR(t,i))}async function fN(e,t){t??(t="sha256");const r=await uC(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}async function dN(e,t){const r={...e,...t?.header};if(!Zi(r.jwk))throw new oi('"jwk" (JSON Web Key) Header Parameter must be a JSON object');const i=await Sm({...r.jwk,ext:!0},r.alg,!0);if(i instanceof Uint8Array||i.type!=="public")throw new oi('"jwk" (JSON Web Key) Header Parameter must be a public key');return i}function hN(e){switch(typeof e=="string"&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new Vr('Unsupported "alg" value for a JSON Web Key Set')}}function cC(e){return e&&typeof e=="object"&&Array.isArray(e.keys)&&e.keys.every(pN)}function pN(e){return Zi(e)}function gN(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}class fC{constructor(t){if(this._cached=new WeakMap,!cC(t))throw new jv("JSON Web Key Set malformed");this._jwks=gN(t)}async getKey(t,r){const{alg:i,kid:a}={...t,...r?.header},l=hN(i),s=this._jwks.keys.filter(c=>{let p=l===c.kty;if(p&&typeof a=="string"&&(p=a===c.kid),p&&typeof c.alg=="string"&&(p=i===c.alg),p&&typeof c.use=="string"&&(p=c.use==="sig"),p&&Array.isArray(c.key_ops)&&(p=c.key_ops.includes("verify")),p&&i==="EdDSA"&&(p=c.crv==="Ed25519"||c.crv==="Ed448"),p)switch(i){case"ES256":p=c.crv==="P-256";break;case"ES256K":p=c.crv==="secp256k1";break;case"ES384":p=c.crv==="P-384";break;case"ES512":p=c.crv==="P-521";break}return p}),{0:u,length:d}=s;if(d===0)throw new c_;if(d!==1){const c=new PR,{_cached:p}=this;throw c[Symbol.asyncIterator]=async function*(){for(const g of s)try{yield await rA(p,g,i)}catch{continue}},c}return rA(this._cached,u,i)}}async function rA(e,t,r){const i=e.get(t)||e.set(t,{}).get(t);if(i[r]===void 0){const a=await Sm({...t,ext:!0},r);if(a instanceof Uint8Array||a.type!=="public")throw new jv("JSON Web Key Set members must be public keys");i[r]=a}return i[r]}function mN(e){const t=new fC(e);return async function(r,i){return t.getKey(r,i)}}const yN=async(e,t,r)=>{let i,a,l=!1;typeof AbortController=="function"&&(i=new AbortController,a=setTimeout(()=>{l=!0,i.abort()},t));const s=await fetch(e.href,{signal:i?i.signal:void 0,redirect:"manual",headers:r.headers}).catch(u=>{throw l?new NR:u});if(a!==void 0&&clearTimeout(a),s.status!==200)throw new ea("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await s.json()}catch{throw new ea("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function vN(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}class bN extends fC{constructor(t,r){if(super({keys:[]}),this._jwks=void 0,!(t instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(t.href),this._options={agent:r?.agent,headers:r?.headers},this._timeoutDuration=typeof r?.timeoutDuration=="number"?r?.timeoutDuration:5e3,this._cooldownDuration=typeof r?.cooldownDuration=="number"?r?.cooldownDuration:3e4,this._cacheMaxAge=typeof r?.cacheMaxAge=="number"?r?.cacheMaxAge:6e5}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(t,r){(!this._jwks||!this.fresh())&&await this.reload();try{return await super.getKey(t,r)}catch(i){if(i instanceof c_&&this.coolingDown()===!1)return await this.reload(),super.getKey(t,r);throw i}}async reload(){this._pendingFetch&&vN()&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=yN(this._url,this._timeoutDuration,this._options).then(t=>{if(!cC(t))throw new jv("JSON Web Key Set malformed");this._jwks={keys:t.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(t=>{throw this._pendingFetch=void 0,t})),await this._pendingFetch}}function wN(e,t){const r=new bN(e,t);return async function(i,a){return r.getKey(i,a)}}class _N extends b_{encode(){const t=ji(JSON.stringify({alg:"none"})),r=ji(JSON.stringify(this._payload));return`${t}.${r}.`}static decode(t,r){if(typeof t!="string")throw new ao("Unsecured JWT must be a string");const{0:i,1:a,2:l,length:s}=t.split(".");if(s!==3||l!=="")throw new ao("Invalid Unsecured JWT");let u;try{if(u=JSON.parse(Jo.decode(Ki(i))),u.alg!=="none")throw new Error}catch{throw new ao("Invalid Unsecured JWT")}return{payload:y_(u,Ki(a),r),header:u}}}const SN=ji,w_=Ki,EN=Object.freeze(Object.defineProperty({__proto__:null,decode:w_,encode:SN},Symbol.toStringTag,{value:"Module"}));function AN(e){let t;if(typeof e=="string"){const r=e.split(".");(r.length===3||r.length===5)&&([t]=r)}else if(typeof e=="object"&&e)if("protected"in e)t=e.protected;else throw new TypeError("Token does not contain a Protected Header");try{if(typeof t!="string"||!t)throw new Error;const r=JSON.parse(Jo.decode(w_(t)));if(!Zi(r))throw new Error;return r}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}function xN(e){if(typeof e!="string")throw new ao("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:r}=e.split(".");if(r===5)throw new ao("Only JWTs using Compact JWS serialization can be decoded");if(r!==3)throw new ao("Invalid JWT");if(!t)throw new ao("JWTs must contain a payload");let i;try{i=w_(t)}catch{throw new ao("Failed to base64url decode the payload")}let a;try{a=JSON.parse(Jo.decode(i))}catch{throw new ao("Failed to parse the decoded payload as JSON")}if(!Zi(a))throw new ao("Invalid JWT Claims Set");return a}async function RN(e,t){var r;let i,a,l;switch(e){case"HS256":case"HS384":case"HS512":i=parseInt(e.slice(-3),10),a={name:"HMAC",hash:`SHA-${i}`,length:i},l=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return i=parseInt(e.slice(-3),10),Bv(new Uint8Array(i>>3));case"A128KW":case"A192KW":case"A256KW":i=parseInt(e.slice(1,4),10),a={name:"AES-KW",length:i},l=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":i=parseInt(e.slice(1,4),10),a={name:"AES-GCM",length:i},l=["encrypt","decrypt"];break;default:throw new Vr('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return br.subtle.generateKey(a,(r=t?.extractable)!==null&&r!==void 0?r:!1,l)}function Pb(e){var t;const r=(t=e?.modulusLength)!==null&&t!==void 0?t:2048;if(typeof r!="number"||r<2048)throw new Vr("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return r}async function CN(e,t){var r,i,a;let l,s;switch(e){case"PS256":case"PS384":case"PS512":l={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Pb(t)},s=["sign","verify"];break;case"RS256":case"RS384":case"RS512":l={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Pb(t)},s=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":l={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Pb(t)},s=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":l={name:"ECDSA",namedCurve:"P-256"},s=["sign","verify"];break;case"ES384":l={name:"ECDSA",namedCurve:"P-384"},s=["sign","verify"];break;case"ES512":l={name:"ECDSA",namedCurve:"P-521"},s=["sign","verify"];break;case"EdDSA":s=["sign","verify"];const u=(r=t?.crv)!==null&&r!==void 0?r:"Ed25519";switch(u){case"Ed25519":case"Ed448":l={name:u};break;default:throw new Vr("Invalid or unsupported crv option provided")}break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{s=["deriveKey","deriveBits"];const d=(i=t?.crv)!==null&&i!==void 0?i:"P-256";switch(d){case"P-256":case"P-384":case"P-521":{l={name:"ECDH",namedCurve:d};break}case"X25519":case"X448":l={name:d};break;default:throw new Vr("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new Vr('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return br.subtle.generateKey(l,(a=t?.extractable)!==null&&a!==void 0?a:!1,s)}async function dC(e,t){return CN(e,t)}async function TN(e,t){return RN(e,t)}const ON="WebCryptoAPI",IN=Object.freeze(Object.defineProperty({__proto__:null,CompactEncrypt:oC,CompactSign:sC,EmbeddedJWK:dN,EncryptJWT:cN,FlattenedEncrypt:fv,FlattenedSign:v_,GeneralEncrypt:ZP,GeneralSign:uN,SignJWT:lC,UnsecuredJWT:_N,base64url:EN,calculateJwkThumbprint:uC,calculateJwkThumbprintUri:fN,compactDecrypt:QR,compactVerify:nC,createLocalJWKSet:mN,createRemoteJWKSet:wN,cryptoRuntime:ON,decodeJwt:xN,decodeProtectedHeader:AN,errors:gP,exportJWK:p_,exportPKCS8:QP,exportSPKI:YP,flattenedDecrypt:h_,flattenedVerify:g_,generalDecrypt:WP,generalVerify:tN,generateKeyPair:dC,generateSecret:TN,importJWK:Sm,importPKCS8:BP,importSPKI:kP,importX509:jP,jwtDecrypt:oN,jwtVerify:aC},Symbol.toStringTag,{value:"Module"})),PN=Ov(IN);var iA;function NN(){if(iA)return dr;iA=1;var e=Yf(),t=t_(),r=PN,i=s_();const a="solidClientAuthn:",l=["ES256","RS256"],s={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},u=5,g=["openid","offline_access","webid"].join(" "),w=(Xe,qe)=>({get(Fe,et,Q){if(!Object.getOwnPropertyNames(e.EventEmitter).includes(et)&&Object.getOwnPropertyNames(Xe).includes(et))throw new Error(`${qe}: [${et}] is not supported`);return Reflect.get(Fe,et,Q)}});class _{constructor(qe){this.handleables=qe,this.handleables=qe}async getProperHandler(qe){const Fe=await Promise.all(this.handleables.map(et=>et.canHandle(...qe)));for(let et=0;et<Fe.length;et+=1)if(Fe[et])return this.handleables[et];return null}async canHandle(...qe){return await this.getProperHandler(qe)!==null}async handle(...qe){const Fe=await this.getProperHandler(qe);if(Fe)return Fe.handle(...qe);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${qe.map(et=>{try{return JSON.stringify(et)}catch{return et.toString()}}).join(", ")}`)}}async function T(Xe,qe){const Fe=await t.fetch.call(globalThis,Xe);if(Fe.status!==200)throw new Error(`Could not fetch JWKS for [${qe}] at [${Xe}]: ${Fe.status} ${Fe.statusText}`);let et;try{et=(await Fe.json()).keys[0]}catch(Q){throw new Error(`Malformed JWKS for [${qe}] at [${Xe}]: ${Q.message}`)}return et}async function x(Xe,qe,Fe,et){const Q=await T(qe,Fe);let j;try{const{payload:G}=await r.jwtVerify(Xe,await r.importJWK(Q),{issuer:Fe,audience:et});j=G}catch(G){throw new Error(`Token verification failed: ${G.stack}`)}if(typeof j.webid=="string")return j.webid;if(typeof j.sub!="string")throw new Error(`The token ${JSON.stringify(j)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(j.sub),j.sub}catch(G){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${j.sub}] is invalid as a URL - error [${G}].`)}}function C(Xe){try{const qe=new URL(Xe),Fe=!qe.searchParams.has("code")&&!qe.searchParams.has("state"),et=qe.hash==="";return Fe&&et}catch{return!1}}function E(Xe){const qe=new URL(Xe);return qe.searchParams.delete("state"),qe.searchParams.delete("code"),qe.searchParams.delete("error"),qe.searchParams.delete("error_description"),qe.searchParams.delete("iss"),qe}class I{constructor(qe,Fe){this.storageUtility=qe,this.redirector=Fe,this.storageUtility=qe,this.redirector=Fe}async canHandle(qe){return!!(qe.issuerConfiguration.grantTypesSupported&&qe.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1)}async handleRedirect({oidcLoginOptions:qe,state:Fe,codeVerifier:et,targetUrl:Q}){await Promise.all([this.storageUtility.setForUser(Fe,{sessionId:qe.sessionId}),this.storageUtility.setForUser(qe.sessionId,{codeVerifier:et,issuer:qe.issuer.toString(),redirectUrl:qe.redirectUrl,dpop:qe.dpop?"true":"false"})]),this.redirector.redirect(Q,{handleRedirect:qe.handleRedirect})}}class O{constructor(qe){this.sessionInfoManager=qe,this.sessionInfoManager=qe}async canHandle(){return!0}async handle(qe){await this.sessionInfoManager.clear(qe)}}class H{constructor(qe){this.redirector=qe,this.redirector=qe}async canHandle(qe,Fe){return Fe?.logoutType==="idp"}async handle(qe,Fe){if(Fe?.logoutType!=="idp")throw new Error("Attempting to call idp logout handler to perform app logout");if(Fe.toLogoutUrl===void 0)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(Fe.toLogoutUrl(Fe),{handleRedirect:Fe.handleRedirect})}}class L{constructor(qe,Fe){this.handlers=[new O(qe),new H(Fe)]}async canHandle(){return!0}async handle(qe,Fe){for(const et of this.handlers)await et.canHandle(qe,Fe)&&await et.handle(qe,Fe)}}function q(){return{isLoggedIn:!1,sessionId:i.v4(),fetch:(...Xe)=>t.fetch.call(globalThis,...Xe)}}async function W(Xe,qe){await Promise.all([qe.deleteAllUserData(Xe,{secure:!1}),qe.deleteAllUserData(Xe,{secure:!0})])}class ${constructor(qe){this.storageUtility=qe,this.storageUtility=qe}update(qe,Fe){throw new Error("Not Implemented")}get(qe){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(qe){return W(qe,this.storageUtility)}async register(qe){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}}function Ae({endSessionEndpoint:Xe,idTokenHint:qe,postLogoutRedirectUri:Fe,state:et}){const Q=new URL(Xe);return qe!==void 0&&Q.searchParams.append("id_token_hint",qe),Fe!==void 0&&(Q.searchParams.append("post_logout_redirect_uri",Fe),et!==void 0&&Q.searchParams.append("state",et)),Q.toString()}function K({endSessionEndpoint:Xe,idTokenHint:qe}){if(Xe!==void 0)return function({state:et,postLogoutUrl:Q}){return Ae({endSessionEndpoint:Xe,idTokenHint:qe,state:et,postLogoutRedirectUri:Q})}}function ae(Xe){return typeof Xe=="string"&&["DPoP","Bearer"].includes(Xe)}const pe="solidClientAuthenticationUser";function be(Xe){try{return new URL(Xe),!0}catch{return!1}}function Ze(Xe,qe){var Fe;return(Fe=qe.find(et=>Xe.includes(et)))!==null&&Fe!==void 0?Fe:null}function it(Xe,qe){return Xe.clientId!==void 0&&!be(Xe.clientId)?"static":qe.scopesSupported.includes("webid")&&Xe.clientId!==void 0&&be(Xe.clientId)?"solid-oidc":"dynamic"}async function Re(Xe,qe,Fe,et){const Q=it(Xe,qe);return Q==="dynamic"?et.getClient({sessionId:Xe.sessionId,clientName:Xe.clientName,redirectUrl:Xe.redirectUrl},qe):(await Fe.setForUser(Xe.sessionId,{clientId:Xe.clientId}),Xe.clientSecret&&await Fe.setForUser(Xe.sessionId,{clientSecret:Xe.clientSecret}),Xe.clientName&&await Fe.setForUser(Xe.sessionId,{clientName:Xe.clientName}),{clientId:Xe.clientId,clientSecret:Xe.clientSecret,clientName:Xe.clientName,clientType:Q})}const lt=(Xe,qe)=>t.fetch.call(globalThis,Xe,qe);class ge{constructor(qe,Fe,et,Q,j){this.loginHandler=qe,this.redirectHandler=Fe,this.logoutHandler=et,this.sessionInfoManager=Q,this.issuerConfigFetcher=j,this.fetch=lt,this.logout=async(G,V)=>{await this.logoutHandler.handle(G,V?.logoutType==="idp"?{...V,toLogoutUrl:this.boundLogout}:V),this.fetch=lt,delete this.boundLogout},this.getSessionInfo=async G=>this.sessionInfoManager.get(G),this.getAllSessionInfo=async()=>this.sessionInfoManager.getAll(),this.loginHandler=qe,this.redirectHandler=Fe,this.logoutHandler=et,this.sessionInfoManager=Q,this.issuerConfigFetcher=j}}async function rt(Xe,qe){return Xe.getForUser(qe,"sessionId")}async function Y(Xe,qe,Fe){try{const[et,Q,j,G]=await Promise.all([qe.getForUser(Xe,"issuer",{errorIfNull:!0}),qe.getForUser(Xe,"codeVerifier"),qe.getForUser(Xe,"redirectUrl"),qe.getForUser(Xe,"dpop",{errorIfNull:!0})]);await qe.deleteForUser(Xe,"codeVerifier");const V=await Fe.fetchConfig(et);return{codeVerifier:Q,redirectUrl:j,issuerConfig:V,dpop:G==="true"}}catch(et){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${Xe}]: ${et}`)}}async function xe(Xe,qe,Fe,et,Q,j,G){Q!==void 0&&await Xe.setForUser(qe,{refreshToken:Q},{secure:j}),Fe!==void 0&&await Xe.setForUser(qe,{webId:Fe},{secure:j}),et!==void 0&&await Xe.setForUser(qe,{isLoggedIn:et},{secure:j}),G!==void 0&&await Xe.setForUser(qe,{publicKey:JSON.stringify(G.publicKey),privateKey:JSON.stringify(await r.exportJWK(G.privateKey))},{secure:j})}class $e{constructor(qe,Fe){this.secureStorage=qe,this.insecureStorage=Fe,this.secureStorage=qe,this.insecureStorage=Fe}getKey(qe){return`solidClientAuthenticationUser:${qe}`}async getUserData(qe,Fe){const et=await(Fe?this.secureStorage:this.insecureStorage).get(this.getKey(qe));if(et===void 0)return{};try{return JSON.parse(et)}catch{throw new Error(`Data for user [${qe}] in [${Fe?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${et}`)}}async setUserData(qe,Fe,et){await(et?this.secureStorage:this.insecureStorage).set(this.getKey(qe),JSON.stringify(Fe))}async get(qe,Fe){const et=await(Fe?.secure?this.secureStorage:this.insecureStorage).get(qe);if(et===void 0&&Fe?.errorIfNull)throw new Error(`[${qe}] is not stored`);return et}async set(qe,Fe,et){return(et?.secure?this.secureStorage:this.insecureStorage).set(qe,Fe)}async delete(qe,Fe){return(Fe?.secure?this.secureStorage:this.insecureStorage).delete(qe)}async getForUser(qe,Fe,et){const Q=await this.getUserData(qe,et?.secure);let j;if((!Q||!Q[Fe])&&(j=void 0),j=Q[Fe],j===void 0&&et?.errorIfNull)throw new Error(`Field [${Fe}] for user [${qe}] is not stored`);return j||void 0}async setForUser(qe,Fe,et){let Q;try{Q=await this.getUserData(qe,et?.secure)}catch{Q={}}await this.setUserData(qe,{...Q,...Fe},et?.secure)}async deleteForUser(qe,Fe,et){const Q=await this.getUserData(qe,et?.secure);delete Q[Fe],await this.setUserData(qe,Q,et?.secure)}async deleteAllUserData(qe,Fe){await(Fe?.secure?this.secureStorage:this.insecureStorage).delete(this.getKey(qe))}}class Me{constructor(){this.map={}}async get(qe){return this.map[qe]||void 0}async set(qe,Fe){this.map[qe]=Fe}async delete(qe){delete this.map[qe]}}class at extends Error{constructor(qe){super(qe)}}class It extends Error{constructor(qe){super(`[${qe}] is not implemented`)}}class Pt extends Error{constructor(qe){super(`Invalid response from OIDC provider: missing fields ${qe}`),this.missingFields=qe}}class Le extends Error{constructor(qe,Fe,et){super(qe),this.error=Fe,this.errorDescription=et}}function ce(Xe){const qe=new URL(Xe);return new URL(qe.pathname,qe.origin).toString()}async function Ie(Xe,qe,Fe){return new r.SignJWT({htu:ce(Xe),htm:qe.toUpperCase(),jti:i.v4()}).setProtectedHeader({alg:l[0],jwk:Fe.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(Fe.privateKey,{})}async function Ye(){const{privateKey:Xe,publicKey:qe}=await r.generateKeyPair(l[0]),Fe={privateKey:Xe,publicKey:await r.exportJWK(qe)};return[Fe.publicKey.alg]=l,Fe}const se=600;function k(Xe){return[401,403].includes(Xe)}async function D(Xe,qe,Fe,et){var Q;const j=new t.Headers(et?.headers);return j.set("Authorization",`DPoP ${qe}`),j.set("DPoP",await Ie(Xe,(Q=et?.method)!==null&&Q!==void 0?Q:"get",Fe)),{...et,headers:j}}async function z(Xe,qe,Fe,et){if(Fe!==void 0)return D(Xe,qe,Fe,et);const Q=new t.Headers(et?.headers);return Q.set("Authorization",`Bearer ${qe}`),{...et,headers:Q}}async function re(Xe,qe,Fe,et,Q){return Xe(Fe,await z(Fe.toString(),qe,Q,et))}async function Se(Xe,qe,Fe){var et;const Q=await Xe.tokenRefresher.refresh(Xe.sessionId,Xe.refreshToken,qe);return Fe?.emit(s.SESSION_EXTENDED,(et=Q.expiresIn)!==null&&et!==void 0?et:se),typeof Q.refreshToken=="string"&&Fe?.emit(s.NEW_REFRESH_TOKEN,Q.refreshToken),{accessToken:Q.accessToken,refreshToken:Q.refreshToken,expiresIn:Q.expiresIn}}const Ne=Xe=>Xe!==void 0?Xe-u>0?Xe-u:Xe:se;async function ct(Xe,qe,Fe){var et;let Q=qe,j;const G=Fe?.refreshOptions;if(G!==void 0){const V=async()=>{var Je,ot,Qe,Yt;try{const{accessToken:$n,refreshToken:qn,expiresIn:sn}=await Se(G,Fe.dpopKey,Fe.eventEmitter);Q=$n,qn!==void 0&&(G.refreshToken=qn),clearTimeout(j),j=setTimeout(V,Ne(sn)*1e3),(Je=Fe.eventEmitter)===null||Je===void 0||Je.emit(s.TIMEOUT_SET,j)}catch($n){$n instanceof Le&&((ot=Fe?.eventEmitter)===null||ot===void 0||ot.emit(s.ERROR,$n.error,$n.errorDescription),(Qe=Fe?.eventEmitter)===null||Qe===void 0||Qe.emit(s.SESSION_EXPIRED)),$n instanceof Pt&&$n.missingFields.includes("access_token")&&((Yt=Fe?.eventEmitter)===null||Yt===void 0||Yt.emit(s.SESSION_EXPIRED))}};j=setTimeout(V,Ne(Fe.expiresIn)*1e3),(et=Fe.eventEmitter)===null||et===void 0||et.emit(s.TIMEOUT_SET,j)}else if(Fe!==void 0&&Fe.eventEmitter!==void 0){const V=setTimeout(()=>{Fe.eventEmitter.emit(s.SESSION_EXPIRED)},Ne(Fe.expiresIn)*1e3);Fe.eventEmitter.emit(s.TIMEOUT_SET,V)}return async(V,Je)=>{let ot=await re(Xe,Q,V,Je,Fe?.dpopKey);const Qe=!ot.ok&&!k(ot.status);return ot.ok||Qe||ot.url!==V&&Fe?.dpopKey!==void 0&&(ot=await re(Xe,Q,ot.url,Je,Fe.dpopKey)),ot}}const Pe="getResponse",mt={get:async(Xe,qe)=>Pe,set:async(Xe,qe)=>{},delete:async Xe=>{},getForUser:async(Xe,qe,Fe)=>Pe,setForUser:async(Xe,qe,Fe)=>{},deleteForUser:async(Xe,qe,Fe)=>{},deleteAllUserData:async(Xe,qe)=>{}},Tt=Xe=>{const qe=Xe;return{get:async Fe=>{if(qe[Fe]!==void 0)return typeof qe[Fe]=="string"?qe[Fe]:JSON.stringify(qe[Fe])},set:async(Fe,et)=>{qe[Fe]=et},delete:async Fe=>{delete qe[Fe]}}},bt=(Xe,qe=!1)=>qe?new $e(Tt(Xe),Tt({})):new $e(Tt({}),Tt(Xe));return dr.AggregateHandler=_,dr.AuthorizationCodeWithPkceOidcHandlerBase=I,dr.ClientAuthentication=ge,dr.ConfigurationError=at,dr.DEFAULT_SCOPES=g,dr.EVENTS=s,dr.GeneralLogoutHandler=O,dr.IRpLogoutHandler=H,dr.IWaterfallLogoutHandler=L,dr.InMemoryStorage=Me,dr.InvalidResponseError=Pt,dr.NotImplementedError=It,dr.OidcProviderError=Le,dr.PREFERRED_SIGNING_ALG=l,dr.REFRESH_BEFORE_EXPIRATION_SECONDS=u,dr.SOLID_CLIENT_AUTHN_KEY_PREFIX=a,dr.SessionInfoManagerBase=$,dr.StorageUtility=$e,dr.StorageUtilityGetResponse=Pe,dr.StorageUtilityMock=mt,dr.USER_SESSION_PREFIX=pe,dr.buildAuthenticatedFetch=ct,dr.buildProxyHandler=w,dr.clear=W,dr.createDpopHeader=Ie,dr.determineSigningAlg=Ze,dr.fetchJwks=T,dr.generateDpopKeyPair=Ye,dr.getEndSessionUrl=Ae,dr.getSessionIdFromOauthState=rt,dr.getUnauthenticatedSession=q,dr.getWebidFromTokenPayload=x,dr.handleRegistration=Re,dr.isSupportedTokenType=ae,dr.isValidRedirectUrl=C,dr.loadOidcContextFromStorage=Y,dr.maybeBuildRpInitiatedLogout=K,dr.mockStorage=Tt,dr.mockStorageUtility=bt,dr.removeOpenIdParams=E,dr.saveSessionInfoToStorage=xe,dr}var Qy={exports:{}},FN=Qy.exports,aA;function DN(){return aA||(aA=1,function(e,t){(function(i,a){e.exports=a()})(FN,function(){return function(r){var i={};function a(l){if(i[l])return i[l].exports;var s=i[l]={i:l,l:!1,exports:{}};return r[l].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=r,a.c=i,a.d=function(l,s,u){a.o(l,s)||Object.defineProperty(l,s,{enumerable:!0,get:u})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,s){if(1&s&&(l=a(l)),8&s||4&s&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),2&s&&typeof l!="string")for(var d in l)a.d(u,d,(function(c){return l[c]}).bind(null,d));return u},a.n=function(l){var s=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(s,"a",s),s},a.o=function(l,s){return Object.prototype.hasOwnProperty.call(l,s)},a.p="",a(a.s=22)}([function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function c(p,g){for(var w=0;w<g.length;w++){var _=g[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,g,w){return g&&c(p.prototype,g),w&&c(p,w),p}}(),s={debug:function(){},info:function(){},warn:function(){},error:function(){}},u=void 0,d=void 0;(i.Log=function(){function c(){(function(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")})(this,c)}return c.reset=function(){d=3,u=s},c.debug=function(){if(d>=4){for(var g=arguments.length,w=Array(g),_=0;_<g;_++)w[_]=arguments[_];u.debug.apply(u,Array.from(w))}},c.info=function(){if(d>=3){for(var g=arguments.length,w=Array(g),_=0;_<g;_++)w[_]=arguments[_];u.info.apply(u,Array.from(w))}},c.warn=function(){if(d>=2){for(var g=arguments.length,w=Array(g),_=0;_<g;_++)w[_]=arguments[_];u.warn.apply(u,Array.from(w))}},c.error=function(){if(d>=1){for(var g=arguments.length,w=Array(g),_=0;_<g;_++)w[_]=arguments[_];u.error.apply(u,Array.from(w))}},l(c,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return d},set:function(g){if(!(0<=g&&g<=4))throw new Error("Invalid log level");d=g}},{key:"logger",get:function(){return u},set:function(g){if(!g.debug&&g.info&&(g.debug=g.info),!(g.debug&&g.info&&g.warn&&g.error))throw new Error("Invalid logger");u=g}}]),c}()).reset()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function c(p,g){for(var w=0;w<g.length;w++){var _=g[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,g,w){return g&&c(p.prototype,g),w&&c(p,w),p}}(),s={setInterval:function(c){function p(g,w){return c.apply(this,arguments)}return p.toString=function(){return c.toString()},p}(function(c,p){return setInterval(c,p)}),clearInterval:function(c){function p(g){return c.apply(this,arguments)}return p.toString=function(){return c.toString()},p}(function(c){return clearInterval(c)})},u=!1,d=null;i.Global=function(){function c(){(function(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")})(this,c)}return c._testing=function(){u=!0},c.setXMLHttpRequest=function(g){d=g},l(c,null,[{key:"location",get:function(){if(!u)return location}},{key:"localStorage",get:function(){if(!u&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!u&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!u&&typeof window<"u")return d||XMLHttpRequest}},{key:"timer",get:function(){if(!u)return s}}]),c}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.MetadataService=void 0;var l=function(){function p(g,w){for(var _=0;_<w.length;_++){var T=w[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,w,_){return w&&p(g.prototype,w),_&&p(g,_),g}}(),s=a(0),u=a(7);function d(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}var c=".well-known/openid-configuration";i.MetadataService=function(){function p(g){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.JsonService;if(d(this,p),!g)throw s.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=g,this._jsonService=new w(["application/jwk-set+json"])}return p.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},p.prototype.getMetadata=function(){var w=this;return this._settings.metadata?(s.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(s.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(_){s.Log.debug("MetadataService.getMetadata: json received");var T=w._settings.metadataSeed||{};return w._settings.metadata=Object.assign({},T,_),w._settings.metadata})):(s.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},p.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},p.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},p.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},p.prototype.getTokenEndpoint=function(){var w=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",w)},p.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},p.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},p.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},p.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},p.prototype._getMetadataProperty=function(w){var _=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return s.Log.debug("MetadataService.getMetadataProperty for: "+w),this.getMetadata().then(function(T){if(s.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),T[w]===void 0){if(_===!0)return void s.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+w);throw s.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+w),new Error("Metadata does not contain property "+w)}return T[w]})},p.prototype.getSigningKeys=function(){var w=this;return this._settings.signingKeys?(s.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(_){return s.Log.debug("MetadataService.getSigningKeys: jwks_uri received",_),w._jsonService.getJson(_).then(function(T){if(s.Log.debug("MetadataService.getSigningKeys: key set received",T),!T.keys)throw s.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return w._settings.signingKeys=T.keys,w._settings.signingKeys})})},l(p,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(c)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=c))),this._metadataUrl}}]),p}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.UrlUtility=void 0;var l=a(0),s=a(1);i.UrlUtility=function(){function u(){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.addQueryParam=function(c,p,g){return c.indexOf("?")<0&&(c+="?"),c[c.length-1]!=="?"&&(c+="&"),c+=encodeURIComponent(p),c+="=",c+=encodeURIComponent(g)},u.parseUrlFragment=function(c){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.Global;typeof c!="string"&&(c=g.location.href);var w=c.lastIndexOf(p);w>=0&&(c=c.substr(w+1)),p==="?"&&(w=c.indexOf("#"))>=0&&(c=c.substr(0,w));for(var _,T={},x=/([^&=]+)=([^&]*)/g,C=0;_=x.exec(c);)if(T[decodeURIComponent(_[1])]=decodeURIComponent(_[2].replace(/\+/g," ")),C++>50)return l.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",c),{error:"Response exceeded expected number of parameters"};for(var E in T)return T;return{}},u}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.JoseUtil=void 0;var l=a(26),s=function(d){return d&&d.__esModule?d:{default:d}}(a(33));i.JoseUtil=(0,s.default)({jws:l.jws,KeyUtil:l.KeyUtil,X509:l.X509,crypto:l.crypto,hextob64u:l.hextob64u,b64tohex:l.b64tohex,AllowedSigningAlgs:l.AllowedSigningAlgs})},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.OidcClientSettings=void 0;var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},s=function(){function E(I,O){for(var H=0;H<O.length;H++){var L=O[H];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(I,L.key,L)}}return function(I,O,H){return O&&E(I.prototype,O),H&&E(I,H),I}}(),u=a(0),d=a(23),c=a(6),p=a(24),g=a(2);function w(E,I){if(!(E instanceof I))throw new TypeError("Cannot call a class as a function")}var _=".well-known/openid-configuration",T="id_token",x="openid",C="client_secret_post";i.OidcClientSettings=function(){function E(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=I.authority,H=I.metadataUrl,L=I.metadata,q=I.signingKeys,W=I.metadataSeed,$=I.client_id,Ae=I.client_secret,K=I.response_type,ae=K===void 0?T:K,pe=I.scope,be=pe===void 0?x:pe,Ze=I.redirect_uri,it=I.post_logout_redirect_uri,Re=I.client_authentication,lt=Re===void 0?C:Re,ge=I.prompt,rt=I.display,Y=I.max_age,xe=I.ui_locales,$e=I.acr_values,Me=I.resource,at=I.response_mode,It=I.filterProtocolClaims,Pt=It===void 0||It,Le=I.loadUserInfo,ce=Le===void 0||Le,Ie=I.staleStateAge,Ye=Ie===void 0?900:Ie,se=I.clockSkew,k=se===void 0?300:se,D=I.clockService,z=D===void 0?new d.ClockService:D,re=I.userInfoJwtIssuer,Se=re===void 0?"OP":re,Ne=I.mergeClaims,ct=Ne!==void 0&&Ne,Pe=I.stateStore,mt=Pe===void 0?new c.WebStorageStateStore:Pe,Tt=I.ResponseValidatorCtor,bt=Tt===void 0?p.ResponseValidator:Tt,Xe=I.MetadataServiceCtor,qe=Xe===void 0?g.MetadataService:Xe,Fe=I.extraQueryParams,et=Fe===void 0?{}:Fe,Q=I.extraTokenParams,j=Q===void 0?{}:Q;w(this,E),this._authority=O,this._metadataUrl=H,this._metadata=L,this._metadataSeed=W,this._signingKeys=q,this._client_id=$,this._client_secret=Ae,this._response_type=ae,this._scope=be,this._redirect_uri=Ze,this._post_logout_redirect_uri=it,this._client_authentication=lt,this._prompt=ge,this._display=rt,this._max_age=Y,this._ui_locales=xe,this._acr_values=$e,this._resource=Me,this._response_mode=at,this._filterProtocolClaims=!!Pt,this._loadUserInfo=!!ce,this._staleStateAge=Ye,this._clockSkew=k,this._clockService=z,this._userInfoJwtIssuer=Se,this._mergeClaims=!!ct,this._stateStore=mt,this._validator=new bt(this),this._metadataService=new qe(this),this._extraQueryParams=(et===void 0?"undefined":l(et))==="object"?et:{},this._extraTokenParams=(j===void 0?"undefined":l(j))==="object"?j:{}}return E.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},s(E,[{key:"client_id",get:function(){return this._client_id},set:function(O){if(this._client_id)throw u.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=O}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(O){if(this._authority)throw u.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=O}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(_)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=_)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(O){this._metadata=O}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(O){this._metadataSeed=O}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(O){this._signingKeys=O}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(O){(O===void 0?"undefined":l(O))==="object"?this._extraQueryParams=O:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(O){(O===void 0?"undefined":l(O))==="object"?this._extraTokenParams=O:this._extraTokenParams={}}}]),E}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.WebStorageStateStore=void 0;var l=a(0),s=a(1);function u(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}i.WebStorageStateStore=function(){function d(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=c.prefix,g=p===void 0?"oidc.":p,w=c.store,_=w===void 0?s.Global.localStorage:w;u(this,d),this._store=_,this._prefix=g}return d.prototype.set=function(p,g){return l.Log.debug("WebStorageStateStore.set",p),p=this._prefix+p,this._store.setItem(p,g),Promise.resolve()},d.prototype.get=function(p){l.Log.debug("WebStorageStateStore.get",p),p=this._prefix+p;var g=this._store.getItem(p);return Promise.resolve(g)},d.prototype.remove=function(p){l.Log.debug("WebStorageStateStore.remove",p),p=this._prefix+p;var g=this._store.getItem(p);return this._store.removeItem(p),Promise.resolve(g)},d.prototype.getAllKeys=function(){l.Log.debug("WebStorageStateStore.getAllKeys");for(var p=[],g=0;g<this._store.length;g++){var w=this._store.key(g);w.indexOf(this._prefix)===0&&p.push(w.substr(this._prefix.length))}return Promise.resolve(p)},d}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.JsonService=void 0;var l=a(0),s=a(1);function u(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}i.JsonService=function(){function d(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.XMLHttpRequest,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;u(this,d),c&&Array.isArray(c)?this._contentTypes=c.slice():this._contentTypes=[],this._contentTypes.push("application/json"),g&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=p,this._jwtHandler=g}return d.prototype.getJson=function(p,g){var w=this;if(!p)throw l.Log.error("JsonService.getJson: No url passed"),new Error("url");return l.Log.debug("JsonService.getJson, url: ",p),new Promise(function(_,T){var x=new w._XMLHttpRequest;x.open("GET",p);var C=w._contentTypes,E=w._jwtHandler;x.onload=function(){if(l.Log.debug("JsonService.getJson: HTTP response received, status",x.status),x.status===200){var I=x.getResponseHeader("Content-Type");if(I){var O=C.find(function(H){if(I.startsWith(H))return!0});if(O=="application/jwt")return void E(x).then(_,T);if(O)try{return void _(JSON.parse(x.responseText))}catch(H){return l.Log.error("JsonService.getJson: Error parsing JSON response",H.message),void T(H)}}T(Error("Invalid response Content-Type: "+I+", from URL: "+p))}else T(Error(x.statusText+" ("+x.status+")"))},x.onerror=function(){l.Log.error("JsonService.getJson: network error"),T(Error("Network Error"))},g&&(l.Log.debug("JsonService.getJson: token passed, setting Authorization header"),x.setRequestHeader("Authorization","Bearer "+g)),x.send()})},d.prototype.postForm=function(p,g,w){var _=this;if(!p)throw l.Log.error("JsonService.postForm: No url passed"),new Error("url");return l.Log.debug("JsonService.postForm, url: ",p),new Promise(function(T,x){var C=new _._XMLHttpRequest;C.open("POST",p);var E=_._contentTypes;C.onload=function(){if(l.Log.debug("JsonService.postForm: HTTP response received, status",C.status),C.status!==200){if(C.status===400&&(q=C.getResponseHeader("Content-Type"))&&E.find(function(W){if(q.startsWith(W))return!0}))try{var L=JSON.parse(C.responseText);if(L&&L.error)return l.Log.error("JsonService.postForm: Error from server: ",L.error),void x(new Error(L.error))}catch(W){return l.Log.error("JsonService.postForm: Error parsing JSON response",W.message),void x(W)}x(Error(C.statusText+" ("+C.status+")"))}else{var q;if((q=C.getResponseHeader("Content-Type"))&&E.find(function(W){if(q.startsWith(W))return!0}))try{return void T(JSON.parse(C.responseText))}catch(W){return l.Log.error("JsonService.postForm: Error parsing JSON response",W.message),void x(W)}x(Error("Invalid response Content-Type: "+q+", from URL: "+p))}},C.onerror=function(){l.Log.error("JsonService.postForm: network error"),x(Error("Network Error"))};var I="";for(var O in g){var H=g[O];H&&(I.length>0&&(I+="&"),I+=encodeURIComponent(O),I+="=",I+=encodeURIComponent(H))}C.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),w!==void 0&&C.setRequestHeader("Authorization","Basic "+btoa(w)),C.send(I)})},d}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.SigninRequest=void 0;var l=a(0),s=a(3),u=a(13);i.SigninRequest=function(){function d(c){var p=c.url,g=c.client_id,w=c.redirect_uri,_=c.response_type,T=c.scope,x=c.authority,C=c.data,E=c.prompt,I=c.display,O=c.max_age,H=c.ui_locales,L=c.id_token_hint,q=c.login_hint,W=c.acr_values,$=c.resource,Ae=c.response_mode,K=c.request,ae=c.request_uri,pe=c.extraQueryParams,be=c.request_type,Ze=c.client_secret,it=c.extraTokenParams,Re=c.skipUserInfo;if(function(Me,at){if(!(Me instanceof at))throw new TypeError("Cannot call a class as a function")}(this,d),!p)throw l.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!g)throw l.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!w)throw l.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!_)throw l.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!T)throw l.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!x)throw l.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var lt=d.isOidc(_),ge=d.isCode(_);Ae||(Ae=d.isCode(_)?"query":null),this.state=new u.SigninState({nonce:lt,data:C,client_id:g,authority:x,redirect_uri:w,code_verifier:ge,request_type:be,response_mode:Ae,client_secret:Ze,scope:T,extraTokenParams:it,skipUserInfo:Re}),p=s.UrlUtility.addQueryParam(p,"client_id",g),p=s.UrlUtility.addQueryParam(p,"redirect_uri",w),p=s.UrlUtility.addQueryParam(p,"response_type",_),p=s.UrlUtility.addQueryParam(p,"scope",T),p=s.UrlUtility.addQueryParam(p,"state",this.state.id),lt&&(p=s.UrlUtility.addQueryParam(p,"nonce",this.state.nonce)),ge&&(p=s.UrlUtility.addQueryParam(p,"code_challenge",this.state.code_challenge),p=s.UrlUtility.addQueryParam(p,"code_challenge_method","S256"));var rt={prompt:E,display:I,max_age:O,ui_locales:H,id_token_hint:L,login_hint:q,acr_values:W,resource:$,request:K,request_uri:ae,response_mode:Ae};for(var Y in rt)rt[Y]&&(p=s.UrlUtility.addQueryParam(p,Y,rt[Y]));for(var xe in pe)p=s.UrlUtility.addQueryParam(p,xe,pe[xe]);this.url=p}return d.isOidc=function(p){return!!p.split(/\s+/g).filter(function(g){return g==="id_token"})[0]},d.isOAuth=function(p){return!!p.split(/\s+/g).filter(function(g){return g==="token"})[0]},d.isCode=function(p){return!!p.split(/\s+/g).filter(function(g){return g==="code"})[0]},d}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.State=void 0;var l=function(){function c(p,g){for(var w=0;w<g.length;w++){var _=g[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,g,w){return g&&c(p.prototype,g),w&&c(p,w),p}}(),s=a(0),u=function(p){return p&&p.__esModule?p:{default:p}}(a(14));function d(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}i.State=function(){function c(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=p.id,w=p.data,_=p.created,T=p.request_type;d(this,c),this._id=g||(0,u.default)(),this._data=w,this._created=typeof _=="number"&&_>0?_:parseInt(Date.now()/1e3),this._request_type=T}return c.prototype.toStorageString=function(){return s.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},c.fromStorageString=function(g){return s.Log.debug("State.fromStorageString"),new c(JSON.parse(g))},c.clearStaleState=function(g,w){var _=Date.now()/1e3-w;return g.getAllKeys().then(function(T){s.Log.debug("State.clearStaleState: got keys",T);for(var x=[],C=function(H){var L=T[H];I=g.get(L).then(function(q){var W=!1;if(q)try{var $=c.fromStorageString(q);s.Log.debug("State.clearStaleState: got item from key: ",L,$.created),$.created<=_&&(W=!0)}catch(Ae){s.Log.error("State.clearStaleState: Error parsing state for key",L,Ae.message),W=!0}else s.Log.debug("State.clearStaleState: no item in storage for key: ",L),W=!0;if(W)return s.Log.debug("State.clearStaleState: removed item for key: ",L),g.remove(L)}),x.push(I)},E=0;E<T.length;E++){var I;C(E)}return s.Log.debug("State.clearStaleState: waiting on promise count:",x.length),Promise.all(x)})},l(c,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),c}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.OidcClient=void 0;var l=function(){function C(E,I){for(var O=0;O<I.length;O++){var H=I[O];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(E,H.key,H)}}return function(E,I,O){return I&&C(E.prototype,I),O&&C(E,O),E}}(),s=a(0),u=a(5),d=a(12),c=a(8),p=a(34),g=a(35),w=a(36),_=a(13),T=a(9);function x(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}i.OidcClient=function(){function C(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};x(this,C),E instanceof u.OidcClientSettings?this._settings=E:this._settings=new u.OidcClientSettings(E)}return C.prototype.createSigninRequest=function(){var I=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=O.response_type,L=O.scope,q=O.redirect_uri,W=O.data,$=O.state,Ae=O.prompt,K=O.display,ae=O.max_age,pe=O.ui_locales,be=O.id_token_hint,Ze=O.login_hint,it=O.acr_values,Re=O.resource,lt=O.request,ge=O.request_uri,rt=O.response_mode,Y=O.extraQueryParams,xe=O.extraTokenParams,$e=O.request_type,Me=O.skipUserInfo,at=arguments[1];s.Log.debug("OidcClient.createSigninRequest");var It=this._settings.client_id;H=H||this._settings.response_type,L=L||this._settings.scope,q=q||this._settings.redirect_uri,Ae=Ae||this._settings.prompt,K=K||this._settings.display,ae=ae||this._settings.max_age,pe=pe||this._settings.ui_locales,it=it||this._settings.acr_values,Re=Re||this._settings.resource,rt=rt||this._settings.response_mode,Y=Y||this._settings.extraQueryParams,xe=xe||this._settings.extraTokenParams;var Pt=this._settings.authority;return c.SigninRequest.isCode(H)&&H!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(Le){s.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",Le);var ce=new c.SigninRequest({url:Le,client_id:It,redirect_uri:q,response_type:H,scope:L,data:W||$,authority:Pt,prompt:Ae,display:K,max_age:ae,ui_locales:pe,id_token_hint:be,login_hint:Ze,acr_values:it,resource:Re,request:lt,request_uri:ge,extraQueryParams:Y,extraTokenParams:xe,request_type:$e,response_mode:rt,client_secret:I._settings.client_secret,skipUserInfo:Me}),Ie=ce.state;return(at=at||I._stateStore).set(Ie.id,Ie.toStorageString()).then(function(){return ce})})},C.prototype.readSigninResponseState=function(I,O){var H=arguments.length>2&&arguments[2]!==void 0&&arguments[2];s.Log.debug("OidcClient.readSigninResponseState");var L=this._settings.response_mode==="query"||!this._settings.response_mode&&c.SigninRequest.isCode(this._settings.response_type),q=L?"?":"#",W=new p.SigninResponse(I,q);if(!W.state)return s.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));O=O||this._stateStore;var $=H?O.remove.bind(O):O.get.bind(O);return $(W.state).then(function(Ae){if(!Ae)throw s.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:_.SigninState.fromStorageString(Ae),response:W}})},C.prototype.processSigninResponse=function(I,O){var H=this;return s.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(I,O,!0).then(function(L){var q=L.state,W=L.response;return s.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),H._validator.validateSigninResponse(q,W)})},C.prototype.createSignoutRequest=function(){var I=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=O.id_token_hint,L=O.data,q=O.state,W=O.post_logout_redirect_uri,$=O.extraQueryParams,Ae=O.request_type,K=arguments[1];return s.Log.debug("OidcClient.createSignoutRequest"),W=W||this._settings.post_logout_redirect_uri,$=$||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(ae){if(!ae)throw s.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");s.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",ae);var pe=new g.SignoutRequest({url:ae,id_token_hint:H,post_logout_redirect_uri:W,data:L||q,extraQueryParams:$,request_type:Ae}),be=pe.state;return be&&(s.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(K=K||I._stateStore).set(be.id,be.toStorageString())),pe})},C.prototype.readSignoutResponseState=function(I,O){var H=arguments.length>2&&arguments[2]!==void 0&&arguments[2];s.Log.debug("OidcClient.readSignoutResponseState");var L=new w.SignoutResponse(I);if(!L.state)return s.Log.debug("OidcClient.readSignoutResponseState: No state in response"),L.error?(s.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",L.error),Promise.reject(new d.ErrorResponse(L))):Promise.resolve({state:void 0,response:L});var q=L.state;O=O||this._stateStore;var W=H?O.remove.bind(O):O.get.bind(O);return W(q).then(function($){if(!$)throw s.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:T.State.fromStorageString($),response:L}})},C.prototype.processSignoutResponse=function(I,O){var H=this;return s.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(I,O,!0).then(function(L){var q=L.state,W=L.response;return q?(s.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),H._validator.validateSignoutResponse(q,W)):(s.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),W)})},C.prototype.clearStaleState=function(I){return s.Log.debug("OidcClient.clearStaleState"),I=I||this._stateStore,T.State.clearStaleState(I,this.settings.staleStateAge)},l(C,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),C}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.TokenClient=void 0;var l=a(7),s=a(2),u=a(0);function d(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}i.TokenClient=function(){function c(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.JsonService,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.MetadataService;if(d(this,c),!p)throw u.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=p,this._jsonService=new g,this._metadataService=new w(this._settings)}return c.prototype.exchangeCode=function(){var g=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(w=Object.assign({},w)).grant_type=w.grant_type||"authorization_code",w.client_id=w.client_id||this._settings.client_id,w.client_secret=w.client_secret||this._settings.client_secret,w.redirect_uri=w.redirect_uri||this._settings.redirect_uri;var _=void 0,T=w._client_authentication||this._settings._client_authentication;return delete w._client_authentication,w.code?w.redirect_uri?w.code_verifier?w.client_id?w.client_secret||T!="client_secret_basic"?(T=="client_secret_basic"&&(_=w.client_id+":"+w.client_secret,delete w.client_id,delete w.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(x){return u.Log.debug("TokenClient.exchangeCode: Received token endpoint"),g._jsonService.postForm(x,w,_).then(function(C){return u.Log.debug("TokenClient.exchangeCode: response received"),C})})):(u.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(u.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(u.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(u.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(u.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},c.prototype.exchangeRefreshToken=function(){var g=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(w=Object.assign({},w)).grant_type=w.grant_type||"refresh_token",w.client_id=w.client_id||this._settings.client_id,w.client_secret=w.client_secret||this._settings.client_secret;var _=void 0,T=w._client_authentication||this._settings._client_authentication;return delete w._client_authentication,w.refresh_token?w.client_id?(T=="client_secret_basic"&&(_=w.client_id+":"+w.client_secret,delete w.client_id,delete w.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(x){return u.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),g._jsonService.postForm(x,w,_).then(function(C){return u.Log.debug("TokenClient.exchangeRefreshToken: response received"),C})})):(u.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(u.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},c}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.ErrorResponse=void 0;var l=a(0);function s(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function u(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?d:c}i.ErrorResponse=function(d){function c(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=p.error,w=p.error_description,_=p.error_uri,T=p.state,x=p.session_state;if(s(this,c),!g)throw l.Log.error("No error passed to ErrorResponse"),new Error("error");var C=u(this,d.call(this,w||g));return C.name="ErrorResponse",C.error=g,C.error_description=w,C.error_uri=_,C.state=T,C.session_state=x,C}return function(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);g.prototype=Object.create(w&&w.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(g,w):g.__proto__=w)}(c,d),c}(Error)},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.SigninState=void 0;var l=function(){function w(_,T){for(var x=0;x<T.length;x++){var C=T[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}}return function(_,T,x){return T&&w(_.prototype,T),x&&w(_,x),_}}(),s=a(0),u=a(9),d=a(4),c=function(_){return _&&_.__esModule?_:{default:_}}(a(14));function p(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function g(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?w:_}i.SigninState=function(w){function _(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=T.nonce,C=T.authority,E=T.client_id,I=T.redirect_uri,O=T.code_verifier,H=T.response_mode,L=T.client_secret,q=T.scope,W=T.extraTokenParams,$=T.skipUserInfo;p(this,_);var Ae=g(this,w.call(this,arguments[0]));if(x===!0?Ae._nonce=(0,c.default)():x&&(Ae._nonce=x),O===!0?Ae._code_verifier=(0,c.default)()+(0,c.default)()+(0,c.default)():O&&(Ae._code_verifier=O),Ae.code_verifier){var K=d.JoseUtil.hashString(Ae.code_verifier,"SHA256");Ae._code_challenge=d.JoseUtil.hexToBase64Url(K)}return Ae._redirect_uri=I,Ae._authority=C,Ae._client_id=E,Ae._response_mode=H,Ae._client_secret=L,Ae._scope=q,Ae._extraTokenParams=W,Ae._skipUserInfo=$,Ae}return function(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);x.prototype=Object.create(C&&C.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(x,C):x.__proto__=C)}(_,w),_.prototype.toStorageString=function(){return s.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},_.fromStorageString=function(x){return s.Log.debug("SigninState.fromStorageString"),new _(JSON.parse(x))},l(_,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),_}(u.State)},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){return(l!="undefined"&&l!==null&&l.getRandomValues!==void 0?s:u)().replace(/-/g,"")};var l=typeof window<"u"?window.crypto||window.msCrypto:null;function s(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(d){return(d^l.getRandomValues(new Uint8Array(1))[0]&15>>d/4).toString(16)})}function u(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(d){return(d^16*Math.random()>>d/4).toString(16)})}r.exports=i.default},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.User=void 0;var l=function(){function u(d,c){for(var p=0;p<c.length;p++){var g=c[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,c,p){return c&&u(d.prototype,c),p&&u(d,p),d}}(),s=a(0);i.User=function(){function u(d){var c=d.id_token,p=d.session_state,g=d.access_token,w=d.refresh_token,_=d.token_type,T=d.scope,x=d.profile,C=d.expires_at,E=d.state;(function(O,H){if(!(O instanceof H))throw new TypeError("Cannot call a class as a function")})(this,u),this.id_token=c,this.session_state=p,this.access_token=g,this.refresh_token=w,this.token_type=_,this.scope=T,this.profile=x,this.expires_at=C,this.state=E}return u.prototype.toStorageString=function(){return s.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},u.fromStorageString=function(c){return s.Log.debug("User.fromStorageString"),new u(JSON.parse(c))},l(u,[{key:"expires_in",get:function(){if(this.expires_at){var c=parseInt(Date.now()/1e3);return this.expires_at-c}},set:function(c){var p=parseInt(c);if(typeof p=="number"&&p>0){var g=parseInt(Date.now()/1e3);this.expires_at=g+p}}},{key:"expired",get:function(){var c=this.expires_in;if(c!==void 0)return c<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),u}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.AccessTokenEvents=void 0;var l=a(0),s=a(46);function u(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}i.AccessTokenEvents=function(){function d(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=c.accessTokenExpiringNotificationTime,g=p===void 0?60:p,w=c.accessTokenExpiringTimer,_=w===void 0?new s.Timer("Access token expiring"):w,T=c.accessTokenExpiredTimer,x=T===void 0?new s.Timer("Access token expired"):T;u(this,d),this._accessTokenExpiringNotificationTime=g,this._accessTokenExpiring=_,this._accessTokenExpired=x}return d.prototype.load=function(p){if(p.access_token&&p.expires_in!==void 0){var g=p.expires_in;if(l.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",g),g>0){var w=g-this._accessTokenExpiringNotificationTime;w<=0&&(w=1),l.Log.debug("AccessTokenEvents.load: registering expiring timer in:",w),this._accessTokenExpiring.init(w)}else l.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var _=g+1;l.Log.debug("AccessTokenEvents.load: registering expired timer in:",_),this._accessTokenExpired.init(_)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},d.prototype.unload=function(){l.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},d.prototype.addAccessTokenExpiring=function(p){this._accessTokenExpiring.addHandler(p)},d.prototype.removeAccessTokenExpiring=function(p){this._accessTokenExpiring.removeHandler(p)},d.prototype.addAccessTokenExpired=function(p){this._accessTokenExpired.addHandler(p)},d.prototype.removeAccessTokenExpired=function(p){this._accessTokenExpired.removeHandler(p)},d}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.Event=void 0;var l=a(0);i.Event=function(){function s(u){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,s),this._name=u,this._callbacks=[]}return s.prototype.addHandler=function(d){this._callbacks.push(d)},s.prototype.removeHandler=function(d){var c=this._callbacks.findIndex(function(p){return p===d});c>=0&&this._callbacks.splice(c,1)},s.prototype.raise=function(){l.Log.debug("Event: Raising event: "+this._name);for(var d=0;d<this._callbacks.length;d++){var c;(c=this._callbacks)[d].apply(c,arguments)}},s}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.SessionMonitor=void 0;var l=function(){function p(g,w){for(var _=0;_<w.length;_++){var T=w[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,w,_){return w&&p(g.prototype,w),_&&p(g,_),g}}(),s=a(0),u=a(19),d=a(1);function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}i.SessionMonitor=function(){function p(g){var w=this,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.CheckSessionIFrame,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.Global.timer;if(c(this,p),!g)throw s.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=g,this._CheckSessionIFrameCtor=_,this._timer=T,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(x){x?w._start(x):w._settings.monitorAnonymousSession&&w._userManager.querySessionStatus().then(function(C){var E={session_state:C.session_state};C.sub&&C.sid&&(E.profile={sub:C.sub,sid:C.sid}),w._start(E)}).catch(function(C){s.Log.error("SessionMonitor ctor: error from querySessionStatus:",C.message)})}).catch(function(x){s.Log.error("SessionMonitor ctor: error from getUser:",x.message)}))}return p.prototype._start=function(w){var _=this,T=w.session_state;T&&(w.profile?(this._sub=w.profile.sub,this._sid=w.profile.sid,s.Log.debug("SessionMonitor._start: session_state:",T,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,s.Log.debug("SessionMonitor._start: session_state:",T,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(T):this._metadataService.getCheckSessionIframe().then(function(x){if(x){s.Log.debug("SessionMonitor._start: Initializing check session iframe");var C=_._client_id,E=_._checkSessionInterval,I=_._stopCheckSessionOnError;_._checkSessionIFrame=new _._CheckSessionIFrameCtor(_._callback.bind(_),C,x,E,I),_._checkSessionIFrame.load().then(function(){_._checkSessionIFrame.start(T)})}else s.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(x){s.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",x.message)}))},p.prototype._stop=function(){var w=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(s.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var _=this._timer.setInterval(function(){w._timer.clearInterval(_),w._userManager.querySessionStatus().then(function(T){var x={session_state:T.session_state};T.sub&&T.sid&&(x.profile={sub:T.sub,sid:T.sid}),w._start(x)}).catch(function(T){s.Log.error("SessionMonitor: error from querySessionStatus:",T.message)})},1e3)},p.prototype._callback=function(){var w=this;this._userManager.querySessionStatus().then(function(_){var T=!0;_?_.sub===w._sub?(T=!1,w._checkSessionIFrame.start(_.session_state),_.sid===w._sid?s.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",_.session_state):(s.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",_.session_state),w._userManager.events._raiseUserSessionChanged())):s.Log.debug("SessionMonitor._callback: Different subject signed into OP:",_.sub):s.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),T&&(w._sub?(s.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),w._userManager.events._raiseUserSignedOut()):(s.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),w._userManager.events._raiseUserSignedIn()))}).catch(function(_){w._sub&&(s.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",_.message),w._userManager.events._raiseUserSignedOut())})},l(p,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),p}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.CheckSessionIFrame=void 0;var l=a(0);function s(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}i.CheckSessionIFrame=function(){function u(d,c,p,g){var w=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];s(this,u),this._callback=d,this._client_id=c,this._url=p,this._interval=g||2e3,this._stopOnError=w;var _=p.indexOf("/",p.indexOf("//")+2);this._frame_origin=p.substr(0,_),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=p}return u.prototype.load=function(){var c=this;return new Promise(function(p){c._frame.onload=function(){p()},window.document.body.appendChild(c._frame),c._boundMessageEvent=c._message.bind(c),window.addEventListener("message",c._boundMessageEvent,!1)})},u.prototype._message=function(c){c.origin===this._frame_origin&&c.source===this._frame.contentWindow&&(c.data==="error"?(l.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):c.data==="changed"?(l.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):l.Log.debug("CheckSessionIFrame: "+c.data+" message from check session op iframe"))},u.prototype.start=function(c){var p=this;if(this._session_state!==c){l.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=c;var g=function(){p._frame.contentWindow.postMessage(p._client_id+" "+p._session_state,p._frame_origin)};g(),this._timer=window.setInterval(g,this._interval)}},u.prototype.stop=function(){this._session_state=null,this._timer&&(l.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},u}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.TokenRevocationClient=void 0;var l=a(0),s=a(2),u=a(1);function d(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")}var c="access_token",p="refresh_token";i.TokenRevocationClient=function(){function g(w){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.Global.XMLHttpRequest,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.MetadataService;if(d(this,g),!w)throw l.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=w,this._XMLHttpRequestCtor=_,this._metadataService=new T(this._settings)}return g.prototype.revoke=function(_,T){var x=this,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!_)throw l.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(C!==c&&C!=p)throw l.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(E){if(E){l.Log.debug("TokenRevocationClient.revoke: Revoking "+C);var I=x._settings.client_id,O=x._settings.client_secret;return x._revoke(E,I,O,_,C)}if(T)throw l.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},g.prototype._revoke=function(_,T,x,C,E){var I=this;return new Promise(function(O,H){var L=new I._XMLHttpRequestCtor;L.open("POST",_),L.onload=function(){l.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",L.status),L.status===200?O():H(Error(L.statusText+" ("+L.status+")"))},L.onerror=function(){l.Log.debug("TokenRevocationClient.revoke: Network Error."),H("Network Error")};var q="client_id="+encodeURIComponent(T);x&&(q+="&client_secret="+encodeURIComponent(x)),q+="&token_type_hint="+encodeURIComponent(E),q+="&token="+encodeURIComponent(C),L.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),L.send(q)})},g}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.CordovaPopupWindow=void 0;var l=function(){function u(d,c){for(var p=0;p<c.length;p++){var g=c[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,c,p){return c&&u(d.prototype,c),p&&u(d,p),d}}(),s=a(0);i.CordovaPopupWindow=function(){function u(d){var c=this;(function(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")})(this,u),this._promise=new Promise(function(p,g){c._resolve=p,c._reject=g}),this.features=d.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=d.popupWindowTarget||"_blank",this.redirect_uri=d.startUrl,s.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return u.prototype._isInAppBrowserInstalled=function(c){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(p){return c.hasOwnProperty(p)})},u.prototype.navigate=function(c){if(c&&c.url){if(!window.cordova)return this._error("cordova is undefined");var p=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(p)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(c.url,this.target,this.features),this._popup?(s.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},u.prototype._loadStartCallback=function(c){c.url.indexOf(this.redirect_uri)===0&&this._success({url:c.url})},u.prototype._exitCallback=function(c){this._error(c)},u.prototype._success=function(c){this._cleanup(),s.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(c)},u.prototype._error=function(c){this._cleanup(),s.Log.error(c),this._reject(new Error(c))},u.prototype.close=function(){this._cleanup()},u.prototype._cleanup=function(){this._popup&&(s.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},l(u,[{key:"promise",get:function(){return this._promise}}]),u}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0});var l=a(0),s=a(10),u=a(5),d=a(6),c=a(37),p=a(38),g=a(16),w=a(2),_=a(48),T=a(49),x=a(19),C=a(20),E=a(18),I=a(1),O=a(15),H=a(50);i.default={Version:H.Version,Log:l.Log,OidcClient:s.OidcClient,OidcClientSettings:u.OidcClientSettings,WebStorageStateStore:d.WebStorageStateStore,InMemoryWebStorage:c.InMemoryWebStorage,UserManager:p.UserManager,AccessTokenEvents:g.AccessTokenEvents,MetadataService:w.MetadataService,CordovaPopupNavigator:_.CordovaPopupNavigator,CordovaIFrameNavigator:T.CordovaIFrameNavigator,CheckSessionIFrame:x.CheckSessionIFrame,TokenRevocationClient:C.TokenRevocationClient,SessionMonitor:E.SessionMonitor,Global:I.Global,User:O.User},r.exports=i.default},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.ClockService=function(){function l(){(function(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l)}return l.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},l}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.ResponseValidator=void 0;var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},s=a(0),u=a(2),d=a(25),c=a(11),p=a(12),g=a(4);function w(T,x){if(!(T instanceof x))throw new TypeError("Cannot call a class as a function")}var _=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];i.ResponseValidator=function(){function T(x){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.MetadataService,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.UserInfoService,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:g.JoseUtil,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:c.TokenClient;if(w(this,T),!x)throw s.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=x,this._metadataService=new C(this._settings),this._userInfoService=new E(this._settings),this._joseUtil=I,this._tokenClient=new O(this._settings)}return T.prototype.validateSigninResponse=function(C,E){var I=this;return s.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(C,E).then(function(O){return s.Log.debug("ResponseValidator.validateSigninResponse: state processed"),I._validateTokens(C,O).then(function(H){return s.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),I._processClaims(C,H).then(function(L){return s.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),L})})})},T.prototype.validateSignoutResponse=function(C,E){return C.id!==E.state?(s.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(s.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),E.state=C.data,E.error?(s.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",E.error),Promise.reject(new p.ErrorResponse(E))):Promise.resolve(E))},T.prototype._processSigninParams=function(C,E){if(C.id!==E.state)return s.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!C.client_id)return s.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!C.authority)return s.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==C.authority)return s.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=C.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==C.client_id)return s.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=C.client_id;return s.Log.debug("ResponseValidator._processSigninParams: state validated"),E.state=C.data,E.error?(s.Log.warn("ResponseValidator._processSigninParams: Response was error",E.error),Promise.reject(new p.ErrorResponse(E))):C.nonce&&!E.id_token?(s.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!C.nonce&&E.id_token?(s.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):C.code_verifier&&!E.code?(s.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!C.code_verifier&&E.code?(s.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(E.scope||(E.scope=C.scope),Promise.resolve(E))},T.prototype._processClaims=function(C,E){var I=this;if(E.isOpenIdConnect){if(s.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),E.profile=this._filterProtocolClaims(E.profile),C.skipUserInfo!==!0&&this._settings.loadUserInfo&&E.access_token)return s.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(E.access_token).then(function(O){return s.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),O.sub!==E.profile.sub?(s.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(E.profile=I._mergeClaims(E.profile,O),s.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",E.profile),E)});s.Log.debug("ResponseValidator._processClaims: not loading user info")}else s.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(E)},T.prototype._mergeClaims=function(C,E){var I=Object.assign({},C);for(var O in E){var H=E[O];Array.isArray(H)||(H=[H]);for(var L=0;L<H.length;L++){var q=H[L];I[O]?Array.isArray(I[O])?I[O].indexOf(q)<0&&I[O].push(q):I[O]!==q&&((q===void 0?"undefined":l(q))==="object"&&this._settings.mergeClaims?I[O]=this._mergeClaims(I[O],q):I[O]=[I[O],q]):I[O]=q}}return I},T.prototype._filterProtocolClaims=function(C){s.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",C);var E=Object.assign({},C);return this._settings._filterProtocolClaims?(_.forEach(function(I){delete E[I]}),s.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",E)):s.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),E},T.prototype._validateTokens=function(C,E){return E.code?(s.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(C,E)):E.id_token?E.access_token?(s.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(C,E)):(s.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(C,E)):(s.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(E))},T.prototype._processCode=function(C,E){var I=this,O={client_id:C.client_id,client_secret:C.client_secret,code:E.code,redirect_uri:C.redirect_uri,code_verifier:C.code_verifier};return C.extraTokenParams&&l(C.extraTokenParams)==="object"&&Object.assign(O,C.extraTokenParams),this._tokenClient.exchangeCode(O).then(function(H){for(var L in H)E[L]=H[L];return E.id_token?(s.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),I._validateIdTokenAttributes(C,E)):(s.Log.debug("ResponseValidator._processCode: token response successful, returning response"),E)})},T.prototype._validateIdTokenAttributes=function(C,E){var I=this;return this._metadataService.getIssuer().then(function(O){var H=C.client_id,L=I._settings.clockSkew;return s.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",L),I._settings.getEpochTime().then(function(q){return I._joseUtil.validateJwtAttributes(E.id_token,O,H,L,q).then(function(W){return C.nonce&&C.nonce!==W.nonce?(s.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):W.sub?(E.profile=W,E):(s.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},T.prototype._validateIdTokenAndAccessToken=function(C,E){var I=this;return this._validateIdToken(C,E).then(function(O){return I._validateAccessToken(O)})},T.prototype._getSigningKeyForJwt=function(C){var E=this;return this._metadataService.getSigningKeys().then(function(I){var O=C.header.kid;if(!I)return s.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));s.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var H=void 0;if(O)H=I.filter(function(L){return L.kid===O})[0];else{if((I=E._filterByAlg(I,C.header.alg)).length>1)return s.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));H=I[0]}return Promise.resolve(H)})},T.prototype._getSigningKeyForJwtWithSingleRetry=function(C){var E=this;return this._getSigningKeyForJwt(C).then(function(I){return I?Promise.resolve(I):(E._metadataService.resetSigningKeys(),E._getSigningKeyForJwt(C))})},T.prototype._validateIdToken=function(C,E){var I=this;if(!C.nonce)return s.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var O=this._joseUtil.parseJwt(E.id_token);return O&&O.header&&O.payload?C.nonce!==O.payload.nonce?(s.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(H){return s.Log.debug("ResponseValidator._validateIdToken: Received issuer"),I._getSigningKeyForJwtWithSingleRetry(O).then(function(L){if(!L)return s.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var q=C.client_id,W=I._settings.clockSkew;return s.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",W),I._joseUtil.validateJwt(E.id_token,L,H,q,W).then(function(){return s.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),O.payload.sub?(E.profile=O.payload,E):(s.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(s.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",O),Promise.reject(new Error("Failed to parse id_token")))},T.prototype._filterByAlg=function(C,E){var I=null;if(E.startsWith("RS"))I="RSA";else if(E.startsWith("PS"))I="PS";else{if(!E.startsWith("ES"))return s.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",E),[];I="EC"}return s.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",I),C=C.filter(function(O){return O.kty===I}),s.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",I,C.length),C},T.prototype._validateAccessToken=function(C){if(!C.profile)return s.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!C.profile.at_hash)return s.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!C.id_token)return s.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var E=this._joseUtil.parseJwt(C.id_token);if(!E||!E.header)return s.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",E),Promise.reject(new Error("Failed to parse id_token"));var I=E.header.alg;if(!I||I.length!==5)return s.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",I),Promise.reject(new Error("Unsupported alg: "+I));var O=I.substr(2,3);if(!O)return s.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",I,O),Promise.reject(new Error("Unsupported alg: "+I));if((O=parseInt(O))!==256&&O!==384&&O!==512)return s.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",I,O),Promise.reject(new Error("Unsupported alg: "+I));var H="sha"+O,L=this._joseUtil.hashString(C.access_token,H);if(!L)return s.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",H),Promise.reject(new Error("Failed to validate at_hash"));var q=L.substr(0,L.length/2),W=this._joseUtil.hexToBase64Url(q);return W!==C.profile.at_hash?(s.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",W,C.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(s.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(C))},T}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.UserInfoService=void 0;var l=a(7),s=a(2),u=a(0),d=a(4);function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}i.UserInfoService=function(){function p(g){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.JsonService,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.MetadataService,T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d.JoseUtil;if(c(this,p),!g)throw u.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=g,this._jsonService=new w(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new _(this._settings),this._joseUtil=T}return p.prototype.getClaims=function(w){var _=this;return w?this._metadataService.getUserInfoEndpoint().then(function(T){return u.Log.debug("UserInfoService.getClaims: received userinfo url",T),_._jsonService.getJson(T,w).then(function(x){return u.Log.debug("UserInfoService.getClaims: claims received",x),x})}):(u.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},p.prototype._getClaimsFromJwt=function(w){var _=this;try{var T=this._joseUtil.parseJwt(w.responseText);if(!T||!T.header||!T.payload)return u.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",T),Promise.reject(new Error("Failed to parse id_token"));var x=T.header.kid,C=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":C=this._metadataService.getIssuer();break;case"ANY":C=Promise.resolve(T.payload.iss);break;default:C=Promise.resolve(this._settings.userInfoJwtIssuer)}return C.then(function(E){return u.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+E),_._metadataService.getSigningKeys().then(function(I){if(!I)return u.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));u.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var O=void 0;if(x)O=I.filter(function(q){return q.kid===x})[0];else{if((I=_._filterByAlg(I,T.header.alg)).length>1)return u.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));O=I[0]}if(!O)return u.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var H=_._settings.client_id,L=_._settings.clockSkew;return u.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",L),_._joseUtil.validateJwt(w.responseText,O,E,H,L,void 0,!0).then(function(){return u.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),T.payload})})})}catch(E){return u.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",E.message),void reject(E)}},p.prototype._filterByAlg=function(w,_){var T=null;if(_.startsWith("RS"))T="RSA";else if(_.startsWith("PS"))T="PS";else{if(!_.startsWith("ES"))return u.Log.debug("UserInfoService._filterByAlg: alg not supported: ",_),[];T="EC"}return u.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",T),w=w.filter(function(x){return x.kty===T}),u.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",T,w.length),w},p}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.AllowedSigningAlgs=i.b64tohex=i.hextob64u=i.crypto=i.X509=i.KeyUtil=i.jws=void 0;var l=a(27);i.jws=l.jws,i.KeyUtil=l.KEYUTIL,i.X509=l.X509,i.crypto=l.crypto,i.hextob64u=l.hextob64u,i.b64tohex=l.b64tohex,i.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(r,i,a){(function(l){Object.defineProperty(i,"__esModule",{value:!0});var s,u,d,c,p,g,w,_,T,x,C,E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},I={},O={},H=H||(s=Math,d=(u={}).lib={},c=d.Base=function(){function b(){}return{extend:function(A){b.prototype=this;var P=new b;return A&&P.mixIn(A),P.hasOwnProperty("init")||(P.init=function(){P.$super.init.apply(this,arguments)}),P.init.prototype=P,P.$super=this,P},create:function(){var A=this.extend();return A.init.apply(A,arguments),A},init:function(){},mixIn:function(A){for(var P in A)A.hasOwnProperty(P)&&(this[P]=A[P]);A.hasOwnProperty("toString")&&(this.toString=A.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),p=d.WordArray=c.extend({init:function(v,A){v=this.words=v||[],this.sigBytes=A??4*v.length},toString:function(v){return(v||w).stringify(this)},concat:function(v){var A=this.words,P=v.words,B=this.sigBytes,X=v.sigBytes;if(this.clamp(),B%4)for(var ue=0;ue<X;ue++){var Ee=P[ue>>>2]>>>24-ue%4*8&255;A[B+ue>>>2]|=Ee<<24-(B+ue)%4*8}else for(ue=0;ue<X;ue+=4)A[B+ue>>>2]=P[ue>>>2];return this.sigBytes+=X,this},clamp:function(){var v=this.words,A=this.sigBytes;v[A>>>2]&=4294967295<<32-A%4*8,v.length=s.ceil(A/4)},clone:function(){var v=c.clone.call(this);return v.words=this.words.slice(0),v},random:function(v){for(var A=[],P=0;P<v;P+=4)A.push(4294967296*s.random()|0);return new p.init(A,v)}}),g=u.enc={},w=g.Hex={stringify:function(v){for(var A=v.words,P=v.sigBytes,B=[],X=0;X<P;X++){var ue=A[X>>>2]>>>24-X%4*8&255;B.push((ue>>>4).toString(16)),B.push((15&ue).toString(16))}return B.join("")},parse:function(v){for(var A=v.length,P=[],B=0;B<A;B+=2)P[B>>>3]|=parseInt(v.substr(B,2),16)<<24-B%8*4;return new p.init(P,A/2)}},_=g.Latin1={stringify:function(v){for(var A=v.words,P=v.sigBytes,B=[],X=0;X<P;X++){var ue=A[X>>>2]>>>24-X%4*8&255;B.push(String.fromCharCode(ue))}return B.join("")},parse:function(v){for(var A=v.length,P=[],B=0;B<A;B++)P[B>>>2]|=(255&v.charCodeAt(B))<<24-B%4*8;return new p.init(P,A)}},T=g.Utf8={stringify:function(v){try{return decodeURIComponent(escape(_.stringify(v)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(v){return _.parse(unescape(encodeURIComponent(v)))}},x=d.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new p.init,this._nDataBytes=0},_append:function(v){typeof v=="string"&&(v=T.parse(v)),this._data.concat(v),this._nDataBytes+=v.sigBytes},_process:function(v){var A=this._data,P=A.words,B=A.sigBytes,X=this.blockSize,ue=B/(4*X),Ee=(ue=v?s.ceil(ue):s.max((0|ue)-this._minBufferSize,0))*X,ye=s.min(4*Ee,B);if(Ee){for(var _e=0;_e<Ee;_e+=X)this._doProcessBlock(P,_e);var Te=P.splice(0,Ee);A.sigBytes-=ye}return new p.init(Te,ye)},clone:function(){var v=c.clone.call(this);return v._data=this._data.clone(),v},_minBufferSize:0}),d.Hasher=x.extend({cfg:c.extend(),init:function(v){this.cfg=this.cfg.extend(v),this.reset()},reset:function(){x.reset.call(this),this._doReset()},update:function(v){return this._append(v),this._process(),this},finalize:function(v){return v&&this._append(v),this._doFinalize()},blockSize:16,_createHelper:function(v){return function(A,P){return new v.init(P).finalize(A)}},_createHmacHelper:function(v){return function(A,P){return new C.HMAC.init(v,P).finalize(A)}}}),C=u.algo={},u);(function(b){var v,A=(v=H).lib,P=A.Base,B=A.WordArray;(v=v.x64={}).Word=P.extend({init:function(ue,Ee){this.high=ue,this.low=Ee}}),v.WordArray=P.extend({init:function(ue,Ee){ue=this.words=ue||[],this.sigBytes=Ee??8*ue.length},toX32:function(){for(var ue=this.words,Ee=ue.length,ye=[],_e=0;_e<Ee;_e++){var Te=ue[_e];ye.push(Te.high),ye.push(Te.low)}return B.create(ye,this.sigBytes)},clone:function(){for(var ue=P.clone.call(this),Ee=ue.words=this.words.slice(0),ye=Ee.length,_e=0;_e<ye;_e++)Ee[_e]=Ee[_e].clone();return ue}})})(),function(){var b=H,v=b.lib.WordArray;b.enc.Base64={stringify:function(P){var B=P.words,X=P.sigBytes,ue=this._map;P.clamp(),P=[];for(var Ee=0;Ee<X;Ee+=3)for(var ye=(B[Ee>>>2]>>>24-Ee%4*8&255)<<16|(B[Ee+1>>>2]>>>24-(Ee+1)%4*8&255)<<8|B[Ee+2>>>2]>>>24-(Ee+2)%4*8&255,_e=0;4>_e&&Ee+.75*_e<X;_e++)P.push(ue.charAt(ye>>>6*(3-_e)&63));if(B=ue.charAt(64))for(;P.length%4;)P.push(B);return P.join("")},parse:function(P){var B=P.length,X=this._map;(ue=X.charAt(64))&&(ue=P.indexOf(ue))!=-1&&(B=ue);for(var ue=[],Ee=0,ye=0;ye<B;ye++)if(ye%4){var _e=X.indexOf(P.charAt(ye-1))<<ye%4*2,Te=X.indexOf(P.charAt(ye))>>>6-ye%4*2;ue[Ee>>>2]|=(_e|Te)<<24-Ee%4*8,Ee++}return v.create(ue,Ee)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(b){for(var v=H,A=(B=v.lib).WordArray,P=B.Hasher,B=v.algo,X=[],ue=[],Ee=function(yt){return 4294967296*(yt-(0|yt))|0},ye=2,_e=0;64>_e;){var Te;e:{Te=ye;for(var Oe=b.sqrt(Te),ke=2;ke<=Oe;ke++)if(!(Te%ke)){Te=!1;break e}Te=!0}Te&&(8>_e&&(X[_e]=Ee(b.pow(ye,.5))),ue[_e]=Ee(b.pow(ye,1/3)),_e++),ye++}var We=[];B=B.SHA256=P.extend({_doReset:function(){this._hash=new A.init(X.slice(0))},_doProcessBlock:function(yt,Et){for(var le=this._hash.words,Ce=le[0],De=le[1],Ue=le[2],ht=le[3],At=le[4],dn=le[5],Bt=le[6],Xn=le[7],un=0;64>un;un++){if(16>un)We[un]=0|yt[Et+un];else{var gn=We[un-15],sr=We[un-2];We[un]=((gn<<25|gn>>>7)^(gn<<14|gn>>>18)^gn>>>3)+We[un-7]+((sr<<15|sr>>>17)^(sr<<13|sr>>>19)^sr>>>10)+We[un-16]}gn=Xn+((At<<26|At>>>6)^(At<<21|At>>>11)^(At<<7|At>>>25))+(At&dn^~At&Bt)+ue[un]+We[un],sr=((Ce<<30|Ce>>>2)^(Ce<<19|Ce>>>13)^(Ce<<10|Ce>>>22))+(Ce&De^Ce&Ue^De&Ue),Xn=Bt,Bt=dn,dn=At,At=ht+gn|0,ht=Ue,Ue=De,De=Ce,Ce=gn+sr|0}le[0]=le[0]+Ce|0,le[1]=le[1]+De|0,le[2]=le[2]+Ue|0,le[3]=le[3]+ht|0,le[4]=le[4]+At|0,le[5]=le[5]+dn|0,le[6]=le[6]+Bt|0,le[7]=le[7]+Xn|0},_doFinalize:function(){var yt=this._data,Et=yt.words,le=8*this._nDataBytes,Ce=8*yt.sigBytes;return Et[Ce>>>5]|=128<<24-Ce%32,Et[14+(Ce+64>>>9<<4)]=b.floor(le/4294967296),Et[15+(Ce+64>>>9<<4)]=le,yt.sigBytes=4*Et.length,this._process(),this._hash},clone:function(){var yt=P.clone.call(this);return yt._hash=this._hash.clone(),yt}}),v.SHA256=P._createHelper(B),v.HmacSHA256=P._createHmacHelper(B)}(Math),function(){function b(){return P.create.apply(P,arguments)}for(var v=H,A=v.lib.Hasher,P=(X=v.x64).Word,B=X.WordArray,X=v.algo,ue=[b(1116352408,3609767458),b(1899447441,602891725),b(3049323471,3964484399),b(3921009573,2173295548),b(961987163,4081628472),b(1508970993,3053834265),b(2453635748,2937671579),b(2870763221,3664609560),b(3624381080,2734883394),b(310598401,1164996542),b(607225278,1323610764),b(1426881987,3590304994),b(1925078388,4068182383),b(2162078206,991336113),b(2614888103,633803317),b(3248222580,3479774868),b(3835390401,2666613458),b(4022224774,944711139),b(264347078,2341262773),b(604807628,2007800933),b(770255983,1495990901),b(1249150122,1856431235),b(1555081692,3175218132),b(1996064986,2198950837),b(2554220882,3999719339),b(2821834349,766784016),b(2952996808,2566594879),b(3210313671,3203337956),b(3336571891,1034457026),b(3584528711,2466948901),b(113926993,3758326383),b(338241895,168717936),b(666307205,1188179964),b(773529912,1546045734),b(1294757372,1522805485),b(1396182291,2643833823),b(1695183700,2343527390),b(1986661051,1014477480),b(2177026350,1206759142),b(2456956037,344077627),b(2730485921,1290863460),b(2820302411,3158454273),b(3259730800,3505952657),b(3345764771,106217008),b(3516065817,3606008344),b(3600352804,1432725776),b(4094571909,1467031594),b(275423344,851169720),b(430227734,3100823752),b(506948616,1363258195),b(659060556,3750685593),b(883997877,3785050280),b(958139571,3318307427),b(1322822218,3812723403),b(1537002063,2003034995),b(1747873779,3602036899),b(1955562222,1575990012),b(2024104815,1125592928),b(2227730452,2716904306),b(2361852424,442776044),b(2428436474,593698344),b(2756734187,3733110249),b(3204031479,2999351573),b(3329325298,3815920427),b(3391569614,3928383900),b(3515267271,566280711),b(3940187606,3454069534),b(4118630271,4000239992),b(116418474,1914138554),b(174292421,2731055270),b(289380356,3203993006),b(460393269,320620315),b(685471733,587496836),b(852142971,1086792851),b(1017036298,365543100),b(1126000580,2618297676),b(1288033470,3409855158),b(1501505948,4234509866),b(1607167915,987167468),b(1816402316,1246189591)],Ee=[],ye=0;80>ye;ye++)Ee[ye]=b();X=X.SHA512=A.extend({_doReset:function(){this._hash=new B.init([new P.init(1779033703,4089235720),new P.init(3144134277,2227873595),new P.init(1013904242,4271175723),new P.init(2773480762,1595750129),new P.init(1359893119,2917565137),new P.init(2600822924,725511199),new P.init(528734635,4215389547),new P.init(1541459225,327033209)])},_doProcessBlock:function(Te,Oe){for(var ke=(De=this._hash.words)[0],We=De[1],ut=De[2],yt=De[3],Et=De[4],le=De[5],Ce=De[6],De=De[7],Ue=ke.high,ht=ke.low,At=We.high,dn=We.low,Bt=ut.high,Xn=ut.low,un=yt.high,gn=yt.low,sr=Et.high,hn=Et.low,lr=le.high,ar=le.low,Lr=Ce.high,rr=Ce.low,or=De.high,Cr=De.low,Cn=Ue,Zr=ht,Ui=At,pa=dn,Ur=Bt,na=Xn,uo=un,Oo=gn,Nr=sr,ri=hn,Va=lr,ii=ar,bs=Lr,Ra=rr,M=or,ne=Cr,oe=0;80>oe;oe++){var he=Ee[oe];if(16>oe)var je=he.high=0|Te[Oe+2*oe],we=he.low=0|Te[Oe+2*oe+1];else{je=((we=(je=Ee[oe-15]).high)>>>1|(Ke=je.low)<<31)^(we>>>8|Ke<<24)^we>>>7;var Ke=(Ke>>>1|we<<31)^(Ke>>>8|we<<24)^(Ke>>>7|we<<25),Rt=((we=(Rt=Ee[oe-2]).high)>>>19|(_t=Rt.low)<<13)^(we<<3|_t>>>29)^we>>>6,_t=(_t>>>19|we<<13)^(_t<<3|we>>>29)^(_t>>>6|we<<26),Nt=(we=Ee[oe-7]).high,qt=(Vt=Ee[oe-16]).high,Vt=Vt.low;je=(je=(je=je+Nt+((we=Ke+we.low)>>>0<Ke>>>0?1:0))+Rt+((we=we+_t)>>>0<_t>>>0?1:0))+qt+((we=we+Vt)>>>0<Vt>>>0?1:0),he.high=je,he.low=we}Nt=Nr&Va^~Nr&bs,Vt=ri&ii^~ri&Ra,he=Cn&Ui^Cn&Ur^Ui&Ur;var Wt=Zr&pa^Zr&na^pa&na,Lt=(Ke=(Cn>>>28|Zr<<4)^(Cn<<30|Zr>>>2)^(Cn<<25|Zr>>>7),Rt=(Zr>>>28|Cn<<4)^(Zr<<30|Cn>>>2)^(Zr<<25|Cn>>>7),(_t=ue[oe]).high),Jt=_t.low;qt=M+((Nr>>>14|ri<<18)^(Nr>>>18|ri<<14)^(Nr<<23|ri>>>9))+((_t=ne+((ri>>>14|Nr<<18)^(ri>>>18|Nr<<14)^(ri<<23|Nr>>>9)))>>>0<ne>>>0?1:0),M=bs,ne=Ra,bs=Va,Ra=ii,Va=Nr,ii=ri,Nr=uo+(qt=(qt=(qt=qt+Nt+((_t=_t+Vt)>>>0<Vt>>>0?1:0))+Lt+((_t=_t+Jt)>>>0<Jt>>>0?1:0))+je+((_t=_t+we)>>>0<we>>>0?1:0))+((ri=Oo+_t|0)>>>0<Oo>>>0?1:0)|0,uo=Ur,Oo=na,Ur=Ui,na=pa,Ui=Cn,pa=Zr,Cn=qt+(he=Ke+he+((we=Rt+Wt)>>>0<Rt>>>0?1:0))+((Zr=_t+we|0)>>>0<_t>>>0?1:0)|0}ht=ke.low=ht+Zr,ke.high=Ue+Cn+(ht>>>0<Zr>>>0?1:0),dn=We.low=dn+pa,We.high=At+Ui+(dn>>>0<pa>>>0?1:0),Xn=ut.low=Xn+na,ut.high=Bt+Ur+(Xn>>>0<na>>>0?1:0),gn=yt.low=gn+Oo,yt.high=un+uo+(gn>>>0<Oo>>>0?1:0),hn=Et.low=hn+ri,Et.high=sr+Nr+(hn>>>0<ri>>>0?1:0),ar=le.low=ar+ii,le.high=lr+Va+(ar>>>0<ii>>>0?1:0),rr=Ce.low=rr+Ra,Ce.high=Lr+bs+(rr>>>0<Ra>>>0?1:0),Cr=De.low=Cr+ne,De.high=or+M+(Cr>>>0<ne>>>0?1:0)},_doFinalize:function(){var Te=this._data,Oe=Te.words,ke=8*this._nDataBytes,We=8*Te.sigBytes;return Oe[We>>>5]|=128<<24-We%32,Oe[30+(We+128>>>10<<5)]=Math.floor(ke/4294967296),Oe[31+(We+128>>>10<<5)]=ke,Te.sigBytes=4*Oe.length,this._process(),this._hash.toX32()},clone:function(){var Te=A.clone.call(this);return Te._hash=this._hash.clone(),Te},blockSize:32}),v.SHA512=A._createHelper(X),v.HmacSHA512=A._createHmacHelper(X)}(),function(){var b=H,v=(B=b.x64).Word,A=B.WordArray,P=(B=b.algo).SHA512,B=B.SHA384=P.extend({_doReset:function(){this._hash=new A.init([new v.init(3418070365,3238371032),new v.init(1654270250,914150663),new v.init(2438529370,812702999),new v.init(355462360,4144912697),new v.init(1731405415,4290775857),new v.init(2394180231,1750603025),new v.init(3675008525,1694076839),new v.init(1203062813,3204075428)])},_doFinalize:function(){var ue=P._doFinalize.call(this);return ue.sigBytes-=16,ue}});b.SHA384=P._createHelper(B),b.HmacSHA384=P._createHmacHelper(B)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var L,q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function W(b){var v,A,P="";for(v=0;v+3<=b.length;v+=3)A=parseInt(b.substring(v,v+3),16),P+=q.charAt(A>>6)+q.charAt(63&A);for(v+1==b.length?(A=parseInt(b.substring(v,v+1),16),P+=q.charAt(A<<2)):v+2==b.length&&(A=parseInt(b.substring(v,v+2),16),P+=q.charAt(A>>2)+q.charAt((3&A)<<4)),"=";(3&P.length)>0;)P+="=";return P}function $(b){var v,A,P,B="",X=0;for(v=0;v<b.length&&b.charAt(v)!="=";++v)(P=q.indexOf(b.charAt(v)))<0||(X==0?(B+=it(P>>2),A=3&P,X=1):X==1?(B+=it(A<<2|P>>4),A=15&P,X=2):X==2?(B+=it(A),B+=it(P>>2),A=3&P,X=3):(B+=it(A<<2|P>>4),B+=it(15&P),X=0));return X==1&&(B+=it(A<<2)),B}function Ae(b){var v,A=$(b),P=new Array;for(v=0;2*v<A.length;++v)P[v]=parseInt(A.substring(2*v,2*v+2),16);return P}function K(b,v,A){b!=null&&(typeof b=="number"?this.fromNumber(b,v,A):v==null&&typeof b!="string"?this.fromString(b,256):this.fromString(b,v))}function ae(){return new K(null)}I.appName=="Microsoft Internet Explorer"?(K.prototype.am=function(v,A,P,B,X,ue){for(var Ee=32767&A,ye=A>>15;--ue>=0;){var _e=32767&this[v],Te=this[v++]>>15,Oe=ye*_e+Te*Ee;X=((_e=Ee*_e+((32767&Oe)<<15)+P[B]+(1073741823&X))>>>30)+(Oe>>>15)+ye*Te+(X>>>30),P[B++]=1073741823&_e}return X},L=30):I.appName!="Netscape"?(K.prototype.am=function(v,A,P,B,X,ue){for(;--ue>=0;){var Ee=A*this[v++]+P[B]+X;X=Math.floor(Ee/67108864),P[B++]=67108863&Ee}return X},L=26):(K.prototype.am=function(v,A,P,B,X,ue){for(var Ee=16383&A,ye=A>>14;--ue>=0;){var _e=16383&this[v],Te=this[v++]>>14,Oe=ye*_e+Te*Ee;X=((_e=Ee*_e+((16383&Oe)<<14)+P[B]+X)>>28)+(Oe>>14)+ye*Te,P[B++]=268435455&_e}return X},L=28),K.prototype.DB=L,K.prototype.DM=(1<<L)-1,K.prototype.DV=1<<L,K.prototype.FV=Math.pow(2,52),K.prototype.F1=52-L,K.prototype.F2=2*L-52;var pe,be,Ze=new Array;for(pe=48,be=0;be<=9;++be)Ze[pe++]=be;for(pe=97,be=10;be<36;++be)Ze[pe++]=be;for(pe=65,be=10;be<36;++be)Ze[pe++]=be;function it(b){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(b)}function Re(b,v){var A=Ze[b.charCodeAt(v)];return A??-1}function lt(b){var v=ae();return v.fromInt(b),v}function ge(b){var v,A=1;return(v=b>>>16)!=0&&(b=v,A+=16),(v=b>>8)!=0&&(b=v,A+=8),(v=b>>4)!=0&&(b=v,A+=4),(v=b>>2)!=0&&(b=v,A+=2),(v=b>>1)!=0&&(b=v,A+=1),A}function rt(b){this.m=b}function Y(b){this.m=b,this.mp=b.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<b.DB-15)-1,this.mt2=2*b.t}function xe(b,v){return b&v}function $e(b,v){return b|v}function Me(b,v){return b^v}function at(b,v){return b&~v}function It(b){if(b==0)return-1;var v=0;return(65535&b)==0&&(b>>=16,v+=16),(255&b)==0&&(b>>=8,v+=8),(15&b)==0&&(b>>=4,v+=4),(3&b)==0&&(b>>=2,v+=2),(1&b)==0&&++v,v}function Pt(b){for(var v=0;b!=0;)b&=b-1,++v;return v}function Le(){}function ce(b){return b}function Ie(b){this.r2=ae(),this.q3=ae(),K.ONE.dlShiftTo(2*b.t,this.r2),this.mu=this.r2.divide(b),this.m=b}rt.prototype.convert=function(v){return v.s<0||v.compareTo(this.m)>=0?v.mod(this.m):v},rt.prototype.revert=function(v){return v},rt.prototype.reduce=function(v){v.divRemTo(this.m,null,v)},rt.prototype.mulTo=function(v,A,P){v.multiplyTo(A,P),this.reduce(P)},rt.prototype.sqrTo=function(v,A){v.squareTo(A),this.reduce(A)},Y.prototype.convert=function(v){var A=ae();return v.abs().dlShiftTo(this.m.t,A),A.divRemTo(this.m,null,A),v.s<0&&A.compareTo(K.ZERO)>0&&this.m.subTo(A,A),A},Y.prototype.revert=function(v){var A=ae();return v.copyTo(A),this.reduce(A),A},Y.prototype.reduce=function(v){for(;v.t<=this.mt2;)v[v.t++]=0;for(var A=0;A<this.m.t;++A){var P=32767&v[A],B=P*this.mpl+((P*this.mph+(v[A]>>15)*this.mpl&this.um)<<15)&v.DM;for(v[P=A+this.m.t]+=this.m.am(0,B,v,A,0,this.m.t);v[P]>=v.DV;)v[P]-=v.DV,v[++P]++}v.clamp(),v.drShiftTo(this.m.t,v),v.compareTo(this.m)>=0&&v.subTo(this.m,v)},Y.prototype.mulTo=function(v,A,P){v.multiplyTo(A,P),this.reduce(P)},Y.prototype.sqrTo=function(v,A){v.squareTo(A),this.reduce(A)},K.prototype.copyTo=function(v){for(var A=this.t-1;A>=0;--A)v[A]=this[A];v.t=this.t,v.s=this.s},K.prototype.fromInt=function(v){this.t=1,this.s=v<0?-1:0,v>0?this[0]=v:v<-1?this[0]=v+this.DV:this.t=0},K.prototype.fromString=function(v,A){var P;if(A==16)P=4;else if(A==8)P=3;else if(A==256)P=8;else if(A==2)P=1;else if(A==32)P=5;else{if(A!=4)return void this.fromRadix(v,A);P=2}this.t=0,this.s=0;for(var B=v.length,X=!1,ue=0;--B>=0;){var Ee=P==8?255&v[B]:Re(v,B);Ee<0?v.charAt(B)=="-"&&(X=!0):(X=!1,ue==0?this[this.t++]=Ee:ue+P>this.DB?(this[this.t-1]|=(Ee&(1<<this.DB-ue)-1)<<ue,this[this.t++]=Ee>>this.DB-ue):this[this.t-1]|=Ee<<ue,(ue+=P)>=this.DB&&(ue-=this.DB))}P==8&&(128&v[0])!=0&&(this.s=-1,ue>0&&(this[this.t-1]|=(1<<this.DB-ue)-1<<ue)),this.clamp(),X&&K.ZERO.subTo(this,this)},K.prototype.clamp=function(){for(var v=this.s&this.DM;this.t>0&&this[this.t-1]==v;)--this.t},K.prototype.dlShiftTo=function(v,A){var P;for(P=this.t-1;P>=0;--P)A[P+v]=this[P];for(P=v-1;P>=0;--P)A[P]=0;A.t=this.t+v,A.s=this.s},K.prototype.drShiftTo=function(v,A){for(var P=v;P<this.t;++P)A[P-v]=this[P];A.t=Math.max(this.t-v,0),A.s=this.s},K.prototype.lShiftTo=function(v,A){var P,B=v%this.DB,X=this.DB-B,ue=(1<<X)-1,Ee=Math.floor(v/this.DB),ye=this.s<<B&this.DM;for(P=this.t-1;P>=0;--P)A[P+Ee+1]=this[P]>>X|ye,ye=(this[P]&ue)<<B;for(P=Ee-1;P>=0;--P)A[P]=0;A[Ee]=ye,A.t=this.t+Ee+1,A.s=this.s,A.clamp()},K.prototype.rShiftTo=function(v,A){A.s=this.s;var P=Math.floor(v/this.DB);if(P>=this.t)A.t=0;else{var B=v%this.DB,X=this.DB-B,ue=(1<<B)-1;A[0]=this[P]>>B;for(var Ee=P+1;Ee<this.t;++Ee)A[Ee-P-1]|=(this[Ee]&ue)<<X,A[Ee-P]=this[Ee]>>B;B>0&&(A[this.t-P-1]|=(this.s&ue)<<X),A.t=this.t-P,A.clamp()}},K.prototype.subTo=function(v,A){for(var P=0,B=0,X=Math.min(v.t,this.t);P<X;)B+=this[P]-v[P],A[P++]=B&this.DM,B>>=this.DB;if(v.t<this.t){for(B-=v.s;P<this.t;)B+=this[P],A[P++]=B&this.DM,B>>=this.DB;B+=this.s}else{for(B+=this.s;P<v.t;)B-=v[P],A[P++]=B&this.DM,B>>=this.DB;B-=v.s}A.s=B<0?-1:0,B<-1?A[P++]=this.DV+B:B>0&&(A[P++]=B),A.t=P,A.clamp()},K.prototype.multiplyTo=function(v,A){var P=this.abs(),B=v.abs(),X=P.t;for(A.t=X+B.t;--X>=0;)A[X]=0;for(X=0;X<B.t;++X)A[X+P.t]=P.am(0,B[X],A,X,0,P.t);A.s=0,A.clamp(),this.s!=v.s&&K.ZERO.subTo(A,A)},K.prototype.squareTo=function(v){for(var A=this.abs(),P=v.t=2*A.t;--P>=0;)v[P]=0;for(P=0;P<A.t-1;++P){var B=A.am(P,A[P],v,2*P,0,1);(v[P+A.t]+=A.am(P+1,2*A[P],v,2*P+1,B,A.t-P-1))>=A.DV&&(v[P+A.t]-=A.DV,v[P+A.t+1]=1)}v.t>0&&(v[v.t-1]+=A.am(P,A[P],v,2*P,0,1)),v.s=0,v.clamp()},K.prototype.divRemTo=function(v,A,P){var B=v.abs();if(!(B.t<=0)){var X=this.abs();if(X.t<B.t)return A?.fromInt(0),void(P!=null&&this.copyTo(P));P==null&&(P=ae());var ue=ae(),Ee=this.s,ye=v.s,_e=this.DB-ge(B[B.t-1]);_e>0?(B.lShiftTo(_e,ue),X.lShiftTo(_e,P)):(B.copyTo(ue),X.copyTo(P));var Te=ue.t,Oe=ue[Te-1];if(Oe!=0){var ke=Oe*(1<<this.F1)+(Te>1?ue[Te-2]>>this.F2:0),We=this.FV/ke,ut=(1<<this.F1)/ke,yt=1<<this.F2,Et=P.t,le=Et-Te,Ce=A??ae();for(ue.dlShiftTo(le,Ce),P.compareTo(Ce)>=0&&(P[P.t++]=1,P.subTo(Ce,P)),K.ONE.dlShiftTo(Te,Ce),Ce.subTo(ue,ue);ue.t<Te;)ue[ue.t++]=0;for(;--le>=0;){var De=P[--Et]==Oe?this.DM:Math.floor(P[Et]*We+(P[Et-1]+yt)*ut);if((P[Et]+=ue.am(0,De,P,le,0,Te))<De)for(ue.dlShiftTo(le,Ce),P.subTo(Ce,P);P[Et]<--De;)P.subTo(Ce,P)}A!=null&&(P.drShiftTo(Te,A),Ee!=ye&&K.ZERO.subTo(A,A)),P.t=Te,P.clamp(),_e>0&&P.rShiftTo(_e,P),Ee<0&&K.ZERO.subTo(P,P)}}},K.prototype.invDigit=function(){if(this.t<1)return 0;var v=this[0];if((1&v)==0)return 0;var A=3&v;return(A=(A=(A=(A=A*(2-(15&v)*A)&15)*(2-(255&v)*A)&255)*(2-((65535&v)*A&65535))&65535)*(2-v*A%this.DV)%this.DV)>0?this.DV-A:-A},K.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},K.prototype.exp=function(v,A){if(v>4294967295||v<1)return K.ONE;var P=ae(),B=ae(),X=A.convert(this),ue=ge(v)-1;for(X.copyTo(P);--ue>=0;)if(A.sqrTo(P,B),(v&1<<ue)>0)A.mulTo(B,X,P);else{var Ee=P;P=B,B=Ee}return A.revert(P)},K.prototype.toString=function(v){if(this.s<0)return"-"+this.negate().toString(v);var A;if(v==16)A=4;else if(v==8)A=3;else if(v==2)A=1;else if(v==32)A=5;else{if(v!=4)return this.toRadix(v);A=2}var P,B=(1<<A)-1,X=!1,ue="",Ee=this.t,ye=this.DB-Ee*this.DB%A;if(Ee-- >0)for(ye<this.DB&&(P=this[Ee]>>ye)>0&&(X=!0,ue=it(P));Ee>=0;)ye<A?(P=(this[Ee]&(1<<ye)-1)<<A-ye,P|=this[--Ee]>>(ye+=this.DB-A)):(P=this[Ee]>>(ye-=A)&B,ye<=0&&(ye+=this.DB,--Ee)),P>0&&(X=!0),X&&(ue+=it(P));return X?ue:"0"},K.prototype.negate=function(){var v=ae();return K.ZERO.subTo(this,v),v},K.prototype.abs=function(){return this.s<0?this.negate():this},K.prototype.compareTo=function(v){var A=this.s-v.s;if(A!=0)return A;var P=this.t;if((A=P-v.t)!=0)return this.s<0?-A:A;for(;--P>=0;)if((A=this[P]-v[P])!=0)return A;return 0},K.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+ge(this[this.t-1]^this.s&this.DM)},K.prototype.mod=function(v){var A=ae();return this.abs().divRemTo(v,null,A),this.s<0&&A.compareTo(K.ZERO)>0&&v.subTo(A,A),A},K.prototype.modPowInt=function(v,A){var P;return P=v<256||A.isEven()?new rt(A):new Y(A),this.exp(v,P)},K.ZERO=lt(0),K.ONE=lt(1),Le.prototype.convert=ce,Le.prototype.revert=ce,Le.prototype.mulTo=function(v,A,P){v.multiplyTo(A,P)},Le.prototype.sqrTo=function(v,A){v.squareTo(A)},Ie.prototype.convert=function(v){if(v.s<0||v.t>2*this.m.t)return v.mod(this.m);if(v.compareTo(this.m)<0)return v;var A=ae();return v.copyTo(A),this.reduce(A),A},Ie.prototype.revert=function(v){return v},Ie.prototype.reduce=function(v){for(v.drShiftTo(this.m.t-1,this.r2),v.t>this.m.t+1&&(v.t=this.m.t+1,v.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);v.compareTo(this.r2)<0;)v.dAddOffset(1,this.m.t+1);for(v.subTo(this.r2,v);v.compareTo(this.m)>=0;)v.subTo(this.m,v)},Ie.prototype.mulTo=function(v,A,P){v.multiplyTo(A,P),this.reduce(P)},Ie.prototype.sqrTo=function(v,A){v.squareTo(A),this.reduce(A)};var Ye=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],se=(1<<26)/Ye[Ye.length-1];/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function k(){this.i=0,this.j=0,this.S=new Array}K.prototype.chunkSize=function(v){return Math.floor(Math.LN2*this.DB/Math.log(v))},K.prototype.toRadix=function(v){if(v==null&&(v=10),this.signum()==0||v<2||v>36)return"0";var A=this.chunkSize(v),P=Math.pow(v,A),B=lt(P),X=ae(),ue=ae(),Ee="";for(this.divRemTo(B,X,ue);X.signum()>0;)Ee=(P+ue.intValue()).toString(v).substr(1)+Ee,X.divRemTo(B,X,ue);return ue.intValue().toString(v)+Ee},K.prototype.fromRadix=function(v,A){this.fromInt(0),A==null&&(A=10);for(var P=this.chunkSize(A),B=Math.pow(A,P),X=!1,ue=0,Ee=0,ye=0;ye<v.length;++ye){var _e=Re(v,ye);_e<0?v.charAt(ye)=="-"&&this.signum()==0&&(X=!0):(Ee=A*Ee+_e,++ue>=P&&(this.dMultiply(B),this.dAddOffset(Ee,0),ue=0,Ee=0))}ue>0&&(this.dMultiply(Math.pow(A,ue)),this.dAddOffset(Ee,0)),X&&K.ZERO.subTo(this,this)},K.prototype.fromNumber=function(v,A,P){if(typeof A=="number")if(v<2)this.fromInt(1);else for(this.fromNumber(v,P),this.testBit(v-1)||this.bitwiseTo(K.ONE.shiftLeft(v-1),$e,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(A);)this.dAddOffset(2,0),this.bitLength()>v&&this.subTo(K.ONE.shiftLeft(v-1),this);else{var B=new Array,X=7&v;B.length=1+(v>>3),A.nextBytes(B),X>0?B[0]&=(1<<X)-1:B[0]=0,this.fromString(B,256)}},K.prototype.bitwiseTo=function(v,A,P){var B,X,ue=Math.min(v.t,this.t);for(B=0;B<ue;++B)P[B]=A(this[B],v[B]);if(v.t<this.t){for(X=v.s&this.DM,B=ue;B<this.t;++B)P[B]=A(this[B],X);P.t=this.t}else{for(X=this.s&this.DM,B=ue;B<v.t;++B)P[B]=A(X,v[B]);P.t=v.t}P.s=A(this.s,v.s),P.clamp()},K.prototype.changeBit=function(v,A){var P=K.ONE.shiftLeft(v);return this.bitwiseTo(P,A,P),P},K.prototype.addTo=function(v,A){for(var P=0,B=0,X=Math.min(v.t,this.t);P<X;)B+=this[P]+v[P],A[P++]=B&this.DM,B>>=this.DB;if(v.t<this.t){for(B+=v.s;P<this.t;)B+=this[P],A[P++]=B&this.DM,B>>=this.DB;B+=this.s}else{for(B+=this.s;P<v.t;)B+=v[P],A[P++]=B&this.DM,B>>=this.DB;B+=v.s}A.s=B<0?-1:0,B>0?A[P++]=B:B<-1&&(A[P++]=this.DV+B),A.t=P,A.clamp()},K.prototype.dMultiply=function(v){this[this.t]=this.am(0,v-1,this,0,0,this.t),++this.t,this.clamp()},K.prototype.dAddOffset=function(v,A){if(v!=0){for(;this.t<=A;)this[this.t++]=0;for(this[A]+=v;this[A]>=this.DV;)this[A]-=this.DV,++A>=this.t&&(this[this.t++]=0),++this[A]}},K.prototype.multiplyLowerTo=function(v,A,P){var B,X=Math.min(this.t+v.t,A);for(P.s=0,P.t=X;X>0;)P[--X]=0;for(B=P.t-this.t;X<B;++X)P[X+this.t]=this.am(0,v[X],P,X,0,this.t);for(B=Math.min(v.t,A);X<B;++X)this.am(0,v[X],P,X,0,A-X);P.clamp()},K.prototype.multiplyUpperTo=function(v,A,P){--A;var B=P.t=this.t+v.t-A;for(P.s=0;--B>=0;)P[B]=0;for(B=Math.max(A-this.t,0);B<v.t;++B)P[this.t+B-A]=this.am(A-B,v[B],P,0,0,this.t+B-A);P.clamp(),P.drShiftTo(1,P)},K.prototype.modInt=function(v){if(v<=0)return 0;var A=this.DV%v,P=this.s<0?v-1:0;if(this.t>0)if(A==0)P=this[0]%v;else for(var B=this.t-1;B>=0;--B)P=(A*P+this[B])%v;return P},K.prototype.millerRabin=function(v){var A=this.subtract(K.ONE),P=A.getLowestSetBit();if(P<=0)return!1;var B=A.shiftRight(P);(v=v+1>>1)>Ye.length&&(v=Ye.length);for(var X=ae(),ue=0;ue<v;++ue){X.fromInt(Ye[Math.floor(Math.random()*Ye.length)]);var Ee=X.modPow(B,this);if(Ee.compareTo(K.ONE)!=0&&Ee.compareTo(A)!=0){for(var ye=1;ye++<P&&Ee.compareTo(A)!=0;)if((Ee=Ee.modPowInt(2,this)).compareTo(K.ONE)==0)return!1;if(Ee.compareTo(A)!=0)return!1}}return!0},K.prototype.clone=function(){var v=ae();return this.copyTo(v),v},K.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},K.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},K.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},K.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},K.prototype.toByteArray=function(){var v=this.t,A=new Array;A[0]=this.s;var P,B=this.DB-v*this.DB%8,X=0;if(v-- >0)for(B<this.DB&&(P=this[v]>>B)!=(this.s&this.DM)>>B&&(A[X++]=P|this.s<<this.DB-B);v>=0;)B<8?(P=(this[v]&(1<<B)-1)<<8-B,P|=this[--v]>>(B+=this.DB-8)):(P=this[v]>>(B-=8)&255,B<=0&&(B+=this.DB,--v)),(128&P)!=0&&(P|=-256),X==0&&(128&this.s)!=(128&P)&&++X,(X>0||P!=this.s)&&(A[X++]=P);return A},K.prototype.equals=function(v){return this.compareTo(v)==0},K.prototype.min=function(v){return this.compareTo(v)<0?this:v},K.prototype.max=function(v){return this.compareTo(v)>0?this:v},K.prototype.and=function(v){var A=ae();return this.bitwiseTo(v,xe,A),A},K.prototype.or=function(v){var A=ae();return this.bitwiseTo(v,$e,A),A},K.prototype.xor=function(v){var A=ae();return this.bitwiseTo(v,Me,A),A},K.prototype.andNot=function(v){var A=ae();return this.bitwiseTo(v,at,A),A},K.prototype.not=function(){for(var v=ae(),A=0;A<this.t;++A)v[A]=this.DM&~this[A];return v.t=this.t,v.s=~this.s,v},K.prototype.shiftLeft=function(v){var A=ae();return v<0?this.rShiftTo(-v,A):this.lShiftTo(v,A),A},K.prototype.shiftRight=function(v){var A=ae();return v<0?this.lShiftTo(-v,A):this.rShiftTo(v,A),A},K.prototype.getLowestSetBit=function(){for(var v=0;v<this.t;++v)if(this[v]!=0)return v*this.DB+It(this[v]);return this.s<0?this.t*this.DB:-1},K.prototype.bitCount=function(){for(var v=0,A=this.s&this.DM,P=0;P<this.t;++P)v+=Pt(this[P]^A);return v},K.prototype.testBit=function(v){var A=Math.floor(v/this.DB);return A>=this.t?this.s!=0:(this[A]&1<<v%this.DB)!=0},K.prototype.setBit=function(v){return this.changeBit(v,$e)},K.prototype.clearBit=function(v){return this.changeBit(v,at)},K.prototype.flipBit=function(v){return this.changeBit(v,Me)},K.prototype.add=function(v){var A=ae();return this.addTo(v,A),A},K.prototype.subtract=function(v){var A=ae();return this.subTo(v,A),A},K.prototype.multiply=function(v){var A=ae();return this.multiplyTo(v,A),A},K.prototype.divide=function(v){var A=ae();return this.divRemTo(v,A,null),A},K.prototype.remainder=function(v){var A=ae();return this.divRemTo(v,null,A),A},K.prototype.divideAndRemainder=function(v){var A=ae(),P=ae();return this.divRemTo(v,A,P),new Array(A,P)},K.prototype.modPow=function(v,A){var P,B,X=v.bitLength(),ue=lt(1);if(X<=0)return ue;P=X<18?1:X<48?3:X<144?4:X<768?5:6,B=X<8?new rt(A):A.isEven()?new Ie(A):new Y(A);var Ee=new Array,ye=3,_e=P-1,Te=(1<<P)-1;if(Ee[1]=B.convert(this),P>1){var Oe=ae();for(B.sqrTo(Ee[1],Oe);ye<=Te;)Ee[ye]=ae(),B.mulTo(Oe,Ee[ye-2],Ee[ye]),ye+=2}var ke,We,ut=v.t-1,yt=!0,Et=ae();for(X=ge(v[ut])-1;ut>=0;){for(X>=_e?ke=v[ut]>>X-_e&Te:(ke=(v[ut]&(1<<X+1)-1)<<_e-X,ut>0&&(ke|=v[ut-1]>>this.DB+X-_e)),ye=P;(1&ke)==0;)ke>>=1,--ye;if((X-=ye)<0&&(X+=this.DB,--ut),yt)Ee[ke].copyTo(ue),yt=!1;else{for(;ye>1;)B.sqrTo(ue,Et),B.sqrTo(Et,ue),ye-=2;ye>0?B.sqrTo(ue,Et):(We=ue,ue=Et,Et=We),B.mulTo(Et,Ee[ke],ue)}for(;ut>=0&&(v[ut]&1<<X)==0;)B.sqrTo(ue,Et),We=ue,ue=Et,Et=We,--X<0&&(X=this.DB-1,--ut)}return B.revert(ue)},K.prototype.modInverse=function(v){var A=v.isEven();if(this.isEven()&&A||v.signum()==0)return K.ZERO;for(var P=v.clone(),B=this.clone(),X=lt(1),ue=lt(0),Ee=lt(0),ye=lt(1);P.signum()!=0;){for(;P.isEven();)P.rShiftTo(1,P),A?(X.isEven()&&ue.isEven()||(X.addTo(this,X),ue.subTo(v,ue)),X.rShiftTo(1,X)):ue.isEven()||ue.subTo(v,ue),ue.rShiftTo(1,ue);for(;B.isEven();)B.rShiftTo(1,B),A?(Ee.isEven()&&ye.isEven()||(Ee.addTo(this,Ee),ye.subTo(v,ye)),Ee.rShiftTo(1,Ee)):ye.isEven()||ye.subTo(v,ye),ye.rShiftTo(1,ye);P.compareTo(B)>=0?(P.subTo(B,P),A&&X.subTo(Ee,X),ue.subTo(ye,ue)):(B.subTo(P,B),A&&Ee.subTo(X,Ee),ye.subTo(ue,ye))}return B.compareTo(K.ONE)!=0?K.ZERO:ye.compareTo(v)>=0?ye.subtract(v):ye.signum()<0?(ye.addTo(v,ye),ye.signum()<0?ye.add(v):ye):ye},K.prototype.pow=function(v){return this.exp(v,new Le)},K.prototype.gcd=function(v){var A=this.s<0?this.negate():this.clone(),P=v.s<0?v.negate():v.clone();if(A.compareTo(P)<0){var B=A;A=P,P=B}var X=A.getLowestSetBit(),ue=P.getLowestSetBit();if(ue<0)return A;for(X<ue&&(ue=X),ue>0&&(A.rShiftTo(ue,A),P.rShiftTo(ue,P));A.signum()>0;)(X=A.getLowestSetBit())>0&&A.rShiftTo(X,A),(X=P.getLowestSetBit())>0&&P.rShiftTo(X,P),A.compareTo(P)>=0?(A.subTo(P,A),A.rShiftTo(1,A)):(P.subTo(A,P),P.rShiftTo(1,P));return ue>0&&P.lShiftTo(ue,P),P},K.prototype.isProbablePrime=function(v){var A,P=this.abs();if(P.t==1&&P[0]<=Ye[Ye.length-1]){for(A=0;A<Ye.length;++A)if(P[0]==Ye[A])return!0;return!1}if(P.isEven())return!1;for(A=1;A<Ye.length;){for(var B=Ye[A],X=A+1;X<Ye.length&&B<se;)B*=Ye[X++];for(B=P.modInt(B);A<X;)if(B%Ye[A++]==0)return!1}return P.millerRabin(v)},K.prototype.square=function(){var v=ae();return this.squareTo(v),v},k.prototype.init=function(v){var A,P,B;for(A=0;A<256;++A)this.S[A]=A;for(P=0,A=0;A<256;++A)P=P+this.S[A]+v[A%v.length]&255,B=this.S[A],this.S[A]=this.S[P],this.S[P]=B;this.i=0,this.j=0},k.prototype.next=function(){var v;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,v=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=v,this.S[v+this.S[this.i]&255]};var D,z,re;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Se(){(function(v){z[re++]^=255&v,z[re++]^=v>>8&255,z[re++]^=v>>16&255,z[re++]^=v>>24&255,re>=256&&(re-=256)})(new Date().getTime())}if(z==null){var Ne;if(z=new Array,re=0,O!==void 0&&(O.crypto!==void 0||O.msCrypto!==void 0)){var ct=O.crypto||O.msCrypto;if(ct.getRandomValues){var Pe=new Uint8Array(32);for(ct.getRandomValues(Pe),Ne=0;Ne<32;++Ne)z[re++]=Pe[Ne]}else if(I.appName=="Netscape"&&I.appVersion<"5"){var mt=O.crypto.random(32);for(Ne=0;Ne<mt.length;++Ne)z[re++]=255&mt.charCodeAt(Ne)}}for(;re<256;)Ne=Math.floor(65536*Math.random()),z[re++]=Ne>>>8,z[re++]=255&Ne;re=0,Se()}function Tt(){if(D==null){for(Se(),(D=function(){return new k}()).init(z),re=0;re<z.length;++re)z[re]=0;re=0}return D.next()}function bt(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Xe(b,v){return new K(b,v)}function qe(b,v,A){for(var P="",B=0;P.length<v;)P+=A(String.fromCharCode.apply(String,b.concat([(4278190080&B)>>24,(16711680&B)>>16,(65280&B)>>8,255&B]))),B+=1;return P}function Fe(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function et(b,v){this.x=v,this.q=b}function Q(b,v,A,P){this.curve=b,this.x=v,this.y=A,this.z=P??K.ONE,this.zinv=null}function j(b,v,A){this.q=b,this.a=this.fromBigInteger(v),this.b=this.fromBigInteger(A),this.infinity=new Q(this,null,null)}bt.prototype.nextBytes=function(v){var A;for(A=0;A<v.length;++A)v[A]=Tt()},Fe.prototype.doPublic=function(v){return v.modPowInt(this.e,this.n)},Fe.prototype.setPublic=function(v,A){if(this.isPublic=!0,this.isPrivate=!1,typeof v!="string")this.n=v,this.e=A;else{if(!(v!=null&&A!=null&&v.length>0&&A.length>0))throw"Invalid RSA public key";this.n=Xe(v,16),this.e=parseInt(A,16)}},Fe.prototype.encrypt=function(v){var A=function(ue,Ee){if(Ee<ue.length+11)throw"Message too long for RSA";for(var ye=new Array,_e=ue.length-1;_e>=0&&Ee>0;){var Te=ue.charCodeAt(_e--);Te<128?ye[--Ee]=Te:Te>127&&Te<2048?(ye[--Ee]=63&Te|128,ye[--Ee]=Te>>6|192):(ye[--Ee]=63&Te|128,ye[--Ee]=Te>>6&63|128,ye[--Ee]=Te>>12|224)}ye[--Ee]=0;for(var Oe=new bt,ke=new Array;Ee>2;){for(ke[0]=0;ke[0]==0;)Oe.nextBytes(ke);ye[--Ee]=ke[0]}return ye[--Ee]=2,ye[--Ee]=0,new K(ye)}(v,this.n.bitLength()+7>>3);if(A==null)return null;var P=this.doPublic(A);if(P==null)return null;var B=P.toString(16);return(1&B.length)==0?B:"0"+B},Fe.prototype.encryptOAEP=function(v,A,P){var B=function(ye,_e,Te,Oe){var ke=V.crypto.MessageDigest,We=V.crypto.Util,ut=null;if(Te||(Te="sha1"),typeof Te=="string"&&(ut=ke.getCanonicalAlgName(Te),Oe=ke.getHashLength(ut),Te=function(Bt){return zt(We.hashHex(tn(Bt),ut))}),ye.length+2*Oe+2>_e)throw"Message too long for RSA";var yt,Et="";for(yt=0;yt<_e-ye.length-2*Oe-2;yt+=1)Et+="\0";var le=Te("")+Et+""+ye,Ce=new Array(Oe);new bt().nextBytes(Ce);var De=qe(Ce,le.length,Te),Ue=[];for(yt=0;yt<le.length;yt+=1)Ue[yt]=le.charCodeAt(yt)^De.charCodeAt(yt);var ht=qe(Ue,Ce.length,Te),At=[0];for(yt=0;yt<Ce.length;yt+=1)At[yt+1]=Ce[yt]^ht.charCodeAt(yt);return new K(At.concat(Ue))}(v,this.n.bitLength()+7>>3,A,P);if(B==null)return null;var X=this.doPublic(B);if(X==null)return null;var ue=X.toString(16);return(1&ue.length)==0?ue:"0"+ue},Fe.prototype.type="RSA",et.prototype.equals=function(v){return v==this||this.q.equals(v.q)&&this.x.equals(v.x)},et.prototype.toBigInteger=function(){return this.x},et.prototype.negate=function(){return new et(this.q,this.x.negate().mod(this.q))},et.prototype.add=function(v){return new et(this.q,this.x.add(v.toBigInteger()).mod(this.q))},et.prototype.subtract=function(v){return new et(this.q,this.x.subtract(v.toBigInteger()).mod(this.q))},et.prototype.multiply=function(v){return new et(this.q,this.x.multiply(v.toBigInteger()).mod(this.q))},et.prototype.square=function(){return new et(this.q,this.x.square().mod(this.q))},et.prototype.divide=function(v){return new et(this.q,this.x.multiply(v.toBigInteger().modInverse(this.q)).mod(this.q))},Q.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Q.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Q.prototype.equals=function(v){return v==this||(this.isInfinity()?v.isInfinity():v.isInfinity()?this.isInfinity():!!v.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(v.z)).mod(this.curve.q).equals(K.ZERO)&&v.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(v.z)).mod(this.curve.q).equals(K.ZERO))},Q.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals(K.ZERO)&&!this.y.toBigInteger().equals(K.ZERO)},Q.prototype.negate=function(){return new Q(this.curve,this.x,this.y.negate(),this.z)},Q.prototype.add=function(v){if(this.isInfinity())return v;if(v.isInfinity())return this;var A=v.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(v.z)).mod(this.curve.q),P=v.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(v.z)).mod(this.curve.q);if(K.ZERO.equals(P))return K.ZERO.equals(A)?this.twice():this.curve.getInfinity();var B=new K("3"),X=this.x.toBigInteger(),ue=this.y.toBigInteger(),Ee=(v.x.toBigInteger(),v.y.toBigInteger(),P.square()),ye=Ee.multiply(P),_e=X.multiply(Ee),Te=A.square().multiply(this.z),Oe=Te.subtract(_e.shiftLeft(1)).multiply(v.z).subtract(ye).multiply(P).mod(this.curve.q),ke=_e.multiply(B).multiply(A).subtract(ue.multiply(ye)).subtract(Te.multiply(A)).multiply(v.z).add(A.multiply(ye)).mod(this.curve.q),We=ye.multiply(this.z).multiply(v.z).mod(this.curve.q);return new Q(this.curve,this.curve.fromBigInteger(Oe),this.curve.fromBigInteger(ke),We)},Q.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var v=new K("3"),A=this.x.toBigInteger(),P=this.y.toBigInteger(),B=P.multiply(this.z),X=B.multiply(P).mod(this.curve.q),ue=this.curve.a.toBigInteger(),Ee=A.square().multiply(v);K.ZERO.equals(ue)||(Ee=Ee.add(this.z.square().multiply(ue)));var ye=(Ee=Ee.mod(this.curve.q)).square().subtract(A.shiftLeft(3).multiply(X)).shiftLeft(1).multiply(B).mod(this.curve.q),_e=Ee.multiply(v).multiply(A).subtract(X.shiftLeft(1)).shiftLeft(2).multiply(X).subtract(Ee.square().multiply(Ee)).mod(this.curve.q),Te=B.square().multiply(B).shiftLeft(3).mod(this.curve.q);return new Q(this.curve,this.curve.fromBigInteger(ye),this.curve.fromBigInteger(_e),Te)},Q.prototype.multiply=function(v){if(this.isInfinity())return this;if(v.signum()==0)return this.curve.getInfinity();var A,P=v,B=P.multiply(new K("3")),X=this.negate(),ue=this,Ee=this.curve.q.subtract(v),ye=Ee.multiply(new K("3")),_e=new Q(this.curve,this.x,this.y),Te=_e.negate();for(A=B.bitLength()-2;A>0;--A){ue=ue.twice();var Oe=B.testBit(A);Oe!=P.testBit(A)&&(ue=ue.add(Oe?this:X))}for(A=ye.bitLength()-2;A>0;--A){_e=_e.twice();var ke=ye.testBit(A);ke!=Ee.testBit(A)&&(_e=_e.add(ke?_e:Te))}return ue},Q.prototype.multiplyTwo=function(v,A,P){var B;B=v.bitLength()>P.bitLength()?v.bitLength()-1:P.bitLength()-1;for(var X=this.curve.getInfinity(),ue=this.add(A);B>=0;)X=X.twice(),v.testBit(B)?X=P.testBit(B)?X.add(ue):X.add(this):P.testBit(B)&&(X=X.add(A)),--B;return X},j.prototype.getQ=function(){return this.q},j.prototype.getA=function(){return this.a},j.prototype.getB=function(){return this.b},j.prototype.equals=function(v){return v==this||this.q.equals(v.q)&&this.a.equals(v.a)&&this.b.equals(v.b)},j.prototype.getInfinity=function(){return this.infinity},j.prototype.fromBigInteger=function(v){return new et(this.q,v)},j.prototype.decodePointHex=function(v){switch(parseInt(v.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var A=(v.length-2)/2,P=v.substr(2,A),B=v.substr(A+2,A);return new Q(this,this.fromBigInteger(new K(P,16)),this.fromBigInteger(new K(B,16)));default:return null}},et.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},Q.prototype.getEncoded=function(b){var v=function(ue,Ee){var ye=ue.toByteArrayUnsigned();if(Ee<ye.length)ye=ye.slice(ye.length-Ee);else for(;Ee>ye.length;)ye.unshift(0);return ye},A=this.getX().toBigInteger(),P=this.getY().toBigInteger(),B=v(A,32);return b?P.isEven()?B.unshift(2):B.unshift(3):(B.unshift(4),B=B.concat(v(P,32))),B},Q.decodeFrom=function(b,v){v[0];var A=v.length-1,P=v.slice(1,1+A/2),B=v.slice(1+A/2,1+A);P.unshift(0),B.unshift(0);var X=new K(P),ue=new K(B);return new Q(b,b.fromBigInteger(X),b.fromBigInteger(ue))},Q.decodeFromHex=function(b,v){v.substr(0,2);var A=v.length-2,P=v.substr(2,A/2),B=v.substr(2+A/2,A/2),X=new K(P,16),ue=new K(B,16);return new Q(b,b.fromBigInteger(X),b.fromBigInteger(ue))},Q.prototype.add2D=function(b){if(this.isInfinity())return b;if(b.isInfinity())return this;if(this.x.equals(b.x))return this.y.equals(b.y)?this.twice():this.curve.getInfinity();var v=b.x.subtract(this.x),A=b.y.subtract(this.y).divide(v),P=A.square().subtract(this.x).subtract(b.x),B=A.multiply(this.x.subtract(P)).subtract(this.y);return new Q(this.curve,P,B)},Q.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var b=this.curve.fromBigInteger(K.valueOf(2)),v=this.curve.fromBigInteger(K.valueOf(3)),A=this.x.square().multiply(v).add(this.curve.a).divide(this.y.multiply(b)),P=A.square().subtract(this.x.multiply(b)),B=A.multiply(this.x.subtract(P)).subtract(this.y);return new Q(this.curve,P,B)},Q.prototype.multiply2D=function(b){if(this.isInfinity())return this;if(b.signum()==0)return this.curve.getInfinity();var v,A=b,P=A.multiply(new K("3")),B=this.negate(),X=this;for(v=P.bitLength()-2;v>0;--v){X=X.twice();var ue=P.testBit(v);ue!=A.testBit(v)&&(X=X.add2D(ue?this:B))}return X},Q.prototype.isOnCurve=function(){var b=this.getX().toBigInteger(),v=this.getY().toBigInteger(),A=this.curve.getA().toBigInteger(),P=this.curve.getB().toBigInteger(),B=this.curve.getQ(),X=v.multiply(v).mod(B),ue=b.multiply(b).multiply(b).add(A.multiply(b)).add(P).mod(B);return X.equals(ue)},Q.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},Q.prototype.validate=function(){var b=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var v=this.getX().toBigInteger(),A=this.getY().toBigInteger();if(v.compareTo(K.ONE)<0||v.compareTo(b.subtract(K.ONE))>0)throw new Error("x coordinate out of bounds");if(A.compareTo(K.ONE)<0||A.compareTo(b.subtract(K.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(b).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var G=function(){var b=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),v=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),A={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function P(ue,Ee,ye){return Ee?A[Ee]:String.fromCharCode(parseInt(ye,16))}var B=new String(""),X=Object.hasOwnProperty;return function(ue,Ee){var ye,_e,Te=ue.match(b),Oe=Te[0],ke=!1;Oe==="{"?ye={}:Oe==="["?ye=[]:(ye=[],ke=!0);for(var We=[ye],ut=1-ke,yt=Te.length;ut<yt;++ut){var Et;switch((Oe=Te[ut]).charCodeAt(0)){default:(Et=We[0])[_e||Et.length]=+Oe,_e=void 0;break;case 34:if((Oe=Oe.substring(1,Oe.length-1)).indexOf("\\")!==-1&&(Oe=Oe.replace(v,P)),Et=We[0],!_e){if(!(Et instanceof Array)){_e=Oe||B;break}_e=Et.length}Et[_e]=Oe,_e=void 0;break;case 91:Et=We[0],We.unshift(Et[_e||Et.length]=[]),_e=void 0;break;case 93:We.shift();break;case 102:(Et=We[0])[_e||Et.length]=!1,_e=void 0;break;case 110:(Et=We[0])[_e||Et.length]=null,_e=void 0;break;case 116:(Et=We[0])[_e||Et.length]=!0,_e=void 0;break;case 123:Et=We[0],We.unshift(Et[_e||Et.length]={}),_e=void 0;break;case 125:We.shift()}}if(ke){if(We.length!==1)throw new Error;ye=ye[0]}else if(We.length)throw new Error;return Ee&&(ye=function le(Ce,De){var Ue=Ce[De];if(Ue&&(Ue===void 0?"undefined":E(Ue))==="object"){var ht=null;for(var At in Ue)if(X.call(Ue,At)&&Ue!==Ce){var dn=le(Ue,At);dn!==void 0?Ue[At]=dn:(ht||(ht=[]),ht.push(At))}if(ht)for(var Bt=ht.length;--Bt>=0;)delete Ue[ht[Bt]]}return Ee.call(Ce,De,Ue)}({"":ye},"")),ye}}();V!==void 0&&V||(i.KJUR=V={}),V.asn1!==void 0&&V.asn1||(V.asn1={}),V.asn1.ASN1Util=new function(){this.integerToByteHex=function(b){var v=b.toString(16);return v.length%2==1&&(v="0"+v),v},this.bigIntToMinTwosComplementsHex=function(b){var v=b.toString(16);if(v.substr(0,1)!="-")v.length%2==1?v="0"+v:v.match(/^[0-7]/)||(v="00"+v);else{var A=v.substr(1).length;A%2==1?A+=1:v.match(/^[0-7]/)||(A+=2);for(var P="",B=0;B<A;B++)P+="f";v=new K(P,16).xor(b).add(K.ONE).toString(16).replace(/^-/,"")}return v},this.getPEMStringFromHex=function(b,v){return Ot(b,v)},this.newObject=function(b){var v=V.asn1,A=v.ASN1Object,P=v.DERBoolean,B=v.DERInteger,X=v.DERBitString,ue=v.DEROctetString,Ee=v.DERNull,ye=v.DERObjectIdentifier,_e=v.DEREnumerated,Te=v.DERUTF8String,Oe=v.DERNumericString,ke=v.DERPrintableString,We=v.DERTeletexString,ut=v.DERIA5String,yt=v.DERUTCTime,Et=v.DERGeneralizedTime,le=v.DERVisibleString,Ce=v.DERBMPString,De=v.DERSequence,Ue=v.DERSet,ht=v.DERTaggedObject,At=v.ASN1Util.newObject;if(b instanceof v.ASN1Object)return b;var dn=Object.keys(b);if(dn.length!=1)throw new Error("key of param shall be only one.");var Bt=dn[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Bt+":")==-1)throw new Error("undefined key: "+Bt);if(Bt=="bool")return new P(b[Bt]);if(Bt=="int")return new B(b[Bt]);if(Bt=="bitstr")return new X(b[Bt]);if(Bt=="octstr")return new ue(b[Bt]);if(Bt=="null")return new Ee(b[Bt]);if(Bt=="oid")return new ye(b[Bt]);if(Bt=="enum")return new _e(b[Bt]);if(Bt=="utf8str")return new Te(b[Bt]);if(Bt=="numstr")return new Oe(b[Bt]);if(Bt=="prnstr")return new ke(b[Bt]);if(Bt=="telstr")return new We(b[Bt]);if(Bt=="ia5str")return new ut(b[Bt]);if(Bt=="utctime")return new yt(b[Bt]);if(Bt=="gentime")return new Et(b[Bt]);if(Bt=="visstr")return new le(b[Bt]);if(Bt=="bmpstr")return new Ce(b[Bt]);if(Bt=="asn1")return new A(b[Bt]);if(Bt=="seq"){for(var Xn=b[Bt],un=[],gn=0;gn<Xn.length;gn++){var sr=At(Xn[gn]);un.push(sr)}return new De({array:un})}if(Bt=="set"){for(Xn=b[Bt],un=[],gn=0;gn<Xn.length;gn++)sr=At(Xn[gn]),un.push(sr);return new Ue({array:un})}if(Bt=="tag"){var hn=b[Bt];if(Object.prototype.toString.call(hn)==="[object Array]"&&hn.length==3){var lr=At(hn[2]);return new ht({tag:hn[0],explicit:hn[1],obj:lr})}return new ht(hn)}},this.jsonToASN1HEX=function(b){return this.newObject(b).getEncodedHex()}},V.asn1.ASN1Util.oidHexToInt=function(b){for(var v="",A=parseInt(b.substr(0,2),16),P=(v=Math.floor(A/40)+"."+A%40,""),B=2;B<b.length;B+=2){var X=("00000000"+parseInt(b.substr(B,2),16).toString(2)).slice(-8);P+=X.substr(1,7),X.substr(0,1)=="0"&&(v=v+"."+new K(P,2).toString(10),P="")}return v},V.asn1.ASN1Util.oidIntToHex=function(b){var v=function(ye){var _e=ye.toString(16);return _e.length==1&&(_e="0"+_e),_e},A=function(ye){var _e="",Te=new K(ye,10).toString(2),Oe=7-Te.length%7;Oe==7&&(Oe=0);for(var ke="",We=0;We<Oe;We++)ke+="0";for(Te=ke+Te,We=0;We<Te.length-1;We+=7){var ut=Te.substr(We,7);We!=Te.length-7&&(ut="1"+ut),_e+=v(parseInt(ut,2))}return _e};if(!b.match(/^[0-9.]+$/))throw"malformed oid string: "+b;var P="",B=b.split("."),X=40*parseInt(B[0])+parseInt(B[1]);P+=v(X),B.splice(0,2);for(var ue=0;ue<B.length;ue++)P+=A(B[ue]);return P},V.asn1.ASN1Object=function(b){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var v=this.hV.length/2,A=v.toString(16);if(A.length%2==1&&(A="0"+A),v<128)return A;var P=A.length/2;if(P>15)throw"ASN.1 length too long to represent by 8x: n = "+v.toString(16);return(128+P).toString(16)+A},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(v){this.params=v},b!=null&&b.tlv!=null&&(this.hTLV=b.tlv,this.isModified=!1)},V.asn1.DERAbstractString=function(b){V.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(v){this.hTLV=null,this.isModified=!0,this.s=v,this.hV=pt(this.s).toLowerCase()},this.setStringHex=function(v){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=v},this.getFreshValueHex=function(){return this.hV},b!==void 0&&(typeof b=="string"?this.setString(b):b.str!==void 0?this.setString(b.str):b.hex!==void 0&&this.setStringHex(b.hex))},ln(V.asn1.DERAbstractString,V.asn1.ASN1Object),V.asn1.DERAbstractTime=function(b){V.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(v){var A=v.getTime()+6e4*v.getTimezoneOffset();return new Date(A)},this.formatDate=function(v,A,P){var B=this.zeroPadding,X=this.localDateToUTC(v),ue=String(X.getFullYear());A=="utc"&&(ue=ue.substr(2,2));var Ee=ue+B(String(X.getMonth()+1),2)+B(String(X.getDate()),2)+B(String(X.getHours()),2)+B(String(X.getMinutes()),2)+B(String(X.getSeconds()),2);if(P===!0){var ye=X.getMilliseconds();if(ye!=0){var _e=B(String(ye),3);Ee=Ee+"."+(_e=_e.replace(/[0]+$/,""))}}return Ee+"Z"},this.zeroPadding=function(v,A){return v.length>=A?v:new Array(A-v.length+1).join("0")+v},this.getString=function(){return this.s},this.setString=function(v){this.hTLV=null,this.isModified=!0,this.s=v,this.hV=sn(v)},this.setByDateValue=function(v,A,P,B,X,ue){var Ee=new Date(Date.UTC(v,A-1,P,B,X,ue,0));this.setByDate(Ee)},this.getFreshValueHex=function(){return this.hV}},ln(V.asn1.DERAbstractTime,V.asn1.ASN1Object),V.asn1.DERAbstractStructured=function(b){V.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(v){this.hTLV=null,this.isModified=!0,this.asn1Array=v},this.appendASN1Object=function(v){this.hTLV=null,this.isModified=!0,this.asn1Array.push(v)},this.asn1Array=new Array,b!==void 0&&b.array!==void 0&&(this.asn1Array=b.array)},ln(V.asn1.DERAbstractStructured,V.asn1.ASN1Object),V.asn1.DERBoolean=function(b){V.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=b==0?"010100":"0101ff"},ln(V.asn1.DERBoolean,V.asn1.ASN1Object),V.asn1.DERInteger=function(b){V.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(v){this.hTLV=null,this.isModified=!0,this.hV=V.asn1.ASN1Util.bigIntToMinTwosComplementsHex(v)},this.setByInteger=function(v){var A=new K(String(v),10);this.setByBigInteger(A)},this.setValueHex=function(v){this.hV=v},this.getFreshValueHex=function(){return this.hV},b!==void 0&&(b.bigint!==void 0?this.setByBigInteger(b.bigint):b.int!==void 0?this.setByInteger(b.int):typeof b=="number"?this.setByInteger(b):b.hex!==void 0&&this.setValueHex(b.hex))},ln(V.asn1.DERInteger,V.asn1.ASN1Object),V.asn1.DERBitString=function(b){if(b!==void 0&&b.obj!==void 0){var v=V.asn1.ASN1Util.newObject(b.obj);b.hex="00"+v.getEncodedHex()}V.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(A){this.hTLV=null,this.isModified=!0,this.hV=A},this.setUnusedBitsAndHexValue=function(A,P){if(A<0||7<A)throw"unused bits shall be from 0 to 7: u = "+A;var B="0"+A;this.hTLV=null,this.isModified=!0,this.hV=B+P},this.setByBinaryString=function(A){var P=8-(A=A.replace(/0+$/,"")).length%8;P==8&&(P=0);for(var B=0;B<=P;B++)A+="0";var X="";for(B=0;B<A.length-1;B+=8){var ue=A.substr(B,8),Ee=parseInt(ue,2).toString(16);Ee.length==1&&(Ee="0"+Ee),X+=Ee}this.hTLV=null,this.isModified=!0,this.hV="0"+P+X},this.setByBooleanArray=function(A){for(var P="",B=0;B<A.length;B++)A[B]==1?P+="1":P+="0";this.setByBinaryString(P)},this.newFalseArray=function(A){for(var P=new Array(A),B=0;B<A;B++)P[B]=!1;return P},this.getFreshValueHex=function(){return this.hV},b!==void 0&&(typeof b=="string"&&b.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(b):b.hex!==void 0?this.setHexValueIncludingUnusedBits(b.hex):b.bin!==void 0?this.setByBinaryString(b.bin):b.array!==void 0&&this.setByBooleanArray(b.array))},ln(V.asn1.DERBitString,V.asn1.ASN1Object),V.asn1.DEROctetString=function(b){if(b!==void 0&&b.obj!==void 0){var v=V.asn1.ASN1Util.newObject(b.obj);b.hex=v.getEncodedHex()}V.asn1.DEROctetString.superclass.constructor.call(this,b),this.hT="04"},ln(V.asn1.DEROctetString,V.asn1.DERAbstractString),V.asn1.DERNull=function(){V.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},ln(V.asn1.DERNull,V.asn1.ASN1Object),V.asn1.DERObjectIdentifier=function(b){V.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(v){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=v},this.setValueOidString=function(v){var A=function(B){var X=function(ke){var We=ke.toString(16);return We.length==1&&(We="0"+We),We},ue=function(ke){var We="",ut=parseInt(ke,10).toString(2),yt=7-ut.length%7;yt==7&&(yt=0);for(var Et="",le=0;le<yt;le++)Et+="0";for(ut=Et+ut,le=0;le<ut.length-1;le+=7){var Ce=ut.substr(le,7);le!=ut.length-7&&(Ce="1"+Ce),We+=X(parseInt(Ce,2))}return We};try{if(!B.match(/^[0-9.]+$/))return null;var Ee="",ye=B.split("."),_e=40*parseInt(ye[0],10)+parseInt(ye[1],10);Ee+=X(_e),ye.splice(0,2);for(var Te=0;Te<ye.length;Te++)Ee+=ue(ye[Te]);return Ee}catch{return null}}(v);if(A==null)throw new Error("malformed oid string: "+v);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=A},this.setValueName=function(v){var A=V.asn1.x509.OID.name2oid(v);if(A==="")throw new Error("DERObjectIdentifier oidName undefined: "+v);this.setValueOidString(A)},this.setValueNameOrOid=function(v){v.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(v):this.setValueName(v)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(v){typeof v=="string"?this.setValueNameOrOid(v):v.oid!==void 0?this.setValueNameOrOid(v.oid):v.name!==void 0?this.setValueNameOrOid(v.name):v.hex!==void 0&&this.setValueHex(v.hex)},b!==void 0&&this.setByParam(b)},ln(V.asn1.DERObjectIdentifier,V.asn1.ASN1Object),V.asn1.DEREnumerated=function(b){V.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(v){this.hTLV=null,this.isModified=!0,this.hV=V.asn1.ASN1Util.bigIntToMinTwosComplementsHex(v)},this.setByInteger=function(v){var A=new K(String(v),10);this.setByBigInteger(A)},this.setValueHex=function(v){this.hV=v},this.getFreshValueHex=function(){return this.hV},b!==void 0&&(b.int!==void 0?this.setByInteger(b.int):typeof b=="number"?this.setByInteger(b):b.hex!==void 0&&this.setValueHex(b.hex))},ln(V.asn1.DEREnumerated,V.asn1.ASN1Object),V.asn1.DERUTF8String=function(b){V.asn1.DERUTF8String.superclass.constructor.call(this,b),this.hT="0c"},ln(V.asn1.DERUTF8String,V.asn1.DERAbstractString),V.asn1.DERNumericString=function(b){V.asn1.DERNumericString.superclass.constructor.call(this,b),this.hT="12"},ln(V.asn1.DERNumericString,V.asn1.DERAbstractString),V.asn1.DERPrintableString=function(b){V.asn1.DERPrintableString.superclass.constructor.call(this,b),this.hT="13"},ln(V.asn1.DERPrintableString,V.asn1.DERAbstractString),V.asn1.DERTeletexString=function(b){V.asn1.DERTeletexString.superclass.constructor.call(this,b),this.hT="14"},ln(V.asn1.DERTeletexString,V.asn1.DERAbstractString),V.asn1.DERIA5String=function(b){V.asn1.DERIA5String.superclass.constructor.call(this,b),this.hT="16"},ln(V.asn1.DERIA5String,V.asn1.DERAbstractString),V.asn1.DERVisibleString=function(b){V.asn1.DERIA5String.superclass.constructor.call(this,b),this.hT="1a"},ln(V.asn1.DERVisibleString,V.asn1.DERAbstractString),V.asn1.DERBMPString=function(b){V.asn1.DERBMPString.superclass.constructor.call(this,b),this.hT="1e"},ln(V.asn1.DERBMPString,V.asn1.DERAbstractString),V.asn1.DERUTCTime=function(b){V.asn1.DERUTCTime.superclass.constructor.call(this,b),this.hT="17",this.setByDate=function(v){this.hTLV=null,this.isModified=!0,this.date=v,this.s=this.formatDate(this.date,"utc"),this.hV=sn(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=sn(this.s)),this.hV},b!==void 0&&(b.str!==void 0?this.setString(b.str):typeof b=="string"&&b.match(/^[0-9]{12}Z$/)?this.setString(b):b.hex!==void 0?this.setStringHex(b.hex):b.date!==void 0&&this.setByDate(b.date))},ln(V.asn1.DERUTCTime,V.asn1.DERAbstractTime),V.asn1.DERGeneralizedTime=function(b){V.asn1.DERGeneralizedTime.superclass.constructor.call(this,b),this.hT="18",this.withMillis=!1,this.setByDate=function(v){this.hTLV=null,this.isModified=!0,this.date=v,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=sn(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=sn(this.s)),this.hV},b!==void 0&&(b.str!==void 0?this.setString(b.str):typeof b=="string"&&b.match(/^[0-9]{14}Z$/)?this.setString(b):b.hex!==void 0?this.setStringHex(b.hex):b.date!==void 0&&this.setByDate(b.date),b.millis===!0&&(this.withMillis=!0))},ln(V.asn1.DERGeneralizedTime,V.asn1.DERAbstractTime),V.asn1.DERSequence=function(b){V.asn1.DERSequence.superclass.constructor.call(this,b),this.hT="30",this.getFreshValueHex=function(){for(var v="",A=0;A<this.asn1Array.length;A++)v+=this.asn1Array[A].getEncodedHex();return this.hV=v,this.hV}},ln(V.asn1.DERSequence,V.asn1.DERAbstractStructured),V.asn1.DERSet=function(b){V.asn1.DERSet.superclass.constructor.call(this,b),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var v=new Array,A=0;A<this.asn1Array.length;A++){var P=this.asn1Array[A];v.push(P.getEncodedHex())}return this.sortFlag==1&&v.sort(),this.hV=v.join(""),this.hV},b!==void 0&&b.sortflag!==void 0&&b.sortflag==0&&(this.sortFlag=!1)},ln(V.asn1.DERSet,V.asn1.DERAbstractStructured),V.asn1.DERTaggedObject=function(b){V.asn1.DERTaggedObject.superclass.constructor.call(this);var v=V.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(A,P,B){this.hT=P,this.isExplicit=A,this.asn1Object=B,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=B.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,P),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(A){A.tag!=null&&(this.hT=A.tag),A.explicit!=null&&(this.isExplicit=A.explicit),A.tage!=null&&(this.hT=A.tage,this.isExplicit=!0),A.tagi!=null&&(this.hT=A.tagi,this.isExplicit=!1),A.obj!=null&&(A.obj instanceof v.ASN1Object?(this.asn1Object=A.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):E(A.obj)=="object"&&(this.asn1Object=v.ASN1Util.newObject(A.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},b!=null&&this.setByParam(b)},ln(V.asn1.DERTaggedObject,V.asn1.ASN1Object);var V,Je,ot,Qe=new function(){};function Yt(b){for(var v=new Array,A=0;A<b.length;A++)v[A]=b.charCodeAt(A);return v}function $n(b){for(var v="",A=0;A<b.length;A++)v+=String.fromCharCode(b[A]);return v}function qn(b){for(var v="",A=0;A<b.length;A++){var P=b[A].toString(16);P.length==1&&(P="0"+P),v+=P}return v}function sn(b){return qn(Yt(b))}function ze(b){return b=(b=(b=b.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function wt(b){return b.length%4==2?b+="==":b.length%4==3&&(b+="="),b=(b=b.replace(/-/g,"+")).replace(/_/g,"/")}function dt(b){return b.length%2==1&&(b="0"+b),ze(W(b))}function Be(b){return $(wt(b))}function pt(b){return nn(Un(b))}function Xt(b){return decodeURIComponent(Ln(b))}function zt(b){for(var v="",A=0;A<b.length-1;A+=2)v+=String.fromCharCode(parseInt(b.substr(A,2),16));return v}function tn(b){for(var v="",A=0;A<b.length;A++)v+=("0"+b.charCodeAt(A).toString(16)).slice(-2);return v}function Ht(b){return W(b)}function fe(b){var v=Ht(b).replace(/(.{64})/g,`$1\r
`);return v=v.replace(/\r\n$/,"")}function ve(b){return $(b.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Ot(b,v){return"-----BEGIN "+v+`-----\r
`+fe(b)+`\r
-----END `+v+`-----\r
`}function Ct(b,v){if(b.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+v;return ve(b=v!==void 0?(b=b.replace(new RegExp("^[^]*-----BEGIN "+v+"-----"),"")).replace(new RegExp("-----END "+v+"-----[^]*$"),""):(b=b.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Ft(b){var v,A,P,B,X,ue,Ee,ye,_e,Te,Oe;if(Oe=b.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return ye=Oe[1],v=parseInt(ye),ye.length===2&&(50<=v&&v<100?v=1900+v:0<=v&&v<50&&(v=2e3+v)),A=parseInt(Oe[2])-1,P=parseInt(Oe[3]),B=parseInt(Oe[4]),X=parseInt(Oe[5]),ue=parseInt(Oe[6]),Ee=0,(_e=Oe[7])!==""&&(Te=(_e.substr(1)+"00").substr(0,3),Ee=parseInt(Te)),Date.UTC(v,A,P,B,X,ue,Ee);throw"unsupported zulu format: "+b}function Zt(b){return~~(Ft(b)/1e3)}function nn(b){return b.replace(/%/g,"")}function Ln(b){return b.replace(/(..)/g,"%$1")}function $t(b){var v="malformed IPv6 address";if(!b.match(/^[0-9A-Fa-f:]+$/))throw v;var A=(b=b.toLowerCase()).split(":").length-1;if(A<2)throw v;var P=":".repeat(7-A+2),B=(b=b.replace("::",P)).split(":");if(B.length!=8)throw v;for(var X=0;X<8;X++)B[X]=("0000"+B[X]).slice(-4);return B.join("")}function en(b){if(!b.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var v=(b=b.toLowerCase()).match(/.{1,4}/g),A=0;A<8;A++)v[A]=v[A].replace(/^0+/,""),v[A]==""&&(v[A]="0");var P=(b=":"+v.join(":")+":").match(/:(0:){2,}/g);if(P===null)return b.slice(1,-1);var B="";for(A=0;A<P.length;A++)P[A].length>B.length&&(B=P[A]);return(b=b.replace(B,"::")).slice(1,-1)}function vn(b){var v="malformed hex value";if(!b.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw v;if(b.length!=8)return b.length==32?en(b):b;try{return parseInt(b.substr(0,2),16)+"."+parseInt(b.substr(2,2),16)+"."+parseInt(b.substr(4,2),16)+"."+parseInt(b.substr(6,2),16)}catch{throw v}}function on(b){return b.match(/.{4}/g).map(function(A){var P=parseInt(A.substr(0,2),16),B=parseInt(A.substr(2),16);if(P==0&B<128)return String.fromCharCode(B);if(P<8){var X=128|63&B;return Xt((192|(7&P)<<3|(192&B)>>6).toString(16)+X.toString(16))}X=128|(15&P)<<2|(192&B)>>6;var ue=128|63&B;return Xt((224|(240&P)>>4).toString(16)+X.toString(16)+ue.toString(16))}).join("")}function Un(b){for(var v=encodeURIComponent(b),A="",P=0;P<v.length;P++)v[P]=="%"?(A+=v.substr(P,3),P+=2):A=A+"%"+sn(v[P]);return A}function xn(b){return!(b.length%2!=0||!b.match(/^[0-9a-f]+$/)&&!b.match(/^[0-9A-F]+$/))}function Qn(b){return b.length%2==1?"0"+b:b.substr(0,1)>"7"?"00"+b:b}Qe.getLblen=function(b,v){if(b.substr(v+2,1)!="8")return 1;var A=parseInt(b.substr(v+3,1));return A==0?-1:0<A&&A<10?A+1:-2},Qe.getL=function(b,v){var A=Qe.getLblen(b,v);return A<1?"":b.substr(v+2,2*A)},Qe.getVblen=function(b,v){var A;return(A=Qe.getL(b,v))==""?-1:(A.substr(0,1)==="8"?new K(A.substr(2),16):new K(A,16)).intValue()},Qe.getVidx=function(b,v){var A=Qe.getLblen(b,v);return A<0?A:v+2*(A+1)},Qe.getV=function(b,v){var A=Qe.getVidx(b,v),P=Qe.getVblen(b,v);return b.substr(A,2*P)},Qe.getTLV=function(b,v){return b.substr(v,2)+Qe.getL(b,v)+Qe.getV(b,v)},Qe.getTLVblen=function(b,v){return 2+2*Qe.getLblen(b,v)+2*Qe.getVblen(b,v)},Qe.getNextSiblingIdx=function(b,v){return Qe.getVidx(b,v)+2*Qe.getVblen(b,v)},Qe.getChildIdx=function(b,v){var A,P,B,X=Qe,ue=[];A=X.getVidx(b,v),P=2*X.getVblen(b,v),b.substr(v,2)=="03"&&(A+=2,P-=2),B=0;for(var Ee=A;B<=P;){var ye=X.getTLVblen(b,Ee);if((B+=ye)<=P&&ue.push(Ee),Ee+=ye,B>=P)break}return ue},Qe.getNthChildIdx=function(b,v,A){return Qe.getChildIdx(b,v)[A]},Qe.getIdxbyList=function(b,v,A,P){var B,X,ue=Qe;return A.length==0?P!==void 0&&b.substr(v,2)!==P?-1:v:(B=A.shift())>=(X=ue.getChildIdx(b,v)).length?-1:ue.getIdxbyList(b,X[B],A,P)},Qe.getIdxbyListEx=function(b,v,A,P){var B,X,ue=Qe;if(A.length==0)return P!==void 0&&b.substr(v,2)!==P?-1:v;B=A.shift(),X=ue.getChildIdx(b,v);for(var Ee=0,ye=0;ye<X.length;ye++){var _e=b.substr(X[ye],2);if(typeof B=="number"&&!ue.isContextTag(_e)&&Ee==B||typeof B=="string"&&ue.isContextTag(_e,B))return ue.getIdxbyListEx(b,X[ye],A,P);ue.isContextTag(_e)||Ee++}return-1},Qe.getTLVbyList=function(b,v,A,P){var B=Qe,X=B.getIdxbyList(b,v,A,P);return X==-1||X>=b.length?null:B.getTLV(b,X)},Qe.getTLVbyListEx=function(b,v,A,P){var B=Qe,X=B.getIdxbyListEx(b,v,A,P);return X==-1?null:B.getTLV(b,X)},Qe.getVbyList=function(b,v,A,P,B){var X,ue,Ee=Qe;return(X=Ee.getIdxbyList(b,v,A,P))==-1||X>=b.length?null:(ue=Ee.getV(b,X),B===!0&&(ue=ue.substr(2)),ue)},Qe.getVbyListEx=function(b,v,A,P,B){var X,ue,Ee=Qe;return(X=Ee.getIdxbyListEx(b,v,A,P))==-1?null:(ue=Ee.getV(b,X),b.substr(X,2)=="03"&&B!==!1&&(ue=ue.substr(2)),ue)},Qe.getInt=function(b,v,A){A==null&&(A=-1);try{var P=b.substr(v,2);if(P!="02"&&P!="03")return A;var B=Qe.getV(b,v);return P=="02"?parseInt(B,16):function(ue){try{var Ee=ue.substr(0,2);if(Ee=="00")return parseInt(ue.substr(2),16);var ye=parseInt(Ee,16),_e=ue.substr(2),Te=parseInt(_e,16).toString(2);return Te=="0"&&(Te="00000000"),Te=Te.slice(0,0-ye),parseInt(Te,2)}catch{return-1}}(B)}catch{return A}},Qe.getOID=function(b,v,A){A==null&&(A=null);try{return b.substr(v,2)!="06"?A:function(B){if(!xn(B))return null;try{var X=[],ue=B.substr(0,2),Ee=parseInt(ue,16);X[0]=new String(Math.floor(Ee/40)),X[1]=new String(Ee%40);for(var ye=B.substr(2),_e=[],Te=0;Te<ye.length/2;Te++)_e.push(parseInt(ye.substr(2*Te,2),16));var Oe=[],ke="";for(Te=0;Te<_e.length;Te++)128&_e[Te]?ke+=mn((127&_e[Te]).toString(2),7):(ke+=mn((127&_e[Te]).toString(2),7),Oe.push(new String(parseInt(ke,2))),ke="");var We=X.join(".");return Oe.length>0&&(We=We+"."+Oe.join(".")),We}catch{return null}}(Qe.getV(b,v))}catch{return A}},Qe.getOIDName=function(b,v,A){A==null&&(A=null);try{var P=Qe.getOID(b,v,A);if(P==A)return A;var B=V.asn1.x509.OID.oid2name(P);return B==""?P:B}catch{return A}},Qe.getString=function(b,v,A){A==null&&(A=null);try{return zt(Qe.getV(b,v))}catch{return A}},Qe.hextooidstr=function(b){var v=function(ke,We){return ke.length>=We?ke:new Array(We-ke.length+1).join("0")+ke},A=[],P=b.substr(0,2),B=parseInt(P,16);A[0]=new String(Math.floor(B/40)),A[1]=new String(B%40);for(var X=b.substr(2),ue=[],Ee=0;Ee<X.length/2;Ee++)ue.push(parseInt(X.substr(2*Ee,2),16));var ye=[],_e="";for(Ee=0;Ee<ue.length;Ee++)128&ue[Ee]?_e+=v((127&ue[Ee]).toString(2),7):(_e+=v((127&ue[Ee]).toString(2),7),ye.push(new String(parseInt(_e,2))),_e="");var Te=A.join(".");return ye.length>0&&(Te=Te+"."+ye.join(".")),Te},Qe.dump=function(b,v,A,P){var B=Qe,X=B.getV,ue=B.dump,Ee=B.getChildIdx,ye=b;b instanceof V.asn1.ASN1Object&&(ye=b.getEncodedHex());var _e=function(Bt,Xn){return Bt.length<=2*Xn?Bt:Bt.substr(0,Xn)+"..(total "+Bt.length/2+"bytes).."+Bt.substr(Bt.length-Xn,Xn)};v===void 0&&(v={ommit_long_octet:32}),A===void 0&&(A=0),P===void 0&&(P="");var Te,Oe=v.ommit_long_octet;if((Te=ye.substr(A,2))=="01")return(ke=X(ye,A))=="00"?P+`BOOLEAN FALSE
`:P+`BOOLEAN TRUE
`;if(Te=="02")return P+"INTEGER "+_e(ke=X(ye,A),Oe)+`
`;if(Te=="03"){var ke=X(ye,A);if(B.isASN1HEX(ke.substr(2))){var We=P+`BITSTRING, encapsulates
`;return We+=ue(ke.substr(2),v,0,P+"  ")}return P+"BITSTRING "+_e(ke,Oe)+`
`}if(Te=="04")return ke=X(ye,A),B.isASN1HEX(ke)?(We=P+`OCTETSTRING, encapsulates
`,We+=ue(ke,v,0,P+"  ")):P+"OCTETSTRING "+_e(ke,Oe)+`
`;if(Te=="05")return P+`NULL
`;if(Te=="06"){var ut=X(ye,A),yt=V.asn1.ASN1Util.oidHexToInt(ut),Et=V.asn1.x509.OID.oid2name(yt),le=yt.replace(/\./g," ");return Et!=""?P+"ObjectIdentifier "+Et+" ("+le+`)
`:P+"ObjectIdentifier ("+le+`)
`}if(Te=="0a")return P+"ENUMERATED "+parseInt(X(ye,A))+`
`;if(Te=="0c")return P+"UTF8String '"+Xt(X(ye,A))+`'
`;if(Te=="13")return P+"PrintableString '"+Xt(X(ye,A))+`'
`;if(Te=="14")return P+"TeletexString '"+Xt(X(ye,A))+`'
`;if(Te=="16")return P+"IA5String '"+Xt(X(ye,A))+`'
`;if(Te=="17")return P+"UTCTime "+Xt(X(ye,A))+`
`;if(Te=="18")return P+"GeneralizedTime "+Xt(X(ye,A))+`
`;if(Te=="1a")return P+"VisualString '"+Xt(X(ye,A))+`'
`;if(Te=="1e")return P+"BMPString '"+on(X(ye,A))+`'
`;if(Te=="30"){if(ye.substr(A,4)=="3000")return P+`SEQUENCE {}
`;We=P+`SEQUENCE
`;var Ce=v;if(((ht=Ee(ye,A)).length==2||ht.length==3)&&ye.substr(ht[0],2)=="06"&&ye.substr(ht[ht.length-1],2)=="04"){Et=B.oidname(X(ye,ht[0]));var De=JSON.parse(JSON.stringify(v));De.x509ExtName=Et,Ce=De}for(var Ue=0;Ue<ht.length;Ue++)We+=ue(ye,Ce,ht[Ue],P+"  ");return We}if(Te=="31"){We=P+`SET
`;var ht=Ee(ye,A);for(Ue=0;Ue<ht.length;Ue++)We+=ue(ye,v,ht[Ue],P+"  ");return We}if((128&(Te=parseInt(Te,16)))!=0){var At=31&Te;if((32&Te)!=0){for(We=P+"["+At+`]
`,ht=Ee(ye,A),Ue=0;Ue<ht.length;Ue++)We+=ue(ye,v,ht[Ue],P+"  ");return We}if(ke=X(ye,A),Qe.isASN1HEX(ke)){var We=P+"["+At+`]
`;return We+=ue(ke,v,0,P+"  ")}return(ke.substr(0,8)=="68747470"||v.x509ExtName==="subjectAltName"&&At==2)&&(ke=Xt(ke)),We=P+"["+At+"] "+ke+`
`}return P+"UNKNOWN("+Te+") "+X(ye,A)+`
`},Qe.isContextTag=function(b,v){var A,P;b=b.toLowerCase();try{A=parseInt(b,16)}catch{return-1}if(v===void 0)return(192&A)==128;try{return v.match(/^\[[0-9]+\]$/)!=null&&!((P=parseInt(v.substr(1,v.length-1),10))>31)&&(192&A)==128&&(31&A)==P}catch{return!1}},Qe.isASN1HEX=function(b){var v=Qe;if(b.length%2==1)return!1;var A=v.getVblen(b,0),P=b.substr(0,2),B=v.getL(b,0);return b.length-P.length-B.length==2*A},Qe.checkStrictDER=function(b,v,A,P,B){var X=Qe;if(A===void 0){if(typeof b!="string")throw new Error("not hex string");if(b=b.toLowerCase(),!V.lang.String.isHex(b))throw new Error("not hex string");A=b.length,B=(P=b.length/2)<128?1:Math.ceil(P.toString(16))+1}if(X.getL(b,v).length>2*B)throw new Error("L of TLV too long: idx="+v);var ue=X.getVblen(b,v);if(ue>P)throw new Error("value of L too long than hex: idx="+v);var Ee=X.getTLV(b,v),ye=Ee.length-2-X.getL(b,v).length;if(ye!==2*ue)throw new Error("V string length and L's value not the same:"+ye+"/"+2*ue);if(v===0&&b.length!=Ee.length)throw new Error("total length and TLV length unmatch:"+b.length+"!="+Ee.length);var _e=b.substr(v,2);if(_e==="02"){var Te=X.getVidx(b,v);if(b.substr(Te,2)=="00"&&b.charCodeAt(Te+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(_e,16)){for(var Oe=X.getVblen(b,v),ke=0,We=X.getChildIdx(b,v),ut=0;ut<We.length;ut++)ke+=X.getTLV(b,We[ut]).length,X.checkStrictDER(b,We[ut],A,P,B);if(2*Oe!=ke)throw new Error("sum of children's TLV length and L unmatch: "+2*Oe+"!="+ke)}},Qe.oidname=function(b){var v=V.asn1;V.lang.String.isHex(b)&&(b=v.ASN1Util.oidHexToInt(b));var A=v.x509.OID.oid2name(b);return A===""&&(A=b),A},V!==void 0&&V||(i.KJUR=V={}),V.lang!==void 0&&V.lang||(V.lang={}),V.lang.String=function(){},typeof l=="function"?(i.utf8tob64u=Je=function(v){return ze(l.from(v,"utf8").toString("base64"))},i.b64utoutf8=ot=function(v){return l.from(wt(v),"base64").toString("utf8")}):(i.utf8tob64u=Je=function(v){return dt(nn(Un(v)))},i.b64utoutf8=ot=function(v){return decodeURIComponent(Ln(Be(v)))}),V.lang.String.isInteger=function(b){return!!b.match(/^[0-9]+$/)||!!b.match(/^-[0-9]+$/)},V.lang.String.isHex=function(b){return xn(b)},V.lang.String.isBase64=function(b){return!(!(b=b.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||b.length%4!=0)},V.lang.String.isBase64URL=function(b){return!b.match(/[+/=]/)&&(b=wt(b),V.lang.String.isBase64(b))},V.lang.String.isIntegerArray=function(b){return!!(b=b.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},V.lang.String.isPrintable=function(b){return b.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},V.lang.String.isIA5=function(b){return b.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},V.lang.String.isMail=function(b){return b.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var mn=function(v,A,P){return P==null&&(P="0"),v.length>=A?v:new Array(A-v.length+1).join(P)+v};function ln(b,v){var A=function(){};A.prototype=v.prototype,b.prototype=new A,b.prototype.constructor=b,b.superclass=v.prototype,v.prototype.constructor==Object.prototype.constructor&&(v.prototype.constructor=v)}V!==void 0&&V||(i.KJUR=V={}),V.crypto!==void 0&&V.crypto||(V.crypto={}),V.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:H.algo.MD5,sha1:H.algo.SHA1,sha224:H.algo.SHA224,sha256:H.algo.SHA256,sha384:H.algo.SHA384,sha512:H.algo.SHA512,ripemd160:H.algo.RIPEMD160},this.getDigestInfoHex=function(b,v){if(this.DIGESTINFOHEAD[v]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+v;return this.DIGESTINFOHEAD[v]+b},this.getPaddedDigestInfoHex=function(b,v,A){var P=this.getDigestInfoHex(b,v),B=A/4;if(P.length+22>B)throw"key is too short for SigAlg: keylen="+A+","+v;for(var X="0001",ue="00"+P,Ee="",ye=B-X.length-ue.length,_e=0;_e<ye;_e+=2)Ee+="ff";return X+Ee+ue},this.hashString=function(b,v){return new V.crypto.MessageDigest({alg:v}).digestString(b)},this.hashHex=function(b,v){return new V.crypto.MessageDigest({alg:v}).digestHex(b)},this.sha1=function(b){return this.hashString(b,"sha1")},this.sha256=function(b){return this.hashString(b,"sha256")},this.sha256Hex=function(b){return this.hashHex(b,"sha256")},this.sha512=function(b){return this.hashString(b,"sha512")},this.sha512Hex=function(b){return this.hashHex(b,"sha512")},this.isKey=function(b){return b instanceof Fe||b instanceof V.crypto.DSA||b instanceof V.crypto.ECDSA}},V.crypto.Util.md5=function(b){return new V.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(b)},V.crypto.Util.ripemd160=function(b){return new V.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(b)},V.crypto.Util.SECURERANDOMGEN=new bt,V.crypto.Util.getRandomHexOfNbytes=function(b){var v=new Array(b);return V.crypto.Util.SECURERANDOMGEN.nextBytes(v),qn(v)},V.crypto.Util.getRandomBigIntegerOfNbytes=function(b){return new K(V.crypto.Util.getRandomHexOfNbytes(b),16)},V.crypto.Util.getRandomHexOfNbits=function(b){var v=b%8,A=new Array((b-v)/8+1);return V.crypto.Util.SECURERANDOMGEN.nextBytes(A),A[0]=(255<<v&255^255)&A[0],qn(A)},V.crypto.Util.getRandomBigIntegerOfNbits=function(b){return new K(V.crypto.Util.getRandomHexOfNbits(b),16)},V.crypto.Util.getRandomBigIntegerZeroToMax=function(b){for(var v=b.bitLength();;){var A=V.crypto.Util.getRandomBigIntegerOfNbits(v);if(b.compareTo(A)!=-1)return A}},V.crypto.Util.getRandomBigIntegerMinToMax=function(b,v){var A=b.compareTo(v);if(A==1)throw"biMin is greater than biMax";if(A==0)return b;var P=v.subtract(b);return V.crypto.Util.getRandomBigIntegerZeroToMax(P).add(b)},V.crypto.MessageDigest=function(b){this.setAlgAndProvider=function(v,A){if((v=V.crypto.MessageDigest.getCanonicalAlgName(v))!==null&&A===void 0&&(A=V.crypto.Util.DEFAULTPROVIDER[v]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(v)!=-1&&A=="cryptojs"){try{this.md=V.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[v].create()}catch(P){throw"setAlgAndProvider hash alg set fail alg="+v+"/"+P}this.updateString=function(P){this.md.update(P)},this.updateHex=function(P){var B=H.enc.Hex.parse(P);this.md.update(B)},this.digest=function(){return this.md.finalize().toString(H.enc.Hex)},this.digestString=function(P){return this.updateString(P),this.digest()},this.digestHex=function(P){return this.updateHex(P),this.digest()}}if(":sha256:".indexOf(v)!=-1&&A=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(P){throw"setAlgAndProvider hash alg set fail alg="+v+"/"+P}this.updateString=function(P){this.md.update(P)},this.updateHex=function(P){var B=sjcl.codec.hex.toBits(P);this.md.update(B)},this.digest=function(){var P=this.md.finalize();return sjcl.codec.hex.fromBits(P)},this.digestString=function(P){return this.updateString(P),this.digest()},this.digestHex=function(P){return this.updateHex(P),this.digest()}}},this.updateString=function(v){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(v){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(v){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(v){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},b!==void 0&&b.alg!==void 0&&(this.algName=b.alg,b.prov===void 0&&(this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},V.crypto.MessageDigest.getCanonicalAlgName=function(b){return typeof b=="string"&&(b=(b=b.toLowerCase()).replace(/-/,"")),b},V.crypto.MessageDigest.getHashLength=function(b){var v=V.crypto.MessageDigest,A=v.getCanonicalAlgName(b);if(v.HASHLENGTH[A]===void 0)throw"not supported algorithm: "+b;return v.HASHLENGTH[A]},V.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},V.crypto.Mac=function(b){this.setAlgAndProvider=function(v,A){if((v=v.toLowerCase())==null&&(v="hmacsha1"),(v=v.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+v;A===void 0&&(A=V.crypto.Util.DEFAULTPROVIDER[v]),this.algProv=v+"/"+A;var P=v.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(P)!=-1&&A=="cryptojs"){try{var B=V.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[P];this.mac=H.algo.HMAC.create(B,this.pass)}catch(X){throw"setAlgAndProvider hash alg set fail hashAlg="+P+"/"+X}this.updateString=function(X){this.mac.update(X)},this.updateHex=function(X){var ue=H.enc.Hex.parse(X);this.mac.update(ue)},this.doFinal=function(){return this.mac.finalize().toString(H.enc.Hex)},this.doFinalString=function(X){return this.updateString(X),this.doFinal()},this.doFinalHex=function(X){return this.updateHex(X),this.doFinal()}}},this.updateString=function(v){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(v){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(v){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(v){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(v){if(typeof v=="string"){var A=v;return v.length%2!=1&&v.match(/^[0-9A-Fa-f]+$/)||(A=tn(v)),void(this.pass=H.enc.Hex.parse(A))}if((v===void 0?"undefined":E(v))!="object")throw"KJUR.crypto.Mac unsupported password type: "+v;if(A=null,v.hex!==void 0){if(v.hex.length%2!=0||!v.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+v.hex;A=v.hex}if(v.utf8!==void 0&&(A=pt(v.utf8)),v.rstr!==void 0&&(A=tn(v.rstr)),v.b64!==void 0&&(A=$(v.b64)),v.b64u!==void 0&&(A=Be(v.b64u)),A==null)throw"KJUR.crypto.Mac unsupported password type: "+v;this.pass=H.enc.Hex.parse(A)},b!==void 0&&(b.pass!==void 0&&this.setPassword(b.pass),b.alg!==void 0&&(this.algName=b.alg,b.prov===void 0&&(this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},V.crypto.Signature=function(b){var v=null;if(this._setAlgNames=function(){var A=this.algName.match(/^(.+)with(.+)$/);A&&(this.mdAlgName=A[1].toLowerCase(),this.pubkeyAlgName=A[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(A,P){for(var B="",X=P/4-A.length,ue=0;ue<X;ue++)B+="0";return B+A},this.setAlgAndProvider=function(A,P){if(this._setAlgNames(),P!="cryptojs/jsrsa")throw new Error("provider not supported: "+P);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new V.crypto.MessageDigest({alg:this.mdAlgName})}catch(B){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+B)}this.init=function(B,X){var ue=null;try{ue=X===void 0?Gt.getKey(B):Gt.getKey(B,X)}catch(Ee){throw"init failed:"+Ee}if(ue.isPrivate===!0)this.prvKey=ue,this.state="SIGN";else{if(ue.isPublic!==!0)throw"init failed.:"+ue;this.pubKey=ue,this.state="VERIFY"}},this.updateString=function(B){this.md.updateString(B)},this.updateHex=function(B){this.md.updateHex(B)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&V.crypto.ECDSA!==void 0&&(this.prvKey=new V.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Fe&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Fe&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof V.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof V.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(B){return this.updateString(B),this.sign()},this.signHex=function(B){return this.updateHex(B),this.sign()},this.verify=function(B){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&V.crypto.ECDSA!==void 0&&(this.pubKey=new V.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Fe&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,B,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Fe&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,B);if(V.crypto.ECDSA!==void 0&&this.pubKey instanceof V.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,B);if(V.crypto.DSA!==void 0&&this.pubKey instanceof V.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,B);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(A,P){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(A){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(A){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(A){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(A){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(A){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=b,b!==void 0&&(b.alg!==void 0&&(this.algName=b.alg,b.prov===void 0?this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=b.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),b.psssaltlen!==void 0&&(this.pssSaltLen=b.psssaltlen),b.prvkeypem!==void 0)){if(b.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{v=Gt.getKey(b.prvkeypem),this.init(v)}catch(A){throw"fatal error to load pem private key: "+A}}},V.crypto.Cipher=function(b){},V.crypto.Cipher.encrypt=function(b,v,A){if(v instanceof Fe&&v.isPublic){var P=V.crypto.Cipher.getAlgByKeyAndName(v,A);if(P==="RSA")return v.encrypt(b);if(P==="RSAOAEP")return v.encryptOAEP(b,"sha1");var B=P.match(/^RSAOAEP(\d+)$/);if(B!==null)return v.encryptOAEP(b,"sha"+B[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+A}throw"Cipher.encrypt: unsupported key or algorithm"},V.crypto.Cipher.decrypt=function(b,v,A){if(v instanceof Fe&&v.isPrivate){var P=V.crypto.Cipher.getAlgByKeyAndName(v,A);if(P==="RSA")return v.decrypt(b);if(P==="RSAOAEP")return v.decryptOAEP(b,"sha1");var B=P.match(/^RSAOAEP(\d+)$/);if(B!==null)return v.decryptOAEP(b,"sha"+B[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+A}throw"Cipher.decrypt: unsupported key or algorithm"},V.crypto.Cipher.getAlgByKeyAndName=function(b,v){if(b instanceof Fe){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(v)!=-1)return v;if(v==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+v}throw"getAlgByKeyAndName: not supported algorithm name: "+v},V.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},V!==void 0&&V||(i.KJUR=V={}),V.crypto!==void 0&&V.crypto||(V.crypto={}),V.crypto.ECDSA=function(b){var v=Error,A=K,P=Q,B=V.crypto.ECDSA,X=V.crypto.ECParameterDB,ue=B.getName,Ee=Qe,ye=Ee.getVbyListEx,_e=Ee.isASN1HEX,Te=new bt;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(Oe){return new A(Oe.bitLength(),Te).mod(Oe.subtract(A.ONE)).add(A.ONE)},this.setNamedCurve=function(Oe){this.ecparams=X.getByName(Oe),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=Oe},this.setPrivateKeyHex=function(Oe){this.isPrivate=!0,this.prvKeyHex=Oe},this.setPublicKeyHex=function(Oe){this.isPublic=!0,this.pubKeyHex=Oe},this.getPublicKeyXYHex=function(){var Oe=this.pubKeyHex;if(Oe.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var ke=this.ecparams.keylen/4;if(Oe.length!==2+2*ke)throw"malformed public key hex length";var We={};return We.x=Oe.substr(2,ke),We.y=Oe.substr(2+ke),We},this.getShortNISTPCurveName=function(){var Oe=this.curveName;return Oe==="secp256r1"||Oe==="NIST P-256"||Oe==="P-256"||Oe==="prime256v1"?"P-256":Oe==="secp384r1"||Oe==="NIST P-384"||Oe==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var Oe=this.ecparams.n,ke=this.getBigRandom(Oe),We=this.ecparams.G.multiply(ke),ut=We.getX().toBigInteger(),yt=We.getY().toBigInteger(),Et=this.ecparams.keylen/4,le=("0000000000"+ke.toString(16)).slice(-Et),Ce="04"+("0000000000"+ut.toString(16)).slice(-Et)+("0000000000"+yt.toString(16)).slice(-Et);return this.setPrivateKeyHex(le),this.setPublicKeyHex(Ce),{ecprvhex:le,ecpubhex:Ce}},this.signWithMessageHash=function(Oe){return this.signHex(Oe,this.prvKeyHex)},this.signHex=function(Oe,ke){var We=new A(ke,16),ut=this.ecparams.n,yt=new A(Oe.substring(0,this.ecparams.keylen/4),16);do var Et=this.getBigRandom(ut),le=this.ecparams.G.multiply(Et).getX().toBigInteger().mod(ut);while(le.compareTo(A.ZERO)<=0);var Ce=Et.modInverse(ut).multiply(yt.add(We.multiply(le))).mod(ut);return B.biRSSigToASN1Sig(le,Ce)},this.sign=function(Oe,ke){var We=ke,ut=this.ecparams.n,yt=A.fromByteArrayUnsigned(Oe);do var Et=this.getBigRandom(ut),le=this.ecparams.G.multiply(Et).getX().toBigInteger().mod(ut);while(le.compareTo(K.ZERO)<=0);var Ce=Et.modInverse(ut).multiply(yt.add(We.multiply(le))).mod(ut);return this.serializeSig(le,Ce)},this.verifyWithMessageHash=function(Oe,ke){return this.verifyHex(Oe,ke,this.pubKeyHex)},this.verifyHex=function(Oe,ke,We){try{var ut,yt,Et=B.parseSigHex(ke);ut=Et.r,yt=Et.s;var le=P.decodeFromHex(this.ecparams.curve,We),Ce=new A(Oe.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(Ce,ut,yt,le)}catch{return!1}},this.verify=function(Oe,ke,We){var ut,yt,Et;if(Bitcoin.Util.isArray(ke)){var le=this.parseSig(ke);ut=le.r,yt=le.s}else{if((ke===void 0?"undefined":E(ke))!=="object"||!ke.r||!ke.s)throw"Invalid value for signature";ut=ke.r,yt=ke.s}if(We instanceof Q)Et=We;else{if(!Bitcoin.Util.isArray(We))throw"Invalid format for pubkey value, must be byte array or ECPointFp";Et=P.decodeFrom(this.ecparams.curve,We)}var Ce=A.fromByteArrayUnsigned(Oe);return this.verifyRaw(Ce,ut,yt,Et)},this.verifyRaw=function(Oe,ke,We,ut){var yt=this.ecparams.n,Et=this.ecparams.G;if(ke.compareTo(A.ONE)<0||ke.compareTo(yt)>=0||We.compareTo(A.ONE)<0||We.compareTo(yt)>=0)return!1;var le=We.modInverse(yt),Ce=Oe.multiply(le).mod(yt),De=ke.multiply(le).mod(yt);return Et.multiply(Ce).add(ut.multiply(De)).getX().toBigInteger().mod(yt).equals(ke)},this.serializeSig=function(Oe,ke){var We=Oe.toByteArraySigned(),ut=ke.toByteArraySigned(),yt=[];return yt.push(2),yt.push(We.length),(yt=yt.concat(We)).push(2),yt.push(ut.length),(yt=yt.concat(ut)).unshift(yt.length),yt.unshift(48),yt},this.parseSig=function(Oe){var ke;if(Oe[0]!=48)throw new Error("Signature not a valid DERSequence");if(Oe[ke=2]!=2)throw new Error("First element in signature must be a DERInteger");var We=Oe.slice(ke+2,ke+2+Oe[ke+1]);if(Oe[ke+=2+Oe[ke+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var ut=Oe.slice(ke+2,ke+2+Oe[ke+1]);return ke+=2+Oe[ke+1],{r:A.fromByteArrayUnsigned(We),s:A.fromByteArrayUnsigned(ut)}},this.parseSigCompact=function(Oe){if(Oe.length!==65)throw"Signature has the wrong length";var ke=Oe[0]-27;if(ke<0||ke>7)throw"Invalid signature type";var We=this.ecparams.n;return{r:A.fromByteArrayUnsigned(Oe.slice(1,33)).mod(We),s:A.fromByteArrayUnsigned(Oe.slice(33,65)).mod(We),i:ke}},this.readPKCS5PrvKeyHex=function(Oe){if(_e(Oe)===!1)throw new Error("not ASN.1 hex string");var ke,We,ut;try{ke=ye(Oe,0,["[0]",0],"06"),We=ye(Oe,0,[1],"04");try{ut=ye(Oe,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=ue(ke),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(ut),this.setPrivateKeyHex(We),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(Oe){if(_e(Oe)===!1)throw new v("not ASN.1 hex string");var ke,We,ut;try{ye(Oe,0,[1,0],"06"),ke=ye(Oe,0,[1,1],"06"),We=ye(Oe,0,[2,0,1],"04");try{ut=ye(Oe,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new v("malformed PKCS#8 plain ECC private key")}if(this.curveName=ue(ke),this.curveName===void 0)throw new v("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ut),this.setPrivateKeyHex(We),this.isPublic=!1},this.readPKCS8PubKeyHex=function(Oe){if(_e(Oe)===!1)throw new v("not ASN.1 hex string");var ke,We;try{ye(Oe,0,[0,0],"06"),ke=ye(Oe,0,[0,1],"06"),We=ye(Oe,0,[1],"03")}catch{throw new v("malformed PKCS#8 ECC public key")}if(this.curveName=ue(ke),this.curveName===null)throw new v("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(We)},this.readCertPubKeyHex=function(Oe,ke){if(_e(Oe)===!1)throw new v("not ASN.1 hex string");var We,ut;try{We=ye(Oe,0,[0,5,0,1],"06"),ut=ye(Oe,0,[0,5,1],"03")}catch{throw new v("malformed X.509 certificate ECC public key")}if(this.curveName=ue(We),this.curveName===null)throw new v("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ut)},b!==void 0&&b.curve!==void 0&&(this.curveName=b.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),b!==void 0&&(b.prv!==void 0&&this.setPrivateKeyHex(b.prv),b.pub!==void 0&&this.setPublicKeyHex(b.pub))},V.crypto.ECDSA.parseSigHex=function(b){var v=V.crypto.ECDSA.parseSigHexInHexRS(b);return{r:new K(v.r,16),s:new K(v.s,16)}},V.crypto.ECDSA.parseSigHexInHexRS=function(b){var v=Qe,A=v.getChildIdx,P=v.getV;if(v.checkStrictDER(b,0),b.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var B=A(b,0);if(B.length!=2)throw new Error("signature shall have two elements");var X=B[0],ue=B[1];if(b.substr(X,2)!="02")throw new Error("1st item not ASN.1 integer");if(b.substr(ue,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:P(b,X),s:P(b,ue)}},V.crypto.ECDSA.asn1SigToConcatSig=function(b){var v=V.crypto.ECDSA.parseSigHexInHexRS(b),A=v.r,P=v.s;if(A.substr(0,2)=="00"&&A.length%32==2&&(A=A.substr(2)),P.substr(0,2)=="00"&&P.length%32==2&&(P=P.substr(2)),A.length%32==30&&(A="00"+A),P.length%32==30&&(P="00"+P),A.length%32!=0)throw"unknown ECDSA sig r length error";if(P.length%32!=0)throw"unknown ECDSA sig s length error";return A+P},V.crypto.ECDSA.concatSigToASN1Sig=function(b){if(b.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var v=b.substr(0,b.length/2),A=b.substr(b.length/2);return V.crypto.ECDSA.hexRSSigToASN1Sig(v,A)},V.crypto.ECDSA.hexRSSigToASN1Sig=function(b,v){var A=new K(b,16),P=new K(v,16);return V.crypto.ECDSA.biRSSigToASN1Sig(A,P)},V.crypto.ECDSA.biRSSigToASN1Sig=function(b,v){var A=V.asn1,P=new A.DERInteger({bigint:b}),B=new A.DERInteger({bigint:v});return new A.DERSequence({array:[P,B]}).getEncodedHex()},V.crypto.ECDSA.getName=function(b){return b==="2b8104001f"?"secp192k1":b==="2a8648ce3d030107"?"secp256r1":b==="2b8104000a"?"secp256k1":b==="2b81040021"?"secp224r1":b==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(b)!==-1?"secp256r1":"|secp256k1|".indexOf(b)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(b)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(b)!==-1?"secp384r1":null},V!==void 0&&V||(i.KJUR=V={}),V.crypto!==void 0&&V.crypto||(V.crypto={}),V.crypto.ECParameterDB=new function(){var b={},v={};function A(P){return new K(P,16)}this.getByName=function(P){var B=P;if(v[B]!==void 0&&(B=v[P]),b[B]!==void 0)return b[B];throw"unregistered EC curve name: "+B},this.regist=function(P,B,X,ue,Ee,ye,_e,Te,Oe,ke,We,ut){b[P]={};var yt=A(X),Et=A(ue),le=A(Ee),Ce=A(ye),De=A(_e),Ue=new j(yt,Et,le),ht=Ue.decodePointHex("04"+Te+Oe);b[P].name=P,b[P].keylen=B,b[P].curve=Ue,b[P].G=ht,b[P].n=Ce,b[P].h=De,b[P].oid=We,b[P].info=ut;for(var At=0;At<ke.length;At++)v[ke[At]]=P}},V.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),V.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),V.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),V.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),V.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),V.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),V.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),V.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),V.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),V.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var Gt=function(){var b=function(_e,Te,Oe){return v(H.AES,_e,Te,Oe)},v=function(_e,Te,Oe,ke){var We=H.enc.Hex.parse(Te),ut=H.enc.Hex.parse(Oe),yt=H.enc.Hex.parse(ke),Et={};Et.key=ut,Et.iv=yt,Et.ciphertext=We;var le=_e.decrypt(Et,ut,{iv:yt});return H.enc.Hex.stringify(le)},A=function(_e,Te,Oe){return P(H.AES,_e,Te,Oe)},P=function(_e,Te,Oe,ke){var We=H.enc.Hex.parse(Te),ut=H.enc.Hex.parse(Oe),yt=H.enc.Hex.parse(ke),Et=_e.encrypt(We,ut,{iv:yt}),le=H.enc.Hex.parse(Et.toString());return H.enc.Base64.stringify(le)},B={"AES-256-CBC":{proc:b,eproc:A,keylen:32,ivlen:16},"AES-192-CBC":{proc:b,eproc:A,keylen:24,ivlen:16},"AES-128-CBC":{proc:b,eproc:A,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(_e,Te,Oe){return v(H.TripleDES,_e,Te,Oe)},eproc:function(_e,Te,Oe){return P(H.TripleDES,_e,Te,Oe)},keylen:24,ivlen:8},"DES-CBC":{proc:function(_e,Te,Oe){return v(H.DES,_e,Te,Oe)},eproc:function(_e,Te,Oe){return P(H.DES,_e,Te,Oe)},keylen:8,ivlen:8}},X=function(_e){var Te={},Oe=_e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));Oe&&(Te.cipher=Oe[1],Te.ivsalt=Oe[2]);var ke=_e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));ke&&(Te.type=ke[1]);var We=-1,ut=0;_e.indexOf(`\r
\r
`)!=-1&&(We=_e.indexOf(`\r
\r
`),ut=2),_e.indexOf(`

`)!=-1&&(We=_e.indexOf(`

`),ut=1);var yt=_e.indexOf("-----END");if(We!=-1&&yt!=-1){var Et=_e.substring(We+2*ut,yt-ut);Et=Et.replace(/\s+/g,""),Te.data=Et}return Te},ue=function(_e,Te,Oe){for(var ke=Oe.substring(0,16),We=H.enc.Hex.parse(ke),ut=H.enc.Utf8.parse(Te),yt=B[_e].keylen+B[_e].ivlen,Et="",le=null;;){var Ce=H.algo.MD5.create();if(le!=null&&Ce.update(le),Ce.update(ut),Ce.update(We),le=Ce.finalize(),(Et+=H.enc.Hex.stringify(le)).length>=2*yt)break}var De={};return De.keyhex=Et.substr(0,2*B[_e].keylen),De.ivhex=Et.substr(2*B[_e].keylen,2*B[_e].ivlen),De},Ee=function(_e,Te,Oe,ke){var We=H.enc.Base64.parse(_e),ut=H.enc.Hex.stringify(We);return(0,B[Te].proc)(ut,Oe,ke)};return{version:"1.0.0",parsePKCS5PEM:function(_e){return X(_e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(_e,Te,Oe){return ue(_e,Te,Oe)},decryptKeyB64:function(_e,Te,Oe,ke){return Ee(_e,Te,Oe,ke)},getDecryptedKeyHex:function(_e,Te){var Oe=X(_e),ke=(Oe.type,Oe.cipher),We=Oe.ivsalt,ut=Oe.data,yt=ue(ke,Te,We).keyhex;return Ee(ut,ke,yt,We)},getEncryptedPKCS5PEMFromPrvKeyHex:function(_e,Te,Oe,ke,We){var ut="";if(ke!==void 0&&ke!=null||(ke="AES-256-CBC"),B[ke]===void 0)throw new Error("KEYUTIL unsupported algorithm: "+ke);We!==void 0&&We!=null||(We=function(le){var Ce=H.lib.WordArray.random(le);return H.enc.Hex.stringify(Ce)}(B[ke].ivlen).toUpperCase());var yt=function(le,Ce,De,Ue){return(0,B[Ce].eproc)(le,De,Ue)}(Te,ke,ue(ke,Oe,We).keyhex,We);return ut="-----BEGIN "+_e+` PRIVATE KEY-----\r
`,ut+=`Proc-Type: 4,ENCRYPTED\r
`,ut+="DEK-Info: "+ke+","+We+`\r
`,ut+=`\r
`,ut+=yt.replace(/(.{64})/g,`$1\r
`),ut+=`\r
-----END `+_e+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(_e){var Te=Qe,Oe=Te.getChildIdx,ke=Te.getV,We={},ut=Oe(_e,0);if(ut.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+ut.length);We.ciphertext=ke(_e,ut[1]);var yt=Oe(_e,ut[0]);if(yt.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+yt.length);if(ke(_e,yt[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var Et=Oe(_e,yt[1]);if(yt.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+Et.length);var le=Oe(_e,Et[1]);if(le.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+le.length);if(ke(_e,le[0])!="2a864886f70d0307")throw"this only supports TripleDES";We.encryptionSchemeAlg="TripleDES",We.encryptionSchemeIV=ke(_e,le[1]);var Ce=Oe(_e,Et[0]);if(Ce.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+Ce.length);if(ke(_e,Ce[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var De=Oe(_e,Ce[1]);if(De.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+De.length);We.pbkdf2Salt=ke(_e,De[0]);var Ue=ke(_e,De[1]);try{We.pbkdf2Iter=parseInt(Ue,16)}catch{throw new Error("malformed format pbkdf2Iter: "+Ue)}return We},getPBKDF2KeyHexFromParam:function(_e,Te){var Oe=H.enc.Hex.parse(_e.pbkdf2Salt),ke=_e.pbkdf2Iter,We=H.PBKDF2(Te,Oe,{keySize:6,iterations:ke});return H.enc.Hex.stringify(We)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(_e,Te){var Oe=Ct(_e,"ENCRYPTED PRIVATE KEY"),ke=this.parseHexOfEncryptedPKCS8(Oe),We=Gt.getPBKDF2KeyHexFromParam(ke,Te),ut={};ut.ciphertext=H.enc.Hex.parse(ke.ciphertext);var yt=H.enc.Hex.parse(We),Et=H.enc.Hex.parse(ke.encryptionSchemeIV),le=H.TripleDES.decrypt(ut,yt,{iv:Et});return H.enc.Hex.stringify(le)},getKeyFromEncryptedPKCS8PEM:function(_e,Te){var Oe=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(_e,Te);return this.getKeyFromPlainPrivatePKCS8Hex(Oe)},parsePlainPrivatePKCS8Hex:function(_e){var Te=Qe,Oe=Te.getChildIdx,ke=Te.getV,We={algparam:null};if(_e.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var ut=Oe(_e,0);if(ut.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(_e.substr(ut[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var yt=Oe(_e,ut[1]);if(yt.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(_e.substr(yt[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(We.algoid=ke(_e,yt[0]),_e.substr(yt[1],2)=="06"&&(We.algparam=ke(_e,yt[1])),_e.substr(ut[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return We.keyidx=Te.getVidx(_e,ut[2]),We},getKeyFromPlainPrivatePKCS8PEM:function(_e){var Te=Ct(_e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Te)},getKeyFromPlainPrivatePKCS8Hex:function(_e){var Te,Oe=this.parsePlainPrivatePKCS8Hex(_e);if(Oe.algoid=="2a864886f70d010101")Te=new Fe;else if(Oe.algoid=="2a8648ce380401")Te=new V.crypto.DSA;else{if(Oe.algoid!="2a8648ce3d0201")throw new Error("unsupported private key algorithm");Te=new V.crypto.ECDSA}return Te.readPKCS8PrvKeyHex(_e),Te},_getKeyFromPublicPKCS8Hex:function(_e){var Te,Oe=Qe.getVbyList(_e,0,[0,0],"06");if(Oe==="2a864886f70d010101")Te=new Fe;else if(Oe==="2a8648ce380401")Te=new V.crypto.DSA;else{if(Oe!=="2a8648ce3d0201")throw new Error("unsupported PKCS#8 public key hex");Te=new V.crypto.ECDSA}return Te.readPKCS8PubKeyHex(_e),Te},parsePublicRawRSAKeyHex:function(_e){var Te=Qe,Oe=Te.getChildIdx,ke=Te.getV,We={};if(_e.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var ut=Oe(_e,0);if(ut.length!=2)throw new Error("malformed RSA key(code:002)");if(_e.substr(ut[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(We.n=ke(_e,ut[0]),_e.substr(ut[1],2)!="02")throw new Error("malformed RSA key(code:004)");return We.e=ke(_e,ut[1]),We},parsePublicPKCS8Hex:function(_e){var Te=Qe,Oe=Te.getChildIdx,ke=Te.getV,We={algparam:null},ut=Oe(_e,0);if(ut.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+ut.length);var yt=ut[0];if(_e.substr(yt,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var Et=Oe(_e,yt);if(Et.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(_e.substr(Et[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(We.algoid=ke(_e,Et[0]),_e.substr(Et[1],2)=="06"?We.algparam=ke(_e,Et[1]):_e.substr(Et[1],2)=="30"&&(We.algparam={},We.algparam.p=Te.getVbyList(_e,Et[1],[0],"02"),We.algparam.q=Te.getVbyList(_e,Et[1],[1],"02"),We.algparam.g=Te.getVbyList(_e,Et[1],[2],"02")),_e.substr(ut[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return We.key=ke(_e,ut[1]).substr(2),We}}}();Gt.getKey=function(b,v,A){var P=(Et=Qe).getChildIdx,B=(Et.getV,Et.getVbyList),X=V.crypto,ue=X.ECDSA,Ee=X.DSA,ye=Fe,_e=Ct,Te=Gt;if(ye!==void 0&&b instanceof ye||ue!==void 0&&b instanceof ue||Ee!==void 0&&b instanceof Ee)return b;if(b.curve!==void 0&&b.xy!==void 0&&b.d===void 0)return new ue({pub:b.xy,curve:b.curve});if(b.curve!==void 0&&b.d!==void 0)return new ue({prv:b.d,curve:b.curve});if(b.kty===void 0&&b.n!==void 0&&b.e!==void 0&&b.d===void 0)return(gn=new ye).setPublic(b.n,b.e),gn;if(b.kty===void 0&&b.n!==void 0&&b.e!==void 0&&b.d!==void 0&&b.p!==void 0&&b.q!==void 0&&b.dp!==void 0&&b.dq!==void 0&&b.co!==void 0&&b.qi===void 0)return(gn=new ye).setPrivateEx(b.n,b.e,b.d,b.p,b.q,b.dp,b.dq,b.co),gn;if(b.kty===void 0&&b.n!==void 0&&b.e!==void 0&&b.d!==void 0&&b.p===void 0)return(gn=new ye).setPrivate(b.n,b.e,b.d),gn;if(b.p!==void 0&&b.q!==void 0&&b.g!==void 0&&b.y!==void 0&&b.x===void 0)return(gn=new Ee).setPublic(b.p,b.q,b.g,b.y),gn;if(b.p!==void 0&&b.q!==void 0&&b.g!==void 0&&b.y!==void 0&&b.x!==void 0)return(gn=new Ee).setPrivate(b.p,b.q,b.g,b.y,b.x),gn;if(b.kty==="RSA"&&b.n!==void 0&&b.e!==void 0&&b.d===void 0)return(gn=new ye).setPublic(Be(b.n),Be(b.e)),gn;if(b.kty==="RSA"&&b.n!==void 0&&b.e!==void 0&&b.d!==void 0&&b.p!==void 0&&b.q!==void 0&&b.dp!==void 0&&b.dq!==void 0&&b.qi!==void 0)return(gn=new ye).setPrivateEx(Be(b.n),Be(b.e),Be(b.d),Be(b.p),Be(b.q),Be(b.dp),Be(b.dq),Be(b.qi)),gn;if(b.kty==="RSA"&&b.n!==void 0&&b.e!==void 0&&b.d!==void 0)return(gn=new ye).setPrivate(Be(b.n),Be(b.e),Be(b.d)),gn;if(b.kty==="EC"&&b.crv!==void 0&&b.x!==void 0&&b.y!==void 0&&b.d===void 0){var Oe=(un=new ue({curve:b.crv})).ecparams.keylen/4,ke="04"+("0000000000"+Be(b.x)).slice(-Oe)+("0000000000"+Be(b.y)).slice(-Oe);return un.setPublicKeyHex(ke),un}if(b.kty==="EC"&&b.crv!==void 0&&b.x!==void 0&&b.y!==void 0&&b.d!==void 0){Oe=(un=new ue({curve:b.crv})).ecparams.keylen/4,ke="04"+("0000000000"+Be(b.x)).slice(-Oe)+("0000000000"+Be(b.y)).slice(-Oe);var We=("0000000000"+Be(b.d)).slice(-Oe);return un.setPublicKeyHex(ke),un.setPrivateKeyHex(We),un}if(A==="pkcs5prv"){var ut,yt=b,Et=Qe;if((ut=P(yt,0)).length===9)(gn=new ye).readPKCS5PrvKeyHex(yt);else if(ut.length===6)(gn=new Ee).readPKCS5PrvKeyHex(yt);else{if(!(ut.length>2&&yt.substr(ut[1],2)==="04"))throw new Error("unsupported PKCS#1/5 hexadecimal key");(gn=new ue).readPKCS5PrvKeyHex(yt)}return gn}if(A==="pkcs8prv")return gn=Te.getKeyFromPlainPrivatePKCS8Hex(b);if(A==="pkcs8pub")return Te._getKeyFromPublicPKCS8Hex(b);if(A==="x509pub")return kn.getPublicKeyFromCertHex(b);if(b.indexOf("-END CERTIFICATE-",0)!=-1||b.indexOf("-END X509 CERTIFICATE-",0)!=-1||b.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return kn.getPublicKeyFromCertPEM(b);if(b.indexOf("-END PUBLIC KEY-")!=-1){var le=Ct(b,"PUBLIC KEY");return Te._getKeyFromPublicPKCS8Hex(le)}if(b.indexOf("-END RSA PRIVATE KEY-")!=-1&&b.indexOf("4,ENCRYPTED")==-1){var Ce=_e(b,"RSA PRIVATE KEY");return Te.getKey(Ce,null,"pkcs5prv")}if(b.indexOf("-END DSA PRIVATE KEY-")!=-1&&b.indexOf("4,ENCRYPTED")==-1){var De=B(lr=_e(b,"DSA PRIVATE KEY"),0,[1],"02"),Ue=B(lr,0,[2],"02"),ht=B(lr,0,[3],"02"),At=B(lr,0,[4],"02"),dn=B(lr,0,[5],"02");return(gn=new Ee).setPrivate(new K(De,16),new K(Ue,16),new K(ht,16),new K(At,16),new K(dn,16)),gn}if(b.indexOf("-END EC PRIVATE KEY-")!=-1&&b.indexOf("4,ENCRYPTED")==-1)return Ce=_e(b,"EC PRIVATE KEY"),Te.getKey(Ce,null,"pkcs5prv");if(b.indexOf("-END PRIVATE KEY-")!=-1)return Te.getKeyFromPlainPrivatePKCS8PEM(b);if(b.indexOf("-END RSA PRIVATE KEY-")!=-1&&b.indexOf("4,ENCRYPTED")!=-1){var Bt=Te.getDecryptedKeyHex(b,v),Xn=new Fe;return Xn.readPKCS5PrvKeyHex(Bt),Xn}if(b.indexOf("-END EC PRIVATE KEY-")!=-1&&b.indexOf("4,ENCRYPTED")!=-1){var un,gn=B(lr=Te.getDecryptedKeyHex(b,v),0,[1],"04"),sr=B(lr,0,[2,0],"06"),hn=B(lr,0,[3,0],"03").substr(2);if(V.crypto.OID.oidhex2name[sr]===void 0)throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+sr);return(un=new ue({curve:V.crypto.OID.oidhex2name[sr]})).setPublicKeyHex(hn),un.setPrivateKeyHex(gn),un.isPublic=!1,un}if(b.indexOf("-END DSA PRIVATE KEY-")!=-1&&b.indexOf("4,ENCRYPTED")!=-1){var lr;return De=B(lr=Te.getDecryptedKeyHex(b,v),0,[1],"02"),Ue=B(lr,0,[2],"02"),ht=B(lr,0,[3],"02"),At=B(lr,0,[4],"02"),dn=B(lr,0,[5],"02"),(gn=new Ee).setPrivate(new K(De,16),new K(Ue,16),new K(ht,16),new K(At,16),new K(dn,16)),gn}if(b.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return Te.getKeyFromEncryptedPKCS8PEM(b,v);throw new Error("not supported argument")},Gt.generateKeypair=function(b,v){if(b=="RSA"){var A=v;(ue=new Fe).generate(A,"10001"),ue.isPrivate=!0,ue.isPublic=!0;var P=new Fe,B=ue.n.toString(16),X=ue.e.toString(16);return P.setPublic(B,X),P.isPrivate=!1,P.isPublic=!0,(Ee={}).prvKeyObj=ue,Ee.pubKeyObj=P,Ee}if(b=="EC"){var ue,Ee,ye=v,_e=new V.crypto.ECDSA({curve:ye}).generateKeyPairHex();return(ue=new V.crypto.ECDSA({curve:ye})).setPublicKeyHex(_e.ecpubhex),ue.setPrivateKeyHex(_e.ecprvhex),ue.isPrivate=!0,ue.isPublic=!1,(P=new V.crypto.ECDSA({curve:ye})).setPublicKeyHex(_e.ecpubhex),P.isPrivate=!1,P.isPublic=!0,(Ee={}).prvKeyObj=ue,Ee.pubKeyObj=P,Ee}throw new Error("unknown algorithm: "+b)},Gt.getPEM=function(b,v,A,P,B,X){var ue=V,Ee=ue.asn1,ye=Ee.DERObjectIdentifier,_e=Ee.DERInteger,Te=Ee.ASN1Util.newObject,Oe=Ee.x509.SubjectPublicKeyInfo,ke=ue.crypto,We=ke.DSA,ut=ke.ECDSA,yt=Fe;function Et(un){return Te({seq:[{int:0},{int:{bigint:un.n}},{int:un.e},{int:{bigint:un.d}},{int:{bigint:un.p}},{int:{bigint:un.q}},{int:{bigint:un.dmp1}},{int:{bigint:un.dmq1}},{int:{bigint:un.coeff}}]})}function le(un){return Te({seq:[{int:1},{octstr:{hex:un.prvKeyHex}},{tag:["a0",!0,{oid:{name:un.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+un.pubKeyHex}}]}]})}function Ce(un){return Te({seq:[{int:0},{int:{bigint:un.p}},{int:{bigint:un.q}},{int:{bigint:un.g}},{int:{bigint:un.y}},{int:{bigint:un.x}}]})}if((yt!==void 0&&b instanceof yt||We!==void 0&&b instanceof We||ut!==void 0&&b instanceof ut)&&b.isPublic==1&&(v===void 0||v=="PKCS8PUB"))return Ot(At=new Oe(b).getEncodedHex(),"PUBLIC KEY");if(v=="PKCS1PRV"&&yt!==void 0&&b instanceof yt&&(A===void 0||A==null)&&b.isPrivate==1)return Ot(At=Et(b).getEncodedHex(),"RSA PRIVATE KEY");if(v=="PKCS1PRV"&&ut!==void 0&&b instanceof ut&&(A===void 0||A==null)&&b.isPrivate==1){var De=new ye({name:b.curveName}).getEncodedHex(),Ue=le(b).getEncodedHex(),ht="";return ht+=Ot(De,"EC PARAMETERS"),ht+=Ot(Ue,"EC PRIVATE KEY")}if(v=="PKCS1PRV"&&We!==void 0&&b instanceof We&&(A===void 0||A==null)&&b.isPrivate==1)return Ot(At=Ce(b).getEncodedHex(),"DSA PRIVATE KEY");if(v=="PKCS5PRV"&&yt!==void 0&&b instanceof yt&&A!==void 0&&A!=null&&b.isPrivate==1){var At=Et(b).getEncodedHex();return P===void 0&&(P="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",At,A,P,X)}if(v=="PKCS5PRV"&&ut!==void 0&&b instanceof ut&&A!==void 0&&A!=null&&b.isPrivate==1)return At=le(b).getEncodedHex(),P===void 0&&(P="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",At,A,P,X);if(v=="PKCS5PRV"&&We!==void 0&&b instanceof We&&A!==void 0&&A!=null&&b.isPrivate==1)return At=Ce(b).getEncodedHex(),P===void 0&&(P="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",At,A,P,X);var dn=function(gn,sr){var hn=Bt(gn,sr);return new Te({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:hn.pbkdf2Salt}},{int:hn.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:hn.encryptionSchemeIV}}]}]}]},{octstr:{hex:hn.ciphertext}}]}).getEncodedHex()},Bt=function(gn,sr){var hn=H.lib.WordArray.random(8),lr=H.lib.WordArray.random(8),ar=H.PBKDF2(sr,hn,{keySize:6,iterations:100}),Lr=H.enc.Hex.parse(gn),rr=H.TripleDES.encrypt(Lr,ar,{iv:lr})+"",or={};return or.ciphertext=rr,or.pbkdf2Salt=H.enc.Hex.stringify(hn),or.pbkdf2Iter=100,or.encryptionSchemeAlg="DES-EDE3-CBC",or.encryptionSchemeIV=H.enc.Hex.stringify(lr),or};if(v=="PKCS8PRV"&&yt!=null&&b instanceof yt&&b.isPrivate==1){var Xn=Et(b).getEncodedHex();return At=Te({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:Xn}}]}).getEncodedHex(),A===void 0||A==null?Ot(At,"PRIVATE KEY"):Ot(Ue=dn(At,A),"ENCRYPTED PRIVATE KEY")}if(v=="PKCS8PRV"&&ut!==void 0&&b instanceof ut&&b.isPrivate==1)return Xn=new Te({seq:[{int:1},{octstr:{hex:b.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+b.pubKeyHex}}]}]}).getEncodedHex(),At=Te({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:b.curveName}}]},{octstr:{hex:Xn}}]}).getEncodedHex(),A===void 0||A==null?Ot(At,"PRIVATE KEY"):Ot(Ue=dn(At,A),"ENCRYPTED PRIVATE KEY");if(v=="PKCS8PRV"&&We!==void 0&&b instanceof We&&b.isPrivate==1)return Xn=new _e({bigint:b.x}).getEncodedHex(),At=Te({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:b.p}},{int:{bigint:b.q}},{int:{bigint:b.g}}]}]},{octstr:{hex:Xn}}]}).getEncodedHex(),A===void 0||A==null?Ot(At,"PRIVATE KEY"):Ot(Ue=dn(At,A),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},Gt.getKeyFromCSRPEM=function(b){var v=Ct(b,"CERTIFICATE REQUEST");return Gt.getKeyFromCSRHex(v)},Gt.getKeyFromCSRHex=function(b){var v=Gt.parseCSRHex(b);return Gt.getKey(v.p8pubkeyhex,null,"pkcs8pub")},Gt.parseCSRHex=function(b){var v=Qe,A=v.getChildIdx,P=v.getTLV,B={},X=b;if(X.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var ue=A(X,0);if(ue.length<1)throw new Error("malformed CSR(code:002)");if(X.substr(ue[0],2)!="30")throw new Error("malformed CSR(code:003)");var Ee=A(X,ue[0]);if(Ee.length<3)throw new Error("malformed CSR(code:004)");return B.p8pubkeyhex=P(X,Ee[2]),B},Gt.getKeyID=function(b){var v=Gt,A=Qe;typeof b=="string"&&b.indexOf("BEGIN ")!=-1&&(b=v.getKey(b));var P=Ct(v.getPEM(b)),B=A.getIdxbyList(P,0,[1]),X=A.getV(P,B).substring(2);return V.crypto.Util.hashHex(X,"sha1")},Gt.getJWKFromKey=function(b){var v={};if(b instanceof Fe&&b.isPrivate)return v.kty="RSA",v.n=dt(b.n.toString(16)),v.e=dt(b.e.toString(16)),v.d=dt(b.d.toString(16)),v.p=dt(b.p.toString(16)),v.q=dt(b.q.toString(16)),v.dp=dt(b.dmp1.toString(16)),v.dq=dt(b.dmq1.toString(16)),v.qi=dt(b.coeff.toString(16)),v;if(b instanceof Fe&&b.isPublic)return v.kty="RSA",v.n=dt(b.n.toString(16)),v.e=dt(b.e.toString(16)),v;if(b instanceof V.crypto.ECDSA&&b.isPrivate){if((P=b.getShortNISTPCurveName())!=="P-256"&&P!=="P-384")throw new Error("unsupported curve name for JWT: "+P);var A=b.getPublicKeyXYHex();return v.kty="EC",v.crv=P,v.x=dt(A.x),v.y=dt(A.y),v.d=dt(b.prvKeyHex),v}if(b instanceof V.crypto.ECDSA&&b.isPublic){var P;if((P=b.getShortNISTPCurveName())!=="P-256"&&P!=="P-384")throw new Error("unsupported curve name for JWT: "+P);return A=b.getPublicKeyXYHex(),v.kty="EC",v.crv=P,v.x=dt(A.x),v.y=dt(A.y),v}throw new Error("not supported key object")},Fe.getPosArrayOfChildrenFromHex=function(b){return Qe.getChildIdx(b,0)},Fe.getHexValueArrayOfChildrenFromHex=function(b){var v,A=Qe.getV,P=A(b,(v=Fe.getPosArrayOfChildrenFromHex(b))[0]),B=A(b,v[1]),X=A(b,v[2]),ue=A(b,v[3]),Ee=A(b,v[4]),ye=A(b,v[5]),_e=A(b,v[6]),Te=A(b,v[7]),Oe=A(b,v[8]);return(v=new Array).push(P,B,X,ue,Ee,ye,_e,Te,Oe),v},Fe.prototype.readPrivateKeyFromPEMString=function(b){var v=Ct(b),A=Fe.getHexValueArrayOfChildrenFromHex(v);this.setPrivateEx(A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8])},Fe.prototype.readPKCS5PrvKeyHex=function(b){var v=Fe.getHexValueArrayOfChildrenFromHex(b);this.setPrivateEx(v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8])},Fe.prototype.readPKCS8PrvKeyHex=function(b){var v,A,P,B,X,ue,Ee,ye,_e=Qe,Te=_e.getVbyListEx;if(_e.isASN1HEX(b)===!1)throw new Error("not ASN.1 hex string");try{v=Te(b,0,[2,0,1],"02"),A=Te(b,0,[2,0,2],"02"),P=Te(b,0,[2,0,3],"02"),B=Te(b,0,[2,0,4],"02"),X=Te(b,0,[2,0,5],"02"),ue=Te(b,0,[2,0,6],"02"),Ee=Te(b,0,[2,0,7],"02"),ye=Te(b,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(v,A,P,B,X,ue,Ee,ye)},Fe.prototype.readPKCS5PubKeyHex=function(b){var v=Qe,A=v.getV;if(v.isASN1HEX(b)===!1)throw new Error("keyHex is not ASN.1 hex string");var P=v.getChildIdx(b,0);if(P.length!==2||b.substr(P[0],2)!=="02"||b.substr(P[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var B=A(b,P[0]),X=A(b,P[1]);this.setPublic(B,X)},Fe.prototype.readPKCS8PubKeyHex=function(b){var v=Qe;if(v.isASN1HEX(b)===!1)throw new Error("not ASN.1 hex string");if(v.getTLVbyListEx(b,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var A=v.getTLVbyListEx(b,0,[1,0]);this.readPKCS5PubKeyHex(A)},Fe.prototype.readCertPubKeyHex=function(b,v){var A,P;(A=new kn).readCertHex(b),P=A.getPublicKeyHex(),this.readPKCS8PubKeyHex(P)};function nr(b,v){for(var A="",P=v/4-b.length,B=0;B<P;B++)A+="0";return A+b}function Mr(b,v,A){for(var P="",B=0;P.length<v;)P+=zt(A(tn(b+String.fromCharCode.apply(String,[(4278190080&B)>>24,(16711680&B)>>16,(65280&B)>>8,255&B])))),B+=1;return P}function yr(b){for(var v in V.crypto.Util.DIGESTINFOHEAD){var A=V.crypto.Util.DIGESTINFOHEAD[v],P=A.length;if(b.substring(0,P)==A)return[v,b.substring(P)]}return[]}function kn(b){var v,A=Qe,P=A.getChildIdx,B=A.getV,X=A.getTLV,ue=A.getVbyList,Ee=A.getVbyListEx,ye=A.getTLVbyList,_e=A.getTLVbyListEx,Te=A.getIdxbyList,Oe=A.getIdxbyListEx,ke=A.getVidx,We=A.getInt,ut=A.oidname,yt=A.hextooidstr,Et=Ct;try{v=V.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var le=ye(this.hex,0,[0,0]);if(le.substr(0,2)=="a0"){var Ce=ye(le,0,[0]),De=We(Ce,0);if(De<0||2<De)throw new Error("malformed version field");return this.version=De+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return Ee(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var le=_e(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(le)},this.getAlgorithmIdentifierName=function(le){for(var Ce in v)if(le===v[Ce])return Ce;return ut(Ee(le,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return ye(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return ye(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var le=ue(this.hex,0,[0,4+this.foffset,0]);return le=le.replace(/(..)/g,"%$1"),le=decodeURIComponent(le)},this.getNotAfter=function(){var le=ue(this.hex,0,[0,4+this.foffset,1]);return le=le.replace(/(..)/g,"%$1"),le=decodeURIComponent(le)},this.getPublicKeyHex=function(){return A.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Te(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var le=this.getPublicKeyIdx();return Te(this.hex,le,[1,0],"30")},this.getPublicKey=function(){return Gt.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var le=ye(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(le)},this.getSignatureValueHex=function(){return ue(this.hex,0,[2],"03",!0)},this.verifySignature=function(le){var Ce=this.getSignatureAlgorithmField(),De=this.getSignatureValueHex(),Ue=ye(this.hex,0,[0],"30"),ht=new V.crypto.Signature({alg:Ce});return ht.init(le),ht.updateHex(Ue),ht.verify(De)},this.parseExt=function(le){var Ce,De,Ue;if(le===void 0){if(Ue=this.hex,this.version!==3)return-1;Ce=Te(Ue,0,[0,7,0],"30"),De=P(Ue,Ce)}else{Ue=Ct(le);var ht=Te(Ue,0,[0,3,0,0],"06");if(B(Ue,ht)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);Ce=Te(Ue,0,[0,3,0,1,0],"30"),De=P(Ue,Ce),this.hex=Ue}this.aExtInfo=new Array;for(var At=0;At<De.length;At++){var dn={critical:!1},Bt=0;P(Ue,De[At]).length===3&&(dn.critical=!0,Bt=1),dn.oid=A.hextooidstr(ue(Ue,De[At],[0],"06"));var Xn=Te(Ue,De[At],[1+Bt]);dn.vidx=ke(Ue,Xn),this.aExtInfo.push(dn)}},this.getExtInfo=function(le){var Ce=this.aExtInfo,De=le;if(le.match(/^[0-9.]+$/)||(De=V.asn1.x509.OID.name2oid(le)),De!==""){for(var Ue=0;Ue<Ce.length;Ue++)if(Ce[Ue].oid===De)return Ce[Ue]}},this.getExtBasicConstraints=function(le,Ce){if(le===void 0&&Ce===void 0){var De=this.getExtInfo("basicConstraints");if(De===void 0)return;le=X(this.hex,De.vidx),Ce=De.critical}var Ue={extname:"basicConstraints"};if(Ce&&(Ue.critical=!0),le==="3000")return Ue;if(le==="30030101ff")return Ue.cA=!0,Ue;if(le.substr(0,12)==="30060101ff02"){var ht=B(le,10),At=parseInt(ht,16);return Ue.cA=!0,Ue.pathLen=At,Ue}throw new Error("hExtV parse error: "+le)},this.getExtKeyUsage=function(le,Ce){if(le===void 0&&Ce===void 0){var De=this.getExtInfo("keyUsage");if(De===void 0)return;le=X(this.hex,De.vidx),Ce=De.critical}var Ue={extname:"keyUsage"};return Ce&&(Ue.critical=!0),Ue.names=this.getExtKeyUsageString(le).split(","),Ue},this.getExtKeyUsageBin=function(le){if(le===void 0){var Ce=this.getExtInfo("keyUsage");if(Ce===void 0)return"";le=X(this.hex,Ce.vidx)}if(le.length!=8&&le.length!=10)throw new Error("malformed key usage value: "+le);var De="000000000000000"+parseInt(le.substr(6),16).toString(2);return le.length==8&&(De=De.slice(-8)),le.length==10&&(De=De.slice(-16)),(De=De.replace(/0+$/,""))==""&&(De="0"),De},this.getExtKeyUsageString=function(le){for(var Ce=this.getExtKeyUsageBin(le),De=new Array,Ue=0;Ue<Ce.length;Ue++)Ce.substr(Ue,1)=="1"&&De.push(kn.KEYUSAGE_NAME[Ue]);return De.join(",")},this.getExtSubjectKeyIdentifier=function(le,Ce){if(le===void 0&&Ce===void 0){var De=this.getExtInfo("subjectKeyIdentifier");if(De===void 0)return;le=X(this.hex,De.vidx),Ce=De.critical}var Ue={extname:"subjectKeyIdentifier"};Ce&&(Ue.critical=!0);var ht=B(le,0);return Ue.kid={hex:ht},Ue},this.getExtAuthorityKeyIdentifier=function(le,Ce){if(le===void 0&&Ce===void 0){var De=this.getExtInfo("authorityKeyIdentifier");if(De===void 0)return;le=X(this.hex,De.vidx),Ce=De.critical}var Ue={extname:"authorityKeyIdentifier"};Ce&&(Ue.critical=!0);for(var ht=P(le,0),At=0;At<ht.length;At++){var dn=le.substr(ht[At],2);if(dn==="80"&&(Ue.kid={hex:B(le,ht[At])}),dn==="a1"){var Bt=X(le,ht[At]),Xn=this.getGeneralNames(Bt);Ue.issuer=Xn[0].dn}dn==="82"&&(Ue.sn={hex:B(le,ht[At])})}return Ue},this.getExtExtKeyUsage=function(le,Ce){if(le===void 0&&Ce===void 0){var De=this.getExtInfo("extKeyUsage");if(De===void 0)return;le=X(this.hex,De.vidx),Ce=De.critical}var Ue={extname:"extKeyUsage",array:[]};Ce&&(Ue.critical=!0);for(var ht=P(le,0),At=0;At<ht.length;At++)Ue.array.push(ut(B(le,ht[At])));return Ue},this.getExtExtKeyUsageName=function(){var le=this.getExtInfo("extKeyUsage");if(le===void 0)return le;var Ce=new Array,De=X(this.hex,le.vidx);if(De==="")return Ce;for(var Ue=P(De,0),ht=0;ht<Ue.length;ht++)Ce.push(ut(B(De,Ue[ht])));return Ce},this.getExtSubjectAltName=function(le,Ce){if(le===void 0&&Ce===void 0){var De=this.getExtInfo("subjectAltName");if(De===void 0)return;le=X(this.hex,De.vidx),Ce=De.critical}var Ue={extname:"subjectAltName",array:[]};return Ce&&(Ue.critical=!0),Ue.array=this.getGeneralNames(le),Ue},this.getExtIssuerAltName=function(le,Ce){if(le===void 0&&Ce===void 0){var De=this.getExtInfo("issuerAltName");if(De===void 0)return;le=X(this.hex,De.vidx),Ce=De.critical}var Ue={extname:"issuerAltName",array:[]};return Ce&&(Ue.critical=!0),Ue.array=this.getGeneralNames(le),Ue},this.getGeneralNames=function(le){for(var Ce=P(le,0),De=[],Ue=0;Ue<Ce.length;Ue++){var ht=this.getGeneralName(X(le,Ce[Ue]));ht!==void 0&&De.push(ht)}return De},this.getGeneralName=function(le){var Ce=le.substr(0,2),De=B(le,0),Ue=zt(De);return Ce=="81"?{rfc822:Ue}:Ce=="82"?{dns:Ue}:Ce=="86"?{uri:Ue}:Ce=="87"?{ip:vn(De)}:Ce=="a4"?{dn:this.getX500Name(De)}:void 0},this.getExtSubjectAltName2=function(){var le,Ce,De,Ue=this.getExtInfo("subjectAltName");if(Ue===void 0)return Ue;for(var ht=new Array,At=X(this.hex,Ue.vidx),dn=P(At,0),Bt=0;Bt<dn.length;Bt++)De=At.substr(dn[Bt],2),le=B(At,dn[Bt]),De==="81"&&(Ce=Xt(le),ht.push(["MAIL",Ce])),De==="82"&&(Ce=Xt(le),ht.push(["DNS",Ce])),De==="84"&&(Ce=kn.hex2dn(le,0),ht.push(["DN",Ce])),De==="86"&&(Ce=Xt(le),ht.push(["URI",Ce])),De==="87"&&(Ce=vn(le),ht.push(["IP",Ce]));return ht},this.getExtCRLDistributionPoints=function(le,Ce){if(le===void 0&&Ce===void 0){var De=this.getExtInfo("cRLDistributionPoints");if(De===void 0)return;le=X(this.hex,De.vidx),Ce=De.critical}var Ue={extname:"cRLDistributionPoints",array:[]};Ce&&(Ue.critical=!0);for(var ht=P(le,0),At=0;At<ht.length;At++){var dn=X(le,ht[At]);Ue.array.push(this.getDistributionPoint(dn))}return Ue},this.getDistributionPoint=function(le){for(var Ce={},De=P(le,0),Ue=0;Ue<De.length;Ue++){var ht=le.substr(De[Ue],2),At=X(le,De[Ue]);ht=="a0"&&(Ce.dpname=this.getDistributionPointName(At))}return Ce},this.getDistributionPointName=function(le){for(var Ce={},De=P(le,0),Ue=0;Ue<De.length;Ue++){var ht=le.substr(De[Ue],2),At=X(le,De[Ue]);ht=="a0"&&(Ce.full=this.getGeneralNames(At))}return Ce},this.getExtCRLDistributionPointsURI=function(){var le=this.getExtInfo("cRLDistributionPoints");if(le===void 0)return le;for(var Ce=new Array,De=P(this.hex,le.vidx),Ue=0;Ue<De.length;Ue++)try{var ht=Xt(ue(this.hex,De[Ue],[0,0,0],"86"));Ce.push(ht)}catch{}return Ce},this.getExtAIAInfo=function(){var le=this.getExtInfo("authorityInfoAccess");if(le===void 0)return le;for(var Ce={ocsp:[],caissuer:[]},De=P(this.hex,le.vidx),Ue=0;Ue<De.length;Ue++){var ht=ue(this.hex,De[Ue],[0],"06"),At=ue(this.hex,De[Ue],[1],"86");ht==="2b06010505073001"&&Ce.ocsp.push(Xt(At)),ht==="2b06010505073002"&&Ce.caissuer.push(Xt(At))}return Ce},this.getExtAuthorityInfoAccess=function(le,Ce){if(le===void 0&&Ce===void 0){var De=this.getExtInfo("authorityInfoAccess");if(De===void 0)return;le=X(this.hex,De.vidx),Ce=De.critical}var Ue={extname:"authorityInfoAccess",array:[]};Ce&&(Ue.critical=!0);for(var ht=P(le,0),At=0;At<ht.length;At++){var dn=Ee(le,ht[At],[0],"06"),Bt=Xt(ue(le,ht[At],[1],"86"));if(dn=="2b06010505073001")Ue.array.push({ocsp:Bt});else{if(dn!="2b06010505073002")throw new Error("unknown method: "+dn);Ue.array.push({caissuer:Bt})}}return Ue},this.getExtCertificatePolicies=function(le,Ce){if(le===void 0&&Ce===void 0){var De=this.getExtInfo("certificatePolicies");if(De===void 0)return;le=X(this.hex,De.vidx),Ce=De.critical}var Ue={extname:"certificatePolicies",array:[]};Ce&&(Ue.critical=!0);for(var ht=P(le,0),At=0;At<ht.length;At++){var dn=X(le,ht[At]),Bt=this.getPolicyInformation(dn);Ue.array.push(Bt)}return Ue},this.getPolicyInformation=function(le){var Ce={},De=ue(le,0,[0],"06");Ce.policyoid=ut(De);var Ue=Oe(le,0,[1],"30");if(Ue!=-1){Ce.array=[];for(var ht=P(le,Ue),At=0;At<ht.length;At++){var dn=X(le,ht[At]),Bt=this.getPolicyQualifierInfo(dn);Ce.array.push(Bt)}}return Ce},this.getPolicyQualifierInfo=function(le){var Ce={},De=ue(le,0,[0],"06");if(De==="2b06010505070201"){var Ue=Ee(le,0,[1],"16");Ce.cps=zt(Ue)}else if(De==="2b06010505070202"){var ht=ye(le,0,[1],"30");Ce.unotice=this.getUserNotice(ht)}return Ce},this.getUserNotice=function(le){for(var Ce={},De=P(le,0),Ue=0;Ue<De.length;Ue++){var ht=X(le,De[Ue]);ht.substr(0,2)!="30"&&(Ce.exptext=this.getDisplayText(ht))}return Ce},this.getDisplayText=function(le){var Ce={};return Ce.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[le.substr(0,2)],Ce.str=zt(B(le,0)),Ce},this.getExtCRLNumber=function(le,Ce){var De={extname:"cRLNumber"};if(Ce&&(De.critical=!0),le.substr(0,2)=="02")return De.num={hex:B(le,0)},De;throw new Error("hExtV parse error: "+le)},this.getExtCRLReason=function(le,Ce){var De={extname:"cRLReason"};if(Ce&&(De.critical=!0),le.substr(0,2)=="0a")return De.code=parseInt(B(le,0),16),De;throw new Error("hExtV parse error: "+le)},this.getExtOcspNonce=function(le,Ce){var De={extname:"ocspNonce"};Ce&&(De.critical=!0);var Ue=B(le,0);return De.hex=Ue,De},this.getExtOcspNoCheck=function(le,Ce){var De={extname:"ocspNoCheck"};return Ce&&(De.critical=!0),De},this.getExtAdobeTimeStamp=function(le,Ce){if(le===void 0&&Ce===void 0){var De=this.getExtInfo("adobeTimeStamp");if(De===void 0)return;le=X(this.hex,De.vidx),Ce=De.critical}var Ue={extname:"adobeTimeStamp"};Ce&&(Ue.critical=!0);var ht=P(le,0);if(ht.length>1){var At=X(le,ht[1]),dn=this.getGeneralName(At);dn.uri!=null&&(Ue.uri=dn.uri)}if(ht.length>2){var Bt=X(le,ht[2]);Bt=="0101ff"&&(Ue.reqauth=!0),Bt=="010100"&&(Ue.reqauth=!1)}return Ue},this.getX500NameRule=function(le){for(var Ce=null,De=[],Ue=0;Ue<le.length;Ue++)for(var ht=le[Ue],At=0;At<ht.length;At++)De.push(ht[At]);for(Ue=0;Ue<De.length;Ue++){var dn=De[Ue],Bt=dn.ds,Xn=dn.value,un=dn.type;if(Bt!="prn"&&Bt!="utf8"&&Bt!="ia5")return"mixed";if(Bt=="ia5"){if(un!="CN")return"mixed";if(V.lang.String.isMail(Xn))continue;return"mixed"}if(un=="C"){if(Bt=="prn")continue;return"mixed"}if(Ce==null)Ce=Bt;else if(Ce!==Bt)return"mixed"}return Ce??"prn"},this.getX500Name=function(le){var Ce=this.getX500NameArray(le);return{array:Ce,str:this.dnarraytostr(Ce)}},this.getX500NameArray=function(le){for(var Ce=[],De=P(le,0),Ue=0;Ue<De.length;Ue++)Ce.push(this.getRDN(X(le,De[Ue])));return Ce},this.getRDN=function(le){for(var Ce=[],De=P(le,0),Ue=0;Ue<De.length;Ue++)Ce.push(this.getAttrTypeAndValue(X(le,De[Ue])));return Ce},this.getAttrTypeAndValue=function(le){var Ce={type:null,value:null,ds:null},De=P(le,0),Ue=ue(le,De[0],[],"06"),ht=ue(le,De[1],[]),At=V.asn1.ASN1Util.oidHexToInt(Ue);return Ce.type=V.asn1.x509.OID.oid2atype(At),Ce.ds=this.HEX2STAG[le.substr(De[1],2)],Ce.ds!="bmp"?Ce.value=Xt(ht):Ce.value=on(ht),Ce},this.readCertPEM=function(le){this.readCertHex(Et(le))},this.readCertHex=function(le){this.hex=le,this.getVersion();try{Te(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var le={};return le.version=this.getVersion(),le.serial={hex:this.getSerialNumberHex()},le.sigalg=this.getSignatureAlgorithmField(),le.issuer=this.getIssuer(),le.notbefore=this.getNotBefore(),le.notafter=this.getNotAfter(),le.subject=this.getSubject(),le.sbjpubkey=Ot(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(le.ext=this.getExtParamArray()),le.sighex=this.getSignatureValueHex(),le},this.getExtParamArray=function(le){le==null&&Oe(this.hex,0,[0,"[3]"])!=-1&&(le=_e(this.hex,0,[0,"[3]",0],"30"));for(var Ce=[],De=P(le,0),Ue=0;Ue<De.length;Ue++){var ht=X(le,De[Ue]),At=this.getExtParam(ht);At!=null&&Ce.push(At)}return Ce},this.getExtParam=function(le){var Ce=P(le,0).length;if(Ce!=2&&Ce!=3)throw new Error("wrong number elements in Extension: "+Ce+" "+le);var De=yt(ue(le,0,[0],"06")),Ue=!1;Ce==3&&ye(le,0,[1])=="0101ff"&&(Ue=!0);var ht=ye(le,0,[Ce-1,0]),At=void 0;if(De=="2.5.29.14"?At=this.getExtSubjectKeyIdentifier(ht,Ue):De=="2.5.29.15"?At=this.getExtKeyUsage(ht,Ue):De=="2.5.29.17"?At=this.getExtSubjectAltName(ht,Ue):De=="2.5.29.18"?At=this.getExtIssuerAltName(ht,Ue):De=="2.5.29.19"?At=this.getExtBasicConstraints(ht,Ue):De=="2.5.29.31"?At=this.getExtCRLDistributionPoints(ht,Ue):De=="2.5.29.32"?At=this.getExtCertificatePolicies(ht,Ue):De=="2.5.29.35"?At=this.getExtAuthorityKeyIdentifier(ht,Ue):De=="2.5.29.37"?At=this.getExtExtKeyUsage(ht,Ue):De=="1.3.6.1.5.5.7.1.1"?At=this.getExtAuthorityInfoAccess(ht,Ue):De=="2.5.29.20"?At=this.getExtCRLNumber(ht,Ue):De=="2.5.29.21"?At=this.getExtCRLReason(ht,Ue):De=="1.3.6.1.5.5.7.48.1.2"?At=this.getExtOcspNonce(ht,Ue):De=="1.3.6.1.5.5.7.48.1.5"?At=this.getExtOcspNoCheck(ht,Ue):De=="1.2.840.113583.1.1.9.1"&&(At=this.getExtAdobeTimeStamp(ht,Ue)),At!=null)return At;var dn={extname:De,extn:ht};return Ue&&(dn.critical=!0),dn},this.findExt=function(le,Ce){for(var De=0;De<le.length;De++)if(le[De].extname==Ce)return le[De];return null},this.updateExtCDPFullURI=function(le,Ce){var De=this.findExt(le,"cRLDistributionPoints");if(De!=null&&De.array!=null){for(var Ue=De.array,ht=0;ht<Ue.length;ht++)if(Ue[ht].dpname!=null&&Ue[ht].dpname.full!=null)for(var At=Ue[ht].dpname.full,dn=0;dn<At.length;dn++){var Bt=At[ht];Bt.uri!=null&&(Bt.uri=Ce)}}},this.updateExtAIAOCSP=function(le,Ce){var De=this.findExt(le,"authorityInfoAccess");if(De!=null&&De.array!=null)for(var Ue=De.array,ht=0;ht<Ue.length;ht++)Ue[ht].ocsp!=null&&(Ue[ht].ocsp=Ce)},this.updateExtAIACAIssuer=function(le,Ce){var De=this.findExt(le,"authorityInfoAccess");if(De!=null&&De.array!=null)for(var Ue=De.array,ht=0;ht<Ue.length;ht++)Ue[ht].caissuer!=null&&(Ue[ht].caissuer=Ce)},this.dnarraytostr=function(le){return"/"+le.map(function(Ce){return function(Ue){return Ue.map(function(ht){return function(dn){return dn.type+"="+dn.value}(ht).replace(/\+/,"\\+")}).join("+")}(Ce).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var le,Ce,De,Ue=function(ar){return JSON.stringify(ar.array).replace(/[\[\]\{\}\"]/g,"")},ht=function(ar){for(var Lr="",rr=ar.array,or=0;or<rr.length;or++){var Cr=rr[or];if(Lr+="    policy oid: "+Cr.policyoid+`
`,Cr.array!==void 0)for(var Cn=0;Cn<Cr.array.length;Cn++){var Zr=Cr.array[Cn];Zr.cps!==void 0&&(Lr+="    cps: "+Zr.cps+`
`)}}return Lr},At=function(ar){for(var Lr="",rr=ar.array,or=0;or<rr.length;or++){var Cr=rr[or];try{Cr.dpname.full[0].uri!==void 0&&(Lr+="    "+Cr.dpname.full[0].uri+`
`)}catch{}try{Cr.dname.full[0].dn.hex!==void 0&&(Lr+="    "+kn.hex2dn(Cr.dpname.full[0].dn.hex)+`
`)}catch{}}return Lr},dn=function(ar){for(var Lr="",rr=ar.array,or=0;or<rr.length;or++){var Cr=rr[or];Cr.caissuer!==void 0&&(Lr+="    caissuer: "+Cr.caissuer+`
`),Cr.ocsp!==void 0&&(Lr+="    ocsp: "+Cr.ocsp+`
`)}return Lr};if(le=`Basic Fields
`,le+="  serial number: "+this.getSerialNumberHex()+`
`,le+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,le+="  issuer: "+this.getIssuerString()+`
`,le+="  notBefore: "+this.getNotBefore()+`
`,le+="  notAfter: "+this.getNotAfter()+`
`,le+="  subject: "+this.getSubjectString()+`
`,le+=`  subject public key info: 
`,le+="    key algorithm: "+(Ce=this.getPublicKey()).type+`
`,Ce.type==="RSA"&&(le+="    n="+Qn(Ce.n.toString(16)).substr(0,16)+`...
`,le+="    e="+Qn(Ce.e.toString(16))+`
`),(De=this.aExtInfo)!=null){le+=`X509v3 Extensions:
`;for(var Bt=0;Bt<De.length;Bt++){var Xn=De[Bt],un=V.asn1.x509.OID.oid2name(Xn.oid);un===""&&(un=Xn.oid);var gn="";if(Xn.critical===!0&&(gn="CRITICAL"),le+="  "+un+" "+gn+`:
`,un==="basicConstraints"){var sr=this.getExtBasicConstraints();sr.cA===void 0?le+=`    {}
`:(le+="    cA=true",sr.pathLen!==void 0&&(le+=", pathLen="+sr.pathLen),le+=`
`)}else if(un==="keyUsage")le+="    "+this.getExtKeyUsageString()+`
`;else if(un==="subjectKeyIdentifier")le+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(un==="authorityKeyIdentifier"){var hn=this.getExtAuthorityKeyIdentifier();hn.kid!==void 0&&(le+="    kid="+hn.kid.hex+`
`)}else un==="extKeyUsage"?le+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:un==="subjectAltName"?le+="    "+Ue(this.getExtSubjectAltName())+`
`:un==="cRLDistributionPoints"?le+=At(this.getExtCRLDistributionPoints()):un==="authorityInfoAccess"?le+=dn(this.getExtAuthorityInfoAccess()):un==="certificatePolicies"&&(le+=ht(this.getExtCertificatePolicies()))}}return le+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,le+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof b=="string"&&(b.indexOf("-----BEGIN")!=-1?this.readCertPEM(b):V.lang.String.isHex(b)&&this.readCertHex(b))}Fe.prototype.sign=function(b,v){var A=function(B){return V.crypto.Util.hashString(B,v)}(b);return this.signWithMessageHash(A,v)},Fe.prototype.signWithMessageHash=function(b,v){var A=Xe(V.crypto.Util.getPaddedDigestInfoHex(b,v,this.n.bitLength()),16);return nr(this.doPrivate(A).toString(16),this.n.bitLength())},Fe.prototype.signPSS=function(b,v,A){var P=function(X){return V.crypto.Util.hashHex(X,v)}(tn(b));return A===void 0&&(A=-1),this.signWithMessageHashPSS(P,v,A)},Fe.prototype.signWithMessageHashPSS=function(b,v,A){var P,B=zt(b),X=B.length,ue=this.n.bitLength()-1,Ee=Math.ceil(ue/8),ye=function(le){return V.crypto.Util.hashHex(le,v)};if(A===-1||A===void 0)A=X;else if(A===-2)A=Ee-X-2;else if(A<-2)throw new Error("invalid salt length");if(Ee<X+A+2)throw new Error("data too long");var _e="";A>0&&(_e=new Array(A),new bt().nextBytes(_e),_e=String.fromCharCode.apply(String,_e));var Te=zt(ye(tn("\0\0\0\0\0\0\0\0"+B+_e))),Oe=[];for(P=0;P<Ee-A-X-2;P+=1)Oe[P]=0;var ke=String.fromCharCode.apply(String,Oe)+""+_e,We=Mr(Te,ke.length,ye),ut=[];for(P=0;P<ke.length;P+=1)ut[P]=ke.charCodeAt(P)^We.charCodeAt(P);var yt=65280>>8*Ee-ue&255;for(ut[0]&=~yt,P=0;P<X;P++)ut.push(Te.charCodeAt(P));return ut.push(188),nr(this.doPrivate(new K(ut)).toString(16),this.n.bitLength())},Fe.prototype.verify=function(b,v){if((v=v.toLowerCase()).match(/^[0-9a-f]+$/)==null)return!1;var A=Xe(v,16),P=this.n.bitLength();if(A.bitLength()>P)return!1;var B=this.doPublic(A).toString(16);if(B.length+3!=P/4)return!1;var X=yr(B.replace(/^1f+00/,""));if(X.length==0)return!1;var ue=X[0];return X[1]==function(ye){return V.crypto.Util.hashString(ye,ue)}(b)},Fe.prototype.verifyWithMessageHash=function(b,v){if(v.length!=Math.ceil(this.n.bitLength()/4))return!1;var A=Xe(v,16);if(A.bitLength()>this.n.bitLength())return 0;var P=yr(this.doPublic(A).toString(16).replace(/^1f+00/,""));return P.length==0?!1:(P[0],P[1]==b)},Fe.prototype.verifyPSS=function(b,v,A,P){var B=function(ue){return V.crypto.Util.hashHex(ue,A)}(tn(b));return P===void 0&&(P=-1),this.verifyWithMessageHashPSS(B,v,A,P)},Fe.prototype.verifyWithMessageHashPSS=function(b,v,A,P){if(v.length!=Math.ceil(this.n.bitLength()/4))return!1;var B,X=new K(v,16),ue=function(De){return V.crypto.Util.hashHex(De,A)},Ee=zt(b),ye=Ee.length,_e=this.n.bitLength()-1,Te=Math.ceil(_e/8);if(P===-1||P===void 0)P=ye;else if(P===-2)P=Te-ye-2;else if(P<-2)throw new Error("invalid salt length");if(Te<ye+P+2)throw new Error("data too long");var Oe=this.doPublic(X).toByteArray();for(B=0;B<Oe.length;B+=1)Oe[B]&=255;for(;Oe.length<Te;)Oe.unshift(0);if(Oe[Te-1]!==188)throw new Error("encoded message does not end in 0xbc");var ke=(Oe=String.fromCharCode.apply(String,Oe)).substr(0,Te-ye-1),We=Oe.substr(ke.length,ye),ut=65280>>8*Te-_e&255;if((ke.charCodeAt(0)&ut)!=0)throw new Error("bits beyond keysize not zero");var yt=Mr(We,ke.length,ue),Et=[];for(B=0;B<ke.length;B+=1)Et[B]=ke.charCodeAt(B)^yt.charCodeAt(B);Et[0]&=~ut;var le=Te-ye-P-2;for(B=0;B<le;B+=1)if(Et[B]!==0)throw new Error("leftmost octets not zero");if(Et[le]!==1)throw new Error("0x01 marker not found");return We===zt(ue(tn("\0\0\0\0\0\0\0\0"+Ee+String.fromCharCode.apply(String,Et.slice(-P)))))},Fe.SALT_LEN_HLEN=-1,Fe.SALT_LEN_MAX=-2,Fe.SALT_LEN_RECOVER=-2,kn.hex2dn=function(b,v){v===void 0&&(v=0);var A=new kn;return Qe.getTLV(b,v),A.getX500Name(b).str},kn.hex2rdn=function(b,v){if(v===void 0&&(v=0),b.substr(v,2)!=="31")throw new Error("malformed RDN");for(var A=new Array,P=Qe.getChildIdx(b,v),B=0;B<P.length;B++)A.push(kn.hex2attrTypeValue(b,P[B]));return(A=A.map(function(X){return X.replace("+","\\+")})).join("+")},kn.hex2attrTypeValue=function(b,v){var A=Qe,P=A.getV;if(v===void 0&&(v=0),b.substr(v,2)!=="30")throw new Error("malformed attribute type and value");var B=A.getChildIdx(b,v);B.length!==2||b.substr(B[0],2);var X=P(b,B[0]),ue=V.asn1.ASN1Util.oidHexToInt(X);return V.asn1.x509.OID.oid2atype(ue)+"="+zt(P(b,B[1]))},kn.getPublicKeyFromCertHex=function(b){var v=new kn;return v.readCertHex(b),v.getPublicKey()},kn.getPublicKeyFromCertPEM=function(b){var v=new kn;return v.readCertPEM(b),v.getPublicKey()},kn.getPublicKeyInfoPropOfCertPEM=function(b){var v,A,P=Qe.getVbyList,B={};return B.algparam=null,(v=new kn).readCertPEM(b),A=v.getPublicKeyHex(),B.keyhex=P(A,0,[1],"03").substr(2),B.algoid=P(A,0,[0,0],"06"),B.algoid==="2a8648ce3d0201"&&(B.algparam=P(A,0,[0,1],"06")),B},kn.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],V!==void 0&&V||(i.KJUR=V={}),V.jws!==void 0&&V.jws||(V.jws={}),V.jws.JWS=function(){var b=V.jws.JWS.isSafeJSONString;this.parseJWS=function(v,A){if(this.parsedJWS===void 0||!A&&this.parsedJWS.sigvalH===void 0){var P=v.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(P==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var B=P[1],X=P[2],ue=P[3],Ee=B+"."+X;if(this.parsedJWS={},this.parsedJWS.headB64U=B,this.parsedJWS.payloadB64U=X,this.parsedJWS.sigvalB64U=ue,this.parsedJWS.si=Ee,!A){var ye=Be(ue),_e=Xe(ye,16);this.parsedJWS.sigvalH=ye,this.parsedJWS.sigvalBI=_e}var Te=ot(B),Oe=ot(X);if(this.parsedJWS.headS=Te,this.parsedJWS.payloadS=Oe,!b(Te,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Te}}},V.jws.JWS.sign=function(b,v,A,P,B){var X,ue,Ee,ye=V,_e=ye.jws.JWS,Te=_e.readSafeJSONString,Oe=_e.isSafeJSONString,ke=ye.crypto,We=(ke.ECDSA,ke.Mac),ut=ke.Signature,yt=JSON;if(typeof v!="string"&&(v===void 0?"undefined":E(v))!="object")throw"spHeader must be JSON string or object: "+v;if((v===void 0?"undefined":E(v))=="object"&&(ue=v,X=yt.stringify(ue)),typeof v=="string"){if(!Oe(X=v))throw"JWS Head is not safe JSON string: "+X;ue=Te(X)}if(Ee=A,(A===void 0?"undefined":E(A))=="object"&&(Ee=yt.stringify(A)),b!=""&&b!=null||ue.alg===void 0||(b=ue.alg),b!=""&&b!=null&&ue.alg===void 0&&(ue.alg=b,X=yt.stringify(ue)),b!==ue.alg)throw"alg and sHeader.alg doesn't match: "+b+"!="+ue.alg;var Et=null;if(_e.jwsalg2sigalg[b]===void 0)throw"unsupported alg name: "+b;Et=_e.jwsalg2sigalg[b];var le=Je(X)+"."+Je(Ee),Ce="";if(Et.substr(0,4)=="Hmac"){if(P===void 0)throw"mac key shall be specified for HS* alg";var De=new We({alg:Et,prov:"cryptojs",pass:P});De.updateString(le),Ce=De.doFinal()}else if(Et.indexOf("withECDSA")!=-1){(ht=new ut({alg:Et})).init(P,B),ht.updateString(le);var Ue=ht.sign();Ce=V.crypto.ECDSA.asn1SigToConcatSig(Ue)}else{var ht;Et!="none"&&((ht=new ut({alg:Et})).init(P,B),ht.updateString(le),Ce=ht.sign())}return le+"."+dt(Ce)},V.jws.JWS.verify=function(b,v,A){var P,B=V,X=B.jws.JWS,ue=X.readSafeJSONString,Ee=B.crypto,ye=Ee.ECDSA,_e=Ee.Mac,Te=Ee.Signature;E(Fe)!==void 0&&(P=Fe);var Oe=b.split(".");if(Oe.length!==3)return!1;var ke=Oe[0]+"."+Oe[1],We=Be(Oe[2]),ut=ue(ot(Oe[0])),yt=null,Et=null;if(ut.alg===void 0)throw"algorithm not specified in header";if(Et=(yt=ut.alg).substr(0,2),A!=null&&Object.prototype.toString.call(A)==="[object Array]"&&A.length>0&&(":"+A.join(":")+":").indexOf(":"+yt+":")==-1)throw"algorithm '"+yt+"' not accepted in the list";if(yt!="none"&&v===null)throw"key shall be specified to verify.";if(typeof v=="string"&&v.indexOf("-----BEGIN ")!=-1&&(v=Gt.getKey(v)),!(Et!="RS"&&Et!="PS"||v instanceof P))throw"key shall be a RSAKey obj for RS* and PS* algs";if(Et=="ES"&&!(v instanceof ye))throw"key shall be a ECDSA obj for ES* algs";var le=null;if(X.jwsalg2sigalg[ut.alg]===void 0)throw"unsupported alg name: "+yt;if((le=X.jwsalg2sigalg[yt])=="none")throw"not supported";if(le.substr(0,4)=="Hmac"){if(v===void 0)throw"hexadecimal key shall be specified for HMAC";var Ce=new _e({alg:le,pass:v});return Ce.updateString(ke),We==Ce.doFinal()}if(le.indexOf("withECDSA")!=-1){var De,Ue=null;try{Ue=ye.concatSigToASN1Sig(We)}catch{return!1}return(De=new Te({alg:le})).init(v),De.updateString(ke),De.verify(Ue)}return(De=new Te({alg:le})).init(v),De.updateString(ke),De.verify(We)},V.jws.JWS.parse=function(b){var v,A,P,B=b.split("."),X={};if(B.length!=2&&B.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return v=B[0],A=B[1],B.length==3&&(P=B[2]),X.headerObj=V.jws.JWS.readSafeJSONString(ot(v)),X.payloadObj=V.jws.JWS.readSafeJSONString(ot(A)),X.headerPP=JSON.stringify(X.headerObj,null,"  "),X.payloadObj==null?X.payloadPP=ot(A):X.payloadPP=JSON.stringify(X.payloadObj,null,"  "),P!==void 0&&(X.sigHex=Be(P)),X},V.jws.JWS.verifyJWT=function(b,v,A){var P=V.jws,B=P.JWS,X=B.readSafeJSONString,ue=B.inArray,Ee=B.includedArray,ye=b.split("."),_e=ye[0],Te=ye[1],Oe=(Be(ye[2]),X(ot(_e))),ke=X(ot(Te));if(Oe.alg===void 0)return!1;if(A.alg===void 0)throw"acceptField.alg shall be specified";if(!ue(Oe.alg,A.alg)||ke.iss!==void 0&&E(A.iss)==="object"&&!ue(ke.iss,A.iss)||ke.sub!==void 0&&E(A.sub)==="object"&&!ue(ke.sub,A.sub))return!1;if(ke.aud!==void 0&&E(A.aud)==="object"){if(typeof ke.aud=="string"){if(!ue(ke.aud,A.aud))return!1}else if(E(ke.aud)=="object"&&!Ee(ke.aud,A.aud))return!1}var We=P.IntDate.getNow();return A.verifyAt!==void 0&&typeof A.verifyAt=="number"&&(We=A.verifyAt),A.gracePeriod!==void 0&&typeof A.gracePeriod=="number"||(A.gracePeriod=0),!(ke.exp!==void 0&&typeof ke.exp=="number"&&ke.exp+A.gracePeriod<We)&&!(ke.nbf!==void 0&&typeof ke.nbf=="number"&&We<ke.nbf-A.gracePeriod)&&!(ke.iat!==void 0&&typeof ke.iat=="number"&&We<ke.iat-A.gracePeriod)&&(ke.jti===void 0||A.jti===void 0||ke.jti===A.jti)&&!!B.verify(b,v,A.alg)},V.jws.JWS.includedArray=function(b,v){var A=V.jws.JWS.inArray;if(b===null||(b===void 0?"undefined":E(b))!=="object"||typeof b.length!="number")return!1;for(var P=0;P<b.length;P++)if(!A(b[P],v))return!1;return!0},V.jws.JWS.inArray=function(b,v){if(v===null||(v===void 0?"undefined":E(v))!=="object"||typeof v.length!="number")return!1;for(var A=0;A<v.length;A++)if(v[A]==b)return!0;return!1},V.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},V.jws.JWS.isSafeJSONString=function(b,v,A){var P=null;try{return((P=G(b))===void 0?"undefined":E(P))!="object"||P.constructor===Array?0:(v&&(v[A]=P),1)}catch{return 0}},V.jws.JWS.readSafeJSONString=function(b){var v=null;try{return((v=G(b))===void 0?"undefined":E(v))!="object"||v.constructor===Array?null:v}catch{return null}},V.jws.JWS.getEncodedSignatureValueFromJWS=function(b){var v=b.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(v==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return v[1]},V.jws.JWS.getJWKthumbprint=function(b){if(b.kty!=="RSA"&&b.kty!=="EC"&&b.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var v="{";if(b.kty==="RSA"){if(typeof b.n!="string"||typeof b.e!="string")throw"wrong n and e value for RSA key";v+='"e":"'+b.e+'",',v+='"kty":"'+b.kty+'",',v+='"n":"'+b.n+'"}'}else if(b.kty==="EC"){if(typeof b.crv!="string"||typeof b.x!="string"||typeof b.y!="string")throw"wrong crv, x and y value for EC key";v+='"crv":"'+b.crv+'",',v+='"kty":"'+b.kty+'",',v+='"x":"'+b.x+'",',v+='"y":"'+b.y+'"}'}else if(b.kty==="oct"){if(typeof b.k!="string")throw"wrong k value for oct(symmetric) key";v+='"kty":"'+b.kty+'",',v+='"k":"'+b.k+'"}'}var A=tn(v);return dt(V.crypto.Util.hashHex(A,"sha256"))},V.jws.IntDate={},V.jws.IntDate.get=function(b){var v=V.jws.IntDate,A=v.getNow,P=v.getZulu;if(b=="now")return A();if(b=="now + 1hour")return A()+3600;if(b=="now + 1day")return A()+86400;if(b=="now + 1month")return A()+2592e3;if(b=="now + 1year")return A()+31536e3;if(b.match(/Z$/))return P(b);if(b.match(/^[0-9]+$/))return parseInt(b);throw"unsupported format: "+b},V.jws.IntDate.getZulu=function(b){return Zt(b)},V.jws.IntDate.getNow=function(){return~~(new Date/1e3)},V.jws.IntDate.intDate2UTCString=function(b){return new Date(1e3*b).toUTCString()},V.jws.IntDate.intDate2Zulu=function(b){var v=new Date(1e3*b);return("0000"+v.getUTCFullYear()).slice(-4)+("00"+(v.getUTCMonth()+1)).slice(-2)+("00"+v.getUTCDate()).slice(-2)+("00"+v.getUTCHours()).slice(-2)+("00"+v.getUTCMinutes()).slice(-2)+("00"+v.getUTCSeconds()).slice(-2)+"Z"},i.SecureRandom=bt,i.rng_seed_time=Se,i.BigInteger=K,i.RSAKey=Fe;var Pr=V.crypto.EDSA;i.EDSA=Pr;var $r=V.crypto.DSA;i.DSA=$r;var cn=V.crypto.Signature;i.Signature=cn;var _i=V.crypto.MessageDigest;i.MessageDigest=_i;var Fr=V.crypto.Mac;i.Mac=Fr;var ta=V.crypto.Cipher;i.Cipher=ta,i.KEYUTIL=Gt,i.ASN1HEX=Qe,i.X509=kn,i.CryptoJS=H,i.b64tohex=$,i.b64toBA=Ae,i.stoBA=Yt,i.BAtos=$n,i.BAtohex=qn,i.stohex=sn,i.stob64=function(v){return W(sn(v))},i.stob64u=function(v){return ze(W(sn(v)))},i.b64utos=function(v){return $n(Ae(wt(v)))},i.b64tob64u=ze,i.b64utob64=wt,i.hex2b64=W,i.hextob64u=dt,i.b64utohex=Be,i.utf8tob64u=Je,i.b64utoutf8=ot,i.utf8tob64=function(v){return W(nn(Un(v)))},i.b64toutf8=function(v){return decodeURIComponent(Ln($(v)))},i.utf8tohex=pt,i.hextoutf8=Xt,i.hextorstr=zt,i.rstrtohex=tn,i.hextob64=Ht,i.hextob64nl=fe,i.b64nltohex=ve,i.hextopem=Ot,i.pemtohex=Ct,i.hextoArrayBuffer=function(v){if(v.length%2!=0)throw"input is not even length";if(v.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var A=new ArrayBuffer(v.length/2),P=new DataView(A),B=0;B<v.length/2;B++)P.setUint8(B,parseInt(v.substr(2*B,2),16));return A},i.ArrayBuffertohex=function(v){for(var A="",P=new DataView(v),B=0;B<v.byteLength;B++)A+=("00"+P.getUint8(B).toString(16)).slice(-2);return A},i.zulutomsec=Ft,i.zulutosec=Zt,i.zulutodate=function(v){return new Date(Ft(v))},i.datetozulu=function(v,A,P){var B,X=v.getUTCFullYear();if(A){if(X<1950||2049<X)throw"not proper year for UTCTime: "+X;B=(""+X).slice(-2)}else B=("000"+X).slice(-4);if(B+=("0"+(v.getUTCMonth()+1)).slice(-2),B+=("0"+v.getUTCDate()).slice(-2),B+=("0"+v.getUTCHours()).slice(-2),B+=("0"+v.getUTCMinutes()).slice(-2),B+=("0"+v.getUTCSeconds()).slice(-2),P){var ue=v.getUTCMilliseconds();ue!==0&&(B+="."+(ue=(ue=("00"+ue).slice(-3)).replace(/0+$/g,"")))}return B+="Z"},i.uricmptohex=nn,i.hextouricmp=Ln,i.ipv6tohex=$t,i.hextoipv6=en,i.hextoip=vn,i.iptohex=function(v){var A="malformed IP address";if(!(v=v.toLowerCase(v)).match(/^[0-9.]+$/)){if(v.match(/^[0-9a-f:]+$/)&&v.indexOf(":")!==-1)return $t(v);throw A}var P=v.split(".");if(P.length!==4)throw A;var B="";try{for(var X=0;X<4;X++)B+=("0"+parseInt(P[X]).toString(16)).slice(-2);return B}catch{throw A}},i.encodeURIComponentAll=Un,i.newline_toUnix=function(v){return v=v.replace(/\r\n/gm,`
`)},i.newline_toDos=function(v){return v=(v=v.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},i.hextoposhex=Qn,i.intarystrtohex=function(v){v=(v=(v=v.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return v.split(/,/).map(function(A,P,B){var X=parseInt(A);if(X<0||255<X)throw"integer not in range 0-255";return("00"+X.toString(16)).slice(-2)}).join("")}catch(A){throw"malformed integer array string: "+A}},i.strdiffidx=function(v,A){var P=v.length;v.length>A.length&&(P=A.length);for(var B=0;B<P;B++)if(v.charCodeAt(B)!=A.charCodeAt(B))return B;return v.length!=A.length?P:-1},i.KJUR=V;var Si=V.crypto;i.crypto=Si;var Ha=V.asn1;i.asn1=Ha;var ha=V.jws;i.jws=ha;var Ei=V.lang;i.lang=Ei}).call(this,a(28).Buffer)},function(r,i,a){(function(l){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var s=a(30),u=a(31),d=a(32);function c(){return g.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function p(se,k){if(c()<k)throw new RangeError("Invalid typed array length");return g.TYPED_ARRAY_SUPPORT?(se=new Uint8Array(k)).__proto__=g.prototype:(se===null&&(se=new g(k)),se.length=k),se}function g(se,k,D){if(!(g.TYPED_ARRAY_SUPPORT||this instanceof g))return new g(se,k,D);if(typeof se=="number"){if(typeof k=="string")throw new Error("If encoding is specified then the first argument must be a string");return T(this,se)}return w(this,se,k,D)}function w(se,k,D,z){if(typeof k=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&k instanceof ArrayBuffer?function(Se,Ne,ct,Pe){if(Ne.byteLength,ct<0||Ne.byteLength<ct)throw new RangeError("'offset' is out of bounds");if(Ne.byteLength<ct+(Pe||0))throw new RangeError("'length' is out of bounds");return Ne=ct===void 0&&Pe===void 0?new Uint8Array(Ne):Pe===void 0?new Uint8Array(Ne,ct):new Uint8Array(Ne,ct,Pe),g.TYPED_ARRAY_SUPPORT?(Se=Ne).__proto__=g.prototype:Se=x(Se,Ne),Se}(se,k,D,z):typeof k=="string"?function(Se,Ne,ct){if(typeof ct=="string"&&ct!==""||(ct="utf8"),!g.isEncoding(ct))throw new TypeError('"encoding" must be a valid string encoding');var Pe=0|E(Ne,ct),mt=(Se=p(Se,Pe)).write(Ne,ct);return mt!==Pe&&(Se=Se.slice(0,mt)),Se}(se,k,D):function(Se,Ne){if(g.isBuffer(Ne)){var ct=0|C(Ne.length);return(Se=p(Se,ct)).length===0||Ne.copy(Se,0,0,ct),Se}if(Ne){if(typeof ArrayBuffer<"u"&&Ne.buffer instanceof ArrayBuffer||"length"in Ne)return typeof Ne.length!="number"||function(mt){return mt!=mt}(Ne.length)?p(Se,0):x(Se,Ne);if(Ne.type==="Buffer"&&d(Ne.data))return x(Se,Ne.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(se,k)}function _(se){if(typeof se!="number")throw new TypeError('"size" argument must be a number');if(se<0)throw new RangeError('"size" argument must not be negative')}function T(se,k){if(_(k),se=p(se,k<0?0:0|C(k)),!g.TYPED_ARRAY_SUPPORT)for(var D=0;D<k;++D)se[D]=0;return se}function x(se,k){var D=k.length<0?0:0|C(k.length);se=p(se,D);for(var z=0;z<D;z+=1)se[z]=255&k[z];return se}function C(se){if(se>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|se}function E(se,k){if(g.isBuffer(se))return se.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(se)||se instanceof ArrayBuffer))return se.byteLength;typeof se!="string"&&(se=""+se);var D=se.length;if(D===0)return 0;for(var z=!1;;)switch(k){case"ascii":case"latin1":case"binary":return D;case"utf8":case"utf-8":case void 0:return ce(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*D;case"hex":return D>>>1;case"base64":return Ie(se).length;default:if(z)return ce(se).length;k=(""+k).toLowerCase(),z=!0}}function I(se,k,D){var z=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((D===void 0||D>this.length)&&(D=this.length),D<=0)||(D>>>=0)<=(k>>>=0))return"";for(se||(se="utf8");;)switch(se){case"hex":return lt(this,k,D);case"utf8":case"utf-8":return be(this,k,D);case"ascii":return it(this,k,D);case"latin1":case"binary":return Re(this,k,D);case"base64":return pe(this,k,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge(this,k,D);default:if(z)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),z=!0}}function O(se,k,D){var z=se[k];se[k]=se[D],se[D]=z}function H(se,k,D,z,re){if(se.length===0)return-1;if(typeof D=="string"?(z=D,D=0):D>2147483647?D=2147483647:D<-2147483648&&(D=-2147483648),D=+D,isNaN(D)&&(D=re?0:se.length-1),D<0&&(D=se.length+D),D>=se.length){if(re)return-1;D=se.length-1}else if(D<0){if(!re)return-1;D=0}if(typeof k=="string"&&(k=g.from(k,z)),g.isBuffer(k))return k.length===0?-1:L(se,k,D,z,re);if(typeof k=="number")return k&=255,g.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(se,k,D):Uint8Array.prototype.lastIndexOf.call(se,k,D):L(se,[k],D,z,re);throw new TypeError("val must be string, number or Buffer")}function L(se,k,D,z,re){var Se,Ne=1,ct=se.length,Pe=k.length;if(z!==void 0&&((z=String(z).toLowerCase())==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(se.length<2||k.length<2)return-1;Ne=2,ct/=2,Pe/=2,D/=2}function mt(qe,Fe){return Ne===1?qe[Fe]:qe.readUInt16BE(Fe*Ne)}if(re){var Tt=-1;for(Se=D;Se<ct;Se++)if(mt(se,Se)===mt(k,Tt===-1?0:Se-Tt)){if(Tt===-1&&(Tt=Se),Se-Tt+1===Pe)return Tt*Ne}else Tt!==-1&&(Se-=Se-Tt),Tt=-1}else for(D+Pe>ct&&(D=ct-Pe),Se=D;Se>=0;Se--){for(var bt=!0,Xe=0;Xe<Pe;Xe++)if(mt(se,Se+Xe)!==mt(k,Xe)){bt=!1;break}if(bt)return Se}return-1}function q(se,k,D,z){D=Number(D)||0;var re=se.length-D;z?(z=Number(z))>re&&(z=re):z=re;var Se=k.length;if(Se%2!=0)throw new TypeError("Invalid hex string");z>Se/2&&(z=Se/2);for(var Ne=0;Ne<z;++Ne){var ct=parseInt(k.substr(2*Ne,2),16);if(isNaN(ct))return Ne;se[D+Ne]=ct}return Ne}function W(se,k,D,z){return Ye(ce(k,se.length-D),se,D,z)}function $(se,k,D,z){return Ye(function(Se){for(var Ne=[],ct=0;ct<Se.length;++ct)Ne.push(255&Se.charCodeAt(ct));return Ne}(k),se,D,z)}function Ae(se,k,D,z){return $(se,k,D,z)}function K(se,k,D,z){return Ye(Ie(k),se,D,z)}function ae(se,k,D,z){return Ye(function(Se,Ne){for(var ct,Pe,mt,Tt=[],bt=0;bt<Se.length&&!((Ne-=2)<0);++bt)Pe=(ct=Se.charCodeAt(bt))>>8,mt=ct%256,Tt.push(mt),Tt.push(Pe);return Tt}(k,se.length-D),se,D,z)}function pe(se,k,D){return k===0&&D===se.length?s.fromByteArray(se):s.fromByteArray(se.slice(k,D))}function be(se,k,D){D=Math.min(se.length,D);for(var z=[],re=k;re<D;){var Se,Ne,ct,Pe,mt=se[re],Tt=null,bt=mt>239?4:mt>223?3:mt>191?2:1;if(re+bt<=D)switch(bt){case 1:mt<128&&(Tt=mt);break;case 2:(192&(Se=se[re+1]))==128&&(Pe=(31&mt)<<6|63&Se)>127&&(Tt=Pe);break;case 3:Se=se[re+1],Ne=se[re+2],(192&Se)==128&&(192&Ne)==128&&(Pe=(15&mt)<<12|(63&Se)<<6|63&Ne)>2047&&(Pe<55296||Pe>57343)&&(Tt=Pe);break;case 4:Se=se[re+1],Ne=se[re+2],ct=se[re+3],(192&Se)==128&&(192&Ne)==128&&(192&ct)==128&&(Pe=(15&mt)<<18|(63&Se)<<12|(63&Ne)<<6|63&ct)>65535&&Pe<1114112&&(Tt=Pe)}Tt===null?(Tt=65533,bt=1):Tt>65535&&(Tt-=65536,z.push(Tt>>>10&1023|55296),Tt=56320|1023&Tt),z.push(Tt),re+=bt}return function(qe){var Fe=qe.length;if(Fe<=Ze)return String.fromCharCode.apply(String,qe);for(var et="",Q=0;Q<Fe;)et+=String.fromCharCode.apply(String,qe.slice(Q,Q+=Ze));return et}(z)}i.Buffer=g,i.SlowBuffer=function(k){return+k!=k&&(k=0),g.alloc(+k)},i.INSPECT_MAX_BYTES=50,g.TYPED_ARRAY_SUPPORT=l.TYPED_ARRAY_SUPPORT!==void 0?l.TYPED_ARRAY_SUPPORT:function(){try{var k=new Uint8Array(1);return k.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},k.foo()===42&&typeof k.subarray=="function"&&k.subarray(1,1).byteLength===0}catch{return!1}}(),i.kMaxLength=c(),g.poolSize=8192,g._augment=function(se){return se.__proto__=g.prototype,se},g.from=function(se,k,D){return w(null,se,k,D)},g.TYPED_ARRAY_SUPPORT&&(g.prototype.__proto__=Uint8Array.prototype,g.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&g[Symbol.species]===g&&Object.defineProperty(g,Symbol.species,{value:null,configurable:!0})),g.alloc=function(se,k,D){return function(re,Se,Ne,ct){return _(Se),Se<=0?p(re,Se):Ne!==void 0?typeof ct=="string"?p(re,Se).fill(Ne,ct):p(re,Se).fill(Ne):p(re,Se)}(null,se,k,D)},g.allocUnsafe=function(se){return T(null,se)},g.allocUnsafeSlow=function(se){return T(null,se)},g.isBuffer=function(k){return!(k==null||!k._isBuffer)},g.compare=function(k,D){if(!g.isBuffer(k)||!g.isBuffer(D))throw new TypeError("Arguments must be Buffers");if(k===D)return 0;for(var z=k.length,re=D.length,Se=0,Ne=Math.min(z,re);Se<Ne;++Se)if(k[Se]!==D[Se]){z=k[Se],re=D[Se];break}return z<re?-1:re<z?1:0},g.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(k,D){if(!d(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return g.alloc(0);var z;if(D===void 0)for(D=0,z=0;z<k.length;++z)D+=k[z].length;var re=g.allocUnsafe(D),Se=0;for(z=0;z<k.length;++z){var Ne=k[z];if(!g.isBuffer(Ne))throw new TypeError('"list" argument must be an Array of Buffers');Ne.copy(re,Se),Se+=Ne.length}return re},g.byteLength=E,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var k=this.length;if(k%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<k;D+=2)O(this,D,D+1);return this},g.prototype.swap32=function(){var k=this.length;if(k%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<k;D+=4)O(this,D,D+3),O(this,D+1,D+2);return this},g.prototype.swap64=function(){var k=this.length;if(k%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<k;D+=8)O(this,D,D+7),O(this,D+1,D+6),O(this,D+2,D+5),O(this,D+3,D+4);return this},g.prototype.toString=function(){var k=0|this.length;return k===0?"":arguments.length===0?be(this,0,k):I.apply(this,arguments)},g.prototype.equals=function(k){if(!g.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k||g.compare(this,k)===0},g.prototype.inspect=function(){var k="",D=i.INSPECT_MAX_BYTES;return this.length>0&&(k=this.toString("hex",0,D).match(/.{2}/g).join(" "),this.length>D&&(k+=" ... ")),"<Buffer "+k+">"},g.prototype.compare=function(k,D,z,re,Se){if(!g.isBuffer(k))throw new TypeError("Argument must be a Buffer");if(D===void 0&&(D=0),z===void 0&&(z=k?k.length:0),re===void 0&&(re=0),Se===void 0&&(Se=this.length),D<0||z>k.length||re<0||Se>this.length)throw new RangeError("out of range index");if(re>=Se&&D>=z)return 0;if(re>=Se)return-1;if(D>=z)return 1;if(this===k)return 0;for(var Ne=(Se>>>=0)-(re>>>=0),ct=(z>>>=0)-(D>>>=0),Pe=Math.min(Ne,ct),mt=this.slice(re,Se),Tt=k.slice(D,z),bt=0;bt<Pe;++bt)if(mt[bt]!==Tt[bt]){Ne=mt[bt],ct=Tt[bt];break}return Ne<ct?-1:ct<Ne?1:0},g.prototype.includes=function(k,D,z){return this.indexOf(k,D,z)!==-1},g.prototype.indexOf=function(k,D,z){return H(this,k,D,z,!0)},g.prototype.lastIndexOf=function(k,D,z){return H(this,k,D,z,!1)},g.prototype.write=function(k,D,z,re){if(D===void 0)re="utf8",z=this.length,D=0;else if(z===void 0&&typeof D=="string")re=D,z=this.length,D=0;else{if(!isFinite(D))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");D|=0,isFinite(z)?(z|=0,re===void 0&&(re="utf8")):(re=z,z=void 0)}var Se=this.length-D;if((z===void 0||z>Se)&&(z=Se),k.length>0&&(z<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");for(var Ne=!1;;)switch(re){case"hex":return q(this,k,D,z);case"utf8":case"utf-8":return W(this,k,D,z);case"ascii":return $(this,k,D,z);case"latin1":case"binary":return Ae(this,k,D,z);case"base64":return K(this,k,D,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,k,D,z);default:if(Ne)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),Ne=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Ze=4096;function it(se,k,D){var z="";D=Math.min(se.length,D);for(var re=k;re<D;++re)z+=String.fromCharCode(127&se[re]);return z}function Re(se,k,D){var z="";D=Math.min(se.length,D);for(var re=k;re<D;++re)z+=String.fromCharCode(se[re]);return z}function lt(se,k,D){var z=se.length;(!k||k<0)&&(k=0),(!D||D<0||D>z)&&(D=z);for(var re="",Se=k;Se<D;++Se)re+=Le(se[Se]);return re}function ge(se,k,D){for(var z=se.slice(k,D),re="",Se=0;Se<z.length;Se+=2)re+=String.fromCharCode(z[Se]+256*z[Se+1]);return re}function rt(se,k,D){if(se%1!=0||se<0)throw new RangeError("offset is not uint");if(se+k>D)throw new RangeError("Trying to access beyond buffer length")}function Y(se,k,D,z,re,Se){if(!g.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>re||k<Se)throw new RangeError('"value" argument is out of bounds');if(D+z>se.length)throw new RangeError("Index out of range")}function xe(se,k,D,z){k<0&&(k=65535+k+1);for(var re=0,Se=Math.min(se.length-D,2);re<Se;++re)se[D+re]=(k&255<<8*(z?re:1-re))>>>8*(z?re:1-re)}function $e(se,k,D,z){k<0&&(k=4294967295+k+1);for(var re=0,Se=Math.min(se.length-D,4);re<Se;++re)se[D+re]=k>>>8*(z?re:3-re)&255}function Me(se,k,D,z,re,Se){if(D+z>se.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("Index out of range")}function at(se,k,D,z,re){return re||Me(se,0,D,4),u.write(se,k,D,z,23,4),D+4}function It(se,k,D,z,re){return re||Me(se,0,D,8),u.write(se,k,D,z,52,8),D+8}g.prototype.slice=function(k,D){var z,re=this.length;if((k=~~k)<0?(k+=re)<0&&(k=0):k>re&&(k=re),(D=D===void 0?re:~~D)<0?(D+=re)<0&&(D=0):D>re&&(D=re),D<k&&(D=k),g.TYPED_ARRAY_SUPPORT)(z=this.subarray(k,D)).__proto__=g.prototype;else{var Se=D-k;z=new g(Se,void 0);for(var Ne=0;Ne<Se;++Ne)z[Ne]=this[Ne+k]}return z},g.prototype.readUIntLE=function(k,D,z){k|=0,D|=0,z||rt(k,D,this.length);for(var re=this[k],Se=1,Ne=0;++Ne<D&&(Se*=256);)re+=this[k+Ne]*Se;return re},g.prototype.readUIntBE=function(k,D,z){k|=0,D|=0,z||rt(k,D,this.length);for(var re=this[k+--D],Se=1;D>0&&(Se*=256);)re+=this[k+--D]*Se;return re},g.prototype.readUInt8=function(k,D){return D||rt(k,1,this.length),this[k]},g.prototype.readUInt16LE=function(k,D){return D||rt(k,2,this.length),this[k]|this[k+1]<<8},g.prototype.readUInt16BE=function(k,D){return D||rt(k,2,this.length),this[k]<<8|this[k+1]},g.prototype.readUInt32LE=function(k,D){return D||rt(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+16777216*this[k+3]},g.prototype.readUInt32BE=function(k,D){return D||rt(k,4,this.length),16777216*this[k]+(this[k+1]<<16|this[k+2]<<8|this[k+3])},g.prototype.readIntLE=function(k,D,z){k|=0,D|=0,z||rt(k,D,this.length);for(var re=this[k],Se=1,Ne=0;++Ne<D&&(Se*=256);)re+=this[k+Ne]*Se;return re>=(Se*=128)&&(re-=Math.pow(2,8*D)),re},g.prototype.readIntBE=function(k,D,z){k|=0,D|=0,z||rt(k,D,this.length);for(var re=D,Se=1,Ne=this[k+--re];re>0&&(Se*=256);)Ne+=this[k+--re]*Se;return Ne>=(Se*=128)&&(Ne-=Math.pow(2,8*D)),Ne},g.prototype.readInt8=function(k,D){return D||rt(k,1,this.length),128&this[k]?-1*(255-this[k]+1):this[k]},g.prototype.readInt16LE=function(k,D){D||rt(k,2,this.length);var z=this[k]|this[k+1]<<8;return 32768&z?4294901760|z:z},g.prototype.readInt16BE=function(k,D){D||rt(k,2,this.length);var z=this[k+1]|this[k]<<8;return 32768&z?4294901760|z:z},g.prototype.readInt32LE=function(k,D){return D||rt(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},g.prototype.readInt32BE=function(k,D){return D||rt(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},g.prototype.readFloatLE=function(k,D){return D||rt(k,4,this.length),u.read(this,k,!0,23,4)},g.prototype.readFloatBE=function(k,D){return D||rt(k,4,this.length),u.read(this,k,!1,23,4)},g.prototype.readDoubleLE=function(k,D){return D||rt(k,8,this.length),u.read(this,k,!0,52,8)},g.prototype.readDoubleBE=function(k,D){return D||rt(k,8,this.length),u.read(this,k,!1,52,8)},g.prototype.writeUIntLE=function(k,D,z,re){k=+k,D|=0,z|=0,re||Y(this,k,D,z,Math.pow(2,8*z)-1,0);var Se=1,Ne=0;for(this[D]=255&k;++Ne<z&&(Se*=256);)this[D+Ne]=k/Se&255;return D+z},g.prototype.writeUIntBE=function(k,D,z,re){k=+k,D|=0,z|=0,re||Y(this,k,D,z,Math.pow(2,8*z)-1,0);var Se=z-1,Ne=1;for(this[D+Se]=255&k;--Se>=0&&(Ne*=256);)this[D+Se]=k/Ne&255;return D+z},g.prototype.writeUInt8=function(k,D,z){return k=+k,D|=0,z||Y(this,k,D,1,255,0),g.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),this[D]=255&k,D+1},g.prototype.writeUInt16LE=function(k,D,z){return k=+k,D|=0,z||Y(this,k,D,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[D]=255&k,this[D+1]=k>>>8):xe(this,k,D,!0),D+2},g.prototype.writeUInt16BE=function(k,D,z){return k=+k,D|=0,z||Y(this,k,D,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[D]=k>>>8,this[D+1]=255&k):xe(this,k,D,!1),D+2},g.prototype.writeUInt32LE=function(k,D,z){return k=+k,D|=0,z||Y(this,k,D,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[D+3]=k>>>24,this[D+2]=k>>>16,this[D+1]=k>>>8,this[D]=255&k):$e(this,k,D,!0),D+4},g.prototype.writeUInt32BE=function(k,D,z){return k=+k,D|=0,z||Y(this,k,D,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[D]=k>>>24,this[D+1]=k>>>16,this[D+2]=k>>>8,this[D+3]=255&k):$e(this,k,D,!1),D+4},g.prototype.writeIntLE=function(k,D,z,re){if(k=+k,D|=0,!re){var Se=Math.pow(2,8*z-1);Y(this,k,D,z,Se-1,-Se)}var Ne=0,ct=1,Pe=0;for(this[D]=255&k;++Ne<z&&(ct*=256);)k<0&&Pe===0&&this[D+Ne-1]!==0&&(Pe=1),this[D+Ne]=(k/ct>>0)-Pe&255;return D+z},g.prototype.writeIntBE=function(k,D,z,re){if(k=+k,D|=0,!re){var Se=Math.pow(2,8*z-1);Y(this,k,D,z,Se-1,-Se)}var Ne=z-1,ct=1,Pe=0;for(this[D+Ne]=255&k;--Ne>=0&&(ct*=256);)k<0&&Pe===0&&this[D+Ne+1]!==0&&(Pe=1),this[D+Ne]=(k/ct>>0)-Pe&255;return D+z},g.prototype.writeInt8=function(k,D,z){return k=+k,D|=0,z||Y(this,k,D,1,127,-128),g.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),k<0&&(k=255+k+1),this[D]=255&k,D+1},g.prototype.writeInt16LE=function(k,D,z){return k=+k,D|=0,z||Y(this,k,D,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[D]=255&k,this[D+1]=k>>>8):xe(this,k,D,!0),D+2},g.prototype.writeInt16BE=function(k,D,z){return k=+k,D|=0,z||Y(this,k,D,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[D]=k>>>8,this[D+1]=255&k):xe(this,k,D,!1),D+2},g.prototype.writeInt32LE=function(k,D,z){return k=+k,D|=0,z||Y(this,k,D,4,2147483647,-2147483648),g.TYPED_ARRAY_SUPPORT?(this[D]=255&k,this[D+1]=k>>>8,this[D+2]=k>>>16,this[D+3]=k>>>24):$e(this,k,D,!0),D+4},g.prototype.writeInt32BE=function(k,D,z){return k=+k,D|=0,z||Y(this,k,D,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),g.TYPED_ARRAY_SUPPORT?(this[D]=k>>>24,this[D+1]=k>>>16,this[D+2]=k>>>8,this[D+3]=255&k):$e(this,k,D,!1),D+4},g.prototype.writeFloatLE=function(k,D,z){return at(this,k,D,!0,z)},g.prototype.writeFloatBE=function(k,D,z){return at(this,k,D,!1,z)},g.prototype.writeDoubleLE=function(k,D,z){return It(this,k,D,!0,z)},g.prototype.writeDoubleBE=function(k,D,z){return It(this,k,D,!1,z)},g.prototype.copy=function(k,D,z,re){if(z||(z=0),re||re===0||(re=this.length),D>=k.length&&(D=k.length),D||(D=0),re>0&&re<z&&(re=z),re===z||k.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("sourceStart out of bounds");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),k.length-D<re-z&&(re=k.length-D+z);var Se,Ne=re-z;if(this===k&&z<D&&D<re)for(Se=Ne-1;Se>=0;--Se)k[Se+D]=this[Se+z];else if(Ne<1e3||!g.TYPED_ARRAY_SUPPORT)for(Se=0;Se<Ne;++Se)k[Se+D]=this[Se+z];else Uint8Array.prototype.set.call(k,this.subarray(z,z+Ne),D);return Ne},g.prototype.fill=function(k,D,z,re){if(typeof k=="string"){if(typeof D=="string"?(re=D,D=0,z=this.length):typeof z=="string"&&(re=z,z=this.length),k.length===1){var Se=k.charCodeAt(0);Se<256&&(k=Se)}if(re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!g.isEncoding(re))throw new TypeError("Unknown encoding: "+re)}else typeof k=="number"&&(k&=255);if(D<0||this.length<D||this.length<z)throw new RangeError("Out of range index");if(z<=D)return this;var Ne;if(D>>>=0,z=z===void 0?this.length:z>>>0,k||(k=0),typeof k=="number")for(Ne=D;Ne<z;++Ne)this[Ne]=k;else{var ct=g.isBuffer(k)?k:ce(new g(k,re).toString()),Pe=ct.length;for(Ne=0;Ne<z-D;++Ne)this[Ne+D]=ct[Ne%Pe]}return this};var Pt=/[^+\/0-9A-Za-z-_]/g;function Le(se){return se<16?"0"+se.toString(16):se.toString(16)}function ce(se,k){var D;k=k||1/0;for(var z=se.length,re=null,Se=[],Ne=0;Ne<z;++Ne){if((D=se.charCodeAt(Ne))>55295&&D<57344){if(!re){if(D>56319){(k-=3)>-1&&Se.push(239,191,189);continue}if(Ne+1===z){(k-=3)>-1&&Se.push(239,191,189);continue}re=D;continue}if(D<56320){(k-=3)>-1&&Se.push(239,191,189),re=D;continue}D=65536+(re-55296<<10|D-56320)}else re&&(k-=3)>-1&&Se.push(239,191,189);if(re=null,D<128){if((k-=1)<0)break;Se.push(D)}else if(D<2048){if((k-=2)<0)break;Se.push(D>>6|192,63&D|128)}else if(D<65536){if((k-=3)<0)break;Se.push(D>>12|224,D>>6&63|128,63&D|128)}else{if(!(D<1114112))throw new Error("Invalid code point");if((k-=4)<0)break;Se.push(D>>18|240,D>>12&63|128,D>>6&63|128,63&D|128)}}return Se}function Ie(se){return s.toByteArray(function(D){if((D=function(re){return re.trim?re.trim():re.replace(/^\s+|\s+$/g,"")}(D).replace(Pt,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D}(se))}function Ye(se,k,D,z){for(var re=0;re<z&&!(re+D>=k.length||re>=se.length);++re)k[re+D]=se[re];return re}}).call(this,a(29))},function(r,i){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}r.exports=a},function(r,i,a){i.byteLength=function(T){var x=g(T),C=x[0],E=x[1];return 3*(C+E)/4-E},i.toByteArray=function(T){var x,C,E=g(T),I=E[0],O=E[1],H=new u(function($,Ae,K){return 3*(Ae+K)/4-K}(0,I,O)),L=0,q=O>0?I-4:I;for(C=0;C<q;C+=4)x=s[T.charCodeAt(C)]<<18|s[T.charCodeAt(C+1)]<<12|s[T.charCodeAt(C+2)]<<6|s[T.charCodeAt(C+3)],H[L++]=x>>16&255,H[L++]=x>>8&255,H[L++]=255&x;return O===2&&(x=s[T.charCodeAt(C)]<<2|s[T.charCodeAt(C+1)]>>4,H[L++]=255&x),O===1&&(x=s[T.charCodeAt(C)]<<10|s[T.charCodeAt(C+1)]<<4|s[T.charCodeAt(C+2)]>>2,H[L++]=x>>8&255,H[L++]=255&x),H},i.fromByteArray=function(T){for(var x,C=T.length,E=C%3,I=[],O=16383,H=0,L=C-E;H<L;H+=O)I.push(w(T,H,H+O>L?L:H+O));return E===1?(x=T[C-1],I.push(l[x>>2]+l[x<<4&63]+"==")):E===2&&(x=(T[C-2]<<8)+T[C-1],I.push(l[x>>10]+l[x>>4&63]+l[x<<2&63]+"=")),I.join("")};for(var l=[],s=[],u=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,p=d.length;c<p;++c)l[c]=d[c],s[d.charCodeAt(c)]=c;function g(_){var T=_.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=_.indexOf("=");return x===-1&&(x=T),[x,x===T?0:4-x%4]}function w(_,T,x){for(var C,E,I=[],O=T;O<x;O+=3)C=(_[O]<<16&16711680)+(_[O+1]<<8&65280)+(255&_[O+2]),I.push(l[(E=C)>>18&63]+l[E>>12&63]+l[E>>6&63]+l[63&E]);return I.join("")}s[45]=62,s[95]=63},function(r,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(a,l,s,u,d){var c,p,g=8*d-u-1,w=(1<<g)-1,_=w>>1,T=-7,x=s?d-1:0,C=s?-1:1,E=a[l+x];for(x+=C,c=E&(1<<-T)-1,E>>=-T,T+=g;T>0;c=256*c+a[l+x],x+=C,T-=8);for(p=c&(1<<-T)-1,c>>=-T,T+=u;T>0;p=256*p+a[l+x],x+=C,T-=8);if(c===0)c=1-_;else{if(c===w)return p?NaN:1/0*(E?-1:1);p+=Math.pow(2,u),c-=_}return(E?-1:1)*p*Math.pow(2,c-u)},i.write=function(a,l,s,u,d,c){var p,g,w,_=8*c-d-1,T=(1<<_)-1,x=T>>1,C=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=u?0:c-1,I=u?1:-1,O=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(g=isNaN(l)?1:0,p=T):(p=Math.floor(Math.log(l)/Math.LN2),l*(w=Math.pow(2,-p))<1&&(p--,w*=2),(l+=p+x>=1?C/w:C*Math.pow(2,1-x))*w>=2&&(p++,w/=2),p+x>=T?(g=0,p=T):p+x>=1?(g=(l*w-1)*Math.pow(2,d),p+=x):(g=l*Math.pow(2,x-1)*Math.pow(2,d),p=0));d>=8;a[s+E]=255&g,E+=I,g/=256,d-=8);for(p=p<<d|g,_+=d;_>0;a[s+E]=255&p,E+=I,p/=256,_-=8);a[s+E-I]|=128*O}},function(r,i){var a={}.toString;r.exports=Array.isArray||function(l){return a.call(l)=="[object Array]"}},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(u){var d=u.jws,c=u.KeyUtil,p=u.X509,g=u.crypto,w=u.hextob64u,_=u.b64tohex,T=u.AllowedSigningAlgs;return function(){function x(){(function(E,I){if(!(E instanceof I))throw new TypeError("Cannot call a class as a function")})(this,x)}return x.parseJwt=function(E){l.Log.debug("JoseUtil.parseJwt");try{var I=d.JWS.parse(E);return{header:I.headerObj,payload:I.payloadObj}}catch(O){l.Log.error(O)}},x.validateJwt=function(E,I,O,H,L,q,W){l.Log.debug("JoseUtil.validateJwt");try{if(I.kty==="RSA")if(I.e&&I.n)I=c.getKey(I);else{if(!I.x5c||!I.x5c.length)return l.Log.error("JoseUtil.validateJwt: RSA key missing key material",I),Promise.reject(new Error("RSA key missing key material"));var $=_(I.x5c[0]);I=p.getPublicKeyFromCertHex($)}else{if(I.kty!=="EC")return l.Log.error("JoseUtil.validateJwt: Unsupported key type",I&&I.kty),Promise.reject(new Error(I.kty));if(!(I.crv&&I.x&&I.y))return l.Log.error("JoseUtil.validateJwt: EC key missing key material",I),Promise.reject(new Error("EC key missing key material"));I=c.getKey(I)}return x._validateJwt(E,I,O,H,L,q,W)}catch(Ae){return l.Log.error(Ae&&Ae.message||Ae),Promise.reject("JWT validation failed")}},x.validateJwtAttributes=function(E,I,O,H,L,q){H||(H=0),L||(L=parseInt(Date.now()/1e3));var W=x.parseJwt(E).payload;if(!W.iss)return l.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(W.iss!==I)return l.Log.error("JoseUtil._validateJwt: Invalid issuer in token",W.iss),Promise.reject(new Error("Invalid issuer in token: "+W.iss));if(!W.aud)return l.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(W.aud===O||Array.isArray(W.aud)&&W.aud.indexOf(O)>=0))return l.Log.error("JoseUtil._validateJwt: Invalid audience in token",W.aud),Promise.reject(new Error("Invalid audience in token: "+W.aud));if(W.azp&&W.azp!==O)return l.Log.error("JoseUtil._validateJwt: Invalid azp in token",W.azp),Promise.reject(new Error("Invalid azp in token: "+W.azp));if(!q){var $=L+H,Ae=L-H;if(!W.iat)return l.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if($<W.iat)return l.Log.error("JoseUtil._validateJwt: iat is in the future",W.iat),Promise.reject(new Error("iat is in the future: "+W.iat));if(W.nbf&&$<W.nbf)return l.Log.error("JoseUtil._validateJwt: nbf is in the future",W.nbf),Promise.reject(new Error("nbf is in the future: "+W.nbf));if(!W.exp)return l.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(W.exp<Ae)return l.Log.error("JoseUtil._validateJwt: exp is in the past",W.exp),Promise.reject(new Error("exp is in the past:"+W.exp))}return Promise.resolve(W)},x._validateJwt=function(E,I,O,H,L,q,W){return x.validateJwtAttributes(E,O,H,L,q,W).then(function($){try{return d.JWS.verify(E,I,T)?$:(l.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(Ae){return l.Log.error(Ae&&Ae.message||Ae),Promise.reject(new Error("signature validation failed"))}})},x.hashString=function(E,I){try{return g.Util.hashString(E,I)}catch(O){l.Log.error(O)}},x.hexToBase64Url=function(E){try{return w(E)}catch(I){l.Log.error(I)}},x}()};var l=a(0);r.exports=i.default},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.SigninResponse=void 0;var l=function(){function d(c,p){for(var g=0;g<p.length;g++){var w=p[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,p,g){return p&&d(c.prototype,p),g&&d(c,g),c}}(),s=a(3);function u(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}i.SigninResponse=function(){function d(c){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";u(this,d);var g=s.UrlUtility.parseUrlFragment(c,p);this.error=g.error,this.error_description=g.error_description,this.error_uri=g.error_uri,this.code=g.code,this.state=g.state,this.id_token=g.id_token,this.session_state=g.session_state,this.access_token=g.access_token,this.token_type=g.token_type,this.scope=g.scope,this.profile=void 0,this.expires_in=g.expires_in}return l(d,[{key:"expires_in",get:function(){if(this.expires_at){var p=parseInt(Date.now()/1e3);return this.expires_at-p}},set:function(p){var g=parseInt(p);if(typeof g=="number"&&g>0){var w=parseInt(Date.now()/1e3);this.expires_at=w+g}}},{key:"expired",get:function(){var p=this.expires_in;if(p!==void 0)return p<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),d}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.SignoutRequest=void 0;var l=a(0),s=a(3),u=a(9);i.SignoutRequest=function d(c){var p=c.url,g=c.id_token_hint,w=c.post_logout_redirect_uri,_=c.data,T=c.extraQueryParams,x=c.request_type;if(function(I,O){if(!(I instanceof O))throw new TypeError("Cannot call a class as a function")}(this,d),!p)throw l.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var C in g&&(p=s.UrlUtility.addQueryParam(p,"id_token_hint",g)),w&&(p=s.UrlUtility.addQueryParam(p,"post_logout_redirect_uri",w),_&&(this.state=new u.State({data:_,request_type:x}),p=s.UrlUtility.addQueryParam(p,"state",this.state.id))),T)p=s.UrlUtility.addQueryParam(p,C,T[C]);this.url=p}},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.SignoutResponse=void 0;var l=a(3);i.SignoutResponse=function s(u){(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,s);var d=l.UrlUtility.parseUrlFragment(u,"?");this.error=d.error,this.error_description=d.error_description,this.error_uri=d.error_uri,this.state=d.state}},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.InMemoryWebStorage=void 0;var l=function(){function u(d,c){for(var p=0;p<c.length;p++){var g=c[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,c,p){return c&&u(d.prototype,c),p&&u(d,p),d}}(),s=a(0);i.InMemoryWebStorage=function(){function u(){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u),this._data={}}return u.prototype.getItem=function(c){return s.Log.debug("InMemoryWebStorage.getItem",c),this._data[c]},u.prototype.setItem=function(c,p){s.Log.debug("InMemoryWebStorage.setItem",c),this._data[c]=p},u.prototype.removeItem=function(c){s.Log.debug("InMemoryWebStorage.removeItem",c),delete this._data[c]},u.prototype.key=function(c){return Object.getOwnPropertyNames(this._data)[c]},l(u,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),u}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.UserManager=void 0;var l=function(){function O(H,L){for(var q=0;q<L.length;q++){var W=L[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(H,W.key,W)}}return function(H,L,q){return L&&O(H.prototype,L),q&&O(H,q),H}}(),s=a(0),u=a(10),d=a(39),c=a(15),p=a(45),g=a(47),w=a(18),_=a(8),T=a(20),x=a(11),C=a(4);function E(O,H){if(!(O instanceof H))throw new TypeError("Cannot call a class as a function")}function I(O,H){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!H||typeof H!="object"&&typeof H!="function"?O:H}i.UserManager=function(O){function H(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.SilentRenewService,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.SessionMonitor,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T.TokenRevocationClient,Ae=arguments.length>4&&arguments[4]!==void 0?arguments[4]:x.TokenClient,K=arguments.length>5&&arguments[5]!==void 0?arguments[5]:C.JoseUtil;E(this,H),L instanceof d.UserManagerSettings||(L=new d.UserManagerSettings(L));var ae=I(this,O.call(this,L));return ae._events=new p.UserManagerEvents(L),ae._silentRenewService=new q(ae),ae.settings.automaticSilentRenew&&(s.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),ae.startSilentRenew()),ae.settings.monitorSession&&(s.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),ae._sessionMonitor=new W(ae)),ae._tokenRevocationClient=new $(ae._settings),ae._tokenClient=new Ae(ae._settings),ae._joseUtil=K,ae}return function(q,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);q.prototype=Object.create(W&&W.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(q,W):q.__proto__=W)}(H,O),H.prototype.getUser=function(){var q=this;return this._loadUser().then(function(W){return W?(s.Log.info("UserManager.getUser: user loaded"),q._events.load(W,!1),W):(s.Log.info("UserManager.getUser: user not found in storage"),null)})},H.prototype.removeUser=function(){var q=this;return this.storeUser(null).then(function(){s.Log.info("UserManager.removeUser: user removed from storage"),q._events.unload()})},H.prototype.signinRedirect=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(q=Object.assign({},q)).request_type="si:r";var W={useReplaceToNavigate:q.useReplaceToNavigate};return this._signinStart(q,this._redirectNavigator,W).then(function(){s.Log.info("UserManager.signinRedirect: successful")})},H.prototype.signinRedirectCallback=function(q){return this._signinEnd(q||this._redirectNavigator.url).then(function(W){return W.profile&&W.profile.sub?s.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",W.profile.sub):s.Log.info("UserManager.signinRedirectCallback: no sub"),W})},H.prototype.signinPopup=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(q=Object.assign({},q)).request_type="si:p";var W=q.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return W?(q.redirect_uri=W,q.display="popup",this._signin(q,this._popupNavigator,{startUrl:W,popupWindowFeatures:q.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:q.popupWindowTarget||this.settings.popupWindowTarget}).then(function($){return $&&($.profile&&$.profile.sub?s.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",$.profile.sub):s.Log.info("UserManager.signinPopup: no sub")),$})):(s.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},H.prototype.signinPopupCallback=function(q){return this._signinCallback(q,this._popupNavigator).then(function(W){return W&&(W.profile&&W.profile.sub?s.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",W.profile.sub):s.Log.info("UserManager.signinPopupCallback: no sub")),W}).catch(function(W){s.Log.error(W.message)})},H.prototype.signinSilent=function(){var q=this,W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return W=Object.assign({},W),this._loadUser().then(function($){return $&&$.refresh_token?(W.refresh_token=$.refresh_token,q._useRefreshToken(W)):(W.request_type="si:s",W.id_token_hint=W.id_token_hint||q.settings.includeIdTokenInSilentRenew&&$&&$.id_token,$&&q._settings.validateSubOnSilentRenew&&(s.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",$.profile.sub),W.current_sub=$.profile.sub),q._signinSilentIframe(W))})},H.prototype._useRefreshToken=function(){var q=this,W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(W).then(function($){return $?$.access_token?q._loadUser().then(function(Ae){if(Ae){var K=Promise.resolve();return $.id_token&&(K=q._validateIdTokenFromTokenRefreshToken(Ae.profile,$.id_token)),K.then(function(){return s.Log.debug("UserManager._useRefreshToken: refresh token response success"),Ae.id_token=$.id_token||Ae.id_token,Ae.access_token=$.access_token,Ae.refresh_token=$.refresh_token||Ae.refresh_token,Ae.expires_in=$.expires_in,q.storeUser(Ae).then(function(){return q._events.load(Ae),Ae})})}return null}):(s.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(s.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},H.prototype._validateIdTokenFromTokenRefreshToken=function(q,W){var $=this;return this._metadataService.getIssuer().then(function(Ae){return $.settings.getEpochTime().then(function(K){return $._joseUtil.validateJwtAttributes(W,Ae,$._settings.client_id,$._settings.clockSkew,K).then(function(ae){return ae?ae.sub!==q.sub?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):ae.auth_time&&ae.auth_time!==q.auth_time?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):ae.azp&&ae.azp!==q.azp?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!ae.azp&&q.azp?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},H.prototype._signinSilentIframe=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=q.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return W?(q.redirect_uri=W,q.prompt=q.prompt||"none",this._signin(q,this._iframeNavigator,{startUrl:W,silentRequestTimeout:q.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function($){return $&&($.profile&&$.profile.sub?s.Log.info("UserManager.signinSilent: successful, signed in sub: ",$.profile.sub):s.Log.info("UserManager.signinSilent: no sub")),$})):(s.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},H.prototype.signinSilentCallback=function(q){return this._signinCallback(q,this._iframeNavigator).then(function(W){return W&&(W.profile&&W.profile.sub?s.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",W.profile.sub):s.Log.info("UserManager.signinSilentCallback: no sub")),W})},H.prototype.signinCallback=function(q){var W=this;return this.readSigninResponseState(q).then(function($){var Ae=$.state;return $.response,Ae.request_type==="si:r"?W.signinRedirectCallback(q):Ae.request_type==="si:p"?W.signinPopupCallback(q):Ae.request_type==="si:s"?W.signinSilentCallback(q):Promise.reject(new Error("invalid response_type in state"))})},H.prototype.signoutCallback=function(q,W){var $=this;return this.readSignoutResponseState(q).then(function(Ae){var K=Ae.state,ae=Ae.response;return K?K.request_type==="so:r"?$.signoutRedirectCallback(q):K.request_type==="so:p"?$.signoutPopupCallback(q,W):Promise.reject(new Error("invalid response_type in state")):ae})},H.prototype.querySessionStatus=function(){var q=this,W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(W=Object.assign({},W)).request_type="si:s";var $=W.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return $?(W.redirect_uri=$,W.prompt="none",W.response_type=W.response_type||this.settings.query_status_response_type,W.scope=W.scope||"openid",W.skipUserInfo=!0,this._signinStart(W,this._iframeNavigator,{startUrl:$,silentRequestTimeout:W.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Ae){return q.processSigninResponse(Ae.url).then(function(K){if(s.Log.debug("UserManager.querySessionStatus: got signin response"),K.session_state&&K.profile.sub)return s.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",K.profile.sub),{session_state:K.session_state,sub:K.profile.sub,sid:K.profile.sid};s.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(K){if(K.session_state&&q.settings.monitorAnonymousSession&&(K.message=="login_required"||K.message=="consent_required"||K.message=="interaction_required"||K.message=="account_selection_required"))return s.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:K.session_state};throw K})})):(s.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},H.prototype._signin=function(q,W){var $=this,Ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(q,W,Ae).then(function(K){return $._signinEnd(K.url,q)})},H.prototype._signinStart=function(q,W){var $=this,Ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return W.prepare(Ae).then(function(K){return s.Log.debug("UserManager._signinStart: got navigator window handle"),$.createSigninRequest(q).then(function(ae){return s.Log.debug("UserManager._signinStart: got signin request"),Ae.url=ae.url,Ae.id=ae.state.id,K.navigate(Ae)}).catch(function(ae){throw K.close&&(s.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),K.close()),ae})})},H.prototype._signinEnd=function(q){var W=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(q).then(function(Ae){s.Log.debug("UserManager._signinEnd: got signin response");var K=new c.User(Ae);if($.current_sub){if($.current_sub!==K.profile.sub)return s.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",K.profile.sub),Promise.reject(new Error("login_required"));s.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return W.storeUser(K).then(function(){return s.Log.debug("UserManager._signinEnd: user stored"),W._events.load(K),K})})},H.prototype._signinCallback=function(q,W){s.Log.debug("UserManager._signinCallback");var $=this._settings.response_mode==="query"||!this._settings.response_mode&&_.SigninRequest.isCode(this._settings.response_type)?"?":"#";return W.callback(q,void 0,$)},H.prototype.signoutRedirect=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(q=Object.assign({},q)).request_type="so:r";var W=q.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;W&&(q.post_logout_redirect_uri=W);var $={useReplaceToNavigate:q.useReplaceToNavigate};return this._signoutStart(q,this._redirectNavigator,$).then(function(){s.Log.info("UserManager.signoutRedirect: successful")})},H.prototype.signoutRedirectCallback=function(q){return this._signoutEnd(q||this._redirectNavigator.url).then(function(W){return s.Log.info("UserManager.signoutRedirectCallback: successful"),W})},H.prototype.signoutPopup=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(q=Object.assign({},q)).request_type="so:p";var W=q.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return q.post_logout_redirect_uri=W,q.display="popup",q.post_logout_redirect_uri&&(q.state=q.state||{}),this._signout(q,this._popupNavigator,{startUrl:W,popupWindowFeatures:q.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:q.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){s.Log.info("UserManager.signoutPopup: successful")})},H.prototype.signoutPopupCallback=function(q,W){return W===void 0&&typeof q=="boolean"&&(W=q,q=null),this._popupNavigator.callback(q,W,"?").then(function(){s.Log.info("UserManager.signoutPopupCallback: successful")})},H.prototype._signout=function(q,W){var $=this,Ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(q,W,Ae).then(function(K){return $._signoutEnd(K.url)})},H.prototype._signoutStart=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=this,$=arguments[1],Ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $.prepare(Ae).then(function(K){return s.Log.debug("UserManager._signoutStart: got navigator window handle"),W._loadUser().then(function(ae){return s.Log.debug("UserManager._signoutStart: loaded current user from storage"),(W._settings.revokeAccessTokenOnSignout?W._revokeInternal(ae):Promise.resolve()).then(function(){var pe=q.id_token_hint||ae&&ae.id_token;return pe&&(s.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),q.id_token_hint=pe),W.removeUser().then(function(){return s.Log.debug("UserManager._signoutStart: user removed, creating signout request"),W.createSignoutRequest(q).then(function(be){return s.Log.debug("UserManager._signoutStart: got signout request"),Ae.url=be.url,be.state&&(Ae.id=be.state.id),K.navigate(Ae)})})})}).catch(function(ae){throw K.close&&(s.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),K.close()),ae})})},H.prototype._signoutEnd=function(q){return this.processSignoutResponse(q).then(function(W){return s.Log.debug("UserManager._signoutEnd: got signout response"),W})},H.prototype.revokeAccessToken=function(){var q=this;return this._loadUser().then(function(W){return q._revokeInternal(W,!0).then(function($){if($)return s.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),W.access_token=null,W.refresh_token=null,W.expires_at=null,W.token_type=null,q.storeUser(W).then(function(){s.Log.debug("UserManager.revokeAccessToken: user stored"),q._events.load(W)})})}).then(function(){s.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},H.prototype._revokeInternal=function(q,W){var $=this;if(q){var Ae=q.access_token,K=q.refresh_token;return this._revokeAccessTokenInternal(Ae,W).then(function(ae){return $._revokeRefreshTokenInternal(K,W).then(function(pe){return ae||pe||s.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),ae||pe})})}return Promise.resolve(!1)},H.prototype._revokeAccessTokenInternal=function(q,W){return!q||q.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(q,W).then(function(){return!0})},H.prototype._revokeRefreshTokenInternal=function(q,W){return q?this._tokenRevocationClient.revoke(q,W,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},H.prototype.startSilentRenew=function(){this._silentRenewService.start()},H.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},H.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(q){return q?(s.Log.debug("UserManager._loadUser: user storageString loaded"),c.User.fromStorageString(q)):(s.Log.debug("UserManager._loadUser: no user storageString"),null)})},H.prototype.storeUser=function(q){if(q){s.Log.debug("UserManager.storeUser: storing user");var W=q.toStorageString();return this._userStore.set(this._userStoreKey,W)}return s.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},l(H,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),H}(u.OidcClient)},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.UserManagerSettings=void 0;var l=function(){function x(C,E){for(var I=0;I<E.length;I++){var O=E[I];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(C,O.key,O)}}return function(C,E,I){return E&&x(C.prototype,E),I&&x(C,I),C}}(),s=(a(0),a(5)),u=a(40),d=a(41),c=a(43),p=a(6),g=a(1),w=a(8);function _(x,C){if(!(x instanceof C))throw new TypeError("Cannot call a class as a function")}function T(x,C){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||typeof C!="object"&&typeof C!="function"?x:C}i.UserManagerSettings=function(x){function C(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=E.popup_redirect_uri,O=E.popup_post_logout_redirect_uri,H=E.popupWindowFeatures,L=E.popupWindowTarget,q=E.silent_redirect_uri,W=E.silentRequestTimeout,$=E.automaticSilentRenew,Ae=$!==void 0&&$,K=E.validateSubOnSilentRenew,ae=K!==void 0&&K,pe=E.includeIdTokenInSilentRenew,be=pe===void 0||pe,Ze=E.monitorSession,it=Ze===void 0||Ze,Re=E.monitorAnonymousSession,lt=Re!==void 0&&Re,ge=E.checkSessionInterval,rt=ge===void 0?2e3:ge,Y=E.stopCheckSessionOnError,xe=Y===void 0||Y,$e=E.query_status_response_type,Me=E.revokeAccessTokenOnSignout,at=Me!==void 0&&Me,It=E.accessTokenExpiringNotificationTime,Pt=It===void 0?60:It,Le=E.redirectNavigator,ce=Le===void 0?new u.RedirectNavigator:Le,Ie=E.popupNavigator,Ye=Ie===void 0?new d.PopupNavigator:Ie,se=E.iframeNavigator,k=se===void 0?new c.IFrameNavigator:se,D=E.userStore,z=D===void 0?new p.WebStorageStateStore({store:g.Global.sessionStorage}):D;_(this,C);var re=T(this,x.call(this,arguments[0]));return re._popup_redirect_uri=I,re._popup_post_logout_redirect_uri=O,re._popupWindowFeatures=H,re._popupWindowTarget=L,re._silent_redirect_uri=q,re._silentRequestTimeout=W,re._automaticSilentRenew=Ae,re._validateSubOnSilentRenew=ae,re._includeIdTokenInSilentRenew=be,re._accessTokenExpiringNotificationTime=Pt,re._monitorSession=it,re._monitorAnonymousSession=lt,re._checkSessionInterval=rt,re._stopCheckSessionOnError=xe,$e?re._query_status_response_type=$e:arguments[0]&&arguments[0].response_type?re._query_status_response_type=w.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":re._query_status_response_type="id_token",re._revokeAccessTokenOnSignout=at,re._redirectNavigator=ce,re._popupNavigator=Ye,re._iframeNavigator=k,re._userStore=z,re}return function(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);I.prototype=Object.create(O&&O.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(I,O):I.__proto__=O)}(C,x),l(C,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),C}(s.OidcClientSettings)},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.RedirectNavigator=void 0;var l=function(){function u(d,c){for(var p=0;p<c.length;p++){var g=c[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,c,p){return c&&u(d.prototype,c),p&&u(d,p),d}}(),s=a(0);i.RedirectNavigator=function(){function u(){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.prototype.prepare=function(){return Promise.resolve(this)},u.prototype.navigate=function(c){return c&&c.url?(c.useReplaceToNavigate?window.location.replace(c.url):window.location=c.url,Promise.resolve()):(s.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},l(u,[{key:"url",get:function(){return window.location.href}}]),u}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.PopupNavigator=void 0;var l=a(0),s=a(42);i.PopupNavigator=function(){function u(){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.prototype.prepare=function(c){var p=new s.PopupWindow(c);return Promise.resolve(p)},u.prototype.callback=function(c,p,g){l.Log.debug("PopupNavigator.callback");try{return s.PopupWindow.notifyOpener(c,p,g),Promise.resolve()}catch(w){return Promise.reject(w)}},u}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.PopupWindow=void 0;var l=function(){function d(c,p){for(var g=0;g<p.length;g++){var w=p[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,p,g){return p&&d(c.prototype,p),g&&d(c,g),c}}(),s=a(0),u=a(3);i.PopupWindow=function(){function d(c){var p=this;(function(T,x){if(!(T instanceof x))throw new TypeError("Cannot call a class as a function")})(this,d),this._promise=new Promise(function(_,T){p._resolve=_,p._reject=T});var g=c.popupWindowTarget||"_blank",w=c.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",g,w),this._popup&&(s.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return d.prototype.navigate=function(p){return this._popup?p&&p.url?(s.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=p.id,this._id&&(window["popupCallback_"+p.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=p.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},d.prototype._success=function(p){s.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(p)},d.prototype._error=function(p){s.Log.error("PopupWindow.error: ",p),this._cleanup(),this._reject(new Error(p))},d.prototype.close=function(){this._cleanup(!1)},d.prototype._cleanup=function(p){s.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!p&&this._popup.close(),this._popup=null},d.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},d.prototype._callback=function(p,g){this._cleanup(g),p?(s.Log.debug("PopupWindow.callback success"),this._success({url:p})):(s.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},d.notifyOpener=function(p,g,w){if(window.opener){if(p=p||window.location.href){var _=u.UrlUtility.parseUrlFragment(p,w);if(_.state){var T="popupCallback_"+_.state,x=window.opener[T];x?(s.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),x(p,g)):s.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else s.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else s.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},l(d,[{key:"promise",get:function(){return this._promise}}]),d}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.IFrameNavigator=void 0;var l=a(0),s=a(44);i.IFrameNavigator=function(){function u(){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.prototype.prepare=function(c){var p=new s.IFrameWindow(c);return Promise.resolve(p)},u.prototype.callback=function(c){l.Log.debug("IFrameNavigator.callback");try{return s.IFrameWindow.notifyParent(c),Promise.resolve()}catch(p){return Promise.reject(p)}},u}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.IFrameWindow=void 0;var l=function(){function u(d,c){for(var p=0;p<c.length;p++){var g=c[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return function(d,c,p){return c&&u(d.prototype,c),p&&u(d,p),d}}(),s=a(0);i.IFrameWindow=function(){function u(d){var c=this;(function(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")})(this,u),this._promise=new Promise(function(p,g){c._resolve=p,c._reject=g}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return u.prototype.navigate=function(c){if(c&&c.url){var p=c.silentRequestTimeout||1e4;s.Log.debug("IFrameWindow.navigate: Using timeout of:",p),this._timer=window.setTimeout(this._timeout.bind(this),p),this._frame.src=c.url}else this._error("No url provided");return this.promise},u.prototype._success=function(c){this._cleanup(),s.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(c)},u.prototype._error=function(c){this._cleanup(),s.Log.error(c),this._reject(new Error(c))},u.prototype.close=function(){this._cleanup()},u.prototype._cleanup=function(){this._frame&&(s.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},u.prototype._timeout=function(){s.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},u.prototype._message=function(c){if(s.Log.debug("IFrameWindow.message"),this._timer&&c.origin===this._origin&&c.source===this._frame.contentWindow&&typeof c.data=="string"&&(c.data.startsWith("http://")||c.data.startsWith("https://"))){var p=c.data;p?this._success({url:p}):this._error("Invalid response from frame")}},u.notifyParent=function(c){s.Log.debug("IFrameWindow.notifyParent"),(c=c||window.location.href)&&(s.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(c,location.protocol+"//"+location.host))},l(u,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),u}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.UserManagerEvents=void 0;var l=a(0),s=a(16),u=a(17);i.UserManagerEvents=function(d){function c(p){(function(_,T){if(!(_ instanceof T))throw new TypeError("Cannot call a class as a function")})(this,c);var g=function(_,T){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||typeof T!="object"&&typeof T!="function"?_:T}(this,d.call(this,p));return g._userLoaded=new u.Event("User loaded"),g._userUnloaded=new u.Event("User unloaded"),g._silentRenewError=new u.Event("Silent renew error"),g._userSignedIn=new u.Event("User signed in"),g._userSignedOut=new u.Event("User signed out"),g._userSessionChanged=new u.Event("User session changed"),g}return function(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);g.prototype=Object.create(w&&w.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(g,w):g.__proto__=w)}(c,d),c.prototype.load=function(g){var w=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];l.Log.debug("UserManagerEvents.load"),d.prototype.load.call(this,g),w&&this._userLoaded.raise(g)},c.prototype.unload=function(){l.Log.debug("UserManagerEvents.unload"),d.prototype.unload.call(this),this._userUnloaded.raise()},c.prototype.addUserLoaded=function(g){this._userLoaded.addHandler(g)},c.prototype.removeUserLoaded=function(g){this._userLoaded.removeHandler(g)},c.prototype.addUserUnloaded=function(g){this._userUnloaded.addHandler(g)},c.prototype.removeUserUnloaded=function(g){this._userUnloaded.removeHandler(g)},c.prototype.addSilentRenewError=function(g){this._silentRenewError.addHandler(g)},c.prototype.removeSilentRenewError=function(g){this._silentRenewError.removeHandler(g)},c.prototype._raiseSilentRenewError=function(g){l.Log.debug("UserManagerEvents._raiseSilentRenewError",g.message),this._silentRenewError.raise(g)},c.prototype.addUserSignedIn=function(g){this._userSignedIn.addHandler(g)},c.prototype.removeUserSignedIn=function(g){this._userSignedIn.removeHandler(g)},c.prototype._raiseUserSignedIn=function(){l.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},c.prototype.addUserSignedOut=function(g){this._userSignedOut.addHandler(g)},c.prototype.removeUserSignedOut=function(g){this._userSignedOut.removeHandler(g)},c.prototype._raiseUserSignedOut=function(){l.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},c.prototype.addUserSessionChanged=function(g){this._userSessionChanged.addHandler(g)},c.prototype.removeUserSessionChanged=function(g){this._userSessionChanged.removeHandler(g)},c.prototype._raiseUserSessionChanged=function(){l.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},c}(s.AccessTokenEvents)},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.Timer=void 0;var l=function(){function g(w,_){for(var T=0;T<_.length;T++){var x=_[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(w,x.key,x)}}return function(w,_,T){return _&&g(w.prototype,_),T&&g(w,T),w}}(),s=a(0),u=a(1),d=a(17);function c(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")}function p(g,w){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?g:w}i.Timer=function(g){function w(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.Global.timer,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;c(this,w);var C=p(this,g.call(this,_));return C._timer=T,C._nowFunc=x||function(){return Date.now()/1e3},C}return function(T,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);T.prototype=Object.create(x&&x.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(T,x):T.__proto__=x)}(w,g),w.prototype.init=function(T){T<=0&&(T=1),T=parseInt(T);var x=this.now+T;if(this.expiration===x&&this._timerHandle)s.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),s.Log.debug("Timer.init timer "+this._name+" for duration:",T),this._expiration=x;var C=5;T<C&&(C=T),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*C)}},w.prototype.cancel=function(){this._timerHandle&&(s.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},w.prototype._callback=function(){var T=this._expiration-this.now;s.Log.debug("Timer.callback; "+this._name+" timer expires in:",T),this._expiration<=this.now&&(this.cancel(),g.prototype.raise.call(this))},l(w,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),w}(d.Event)},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.SilentRenewService=void 0;var l=a(0);i.SilentRenewService=function(){function s(u){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,s),this._userManager=u}return s.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(d){}).catch(function(d){l.Log.error("SilentRenewService.start: Error from getUser:",d.message)}))},s.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},s.prototype._tokenExpiring=function(){var d=this;this._userManager.signinSilent().then(function(c){l.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(c){l.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",c.message),d._userManager.events._raiseSilentRenewError(c)})},s}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.CordovaPopupNavigator=void 0;var l=a(21);i.CordovaPopupNavigator=function(){function s(){(function(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(d){var c=new l.CordovaPopupWindow(d);return Promise.resolve(c)},s}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.CordovaIFrameNavigator=void 0;var l=a(21);i.CordovaIFrameNavigator=function(){function s(){(function(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(d){d.popupWindowFeatures="hidden=yes";var c=new l.CordovaPopupWindow(d);return Promise.resolve(c)},s}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.Version="1.11.6"}])})}(Qy)),Qy.exports}var xo=DN();Yf();const{fetch:__}=globalThis;let Fy;const MN=new Uint8Array(16);function LN(){if(!Fy&&(Fy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Fy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fy(MN)}const la=[];for(let e=0;e<256;++e)la.push((e+256).toString(16).slice(1));function UN(e,t=0){return la[e[t+0]]+la[e[t+1]]+la[e[t+2]]+la[e[t+3]]+"-"+la[e[t+4]]+la[e[t+5]]+"-"+la[e[t+6]]+la[e[t+7]]+"-"+la[e[t+8]]+la[e[t+9]]+"-"+la[e[t+10]]+la[e[t+11]]+la[e[t+12]]+la[e[t+13]]+la[e[t+14]]+la[e[t+15]]}const kN=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),oA={randomUUID:kN};function jN(e,t,r){if(oA.randomUUID&&!e)return oA.randomUUID();e=e||{};const i=e.random||(e.rng||LN)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,UN(i)}const hv=["ES256","RS256"],BN="openid",HN="offline_access",VN="webid",$N=[BN,HN,VN].join(" ");async function KN(e,t){const r=await __.call(globalThis,e);if(r.status!==200)throw new Error(`Could not fetch JWKS for [${t}] at [${e}]: ${r.status} ${r.statusText}`);let i;try{i=(await r.json()).keys[0]}catch(a){throw new Error(`Malformed JWKS for [${t}] at [${e}]: ${a.message}`)}return i}async function S_(e,t,r,i){const a=await KN(t,r);let l;try{const{payload:s}=await aC(e,await Sm(a),{issuer:r,audience:i});l=s}catch(s){throw new Error(`Token verification failed: ${s.stack}`)}if(typeof l.webid=="string")return l.webid;if(typeof l.sub!="string")throw new Error(`The token ${JSON.stringify(l)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(l.sub),l.sub}catch(s){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${l.sub}] is invalid as a URL - error [${s}].`)}}function GN(e){const t=new URL(e);return t.searchParams.delete("state"),t.searchParams.delete("code"),t.searchParams.delete("error"),t.searchParams.delete("error_description"),t.searchParams.delete("iss"),t}function qN(e,t){var r;return(r=t.find(i=>e.includes(i)))!==null&&r!==void 0?r:null}class Dy extends Error{constructor(t){super(`Invalid response from OIDC provider: missing fields ${t}`),this.missingFields=t}}class zN extends Error{constructor(t,r,i){super(t),this.error=r,this.errorDescription=i}}function WN(e){const t=new URL(e);return new URL(t.pathname,t.origin).toString()}async function hC(e,t,r){return new lC({htu:WN(e),htm:t.toUpperCase(),jti:jN()}).setProtectedHeader({alg:hv[0],jwk:r.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(r.privateKey,{})}async function JN(){const{privateKey:e,publicKey:t}=await dC(hv[0]),r={privateKey:e,publicKey:await p_(t)};return[r.publicKey.alg]=hv,r}function YN(e,t){var r,i,a,l;throw e.error==="invalid_redirect_uri"?new Error(`Dynamic client registration failed: the provided redirect uri [${(r=t.redirectUrl)===null||r===void 0?void 0:r.toString()}] is invalid - ${(i=e.error_description)!==null&&i!==void 0?i:""}`):e.error==="invalid_client_metadata"?new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(t)} is invalid - ${(a=e.error_description)!==null&&a!==void 0?a:""}`):new Error(`Dynamic client registration failed: ${e.error} - ${(l=e.error_description)!==null&&l!==void 0?l:""}`)}function QN(e,t){if(e.client_id===void 0)throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(e)}`);if(t.redirectUrl&&(e.redirect_uris===void 0||e.redirect_uris[0]!==t.redirectUrl.toString()))throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(e.redirect_uris)} don't match the provided ${JSON.stringify([t.redirectUrl.toString()])}`)}async function XN(e,t){var r;if(!t.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(t.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const i=qN(t.idTokenSigningAlgValuesSupported,hv),a={client_name:e.clientName,application_type:"web",redirect_uris:[(r=e.redirectUrl)===null||r===void 0?void 0:r.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:i,grant_types:["authorization_code","refresh_token"]},l={"Content-Type":"application/json"},s=await fetch(t.registrationEndpoint.toString(),{method:"POST",headers:l,body:JSON.stringify(a)});if(s.ok){const u=await s.json();return QN(u,e),{clientId:u.client_id,clientSecret:u.client_secret,idTokenSignedResponseAlg:u.id_token_signed_response_alg,clientType:"dynamic"}}throw s.status===400&&YN(await s.json(),e),new Error(`Dynamic client registration failed: the server returned ${s.status} ${s.statusText} - ${await s.text()}`)}function ZN(e){return e.error!==void 0&&typeof e.error=="string"}function sA(e){return e.error_description!==void 0&&typeof e.error_description=="string"}function eF(e){return e.error_uri!==void 0&&typeof e.error_uri=="string"}function tF(e){return e.access_token!==void 0&&typeof e.access_token=="string"}function nF(e){return e.id_token!==void 0&&typeof e.id_token=="string"}function rF(e){return e.refresh_token!==void 0&&typeof e.refresh_token=="string"}function iF(e){return e.token_type!==void 0&&typeof e.token_type=="string"}function aF(e){return e.expires_in===void 0||typeof e.expires_in=="number"}function oF(e,t){if(t.grantType&&(!e.grantTypesSupported||!e.grantTypesSupported.includes(t.grantType)))throw new Error(`The issuer [${e.issuer}] does not support the [${t.grantType}] grant`);if(!e.tokenEndpoint)throw new Error(`This issuer [${e.issuer}] does not have a token endpoint`)}function pC(e,t){if(ZN(e))throw new zN(`Token endpoint returned error [${e.error}]${sA(e)?`: ${e.error_description}`:""}${eF(e)?` (see ${e.error_uri})`:""}`,e.error,sA(e)?e.error_description:void 0);if(!tF(e))throw new Dy(["access_token"]);if(!nF(e))throw new Dy(["id_token"]);if(!iF(e))throw new Dy(["token_type"]);if(!aF(e))throw new Dy(["expires_in"]);if(!t&&e.token_type.toLowerCase()!=="bearer")throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${e.token_type}].`);return e}async function sF(e,t,r,i){oF(e,r);const a={"content-type":"application/x-www-form-urlencoded"};let l;l=await JN(),a.DPoP=await hC(e.tokenEndpoint,"POST",l),t.clientSecret&&(a.Authorization=`Basic ${btoa(`${t.clientId}:${t.clientSecret}`)}`);const s={grant_type:r.grantType,redirect_uri:r.redirectUrl,code:r.code,code_verifier:r.codeVerifier,client_id:t.clientId},u={method:"POST",headers:a,body:new URLSearchParams(s).toString()},c=await(await __(e.tokenEndpoint,u)).json(),p=pC(c,i),g=await S_(p.id_token,e.jwksUri,e.issuer,t.clientId);return{accessToken:p.access_token,idToken:p.id_token,refreshToken:rF(p)?p.refresh_token:void 0,webId:g,dpopKey:l,expiresIn:p.expires_in}}async function lF(e){let t;try{const r=new xo.OidcClient({response_mode:"query",loadUserInfo:!1});if(t=await r.processSigninResponse(e),r.settings.metadata===void 0)throw new Error("Cannot retrieve issuer metadata from client information in storage.");if(r.settings.metadata.jwks_uri===void 0)throw new Error("Missing some issuer metadata from client information in storage: 'jwks_uri' is undefined");if(r.settings.metadata.issuer===void 0)throw new Error("Missing some issuer metadata from client information in storage: 'issuer' is undefined");if(r.settings.client_id===void 0)throw new Error("Missing some client information in storage: 'client_id' is undefined");const i=await S_(t.id_token,r.settings.metadata.jwks_uri,r.settings.metadata.issuer,r.settings.client_id);return{accessToken:t.access_token,idToken:t.id_token,webId:i,refreshToken:t.refresh_token}}catch(r){throw new Error(`Problem handling Auth Code Grant (Flow) redirect - URL [${e}]: ${r}`)}}async function uF(e,t,r){return sF(e,t,r,!0)}const cF=e=>{try{return new URL(e),!0}catch{return!1}};async function fF(e,t,r,i){if(r.clientId===void 0)throw new Error("No client ID available when trying to refresh the access token.");const a={grant_type:"refresh_token",refresh_token:e,scope:$N};let l={};i!==void 0&&(l={DPoP:await hC(t.tokenEndpoint,"POST",i)});let s={};r.clientSecret!==void 0?s={Authorization:`Basic ${btoa(`${r.clientId}:${r.clientSecret}`)}`}:cF(r.clientId)&&(a.client_id=r.clientId);const u=await __(t.tokenEndpoint,{method:"POST",body:new URLSearchParams(a).toString(),headers:{...l,...s,"Content-Type":"application/x-www-form-urlencoded"}});let d;try{d=await u.json()}catch{throw new Error(`The token endpoint of issuer ${t.issuer} returned a malformed response.`)}const c=pC(d,i!==void 0),p=await S_(c.id_token,t.jwksUri,t.issuer,r.clientId);return{accessToken:c.access_token,idToken:c.id_token,refreshToken:typeof c.refresh_token=="string"?c.refresh_token:void 0,webId:p,dpopKey:i,expiresIn:c.expires_in}}function dF(e){const t=GN(e);return t.hash="",e.includes(`${t.origin}/`)?t.href:`${t.origin}${t.href.substring(t.origin.length+1)}`}async function hF(){await new xo.OidcClient({response_mode:"query"}).clearStaleState(new xo.WebStorageStateStore({}));const t=window.localStorage,r=[];for(let i=0;i<=t.length;i+=1){const a=t.key(i);a&&(a.match(/^oidc\..+$/)||a.match(/^solidClientAuthenticationUser:.+$/))&&r.push(a)}r.forEach(i=>t.removeItem(i))}const pF=Object.freeze(Object.defineProperty({__proto__:null,CordovaIFrameNavigator:xo.CordovaIFrameNavigator,CordovaPopupNavigator:xo.CordovaPopupNavigator,InMemoryWebStorage:xo.InMemoryWebStorage,Log:xo.Log,OidcClient:xo.OidcClient,SessionMonitor:xo.SessionMonitor,User:xo.User,UserManager:xo.UserManager,Version:xo.Version,WebStorageStateStore:xo.WebStorageStateStore,clearOidcPersistentStorage:hF,getBearerToken:lF,getDpopToken:uF,normalizeCallbackUrl:dF,refresh:fF,registerClient:XN},Symbol.toStringTag,{value:"Module"})),gF=Ov(pF);var lA;function mF(){return lA||(lA=1,function(e){var t=NN(),r=s_(),i=Yf(),a=gF,l=t_();class s extends t.StorageUtility{constructor(ce,Ie){super(ce,Ie)}}class u extends t.ClientAuthentication{constructor(){super(...arguments),this.login=async(ce,Ie)=>{var Ye,se;await this.sessionInfoManager.clear(ce.sessionId);const k=(Ye=ce.redirectUrl)!==null&&Ye!==void 0?Ye:a.normalizeCallbackUrl(window.location.href);if(!t.isValidRedirectUrl(k))throw new Error(`${k} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...ce,redirectUrl:k,clientName:(se=ce.clientName)!==null&&se!==void 0?se:ce.clientId,eventEmitter:Ie})},this.validateCurrentSession=async ce=>{const Ie=await this.sessionInfoManager.get(ce);return Ie===void 0||Ie.clientAppId===void 0||Ie.issuer===void 0?null:Ie},this.handleIncomingRedirect=async(ce,Ie)=>{try{const Ye=await this.redirectHandler.handle(ce,Ie);return this.fetch=Ye.fetch.bind(window),this.boundLogout=Ye.getLogoutUrl,await this.cleanUrlAfterRedirect(ce),{isLoggedIn:Ye.isLoggedIn,webId:Ye.webId,sessionId:Ye.sessionId,expirationDate:Ye.expirationDate}}catch(Ye){await this.cleanUrlAfterRedirect(ce),Ie.emit(t.EVENTS.ERROR,"redirect",Ye);return}}}async cleanUrlAfterRedirect(ce){const Ie=t.removeOpenIdParams(ce).href;for(window.history.replaceState(null,"",Ie);window.location.href!==Ie;)await new Promise(Ye=>{setTimeout(()=>Ye(),1)})}}function d(Le){return typeof Le.oidcIssuer=="string"}function c(Le){return typeof Le.redirectUrl=="string"}class p{constructor(ce,Ie,Ye,se){this.storageUtility=ce,this.oidcHandler=Ie,this.issuerConfigFetcher=Ye,this.clientRegistrar=se,this.storageUtility=ce,this.oidcHandler=Ie,this.issuerConfigFetcher=Ye,this.clientRegistrar=se}async canHandle(ce){return d(ce)&&c(ce)}async handle(ce){if(!d(ce))throw new t.ConfigurationError(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(ce)}`);if(!c(ce))throw new t.ConfigurationError(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(ce)}`);const Ie=await this.issuerConfigFetcher.fetchConfig(ce.oidcIssuer),Ye=await t.handleRegistration(ce,Ie,this.storageUtility,this.clientRegistrar),se={issuer:Ie.issuer,dpop:ce.tokenType.toLowerCase()==="dpop",...ce,issuerConfiguration:Ie,client:Ye};return this.oidcHandler.handle(se)}}class g extends t.AuthorizationCodeWithPkceOidcHandlerBase{async handle(ce){var Ie;const Ye={authority:ce.issuer.toString(),client_id:ce.client.clientId,client_secret:ce.client.clientSecret,redirect_uri:ce.redirectUrl.toString(),post_logout_redirect_uri:ce.redirectUrl.toString(),response_type:"code",scope:t.DEFAULT_SCOPES,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:(Ie=ce.prompt)!==null&&Ie!==void 0?Ie:"consent"},se=new a.OidcClient(Ye);try{const k=await se.createSigninRequest();return await this.handleRedirect({oidcLoginOptions:ce,state:k.state._id,codeVerifier:k.state._code_verifier,targetUrl:k.url.toString()})}catch(k){console.error(k)}}}const w=".well-known/openid-configuration",_={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};function T(Le){const ce={};return Object.keys(Le).forEach(Ie=>{_[Ie]&&(ce[_[Ie].toKey]=Le[Ie])}),Array.isArray(ce.scopesSupported)||(ce.scopesSupported=["openid"]),ce}class x{constructor(ce){this.storageUtility=ce,this.storageUtility=ce}static getLocalStorageKey(ce){return`issuerConfig:${ce}`}async fetchConfig(ce){let Ie;const Ye=new URL(w,ce.endsWith("/")?ce:`${ce}/`).href,se=await l.fetch.call(globalThis,Ye);try{Ie=T(await se.json())}catch(k){throw new t.ConfigurationError(`[${ce.toString()}] has an invalid configuration: ${k.message}`)}return await this.storageUtility.set(x.getLocalStorageKey(ce),JSON.stringify(Ie)),Ie}}async function C(Le,ce){await t.clear(Le,ce),await a.clearOidcPersistentStorage()}class E extends t.SessionInfoManagerBase{async get(ce){const[Ie,Ye,se,k,D,z,re,Se]=await Promise.all([this.storageUtility.getForUser(ce,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(ce,"webId",{secure:!0}),this.storageUtility.getForUser(ce,"clientId",{secure:!1}),this.storageUtility.getForUser(ce,"clientSecret",{secure:!1}),this.storageUtility.getForUser(ce,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(ce,"refreshToken",{secure:!0}),this.storageUtility.getForUser(ce,"issuer",{secure:!1}),this.storageUtility.getForUser(ce,"tokenType",{secure:!1})]);if(typeof D=="string"&&!t.isValidRedirectUrl(D)){await Promise.all([this.storageUtility.deleteAllUserData(ce,{secure:!1}),this.storageUtility.deleteAllUserData(ce,{secure:!0})]);return}if(Se!==void 0&&!t.isSupportedTokenType(Se))throw new Error(`Tokens of type [${Se}] are not supported.`);if(!(se===void 0&&Ie===void 0&&Ye===void 0&&z===void 0))return{sessionId:ce,webId:Ye,isLoggedIn:Ie==="true",redirectUrl:D,refreshToken:z,issuer:re,clientAppId:se,clientAppSecret:k,tokenType:Se??"DPoP"}}async clear(ce){return C(ce,this.storageUtility)}}class I{async canHandle(ce){try{return new URL(ce),!0}catch(Ie){throw new Error(`[${ce}] is not a valid URL, and cannot be used as a redirect URL: ${Ie}`)}}async handle(ce){return t.getUnauthenticatedSession()}}const O=(...Le)=>l.fetch.call(globalThis,...Le);class H{constructor(ce,Ie,Ye,se,k){this.storageUtility=ce,this.sessionInfoManager=Ie,this.issuerConfigFetcher=Ye,this.clientRegistrar=se,this.tokerRefresher=k,this.storageUtility=ce,this.sessionInfoManager=Ie,this.issuerConfigFetcher=Ye,this.clientRegistrar=se,this.tokerRefresher=k}async canHandle(ce){try{const Ie=new URL(ce);return Ie.searchParams.get("code")!==null&&Ie.searchParams.get("state")!==null}catch(Ie){throw new Error(`[${ce}] is not a valid URL, and cannot be used as a redirect URL: ${Ie}`)}}async handle(ce,Ie){if(!await this.canHandle(ce))throw new Error(`AuthCodeRedirectHandler cannot handle [${ce}]: it is missing one of [code, state].`);const Ye=new URL(ce),se=Ye.searchParams.get("state"),k=await this.storageUtility.getForUser(se,"sessionId",{errorIfNull:!0}),{issuerConfig:D,codeVerifier:z,redirectUrl:re,dpop:Se}=await t.loadOidcContextFromStorage(k,this.storageUtility,this.issuerConfigFetcher),Ne=Ye.searchParams.get("iss");if(typeof Ne=="string"&&Ne!==D.issuer)throw new Error(`The value of the iss parameter (${Ne}) does not match the issuer identifier of the authorization server (${D.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(z===void 0)throw new Error(`The code verifier for session ${k} is missing from storage.`);if(re===void 0)throw new Error(`The redirect URL for session ${k} is missing from storage.`);const ct=await this.clientRegistrar.getClient({sessionId:k},D);let Pe;const mt=Date.now();Se?(Pe=await a.getDpopToken(D,ct,{grantType:"authorization_code",code:Ye.searchParams.get("code"),codeVerifier:z,redirectUrl:re}),window.localStorage.removeItem(`oidc.${se}`)):Pe=await a.getBearerToken(Ye.toString());let Tt;Pe.refreshToken!==void 0&&(Tt={sessionId:k,refreshToken:Pe.refreshToken,tokenRefresher:this.tokerRefresher});const bt=await t.buildAuthenticatedFetch(O,Pe.accessToken,{dpopKey:Pe.dpopKey,refreshOptions:Tt,eventEmitter:Ie,expiresIn:Pe.expiresIn});await this.storageUtility.setForUser(k,{webId:Pe.webId,isLoggedIn:"true"},{secure:!0});const Xe=await this.sessionInfoManager.get(k);if(!Xe)throw new Error(`Could not retrieve session: [${k}].`);return Object.assign(Xe,{fetch:bt,getLogoutUrl:t.maybeBuildRpInitiatedLogout({idTokenHint:Pe.idToken,endSessionEndpoint:D.endSessionEndpoint}),expirationDate:typeof Pe.expiresIn=="number"?mt+Pe.expiresIn*1e3:void 0})}}class L extends t.AggregateHandler{constructor(ce){super(ce)}}class q{get storage(){return window.localStorage}async get(ce){return this.storage.getItem(ce)||void 0}async set(ce,Ie){this.storage.setItem(ce,Ie)}async delete(ce){this.storage.removeItem(ce)}}class W{redirect(ce,Ie){Ie&&Ie.handleRedirect?Ie.handleRedirect(ce):Ie&&Ie.redirectByReplacingState?window.history.replaceState({},"",ce):window.location.href=ce}}class ${constructor(ce){this.storageUtility=ce,this.storageUtility=ce}async getClient(ce,Ie){const[Ye,se]=await Promise.all([this.storageUtility.getForUser(ce.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(ce.sessionId,"clientSecret",{secure:!1})]);if(Ye)return{clientId:Ye,clientSecret:se,clientType:"dynamic"};try{const k=await a.registerClient(ce,Ie),D={clientId:k.clientId};return k.clientSecret&&(D.clientSecret=k.clientSecret),k.idTokenSignedResponseAlg&&(D.idTokenSignedResponseAlg=k.idTokenSignedResponseAlg),await this.storageUtility.setForUser(ce.sessionId,D,{secure:!1}),k}catch(k){throw new Error(`Client registration failed: [${k}]`)}}}class Ae{async canHandle(ce){try{return new URL(ce).searchParams.has("error")}catch(Ie){throw new Error(`[${ce}] is not a valid URL, and cannot be used as a redirect URL: ${Ie}`)}}async handle(ce,Ie){if(Ie!==void 0){const Ye=new URL(ce),se=Ye.searchParams.get("error"),k=Ye.searchParams.get("error_description");Ie.emit(t.EVENTS.ERROR,se,k)}return t.getUnauthenticatedSession()}}class K{constructor(ce,Ie,Ye){this.storageUtility=ce,this.issuerConfigFetcher=Ie,this.clientRegistrar=Ye,this.storageUtility=ce,this.issuerConfigFetcher=Ie,this.clientRegistrar=Ye}async refresh(ce,Ie,Ye,se){const k=await t.loadOidcContextFromStorage(ce,this.storageUtility,this.issuerConfigFetcher),D=await this.clientRegistrar.getClient({sessionId:ce},k.issuerConfig);if(Ie===void 0)throw new Error(`Session [${ce}] has no refresh token to allow it to refresh its access token.`);if(k.dpop&&Ye===void 0)throw new Error(`For session [${ce}], the key bound to the DPoP access token must be provided to refresh said access token.`);const z=await a.refresh(Ie,k.issuerConfig,D,Ye);return z.refreshToken!==void 0&&(se?.emit(t.EVENTS.NEW_REFRESH_TOKEN,z.refreshToken),await this.storageUtility.setForUser(ce,{refreshToken:z.refreshToken})),z}}function ae(Le){const ce=new t.InMemoryStorage,Ie=Le.secureStorage||ce,Ye=Le.insecureStorage||new q,se=new s(Ie,Ye),k=new x(se),D=new $(se),z=new E(se),re=new K(se,k,D),Se=new W,Ne=new p(se,new g(se,Se),k,D),ct=new L([new Ae,new H(se,z,k,D,re),new I]);return new u(Ne,ct,new t.IWaterfallLogoutHandler(z,Se),z,k)}const pe=`${t.SOLID_CLIENT_AUTHN_KEY_PREFIX}currentSession`,be=`${t.SOLID_CLIENT_AUTHN_KEY_PREFIX}currentUrl`;async function Ze(Le,ce,Ie){var Ye;const se=await ce.validateCurrentSession(Le);return se!==null?(window.localStorage.setItem(be,window.location.href),await ce.login({sessionId:Le,prompt:"none",oidcIssuer:se.issuer,redirectUrl:se.redirectUrl,clientId:se.clientAppId,clientSecret:se.clientAppSecret,tokenType:(Ye=se.tokenType)!==null&&Ye!==void 0?Ye:"DPoP"},Ie.events),!0):!1}function it(Le){return!!Le?.isLoggedIn}class Re extends i{constructor(ce={},Ie=void 0){super(),this.tokenRequestInProgress=!1,this.login=async Ye=>{var se;return await this.clientAuthentication.login({sessionId:this.info.sessionId,...Ye,tokenType:(se=Ye.tokenType)!==null&&se!==void 0?se:"DPoP"},this.events),new Promise(()=>{})},this.fetch=(Ye,se)=>this.clientAuthentication.fetch(Ye,se),this.internalLogout=async(Ye,se)=>{window.localStorage.removeItem(pe),await this.clientAuthentication.logout(this.info.sessionId,se),this.info.isLoggedIn=!1,Ye&&this.events.emit(t.EVENTS.LOGOUT)},this.logout=async Ye=>this.internalLogout(!0,Ye),this.handleIncomingRedirect=async(Ye={})=>{var se;if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const k=typeof Ye=="string"?{url:Ye}:Ye,D=(se=k.url)!==null&&se!==void 0?se:window.location.href;this.tokenRequestInProgress=!0;const z=await this.clientAuthentication.handleIncomingRedirect(D,this.events);if(it(z)){this.setSessionInfo(z);const re=window.localStorage.getItem(be);re===null?this.events.emit(t.EVENTS.LOGIN):(window.localStorage.removeItem(be),this.events.emit(t.EVENTS.SESSION_RESTORED,re))}else if(k.restorePreviousSession===!0){const re=window.localStorage.getItem(pe);if(re!==null&&await Ze(re,this.clientAuthentication,this))return new Promise(()=>{})}return this.tokenRequestInProgress=!1,z},this.events=new Proxy(this,t.buildProxyHandler(Re.prototype,"events only implements ISessionEventListener")),ce.clientAuthentication?this.clientAuthentication=ce.clientAuthentication:ce.secureStorage&&ce.insecureStorage?this.clientAuthentication=ae({secureStorage:ce.secureStorage,insecureStorage:ce.insecureStorage}):this.clientAuthentication=ae({}),ce.sessionInfo?this.info={sessionId:ce.sessionInfo.sessionId,isLoggedIn:!1,webId:ce.sessionInfo.webId}:this.info={sessionId:Ie??r.v4(),isLoggedIn:!1},this.events.on(t.EVENTS.LOGIN,()=>window.localStorage.setItem(pe,this.info.sessionId)),this.events.on(t.EVENTS.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.events.on(t.EVENTS.ERROR,()=>this.internalLogout(!1))}onLogin(ce){this.events.on(t.EVENTS.LOGIN,ce)}onLogout(ce){this.events.on(t.EVENTS.LOGOUT,ce)}onError(ce){this.events.on(t.EVENTS.ERROR,ce)}onSessionRestore(ce){this.events.on(t.EVENTS.SESSION_RESTORED,ce)}onSessionExpiration(ce){this.events.on(t.EVENTS.SESSION_EXPIRED,ce)}setSessionInfo(ce){this.info.isLoggedIn=ce.isLoggedIn,this.info.webId=ce.webId,this.info.sessionId=ce.sessionId,this.info.expirationDate=ce.expirationDate,this.events.on(t.EVENTS.SESSION_EXTENDED,Ie=>{this.info.expirationDate=Date.now()+Ie*1e3})}}let lt;function ge(){return typeof lt>"u"&&(lt=new Re),lt}const rt=(...Le)=>ge().fetch(...Le),Y=(...Le)=>ge().login(...Le),xe=(...Le)=>ge().logout(...Le),$e=(...Le)=>ge().handleIncomingRedirect(...Le),Me=(...Le)=>ge().onLogin(...Le),at=(...Le)=>ge().onLogout(...Le),It=(...Le)=>ge().onSessionRestore(...Le),Pt=()=>ge().events;Object.defineProperty(e,"ConfigurationError",{enumerable:!0,get:function(){return t.ConfigurationError}}),Object.defineProperty(e,"EVENTS",{enumerable:!0,get:function(){return t.EVENTS}}),Object.defineProperty(e,"InMemoryStorage",{enumerable:!0,get:function(){return t.InMemoryStorage}}),Object.defineProperty(e,"NotImplementedError",{enumerable:!0,get:function(){return t.NotImplementedError}}),e.Session=Re,e.events=Pt,e.fetch=rt,e.getClientAuthenticationWithDependencies=ae,e.getDefaultSession=ge,e.handleIncomingRedirect=$e,e.login=Y,e.logout=xe,e.onLogin=Me,e.onLogout=at,e.onSessionRestore=It}(Ob)),Ob}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function gC(e,t,r,i){function a(l){return l instanceof r?l:new r(function(s){s(l)})}return new(r||(r=Promise))(function(l,s){function u(p){try{c(i.next(p))}catch(g){s(g)}}function d(p){try{c(i.throw(p))}catch(g){s(g)}}function c(p){p.done?l(p.value):a(p.value).then(u,d)}c((i=i.apply(e,[])).next())})}function mC(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(c){return function(p){return d([c,p])}}function d(c){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,a&&(l=c[0]&2?a.return:c[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,c[1])).done)return l;switch(a=0,l&&(c=[c[0]&2,l.value]),c[0]){case 0:case 1:l=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!l||c[1]>l[0]&&c[1]<l[3])){r.label=c[1];break}if(c[0]===6&&r.label<l[1]){r.label=l[1],l=c;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(c);break}l[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(p){c=[6,p],a=0}finally{i=l=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Qs=function(){},Aa=Qs(),tm=Object,ka=function(e){return e===Aa},dc=function(e){return typeof e=="function"},au=function(e,t){return tm.assign({},e,t)},E_="undefined",A_=function(){return typeof window!=E_},yF=function(){return typeof document!=E_},vF=function(){return A_()&&typeof window.requestAnimationFrame!=E_},My=new WeakMap,bF=0,sm=function(e){var t=typeof e,r=e&&e.constructor,i=r==Date,a,l;if(tm(e)===e&&!i&&r!=RegExp){if(a=My.get(e),a)return a;if(a=++bF+"~",My.set(e,a),r==Array){for(a="@",l=0;l<e.length;l++)a+=sm(e[l])+",";My.set(e,a)}if(r==tm){a="#";for(var s=tm.keys(e).sort();!ka(l=s.pop());)ka(e[l])||(a+=l+":"+sm(e[l])+",");My.set(e,a)}}else a=i?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return a},hw=!0,wF=function(){return hw},yC=A_(),x_=yF(),pw=yC&&window.addEventListener?window.addEventListener.bind(window):Qs,_F=x_?document.addEventListener.bind(document):Qs,gw=yC&&window.removeEventListener?window.removeEventListener.bind(window):Qs,SF=x_?document.removeEventListener.bind(document):Qs,EF=function(){var e=x_&&document.visibilityState;return ka(e)||e!=="hidden"},AF=function(e){return _F("visibilitychange",e),pw("focus",e),function(){SF("visibilitychange",e),gw("focus",e)}},xF=function(e){var t=function(){hw=!0,e()},r=function(){hw=!1};return pw("online",t),pw("offline",r),function(){gw("online",t),gw("offline",r)}},RF={isOnline:wF,isVisible:EF},CF={initFocus:AF,initReconnect:xF},Kv=!A_()||"Deno"in window,TF=function(e){return vF()?window.requestAnimationFrame(e):setTimeout(e,1)},nm=Kv?te.useEffect:te.useLayoutEffect,Nb=typeof navigator<"u"&&navigator.connection,uA=!Kv&&Nb&&(["slow-2g","2g"].includes(Nb.effectiveType)||Nb.saveData),R_=function(e){if(dc(e))try{e=e()}catch{e=""}var t=[].concat(e);e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?sm(e):"";var r=e?"$swr$"+e:"";return[e,t,r]},Gf=new WeakMap,vC=0,bC=1,wC=2,rm=function(e,t,r,i,a,l,s){s===void 0&&(s=!0);var u=Gf.get(e),d=u[0],c=u[1],p=u[3],g=d[t],w=c[t];if(s&&w)for(var _=0;_<w.length;++_)w[_](r,i,a);return l&&(delete p[t],g&&g[0])?g[0](wC).then(function(){return e.get(t)}):e.get(t)},OF=0,mw=function(){return++OF},_C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return gC(void 0,void 0,void 0,function(){var r,i,a,l,s,u,d,c,p,g,w,_,T,x,C,E,I,O,H,L,q;return mC(this,function(W){switch(W.label){case 0:if(r=e[0],i=e[1],a=e[2],l=e[3],s=typeof l=="boolean"?{revalidate:l}:l||{},u=ka(s.populateCache)?!0:s.populateCache,d=s.revalidate!==!1,c=s.rollbackOnError!==!1,p=s.optimisticData,g=R_(i),w=g[0],_=g[2],!w)return[2];if(T=Gf.get(r),x=T[2],e.length<3)return[2,rm(r,w,r.get(w),Aa,Aa,d,!0)];if(C=a,I=mw(),x[w]=[I,0],O=!ka(p),H=r.get(w),O&&(L=dc(p)?p(H):p,r.set(w,L),rm(r,w,L)),dc(C))try{C=C(r.get(w))}catch($){E=$}return C&&dc(C.then)?[4,C.catch(function($){E=$})]:[3,2];case 1:if(C=W.sent(),I!==x[w][0]){if(E)throw E;return[2,C]}else E&&O&&c&&(u=!0,C=H,r.set(w,H));W.label=2;case 2:return u&&(E||(dc(u)&&(C=u(C,H)),r.set(w,C)),r.set(_,au(r.get(_),{error:E}))),x[w][1]=mw(),[4,rm(r,w,C,E,Aa,d,!!u)];case 3:if(q=W.sent(),E)throw E;return[2,u?q:C]}})})},cA=function(e,t){for(var r in e)e[r][0]&&e[r][0](t)},SC=function(e,t){if(!Gf.has(e)){var r=au(CF,t),i={},a=_C.bind(Aa,e),l=Qs;if(Gf.set(e,[i,{},{},{},a]),!Kv){var s=r.initFocus(setTimeout.bind(Aa,cA.bind(Aa,i,vC))),u=r.initReconnect(setTimeout.bind(Aa,cA.bind(Aa,i,bC)));l=function(){s&&s(),u&&u(),Gf.delete(e)}}return[e,a,l]}return[e,Gf.get(e)[4]]},IF=function(e,t,r,i,a){var l=r.errorRetryCount,s=a.retryCount,u=~~((Math.random()+.5)*(1<<(s<8?s:8)))*r.errorRetryInterval;!ka(l)&&s>l||setTimeout(i,u,a)},EC=SC(new Map),AC=EC[0],xC=EC[1],RC=au({onLoadingSlow:Qs,onSuccess:Qs,onError:Qs,onErrorRetry:IF,onDiscarded:Qs,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:uA?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:uA?5e3:3e3,compare:function(e,t){return sm(e)==sm(t)},isPaused:function(){return!1},cache:AC,mutate:xC,fallback:{}},RF),CC=function(e,t){var r=au(e,t);if(t){var i=e.use,a=e.fallback,l=t.use,s=t.fallback;i&&l&&(r.use=i.concat(l)),a&&s&&(r.fallback=au(a,s))}return r},yw=te.createContext({}),PF=function(e){var t=e.value,r=CC(te.useContext(yw),t),i=t&&t.provider,a=te.useState(function(){return i?SC(i(r.cache||AC),t):Aa})[0];return a&&(r.cache=a[0],r.mutate=a[1]),nm(function(){return a?a[2]:Aa},[]),te.createElement(yw.Provider,au(e,{value:r}))},NF=function(e,t){var r=te.useState({})[1],i=te.useRef(e),a=te.useRef({data:!1,error:!1,isValidating:!1}),l=te.useCallback(function(s){var u=!1,d=i.current;for(var c in s){var p=c;d[p]!==s[p]&&(d[p]=s[p],a.current[p]&&(u=!0))}u&&!t.current&&r({})},[]);return nm(function(){i.current=e}),[i,a.current,l]},FF=function(e){return dc(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}]},TC=function(){return au(RC,te.useContext(yw))},DF=function(e){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=TC(),l=FF(r),s=l[0],u=l[1],d=l[2],c=CC(a,d),p=e,g=c.use;if(g)for(var w=g.length;w-- >0;)p=g[w](p);return p(s,u||c.fetcher,c)}},fA=function(e,t,r){var i=t[e]||(t[e]=[]);return i.push(r),function(){var a=i.indexOf(r);a>=0&&(i[a]=i[i.length-1],i.pop())}},Fb={dedupe:!0},MF=function(e,t,r){var i=r.cache,a=r.compare,l=r.fallbackData,s=r.suspense,u=r.revalidateOnMount,d=r.refreshInterval,c=r.refreshWhenHidden,p=r.refreshWhenOffline,g=Gf.get(i),w=g[0],_=g[1],T=g[2],x=g[3],C=R_(e),E=C[0],I=C[1],O=C[2],H=te.useRef(!1),L=te.useRef(!1),q=te.useRef(E),W=te.useRef(t),$=te.useRef(r),Ae=function(){return $.current},K=function(){return Ae().isVisible()&&Ae().isOnline()},ae=function(Le){return i.set(O,au(i.get(O),Le))},pe=i.get(E),be=ka(l)?r.fallback[E]:l,Ze=ka(pe)?be:pe,it=i.get(O)||{},Re=it.error,lt=!H.current,ge=function(){return lt&&!ka(u)?u:Ae().isPaused()?!1:s?ka(Ze)?!1:r.revalidateIfStale:ka(Ze)||r.revalidateIfStale},rt=function(){return!E||!t?!1:it.isValidating?!0:lt&&ge()},Y=rt(),xe=NF({data:Ze,error:Re,isValidating:Y},L),$e=xe[0],Me=xe[1],at=xe[2],It=te.useCallback(function(Le){return gC(void 0,void 0,void 0,function(){var ce,Ie,Ye,se,k,D,z,re,Se,Ne,ct,Pe,mt;return mC(this,function(Tt){switch(Tt.label){case 0:if(ce=W.current,!E||!ce||L.current||Ae().isPaused())return[2,!1];se=!0,k=Le||{},D=!x[E]||!k.dedupe,z=function(){return!L.current&&E===q.current&&H.current},re=function(){var bt=x[E];bt&&bt[1]===Ye&&delete x[E]},Se={isValidating:!1},Ne=function(){ae({isValidating:!1}),z()&&at(Se)},ae({isValidating:!0}),at({isValidating:!0}),Tt.label=1;case 1:return Tt.trys.push([1,3,,4]),D&&(rm(i,E,$e.current.data,$e.current.error,!0),r.loadingTimeout&&!i.get(E)&&setTimeout(function(){se&&z()&&Ae().onLoadingSlow(E,r)},r.loadingTimeout),x[E]=[ce.apply(void 0,I),mw()]),mt=x[E],Ie=mt[0],Ye=mt[1],[4,Ie];case 2:return Ie=Tt.sent(),D&&setTimeout(re,r.dedupingInterval),!x[E]||x[E][1]!==Ye?(D&&z()&&Ae().onDiscarded(E),[2,!1]):(ae({error:Aa}),Se.error=Aa,ct=T[E],!ka(ct)&&(Ye<=ct[0]||Ye<=ct[1]||ct[1]===0)?(Ne(),D&&z()&&Ae().onDiscarded(E),[2,!1]):(a($e.current.data,Ie)?Se.data=$e.current.data:Se.data=Ie,a(i.get(E),Ie)||i.set(E,Ie),D&&z()&&Ae().onSuccess(Ie,E,r),[3,4]));case 3:return Pe=Tt.sent(),re(),Ae().isPaused()||(ae({error:Pe}),Se.error=Pe,D&&z()&&(Ae().onError(Pe,E,r),(typeof r.shouldRetryOnError=="boolean"&&r.shouldRetryOnError||dc(r.shouldRetryOnError)&&r.shouldRetryOnError(Pe))&&K()&&Ae().onErrorRetry(Pe,E,r,It,{retryCount:(k.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return se=!1,Ne(),z()&&D&&rm(i,E,Se.data,Se.error,!1),[2,!0]}})})},[E]),Pt=te.useCallback(_C.bind(Aa,i,function(){return q.current}),[]);if(nm(function(){W.current=t,$.current=r}),nm(function(){if(E){var Le=E!==q.current,ce=It.bind(Aa,Fb),Ie=function(z,re,Se){at(au({error:re,isValidating:Se},a($e.current.data,z)?Aa:{data:z}))},Ye=0,se=function(z){if(z==vC){var re=Date.now();Ae().revalidateOnFocus&&re>Ye&&K()&&(Ye=re+Ae().focusThrottleInterval,ce())}else if(z==bC)Ae().revalidateOnReconnect&&K()&&ce();else if(z==wC)return It()},k=fA(E,_,Ie),D=fA(E,w,se);return L.current=!1,q.current=E,H.current=!0,Le&&at({data:Ze,error:Re,isValidating:Y}),ge()&&(ka(Ze)||Kv?ce():TF(ce)),function(){L.current=!0,k(),D()}}},[E,It]),nm(function(){var Le;function ce(){var Ye=dc(d)?d(Ze):d;Ye&&Le!==-1&&(Le=setTimeout(Ie,Ye))}function Ie(){!$e.current.error&&(c||Ae().isVisible())&&(p||Ae().isOnline())?It(Fb).then(ce):ce()}return ce(),function(){Le&&(clearTimeout(Le),Le=-1)}},[d,c,p,It]),te.useDebugValue(Ze),s&&ka(Ze)&&E)throw W.current=t,$.current=r,L.current=!1,ka(Re)?It(Fb):Re;return{mutate:Pt,get data(){return Me.data=!0,Ze},get error(){return Me.error=!0,Re},get isValidating(){return Me.isValidating=!0,Y}}},LF=tm.defineProperty(PF,"default",{value:RC}),UF=function(e){return R_(e)[0]},kF=DF(MF);const jF=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:LF,default:kF,mutate:xC,unstable_serialize:UF,useSWRConfig:TC},Symbol.toStringTag,{value:"Module"})),BF=Ov(jF);var Db={exports:{}},Qg={exports:{}},HF=Qg.exports,dA;function VF(){return dA||(dA=1,function(e,t){(function(r,i){i(t,mm())})(HF,function(r,i){function a(M,ne,oe,he,je,we,Ke){try{var Rt=M[we](Ke),_t=Rt.value}catch(Nt){return void oe(Nt)}Rt.done?ne(_t):Promise.resolve(_t).then(he,je)}function l(M){return function(){var ne=this,oe=arguments;return new Promise(function(he,je){var we=M.apply(ne,oe);function Ke(_t){a(we,he,je,Ke,Rt,"next",_t)}function Rt(_t){a(we,he,je,Ke,Rt,"throw",_t)}Ke(void 0)})}}function s(){return(s=Object.assign||function(M){for(var ne=1;ne<arguments.length;ne++){var oe=arguments[ne];for(var he in oe)Object.prototype.hasOwnProperty.call(oe,he)&&(M[he]=oe[he])}return M}).apply(this,arguments)}function u(M,ne){if(M==null)return{};var oe,he,je={},we=Object.keys(M);for(he=0;he<we.length;he++)oe=we[he],ne.indexOf(oe)>=0||(je[oe]=M[oe]);return je}function d(M){var ne=function(oe,he){if(typeof oe!="object"||oe===null)return oe;var je=oe[Symbol.toPrimitive];if(je!==void 0){var we=je.call(oe,he);if(typeof we!="object")return we;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(oe)}(M,"string");return typeof ne=="symbol"?ne:String(ne)}i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;var c={init:"init"},p=function(M){var ne=M.value;return ne===void 0?"":ne},g=function(){return i.createElement(i.Fragment,null,"")},w={Cell:p,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function _(){for(var M=arguments.length,ne=new Array(M),oe=0;oe<M;oe++)ne[oe]=arguments[oe];return ne.reduce(function(he,je){var we=je.style,Ke=je.className;return he=s({},he,{},u(je,["style","className"])),we&&(he.style=he.style?s({},he.style||{},{},we||{}):we),Ke&&(he.className=he.className?he.className+" "+Ke:Ke),he.className===""&&delete he.className,he},{})}var T=function(M,ne){return ne===void 0&&(ne={}),function(oe){return oe===void 0&&(oe={}),[].concat(M,[oe]).reduce(function(he,je){return function we(Ke,Rt,_t){return typeof Rt=="function"?we({},Rt(Ke,_t)):Array.isArray(Rt)?_.apply(void 0,[Ke].concat(Rt)):_(Ke,Rt)}(he,je,s({},ne,{userProps:oe}))},{})}},x=function(M,ne,oe,he){return oe===void 0&&(oe={}),M.reduce(function(je,we){return we(je,oe)},ne)},C=function(M,ne,oe){return oe===void 0&&(oe={}),M.forEach(function(he){he(ne,oe)})};function E(M,ne,oe,he){M.findIndex(function(je){return je.pluginName===oe}),ne.forEach(function(je){M.findIndex(function(we){return we.pluginName===je})})}function I(M,ne){return typeof M=="function"?M(ne):M}function O(M){var ne=i.useRef();return ne.current=M,i.useCallback(function(){return ne.current},[])}var H=typeof document<"u"?i.useLayoutEffect:i.useEffect;function L(M,ne){var oe=i.useRef(!1);H(function(){oe.current&&M(),oe.current=!0},ne)}function q(M,ne,oe){return oe===void 0&&(oe={}),function(he,je){je===void 0&&(je={});var we=typeof he=="string"?ne[he]:he;if(we===void 0)throw console.info(ne),new Error("Renderer Error ");return W(we,s({},M,{column:ne},oe,{},je))}}function W(M,ne){return function(he){return typeof he=="function"&&(je=Object.getPrototypeOf(he)).prototype&&je.prototype.isReactComponent;var je}(oe=M)||typeof oe=="function"||function(he){return typeof he=="object"&&typeof he.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(he.$$typeof.description)}(oe)?i.createElement(M,ne):M;var oe}function $(M,ne,oe){return oe===void 0&&(oe=0),M.map(function(he){return K(he=s({},he,{parent:ne,depth:oe})),he.columns&&(he.columns=$(he.columns,he,oe+1)),he})}function Ae(M){return Re(M,"columns")}function K(M){var ne=M.id,oe=M.accessor,he=M.Header;if(typeof oe=="string"){ne=ne||oe;var je=oe.split(".");oe=function(we){return function(Ke,Rt,_t){if(!Rt)return Ke;var Nt,qt=typeof Rt=="function"?Rt:JSON.stringify(Rt),Vt=be.get(qt)||function(){var Wt=function(Lt){return function Jt(an,fn){if(fn===void 0&&(fn=[]),Array.isArray(an))for(var wn=0;wn<an.length;wn+=1)Jt(an[wn],fn);else fn.push(an);return fn}(Lt).map(function(Jt){return String(Jt).replace(".","_")}).join(".").replace($e,".").replace(Me,"").split(".")}(Rt);return be.set(qt,Wt),Wt}();try{Nt=Vt.reduce(function(Wt,Lt){return Wt[Lt]},Ke)}catch{}return Nt!==void 0?Nt:_t}(we,je)}}if(!ne&&typeof he=="string"&&he&&(ne=he),!ne&&M.columns)throw console.error(M),new Error('A column ID (or unique "Header" value) is required!');if(!ne)throw console.error(M),new Error("A column ID (or string accessor) is required!");return Object.assign(M,{id:ne,accessor:oe}),M}function ae(M,ne){if(!ne)throw new Error;return Object.assign(M,s({Header:g,Footer:g},w,{},ne,{},M)),Object.assign(M,{originalWidth:M.width}),M}function pe(M,ne,oe){oe===void 0&&(oe=function(){return{}});for(var he=[],je=M,we=0,Ke=function(){return we++},Rt=function(){var _t={headers:[]},Nt=[],qt=je.some(function(Vt){return Vt.parent});je.forEach(function(Vt){var Wt,Lt=[].concat(Nt).reverse()[0];qt&&(Vt.parent?Wt=s({},Vt.parent,{originalId:Vt.parent.id,id:Vt.parent.id+"_"+Ke(),headers:[Vt]},oe(Vt)):Wt=ae(s({originalId:Vt.id+"_placeholder",id:Vt.id+"_placeholder_"+Ke(),placeholderOf:Vt,headers:[Vt]},oe(Vt)),ne),Lt&&Lt.originalId===Wt.originalId?Lt.headers.push(Vt):Nt.push(Wt)),_t.headers.push(Vt)}),he.push(_t),je=Nt};je.length;)Rt();return he.reverse()}var be=new Map;function Ze(){for(var M=arguments.length,ne=new Array(M),oe=0;oe<M;oe++)ne[oe]=arguments[oe];for(var he=0;he<ne.length;he+=1)if(ne[he]!==void 0)return ne[he]}function it(M){if(typeof M=="function")return M}function Re(M,ne){var oe=[];return function he(je){je.forEach(function(we){we[ne]?he(we[ne]):oe.push(we)})}(M),oe}function lt(M,ne){var oe=ne.manualExpandedKey,he=ne.expanded,je=ne.expandSubRows,we=je===void 0||je,Ke=[];return M.forEach(function(Rt){return function _t(Nt,qt){qt===void 0&&(qt=!0),Nt.isExpanded=Nt.original&&Nt.original[oe]||he[Nt.id],Nt.canExpand=Nt.subRows&&!!Nt.subRows.length,qt&&Ke.push(Nt),Nt.subRows&&Nt.subRows.length&&Nt.isExpanded&&Nt.subRows.forEach(function(Vt){return _t(Vt,we)})}(Rt)}),Ke}function ge(M,ne,oe){return it(M)||ne[M]||oe[M]||oe.text}function rt(M,ne,oe){return M?M(ne,oe):ne===void 0}function Y(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var xe=null,$e=/\[/g,Me=/\]/g,at=function(M){return s({role:"table"},M)},It=function(M){return s({role:"rowgroup"},M)},Pt=function(M,ne){var oe=ne.column;return s({key:"header_"+oe.id,colSpan:oe.totalVisibleHeaderCount,role:"columnheader"},M)},Le=function(M,ne){var oe=ne.column;return s({key:"footer_"+oe.id,colSpan:oe.totalVisibleHeaderCount},M)},ce=function(M,ne){return s({key:"headerGroup_"+ne.index,role:"row"},M)},Ie=function(M,ne){return s({key:"footerGroup_"+ne.index},M)},Ye=function(M,ne){return s({key:"row_"+ne.row.id,role:"row"},M)},se=function(M,ne){var oe=ne.cell;return s({key:"cell_"+oe.row.id+"_"+oe.column.id,role:"cell"},M)};function k(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[at],getTableBodyProps:[It],getHeaderGroupProps:[ce],getFooterGroupProps:[Ie],getHeaderProps:[Pt],getFooterProps:[Le],getRowProps:[Ye],getCellProps:[se],useFinalInstance:[]}}c.resetHiddenColumns="resetHiddenColumns",c.toggleHideColumn="toggleHideColumn",c.setHiddenColumns="setHiddenColumns",c.toggleHideAllColumns="toggleHideAllColumns";var D=function(M){M.getToggleHiddenProps=[z],M.getToggleHideAllColumnsProps=[re],M.stateReducers.push(Se),M.useInstanceBeforeDimensions.push(Ne),M.headerGroupsDeps.push(function(ne,oe){var he=oe.instance;return[].concat(ne,[he.state.hiddenColumns])}),M.useInstance.push(ct)};D.pluginName="useColumnVisibility";var z=function(M,ne){var oe=ne.column;return[M,{onChange:function(he){oe.toggleHidden(!he.target.checked)},style:{cursor:"pointer"},checked:oe.isVisible,title:"Toggle Column Visible"}]},re=function(M,ne){var oe=ne.instance;return[M,{onChange:function(he){oe.toggleHideAllColumns(!he.target.checked)},style:{cursor:"pointer"},checked:!oe.allColumnsHidden&&!oe.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!oe.allColumnsHidden&&oe.state.hiddenColumns.length}]};function Se(M,ne,oe,he){if(ne.type===c.init)return s({hiddenColumns:[]},M);if(ne.type===c.resetHiddenColumns)return s({},M,{hiddenColumns:he.initialState.hiddenColumns||[]});if(ne.type===c.toggleHideColumn){var je=(ne.value!==void 0?ne.value:!M.hiddenColumns.includes(ne.columnId))?[].concat(M.hiddenColumns,[ne.columnId]):M.hiddenColumns.filter(function(we){return we!==ne.columnId});return s({},M,{hiddenColumns:je})}return ne.type===c.setHiddenColumns?s({},M,{hiddenColumns:I(ne.value,M.hiddenColumns)}):ne.type===c.toggleHideAllColumns?s({},M,{hiddenColumns:(ne.value!==void 0?ne.value:!M.hiddenColumns.length)?he.allColumns.map(function(we){return we.id}):[]}):void 0}function Ne(M){var ne=M.headers,oe=M.state.hiddenColumns;i.useRef(!1).current;var he=0;ne.forEach(function(je){return he+=function we(Ke,Rt){Ke.isVisible=Rt&&!oe.includes(Ke.id);var _t=0;return Ke.headers&&Ke.headers.length?Ke.headers.forEach(function(Nt){return _t+=we(Nt,Ke.isVisible)}):_t=Ke.isVisible?1:0,Ke.totalVisibleHeaderCount=_t,_t}(je,!0)})}function ct(M){var ne=M.columns,oe=M.flatHeaders,he=M.dispatch,je=M.allColumns,we=M.getHooks,Ke=M.state.hiddenColumns,Rt=M.autoResetHiddenColumns,_t=Rt===void 0||Rt,Nt=O(M),qt=je.length===Ke.length,Vt=i.useCallback(function(fn,wn){return he({type:c.toggleHideColumn,columnId:fn,value:wn})},[he]),Wt=i.useCallback(function(fn){return he({type:c.setHiddenColumns,value:fn})},[he]),Lt=i.useCallback(function(fn){return he({type:c.toggleHideAllColumns,value:fn})},[he]),Jt=T(we().getToggleHideAllColumnsProps,{instance:Nt()});oe.forEach(function(fn){fn.toggleHidden=function(wn){he({type:c.toggleHideColumn,columnId:fn.id,value:wn})},fn.getToggleHiddenProps=T(we().getToggleHiddenProps,{instance:Nt(),column:fn})});var an=O(_t);L(function(){an()&&he({type:c.resetHiddenColumns})},[he,ne]),Object.assign(M,{allColumnsHidden:qt,toggleHideColumn:Vt,setHiddenColumns:Wt,toggleHideAllColumns:Lt,getToggleHideAllColumnsProps:Jt})}var Pe={},mt={},Tt=function(M,ne,oe){return M},bt=function(M,ne){return M.subRows||[]},Xe=function(M,ne,oe){return""+(oe?[oe.id,ne].join("."):ne)},qe=function(M){return M};function Fe(M){var ne=M.initialState,oe=ne===void 0?Pe:ne,he=M.defaultColumn,je=he===void 0?mt:he,we=M.getSubRows,Ke=we===void 0?bt:we,Rt=M.getRowId,_t=Rt===void 0?Xe:Rt,Nt=M.stateReducer,qt=Nt===void 0?Tt:Nt,Vt=M.useControlledState,Wt=Vt===void 0?qe:Vt;return s({},u(M,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:oe,defaultColumn:je,getSubRows:Ke,getRowId:_t,stateReducer:qt,useControlledState:Wt})}function et(M,ne){ne===void 0&&(ne=0);var oe=0,he=0,je=0,we=0;return M.forEach(function(Ke){var Rt=Ke.headers;if(Ke.totalLeft=ne,Rt&&Rt.length){var _t=et(Rt,ne),Nt=_t[0],qt=_t[1],Vt=_t[2],Wt=_t[3];Ke.totalMinWidth=Nt,Ke.totalWidth=qt,Ke.totalMaxWidth=Vt,Ke.totalFlexWidth=Wt}else Ke.totalMinWidth=Ke.minWidth,Ke.totalWidth=Math.min(Math.max(Ke.minWidth,Ke.width),Ke.maxWidth),Ke.totalMaxWidth=Ke.maxWidth,Ke.totalFlexWidth=Ke.canResize?Ke.totalWidth:0;Ke.isVisible&&(ne+=Ke.totalWidth,oe+=Ke.totalMinWidth,he+=Ke.totalWidth,je+=Ke.totalMaxWidth,we+=Ke.totalFlexWidth)}),[oe,he,je,we]}function Q(M){var ne=M.data,oe=M.rows,he=M.flatRows,je=M.rowsById,we=M.column,Ke=M.getRowId,Rt=M.getSubRows,_t=M.accessValueHooks,Nt=M.getInstance;ne.forEach(function(qt,Vt){return function Wt(Lt,Jt,an,fn,wn){an===void 0&&(an=0);var Yn=Lt,_n=Ke(Lt,Jt,fn),Qt=je[_n];if(Qt)Qt.subRows&&Qt.originalSubRows.forEach(function(pn,Bn){return Wt(pn,Bn,an+1,Qt)});else if((Qt={id:_n,original:Yn,index:Jt,depth:an,cells:[{}]}).cells.map=Y,Qt.cells.filter=Y,Qt.cells.forEach=Y,Qt.cells[0].getCellProps=Y,Qt.values={},wn.push(Qt),he.push(Qt),je[_n]=Qt,Qt.originalSubRows=Rt(Lt,Jt),Qt.originalSubRows){var Hn=[];Qt.originalSubRows.forEach(function(pn,Bn){return Wt(pn,Bn,an+1,Qt,Hn)}),Qt.subRows=Hn}we.accessor&&(Qt.values[we.id]=we.accessor(Lt,Jt,Qt,wn,ne)),Qt.values[we.id]=x(_t,Qt.values[we.id],{row:Qt,column:we,instance:Nt()})}(qt,Vt,0,void 0,oe)})}c.resetExpanded="resetExpanded",c.toggleRowExpanded="toggleRowExpanded",c.toggleAllRowsExpanded="toggleAllRowsExpanded";var j=function(M){M.getToggleAllRowsExpandedProps=[G],M.getToggleRowExpandedProps=[V],M.stateReducers.push(Je),M.useInstance.push(ot),M.prepareRow.push(Qe)};j.pluginName="useExpanded";var G=function(M,ne){var oe=ne.instance;return[M,{onClick:function(he){oe.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},V=function(M,ne){var oe=ne.row;return[M,{onClick:function(){oe.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function Je(M,ne,oe,he){if(ne.type===c.init)return s({expanded:{}},M);if(ne.type===c.resetExpanded)return s({},M,{expanded:he.initialState.expanded||{}});if(ne.type===c.toggleAllRowsExpanded){var je=ne.value,we=he.rowsById,Ke=Object.keys(we).length===Object.keys(M.expanded).length;if(je!==void 0?je:!Ke){var Rt={};return Object.keys(we).forEach(function(Jt){Rt[Jt]=!0}),s({},M,{expanded:Rt})}return s({},M,{expanded:{}})}if(ne.type===c.toggleRowExpanded){var _t,Nt=ne.id,qt=ne.value,Vt=M.expanded[Nt],Wt=qt!==void 0?qt:!Vt;if(!Vt&&Wt)return s({},M,{expanded:s({},M.expanded,(_t={},_t[Nt]=!0,_t))});if(Vt&&!Wt){var Lt=M.expanded;return Lt[Nt],s({},M,{expanded:u(Lt,[Nt].map(d))})}return M}}function ot(M){var ne=M.data,oe=M.rows,he=M.rowsById,je=M.manualExpandedKey,we=je===void 0?"expanded":je,Ke=M.paginateExpandedRows,Rt=Ke===void 0||Ke,_t=M.expandSubRows,Nt=_t===void 0||_t,qt=M.autoResetExpanded,Vt=qt===void 0||qt,Wt=M.getHooks,Lt=M.plugins,Jt=M.state.expanded,an=M.dispatch;E(Lt,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var fn=O(Vt),wn=!!(Object.keys(he).length&&Object.keys(Jt).length);wn&&Object.keys(he).some(function(er){return!Jt[er]})&&(wn=!1),L(function(){fn()&&an({type:c.resetExpanded})},[an,ne]);var Yn=i.useCallback(function(er,Mt){an({type:c.toggleRowExpanded,id:er,value:Mt})},[an]),_n=i.useCallback(function(er){return an({type:c.toggleAllRowsExpanded,value:er})},[an]),Qt=i.useMemo(function(){return Rt?lt(oe,{manualExpandedKey:we,expanded:Jt,expandSubRows:Nt}):oe},[Rt,oe,we,Jt,Nt]),Hn=i.useMemo(function(){return function(er){var Mt=0;return Object.keys(er).forEach(function(Pn){var Ar=Pn.split(".");Mt=Math.max(Mt,Ar.length)}),Mt}(Jt)},[Jt]),pn=O(M),Bn=T(Wt().getToggleAllRowsExpandedProps,{instance:pn()});Object.assign(M,{preExpandedRows:oe,expandedRows:Qt,rows:Qt,expandedDepth:Hn,isAllRowsExpanded:wn,toggleRowExpanded:Yn,toggleAllRowsExpanded:_n,getToggleAllRowsExpandedProps:Bn})}function Qe(M,ne){var oe=ne.instance.getHooks,he=ne.instance;M.toggleRowExpanded=function(je){return he.toggleRowExpanded(M.id,je)},M.getToggleRowExpandedProps=T(oe().getToggleRowExpandedProps,{instance:he,row:M})}var Yt=function(M,ne,oe){return M=M.filter(function(he){return ne.some(function(je){var we=he.values[je];return String(we).toLowerCase().includes(String(oe).toLowerCase())})})};Yt.autoRemove=function(M){return!M};var $n=function(M,ne,oe){return M.filter(function(he){return ne.some(function(je){var we=he.values[je];return we===void 0||String(we).toLowerCase()===String(oe).toLowerCase()})})};$n.autoRemove=function(M){return!M};var qn=function(M,ne,oe){return M.filter(function(he){return ne.some(function(je){var we=he.values[je];return we===void 0||String(we)===String(oe)})})};qn.autoRemove=function(M){return!M};var sn=function(M,ne,oe){return M.filter(function(he){return ne.some(function(je){return he.values[je].includes(oe)})})};sn.autoRemove=function(M){return!M||!M.length};var ze=function(M,ne,oe){return M.filter(function(he){return ne.some(function(je){var we=he.values[je];return we&&we.length&&oe.every(function(Ke){return we.includes(Ke)})})})};ze.autoRemove=function(M){return!M||!M.length};var wt=function(M,ne,oe){return M.filter(function(he){return ne.some(function(je){var we=he.values[je];return we&&we.length&&oe.some(function(Ke){return we.includes(Ke)})})})};wt.autoRemove=function(M){return!M||!M.length};var dt=function(M,ne,oe){return M.filter(function(he){return ne.some(function(je){var we=he.values[je];return oe.includes(we)})})};dt.autoRemove=function(M){return!M||!M.length};var Be=function(M,ne,oe){return M.filter(function(he){return ne.some(function(je){return he.values[je]===oe})})};Be.autoRemove=function(M){return M===void 0};var pt=function(M,ne,oe){return M.filter(function(he){return ne.some(function(je){return he.values[je]==oe})})};pt.autoRemove=function(M){return M==null};var Xt=function(M,ne,oe){var he=oe||[],je=he[0],we=he[1];if((je=typeof je=="number"?je:-1/0)>(we=typeof we=="number"?we:1/0)){var Ke=je;je=we,we=Ke}return M.filter(function(Rt){return ne.some(function(_t){var Nt=Rt.values[_t];return Nt>=je&&Nt<=we})})};Xt.autoRemove=function(M){return!M||typeof M[0]!="number"&&typeof M[1]!="number"};var zt=Object.freeze({__proto__:null,text:Yt,exactText:$n,exactTextCase:qn,includes:sn,includesAll:ze,includesSome:wt,includesValue:dt,exact:Be,equals:pt,between:Xt});c.resetFilters="resetFilters",c.setFilter="setFilter",c.setAllFilters="setAllFilters";var tn=function(M){M.stateReducers.push(Ht),M.useInstance.push(fe)};function Ht(M,ne,oe,he){if(ne.type===c.init)return s({filters:[]},M);if(ne.type===c.resetFilters)return s({},M,{filters:he.initialState.filters||[]});if(ne.type===c.setFilter){var je=ne.columnId,we=ne.filterValue,Ke=he.allColumns,Rt=he.filterTypes,_t=Ke.find(function(an){return an.id===je});if(!_t)throw new Error("React-Table: Could not find a column with id: "+je);var Nt=ge(_t.filter,Rt||{},zt),qt=M.filters.find(function(an){return an.id===je}),Vt=I(we,qt&&qt.value);return rt(Nt.autoRemove,Vt,_t)?s({},M,{filters:M.filters.filter(function(an){return an.id!==je})}):s({},M,qt?{filters:M.filters.map(function(an){return an.id===je?{id:je,value:Vt}:an})}:{filters:[].concat(M.filters,[{id:je,value:Vt}])})}if(ne.type===c.setAllFilters){var Wt=ne.filters,Lt=he.allColumns,Jt=he.filterTypes;return s({},M,{filters:I(Wt,M.filters).filter(function(an){var fn=Lt.find(function(wn){return wn.id===an.id});return!rt(ge(fn.filter,Jt||{},zt).autoRemove,an.value,fn)})})}}function fe(M){var ne=M.data,oe=M.rows,he=M.flatRows,je=M.rowsById,we=M.allColumns,Ke=M.filterTypes,Rt=M.manualFilters,_t=M.defaultCanFilter,Nt=_t!==void 0&&_t,qt=M.disableFilters,Vt=M.state.filters,Wt=M.dispatch,Lt=M.autoResetFilters,Jt=Lt===void 0||Lt,an=i.useCallback(function(pn,Bn){Wt({type:c.setFilter,columnId:pn,filterValue:Bn})},[Wt]),fn=i.useCallback(function(pn){Wt({type:c.setAllFilters,filters:pn})},[Wt]);we.forEach(function(pn){var Bn=pn.id,er=pn.accessor,Mt=pn.defaultCanFilter,Pn=pn.disableFilters;pn.canFilter=er?Ze(Pn!==!0&&void 0,qt!==!0&&void 0,!0):Ze(Mt,Nt,!1),pn.setFilter=function(jn){return an(pn.id,jn)};var Ar=Vt.find(function(jn){return jn.id===Bn});pn.filterValue=Ar&&Ar.value});var wn=i.useMemo(function(){if(Rt||!Vt.length)return[oe,he,je];var pn=[],Bn={};return[function er(Mt,Pn){Pn===void 0&&(Pn=0);var Ar=Mt;return(Ar=Vt.reduce(function(jn,wr){var pr=wr.id,kr=wr.value,Sn=we.find(function(ai){return ai.id===pr});if(!Sn)return jn;Pn===0&&(Sn.preFilteredRows=jn);var zn=ge(Sn.filter,Ke||{},zt);return zn?(Sn.filteredRows=zn(jn,[pr],kr),Sn.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+Sn.id+"."),jn)},Mt)).forEach(function(jn){pn.push(jn),Bn[jn.id]=jn,jn.subRows&&(jn.subRows=jn.subRows&&jn.subRows.length>0?er(jn.subRows,Pn+1):jn.subRows)}),Ar}(oe),pn,Bn]},[Rt,Vt,oe,he,je,we,Ke]),Yn=wn[0],_n=wn[1],Qt=wn[2];i.useMemo(function(){we.filter(function(pn){return!Vt.find(function(Bn){return Bn.id===pn.id})}).forEach(function(pn){pn.preFilteredRows=Yn,pn.filteredRows=Yn})},[Yn,Vt,we]);var Hn=O(Jt);L(function(){Hn()&&Wt({type:c.resetFilters})},[Wt,Rt?null:ne]),Object.assign(M,{preFilteredRows:oe,preFilteredFlatRows:he,preFilteredRowsById:je,filteredRows:Yn,filteredFlatRows:_n,filteredRowsById:Qt,rows:Yn,flatRows:_n,rowsById:Qt,setFilter:an,setAllFilters:fn})}tn.pluginName="useFilters",c.resetGlobalFilter="resetGlobalFilter",c.setGlobalFilter="setGlobalFilter";var ve=function(M){M.stateReducers.push(Ot),M.useInstance.push(Ct)};function Ot(M,ne,oe,he){if(ne.type===c.resetGlobalFilter)return s({},M,{globalFilter:he.initialState.globalFilter||void 0});if(ne.type===c.setGlobalFilter){var je=ne.filterValue,we=he.userFilterTypes,Ke=ge(he.globalFilter,we||{},zt),Rt=I(je,M.globalFilter);return rt(Ke.autoRemove,Rt)?(M.globalFilter,u(M,["globalFilter"])):s({},M,{globalFilter:Rt})}}function Ct(M){var ne=M.data,oe=M.rows,he=M.flatRows,je=M.rowsById,we=M.allColumns,Ke=M.filterTypes,Rt=M.globalFilter,_t=M.manualGlobalFilter,Nt=M.state.globalFilter,qt=M.dispatch,Vt=M.autoResetGlobalFilter,Wt=Vt===void 0||Vt,Lt=M.disableGlobalFilter,Jt=i.useCallback(function(Qt){qt({type:c.setGlobalFilter,filterValue:Qt})},[qt]),an=i.useMemo(function(){if(_t||Nt===void 0)return[oe,he,je];var Qt=[],Hn={},pn=ge(Rt,Ke||{},zt);if(!pn)return console.warn("Could not find a valid 'globalFilter' option."),oe;we.forEach(function(er){var Mt=er.disableGlobalFilter;er.canFilter=Ze(Mt!==!0&&void 0,Lt!==!0&&void 0,!0)});var Bn=we.filter(function(er){return er.canFilter===!0});return[function er(Mt){return(Mt=pn(Mt,Bn.map(function(Pn){return Pn.id}),Nt)).forEach(function(Pn){Qt.push(Pn),Hn[Pn.id]=Pn,Pn.subRows=Pn.subRows&&Pn.subRows.length?er(Pn.subRows):Pn.subRows}),Mt}(oe),Qt,Hn]},[_t,Nt,Rt,Ke,we,oe,he,je,Lt]),fn=an[0],wn=an[1],Yn=an[2],_n=O(Wt);L(function(){_n()&&qt({type:c.resetGlobalFilter})},[qt,_t?null:ne]),Object.assign(M,{preGlobalFilteredRows:oe,preGlobalFilteredFlatRows:he,preGlobalFilteredRowsById:je,globalFilteredRows:fn,globalFilteredFlatRows:wn,globalFilteredRowsById:Yn,rows:fn,flatRows:wn,rowsById:Yn,setGlobalFilter:Jt,disableGlobalFilter:Lt})}function Ft(M,ne){return ne.reduce(function(oe,he){return oe+(typeof he=="number"?he:0)},0)}ve.pluginName="useGlobalFilter";var Zt=Object.freeze({__proto__:null,sum:Ft,min:function(M){var ne=M[0]||0;return M.forEach(function(oe){typeof oe=="number"&&(ne=Math.min(ne,oe))}),ne},max:function(M){var ne=M[0]||0;return M.forEach(function(oe){typeof oe=="number"&&(ne=Math.max(ne,oe))}),ne},minMax:function(M){var ne=M[0]||0,oe=M[0]||0;return M.forEach(function(he){typeof he=="number"&&(ne=Math.min(ne,he),oe=Math.max(oe,he))}),ne+".."+oe},average:function(M){return Ft(0,M)/M.length},median:function(M){if(!M.length)return null;var ne=Math.floor(M.length/2),oe=[].concat(M).sort(function(he,je){return he-je});return M.length%2!=0?oe[ne]:(oe[ne-1]+oe[ne])/2},unique:function(M){return Array.from(new Set(M).values())},uniqueCount:function(M){return new Set(M).size},count:function(M){return M.length}}),nn=[],Ln={};c.resetGroupBy="resetGroupBy",c.setGroupBy="setGroupBy",c.toggleGroupBy="toggleGroupBy";var $t=function(M){M.getGroupByToggleProps=[en],M.stateReducers.push(vn),M.visibleColumnsDeps.push(function(ne,oe){var he=oe.instance;return[].concat(ne,[he.state.groupBy])}),M.visibleColumns.push(on),M.useInstance.push(xn),M.prepareRow.push(Qn)};$t.pluginName="useGroupBy";var en=function(M,ne){var oe=ne.header;return[M,{onClick:oe.canGroupBy?function(he){he.persist(),oe.toggleGroupBy()}:void 0,style:{cursor:oe.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function vn(M,ne,oe,he){if(ne.type===c.init)return s({groupBy:[]},M);if(ne.type===c.resetGroupBy)return s({},M,{groupBy:he.initialState.groupBy||[]});if(ne.type===c.setGroupBy)return s({},M,{groupBy:ne.value});if(ne.type===c.toggleGroupBy){var je=ne.columnId,we=ne.value,Ke=we!==void 0?we:!M.groupBy.includes(je);return s({},M,Ke?{groupBy:[].concat(M.groupBy,[je])}:{groupBy:M.groupBy.filter(function(Rt){return Rt!==je})})}}function on(M,ne){var oe=ne.instance.state.groupBy,he=oe.map(function(we){return M.find(function(Ke){return Ke.id===we})}).filter(Boolean),je=M.filter(function(we){return!oe.includes(we.id)});return(M=[].concat(he,je)).forEach(function(we){we.isGrouped=oe.includes(we.id),we.groupedIndex=oe.indexOf(we.id)}),M}var Un={};function xn(M){var ne=M.data,oe=M.rows,he=M.flatRows,je=M.rowsById,we=M.allColumns,Ke=M.flatHeaders,Rt=M.groupByFn,_t=Rt===void 0?mn:Rt,Nt=M.manualGroupBy,qt=M.aggregations,Vt=qt===void 0?Un:qt,Wt=M.plugins,Lt=M.state.groupBy,Jt=M.dispatch,an=M.autoResetGroupBy,fn=an===void 0||an,wn=M.disableGroupBy,Yn=M.defaultCanGroupBy,_n=M.getHooks;E(Wt,["useColumnOrder","useFilters"],"useGroupBy");var Qt=O(M);we.forEach(function(Sn){var zn=Sn.accessor,ai=Sn.defaultGroupBy,xi=Sn.disableGroupBy;Sn.canGroupBy=zn?Ze(Sn.canGroupBy,xi!==!0&&void 0,wn!==!0&&void 0,!0):Ze(Sn.canGroupBy,ai,Yn,!1),Sn.canGroupBy&&(Sn.toggleGroupBy=function(){return M.toggleGroupBy(Sn.id)}),Sn.Aggregated=Sn.Aggregated||Sn.Cell});var Hn=i.useCallback(function(Sn,zn){Jt({type:c.toggleGroupBy,columnId:Sn,value:zn})},[Jt]),pn=i.useCallback(function(Sn){Jt({type:c.setGroupBy,value:Sn})},[Jt]);Ke.forEach(function(Sn){Sn.getGroupByToggleProps=T(_n().getGroupByToggleProps,{instance:Qt(),header:Sn})});var Bn=i.useMemo(function(){if(Nt||!Lt.length)return[oe,he,je,nn,Ln,he,je];var Sn=Lt.filter(function(ei){return we.find(function(ur){return ur.id===ei})}),zn=[],ai={},xi=[],Tn={},Wr=[],Kr={},ir=function ei(ur,$a,wc){if($a===void 0&&($a=0),$a===Sn.length)return ur.map(function(co){return s({},co,{depth:$a})});var rl=Sn[$a],_c=_t(ur,rl);return Object.entries(_c).map(function(co,ws){var ed=co[0],Ca=co[1],Xo=rl+":"+ed,du=ei(Ca,$a+1,Xo=wc?wc+">"+Xo:Xo),il=$a?Re(Ca,"leafRows"):Ca,fo=function(_r,al,td){var ol={};return we.forEach(function(pi){if(Sn.includes(pi.id))ol[pi.id]=al[0]?al[0].values[pi.id]:null;else{var Sc=typeof pi.aggregate=="function"?pi.aggregate:Vt[pi.aggregate]||Zt[pi.aggregate];if(Sc){var nd=al.map(function(ho){return ho.values[pi.id]}),Hi=_r.map(function(ho){var sl=ho.values[pi.id];if(!td&&pi.aggregateValue){var hu=typeof pi.aggregateValue=="function"?pi.aggregateValue:Vt[pi.aggregateValue]||Zt[pi.aggregateValue];if(!hu)throw console.info({column:pi}),new Error("React Table: Invalid column.aggregateValue option for column listed above");sl=hu(sl,ho,pi)}return sl});ol[pi.id]=Sc(Hi,nd)}else{if(pi.aggregate)throw console.info({column:pi}),new Error("React Table: Invalid column.aggregate option for column listed above");ol[pi.id]=null}}}),ol}(il,Ca,$a),Ka={id:Xo,isGrouped:!0,groupByID:rl,groupByVal:ed,values:fo,subRows:du,leafRows:il,depth:$a,index:ws};return du.forEach(function(_r){zn.push(_r),ai[_r.id]=_r,_r.isGrouped?(xi.push(_r),Tn[_r.id]=_r):(Wr.push(_r),Kr[_r.id]=_r)}),Ka})}(oe);return ir.forEach(function(ei){zn.push(ei),ai[ei.id]=ei,ei.isGrouped?(xi.push(ei),Tn[ei.id]=ei):(Wr.push(ei),Kr[ei.id]=ei)}),[ir,zn,ai,xi,Tn,Wr,Kr]},[Nt,Lt,oe,he,je,we,Vt,_t]),er=Bn[0],Mt=Bn[1],Pn=Bn[2],Ar=Bn[3],jn=Bn[4],wr=Bn[5],pr=Bn[6],kr=O(fn);L(function(){kr()&&Jt({type:c.resetGroupBy})},[Jt,Nt?null:ne]),Object.assign(M,{preGroupedRows:oe,preGroupedFlatRow:he,preGroupedRowsById:je,groupedRows:er,groupedFlatRows:Mt,groupedRowsById:Pn,onlyGroupedFlatRows:Ar,onlyGroupedRowsById:jn,nonGroupedFlatRows:wr,nonGroupedRowsById:pr,rows:er,flatRows:Mt,rowsById:Pn,toggleGroupBy:Hn,setGroupBy:pn})}function Qn(M){M.allCells.forEach(function(ne){var oe;ne.isGrouped=ne.column.isGrouped&&ne.column.id===M.groupByID,ne.isPlaceholder=!ne.isGrouped&&ne.column.isGrouped,ne.isAggregated=!ne.isGrouped&&!ne.isPlaceholder&&((oe=M.subRows)==null?void 0:oe.length)})}function mn(M,ne){return M.reduce(function(oe,he,je){var we=""+he.values[ne];return oe[we]=Array.isArray(oe[we])?oe[we]:[],oe[we].push(he),oe},{})}var ln=/([0-9]+)/gm;function Gt(M,ne){return M===ne?0:M>ne?1:-1}function nr(M,ne,oe){return[M.values[oe],ne.values[oe]]}function Mr(M){return typeof M=="number"?isNaN(M)||M===1/0||M===-1/0?"":String(M):typeof M=="string"?M:""}var yr=Object.freeze({__proto__:null,alphanumeric:function(M,ne,oe){var he=nr(M,ne,oe),je=he[0],we=he[1];for(je=Mr(je),we=Mr(we),je=je.split(ln).filter(Boolean),we=we.split(ln).filter(Boolean);je.length&&we.length;){var Ke=je.shift(),Rt=we.shift(),_t=parseInt(Ke,10),Nt=parseInt(Rt,10),qt=[_t,Nt].sort();if(isNaN(qt[0])){if(Ke>Rt)return 1;if(Rt>Ke)return-1}else{if(isNaN(qt[1]))return isNaN(_t)?-1:1;if(_t>Nt)return 1;if(Nt>_t)return-1}}return je.length-we.length},datetime:function(M,ne,oe){var he=nr(M,ne,oe),je=he[0],we=he[1];return Gt(je=je.getTime(),we=we.getTime())},basic:function(M,ne,oe){var he=nr(M,ne,oe);return Gt(he[0],he[1])},string:function(M,ne,oe){var he=nr(M,ne,oe),je=he[0],we=he[1];for(je=je.split("").filter(Boolean),we=we.split("").filter(Boolean);je.length&&we.length;){var Ke=je.shift(),Rt=we.shift(),_t=Ke.toLowerCase(),Nt=Rt.toLowerCase();if(_t>Nt)return 1;if(Nt>_t)return-1;if(Ke>Rt)return 1;if(Rt>Ke)return-1}return je.length-we.length},number:function(M,ne,oe){var he=nr(M,ne,oe),je=he[0],we=he[1],Ke=/[^0-9.]/gi;return Gt(je=Number(String(je).replace(Ke,"")),we=Number(String(we).replace(Ke,"")))}});c.resetSortBy="resetSortBy",c.setSortBy="setSortBy",c.toggleSortBy="toggleSortBy",c.clearSortBy="clearSortBy",w.sortType="alphanumeric",w.sortDescFirst=!1;var kn=function(M){M.getSortByToggleProps=[Pr],M.stateReducers.push($r),M.useInstance.push(cn)};kn.pluginName="useSortBy";var Pr=function(M,ne){var oe=ne.instance,he=ne.column,je=oe.isMultiSortEvent,we=je===void 0?function(Ke){return Ke.shiftKey}:je;return[M,{onClick:he.canSort?function(Ke){Ke.persist(),he.toggleSortBy(void 0,!oe.disableMultiSort&&we(Ke))}:void 0,style:{cursor:he.canSort?"pointer":void 0},title:he.canSort?"Toggle SortBy":void 0}]};function $r(M,ne,oe,he){if(ne.type===c.init)return s({sortBy:[]},M);if(ne.type===c.resetSortBy)return s({},M,{sortBy:he.initialState.sortBy||[]});if(ne.type===c.clearSortBy)return s({},M,{sortBy:M.sortBy.filter(function(Qt){return Qt.id!==ne.columnId})});if(ne.type===c.setSortBy)return s({},M,{sortBy:ne.sortBy});if(ne.type===c.toggleSortBy){var je,we=ne.columnId,Ke=ne.desc,Rt=ne.multi,_t=he.allColumns,Nt=he.disableMultiSort,qt=he.disableSortRemove,Vt=he.disableMultiRemove,Wt=he.maxMultiSortColCount,Lt=Wt===void 0?Number.MAX_SAFE_INTEGER:Wt,Jt=M.sortBy,an=_t.find(function(Qt){return Qt.id===we}).sortDescFirst,fn=Jt.find(function(Qt){return Qt.id===we}),wn=Jt.findIndex(function(Qt){return Qt.id===we}),Yn=Ke!=null,_n=[];return(je=!Nt&&Rt?fn?"toggle":"add":wn!==Jt.length-1||Jt.length!==1?"replace":fn?"toggle":"replace")!="toggle"||qt||Yn||Rt&&Vt||!(fn&&fn.desc&&!an||!fn.desc&&an)||(je="remove"),je==="replace"?_n=[{id:we,desc:Yn?Ke:an}]:je==="add"?(_n=[].concat(Jt,[{id:we,desc:Yn?Ke:an}])).splice(0,_n.length-Lt):je==="toggle"?_n=Jt.map(function(Qt){return Qt.id===we?s({},Qt,{desc:Yn?Ke:!fn.desc}):Qt}):je==="remove"&&(_n=Jt.filter(function(Qt){return Qt.id!==we})),s({},M,{sortBy:_n})}}function cn(M){var ne=M.data,oe=M.rows,he=M.flatRows,je=M.allColumns,we=M.orderByFn,Ke=we===void 0?_i:we,Rt=M.sortTypes,_t=M.manualSortBy,Nt=M.defaultCanSort,qt=M.disableSortBy,Vt=M.flatHeaders,Wt=M.state.sortBy,Lt=M.dispatch,Jt=M.plugins,an=M.getHooks,fn=M.autoResetSortBy,wn=fn===void 0||fn;E(Jt,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var Yn=i.useCallback(function(Mt){Lt({type:c.setSortBy,sortBy:Mt})},[Lt]),_n=i.useCallback(function(Mt,Pn,Ar){Lt({type:c.toggleSortBy,columnId:Mt,desc:Pn,multi:Ar})},[Lt]),Qt=O(M);Vt.forEach(function(Mt){var Pn=Mt.accessor,Ar=Mt.canSort,jn=Mt.disableSortBy,wr=Mt.id,pr=Pn?Ze(jn!==!0&&void 0,qt!==!0&&void 0,!0):Ze(Nt,Ar,!1);Mt.canSort=pr,Mt.canSort&&(Mt.toggleSortBy=function(Sn,zn){return _n(Mt.id,Sn,zn)},Mt.clearSortBy=function(){Lt({type:c.clearSortBy,columnId:Mt.id})}),Mt.getSortByToggleProps=T(an().getSortByToggleProps,{instance:Qt(),column:Mt});var kr=Wt.find(function(Sn){return Sn.id===wr});Mt.isSorted=!!kr,Mt.sortedIndex=Wt.findIndex(function(Sn){return Sn.id===wr}),Mt.isSortedDesc=Mt.isSorted?kr.desc:void 0});var Hn=i.useMemo(function(){if(_t||!Wt.length)return[oe,he];var Mt=[],Pn=Wt.filter(function(Ar){return je.find(function(jn){return jn.id===Ar.id})});return[function Ar(jn){var wr=Ke(jn,Pn.map(function(pr){var kr=je.find(function(ai){return ai.id===pr.id});if(!kr)throw new Error("React-Table: Could not find a column with id: "+pr.id+" while sorting");var Sn=kr.sortType,zn=it(Sn)||(Rt||{})[Sn]||yr[Sn];if(!zn)throw new Error("React-Table: Could not find a valid sortType of '"+Sn+"' for column '"+pr.id+"'.");return function(ai,xi){return zn(ai,xi,pr.id,pr.desc)}}),Pn.map(function(pr){var kr=je.find(function(Sn){return Sn.id===pr.id});return kr&&kr.sortInverted?pr.desc:!pr.desc}));return wr.forEach(function(pr){Mt.push(pr),pr.subRows&&pr.subRows.length!==0&&(pr.subRows=Ar(pr.subRows))}),wr}(oe),Mt]},[_t,Wt,oe,he,je,Ke,Rt]),pn=Hn[0],Bn=Hn[1],er=O(wn);L(function(){er()&&Lt({type:c.resetSortBy})},[_t?null:ne]),Object.assign(M,{preSortedRows:oe,preSortedFlatRows:he,sortedRows:pn,sortedFlatRows:Bn,rows:pn,flatRows:Bn,setSortBy:Yn,toggleSortBy:_n})}function _i(M,ne,oe){return[].concat(M).sort(function(he,je){for(var we=0;we<ne.length;we+=1){var Ke=ne[we],Rt=oe[we]===!1||oe[we]==="desc",_t=Ke(he,je);if(_t!==0)return Rt?-_t:_t}return oe[0]?he.index-je.index:je.index-he.index})}c.resetPage="resetPage",c.gotoPage="gotoPage",c.setPageSize="setPageSize";var Fr=function(M){M.stateReducers.push(ta),M.useInstance.push(Si)};function ta(M,ne,oe,he){if(ne.type===c.init)return s({pageSize:10,pageIndex:0},M);if(ne.type===c.resetPage)return s({},M,{pageIndex:he.initialState.pageIndex||0});if(ne.type===c.gotoPage){var je=he.pageCount,we=he.page,Ke=I(ne.pageIndex,M.pageIndex),Rt=!1;return Ke>M.pageIndex?Rt=je===-1?we.length>=M.pageSize:Ke<je:Ke<M.pageIndex&&(Rt=Ke>-1),Rt?s({},M,{pageIndex:Ke}):M}if(ne.type===c.setPageSize){var _t=ne.pageSize,Nt=M.pageSize*M.pageIndex;return s({},M,{pageIndex:Math.floor(Nt/_t),pageSize:_t})}}function Si(M){var ne=M.rows,oe=M.autoResetPage,he=oe===void 0||oe,je=M.manualExpandedKey,we=je===void 0?"expanded":je,Ke=M.plugins,Rt=M.pageCount,_t=M.paginateExpandedRows,Nt=_t===void 0||_t,qt=M.expandSubRows,Vt=qt===void 0||qt,Wt=M.state,Lt=Wt.pageSize,Jt=Wt.pageIndex,an=Wt.expanded,fn=Wt.globalFilter,wn=Wt.filters,Yn=Wt.groupBy,_n=Wt.sortBy,Qt=M.dispatch,Hn=M.data,pn=M.manualPagination;E(Ke,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var Bn=O(he);L(function(){Bn()&&Qt({type:c.resetPage})},[Qt,pn?null:Hn,fn,wn,Yn,_n]);var er=pn?Rt:Math.ceil(ne.length/Lt),Mt=i.useMemo(function(){return er>0?[].concat(new Array(er)).fill(null).map(function(zn,ai){return ai}):[]},[er]),Pn=i.useMemo(function(){var zn;if(pn)zn=ne;else{var ai=Lt*Jt,xi=ai+Lt;zn=ne.slice(ai,xi)}return Nt?zn:lt(zn,{manualExpandedKey:we,expanded:an,expandSubRows:Vt})},[Vt,an,we,pn,Jt,Lt,Nt,ne]),Ar=Jt>0,jn=er===-1?Pn.length>=Lt:Jt<er-1,wr=i.useCallback(function(zn){Qt({type:c.gotoPage,pageIndex:zn})},[Qt]),pr=i.useCallback(function(){return wr(function(zn){return zn-1})},[wr]),kr=i.useCallback(function(){return wr(function(zn){return zn+1})},[wr]),Sn=i.useCallback(function(zn){Qt({type:c.setPageSize,pageSize:zn})},[Qt]);Object.assign(M,{pageOptions:Mt,pageCount:er,page:Pn,canPreviousPage:Ar,canNextPage:jn,gotoPage:wr,previousPage:pr,nextPage:kr,setPageSize:Sn})}Fr.pluginName="usePagination",c.resetPivot="resetPivot",c.togglePivot="togglePivot";var Ha=function(M){M.getPivotToggleProps=[Ei],M.stateReducers.push(b),M.useInstanceAfterData.push(v),M.allColumns.push(A),M.accessValue.push(P),M.materializedColumns.push(B),M.materializedColumnsDeps.push(X),M.visibleColumns.push(ue),M.visibleColumnsDeps.push(Ee),M.useInstance.push(ye),M.prepareRow.push(_e)};Ha.pluginName="usePivotColumns";var ha=[],Ei=function(M,ne){var oe=ne.header;return[M,{onClick:oe.canPivot?function(he){he.persist(),oe.togglePivot()}:void 0,style:{cursor:oe.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function b(M,ne,oe,he){if(ne.type===c.init)return s({pivotColumns:ha},M);if(ne.type===c.resetPivot)return s({},M,{pivotColumns:he.initialState.pivotColumns||ha});if(ne.type===c.togglePivot){var je=ne.columnId,we=ne.value,Ke=we!==void 0?we:!M.pivotColumns.includes(je);return s({},M,Ke?{pivotColumns:[].concat(M.pivotColumns,[je])}:{pivotColumns:M.pivotColumns.filter(function(Rt){return Rt!==je})})}}function v(M){M.allColumns.forEach(function(ne){ne.isPivotSource=M.state.pivotColumns.includes(ne.id)})}function A(M,ne){var oe=ne.instance;return M.forEach(function(he){he.isPivotSource=oe.state.pivotColumns.includes(he.id),he.uniqueValues=new Set}),M}function P(M,ne){var oe=ne.column;return oe.uniqueValues&&M!==void 0&&oe.uniqueValues.add(M),M}function B(M,ne){var oe=ne.instance,he=oe.allColumns,je=oe.state;if(!je.pivotColumns.length||!je.groupBy||!je.groupBy.length)return M;var we=je.pivotColumns.map(function(_t){return he.find(function(Nt){return Nt.id===_t})}).filter(Boolean),Ke=he.filter(function(_t){return!_t.isPivotSource&&!je.groupBy.includes(_t.id)&&!je.pivotColumns.includes(_t.id)}),Rt=Ae(function _t(Nt,qt,Vt){Nt===void 0&&(Nt=0),Vt===void 0&&(Vt=[]);var Wt=we[Nt];return Wt?Array.from(Wt.uniqueValues).sort().map(function(Lt){var Jt=s({},Wt,{Header:Wt.PivotHeader||typeof Wt.header=="string"?Wt.Header+": "+Lt:Lt,isPivotGroup:!0,parent:qt,depth:Nt,id:qt?qt.id+"."+Wt.id+"."+Lt:Wt.id+"."+Lt,pivotValue:Lt});return Jt.columns=_t(Nt+1,Jt,[].concat(Vt,[function(an){return an.values[Wt.id]===Lt}])),Jt}):Ke.map(function(Lt){return s({},Lt,{canPivot:!1,isPivoted:!0,parent:qt,depth:Nt,id:""+(qt?qt.id+"."+Lt.id:Lt.id),accessor:function(Jt,an,fn){if(Vt.every(function(wn){return wn(fn)}))return fn.values[Lt.id]}})})}());return[].concat(M,Rt)}function X(M,ne){var oe=ne.instance.state,he=oe.pivotColumns,je=oe.groupBy;return[].concat(M,[he,je])}function ue(M,ne){var oe=ne.instance.state;return M=M.filter(function(he){return!he.isPivotSource}),oe.pivotColumns.length&&oe.groupBy&&oe.groupBy.length&&(M=M.filter(function(he){return he.isGrouped||he.isPivoted})),M}function Ee(M,ne){var oe=ne.instance;return[].concat(M,[oe.state.pivotColumns,oe.state.groupBy])}function ye(M){var ne=M.columns,oe=M.allColumns,he=M.flatHeaders,je=M.getHooks,we=M.plugins,Ke=M.dispatch,Rt=M.autoResetPivot,_t=Rt===void 0||Rt,Nt=M.manaulPivot,qt=M.disablePivot,Vt=M.defaultCanPivot;E(we,["useGroupBy"],"usePivotColumns");var Wt=O(M);oe.forEach(function(Jt){var an=Jt.accessor,fn=Jt.defaultPivot,wn=Jt.disablePivot;Jt.canPivot=an?Ze(Jt.canPivot,wn!==!0&&void 0,qt!==!0&&void 0,!0):Ze(Jt.canPivot,fn,Vt,!1),Jt.canPivot&&(Jt.togglePivot=function(){return M.togglePivot(Jt.id)}),Jt.Aggregated=Jt.Aggregated||Jt.Cell}),he.forEach(function(Jt){Jt.getPivotToggleProps=T(je().getPivotToggleProps,{instance:Wt(),header:Jt})});var Lt=O(_t);L(function(){Lt()&&Ke({type:c.resetPivot})},[Ke,Nt?null:ne]),Object.assign(M,{togglePivot:function(Jt,an){Ke({type:c.togglePivot,columnId:Jt,value:an})}})}function _e(M){M.allCells.forEach(function(ne){ne.isPivoted=ne.column.isPivoted})}c.resetSelectedRows="resetSelectedRows",c.toggleAllRowsSelected="toggleAllRowsSelected",c.toggleRowSelected="toggleRowSelected",c.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var Te=function(M){M.getToggleRowSelectedProps=[Oe],M.getToggleAllRowsSelectedProps=[ke],M.getToggleAllPageRowsSelectedProps=[We],M.stateReducers.push(ut),M.useInstance.push(yt),M.prepareRow.push(Et)};Te.pluginName="useRowSelect";var Oe=function(M,ne){var oe=ne.instance,he=ne.row,je=oe.manualRowSelectedKey,we=je===void 0?"isSelected":je;return[M,{onChange:function(Ke){he.toggleRowSelected(Ke.target.checked)},style:{cursor:"pointer"},checked:!(!he.original||!he.original[we])||he.isSelected,title:"Toggle Row Selected",indeterminate:he.isSomeSelected}]},ke=function(M,ne){var oe=ne.instance;return[M,{onChange:function(he){oe.toggleAllRowsSelected(he.target.checked)},style:{cursor:"pointer"},checked:oe.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:!!(!oe.isAllRowsSelected&&Object.keys(oe.state.selectedRowIds).length)}]},We=function(M,ne){var oe=ne.instance;return[M,{onChange:function(he){oe.toggleAllPageRowsSelected(he.target.checked)},style:{cursor:"pointer"},checked:oe.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:!!(!oe.isAllPageRowsSelected&&oe.page.some(function(he){var je=he.id;return oe.state.selectedRowIds[je]}))}]};function ut(M,ne,oe,he){if(ne.type===c.init)return s({selectedRowIds:{}},M);if(ne.type===c.resetSelectedRows)return s({},M,{selectedRowIds:he.initialState.selectedRowIds||{}});if(ne.type===c.toggleAllRowsSelected){var je=ne.value,we=he.isAllRowsSelected,Ke=he.rowsById,Rt=he.nonGroupedRowsById,_t=Rt===void 0?Ke:Rt,Nt=je!==void 0?je:!we,qt=Object.assign({},M.selectedRowIds);return Nt?Object.keys(_t).forEach(function(wr){qt[wr]=!0}):Object.keys(_t).forEach(function(wr){delete qt[wr]}),s({},M,{selectedRowIds:qt})}if(ne.type===c.toggleRowSelected){var Vt=ne.id,Wt=ne.value,Lt=he.rowsById,Jt=he.selectSubRows,an=Jt===void 0||Jt,fn=he.getSubRows,wn=M.selectedRowIds[Vt],Yn=Wt!==void 0?Wt:!wn;if(wn===Yn)return M;var _n=s({},M.selectedRowIds);return function wr(pr){var kr=Lt[pr];if(kr&&(kr.isGrouped||(Yn?_n[pr]=!0:delete _n[pr]),an&&fn(kr)))return fn(kr).forEach(function(Sn){return wr(Sn.id)})}(Vt),s({},M,{selectedRowIds:_n})}if(ne.type===c.toggleAllPageRowsSelected){var Qt=ne.value,Hn=he.page,pn=he.rowsById,Bn=he.selectSubRows,er=Bn===void 0||Bn,Mt=he.isAllPageRowsSelected,Pn=he.getSubRows,Ar=Qt!==void 0?Qt:!Mt,jn=s({},M.selectedRowIds);return Hn.forEach(function(wr){return function pr(kr){var Sn=pn[kr];if(Sn.isGrouped||(Ar?jn[kr]=!0:delete jn[kr]),er&&Pn(Sn))return Pn(Sn).forEach(function(zn){return pr(zn.id)})}(wr.id)}),s({},M,{selectedRowIds:jn})}return M}function yt(M){var ne=M.data,oe=M.rows,he=M.getHooks,je=M.plugins,we=M.rowsById,Ke=M.nonGroupedRowsById,Rt=Ke===void 0?we:Ke,_t=M.autoResetSelectedRows,Nt=_t===void 0||_t,qt=M.state.selectedRowIds,Vt=M.selectSubRows,Wt=Vt===void 0||Vt,Lt=M.dispatch,Jt=M.page,an=M.getSubRows;E(je,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var fn=i.useMemo(function(){var Pn=[];return oe.forEach(function(Ar){var jn=Wt?function wr(pr,kr,Sn){if(kr[pr.id])return!0;var zn=Sn(pr);if(zn&&zn.length){var ai=!0,xi=!1;return zn.forEach(function(Tn){xi&&!ai||(wr(Tn,kr,Sn)?xi=!0:ai=!1)}),!!ai||!!xi&&null}return!1}(Ar,qt,an):!!qt[Ar.id];Ar.isSelected=!!jn,Ar.isSomeSelected=jn===null,jn&&Pn.push(Ar)}),Pn},[oe,Wt,qt,an]),wn=!!(Object.keys(Rt).length&&Object.keys(qt).length),Yn=wn;wn&&Object.keys(Rt).some(function(Pn){return!qt[Pn]})&&(wn=!1),wn||Jt&&Jt.length&&Jt.some(function(Pn){var Ar=Pn.id;return!qt[Ar]})&&(Yn=!1);var _n=O(Nt);L(function(){_n()&&Lt({type:c.resetSelectedRows})},[Lt,ne]);var Qt=i.useCallback(function(Pn){return Lt({type:c.toggleAllRowsSelected,value:Pn})},[Lt]),Hn=i.useCallback(function(Pn){return Lt({type:c.toggleAllPageRowsSelected,value:Pn})},[Lt]),pn=i.useCallback(function(Pn,Ar){return Lt({type:c.toggleRowSelected,id:Pn,value:Ar})},[Lt]),Bn=O(M),er=T(he().getToggleAllRowsSelectedProps,{instance:Bn()}),Mt=T(he().getToggleAllPageRowsSelectedProps,{instance:Bn()});Object.assign(M,{selectedFlatRows:fn,isAllRowsSelected:wn,isAllPageRowsSelected:Yn,toggleRowSelected:pn,toggleAllRowsSelected:Qt,getToggleAllRowsSelectedProps:er,getToggleAllPageRowsSelectedProps:Mt,toggleAllPageRowsSelected:Hn})}function Et(M,ne){var oe=ne.instance;M.toggleRowSelected=function(he){return oe.toggleRowSelected(M.id,he)},M.getToggleRowSelectedProps=T(oe.getHooks().getToggleRowSelectedProps,{instance:oe,row:M})}var le=function(M){return{}},Ce=function(M){return{}};c.setRowState="setRowState",c.setCellState="setCellState",c.resetRowState="resetRowState";var De=function(M){M.stateReducers.push(Ue),M.useInstance.push(ht),M.prepareRow.push(At)};function Ue(M,ne,oe,he){var je=he.initialRowStateAccessor,we=je===void 0?le:je,Ke=he.initialCellStateAccessor,Rt=Ke===void 0?Ce:Ke,_t=he.rowsById;if(ne.type===c.init)return s({rowState:{}},M);if(ne.type===c.resetRowState)return s({},M,{rowState:he.initialState.rowState||{}});if(ne.type===c.setRowState){var Nt,qt=ne.rowId,Vt=ne.value,Wt=M.rowState[qt]!==void 0?M.rowState[qt]:we(_t[qt]);return s({},M,{rowState:s({},M.rowState,(Nt={},Nt[qt]=I(Vt,Wt),Nt))})}if(ne.type===c.setCellState){var Lt,Jt,an,fn,wn,Yn=ne.rowId,_n=ne.columnId,Qt=ne.value,Hn=M.rowState[Yn]!==void 0?M.rowState[Yn]:we(_t[Yn]),pn=(Hn==null||(Lt=Hn.cellState)==null?void 0:Lt[_n])!==void 0?Hn.cellState[_n]:Rt((Jt=_t[Yn])==null||(an=Jt.cells)==null?void 0:an.find(function(Bn){return Bn.column.id===_n}));return s({},M,{rowState:s({},M.rowState,(wn={},wn[Yn]=s({},Hn,{cellState:s({},Hn.cellState||{},(fn={},fn[_n]=I(Qt,pn),fn))}),wn))})}}function ht(M){var ne=M.autoResetRowState,oe=ne===void 0||ne,he=M.data,je=M.dispatch,we=i.useCallback(function(_t,Nt){return je({type:c.setRowState,rowId:_t,value:Nt})},[je]),Ke=i.useCallback(function(_t,Nt,qt){return je({type:c.setCellState,rowId:_t,columnId:Nt,value:qt})},[je]),Rt=O(oe);L(function(){Rt()&&je({type:c.resetRowState})},[he]),Object.assign(M,{setRowState:we,setCellState:Ke})}function At(M,ne){var oe=ne.instance,he=oe.initialRowStateAccessor,je=he===void 0?le:he,we=oe.initialCellStateAccessor,Ke=we===void 0?Ce:we,Rt=oe.state.rowState;M&&(M.state=Rt[M.id]!==void 0?Rt[M.id]:je(M),M.setState=function(_t){return oe.setRowState(M.id,_t)},M.cells.forEach(function(_t){M.state.cellState||(M.state.cellState={}),_t.state=M.state.cellState[_t.column.id]!==void 0?M.state.cellState[_t.column.id]:Ke(_t),_t.setState=function(Nt){return oe.setCellState(M.id,_t.column.id,Nt)}}))}De.pluginName="useRowState",c.resetColumnOrder="resetColumnOrder",c.setColumnOrder="setColumnOrder";var dn=function(M){M.stateReducers.push(Bt),M.visibleColumnsDeps.push(function(ne,oe){var he=oe.instance;return[].concat(ne,[he.state.columnOrder])}),M.visibleColumns.push(Xn),M.useInstance.push(un)};function Bt(M,ne,oe,he){return ne.type===c.init?s({columnOrder:[]},M):ne.type===c.resetColumnOrder?s({},M,{columnOrder:he.initialState.columnOrder||[]}):ne.type===c.setColumnOrder?s({},M,{columnOrder:I(ne.columnOrder,M.columnOrder)}):void 0}function Xn(M,ne){var oe=ne.instance.state.columnOrder;if(!oe||!oe.length)return M;for(var he=[].concat(oe),je=[].concat(M),we=[],Ke=function(){var Rt=he.shift(),_t=je.findIndex(function(Nt){return Nt.id===Rt});_t>-1&&we.push(je.splice(_t,1)[0])};je.length&&he.length;)Ke();return[].concat(we,je)}function un(M){var ne=M.dispatch;M.setColumnOrder=i.useCallback(function(oe){return ne({type:c.setColumnOrder,columnOrder:oe})},[ne])}dn.pluginName="useColumnOrder",w.canResize=!0,c.columnStartResizing="columnStartResizing",c.columnResizing="columnResizing",c.columnDoneResizing="columnDoneResizing",c.resetResize="resetResize";var gn=function(M){M.getResizerProps=[sr],M.getHeaderProps.push({style:{position:"relative"}}),M.stateReducers.push(hn),M.useInstance.push(ar),M.useInstanceBeforeDimensions.push(lr)},sr=function(M,ne){var oe=ne.instance,he=ne.header,je=oe.dispatch,we=function(Ke,Rt){var _t=!1;if(Ke.type==="touchstart"){if(Ke.touches&&Ke.touches.length>1)return;_t=!0}var Nt,qt,Vt=function(_n){var Qt=[];return function Hn(pn){pn.columns&&pn.columns.length&&pn.columns.map(Hn),Qt.push(pn)}(_n),Qt}(Rt).map(function(_n){return[_n.id,_n.totalWidth]}),Wt=_t?Math.round(Ke.touches[0].clientX):Ke.clientX,Lt=function(){window.cancelAnimationFrame(Nt),Nt=null,je({type:c.columnDoneResizing})},Jt=function(){window.cancelAnimationFrame(Nt),Nt=null,je({type:c.columnResizing,clientX:qt})},an=function(_n){qt=_n,Nt||(Nt=window.requestAnimationFrame(Jt))},fn={mouse:{moveEvent:"mousemove",moveHandler:function(_n){return an(_n.clientX)},upEvent:"mouseup",upHandler:function(_n){document.removeEventListener("mousemove",fn.mouse.moveHandler),document.removeEventListener("mouseup",fn.mouse.upHandler),Lt()}},touch:{moveEvent:"touchmove",moveHandler:function(_n){return _n.cancelable&&(_n.preventDefault(),_n.stopPropagation()),an(_n.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(_n){document.removeEventListener(fn.touch.moveEvent,fn.touch.moveHandler),document.removeEventListener(fn.touch.upEvent,fn.touch.moveHandler),Lt()}}},wn=_t?fn.touch:fn.mouse,Yn=!!function(){if(typeof xe=="boolean")return xe;var _n=!1;try{var Qt={get passive(){return _n=!0,!1}};window.addEventListener("test",null,Qt),window.removeEventListener("test",null,Qt)}catch{_n=!1}return xe=_n}()&&{passive:!1};document.addEventListener(wn.moveEvent,wn.moveHandler,Yn),document.addEventListener(wn.upEvent,wn.upHandler,Yn),je({type:c.columnStartResizing,columnId:Rt.id,columnWidth:Rt.totalWidth,headerIdWidths:Vt,clientX:Wt})};return[M,{onMouseDown:function(Ke){return Ke.persist()||we(Ke,he)},onTouchStart:function(Ke){return Ke.persist()||we(Ke,he)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function hn(M,ne){if(ne.type===c.init)return s({columnResizing:{columnWidths:{}}},M);if(ne.type===c.resetResize)return s({},M,{columnResizing:{columnWidths:{}}});if(ne.type===c.columnStartResizing){var oe=ne.clientX,he=ne.columnId,je=ne.columnWidth,we=ne.headerIdWidths;return s({},M,{columnResizing:s({},M.columnResizing,{startX:oe,headerIdWidths:we,columnWidth:je,isResizingColumn:he})})}if(ne.type===c.columnResizing){var Ke=ne.clientX,Rt=M.columnResizing,_t=Rt.startX,Nt=Rt.columnWidth,qt=Rt.headerIdWidths,Vt=(Ke-_t)/Nt,Wt={};return(qt===void 0?[]:qt).forEach(function(Lt){var Jt=Lt[0],an=Lt[1];Wt[Jt]=Math.max(an+an*Vt,0)}),s({},M,{columnResizing:s({},M.columnResizing,{columnWidths:s({},M.columnResizing.columnWidths,{},Wt)})})}return ne.type===c.columnDoneResizing?s({},M,{columnResizing:s({},M.columnResizing,{startX:null,isResizingColumn:null})}):void 0}gn.pluginName="useResizeColumns";var lr=function(M){var ne=M.flatHeaders,oe=M.disableResizing,he=M.getHooks,je=M.state.columnResizing,we=O(M);ne.forEach(function(Ke){var Rt=Ze(Ke.disableResizing!==!0&&void 0,oe!==!0&&void 0,!0);Ke.canResize=Rt,Ke.width=je.columnWidths[Ke.id]||Ke.originalWidth||Ke.width,Ke.isResizing=je.isResizingColumn===Ke.id,Rt&&(Ke.getResizerProps=T(he().getResizerProps,{instance:we(),header:Ke}))})};function ar(M){var ne=M.plugins,oe=M.dispatch,he=M.autoResetResize,je=he===void 0||he,we=M.columns;E(ne,["useAbsoluteLayout"],"useResizeColumns");var Ke=O(je);L(function(){Ke()&&oe({type:c.resetResize})},[we]);var Rt=i.useCallback(function(){return oe({type:c.resetResize})},[oe]);Object.assign(M,{resetResizing:Rt})}var Lr={position:"absolute",top:0},rr=function(M){M.getTableBodyProps.push(or),M.getRowProps.push(or),M.getHeaderGroupProps.push(or),M.getFooterGroupProps.push(or),M.getHeaderProps.push(function(ne,oe){var he=oe.column;return[ne,{style:s({},Lr,{left:he.totalLeft+"px",width:he.totalWidth+"px"})}]}),M.getCellProps.push(function(ne,oe){var he=oe.cell;return[ne,{style:s({},Lr,{left:he.column.totalLeft+"px",width:he.column.totalWidth+"px"})}]}),M.getFooterProps.push(function(ne,oe){var he=oe.column;return[ne,{style:s({},Lr,{left:he.totalLeft+"px",width:he.totalWidth+"px"})}]})};rr.pluginName="useAbsoluteLayout";var or=function(M,ne){return[M,{style:{position:"relative",width:ne.instance.totalColumnsWidth+"px"}}]},Cr={display:"inline-block",boxSizing:"border-box"},Cn=function(M,ne){return[M,{style:{display:"flex",width:ne.instance.totalColumnsWidth+"px"}}]},Zr=function(M){M.getRowProps.push(Cn),M.getHeaderGroupProps.push(Cn),M.getFooterGroupProps.push(Cn),M.getHeaderProps.push(function(ne,oe){var he=oe.column;return[ne,{style:s({},Cr,{width:he.totalWidth+"px"})}]}),M.getCellProps.push(function(ne,oe){var he=oe.cell;return[ne,{style:s({},Cr,{width:he.column.totalWidth+"px"})}]}),M.getFooterProps.push(function(ne,oe){var he=oe.column;return[ne,{style:s({},Cr,{width:he.totalWidth+"px"})}]})};function Ui(M){M.getTableProps.push(pa),M.getRowProps.push(Ur),M.getHeaderGroupProps.push(Ur),M.getFooterGroupProps.push(Ur),M.getHeaderProps.push(na),M.getCellProps.push(uo),M.getFooterProps.push(Oo)}Zr.pluginName="useBlockLayout",Ui.pluginName="useFlexLayout";var pa=function(M,ne){return[M,{style:{minWidth:ne.instance.totalColumnsMinWidth+"px"}}]},Ur=function(M,ne){return[M,{style:{display:"flex",flex:"1 0 auto",minWidth:ne.instance.totalColumnsMinWidth+"px"}}]},na=function(M,ne){var oe=ne.column;return[M,{style:{boxSizing:"border-box",flex:oe.totalFlexWidth?oe.totalFlexWidth+" 0 auto":void 0,minWidth:oe.totalMinWidth+"px",width:oe.totalWidth+"px"}}]},uo=function(M,ne){var oe=ne.cell;return[M,{style:{boxSizing:"border-box",flex:oe.column.totalFlexWidth+" 0 auto",minWidth:oe.column.totalMinWidth+"px",width:oe.column.totalWidth+"px"}}]},Oo=function(M,ne){var oe=ne.column;return[M,{style:{boxSizing:"border-box",flex:oe.totalFlexWidth?oe.totalFlexWidth+" 0 auto":void 0,minWidth:oe.totalMinWidth+"px",width:oe.totalWidth+"px"}}]};function Nr(M){M.stateReducers.push(bs),M.getTableProps.push(ri),M.getHeaderProps.push(Va),M.getRowProps.push(ii)}c.columnStartResizing="columnStartResizing",c.columnResizing="columnResizing",c.columnDoneResizing="columnDoneResizing",c.resetResize="resetResize",Nr.pluginName="useGridLayout";var ri=function(M,ne){var oe=ne.instance;return[M,{style:{display:"grid",gridTemplateColumns:oe.visibleColumns.map(function(he){var je;return oe.state.gridLayout.columnWidths[he.id]?oe.state.gridLayout.columnWidths[he.id]+"px":(je=oe.state.columnResizing)!=null&&je.isResizingColumn?oe.state.gridLayout.startWidths[he.id]+"px":typeof he.width=="number"?he.width+"px":he.width}).join(" ")}}]},Va=function(M,ne){var oe=ne.column;return[M,{id:"header-cell-"+oe.id,style:{position:"sticky",gridColumn:"span "+oe.totalVisibleHeaderCount}}]},ii=function(M,ne){var oe=ne.row;return oe.isExpanded?[M,{style:{gridColumn:"1 / "+(oe.cells.length+1)}}]:[M,{}]};function bs(M,ne,oe,he){if(ne.type===c.init)return s({gridLayout:{columnWidths:{}}},M);if(ne.type===c.resetResize)return s({},M,{gridLayout:{columnWidths:{}}});if(ne.type===c.columnStartResizing){var je=ne.columnId,we=ne.headerIdWidths,Ke=Ra(je);if(Ke!==void 0){var Rt=he.visibleColumns.reduce(function(Qt,Hn){var pn;return s({},Qt,((pn={})[Hn.id]=Ra(Hn.id),pn))},{}),_t=he.visibleColumns.reduce(function(Qt,Hn){var pn;return s({},Qt,((pn={})[Hn.id]=Hn.minWidth,pn))},{}),Nt=he.visibleColumns.reduce(function(Qt,Hn){var pn;return s({},Qt,((pn={})[Hn.id]=Hn.maxWidth,pn))},{}),qt=we.map(function(Qt){var Hn=Qt[0];return[Hn,Ra(Hn)]});return s({},M,{gridLayout:s({},M.gridLayout,{startWidths:Rt,minWidths:_t,maxWidths:Nt,headerIdGridWidths:qt,columnWidth:Ke})})}return M}if(ne.type===c.columnResizing){var Vt=ne.clientX,Wt=M.columnResizing.startX,Lt=M.gridLayout,Jt=Lt.columnWidth,an=Lt.minWidths,fn=Lt.maxWidths,wn=Lt.headerIdGridWidths,Yn=(Vt-Wt)/Jt,_n={};return(wn===void 0?[]:wn).forEach(function(Qt){var Hn=Qt[0],pn=Qt[1];_n[Hn]=Math.min(Math.max(an[Hn],pn+pn*Yn),fn[Hn])}),s({},M,{gridLayout:s({},M.gridLayout,{columnWidths:s({},M.gridLayout.columnWidths,{},_n)})})}return ne.type===c.columnDoneResizing?s({},M,{gridLayout:s({},M.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function Ra(M){var ne,oe=(ne=document.getElementById("header-cell-"+M))==null?void 0:ne.offsetWidth;if(oe!==void 0)return oe}r._UNSTABLE_usePivotColumns=Ha,r.actions=c,r.defaultColumn=w,r.defaultGroupByFn=mn,r.defaultOrderByFn=_i,r.defaultRenderer=p,r.emptyRenderer=g,r.ensurePluginOrder=E,r.flexRender=W,r.functionalUpdate=I,r.loopHooks=C,r.makePropGetter=T,r.makeRenderer=q,r.reduceHooks=x,r.safeUseLayoutEffect=H,r.useAbsoluteLayout=rr,r.useAsyncDebounce=function(M,ne){ne===void 0&&(ne=0);var oe=i.useRef({}),he=O(M),je=O(ne);return i.useCallback(function(){var we=l(regeneratorRuntime.mark(function Ke(){var Rt,_t,Nt,qt=arguments;return regeneratorRuntime.wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:for(Rt=qt.length,_t=new Array(Rt),Nt=0;Nt<Rt;Nt++)_t[Nt]=qt[Nt];return oe.current.promise||(oe.current.promise=new Promise(function(Wt,Lt){oe.current.resolve=Wt,oe.current.reject=Lt})),oe.current.timeout&&clearTimeout(oe.current.timeout),oe.current.timeout=setTimeout(l(regeneratorRuntime.mark(function Wt(){return regeneratorRuntime.wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return delete oe.current.timeout,Lt.prev=1,Lt.t0=oe.current,Lt.next=5,he().apply(void 0,_t);case 5:Lt.t1=Lt.sent,Lt.t0.resolve.call(Lt.t0,Lt.t1),Lt.next=12;break;case 9:Lt.prev=9,Lt.t2=Lt.catch(1),oe.current.reject(Lt.t2);case 12:return Lt.prev=12,delete oe.current.promise,Lt.finish(12);case 15:case"end":return Lt.stop()}},Wt,null,[[1,9,12,15]])})),je()),Vt.abrupt("return",oe.current.promise);case 5:case"end":return Vt.stop()}},Ke)}));return function(){return we.apply(this,arguments)}}(),[he,je])},r.useBlockLayout=Zr,r.useColumnOrder=dn,r.useExpanded=j,r.useFilters=tn,r.useFlexLayout=Ui,r.useGetLatest=O,r.useGlobalFilter=ve,r.useGridLayout=Nr,r.useGroupBy=$t,r.useMountedLayoutEffect=L,r.usePagination=Fr,r.useResizeColumns=gn,r.useRowSelect=Te,r.useRowState=De,r.useSortBy=kn,r.useTable=function(M){for(var ne=arguments.length,oe=new Array(ne>1?ne-1:0),he=1;he<ne;he++)oe[he-1]=arguments[he];M=Fe(M),oe=[D].concat(oe);var je=i.useRef({}),we=O(je.current);Object.assign(we(),s({},M,{plugins:oe,hooks:k()})),oe.filter(Boolean).forEach(function(Tn){Tn(we().hooks)});var Ke=O(we().hooks);we().getHooks=Ke,delete we().hooks,Object.assign(we(),x(Ke().useOptions,Fe(M)));var Rt=we(),_t=Rt.data,Nt=Rt.columns,qt=Rt.initialState,Vt=Rt.defaultColumn,Wt=Rt.getSubRows,Lt=Rt.getRowId,Jt=Rt.stateReducer,an=Rt.useControlledState,fn=O(Jt),wn=i.useCallback(function(Tn,Wr){if(!Wr.type)throw console.info({action:Wr}),new Error("Unknown Action ");return[].concat(Ke().stateReducers,Array.isArray(fn())?fn():[fn()]).reduce(function(Kr,ir){return ir(Kr,Wr,Tn,we())||Kr},Tn)},[Ke,fn,we]),Yn=i.useReducer(wn,void 0,function(){return wn(qt,{type:c.init})}),_n=Yn[0],Qt=Yn[1],Hn=x([].concat(Ke().useControlledState,[an]),_n,{instance:we()});Object.assign(we(),{state:Hn,dispatch:Qt});var pn=i.useMemo(function(){return $(x(Ke().columns,Nt,{instance:we()}))},[Ke,we,Nt].concat(x(Ke().columnsDeps,[],{instance:we()})));we().columns=pn;var Bn=i.useMemo(function(){return x(Ke().allColumns,Ae(pn),{instance:we()}).map(K)},[pn,Ke,we].concat(x(Ke().allColumnsDeps,[],{instance:we()})));we().allColumns=Bn;var er=i.useMemo(function(){for(var Tn=[],Wr=[],Kr={},ir=[].concat(Bn);ir.length;){var ei=ir.shift();Q({data:_t,rows:Tn,flatRows:Wr,rowsById:Kr,column:ei,getRowId:Lt,getSubRows:Wt,accessValueHooks:Ke().accessValue,getInstance:we})}return[Tn,Wr,Kr]},[Bn,_t,Lt,Wt,Ke,we]),Mt=er[0],Pn=er[1],Ar=er[2];Object.assign(we(),{rows:Mt,initialRows:[].concat(Mt),flatRows:Pn,rowsById:Ar}),C(Ke().useInstanceAfterData,we());var jn=i.useMemo(function(){return x(Ke().visibleColumns,Bn,{instance:we()}).map(function(Tn){return ae(Tn,Vt)})},[Ke,Bn,we,Vt].concat(x(Ke().visibleColumnsDeps,[],{instance:we()})));Bn=i.useMemo(function(){var Tn=[].concat(jn);return Bn.forEach(function(Wr){Tn.find(function(Kr){return Kr.id===Wr.id})||Tn.push(Wr)}),Tn},[Bn,jn]),we().allColumns=Bn;var wr=i.useMemo(function(){return x(Ke().headerGroups,pe(jn,Vt),we())},[Ke,jn,Vt,we].concat(x(Ke().headerGroupsDeps,[],{instance:we()})));we().headerGroups=wr;var pr=i.useMemo(function(){return wr.length?wr[0].headers:[]},[wr]);we().headers=pr,we().flatHeaders=wr.reduce(function(Tn,Wr){return[].concat(Tn,Wr.headers)},[]),C(Ke().useInstanceBeforeDimensions,we());var kr=jn.filter(function(Tn){return Tn.isVisible}).map(function(Tn){return Tn.id}).sort().join("_");jn=i.useMemo(function(){return jn.filter(function(Tn){return Tn.isVisible})},[jn,kr]),we().visibleColumns=jn;var Sn=et(pr),zn=Sn[0],ai=Sn[1],xi=Sn[2];return we().totalColumnsMinWidth=zn,we().totalColumnsWidth=ai,we().totalColumnsMaxWidth=xi,C(Ke().useInstance,we()),[].concat(we().flatHeaders,we().allColumns).forEach(function(Tn){Tn.render=q(we(),Tn),Tn.getHeaderProps=T(Ke().getHeaderProps,{instance:we(),column:Tn}),Tn.getFooterProps=T(Ke().getFooterProps,{instance:we(),column:Tn})}),we().headerGroups=i.useMemo(function(){return wr.filter(function(Tn,Wr){return Tn.headers=Tn.headers.filter(function(Kr){return Kr.headers?function ir(ei){return ei.filter(function(ur){return ur.headers?ir(ur.headers):ur.isVisible}).length}(Kr.headers):Kr.isVisible}),!!Tn.headers.length&&(Tn.getHeaderGroupProps=T(Ke().getHeaderGroupProps,{instance:we(),headerGroup:Tn,index:Wr}),Tn.getFooterGroupProps=T(Ke().getFooterGroupProps,{instance:we(),headerGroup:Tn,index:Wr}),!0)})},[wr,we,Ke]),we().footerGroups=[].concat(we().headerGroups).reverse(),we().prepareRow=i.useCallback(function(Tn){Tn.getRowProps=T(Ke().getRowProps,{instance:we(),row:Tn}),Tn.allCells=Bn.map(function(Wr){var Kr=Tn.values[Wr.id],ir={column:Wr,row:Tn,value:Kr};return ir.getCellProps=T(Ke().getCellProps,{instance:we(),cell:ir}),ir.render=q(we(),Wr,{row:Tn,cell:ir,value:Kr}),ir}),Tn.cells=jn.map(function(Wr){return Tn.allCells.find(function(Kr){return Kr.column.id===Wr.id})}),C(Ke().prepareRow,Tn,{instance:we()})},[Ke,we,Bn,jn]),we().getTableProps=T(Ke().getTableProps,{instance:we()}),we().getTableBodyProps=T(Ke().getTableBodyProps,{instance:we()}),C(Ke().useFinalInstance,we()),we()},Object.defineProperty(r,"__esModule",{value:!0})})}(Qg,Qg.exports)),Qg.exports}var hA;function $F(){return hA||(hA=1,Db.exports=VF()),Db.exports}var KF=zy.exports,pA;function GF(){return pA||(pA=1,function(e,t){(function(i,a){e.exports=a(mm(),fP(),mF(),BF,$F())})(KF,(r,i,a,l,s)=>(()=>{var u={577:g=>{g.exports=i},606:g=>{g.exports=a},156:g=>{g.exports=r},767:g=>{g.exports=s},928:g=>{g.exports=l}},d={};function c(g){var w=d[g];if(w!==void 0)return w.exports;var _=d[g]={exports:{}};return u[g](_,_.exports,c),_.exports}c.n=g=>{var w=g&&g.__esModule?()=>g.default:()=>g;return c.d(w,{a:w}),w},c.d=(g,w)=>{for(var _ in w)c.o(w,_)&&!c.o(g,_)&&Object.defineProperty(g,_,{enumerable:!0,get:w[_]})},c.o=(g,w)=>Object.prototype.hasOwnProperty.call(g,w),c.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var p={};return(()=>{c.r(p),c.d(p,{CombinedDataProvider:()=>j,DatasetContext:()=>q,DatasetProvider:()=>W,FileUpload:()=>E,Image:()=>xe,Link:()=>Xe,LoginButton:()=>qe,LogoutButton:()=>Fe,SessionContext:()=>x,SessionProvider:()=>C,Table:()=>Je,TableColumn:()=>V,Text:()=>Qe,ThingContext:()=>Ae,ThingProvider:()=>K,Value:()=>Tt,Video:()=>$n,useDataset:()=>H,useFile:()=>rt,useSession:()=>qn,useThing:()=>sn});var g=c(156),w=c.n(g),_=c(577),T=c(606);const x=(0,g.createContext)({login:T.login,logout:T.logout,fetch:T.fetch,session:(0,T.getDefaultSession)(),sessionRequestInProgress:!0,profile:void 0}),C=({sessionId:ze,children:wt,onError:dt,sessionRequestInProgress:Be,restorePreviousSession:pt,skipLoadingProfile:Xt,onSessionRestore:zt})=>{const tn=pt||typeof zt<"u",[Ht,fe]=(0,g.useState)((0,T.getDefaultSession)()),[ve,Ot]=(0,g.useState)();(0,g.useEffect)(()=>{zt!==void 0&&(0,T.onSessionRestore)(zt)},[zt]);const Ct=typeof Be>"u"?!Ht.info.isLoggedIn:Be,[Ft,Zt]=(0,g.useState)(Ct);let nn;typeof window<"u"&&(nn=window.location),(0,g.useEffect)(()=>{(0,T.handleIncomingRedirect)({url:window.location.href,restorePreviousSession:tn}).then(async en=>{if(Xt!==!0&&en?.webId!==void 0){const vn=await(0,_.getProfileAll)(en?.webId,{fetch:Ht.fetch});Ot(vn)}}).catch(en=>{if(dt)dt(en);else throw en}).finally(()=>{Zt(!1)}),(0,T.getDefaultSession)().on("logout",()=>{fe((0,T.getDefaultSession)())})},[Ht,ze,dt,nn,tn,Xt]);const Ln=async en=>{Zt(!0);try{await(0,T.login)(en)}catch(vn){if(dt)dt(vn);else throw vn}finally{Zt(!1)}},$t=async()=>{try{await(0,T.logout)(),Ot(void 0)}catch(en){if(dt)dt(en);else throw en}};return w().createElement(x.Provider,{value:{session:Ht,login:Ln,logout:$t,sessionRequestInProgress:Ft,setSessionRequestInProgress:Zt,fetch:T.fetch,profile:ve}},wt)};function E({saveLocation:ze,onError:wt,onSave:dt,inputProps:Be,autosave:pt}){const{fetch:Xt}=(0,g.useContext)(x),zt=async tn=>{const Ht=tn.target;if(Ht.files&&pt)try{const fe=await(0,_.saveFileInContainer)(ze,Ht.files[0],{slug:Ht.files[0].name?Ht.files[0].name:void 0,fetch:Xt});dt&&dt(fe)}catch(fe){wt&&wt(fe)}};return w().createElement(w().Fragment,null,w().createElement("input",Object.assign({type:"file"},Be,{onChange:tn=>zt(tn),"data-testid":"form-input"})))}var I=c(928),O=c.n(I);function H(ze,wt){const{fetch:dt}=(0,g.useContext)(x),{solidDataset:Be}=(0,g.useContext)(q),{data:pt,error:Xt}=O()(ze?[ze,wt,dt]:null,()=>{const tn=Object.assign({fetch:dt},wt);return(0,_.getSolidDataset)(ze,tn)});return{dataset:ze?pt:Be,error:Xt}}const L=(0,g.createContext)({solidDataset:void 0,setDataset:()=>{}}),q=L,W=({children:ze,onError:wt,solidDataset:dt,datasetUrl:Be,loading:pt,loadingComponent:Xt})=>{const{dataset:zt,error:tn}=H(Be);tn&&wt&&wt(tn);const Ht=dt??zt,[fe,ve]=(0,g.useState)(Ht);(0,g.useEffect)(()=>{ve(Ht)},[Ht]);let Ot=Xt&&w().createElement(Xt,null)||pt||w().createElement("span",null,"Fetching data...");return Xt===null&&(Ot=null),w().createElement(L.Provider,{value:{solidDataset:fe,setDataset:ve}},fe?ze:Ot)},$=(0,g.createContext)({thing:null,setThing:()=>{}}),Ae=$,K=({children:ze,thing:wt,thingUrl:dt})=>{const{solidDataset:Be}=(0,g.useContext)(q);let pt=wt;Be&&dt&&(pt=(0,_.getThing)(Be,dt));const[Xt,zt]=(0,g.useState)(pt||null);return(0,g.useEffect)(()=>{Be&&dt?zt((0,_.getThing)(Be,dt)):wt&&zt(wt)},[Be,dt,wt]),w().createElement($.Provider,{value:{thing:Xt,setThing:zt}},ze)},ae=async(ze,wt,dt,Be,pt,Xt,zt)=>{try{return pt!==void 0&&wt.size>pt*1024?(dt.setCustomValidity(`The selected file must not be larger than ${pt}kB`),dt.reportValidity(),null):(dt.setCustomValidity(""),await(0,_.overwriteFile)(ze,wt,{fetch:Be}),Xt&&Xt(),URL.createObjectURL(wt))}catch(tn){return zt&&zt(tn),null}},pe=async(ze,wt)=>await(0,_.getFile)(ze,{fetch:wt});function be(ze,wt,dt,Be){switch(ze){case"boolean":return(0,_.getBoolean)(wt,dt);case"datetime":return(0,_.getDatetime)(wt,dt);case"decimal":return(0,_.getDecimal)(wt,dt);case"integer":return(0,_.getInteger)(wt,dt);case"url":return(0,_.getUrl)(wt,dt);default:return Be?(0,_.getStringWithLocale)(wt,dt,Be):(0,_.getStringNoLocale)(wt,dt)}}function Ze(ze,wt,dt,Be){switch(ze){case"boolean":return(0,_.getBooleanAll)(wt,dt);case"datetime":return(0,_.getDatetimeAll)(wt,dt);case"decimal":return(0,_.getDecimalAll)(wt,dt);case"integer":return(0,_.getIntegerAll)(wt,dt);case"url":return(0,_.getUrlAll)(wt,dt);default:return Be?(0,_.getStringWithLocaleAll)(wt,dt,Be):(0,_.getStringNoLocaleAll)(wt,dt)}}function it(ze,wt,dt,Be,pt){return Be.find(Xt=>ze(wt,dt,Xt,pt))||Be[0]}function Re(ze){const{dataset:wt,thing:dt,properties:Be,property:pt,type:Xt,locale:zt}=ze,{solidDataset:tn,setDataset:Ht=()=>{}}=(0,g.useContext)(q),fe=wt||tn,{thing:ve,setThing:Ot=()=>{}}=(0,g.useContext)(Ae),Ct=dt||ve||void 0;let Ft;Ct||(Ft=new Error("Thing not found as property or in context"));const Zt=Ct&&Be?it(be,Xt,Ct,Be,zt)||Be[0]:pt;if(!Zt)throw new Error("No property provided");const nn=Ct&&Zt?be(Xt,Ct,Zt,zt):null;return{dataset:fe,thing:Ct,property:Zt,error:Ft,value:nn,setDataset:Ht,setThing:Ot}}function lt(){const[ze,wt]=(0,g.useState)(null);return(0,g.useEffect)(()=>{const dt=document.createElement("input");dt.type="datetime-local",wt(dt.type!=="text")},[]),ze}async function ge(ze,wt){const dt=await(0,_.getSolidDataset)(ze);wt(dt)}function rt(ze){const[wt,dt]=(0,g.useState)(),[Be,pt]=(0,g.useState)(!1),[Xt,zt]=(0,g.useState)(),{fetch:tn}=(0,g.useContext)(x);return(0,g.useEffect)(()=>{ze&&(pt(!0),pe(ze,tn).then(Ht=>{zt(Ht),pt(!1)}).catch(Ht=>{dt(Ht),pt(!1)}))},[ze,tn]),{error:wt,inProgress:Be,data:Xt}}var Y=function(ze,wt){var dt={};for(var Be in ze)Object.prototype.hasOwnProperty.call(ze,Be)&&wt.indexOf(Be)<0&&(dt[Be]=ze[Be]);if(ze!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(ze);pt<Be.length;pt++)wt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(ze,Be[pt])&&(dt[Be[pt]]=ze[Be[pt]]);return dt};function xe(ze){var{thing:wt,property:dt,properties:Be,edit:pt,autosave:Xt,allowDelete:zt,onSave:tn,onError:Ht,maxSize:fe,alt:ve,inputProps:Ot,errorComponent:Ct,loadingComponent:Ft,deleteComponent:Zt,saveLocation:nn,solidDataset:Ln}=ze,$t=Y(ze,["thing","property","properties","edit","autosave","allowDelete","onSave","onError","maxSize","alt","inputProps","errorComponent","loadingComponent","deleteComponent","saveLocation","solidDataset"]);const{fetch:en}=(0,g.useContext)(x),vn=Re({thing:wt,property:dt,properties:Be,type:"url"}),{value:on,thing:Un,error:xn}=vn;let Qn;on||(Qn=new Error("No value found for property."));const mn=!Un&&!xn,[ln,Gt]=(0,g.useState)(xn??Qn);(0,g.useEffect)(()=>{ln&&Ht&&Ht(ln)},[ln,Ht,Ct]);const[nr,Mr]=(0,g.useState)(),{data:yr,error:kn,inProgress:Pr}=rt(on);(0,g.useEffect)(()=>{if(Pr)return;if(kn){Gt(kn);return}const Fr=yr&&URL.createObjectURL(yr);Fr&&Mr(Fr)},[yr,Pr,kn]);const $r=async()=>{if(!(!wt||!Ln||!dt||typeof on!="string"||!Xt))try{const Fr=(0,_.removeUrl)(wt,dt,on),ta=(0,_.setThing)(Ln,Fr),Si=(0,_.getSourceUrl)(Ln);if(!Si)return;await(0,_.saveSolidDatasetAt)(Si,ta,{fetch:en})}catch(Fr){Gt(Fr)}},cn=async Fr=>{const ta=Fr.files;if(Xt&&ta&&ta.length>0){if(on){const Si=await ae(on,ta[0],Fr,en,fe,tn,Ht);Si&&Mr(Si)}else if(!on&&nn){const Si=await(0,_.saveFileInContainer)(nn,ta[0],{fetch:en}),Ha=(0,_.getSourceUrl)(Si);if(Ha&&wt&&dt&&Ln){Mr(Ha);try{const ha=(0,_.addUrl)(wt,dt,Ha),Ei=(0,_.setThing)(Ln,ha),b=(0,_.getSourceUrl)(Ln);if(!b)return;await(0,_.saveSolidDatasetAt)(b,Ei,{fetch:en})}catch(ha){Gt(ha)}}}}};let _i=null;if(mn||Pr){let Fr=Ft&&w().createElement(Ft,null)||w().createElement("span",null,"fetching data in progress");return Ft===null&&(Fr=null),Fr}return ln?_i=Ct?w().createElement(Ct,{error:ln}):w().createElement("span",null,ln.toString()):on&&(_i=w().createElement("img",Object.assign({src:nr,alt:ve??""},$t))),w().createElement(w().Fragment,null,_i,pt&&w().createElement("input",Object.assign({},Ot,{type:"file",accept:"image/*",onChange:Fr=>cn(Fr.target)})),zt&&(Zt?w().createElement(Zt,{onClick:$r}):w().createElement("button",{type:"button",onClick:$r},"Delete")))}var $e=function(ze,wt){var dt={};for(var Be in ze)Object.prototype.hasOwnProperty.call(ze,Be)&&wt.indexOf(Be)<0&&(dt[Be]=ze[Be]);if(ze!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(ze);pt<Be.length;pt++)wt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(ze,Be[pt])&&(dt[Be[pt]]=ze[Be[pt]]);return dt};const Me=ze=>{var wt;const{thing:dt,solidDataset:Be,property:pt,properties:Xt,saveDatasetTo:zt,onSave:tn,onError:Ht,edit:fe,autosave:ve,inputProps:Ot}=ze,Ct=$e(ze,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:Ft}=(0,g.useContext)(x),{value:Zt,thing:nn,property:Ln,dataset:$t,setDataset:en,error:vn}=Re({dataset:Be,thing:dt,type:"datetime",property:pt,properties:Xt}),on=lt();(0,g.useEffect)(()=>{vn&&Ht&&Ht(vn)},[vn,Ht]);const Un=Zt?Zt.toISOString().substring(0,Zt.toISOString().length-5):null,[xn,Qn]=(0,g.useState)(Un);let mn="";on||(mn=xn?.split(/T(.+)/)[0].toString());let ln="00:00";on||(ln=(wt=xn?.split(/T(.+)/)[1])===null||wt===void 0?void 0:wt.toString());const[Gt,nr]=(0,g.useState)(ln),[Mr,yr]=(0,g.useState)(mn);(0,g.useEffect)(()=>{!Gt&&!Mr||on||Qn(`${Mr??""}T${Gt??"00:00"}`)},[Gt,Mr,on]);const kn=async $r=>{if(Un!==xn&&nn&&$t&&$r.target.reportValidity()){const cn=xn,_i=(0,_.setDatetime)(nn,Ln,new Date(`${cn}Z`));try{let Fr;zt?(Fr=await(0,_.saveSolidDatasetAt)(zt,(0,_.setThing)($t,_i),{fetch:Ft}),await ge(zt,en)):(0,_.hasResourceInfo)($t)?(Fr=await(0,_.saveSolidDatasetAt)((0,_.getSourceUrl)($t),(0,_.setThing)($t,_i),{fetch:Ft}),await ge((0,_.getSourceUrl)($t),en)):Ht&&Ht(new Error("Please provide saveDatasetTo location for new data")),!vn&&tn&&tn(Fr,_i)}catch(Fr){Ht&&Ht(Fr)}}};let Pr;return on?Pr="datetime-local":Pr="datetime-workaround",w().createElement(w().Fragment,null,!fe&&$t&&nn&&w().createElement("span",Object.assign({},Ct),`${xn}`),fe&&$t&&nn&&Pr==="datetime-local"&&w().createElement("input",Object.assign({type:Pr,"aria-label":"Date and Time",step:"any"},Ot,{onChange:$r=>{Qn($r.target.value)},onBlur:$r=>ve&&kn($r),value:xn,pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}",placeholder:"yyyy-mm-ddThh:mm"})),fe&&$t&&nn&&Pr==="datetime-workaround"&&w().createElement(w().Fragment,null,w().createElement("input",Object.assign({type:"date","aria-label":"Date",step:"any"},Ot,{onChange:$r=>{yr($r.target.value)},onBlur:$r=>ve&&kn($r),value:Mr,pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}",placeholder:"yyyy-mm-dd"})),w().createElement("input",{type:"time","aria-label":"Time",value:Gt,onChange:$r=>nr($r.target.value),onBlur:$r=>ve&&kn($r),pattern:"[0-9]{2}:[0-9]{2}"})))};Me.defaultProps={autosave:!1,edit:!1};const at=Me;var It=function(ze,wt){var dt={};for(var Be in ze)Object.prototype.hasOwnProperty.call(ze,Be)&&wt.indexOf(Be)<0&&(dt[Be]=ze[Be]);if(ze!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(ze);pt<Be.length;pt++)wt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(ze,Be[pt])&&(dt[Be[pt]]=ze[Be[pt]]);return dt};const Pt=ze=>{var wt;const{thing:dt,solidDataset:Be,property:pt,properties:Xt,saveDatasetTo:zt,locale:tn,onSave:Ht,onError:fe,edit:ve,autosave:Ot,inputProps:Ct}=ze,Ft=It(ze,["thing","solidDataset","property","properties","saveDatasetTo","locale","onSave","onError","edit","autosave","inputProps"]),{fetch:Zt}=(0,g.useContext)(x),{value:nn,thing:Ln,property:$t,dataset:en,setDataset:vn,error:on}=Re({dataset:Be,thing:dt,type:"string",property:pt,properties:Xt,locale:tn});(0,g.useEffect)(()=>{on&&fe&&fe(on)},[on,fe]);const Un=(wt=nn?.toString())!==null&&wt!==void 0?wt:"",[xn,Qn]=(0,g.useState)(Un),mn=async ln=>{if(Un!==xn&&Ln&&en&&ln.target.reportValidity()){let Gt;tn?Gt=(0,_.setStringWithLocale)(Ln,$t,xn,tn):Gt=(0,_.setStringNoLocale)(Ln,$t,xn);try{let nr;zt?(nr=await(0,_.saveSolidDatasetAt)(zt,(0,_.setThing)(en,Gt),{fetch:Zt}),await ge(zt,vn)):(0,_.hasResourceInfo)(en)?(nr=await(0,_.saveSolidDatasetAt)((0,_.getSourceUrl)(en),(0,_.setThing)(en,Gt),{fetch:Zt}),await ge((0,_.getSourceUrl)(en),vn)):fe&&fe(new Error("Please provide saveDatasetTo location for new data")),!on&&Ht&&Ht(nr,Gt)}catch(nr){fe&&fe(nr)}}};return w().createElement(w().Fragment,null,!ve&&en&&Ln&&w().createElement("span",Object.assign({},Ft),xn),ve&&en&&Ln&&w().createElement("input",Object.assign({type:"text"},Ct,{onChange:ln=>{Qn(ln.target.value)},onBlur:ln=>Ot&&mn(ln),value:xn})))};Pt.defaultProps={autosave:!1,edit:!1};const Le=Pt;var ce=function(ze,wt){var dt={};for(var Be in ze)Object.prototype.hasOwnProperty.call(ze,Be)&&wt.indexOf(Be)<0&&(dt[Be]=ze[Be]);if(ze!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(ze);pt<Be.length;pt++)wt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(ze,Be[pt])&&(dt[Be[pt]]=ze[Be[pt]]);return dt};const Ie=ze=>{var wt;const{thing:dt,solidDataset:Be,property:pt,properties:Xt,saveDatasetTo:zt,onSave:tn,onError:Ht,edit:fe,autosave:ve,inputProps:Ot}=ze,Ct=ce(ze,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:Ft}=(0,g.useContext)(x),{value:Zt,thing:nn,property:Ln,dataset:$t,setDataset:en,error:vn}=Re({dataset:Be,thing:dt,type:"boolean",property:pt,properties:Xt});(0,g.useEffect)(()=>{vn&&Ht&&Ht(vn)},[vn,Ht]);let on=Zt,Un=!1;Un=(wt=Zt)!==null&&wt!==void 0?wt:!1,on=Un.toString();const[xn,Qn]=(0,g.useState)(on),[mn,ln]=(0,g.useState)(Un);(0,g.useEffect)(()=>{Qn(mn.toString())},[mn]);const Gt=async nr=>{if(on!==xn&&nn&&$t&&nr.target.reportValidity()){const Mr=(0,_.setBoolean)(nn,Ln,mn);try{let yr;zt?(yr=await(0,_.saveSolidDatasetAt)(zt,(0,_.setThing)($t,Mr),{fetch:Ft}),await ge(zt,en)):(0,_.hasResourceInfo)($t)?(yr=await(0,_.saveSolidDatasetAt)((0,_.getSourceUrl)($t),(0,_.setThing)($t,Mr),{fetch:Ft}),await ge((0,_.getSourceUrl)($t),en)):Ht&&Ht(new Error("Please provide saveDatasetTo location for new data")),!vn&&tn&&tn(yr,Mr)}catch(yr){Ht&&Ht(yr)}}};return w().createElement(w().Fragment,null,!fe&&$t&&nn&&w().createElement("span",Object.assign({},Ct),`${xn}`),fe&&$t&&nn&&w().createElement("input",Object.assign({type:"checkbox",checked:mn},Ot,{onChange:nr=>{ln(nr.target.checked)},onBlur:nr=>ve&&Gt(nr),value:xn})))};Ie.defaultProps={autosave:!1,edit:!1};const Ye=Ie;var se=function(ze,wt){var dt={};for(var Be in ze)Object.prototype.hasOwnProperty.call(ze,Be)&&wt.indexOf(Be)<0&&(dt[Be]=ze[Be]);if(ze!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(ze);pt<Be.length;pt++)wt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(ze,Be[pt])&&(dt[Be[pt]]=ze[Be[pt]]);return dt};const k=ze=>{var wt;const{thing:dt,solidDataset:Be,property:pt,properties:Xt,saveDatasetTo:zt,onSave:tn,onError:Ht,edit:fe,autosave:ve,inputProps:Ot}=ze,Ct=se(ze,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:Ft}=(0,g.useContext)(x),{value:Zt,thing:nn,property:Ln,dataset:$t,setDataset:en,error:vn}=Re({dataset:Be,thing:dt,type:"url",property:pt,properties:Xt});(0,g.useEffect)(()=>{vn&&Ht&&Ht(vn)},[vn,Ht]);const on=(wt=Zt?.toString())!==null&&wt!==void 0?wt:"",[Un,xn]=(0,g.useState)(on),Qn=async mn=>{if(on!==Un&&nn&&$t&&mn.target.reportValidity()){const ln=(0,_.setUrl)(nn,Ln,Un);try{let Gt;zt?(Gt=await(0,_.saveSolidDatasetAt)(zt,(0,_.setThing)($t,ln),{fetch:Ft}),await ge(zt,en)):(0,_.hasResourceInfo)($t)?(Gt=await(0,_.saveSolidDatasetAt)((0,_.getSourceUrl)($t),(0,_.setThing)($t,ln),{fetch:Ft}),await ge((0,_.getSourceUrl)($t),en)):Ht&&Ht(new Error("Please provide saveDatasetTo location for new data")),!vn&&tn&&tn(Gt,ln)}catch(Gt){Ht&&Ht(Gt)}}};return w().createElement(w().Fragment,null,!fe&&$t&&nn&&w().createElement("span",Object.assign({},Ct),`${Un}`),fe&&$t&&nn&&w().createElement("input",Object.assign({type:"url"},Ot,{onChange:mn=>{xn(mn.target.value)},onBlur:mn=>ve&&Qn(mn),value:Un})))};k.defaultProps={autosave:!1,edit:!1};const D=k;var z=function(ze,wt){var dt={};for(var Be in ze)Object.prototype.hasOwnProperty.call(ze,Be)&&wt.indexOf(Be)<0&&(dt[Be]=ze[Be]);if(ze!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(ze);pt<Be.length;pt++)wt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(ze,Be[pt])&&(dt[Be[pt]]=ze[Be[pt]]);return dt};const re=ze=>{var wt;const{thing:dt,solidDataset:Be,property:pt,properties:Xt,saveDatasetTo:zt,onSave:tn,onError:Ht,edit:fe,autosave:ve,inputProps:Ot}=ze,Ct=z(ze,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:Ft}=(0,g.useContext)(x),{value:Zt,thing:nn,property:Ln,dataset:$t,setDataset:en,error:vn}=Re({dataset:Be,thing:dt,type:"integer",property:pt,properties:Xt});(0,g.useEffect)(()=>{vn&&Ht&&Ht(vn)},[vn,Ht]);const on=(wt=Zt?.toString())!==null&&wt!==void 0?wt:"",[Un,xn]=(0,g.useState)(on),Qn=async mn=>{if(on!==Un&&nn&&$t&&mn.target.reportValidity()){const ln=(0,_.setInteger)(nn,Ln,parseInt(Un,10));try{let Gt;zt?(Gt=await(0,_.saveSolidDatasetAt)(zt,(0,_.setThing)($t,ln),{fetch:Ft}),await ge(zt,en)):(0,_.hasResourceInfo)($t)?(Gt=await(0,_.saveSolidDatasetAt)((0,_.getSourceUrl)($t),(0,_.setThing)($t,ln),{fetch:Ft}),await ge((0,_.getSourceUrl)($t),en)):Ht&&Ht(new Error("Please provide saveDatasetTo location for new data")),!vn&&tn&&tn(Gt,ln)}catch(Gt){Ht&&Ht(Gt)}}};return w().createElement(w().Fragment,null,!fe&&$t&&nn&&w().createElement("span",Object.assign({},Ct),`${Un}`),fe&&$t&&nn&&w().createElement("input",Object.assign({type:"number",step:"any"},Ot,{onChange:mn=>{xn(mn.target.value)},onBlur:mn=>ve&&Qn(mn),value:Un})))};re.defaultProps={autosave:!1,edit:!1};const Se=re;var Ne=function(ze,wt){var dt={};for(var Be in ze)Object.prototype.hasOwnProperty.call(ze,Be)&&wt.indexOf(Be)<0&&(dt[Be]=ze[Be]);if(ze!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(ze);pt<Be.length;pt++)wt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(ze,Be[pt])&&(dt[Be[pt]]=ze[Be[pt]]);return dt};const ct=ze=>{var wt;const{thing:dt,solidDataset:Be,property:pt,properties:Xt,saveDatasetTo:zt,onSave:tn,onError:Ht,edit:fe,autosave:ve,inputProps:Ot}=ze,Ct=Ne(ze,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:Ft}=(0,g.useContext)(x),{value:Zt,thing:nn,property:Ln,dataset:$t,setDataset:en,error:vn}=Re({dataset:Be,thing:dt,type:"decimal",property:pt,properties:Xt});(0,g.useEffect)(()=>{vn&&Ht&&Ht(vn)},[vn,Ht]);const on=(wt=Zt?.toString())!==null&&wt!==void 0?wt:"",[Un,xn]=(0,g.useState)(on),Qn=async mn=>{if(on!==Un&&nn&&$t&&mn.target.reportValidity()){const ln=(0,_.setDecimal)(nn,Ln,parseFloat(Un));try{let Gt;zt?(Gt=await(0,_.saveSolidDatasetAt)(zt,(0,_.setThing)($t,ln),{fetch:Ft}),await ge(zt,en)):(0,_.hasResourceInfo)($t)?(Gt=await(0,_.saveSolidDatasetAt)((0,_.getSourceUrl)($t),(0,_.setThing)($t,ln),{fetch:Ft}),await ge((0,_.getSourceUrl)($t),en)):Ht&&Ht(new Error("Please provide saveDatasetTo location for new data")),!vn&&tn&&tn(Gt,ln)}catch(Gt){Ht&&Ht(Gt)}}};return w().createElement(w().Fragment,null,!fe&&$t&&nn&&w().createElement("span",Object.assign({},Ct),`${Un}`),fe&&$t&&nn&&w().createElement("input",Object.assign({type:"number",step:"any"},Ot,{onChange:mn=>{xn(mn.target.value)},onBlur:mn=>ve&&Qn(mn),value:Un})))};ct.defaultProps={autosave:!1,edit:!1};const Pe=ct;var mt=function(ze,wt){var dt={};for(var Be in ze)Object.prototype.hasOwnProperty.call(ze,Be)&&wt.indexOf(Be)<0&&(dt[Be]=ze[Be]);if(ze!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(ze);pt<Be.length;pt++)wt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(ze,Be[pt])&&(dt[Be[pt]]=ze[Be[pt]]);return dt};function Tt(ze){const wt=ze,{dataType:dt}=wt,Be=mt(wt,["dataType"]),{thing:pt,solidDataset:Xt,property:zt,properties:tn,edit:Ht,loadingComponent:fe,errorComponent:ve,locale:Ot}=Be,{thing:Ct,value:Ft,error:Zt}=Re({dataset:Xt,thing:pt,property:zt,properties:tn,type:dt,locale:Ot});let nn;!Ht&&!Ft&&dt!=="boolean"&&(nn=new Error("No value found for property."));const Ln=!Ct&&!Zt,[$t]=(0,g.useState)(Zt??nn);if(Ln){let vn=fe&&w().createElement(fe,null)||w().createElement("span",null,"fetching data in progress");return fe===null&&(vn=null),vn}if($t)return ve?w().createElement(ve,{error:$t}):w().createElement("span",null,$t.toString());let en=Le;switch(dt){case"boolean":en=Ye;break;case"datetime":en=at;break;case"decimal":en=Pe;break;case"integer":en=Se;break;case"url":en=D;break;default:en=Le}return w().createElement(en,Object.assign({},Be))}Tt.defaultProps={autosave:!1,edit:!1};var bt=function(ze,wt){var dt={};for(var Be in ze)Object.prototype.hasOwnProperty.call(ze,Be)&&wt.indexOf(Be)<0&&(dt[Be]=ze[Be]);if(ze!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(ze);pt<Be.length;pt++)wt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(ze,Be[pt])&&(dt[Be[pt]]=ze[Be[pt]]);return dt};function Xe(ze){var{children:wt,property:dt,properties:Be,thing:pt,solidDataset:Xt,autosave:zt,rel:tn,target:Ht,edit:fe,loadingComponent:ve,errorComponent:Ot,onSave:Ct,onError:Ft}=ze,Zt=bt(ze,["children","property","properties","thing","solidDataset","autosave","rel","target","edit","loadingComponent","errorComponent","onSave","onError"]);const{value:nn,thing:Ln,property:$t,dataset:en,error:vn}=Re({dataset:Xt,thing:pt,property:dt,properties:Be,type:"url"});let on;!fe&&!nn&&(on=new Error("URL not found for given property"));const Un=!Ln&&!vn,[xn]=(0,g.useState)(vn??on);if(Un){let mn=ve&&w().createElement(ve,null)||w().createElement("span",null,"fetching data in progress");return ve===null&&(mn=null),mn}if(xn)return Ot?w().createElement(Ot,{error:xn}):w().createElement("span",null,xn.toString());const Qn=tn||(Ht==="_blank"?"noopener noreferrer":"nofollow");return fe?w().createElement(Tt,{dataType:"url",solidDataset:en,thing:Ln,property:$t,autosave:zt,onSave:Ct,onError:Ft,edit:!0}):w().createElement("a",Object.assign({href:nn,rel:Qn,target:Ht},Zt),wt??nn)}const qe=({oidcIssuer:ze,redirectUrl:wt,children:dt,authOptions:Be,onError:pt})=>{const Xt=Object.assign({redirectUrl:wt,oidcIssuer:ze},Be),{login:zt,setSessionRequestInProgress:tn}=(0,g.useContext)(x);async function Ht(){tn(!0);try{await zt(Xt),tn(!1)}catch(ve){tn(!1),pt&&pt(ve)}}function fe(ve){return ve.preventDefault(),ve.key==="Enter"?Ht():Promise.resolve()}return dt?w().createElement("div",{role:"button",tabIndex:0,onClick:Ht,onKeyDown:fe},dt):w().createElement("button",{type:"button",onClick:Ht,onKeyDown:fe},"Log In")},Fe=({children:ze,onLogout:wt,onError:dt})=>{const{logout:Be}=(0,g.useContext)(x);async function pt(){try{await Be(),wt&&wt()}catch(zt){dt&&dt(zt)}}function Xt(zt){return zt.preventDefault(),zt.key==="Enter"?pt():Promise.resolve()}return ze?w().createElement("div",{role:"button",tabIndex:0,onClick:pt,onKeyDown:Xt},ze):w().createElement("button",{type:"button",onClick:pt,onKeyDown:Xt},"Log Out")};var et=c(767);function Q(ze){const{children:wt,solidDataset:dt,datasetUrl:Be,thing:pt,thingUrl:Xt,onError:zt,loadingComponent:tn}=ze;return w().createElement(W,{onError:zt,solidDataset:dt,datasetUrl:Be,loadingComponent:tn},w().createElement(K,{thing:pt,thingUrl:Xt},wt))}const j=Q;var G=function(ze,wt){var dt={};for(var Be in ze)Object.prototype.hasOwnProperty.call(ze,Be)&&wt.indexOf(Be)<0&&(dt[Be]=ze[Be]);if(ze!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(ze);pt<Be.length;pt++)wt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(ze,Be[pt])&&(dt[Be[pt]]=ze[Be[pt]]);return dt};function V(ze){throw new Error("Can't use TableColumn outside a Table.")}function Je(ze){var{children:wt,emptyStateComponent:dt,things:Be,filter:pt,ascIndicator:Xt,descIndicator:zt,getRowProps:tn}=ze,Ht=G(ze,["children","emptyStateComponent","things","filter","ascIndicator","descIndicator","getRowProps"]);const{columns:fe,data:ve}=(0,g.useMemo)(()=>{const $t=[],en=Be.map(()=>({}));return g.Children.forEach(wt,(vn,on)=>{if(vn){const{property:Un,header:xn,body:Qn,dataType:mn="string",locale:ln,multiple:Gt=!1,sortable:nr,sortFn:Mr,filterable:yr}=vn.props;if($t.push({Header:xn??`${Un}`,accessor:`col${on}`,disableGlobalFilter:!yr,disableSortBy:!nr,Cell:Qn??(({value:kn})=>kn!=null?`${kn}`:"")}),Mr){const kn=(Pr,$r,cn)=>{const _i=Pr.values[cn],Fr=$r.values[cn];return Mr(_i,Fr)};$t[on].sortType=kn}else mn==="string"&&($t[on].sortType=mn),(mn==="integer"||mn==="decimal")&&($t[on].sortType="number");Be.forEach((kn,Pr)=>{en[Pr][`col${on}`]=Gt?Ze(mn,kn.thing,Un,ln):be(mn,kn.thing,Un,ln)})}}),{columns:$t,data:en}},[wt,Be]),Ot=(0,et.useTable)({columns:fe,data:ve,initialState:{globalFilter:pt||void 0}},et.useGlobalFilter,et.useSortBy),{getTableProps:Ct,getTableBodyProps:Ft,headerGroups:Zt,rows:nn,prepareRow:Ln}=Ot;return nn.length?w().createElement("table",Object.assign({},Ct(),Ht),w().createElement("thead",null,Zt.map($t=>w().createElement("tr",Object.assign({},$t.getHeaderGroupProps()),$t.headers.map(en=>w().createElement("th",Object.assign({},en.getHeaderProps(en.getSortByToggleProps())),en.render("Header"),en.isSorted&&(en.isSortedDesc?zt:Xt)))))),w().createElement("tbody",Object.assign({},Ft()),nn.map($t=>{Ln($t);const en=Be[$t.index].dataset,vn=Be[$t.index].thing;return w().createElement("tr",Object.assign({},$t.getRowProps(tn($t,vn,en))),w().createElement(j,{solidDataset:en,thing:vn},$t.cells.map(on=>w().createElement("td",Object.assign({},on.getCellProps()),on.render("Cell")))))}))):dt?w().createElement(dt,null):null}Je.defaultProps={filter:void 0,ascIndicator:w().createElement("span",{role:"img","aria-label":"Sorted in ascending order"}," ",""),descIndicator:w().createElement("span",{role:"img","aria-label":"Sorted in descending order"}," ",""),getRowProps:()=>({})};var ot=function(ze,wt){var dt={};for(var Be in ze)Object.prototype.hasOwnProperty.call(ze,Be)&&wt.indexOf(Be)<0&&(dt[Be]=ze[Be]);if(ze!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(ze);pt<Be.length;pt++)wt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(ze,Be[pt])&&(dt[Be[pt]]=ze[Be[pt]]);return dt};function Qe(ze){var{thing:wt,solidDataset:dt,property:Be,properties:pt,saveDatasetTo:Xt,locale:zt,onSave:tn,onError:Ht,inputProps:fe,errorComponent:ve,loadingComponent:Ot,edit:Ct=!1,autosave:Ft=!1}=ze,Zt=ot(ze,["thing","solidDataset","property","properties","saveDatasetTo","locale","onSave","onError","inputProps","errorComponent","loadingComponent","edit","autosave"]);const{fetch:nn}=(0,g.useContext)(x),{error:Ln,value:$t,thing:en,property:vn,dataset:on,setDataset:Un}=Re({dataset:dt,thing:wt,property:Be,properties:pt,type:"string",locale:zt});let xn;!Ct&&!$t&&(xn=new Error("No value found for property."));const Qn=!en&&!Ln,[mn]=(0,g.useState)(Ln??xn);(0,g.useEffect)(()=>{mn&&Ht&&Ht(mn)},[mn,Ht]);const[ln,Gt]=(0,g.useState)($t),[,nr]=(0,g.useState)(),[Mr,yr]=(0,g.useState)($t),kn=async Pr=>{if(Mr!==Pr.target.value&&en&&on){const $r=Pr.target.value;let cn;zt?cn=(0,_.setStringWithLocale)(en,vn,$r,zt):cn=(0,_.setStringNoLocale)(en,vn,$r);try{let _i;Xt?(_i=await(0,_.saveSolidDatasetAt)(Xt,(0,_.setThing)(on,cn),{fetch:nn}),await ge(Xt,Un)):(0,_.hasResourceInfo)(on)?(_i=await(0,_.saveSolidDatasetAt)((0,_.getSourceUrl)(on),(0,_.setThing)(on,cn),{fetch:nn}),await ge((0,_.getSourceUrl)(on),Un)):nr(()=>{throw new Error("Please provide saveDatasetTo location for new data")}),tn&&tn(_i,cn)}catch(_i){Ht&&Ht(_i)}}};if(Qn){let Pr=Ot&&w().createElement(Ot,null)||w().createElement("span",null,"fetching data in progress");return Ot===null&&(Pr=null),Pr}return mn?ve?w().createElement(ve,{error:mn}):w().createElement("span",null,mn.toString()):w().createElement(w().Fragment,null,!Ct&&on&&en&&w().createElement("span",Object.assign({},Zt),ln),Ct&&on&&en&&w().createElement("input",Object.assign({type:fe&&fe.type?fe.type:"text"},fe,{onFocus:Pr=>yr(Pr.target.value),onChange:Pr=>Gt(Pr.target.value),onBlur:Pr=>Ft&&kn(Pr),value:ln||""})))}var Yt=function(ze,wt){var dt={};for(var Be in ze)Object.prototype.hasOwnProperty.call(ze,Be)&&wt.indexOf(Be)<0&&(dt[Be]=ze[Be]);if(ze!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(ze);pt<Be.length;pt++)wt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(ze,Be[pt])&&(dt[Be[pt]]=ze[Be[pt]]);return dt};function $n(ze){var{property:wt,properties:dt,thing:Be,edit:pt,autosave:Xt,onSave:zt,onError:tn,maxSize:Ht,inputProps:fe,errorComponent:ve,loadingComponent:Ot}=ze,Ct=Yt(ze,["property","properties","thing","edit","autosave","onSave","onError","maxSize","inputProps","errorComponent","loadingComponent"]);const{fetch:Ft}=(0,g.useContext)(x),Zt=Re({thing:Be,property:wt,properties:dt,type:"url"}),{value:nn,thing:Ln,error:$t}=Zt;let en;!pt&&!nn&&(en=new Error("No value found for property."));const vn=!Ln&&!$t,[on,Un]=(0,g.useState)($t??en);(0,g.useEffect)(()=>{on&&tn&&tn(on)},[on,tn,ve]);const[xn,Qn]=(0,g.useState)(""),{data:mn,error:ln,inProgress:Gt}=rt(nn);(0,g.useEffect)(()=>{if(Gt)return;if(ln){Un(ln);return}const yr=mn&&URL.createObjectURL(mn);yr&&Qn(yr)},[mn,Gt,ln]);const nr=async yr=>{const kn=yr.files;if(Xt&&kn&&kn.length>0&&nn){const Pr=await ae(nn,kn[0],yr,Ft,Ht,zt,tn);Pr&&Qn(Pr)}};let Mr=null;if(vn||Gt){let yr=Ot&&w().createElement(Ot,null)||w().createElement("span",null,"fetching data in progress");return Ot===null&&(yr=null),yr}return on?Mr=ve?w().createElement(ve,{error:on}):w().createElement("span",null,on.toString()):nn&&(Mr=w().createElement("video",Object.assign({src:xn||nn,controls:!0},Ct))),w().createElement(w().Fragment,null,Mr,pt&&w().createElement("input",Object.assign({},fe,{type:"file",accept:"video/*",onChange:yr=>nr(yr.target)})))}function qn(){const{session:ze,sessionRequestInProgress:wt,fetch:dt,login:Be,logout:pt}=(0,g.useContext)(x);return{session:ze,sessionRequestInProgress:wt,fetch:dt,login:Be,logout:pt}}function sn(ze,wt,dt){const{dataset:Be,error:pt}=H(ze,dt),{thing:Xt}=(0,g.useContext)(Ae);return wt?Be?{thing:(0,_.getThing)(Be,wt),error:pt}:{thing:null,error:pt}:{thing:Xt||void 0,error:pt}}})(),p})())}(zy)),zy.exports}var qF=GF(),vw=function(e,t){return vw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},vw(e,t)};function Yo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");vw(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Rn=function(){return Rn=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},Rn.apply(this,arguments)};function vh(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(r[i[a]]=e[i[a]]);return r}function Ws(e,t,r){if(r||arguments.length===2)for(var i=0,a=t.length,l;i<a;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))}function qs(e,t){var r=t&&t.cache?t.cache:ZF,i=t&&t.serializer?t.serializer:QF,a=t&&t.strategy?t.strategy:JF;return a(e,{cache:r,serializer:i})}function zF(e){return e==null||typeof e=="number"||typeof e=="boolean"}function WF(e,t,r,i){var a=zF(i)?i:r(i),l=t.get(a);return typeof l>"u"&&(l=e.call(this,i),t.set(a,l)),l}function OC(e,t,r){var i=Array.prototype.slice.call(arguments,3),a=r(i),l=t.get(a);return typeof l>"u"&&(l=e.apply(this,i),t.set(a,l)),l}function IC(e,t,r,i,a){return r.bind(t,e,i,a)}function JF(e,t){var r=e.length===1?WF:OC;return IC(e,this,r,t.cache.create(),t.serializer)}function YF(e,t){return IC(e,this,OC,t.cache.create(),t.serializer)}var QF=function(){return JSON.stringify(arguments)},XF=function(){function e(){this.cache=Object.create(null)}return e.prototype.get=function(t){return this.cache[t]},e.prototype.set=function(t,r){this.cache[t]=r},e}(),ZF={create:function(){return new XF}},zs={variadic:YF},Dr;(function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(Dr||(Dr={}));var wi;(function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"})(wi||(wi={}));var bh;(function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"})(bh||(bh={}));function gA(e){return e.type===wi.literal}function eD(e){return e.type===wi.argument}function PC(e){return e.type===wi.number}function NC(e){return e.type===wi.date}function FC(e){return e.type===wi.time}function DC(e){return e.type===wi.select}function MC(e){return e.type===wi.plural}function tD(e){return e.type===wi.pound}function LC(e){return e.type===wi.tag}function UC(e){return!!(e&&typeof e=="object"&&e.type===bh.number)}function bw(e){return!!(e&&typeof e=="object"&&e.type===bh.dateTime)}var kC=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,nD=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function rD(e){var t={};return e.replace(nD,function(r){var i=r.length;switch(r[0]){case"G":t.era=i===4?"long":i===5?"narrow":"short";break;case"y":t.year=i===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][i-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][i-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=i===4?"long":i===5?"narrow":"short";break;case"e":if(i<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][i-4];break;case"c":if(i<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][i-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][i-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][i-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][i-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][i-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][i-1];break;case"s":t.second=["numeric","2-digit"][i-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=i<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),t}var iD=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function aD(e){if(e.length===0)throw new Error("Number skeleton cannot be empty");for(var t=e.split(iD).filter(function(w){return w.length>0}),r=[],i=0,a=t;i<a.length;i++){var l=a[i],s=l.split("/");if(s.length===0)throw new Error("Invalid number skeleton");for(var u=s[0],d=s.slice(1),c=0,p=d;c<p.length;c++){var g=p[c];if(g.length===0)throw new Error("Invalid number skeleton")}r.push({stem:u,options:d})}return r}function oD(e){return e.replace(/^(.*?)-/,"")}var mA=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,jC=/^(@+)?(\+|#+)?[rs]?$/g,sD=/(\*)(0+)|(#+)(0+)|(0+)/g,BC=/^(0+)$/;function yA(e){var t={};return e[e.length-1]==="r"?t.roundingPriority="morePrecision":e[e.length-1]==="s"&&(t.roundingPriority="lessPrecision"),e.replace(jC,function(r,i,a){return typeof a!="string"?(t.minimumSignificantDigits=i.length,t.maximumSignificantDigits=i.length):a==="+"?t.minimumSignificantDigits=i.length:i[0]==="#"?t.maximumSignificantDigits=i.length:(t.minimumSignificantDigits=i.length,t.maximumSignificantDigits=i.length+(typeof a=="string"?a.length:0)),""}),t}function HC(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function lD(e){var t;if(e[0]==="E"&&e[1]==="E"?(t={notation:"engineering"},e=e.slice(2)):e[0]==="E"&&(t={notation:"scientific"},e=e.slice(1)),t){var r=e.slice(0,2);if(r==="+!"?(t.signDisplay="always",e=e.slice(2)):r==="+?"&&(t.signDisplay="exceptZero",e=e.slice(2)),!BC.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function vA(e){var t={},r=HC(e);return r||t}function uD(e){for(var t={},r=0,i=e;r<i.length;r++){var a=i[r];switch(a.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=a.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=oD(a.options[0]);continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=Rn(Rn(Rn({},t),{notation:"scientific"}),a.options.reduce(function(d,c){return Rn(Rn({},d),vA(c))},{}));continue;case"engineering":t=Rn(Rn(Rn({},t),{notation:"engineering"}),a.options.reduce(function(d,c){return Rn(Rn({},d),vA(c))},{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(a.options[0]);continue;case"rounding-mode-floor":t.roundingMode="floor";continue;case"rounding-mode-ceiling":t.roundingMode="ceil";continue;case"rounding-mode-down":t.roundingMode="trunc";continue;case"rounding-mode-up":t.roundingMode="expand";continue;case"rounding-mode-half-even":t.roundingMode="halfEven";continue;case"rounding-mode-half-down":t.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":t.roundingMode="halfExpand";continue;case"integer-width":if(a.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");a.options[0].replace(sD,function(d,c,p,g,w,_){if(c)t.minimumIntegerDigits=p.length;else{if(g&&w)throw new Error("We currently do not support maximum integer digits");if(_)throw new Error("We currently do not support exact integer digits")}return""});continue}if(BC.test(a.stem)){t.minimumIntegerDigits=a.stem.length;continue}if(mA.test(a.stem)){if(a.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");a.stem.replace(mA,function(d,c,p,g,w,_){return p==="*"?t.minimumFractionDigits=c.length:g&&g[0]==="#"?t.maximumFractionDigits=g.length:w&&_?(t.minimumFractionDigits=w.length,t.maximumFractionDigits=w.length+_.length):(t.minimumFractionDigits=c.length,t.maximumFractionDigits=c.length),""});var l=a.options[0];l==="w"?t=Rn(Rn({},t),{trailingZeroDisplay:"stripIfInteger"}):l&&(t=Rn(Rn({},t),yA(l)));continue}if(jC.test(a.stem)){t=Rn(Rn({},t),yA(a.stem));continue}var s=HC(a.stem);s&&(t=Rn(Rn({},t),s));var u=lD(a.stem);u&&(t=Rn(Rn({},t),u))}return t}var Ly={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"en-HK":["h","hb","H","hB"],"en-IL":["H","h","hb","hB"],"en-MY":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function cD(e,t){for(var r="",i=0;i<e.length;i++){var a=e.charAt(i);if(a==="j"){for(var l=0;i+1<e.length&&e.charAt(i+1)===a;)l++,i++;var s=1+(l&1),u=l<2?1:3+(l>>1),d="a",c=fD(t);for((c=="H"||c=="k")&&(u=0);u-- >0;)r+=d;for(;s-- >0;)r=c+r}else a==="J"?r+="H":r+=a}return r}function fD(e){var t=e.hourCycle;if(t===void 0&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var r=e.language,i;r!=="root"&&(i=e.maximize().region);var a=Ly[i||""]||Ly[r||""]||Ly["".concat(r,"-001")]||Ly["001"];return a[0]}var Mb,dD=new RegExp("^".concat(kC.source,"*")),hD=new RegExp("".concat(kC.source,"*$"));function Hr(e,t){return{start:e,end:t}}var pD=!!String.prototype.startsWith&&"_a".startsWith("a",1),gD=!!String.fromCodePoint,mD=!!Object.fromEntries,yD=!!String.prototype.codePointAt,vD=!!String.prototype.trimStart,bD=!!String.prototype.trimEnd,wD=!!Number.isSafeInteger,_D=wD?Number.isSafeInteger:function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},ww=!0;try{var SD=$C("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");ww=((Mb=SD.exec("a"))===null||Mb===void 0?void 0:Mb[0])==="a"}catch{ww=!1}var bA=pD?function(t,r,i){return t.startsWith(r,i)}:function(t,r,i){return t.slice(i,i+r.length)===r},_w=gD?String.fromCodePoint:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var i="",a=t.length,l=0,s;a>l;){if(s=t[l++],s>1114111)throw RangeError(s+" is not a valid code point");i+=s<65536?String.fromCharCode(s):String.fromCharCode(((s-=65536)>>10)+55296,s%1024+56320)}return i},wA=mD?Object.fromEntries:function(t){for(var r={},i=0,a=t;i<a.length;i++){var l=a[i],s=l[0],u=l[1];r[s]=u}return r},VC=yD?function(t,r){return t.codePointAt(r)}:function(t,r){var i=t.length;if(!(r<0||r>=i)){var a=t.charCodeAt(r),l;return a<55296||a>56319||r+1===i||(l=t.charCodeAt(r+1))<56320||l>57343?a:(a-55296<<10)+(l-56320)+65536}},ED=vD?function(t){return t.trimStart()}:function(t){return t.replace(dD,"")},AD=bD?function(t){return t.trimEnd()}:function(t){return t.replace(hD,"")};function $C(e,t){return new RegExp(e,t)}var Sw;if(ww){var _A=$C("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Sw=function(t,r){var i;_A.lastIndex=r;var a=_A.exec(t);return(i=a[1])!==null&&i!==void 0?i:""}}else Sw=function(t,r){for(var i=[];;){var a=VC(t,r);if(a===void 0||KC(a)||TD(a))break;i.push(a),r+=a>=65536?2:1}return _w.apply(void 0,i)};var xD=function(){function e(t,r){r===void 0&&(r={}),this.message=t,this.position={offset:0,line:1,column:1},this.ignoreTag=!!r.ignoreTag,this.locale=r.locale,this.requiresOtherClause=!!r.requiresOtherClause,this.shouldParseSkeletons=!!r.shouldParseSkeletons}return e.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(t,r,i){for(var a=[];!this.isEOF();){var l=this.char();if(l===123){var s=this.parseArgument(t,i);if(s.err)return s;a.push(s.val)}else{if(l===125&&t>0)break;if(l===35&&(r==="plural"||r==="selectordinal")){var u=this.clonePosition();this.bump(),a.push({type:wi.pound,location:Hr(u,this.clonePosition())})}else if(l===60&&!this.ignoreTag&&this.peek()===47){if(i)break;return this.error(Dr.UNMATCHED_CLOSING_TAG,Hr(this.clonePosition(),this.clonePosition()))}else if(l===60&&!this.ignoreTag&&Ew(this.peek()||0)){var s=this.parseTag(t,r);if(s.err)return s;a.push(s.val)}else{var s=this.parseLiteral(t,r);if(s.err)return s;a.push(s.val)}}}return{val:a,err:null}},e.prototype.parseTag=function(t,r){var i=this.clonePosition();this.bump();var a=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:wi.literal,value:"<".concat(a,"/>"),location:Hr(i,this.clonePosition())},err:null};if(this.bumpIf(">")){var l=this.parseMessage(t+1,r,!0);if(l.err)return l;var s=l.val,u=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Ew(this.char()))return this.error(Dr.INVALID_TAG,Hr(u,this.clonePosition()));var d=this.clonePosition(),c=this.parseTagName();return a!==c?this.error(Dr.UNMATCHED_CLOSING_TAG,Hr(d,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:wi.tag,value:a,children:s,location:Hr(i,this.clonePosition())},err:null}:this.error(Dr.INVALID_TAG,Hr(u,this.clonePosition())))}else return this.error(Dr.UNCLOSED_TAG,Hr(i,this.clonePosition()))}else return this.error(Dr.INVALID_TAG,Hr(i,this.clonePosition()))},e.prototype.parseTagName=function(){var t=this.offset();for(this.bump();!this.isEOF()&&CD(this.char());)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(t,r){for(var i=this.clonePosition(),a="";;){var l=this.tryParseQuote(r);if(l){a+=l;continue}var s=this.tryParseUnquoted(t,r);if(s){a+=s;continue}var u=this.tryParseLeftAngleBracket();if(u){a+=u;continue}break}var d=Hr(i,this.clonePosition());return{val:{type:wi.literal,value:a,location:d},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!RD(this.peek()||0))?(this.bump(),"<"):null},e.prototype.tryParseQuote=function(t){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(t==="plural"||t==="selectordinal")break;return null;default:return null}this.bump();var r=[this.char()];for(this.bump();!this.isEOF();){var i=this.char();if(i===39)if(this.peek()===39)r.push(39),this.bump();else{this.bump();break}else r.push(i);this.bump()}return _w.apply(void 0,r)},e.prototype.tryParseUnquoted=function(t,r){if(this.isEOF())return null;var i=this.char();return i===60||i===123||i===35&&(r==="plural"||r==="selectordinal")||i===125&&t>0?null:(this.bump(),_w(i))},e.prototype.parseArgument=function(t,r){var i=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Dr.EXPECT_ARGUMENT_CLOSING_BRACE,Hr(i,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(Dr.EMPTY_ARGUMENT,Hr(i,this.clonePosition()));var a=this.parseIdentifierIfPossible().value;if(!a)return this.error(Dr.MALFORMED_ARGUMENT,Hr(i,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Dr.EXPECT_ARGUMENT_CLOSING_BRACE,Hr(i,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:wi.argument,value:a,location:Hr(i,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Dr.EXPECT_ARGUMENT_CLOSING_BRACE,Hr(i,this.clonePosition())):this.parseArgumentOptions(t,r,a,i);default:return this.error(Dr.MALFORMED_ARGUMENT,Hr(i,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var t=this.clonePosition(),r=this.offset(),i=Sw(this.message,r),a=r+i.length;this.bumpTo(a);var l=this.clonePosition(),s=Hr(t,l);return{value:i,location:s}},e.prototype.parseArgumentOptions=function(t,r,i,a){var l,s=this.clonePosition(),u=this.parseIdentifierIfPossible().value,d=this.clonePosition();switch(u){case"":return this.error(Dr.EXPECT_ARGUMENT_TYPE,Hr(s,d));case"number":case"date":case"time":{this.bumpSpace();var c=null;if(this.bumpIf(",")){this.bumpSpace();var p=this.clonePosition(),g=this.parseSimpleArgStyleIfPossible();if(g.err)return g;var w=AD(g.val);if(w.length===0)return this.error(Dr.EXPECT_ARGUMENT_STYLE,Hr(this.clonePosition(),this.clonePosition()));var _=Hr(p,this.clonePosition());c={style:w,styleLocation:_}}var T=this.tryParseArgumentClose(a);if(T.err)return T;var x=Hr(a,this.clonePosition());if(c&&bA(c?.style,"::",0)){var C=ED(c.style.slice(2));if(u==="number"){var g=this.parseNumberSkeletonFromString(C,c.styleLocation);return g.err?g:{val:{type:wi.number,value:i,location:x,style:g.val},err:null}}else{if(C.length===0)return this.error(Dr.EXPECT_DATE_TIME_SKELETON,x);var E=C;this.locale&&(E=cD(C,this.locale));var w={type:bh.dateTime,pattern:E,location:c.styleLocation,parsedOptions:this.shouldParseSkeletons?rD(E):{}},I=u==="date"?wi.date:wi.time;return{val:{type:I,value:i,location:x,style:w},err:null}}}return{val:{type:u==="number"?wi.number:u==="date"?wi.date:wi.time,value:i,location:x,style:(l=c?.style)!==null&&l!==void 0?l:null},err:null}}case"plural":case"selectordinal":case"select":{var O=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Dr.EXPECT_SELECT_ARGUMENT_OPTIONS,Hr(O,Rn({},O)));this.bumpSpace();var H=this.parseIdentifierIfPossible(),L=0;if(u!=="select"&&H.value==="offset"){if(!this.bumpIf(":"))return this.error(Dr.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Hr(this.clonePosition(),this.clonePosition()));this.bumpSpace();var g=this.tryParseDecimalInteger(Dr.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Dr.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(g.err)return g;this.bumpSpace(),H=this.parseIdentifierIfPossible(),L=g.val}var q=this.tryParsePluralOrSelectOptions(t,u,r,H);if(q.err)return q;var T=this.tryParseArgumentClose(a);if(T.err)return T;var W=Hr(a,this.clonePosition());return u==="select"?{val:{type:wi.select,value:i,options:wA(q.val),location:W},err:null}:{val:{type:wi.plural,value:i,options:wA(q.val),offset:L,pluralType:u==="plural"?"cardinal":"ordinal",location:W},err:null}}default:return this.error(Dr.INVALID_ARGUMENT_TYPE,Hr(s,d))}},e.prototype.tryParseArgumentClose=function(t){return this.isEOF()||this.char()!==125?this.error(Dr.EXPECT_ARGUMENT_CLOSING_BRACE,Hr(t,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var t=0,r=this.clonePosition();!this.isEOF();){var i=this.char();switch(i){case 39:{this.bump();var a=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Dr.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Hr(a,this.clonePosition()));this.bump();break}case 123:{t+=1,this.bump();break}case 125:{if(t>0)t-=1;else return{val:this.message.slice(r.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(r.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(t,r){var i=[];try{i=aD(t)}catch{return this.error(Dr.INVALID_NUMBER_SKELETON,r)}return{val:{type:bh.number,tokens:i,location:r,parsedOptions:this.shouldParseSkeletons?uD(i):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(t,r,i,a){for(var l,s=!1,u=[],d=new Set,c=a.value,p=a.location;;){if(c.length===0){var g=this.clonePosition();if(r!=="select"&&this.bumpIf("=")){var w=this.tryParseDecimalInteger(Dr.EXPECT_PLURAL_ARGUMENT_SELECTOR,Dr.INVALID_PLURAL_ARGUMENT_SELECTOR);if(w.err)return w;p=Hr(g,this.clonePosition()),c=this.message.slice(g.offset,this.offset())}else break}if(d.has(c))return this.error(r==="select"?Dr.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Dr.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,p);c==="other"&&(s=!0),this.bumpSpace();var _=this.clonePosition();if(!this.bumpIf("{"))return this.error(r==="select"?Dr.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Dr.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Hr(this.clonePosition(),this.clonePosition()));var T=this.parseMessage(t+1,r,i);if(T.err)return T;var x=this.tryParseArgumentClose(_);if(x.err)return x;u.push([c,{value:T.val,location:Hr(_,this.clonePosition())}]),d.add(c),this.bumpSpace(),l=this.parseIdentifierIfPossible(),c=l.value,p=l.location}return u.length===0?this.error(r==="select"?Dr.EXPECT_SELECT_ARGUMENT_SELECTOR:Dr.EXPECT_PLURAL_ARGUMENT_SELECTOR,Hr(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(Dr.MISSING_OTHER_CLAUSE,Hr(this.clonePosition(),this.clonePosition())):{val:u,err:null}},e.prototype.tryParseDecimalInteger=function(t,r){var i=1,a=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(i=-1);for(var l=!1,s=0;!this.isEOF();){var u=this.char();if(u>=48&&u<=57)l=!0,s=s*10+(u-48),this.bump();else break}var d=Hr(a,this.clonePosition());return l?(s*=i,_D(s)?{val:s,err:null}:this.error(r,d)):this.error(t,d)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var t=this.position.offset;if(t>=this.message.length)throw Error("out of bound");var r=VC(this.message,t);if(r===void 0)throw Error("Offset ".concat(t," is at invalid UTF-16 code unit boundary"));return r},e.prototype.error=function(t,r){return{val:null,err:{kind:t,message:this.message,location:r}}},e.prototype.bump=function(){if(!this.isEOF()){var t=this.char();t===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=t<65536?1:2)}},e.prototype.bumpIf=function(t){if(bA(this.message,t,this.offset())){for(var r=0;r<t.length;r++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(t){var r=this.offset(),i=this.message.indexOf(t,r);return i>=0?(this.bumpTo(i),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(t){if(this.offset()>t)throw Error("targetOffset ".concat(t," must be greater than or equal to the current offset ").concat(this.offset()));for(t=Math.min(t,this.message.length);;){var r=this.offset();if(r===t)break;if(r>t)throw Error("targetOffset ".concat(t," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&KC(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var t=this.char(),r=this.offset(),i=this.message.charCodeAt(r+(t>=65536?2:1));return i??null},e}();function Ew(e){return e>=97&&e<=122||e>=65&&e<=90}function RD(e){return Ew(e)||e===47}function CD(e){return e===45||e===46||e>=48&&e<=57||e===95||e>=97&&e<=122||e>=65&&e<=90||e==183||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function KC(e){return e>=9&&e<=13||e===32||e===133||e>=8206&&e<=8207||e===8232||e===8233}function TD(e){return e>=33&&e<=35||e===36||e>=37&&e<=39||e===40||e===41||e===42||e===43||e===44||e===45||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||e===91||e===92||e===93||e===94||e===96||e===123||e===124||e===125||e===126||e===161||e>=162&&e<=165||e===166||e===167||e===169||e===171||e===172||e===174||e===176||e===177||e===182||e===187||e===191||e===215||e===247||e>=8208&&e<=8213||e>=8214&&e<=8215||e===8216||e===8217||e===8218||e>=8219&&e<=8220||e===8221||e===8222||e===8223||e>=8224&&e<=8231||e>=8240&&e<=8248||e===8249||e===8250||e>=8251&&e<=8254||e>=8257&&e<=8259||e===8260||e===8261||e===8262||e>=8263&&e<=8273||e===8274||e===8275||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||e===8608||e>=8609&&e<=8610||e===8611||e>=8612&&e<=8613||e===8614||e>=8615&&e<=8621||e===8622||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||e===8658||e===8659||e===8660||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||e===8968||e===8969||e===8970||e===8971||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||e===9001||e===9002||e>=9003&&e<=9083||e===9084||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||e===9655||e>=9656&&e<=9664||e===9665||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||e===9839||e>=9840&&e<=10087||e===10088||e===10089||e===10090||e===10091||e===10092||e===10093||e===10094||e===10095||e===10096||e===10097||e===10098||e===10099||e===10100||e===10101||e>=10132&&e<=10175||e>=10176&&e<=10180||e===10181||e===10182||e>=10183&&e<=10213||e===10214||e===10215||e===10216||e===10217||e===10218||e===10219||e===10220||e===10221||e===10222||e===10223||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||e===10627||e===10628||e===10629||e===10630||e===10631||e===10632||e===10633||e===10634||e===10635||e===10636||e===10637||e===10638||e===10639||e===10640||e===10641||e===10642||e===10643||e===10644||e===10645||e===10646||e===10647||e===10648||e>=10649&&e<=10711||e===10712||e===10713||e===10714||e===10715||e>=10716&&e<=10747||e===10748||e===10749||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||e===11158||e>=11159&&e<=11263||e>=11776&&e<=11777||e===11778||e===11779||e===11780||e===11781||e>=11782&&e<=11784||e===11785||e===11786||e===11787||e===11788||e===11789||e>=11790&&e<=11798||e===11799||e>=11800&&e<=11801||e===11802||e===11803||e===11804||e===11805||e>=11806&&e<=11807||e===11808||e===11809||e===11810||e===11811||e===11812||e===11813||e===11814||e===11815||e===11816||e===11817||e>=11818&&e<=11822||e===11823||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||e===11840||e===11841||e===11842||e>=11843&&e<=11855||e>=11856&&e<=11857||e===11858||e>=11859&&e<=11903||e>=12289&&e<=12291||e===12296||e===12297||e===12298||e===12299||e===12300||e===12301||e===12302||e===12303||e===12304||e===12305||e>=12306&&e<=12307||e===12308||e===12309||e===12310||e===12311||e===12312||e===12313||e===12314||e===12315||e===12316||e===12317||e>=12318&&e<=12319||e===12320||e===12336||e===64830||e===64831||e>=65093&&e<=65094}function Aw(e){e.forEach(function(t){if(delete t.location,DC(t)||MC(t))for(var r in t.options)delete t.options[r].location,Aw(t.options[r].value);else PC(t)&&UC(t.style)||(NC(t)||FC(t))&&bw(t.style)?delete t.style.location:LC(t)&&Aw(t.children)})}function OD(e,t){t===void 0&&(t={}),t=Rn({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var r=new xD(e,t).parse();if(r.err){var i=SyntaxError(Dr[r.err.kind]);throw i.location=r.err.location,i.originalMessage=r.err.message,i}return t?.captureLocation||Aw(r.val),r.val}var Zs;(function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"})(Zs||(Zs={}));var vc=function(e){Yo(t,e);function t(r,i,a){var l=e.call(this,r)||this;return l.code=i,l.originalMessage=a,l}return t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),SA=function(e){Yo(t,e);function t(r,i,a,l){return e.call(this,'Invalid values for "'.concat(r,'": "').concat(i,'". Options are "').concat(Object.keys(a).join('", "'),'"'),Zs.INVALID_VALUE,l)||this}return t}(vc),ID=function(e){Yo(t,e);function t(r,i,a){return e.call(this,'Value for "'.concat(r,'" must be of type ').concat(i),Zs.INVALID_VALUE,a)||this}return t}(vc),PD=function(e){Yo(t,e);function t(r,i){return e.call(this,'The intl string context variable "'.concat(r,'" was not provided to the string "').concat(i,'"'),Zs.MISSING_VALUE,i)||this}return t}(vc),Ua;(function(e){e[e.literal=0]="literal",e[e.object=1]="object"})(Ua||(Ua={}));function ND(e){return e.length<2?e:e.reduce(function(t,r){var i=t[t.length-1];return!i||i.type!==Ua.literal||r.type!==Ua.literal?t.push(r):i.value+=r.value,t},[])}function GC(e){return typeof e=="function"}function Xy(e,t,r,i,a,l,s){if(e.length===1&&gA(e[0]))return[{type:Ua.literal,value:e[0].value}];for(var u=[],d=0,c=e;d<c.length;d++){var p=c[d];if(gA(p)){u.push({type:Ua.literal,value:p.value});continue}if(tD(p)){typeof l=="number"&&u.push({type:Ua.literal,value:r.getNumberFormat(t).format(l)});continue}var g=p.value;if(!(a&&g in a))throw new PD(g,s);var w=a[g];if(eD(p)){(!w||typeof w=="string"||typeof w=="number")&&(w=typeof w=="string"||typeof w=="number"?String(w):""),u.push({type:typeof w=="string"?Ua.literal:Ua.object,value:w});continue}if(NC(p)){var _=typeof p.style=="string"?i.date[p.style]:bw(p.style)?p.style.parsedOptions:void 0;u.push({type:Ua.literal,value:r.getDateTimeFormat(t,_).format(w)});continue}if(FC(p)){var _=typeof p.style=="string"?i.time[p.style]:bw(p.style)?p.style.parsedOptions:i.time.medium;u.push({type:Ua.literal,value:r.getDateTimeFormat(t,_).format(w)});continue}if(PC(p)){var _=typeof p.style=="string"?i.number[p.style]:UC(p.style)?p.style.parsedOptions:void 0;_&&_.scale&&(w=w*(_.scale||1)),u.push({type:Ua.literal,value:r.getNumberFormat(t,_).format(w)});continue}if(LC(p)){var T=p.children,x=p.value,C=a[x];if(!GC(C))throw new ID(x,"function",s);var E=Xy(T,t,r,i,a,l),I=C(E.map(function(L){return L.value}));Array.isArray(I)||(I=[I]),u.push.apply(u,I.map(function(L){return{type:typeof L=="string"?Ua.literal:Ua.object,value:L}}))}if(DC(p)){var O=p.options[w]||p.options.other;if(!O)throw new SA(p.value,w,Object.keys(p.options),s);u.push.apply(u,Xy(O.value,t,r,i,a));continue}if(MC(p)){var O=p.options["=".concat(w)];if(!O){if(!Intl.PluralRules)throw new vc(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Zs.MISSING_INTL_API,s);var H=r.getPluralRules(t,{type:p.pluralType}).select(w-(p.offset||0));O=p.options[H]||p.options.other}if(!O)throw new SA(p.value,w,Object.keys(p.options),s);u.push.apply(u,Xy(O.value,t,r,i,a,w-(p.offset||0)));continue}}return ND(u)}function FD(e,t){return t?Rn(Rn(Rn({},e||{}),t||{}),Object.keys(e).reduce(function(r,i){return r[i]=Rn(Rn({},e[i]),t[i]||{}),r},{})):e}function DD(e,t){return t?Object.keys(e).reduce(function(r,i){return r[i]=FD(e[i],t[i]),r},Rn({},e)):e}function Lb(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}function MD(e){return e===void 0&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:qs(function(){for(var t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new((t=Intl.NumberFormat).bind.apply(t,Ws([void 0],r,!1)))},{cache:Lb(e.number),strategy:zs.variadic}),getDateTimeFormat:qs(function(){for(var t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new((t=Intl.DateTimeFormat).bind.apply(t,Ws([void 0],r,!1)))},{cache:Lb(e.dateTime),strategy:zs.variadic}),getPluralRules:qs(function(){for(var t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new((t=Intl.PluralRules).bind.apply(t,Ws([void 0],r,!1)))},{cache:Lb(e.pluralRules),strategy:zs.variadic})}}var qC=function(){function e(t,r,i,a){r===void 0&&(r=e.defaultLocale);var l=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(d){var c=l.formatToParts(d);if(c.length===1)return c[0].value;var p=c.reduce(function(g,w){return!g.length||w.type!==Ua.literal||typeof g[g.length-1]!="string"?g.push(w.value):g[g.length-1]+=w.value,g},[]);return p.length<=1?p[0]||"":p},this.formatToParts=function(d){return Xy(l.ast,l.locales,l.formatters,l.formats,d,void 0,l.message)},this.resolvedOptions=function(){var d;return{locale:((d=l.resolvedLocale)===null||d===void 0?void 0:d.toString())||Intl.NumberFormat.supportedLocalesOf(l.locales)[0]}},this.getAst=function(){return l.ast},this.locales=r,this.resolvedLocale=e.resolveLocale(r),typeof t=="string"){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var s=a||{};s.formatters;var u=vh(s,["formatters"]);this.ast=e.__parse(t,Rn(Rn({},u),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=DD(e.formats,i),this.formatters=a&&a.formatters||MD(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(t){if(!(typeof Intl.Locale>"u")){var r=Intl.NumberFormat.supportedLocalesOf(t);return r.length>0?new Intl.Locale(r[0]):new Intl.Locale(typeof t=="string"?t:t[0])}},e.__parse=OD,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}(),qf;(function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"})(qf||(qf={}));var Am=function(e){Yo(t,e);function t(r,i,a){var l=this,s=a?a instanceof Error?a:new Error(String(a)):void 0;return l=e.call(this,"[@formatjs/intl Error ".concat(r,"] ").concat(i,`
`).concat(s?`
`.concat(s.message,`
`).concat(s.stack):""))||this,l.code=r,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(l,t),l}return t}(Error),LD=function(e){Yo(t,e);function t(r,i){return e.call(this,qf.UNSUPPORTED_FORMATTER,r,i)||this}return t}(Am),UD=function(e){Yo(t,e);function t(r,i){return e.call(this,qf.INVALID_CONFIG,r,i)||this}return t}(Am),EA=function(e){Yo(t,e);function t(r,i){return e.call(this,qf.MISSING_DATA,r,i)||this}return t}(Am),Qo=function(e){Yo(t,e);function t(r,i,a){var l=e.call(this,qf.FORMAT_ERROR,"".concat(r,`
Locale: `).concat(i,`
`),a)||this;return l.locale=i,l}return t}(Am),Ub=function(e){Yo(t,e);function t(r,i,a,l){var s=e.call(this,"".concat(r,`
MessageID: `).concat(a?.id,`
Default Message: `).concat(a?.defaultMessage,`
Description: `).concat(a?.description,`
`),i,l)||this;return s.descriptor=a,s.locale=i,s}return t}(Qo),kD=function(e){Yo(t,e);function t(r,i){var a=e.call(this,qf.MISSING_TRANSLATION,'Missing message: "'.concat(r.id,'" for locale "').concat(i,'", using ').concat(r.defaultMessage?"default message (".concat(typeof r.defaultMessage=="string"?r.defaultMessage:r.defaultMessage.map(function(l){var s;return(s=l.value)!==null&&s!==void 0?s:JSON.stringify(l)}).join(),")"):"id"," as fallback."))||this;return a.descriptor=r,a}return t}(Am);function jD(e,t,r){if(r===void 0&&(r=Error),!e)throw new r(t)}function Ah(e,t,r){return r===void 0&&(r={}),t.reduce(function(i,a){return a in e?i[a]=e[a]:a in r&&(i[a]=r[a]),i},{})}var BD=function(e){},HD=function(e){},zC={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:BD,onWarn:HD};function WC(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function kf(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}function VD(e){e===void 0&&(e=WC());var t=Intl.RelativeTimeFormat,r=Intl.ListFormat,i=Intl.DisplayNames,a=qs(function(){for(var u,d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];return new((u=Intl.DateTimeFormat).bind.apply(u,Ws([void 0],d,!1)))},{cache:kf(e.dateTime),strategy:zs.variadic}),l=qs(function(){for(var u,d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];return new((u=Intl.NumberFormat).bind.apply(u,Ws([void 0],d,!1)))},{cache:kf(e.number),strategy:zs.variadic}),s=qs(function(){for(var u,d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];return new((u=Intl.PluralRules).bind.apply(u,Ws([void 0],d,!1)))},{cache:kf(e.pluralRules),strategy:zs.variadic});return{getDateTimeFormat:a,getNumberFormat:l,getMessageFormat:qs(function(u,d,c,p){return new qC(u,d,c,Rn({formatters:{getNumberFormat:l,getDateTimeFormat:a,getPluralRules:s}},p||{}))},{cache:kf(e.message),strategy:zs.variadic}),getRelativeTimeFormat:qs(function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return new(t.bind.apply(t,Ws([void 0],u,!1)))},{cache:kf(e.relativeTime),strategy:zs.variadic}),getPluralRules:s,getListFormat:qs(function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return new(r.bind.apply(r,Ws([void 0],u,!1)))},{cache:kf(e.list),strategy:zs.variadic}),getDisplayNames:qs(function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return new(i.bind.apply(i,Ws([void 0],u,!1)))},{cache:kf(e.displayNames),strategy:zs.variadic})}}function C_(e,t,r,i){var a=e&&e[t],l;if(a&&(l=a[r]),l)return l;i(new LD("No ".concat(t," format named: ").concat(r)))}function Uy(e,t){return Object.keys(e).reduce(function(r,i){return r[i]=Rn({timeZone:t},e[i]),r},{})}function AA(e,t){var r=Object.keys(Rn(Rn({},e),t));return r.reduce(function(i,a){return i[a]=Rn(Rn({},e[a]||{}),t[a]||{}),i},{})}function xA(e,t){if(!t)return e;var r=qC.formats;return Rn(Rn(Rn({},r),e),{date:AA(Uy(r.date,t),Uy(e.date||{},t)),time:AA(Uy(r.time,t),Uy(e.time||{},t))})}var xw=function(e,t,r,i,a){var l=e.locale,s=e.formats,u=e.messages,d=e.defaultLocale,c=e.defaultFormats,p=e.fallbackOnEmptyString,g=e.onError,w=e.timeZone,_=e.defaultRichTextElements;r===void 0&&(r={id:""});var T=r.id,x=r.defaultMessage;jD(!!T,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.github.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.github.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.github.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var C=String(T),E=u&&Object.prototype.hasOwnProperty.call(u,C)&&u[C];if(Array.isArray(E)&&E.length===1&&E[0].type===wi.literal)return E[0].value;if(!i&&E&&typeof E=="string"&&!_)return E.replace(/'\{(.*?)\}'/gi,"{$1}");if(i=Rn(Rn({},_),i||{}),s=xA(s,w),c=xA(c,w),!E){if(p===!1&&E==="")return E;if((!x||l&&l.toLowerCase()!==d.toLowerCase())&&g(new kD(r,l)),x)try{var I=t.getMessageFormat(x,d,c,a);return I.format(i)}catch(O){return g(new Ub('Error formatting default message for: "'.concat(C,'", rendering default message verbatim'),l,r,O)),typeof x=="string"?x:C}return C}try{var I=t.getMessageFormat(E,l,s,Rn({formatters:t},a||{}));return I.format(i)}catch(O){g(new Ub('Error formatting message: "'.concat(C,'", using ').concat(x?"default message":"id"," as fallback."),l,r,O))}if(x)try{var I=t.getMessageFormat(x,d,c,a);return I.format(i)}catch(O){g(new Ub('Error formatting the default message for: "'.concat(C,'", rendering message verbatim'),l,r,O))}return typeof E=="string"?E:typeof x=="string"?x:C},$D=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function xm(e,t,r,i){var a=e.locale,l=e.formats,s=e.onError,u=e.timeZone;i===void 0&&(i={});var d=i.format,c=Rn(Rn({},u&&{timeZone:u}),d&&C_(l,t,d,s)),p=Ah(i,$D,c);return t==="time"&&!p.hour&&!p.minute&&!p.second&&!p.timeStyle&&!p.dateStyle&&(p=Rn(Rn({},p),{hour:"numeric",minute:"numeric"})),r(a,p)}function KD(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=r[0],l=r[1],s=l===void 0?{}:l,u=typeof a=="string"?new Date(a||0):a;try{return xm(e,"date",t,s).format(u)}catch(d){e.onError(new Qo("Error formatting date.",e.locale,d))}return String(u)}function GD(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=r[0],l=r[1],s=l===void 0?{}:l,u=typeof a=="string"?new Date(a||0):a;try{return xm(e,"time",t,s).format(u)}catch(d){e.onError(new Qo("Error formatting time.",e.locale,d))}return String(u)}function qD(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=r[0],l=r[1],s=r[2],u=s===void 0?{}:s,d=typeof a=="string"?new Date(a||0):a,c=typeof l=="string"?new Date(l||0):l;try{return xm(e,"dateTimeRange",t,u).formatRange(d,c)}catch(p){e.onError(new Qo("Error formatting date time range.",e.locale,p))}return String(d)}function zD(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=r[0],l=r[1],s=l===void 0?{}:l,u=typeof a=="string"?new Date(a||0):a;try{return xm(e,"date",t,s).formatToParts(u)}catch(d){e.onError(new Qo("Error formatting date.",e.locale,d))}return[]}function WD(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=r[0],l=r[1],s=l===void 0?{}:l,u=typeof a=="string"?new Date(a||0):a;try{return xm(e,"time",t,s).formatToParts(u)}catch(d){e.onError(new Qo("Error formatting time.",e.locale,d))}return[]}var JD=["style","type","fallback","languageDisplay"];function YD(e,t,r,i){var a=e.locale,l=e.onError,s=Intl.DisplayNames;s||l(new vc(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,Zs.MISSING_INTL_API));var u=Ah(i,JD);try{return t(a,u).of(r)}catch(d){l(new Qo("Error formatting display name.",a,d))}}var QD=["type","style"],RA=Date.now();function XD(e){return"".concat(RA,"_").concat(e,"_").concat(RA)}function ZD(e,t,r,i){i===void 0&&(i={});var a=JC(e,t,r,i).reduce(function(l,s){var u=s.value;return typeof u!="string"?l.push(u):typeof l[l.length-1]=="string"?l[l.length-1]+=u:l.push(u),l},[]);return a.length===1?a[0]:a.length===0?"":a}function JC(e,t,r,i){var a=e.locale,l=e.onError;i===void 0&&(i={});var s=Intl.ListFormat;s||l(new vc(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,Zs.MISSING_INTL_API));var u=Ah(i,QD);try{var d={},c=r.map(function(p,g){if(typeof p=="object"){var w=XD(g);return d[w]=p,w}return String(p)});return t(a,u).formatToParts(c).map(function(p){return p.type==="literal"?p:Rn(Rn({},p),{value:d[p.value]||p.value})})}catch(p){l(new Qo("Error formatting list.",a,p))}return r}var eM=["type"];function tM(e,t,r,i){var a=e.locale,l=e.onError;i===void 0&&(i={}),Intl.PluralRules||l(new vc(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Zs.MISSING_INTL_API));var s=Ah(i,eM);try{return t(a,s).select(r)}catch(u){l(new Qo("Error formatting plural.",a,u))}return"other"}var nM=["numeric","style"];function rM(e,t,r){var i=e.locale,a=e.formats,l=e.onError;r===void 0&&(r={});var s=r.format,u=!!s&&C_(a,"relative",s,l)||{},d=Ah(r,nM,u);return t(i,d)}function iM(e,t,r,i,a){a===void 0&&(a={}),i||(i="second");var l=Intl.RelativeTimeFormat;l||e.onError(new vc(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,Zs.MISSING_INTL_API));try{return rM(e,t,a).format(r,i)}catch(s){e.onError(new Qo("Error formatting relative time.",e.locale,s))}return String(r)}var aM=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function YC(e,t,r){var i=e.locale,a=e.formats,l=e.onError;r===void 0&&(r={});var s=r.format,u=s&&C_(a,"number",s,l)||{},d=Ah(r,aM,u);return t(i,d)}function oM(e,t,r,i){i===void 0&&(i={});try{return YC(e,t,i).format(r)}catch(a){e.onError(new Qo("Error formatting number.",e.locale,a))}return String(r)}function sM(e,t,r,i){i===void 0&&(i={});try{return YC(e,t,i).formatToParts(r)}catch(a){e.onError(new Qo("Error formatting number.",e.locale,a))}return[]}function lM(e){var t=e?e[Object.keys(e)[0]]:void 0;return typeof t=="string"}function uM(e){e.onWarn&&e.defaultRichTextElements&&lM(e.messages||{})&&e.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.github.io/docs/getting-started/message-distribution`)}function cM(e,t){var r=VD(t),i=Rn(Rn({},zC),e),a=i.locale,l=i.defaultLocale,s=i.onError;return a?!Intl.NumberFormat.supportedLocalesOf(a).length&&s?s(new EA('Missing locale data for locale: "'.concat(a,'" in Intl.NumberFormat. Using default locale: "').concat(l,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(a).length&&s&&s(new EA('Missing locale data for locale: "'.concat(a,'" in Intl.DateTimeFormat. Using default locale: "').concat(l,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):(s&&s(new UD('"locale" was not configured, using "'.concat(l,'" as fallback. See https://formatjs.github.io/docs/react-intl/api#intlshape for more details'))),i.locale=i.defaultLocale||"en"),uM(i),Rn(Rn({},i),{formatters:r,formatNumber:oM.bind(null,i,r.getNumberFormat),formatNumberToParts:sM.bind(null,i,r.getNumberFormat),formatRelativeTime:iM.bind(null,i,r.getRelativeTimeFormat),formatDate:KD.bind(null,i,r.getDateTimeFormat),formatDateToParts:zD.bind(null,i,r.getDateTimeFormat),formatTime:GD.bind(null,i,r.getDateTimeFormat),formatDateTimeRange:qD.bind(null,i,r.getDateTimeFormat),formatTimeToParts:WD.bind(null,i,r.getDateTimeFormat),formatPlural:tM.bind(null,i,r.getPluralRules),formatMessage:xw.bind(null,i,r),$t:xw.bind(null,i,r),formatList:ZD.bind(null,i,r.getListFormat),formatListToParts:JC.bind(null,i,r.getListFormat),formatDisplayName:YD.bind(null,i,r.getDisplayNames)})}function fM(e,t,r){if(r===void 0&&(r=Error),!e)throw new r(t)}function QC(e){fM(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var XC=Rn(Rn({},zC),{textComponent:te.Fragment}),dM={key:42},hM=function(e){return te.isValidElement(e)?te.createElement(te.Fragment,dM,e):e},pM=function(e){var t;return(t=te.Children.map(e,hM))!==null&&t!==void 0?t:[]};function gM(e){return function(t){return e(te.Children.toArray(t))}}function Rw(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=Object.keys(e),i=Object.keys(t),a=r.length;if(i.length!==a)return!1;for(var l=0;l<a;l++){var s=r[l];if(e[s]!==t[s]||!Object.prototype.hasOwnProperty.call(t,s))return!1}return!0}var kb={exports:{}},ni={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CA;function mM(){if(CA)return ni;CA=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,i=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,l=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,p=e?Symbol.for("react.forward_ref"):60112,g=e?Symbol.for("react.suspense"):60113,w=e?Symbol.for("react.suspense_list"):60120,_=e?Symbol.for("react.memo"):60115,T=e?Symbol.for("react.lazy"):60116,x=e?Symbol.for("react.block"):60121,C=e?Symbol.for("react.fundamental"):60117,E=e?Symbol.for("react.responder"):60118,I=e?Symbol.for("react.scope"):60119;function O(L){if(typeof L=="object"&&L!==null){var q=L.$$typeof;switch(q){case t:switch(L=L.type,L){case d:case c:case i:case l:case a:case g:return L;default:switch(L=L&&L.$$typeof,L){case u:case p:case T:case _:case s:return L;default:return q}}case r:return q}}}function H(L){return O(L)===c}return ni.AsyncMode=d,ni.ConcurrentMode=c,ni.ContextConsumer=u,ni.ContextProvider=s,ni.Element=t,ni.ForwardRef=p,ni.Fragment=i,ni.Lazy=T,ni.Memo=_,ni.Portal=r,ni.Profiler=l,ni.StrictMode=a,ni.Suspense=g,ni.isAsyncMode=function(L){return H(L)||O(L)===d},ni.isConcurrentMode=H,ni.isContextConsumer=function(L){return O(L)===u},ni.isContextProvider=function(L){return O(L)===s},ni.isElement=function(L){return typeof L=="object"&&L!==null&&L.$$typeof===t},ni.isForwardRef=function(L){return O(L)===p},ni.isFragment=function(L){return O(L)===i},ni.isLazy=function(L){return O(L)===T},ni.isMemo=function(L){return O(L)===_},ni.isPortal=function(L){return O(L)===r},ni.isProfiler=function(L){return O(L)===l},ni.isStrictMode=function(L){return O(L)===a},ni.isSuspense=function(L){return O(L)===g},ni.isValidElementType=function(L){return typeof L=="string"||typeof L=="function"||L===i||L===c||L===l||L===a||L===g||L===w||typeof L=="object"&&L!==null&&(L.$$typeof===T||L.$$typeof===_||L.$$typeof===s||L.$$typeof===u||L.$$typeof===p||L.$$typeof===C||L.$$typeof===E||L.$$typeof===I||L.$$typeof===x)},ni.typeOf=O,ni}var TA;function yM(){return TA||(TA=1,kb.exports=mM()),kb.exports}var jb,OA;function vM(){if(OA)return jb;OA=1;var e=yM(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[e.ForwardRef]=i,l[e.Memo]=a;function s(T){return e.isMemo(T)?a:l[T.$$typeof]||t}var u=Object.defineProperty,d=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,w=Object.prototype;function _(T,x,C){if(typeof x!="string"){if(w){var E=g(x);E&&E!==w&&_(T,E,C)}var I=d(x);c&&(I=I.concat(c(x)));for(var O=s(T),H=s(x),L=0;L<I.length;++L){var q=I[L];if(!r[q]&&!(C&&C[q])&&!(H&&H[q])&&!(O&&O[q])){var W=p(x,q);try{u(T,q,W)}catch{}}}}return T}return jb=_,jb}vM();var T_=typeof window<"u"&&!window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=te.createContext(null)):te.createContext(null);T_.Consumer;var bM=T_.Provider,wM=bM,_M=T_;function Zf(){var e=te.useContext(_M);return QC(e),e}var Cw;(function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"})(Cw||(Cw={}));var Tw;(function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"})(Tw||(Tw={}));function ZC(e){var t=function(r){var i=Zf(),a=r.value,l=r.children,s=vh(r,["value","children"]),u=typeof a=="string"?new Date(a||0):a,d=e==="formatDate"?i.formatDateToParts(u,s):i.formatTimeToParts(u,s);return l(d)};return t.displayName=Tw[e],t}function Rm(e){var t=function(r){var i=Zf(),a=r.value,l=r.children,s=vh(r,["value","children"]),u=i[e](a,s);if(typeof l=="function")return l(u);var d=i.textComponent||te.Fragment;return te.createElement(d,null,u)};return t.displayName=Cw[e],t}function eT(e){return e&&Object.keys(e).reduce(function(t,r){var i=e[r];return t[r]=GC(i)?gM(i):i,t},{})}var IA=function(e,t,r,i){for(var a=[],l=4;l<arguments.length;l++)a[l-4]=arguments[l];var s=eT(i),u=xw.apply(void 0,Ws([e,t,r,s],a,!1));return Array.isArray(u)?pM(u):u},PA=function(e,t){var r=e.defaultRichTextElements,i=vh(e,["defaultRichTextElements"]),a=eT(r),l=cM(Rn(Rn(Rn({},XC),i),{defaultRichTextElements:a}),t),s={locale:l.locale,timeZone:l.timeZone,fallbackOnEmptyString:l.fallbackOnEmptyString,formats:l.formats,defaultLocale:l.defaultLocale,defaultFormats:l.defaultFormats,messages:l.messages,onError:l.onError,defaultRichTextElements:a};return Rn(Rn({},l),{formatMessage:IA.bind(null,s,l.formatters),$t:IA.bind(null,s,l.formatters)})};function SM(e,t){var r=e.values,i=vh(e,["values"]),a=t.values,l=vh(t,["values"]);return Rw(a,r)&&Rw(i,l)}function tT(e){var t=Zf(),r=t.formatMessage,i=t.textComponent,a=i===void 0?te.Fragment:i,l=e.id,s=e.description,u=e.defaultMessage,d=e.values,c=e.children,p=e.tagName,g=p===void 0?a:p,w=e.ignoreTag,_={id:l,description:s,defaultMessage:u},T=r(_,d,{ignoreTag:w});return typeof c=="function"?c(Array.isArray(T)?T:[T]):g?te.createElement(g,null,T):te.createElement(te.Fragment,null,T)}tT.displayName="FormattedMessage";var hr=te.memo(tT,SM);hr.displayName="MemoizedFormattedMessage";function Bb(e){return{locale:e.locale,timeZone:e.timeZone,fallbackOnEmptyString:e.fallbackOnEmptyString,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError,onWarn:e.onWarn,wrapRichTextChunksInFragment:e.wrapRichTextChunksInFragment,defaultRichTextElements:e.defaultRichTextElements}}var EM=function(e){Yo(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.cache=WC(),r.state={cache:r.cache,intl:PA(Bb(r.props),r.cache),prevConfig:Bb(r.props)},r}return t.getDerivedStateFromProps=function(r,i){var a=i.prevConfig,l=i.cache,s=Bb(r);return Rw(a,s)?null:{intl:PA(s,l),prevConfig:s}},t.prototype.render=function(){return QC(this.state.intl),te.createElement(wM,{value:this.state.intl},this.props.children)},t.displayName="IntlProvider",t.defaultProps=XC,t}(te.PureComponent);Rm("formatDate");Rm("formatTime");Rm("formatNumber");Rm("formatList");Rm("formatDisplayName");ZC("formatDate");ZC("formatTime");const AM=ps.createContext({selectedLanguage:"",setSelectedLanguage:()=>{}}),xM={manageYourProfileLoginScreenHeading:"Spravujte svoje jedlne preferencie",selectSignInMethod:"Vyberte spsob prihlsenia",signInWithSolid:"Solid",whatIsSolid:"o je to Solid?",signInDivider:"alebo",signInWithFacebook:"Facebook",signInWithGoogle:"Google",redirectToProvider:"Prejs na poskytovatea",welcomeToTheApplication:"Vitajte v editore vho ditneho profilu!",aboutTheApplication:"O aplikcii",sourceCode:"Zdrojov kd",createdBy:"Vytvoril",editProfile:"Upravi profil",importProfile:"Importova profil",downloadProfile:"Stiahnu profil",userManual:"Pouvatesk prruka",signOut:"Odhlsi sa",allergicTo:"Ste alergick na: ",diets:"Dity",onDiets:"Vae dity s: ",tastePreferencesHeading:"Preferencie chut",worldCuisines:"Obben svetov kuchyne",tasteOfDesserts:"Preferovan chu zkuskov",tasteSpiciness:"rove tipavosti",whatAreYouAllergicTo:"Na o mte alergiu?",nextStep:"al krok: ",saveProfile:"Uloi profil",whichDietsAreYouOn:"Ktor dity dodriavate?",showLessDietOptions:"Zobrazi menej monost",showMoreDietOptions:"Zobrazi viac monost",isYourDietNotListed:"Chba vaa dita v zozname?",searchForMoreDiets:"Hada alie dity...",specifyYourTastePreferences:"pecifikujte vae chuov preferencie",whichWorldCuisinesDoYouLike:"Ktor svetov kuchyne mte radi?",loadingData:"Natavam dta",searchForMoreWorldCuisines:"Hada alie svetov kuchyne...",whichTasteOfDessertsDoYouPrefer:"Ak zkusky mte radej?",doesNotMatter:"Nezle",sweet:"Sladk",savory:"Slan",yes:"no",no:"Nie",howSpicyShouldItBe:"Ako vemi pliv by malo by?",mild:"Jemne",medium:"Stredne",hot:"Vemi",selectASolidProvider:"Vyberte poskytovatea Solid",typeInProviderUrlHeading:"Alebo vlote poskytovateovu URL",providerUrlPlaceholder:"Zadajte URL poskytovatea",chooseSolidProvider:"Zvote Solid poskytovatea",goBack:"Sp",loginSolidErrorMessage:`Mon dvody s:
      1. Nie ste pripojen na internet.
      2. Zadan URL poskytovatea je nesprvna.
      3. Problm je na strane zvolenho Solid poskytovatea.
    `,emptyUrlAlert:"Vyberte poskytovatea alebo zadajte poskytovateovu URL.",solidDescription:`
    <b>Solid</b> vm umouje ma kontrolu nad tm kde s vae dta uloen a kto k nim m prstup. Na zaiatok si budete musie u poskytovatea Solid zaobstara vae WebID. Taktie sa mete prihlsi pod vam Google alebo Facebook tom, priom vae dta bud uloen na serveroch tchto poskytovateov. Solid mete zaa pouva aj neskr a vae dta si v rmci aplikcie prenies. Viac sa dozviete na <a>oficilnej strnke</a> projektu Solid.
  `,closeModal:"Zavrie",firebaseLoginErrorMessageFacebook:"Prihlsenie zlyhalo z dvodu chyby v prihlasovacej slube.",firebaseLoginErrorMessageGoogle:"Prihlsenie zlyhalo pretoe bu nemte prstup na internet alebo z dvodu chyby v prihlasovacej slube.",loginFailed:"Prihlsenie bolo nespen",aboutApplicationTitle:"O aplikcii",aboutApplicationBody:"<b>Editor ditneho profilu</b> sli pre ud ktor radi jedia v retaurcich a s obmedzovan alergiami alebo maj in jedlne preferencie. Aplikcia vm umouje uloi a spravova v ditny profil. Vnimon je v tom, e umouje poui technolgiu <b>Solid</b>, a tm pdom bud vae dta uloen decentralizovanm spsobom a budete ma kontrolu nad tm kto ich me vidie, o zaru vyiu mieru skromia.",emailAndPassword:"Email a heslo",loginWithEmail:"Prihlste sa pomocou emailu",password:"Heslo",signIn:"Prihlsi sa",newAccount:"Ak ste nov, je taktie mon",createAccount:"Vytvori et",createYourAccount:"Zalote si et",signUp:"Zaregistrova sa",provideValidEmail:"Zadajte platn emailov adresu",passwordMustContain:"Heslo mus obsahova",atLeastEightChars:"Aspo 8 znakov",lowerCaseLetter:"Mal psmeno",upperCaseLetter:"Vek psmeno",number:"slo",close:"Zatvori",signUpFailed:"Chyba pri vytvran tu",singUpDefaultErrorMessage:"et sa nepodarilo vytvori. Skontrolujte prosm vae internetov pripojenie a skste to znovu.",signUpEmailInUse:"Pre zadan emailov adresu u existuje et. Zvote prosm in adresu alebo sa prihlste.",emailOrPasswordInvalid:"Zadan email alebo heslo s nesprvne. Skontrolujte si prosm daje a skste to znovu.",loginCredentialsNotValid:"Buto je zadan email v nesprvnom formte alebo ste nezadali heslo. Skontrolujte prosm vae prihlasovacie daje a skste to znovu.",emailLoginErrorMessage:"Prihlsenie bolo nespen kvli nesprvnym prihlasovacm dajom.",profileOverviewHeading:"Vae jedlne preferencie",gluten:"Lepok",crustaceans:"Krovce",eggs:"Vajcia",fish:"Ryby",peanuts:"Araidy",soya:"Sja",milk:"Mlieko",nuts:"Orechy",celery:"Zeler",mustard:"Horica",sesame:"Sezam",sulphites:"Siriitany",lupin:"Vl bb",molluscs:"Mkke",dietPreferencesHeading:"Dity",whichDietsDoYouFollow:"Ktor dity dodriavate?",calorieTrackingGoal:"V prpade e si potate kalrie, ak je v denn prjem?",tastesAndFoodPreparation:"Preferencie chut",favoriteWorldCuisines:"Ak s vae obben svetov kuchyne?",foodIngredientsLikeOrDislike:"Ktor ingrediencie mte radi a ktor naopak nie?",doYouLikeSpicyFood:"Mte radi pliv jedl?",notSpecified:"Nepecifikovan",notAtAll:"Vbec",yesIDo:"no, mm",howSpicyShouldFoodBe:"Zvote rove ostrosti",whichCookingMethodsDoYouPrefer:"Ktor spsoby prpravy jedla uprednostujete?",dailyCalorieIntakeGoal:"V denn prjem kalri je: ",yourFavoriteCuisines:"Vae obben svetov kuchyne s: ",likedIngredients:"Obben ingrediencie: ",dislikedIngredients:"Neobben ingrediencie: ",howSpicyYouLikeYourFood:"Preferovan rove plivosti jedla: ",preferredCookingMethods:"Uprednostovan spsoby prpravy jedla",finish:"Uloi",allergenPreferencesHeading:"Alergny",deleteProfile:"Zmaza profil",searchMoreDiets:"Vyhadajte alie dity",next:"alej",vegetarianDiet:"Vegetarinstvo",mediterraneanDiet:"Stredomorsk strava",lowCarbDiet:"Nzkosacharidov dita",veganDiet:"Veganstvo",ketoDiet:"Ketognna dita",atkinsDiet:"Atkinsonova dita",paleoDiet:"Paleo dita",error:"Chyba",fetchingDietsFailed:"Natanie dit bolo nespen",italianCuisine:"Talianska",greekCuisine:"Grcka",mexicanCuisine:"Mexick",chineseCuisine:"nska",turkishCuisine:"Tureck",spanishCuisine:"panielska",japaneseCuisine:"Japonsk",frenchCuisine:"Franczska",searchMoreCuisines:"Vyhadajte alie svetov kuchyne",fetchingCuisinesFailed:"Natanie svetovch kuch bolo nespen",fetchingIngredientsFailed:"Natanie ingredienci bolo nespen",whatILike:"Mm rd",searchIngredients:"Vyhadajte ingrediencie",whatIDontLike:"Nemm rd",extraHot:"Extra",bakingMethod:"Peenie",grillingMethod:"Grilovanie",boilingMethod:"Varenie",deepFryingMethod:"Vypranie",steamingMethod:"Naparovanie",sauteingMethod:"Restovanie",fetchingCookingMethodsFailed:"Natanie spsobov prpravy jedla bolo nespen",searchMoreCookingMethods:"Vyhadajte spsoby prpravy",emptyProfileText:"Profil je przdny, kliknite na tlaidlo editcie profilu.",preferredCookingMethodsOverview:"Preferovan spsoby prpravy jedla: ",profileSavedSuccessfully:"Profil bol spene uloen",profileDeletion:"Zmazanie profilu",profileDeletionConfirm:"Naozaj chcete zmaza v ditny profil?",delete:"Zmaza",profileDeletionSuccessMessage:"Profil bol spene zmazan",profileDeletionNotFoundMessage:"Profil nebol njden",profileDeletionErrorMessage:"Profil sa nepodarilo zmaza",saveProfileModalTitle:"Uloenie profilu",profileSaveError:"Profil sa nepodarilo uloi",profileLoading:"Natanie profilu",loadingProfileError:"Natanie profilu sa skonilo chybou",editMenu:"Upravi",visible:"Viditen",scheduleMenu:"Rozvrh",addCategory:"Prida kategriu",currency:"Mena",shareMenu:"Zdiea",menuDescription:"Popis",addMenuItem:"Nov poloka",editMenuItem:"Upravi",cancel:"Zrui",save:"Uloi",addImage:"Prida obrzok",remove:"Odstrni",allergens:"Alergny",suitableForDiets:"Vhodn pre dity",ingredients:"Ingrediencie",servingSize:"Vekos porcie",calories:"Kalrie",nationalCuisines:"Nrodn kuchyne",cookingMethods:"Spsoby prpravy",spicinessLevel:"rove ostrosti",brandSettings:"Nastavenia",settings:"Nastavenia znaky",addLogo:"Prida logo",locations:"Poboky",addLocation:"Prida poboku",editLocation:"Upravi",locationAddress:"Adresa",openingHours:"Otvracie hodiny",switchLocation:"Vybra poboku",locationSettings:"Nastavenia poboiek",currentLocation:"Aktulna poboka",manageLocations:"Spravujte poboky",add:"Prida",edit:"Upravi",brandSettingsHeading:"Vlastnosti znaky"},RM=e=>{const[t,r]=te.useState("en"),i={selectedLanguage:t,setSelectedLanguage:r};function a(l){return l==="sk"?xM:{}}return ie.jsx(AM.Provider,{value:i,children:ie.jsx(EM,{messages:a(t),locale:t,children:e.children})})};var Gg={},NA;function CM(){if(NA)return Gg;NA=1,Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.parse=s,Gg.serialize=c;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function s(w,_){const T=new l,x=w.length;if(x<2)return T;const C=_?.decode||p;let E=0;do{const I=w.indexOf("=",E);if(I===-1)break;const O=w.indexOf(";",E),H=O===-1?x:O;if(I>H){E=w.lastIndexOf(";",I-1)+1;continue}const L=u(w,E,I),q=d(w,I,L),W=w.slice(L,q);if(T[W]===void 0){let $=u(w,I+1,H),Ae=d(w,H,$);const K=C(w.slice($,Ae));T[W]=K}E=H+1}while(E<x);return T}function u(w,_,T){do{const x=w.charCodeAt(_);if(x!==32&&x!==9)return _}while(++_<T);return T}function d(w,_,T){for(;_>T;){const x=w.charCodeAt(--_);if(x!==32&&x!==9)return _+1}return T}function c(w,_,T){const x=T?.encode||encodeURIComponent;if(!e.test(w))throw new TypeError(`argument name is invalid: ${w}`);const C=x(_);if(!t.test(C))throw new TypeError(`argument val is invalid: ${_}`);let E=w+"="+C;if(!T)return E;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);E+="; Max-Age="+T.maxAge}if(T.domain){if(!r.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);E+="; Domain="+T.domain}if(T.path){if(!i.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);E+="; Path="+T.path}if(T.expires){if(!g(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);E+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(E+="; HttpOnly"),T.secure&&(E+="; Secure"),T.partitioned&&(E+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return E}function p(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function g(w){return a.call(w)==="[object Date]"}return Gg}CM();var FA="popstate";function TM(e={}){function t(i,a){let{pathname:l,search:s,hash:u}=i.location;return Ow("",{pathname:l,search:s,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){return typeof a=="string"?a:lm(a)}return IM(t,r,null,e)}function Ai(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ys(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function OM(){return Math.random().toString(36).substring(2,10)}function DA(e,t){return{usr:e.state,key:e.key,idx:t}}function Ow(e,t,r=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?xh(t):t,state:r,key:t&&t.key||i||OM()}}function lm({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function IM(e,t,r,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,s=a.history,u="POP",d=null,c=p();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function p(){return(s.state||{idx:null}).idx}function g(){u="POP";let C=p(),E=C==null?null:C-c;c=C,d&&d({action:u,location:x.location,delta:E})}function w(C,E){u="PUSH";let I=Ow(x.location,C,E);c=p()+1;let O=DA(I,c),H=x.createHref(I);try{s.pushState(O,"",H)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;a.location.assign(H)}l&&d&&d({action:u,location:x.location,delta:1})}function _(C,E){u="REPLACE";let I=Ow(x.location,C,E);c=p();let O=DA(I,c),H=x.createHref(I);s.replaceState(O,"",H),l&&d&&d({action:u,location:x.location,delta:0})}function T(C){return PM(C)}let x={get action(){return u},get location(){return e(a,s)},listen(C){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(FA,g),d=C,()=>{a.removeEventListener(FA,g),d=null}},createHref(C){return t(a,C)},createURL:T,encodeLocation(C){let E=T(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:w,replace:_,go(C){return s.go(C)}};return x}function PM(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ai(r,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:lm(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function nT(e,t,r="/"){return NM(e,t,r,!1)}function NM(e,t,r,i){let a=typeof t=="string"?xh(t):t,l=ou(a.pathname||"/",r);if(l==null)return null;let s=rT(e);FM(s);let u=null;for(let d=0;u==null&&d<s.length;++d){let c=KM(l);u=VM(s[d],c,i)}return u}function rT(e,t=[],r=[],i=""){let a=(l,s,u)=>{let d={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:s,route:l};d.relativePath.startsWith("/")&&(Ai(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let c=eu([i,d.relativePath]),p=r.concat(d);l.children&&l.children.length>0&&(Ai(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),rT(l.children,t,p,c)),!(l.path==null&&!l.index)&&t.push({path:c,score:BM(c,l.index),routesMeta:p})};return e.forEach((l,s)=>{if(l.path===""||!l.path?.includes("?"))a(l,s);else for(let u of iT(l.path))a(l,s,u)}),t}function iT(e){let t=e.split("/");if(t.length===0)return[];let[r,...i]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let s=iT(i.join("/")),u=[];return u.push(...s.map(d=>d===""?l:[l,d].join("/"))),a&&u.push(...s),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function FM(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:HM(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var DM=/^:[\w-]+$/,MM=3,LM=2,UM=1,kM=10,jM=-2,MA=e=>e==="*";function BM(e,t){let r=e.split("/"),i=r.length;return r.some(MA)&&(i+=jM),t&&(i+=LM),r.filter(a=>!MA(a)).reduce((a,l)=>a+(DM.test(l)?MM:l===""?UM:kM),i)}function HM(e,t){return e.length===t.length&&e.slice(0,-1).every((i,a)=>i===t[a])?e[e.length-1]-t[t.length-1]:0}function VM(e,t,r=!1){let{routesMeta:i}=e,a={},l="/",s=[];for(let u=0;u<i.length;++u){let d=i[u],c=u===i.length-1,p=l==="/"?t:t.slice(l.length)||"/",g=pv({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},p),w=d.route;if(!g&&c&&r&&!i[i.length-1].route.index&&(g=pv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),s.push({params:a,pathname:eu([l,g.pathname]),pathnameBase:WM(eu([l,g.pathnameBase])),route:w}),g.pathnameBase!=="/"&&(l=eu([l,g.pathnameBase]))}return s}function pv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=$M(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],s=l.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:i.reduce((c,{paramName:p,isOptional:g},w)=>{if(p==="*"){let T=u[w]||"";s=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const _=u[w];return g&&!_?c[p]=void 0:c[p]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:l,pathnameBase:s,pattern:e}}function $M(e,t=!1,r=!0){ys(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,d)=>(i.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function KM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ys(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ou(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function GM(e,t="/"){let{pathname:r,search:i="",hash:a=""}=typeof e=="string"?xh(e):e;return{pathname:r?r.startsWith("/")?r:qM(r,t):t,search:JM(i),hash:YM(a)}}function qM(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Hb(e,t,r,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zM(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function O_(e){let t=zM(e);return t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase)}function I_(e,t,r,i=!1){let a;typeof e=="string"?a=xh(e):(a={...e},Ai(!a.pathname||!a.pathname.includes("?"),Hb("?","pathname","search",a)),Ai(!a.pathname||!a.pathname.includes("#"),Hb("#","pathname","hash",a)),Ai(!a.search||!a.search.includes("#"),Hb("#","search","hash",a)));let l=e===""||a.pathname==="",s=l?"/":a.pathname,u;if(s==null)u=r;else{let g=t.length-1;if(!i&&s.startsWith("..")){let w=s.split("/");for(;w[0]==="..";)w.shift(),g-=1;a.pathname=w.join("/")}u=g>=0?t[g]:"/"}let d=GM(a,u),c=s&&s!=="/"&&s.endsWith("/"),p=(l||s===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(c||p)&&(d.pathname+="/"),d}var eu=e=>e.join("/").replace(/\/\/+/g,"/"),WM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,YM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function QM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var aT=["POST","PUT","PATCH","DELETE"];new Set(aT);var XM=["GET",...aT];new Set(XM);var Rh=te.createContext(null);Rh.displayName="DataRouter";var Gv=te.createContext(null);Gv.displayName="DataRouterState";var oT=te.createContext({isTransitioning:!1});oT.displayName="ViewTransition";var ZM=te.createContext(new Map);ZM.displayName="Fetchers";var eL=te.createContext(null);eL.displayName="Await";var vs=te.createContext(null);vs.displayName="Navigation";var Cm=te.createContext(null);Cm.displayName="Location";var nl=te.createContext({outlet:null,matches:[],isDataRoute:!1});nl.displayName="Route";var P_=te.createContext(null);P_.displayName="RouteError";function tL(e,{relative:t}={}){Ai(Ch(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=te.useContext(vs),{hash:a,pathname:l,search:s}=Tm(e,{relative:t}),u=l;return r!=="/"&&(u=l==="/"?r:eu([r,l])),i.createHref({pathname:u,search:s,hash:a})}function Ch(){return te.useContext(Cm)!=null}function bc(){return Ai(Ch(),"useLocation() may be used only in the context of a <Router> component."),te.useContext(Cm).location}var sT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lT(e){te.useContext(vs).static||te.useLayoutEffect(e)}function uT(){let{isDataRoute:e}=te.useContext(nl);return e?pL():nL()}function nL(){Ai(Ch(),"useNavigate() may be used only in the context of a <Router> component.");let e=te.useContext(Rh),{basename:t,navigator:r}=te.useContext(vs),{matches:i}=te.useContext(nl),{pathname:a}=bc(),l=JSON.stringify(O_(i)),s=te.useRef(!1);return lT(()=>{s.current=!0}),te.useCallback((d,c={})=>{if(ys(s.current,sT),!s.current)return;if(typeof d=="number"){r.go(d);return}let p=I_(d,JSON.parse(l),a,c.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:eu([t,p.pathname])),(c.replace?r.replace:r.push)(p,c.state,c)},[t,r,l,a,e])}te.createContext(null);function Tm(e,{relative:t}={}){let{matches:r}=te.useContext(nl),{pathname:i}=bc(),a=JSON.stringify(O_(r));return te.useMemo(()=>I_(e,JSON.parse(a),i,t==="path"),[e,a,i,t])}function rL(e,t){return cT(e,t)}function cT(e,t,r,i){Ai(Ch(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=te.useContext(vs),{matches:l}=te.useContext(nl),s=l[l.length-1],u=s?s.params:{},d=s?s.pathname:"/",c=s?s.pathnameBase:"/",p=s&&s.route;{let E=p&&p.path||"";fT(d,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=bc(),w;if(t){let E=typeof t=="string"?xh(t):t;Ai(c==="/"||E.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${E.pathname}" was given in the \`location\` prop.`),w=E}else w=g;let _=w.pathname||"/",T=_;if(c!=="/"){let E=c.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=nT(e,{pathname:T});ys(p||x!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ys(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=lL(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:eu([c,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:eu([c,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),l,r,i);return t&&C?te.createElement(Cm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},C):C}function iL(){let e=hL(),t=QM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=te.createElement(te.Fragment,null,te.createElement("p",null," Hey developer "),te.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",te.createElement("code",{style:l},"ErrorBoundary")," or"," ",te.createElement("code",{style:l},"errorElement")," prop on your route.")),te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},t),r?te.createElement("pre",{style:a},r):null,s)}var aL=te.createElement(iL,null),oL=class extends te.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?te.createElement(nl.Provider,{value:this.props.routeContext},te.createElement(P_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sL({routeContext:e,match:t,children:r}){let i=te.useContext(Rh);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),te.createElement(nl.Provider,{value:e},r)}function lL(e,t=[],r=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=r?.errors;if(l!=null){let d=a.findIndex(c=>c.route.id&&l?.[c.route.id]!==void 0);Ai(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let s=!1,u=-1;if(r)for(let d=0;d<a.length;d++){let c=a[d];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=d),c.route.id){let{loaderData:p,errors:g}=r,w=c.route.loader&&!p.hasOwnProperty(c.route.id)&&(!g||g[c.route.id]===void 0);if(c.route.lazy||w){s=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,c,p)=>{let g,w=!1,_=null,T=null;r&&(g=l&&c.route.id?l[c.route.id]:void 0,_=c.route.errorElement||aL,s&&(u<0&&p===0?(fT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,T=null):u===p&&(w=!0,T=c.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,p+1)),C=()=>{let E;return g?E=_:w?E=T:c.route.Component?E=te.createElement(c.route.Component,null):c.route.element?E=c.route.element:E=d,te.createElement(sL,{match:c,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:E})};return r&&(c.route.ErrorBoundary||c.route.errorElement||p===0)?te.createElement(oL,{location:r.location,revalidation:r.revalidation,component:_,error:g,children:C(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):C()},null)}function N_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uL(e){let t=te.useContext(Rh);return Ai(t,N_(e)),t}function cL(e){let t=te.useContext(Gv);return Ai(t,N_(e)),t}function fL(e){let t=te.useContext(nl);return Ai(t,N_(e)),t}function F_(e){let t=fL(e),r=t.matches[t.matches.length-1];return Ai(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function dL(){return F_("useRouteId")}function hL(){let e=te.useContext(P_),t=cL("useRouteError"),r=F_("useRouteError");return e!==void 0?e:t.errors?.[r]}function pL(){let{router:e}=uL("useNavigate"),t=F_("useNavigate"),r=te.useRef(!1);return lT(()=>{r.current=!0}),te.useCallback(async(a,l={})=>{ys(r.current,sT),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var LA={};function fT(e,t,r){!t&&!LA[e]&&(LA[e]=!0,ys(!1,r))}te.memo(gL);function gL({routes:e,future:t,state:r}){return cT(e,void 0,r,t)}function mL({to:e,replace:t,state:r,relative:i}){Ai(Ch(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=te.useContext(vs);ys(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=te.useContext(nl),{pathname:s}=bc(),u=uT(),d=I_(e,O_(l),s,i==="path"),c=JSON.stringify(d);return te.useEffect(()=>{u(JSON.parse(c),{replace:t,state:r,relative:i})},[u,c,i,t,r]),null}function Zy(e){Ai(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yL({basename:e="/",children:t=null,location:r,navigationType:i="POP",navigator:a,static:l=!1}){Ai(!Ch(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),u=te.useMemo(()=>({basename:s,navigator:a,static:l,future:{}}),[s,a,l]);typeof r=="string"&&(r=xh(r));let{pathname:d="/",search:c="",hash:p="",state:g=null,key:w="default"}=r,_=te.useMemo(()=>{let T=ou(d,s);return T==null?null:{location:{pathname:T,search:c,hash:p,state:g,key:w},navigationType:i}},[s,d,c,p,g,w,i]);return ys(_!=null,`<Router basename="${s}"> is not able to match the URL "${d}${c}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:te.createElement(vs.Provider,{value:u},te.createElement(Cm.Provider,{children:t,value:_}))}function vL({children:e,location:t}){return rL(Iw(e),t)}function Iw(e,t=[]){let r=[];return te.Children.forEach(e,(i,a)=>{if(!te.isValidElement(i))return;let l=[...t,a];if(i.type===te.Fragment){r.push.apply(r,Iw(i.props.children,l));return}Ai(i.type===Zy,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ai(!i.props.index||!i.props.children,"An index route cannot have child routes.");let s={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=Iw(i.props.children,l)),r.push(s)}),r}var ev="get",tv="application/x-www-form-urlencoded";function qv(e){return e!=null&&typeof e.tagName=="string"}function bL(e){return qv(e)&&e.tagName.toLowerCase()==="button"}function wL(e){return qv(e)&&e.tagName.toLowerCase()==="form"}function _L(e){return qv(e)&&e.tagName.toLowerCase()==="input"}function SL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function EL(e,t){return e.button===0&&(!t||t==="_self")&&!SL(e)}var ky=null;function AL(){if(ky===null)try{new FormData(document.createElement("form"),0),ky=!1}catch{ky=!0}return ky}var xL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vb(e){return e!=null&&!xL.has(e)?(ys(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tv}"`),null):e}function RL(e,t){let r,i,a,l,s;if(wL(e)){let u=e.getAttribute("action");i=u?ou(u,t):null,r=e.getAttribute("method")||ev,a=Vb(e.getAttribute("enctype"))||tv,l=new FormData(e)}else if(bL(e)||_L(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(i=d?ou(d,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||ev,a=Vb(e.getAttribute("formenctype"))||Vb(u.getAttribute("enctype"))||tv,l=new FormData(u,e),!AL()){let{name:c,type:p,value:g}=e;if(p==="image"){let w=c?`${c}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else c&&l.append(c,g)}}else{if(qv(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ev,i=null,a=tv,s=e}return l&&a==="text/plain"&&(s=l,l=void 0),{action:i,method:r.toLowerCase(),encType:a,formData:l,body:s}}function D_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function CL(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TL(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function OL(e,t,r){let i=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let s=await CL(l,r);return s.links?s.links():[]}return[]}));return FL(i.flat(1).filter(TL).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function UA(e,t,r,i,a,l){let s=(d,c)=>r[c]?d.route.id!==r[c].route.id:!0,u=(d,c)=>r[c].pathname!==d.pathname||r[c].route.path?.endsWith("*")&&r[c].params["*"]!==d.params["*"];return l==="assets"?t.filter((d,c)=>s(d,c)||u(d,c)):l==="data"?t.filter((d,c)=>{let p=i.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(s(d,c)||u(d,c))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function IL(e,t,{includeHydrateFallback:r}={}){return PL(e.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function PL(e){return[...new Set(e)]}function NL(e){let t={},r=Object.keys(e).sort();for(let i of r)t[i]=e[i];return t}function FL(e,t){let r=new Set;return new Set(t),e.reduce((i,a)=>{let l=JSON.stringify(NL(a));return r.has(l)||(r.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DL=new Set([100,101,204,205]);function ML(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&ou(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function dT(){let e=te.useContext(Rh);return D_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function LL(){let e=te.useContext(Gv);return D_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var M_=te.createContext(void 0);M_.displayName="FrameworkContext";function hT(){let e=te.useContext(M_);return D_(e,"You must render this element inside a <HydratedRouter> element"),e}function UL(e,t){let r=te.useContext(M_),[i,a]=te.useState(!1),[l,s]=te.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:c,onMouseLeave:p,onTouchStart:g}=t,w=te.useRef(null);te.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let x=E=>{E.forEach(I=>{s(I.isIntersecting)})},C=new IntersectionObserver(x,{threshold:.5});return w.current&&C.observe(w.current),()=>{C.disconnect()}}},[e]),te.useEffect(()=>{if(i){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[i]);let _=()=>{a(!0)},T=()=>{a(!1),s(!1)};return r?e!=="intent"?[l,w,{}]:[l,w,{onFocus:qg(u,_),onBlur:qg(d,T),onMouseEnter:qg(c,_),onMouseLeave:qg(p,T),onTouchStart:qg(g,_)}]:[!1,w,{}]}function qg(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function kL({page:e,...t}){let{router:r}=dT(),i=te.useMemo(()=>nT(r.routes,e,r.basename),[r.routes,e,r.basename]);return i?te.createElement(BL,{page:e,matches:i,...t}):null}function jL(e){let{manifest:t,routeModules:r}=hT(),[i,a]=te.useState([]);return te.useEffect(()=>{let l=!1;return OL(e,t,r).then(s=>{l||a(s)}),()=>{l=!0}},[e,t,r]),i}function BL({page:e,matches:t,...r}){let i=bc(),{manifest:a,routeModules:l}=hT(),{basename:s}=dT(),{loaderData:u,matches:d}=LL(),c=te.useMemo(()=>UA(e,t,d,a,i,"data"),[e,t,d,a,i]),p=te.useMemo(()=>UA(e,t,d,a,i,"assets"),[e,t,d,a,i]),g=te.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let T=new Set,x=!1;if(t.forEach(E=>{let I=a.routes[E.route.id];!I||!I.hasLoader||(!c.some(O=>O.route.id===E.route.id)&&E.route.id in u&&l[E.route.id]?.shouldRevalidate||I.hasClientLoader?x=!0:T.add(E.route.id))}),T.size===0)return[];let C=ML(e,s);return x&&T.size>0&&C.searchParams.set("_routes",t.filter(E=>T.has(E.route.id)).map(E=>E.route.id).join(",")),[C.pathname+C.search]},[s,u,i,a,c,t,e,l]),w=te.useMemo(()=>IL(p,a),[p,a]),_=jL(p);return te.createElement(te.Fragment,null,g.map(T=>te.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...r})),w.map(T=>te.createElement("link",{key:T,rel:"modulepreload",href:T,...r})),_.map(({key:T,link:x})=>te.createElement("link",{key:T,...x})))}function HL(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var pT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pT&&(window.__reactRouterVersion="7.6.3")}catch{}function VL({basename:e,children:t,window:r}){let i=te.useRef();i.current==null&&(i.current=TM({window:r,v5Compat:!0}));let a=i.current,[l,s]=te.useState({action:a.action,location:a.location}),u=te.useCallback(d=>{te.startTransition(()=>s(d))},[s]);return te.useLayoutEffect(()=>a.listen(u),[a,u]),te.createElement(yL,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var gT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mT=te.forwardRef(function({onClick:t,discover:r="render",prefetch:i="none",relative:a,reloadDocument:l,replace:s,state:u,target:d,to:c,preventScrollReset:p,viewTransition:g,...w},_){let{basename:T}=te.useContext(vs),x=typeof c=="string"&&gT.test(c),C,E=!1;if(typeof c=="string"&&x&&(C=c,pT))try{let Ae=new URL(window.location.href),K=c.startsWith("//")?new URL(Ae.protocol+c):new URL(c),ae=ou(K.pathname,T);K.origin===Ae.origin&&ae!=null?c=ae+K.search+K.hash:E=!0}catch{ys(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=tL(c,{relative:a}),[O,H,L]=UL(i,w),q=qL(c,{replace:s,state:u,target:d,preventScrollReset:p,relative:a,viewTransition:g});function W(Ae){t&&t(Ae),Ae.defaultPrevented||q(Ae)}let $=te.createElement("a",{...w,...L,href:C||I,onClick:E||l?t:W,ref:HL(_,H),target:d,"data-discover":!x&&r==="render"?"true":void 0});return O&&!x?te.createElement(te.Fragment,null,$,te.createElement(kL,{page:I})):$});mT.displayName="Link";var $L=te.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:i="",end:a=!1,style:l,to:s,viewTransition:u,children:d,...c},p){let g=Tm(s,{relative:c.relative}),w=bc(),_=te.useContext(Gv),{navigator:T,basename:x}=te.useContext(vs),C=_!=null&&QL(g)&&u===!0,E=T.encodeLocation?T.encodeLocation(g).pathname:g.pathname,I=w.pathname,O=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(I=I.toLowerCase(),O=O?O.toLowerCase():null,E=E.toLowerCase()),O&&x&&(O=ou(O,x)||O);const H=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let L=I===E||!a&&I.startsWith(E)&&I.charAt(H)==="/",q=O!=null&&(O===E||!a&&O.startsWith(E)&&O.charAt(E.length)==="/"),W={isActive:L,isPending:q,isTransitioning:C},$=L?t:void 0,Ae;typeof i=="function"?Ae=i(W):Ae=[i,L?"active":null,q?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let K=typeof l=="function"?l(W):l;return te.createElement(mT,{...c,"aria-current":$,className:Ae,ref:p,style:K,to:s,viewTransition:u},typeof d=="function"?d(W):d)});$L.displayName="NavLink";var KL=te.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:i,replace:a,state:l,method:s=ev,action:u,onSubmit:d,relative:c,preventScrollReset:p,viewTransition:g,...w},_)=>{let T=JL(),x=YL(u,{relative:c}),C=s.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&gT.test(u),I=O=>{if(d&&d(O),O.defaultPrevented)return;O.preventDefault();let H=O.nativeEvent.submitter,L=H?.getAttribute("formmethod")||s;T(H||O.currentTarget,{fetcherKey:t,method:L,navigate:r,replace:a,state:l,relative:c,preventScrollReset:p,viewTransition:g})};return te.createElement("form",{ref:_,method:C,action:x,onSubmit:i?d:I,...w,"data-discover":!E&&e==="render"?"true":void 0})});KL.displayName="Form";function GL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yT(e){let t=te.useContext(Rh);return Ai(t,GL(e)),t}function qL(e,{target:t,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:s}={}){let u=uT(),d=bc(),c=Tm(e,{relative:l});return te.useCallback(p=>{if(EL(p,t)){p.preventDefault();let g=r!==void 0?r:lm(d)===lm(c);u(e,{replace:g,state:i,preventScrollReset:a,relative:l,viewTransition:s})}},[d,u,c,r,i,t,e,a,l,s])}var zL=0,WL=()=>`__${String(++zL)}__`;function JL(){let{router:e}=yT("useSubmit"),{basename:t}=te.useContext(vs),r=dL();return te.useCallback(async(i,a={})=>{let{action:l,method:s,encType:u,formData:d,body:c}=RL(i,t);if(a.navigate===!1){let p=a.fetcherKey||WL();await e.fetch(p,r,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:c,formMethod:a.method||s,formEncType:a.encType||u,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:c,formMethod:a.method||s,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function YL(e,{relative:t}={}){let{basename:r}=te.useContext(vs),i=te.useContext(nl);Ai(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Tm(e||".",{relative:t})},s=bc();if(e==null){l.search=s.search;let u=new URLSearchParams(l.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();l.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:eu([r,l.pathname])),lm(l)}function QL(e,t={}){let r=te.useContext(oT);Ai(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=yT("useViewTransitionState"),a=Tm(e,{relative:t.relative});if(!r.isTransitioning)return!1;let l=ou(r.currentLocation.pathname,i)||r.currentLocation.pathname,s=ou(r.nextLocation.pathname,i)||r.nextLocation.pathname;return pv(a.pathname,s)!=null||pv(a.pathname,l)!=null}[...DL];var Om=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zf=typeof window>"u"||"Deno"in globalThis;function io(){}function XL(e,t){return typeof e=="function"?e(t):e}function Pw(e){return typeof e=="number"&&e>=0&&e!==1/0}function vT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function pc(e,t){return typeof e=="function"?e(t):e}function Wo(e,t){return typeof e=="function"?e(t):e}function kA(e,t){const{type:r="all",exact:i,fetchStatus:a,predicate:l,queryKey:s,stale:u}=e;if(s){if(i){if(t.queryHash!==L_(s,t.options))return!1}else if(!cm(t.queryKey,s))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||a&&a!==t.state.fetchStatus||l&&!l(t))}function jA(e,t){const{exact:r,status:i,predicate:a,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(r){if(um(t.options.mutationKey)!==um(l))return!1}else if(!cm(t.options.mutationKey,l))return!1}return!(i&&t.state.status!==i||a&&!a(t))}function L_(e,t){return(t?.queryKeyHashFn||um)(e)}function um(e){return JSON.stringify(e,(t,r)=>Fw(r)?Object.keys(r).sort().reduce((i,a)=>(i[a]=r[a],i),{}):r)}function cm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>cm(e[r],t[r])):!1}function bT(e,t){if(e===t)return e;const r=BA(e)&&BA(t);if(r||Fw(e)&&Fw(t)){const i=r?e:Object.keys(e),a=i.length,l=r?t:Object.keys(t),s=l.length,u=r?[]:{},d=new Set(i);let c=0;for(let p=0;p<s;p++){const g=r?p:l[p];(!r&&d.has(g)||r)&&e[g]===void 0&&t[g]===void 0?(u[g]=void 0,c++):(u[g]=bT(e[g],t[g]),u[g]===e[g]&&e[g]!==void 0&&c++)}return a===s&&c===a?e:u}return t}function Nw(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function BA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Fw(e){if(!HA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!HA(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function HA(e){return Object.prototype.toString.call(e)==="[object Object]"}function ZL(e){return new Promise(t=>{setTimeout(t,e)})}function Dw(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?bT(e,t):t}function eU(e,t,r=0){const i=[...e,t];return r&&i.length>r?i.slice(1):i}function tU(e,t,r=0){const i=[t,...e];return r&&i.length>r?i.slice(0,-1):i}var U_=Symbol();function wT(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===U_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function nU(e,t){return typeof e=="function"?e(...t):!!e}var rU=class extends Om{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!zf&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},k_=new rU,iU=class extends Om{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!zf&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},gv=new iU;function Mw(){let e,t;const r=new Promise((a,l)=>{e=a,t=l});r.status="pending",r.catch(()=>{});function i(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{i({status:"fulfilled",value:a}),e(a)},r.reject=a=>{i({status:"rejected",reason:a}),t(a)},r}function aU(e){return Math.min(1e3*2**e,3e4)}function _T(e){return(e??"online")==="online"?gv.isOnline():!0}var ST=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function $b(e){return e instanceof ST}function ET(e){let t=!1,r=0,i=!1,a;const l=Mw(),s=x=>{i||(w(new ST(x)),e.abort?.())},u=()=>{t=!0},d=()=>{t=!1},c=()=>k_.isFocused()&&(e.networkMode==="always"||gv.isOnline())&&e.canRun(),p=()=>_T(e.networkMode)&&e.canRun(),g=x=>{i||(i=!0,e.onSuccess?.(x),a?.(),l.resolve(x))},w=x=>{i||(i=!0,e.onError?.(x),a?.(),l.reject(x))},_=()=>new Promise(x=>{a=C=>{(i||c())&&x(C)},e.onPause?.()}).then(()=>{a=void 0,i||e.onContinue?.()}),T=()=>{if(i)return;let x;const C=r===0?e.initialPromise:void 0;try{x=C??e.fn()}catch(E){x=Promise.reject(E)}Promise.resolve(x).then(g).catch(E=>{if(i)return;const I=e.retry??(zf?0:3),O=e.retryDelay??aU,H=typeof O=="function"?O(r,E):O,L=I===!0||typeof I=="number"&&r<I||typeof I=="function"&&I(r,E);if(t||!L){w(E);return}r++,e.onFail?.(r,E),ZL(H).then(()=>c()?void 0:_()).then(()=>{t?w(E):T()})})};return{promise:l,cancel:s,continue:()=>(a?.(),l),cancelRetry:u,continueRetry:d,canStart:p,start:()=>(p()?T():_().then(T),l)}}var oU=e=>setTimeout(e,0);function sU(){let e=[],t=0,r=u=>{u()},i=u=>{u()},a=oU;const l=u=>{t?e.push(u):a(()=>{r(u)})},s=()=>{const u=e;e=[],u.length&&a(()=>{i(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||s()}return d},batchCalls:u=>(...d)=>{l(()=>{u(...d)})},schedule:l,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{i=u},setScheduler:u=>{a=u}}}var da=sU(),AT=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pw(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(zf?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},lU=class extends AT{#t;#e;#n;#r;#i;#s;#o;constructor(e){super(),this.#o=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=uU(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=Dw(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(io).catch(io):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>Wo(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===U_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>pc(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!vT(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(c=>c.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},a=()=>{const d=wT(this.options,t),p=(()=>{const g={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(g),g})();return this.#o=!1,this.options.persister?this.options.persister(d,p,this):d(p)},s=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:a};return i(d),d})();this.options.behavior?.onFetch(s,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#a({type:"fetch",meta:s.fetchOptions?.meta});const u=d=>{$b(d)&&d.silent||this.#a({type:"error",error:d}),$b(d)||(this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#i=ET({initialPromise:t?.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{if(d===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(c){u(c);return}this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:u,onFail:(d,c)=>{this.#a({type:"failed",failureCount:d,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#i.start()}#a(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...xT(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return $b(i)&&i.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),da.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function xT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_T(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function uU(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,i=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var cU=class extends Om{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const i=t.queryKey,a=t.queryHash??L_(i,t);let l=this.get(a);return l||(l=new lU({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(l)),l}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){da.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>kA(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>kA(e,r)):t}notify(e){da.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){da.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){da.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},fU=class extends AT{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||dU(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=ET({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,l)=>{this.#r({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",i=!this.#n.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:i}),await this.#e.config.onMutate?.(e,this);const l=await this.options.onMutate?.(e);l!==this.state.context&&this.#r({type:"pending",context:l,variables:e,isPaused:i})}const a=await this.#n.start();return await this.#e.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#e.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#r({type:"success",data:a}),a}catch(a){try{throw await this.#e.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#e.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#r({type:"error",error:a})}}finally{this.#e.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),da.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function dU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var hU=class extends Om{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,r){const i=new fU({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){this.#t.add(e);const t=jy(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=jy(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=jy(e);if(typeof t=="string"){const i=this.#e.get(t)?.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){const t=jy(e);return typeof t=="string"?this.#e.get(t)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){da.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>jA(t,r))}findAll(e={}){return this.getAll().filter(t=>jA(e,t))}notify(e){da.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return da.batch(()=>Promise.all(e.map(t=>t.continue().catch(io))))}};function jy(e){return e.options.scope?.id}function VA(e){return{onFetch:(t,r)=>{const i=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let u={pages:[],pageParams:[]},d=0;const c=async()=>{let p=!1;const g=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},w=wT(t.options,t.fetchOptions),_=async(T,x,C)=>{if(p)return Promise.reject();if(x==null&&T.pages.length)return Promise.resolve(T);const I=(()=>{const q={client:t.client,queryKey:t.queryKey,pageParam:x,direction:C?"backward":"forward",meta:t.options.meta};return g(q),q})(),O=await w(I),{maxPages:H}=t.options,L=C?tU:eU;return{pages:L(T.pages,O,H),pageParams:L(T.pageParams,x,H)}};if(a&&l.length){const T=a==="backward",x=T?pU:$A,C={pages:l,pageParams:s},E=x(i,C);u=await _(C,E,T)}else{const T=e??l.length;do{const x=d===0?s[0]??i.initialPageParam:$A(i,u);if(d>0&&x==null)break;u=await _(u,x),d++}while(d<T)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function $A(e,{pages:t,pageParams:r}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,r[i],r):void 0}function pU(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var gU=class{#t;#e;#n;#r;#i;#s;#o;#a;constructor(e={}){this.#t=e.queryCache||new cU,this.#e=e.mutationCache||new hU,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=k_.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=gv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),i=r.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(pc(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const i=r.data;return[t,i]})}setQueryData(e,t,r){const i=this.defaultQueryOptions({queryKey:e}),l=this.#t.get(i.queryHash)?.state.data,s=XL(t,l);if(s!==void 0)return this.#t.build(this,i).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return da.batch(()=>this.#t.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;da.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return da.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},i=da.batch(()=>this.#t.findAll(e).map(a=>a.cancel(r)));return Promise.all(i).then(io).catch(io)}invalidateQueries(e,t={}){return da.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},i=da.batch(()=>this.#t.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,r);return r.throwOnError||(l=l.catch(io)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(io)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(pc(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(io).catch(io)}fetchInfiniteQuery(e){return e.behavior=VA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(io).catch(io)}ensureInfiniteQueryData(e){return e.behavior=VA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return gv.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(um(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],r={};return t.forEach(i=>{cm(e,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(e,t){this.#i.set(um(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],r={};return t.forEach(i=>{cm(e,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=L_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===U_&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},mU=class extends Om{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#o=Mw(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#s;#o;#a;#g;#d;#h;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),KA(this.#e,this.options)?this.#f():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Lw(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Lw(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#_(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Wo(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#e.setOptions(this.options),t._defaulted&&!Nw(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const i=this.hasListeners();i&&GA(this.#e,r,this.options,t)&&this.#f(),this.updateResult(),i&&(this.#e!==r||Wo(this.options.enabled,this.#e)!==Wo(t.enabled,this.#e)||pc(this.options.staleTime,this.#e)!==pc(t.staleTime,this.#e))&&this.#m();const a=this.#y();i&&(this.#e!==r||Wo(this.options.enabled,this.#e)!==Wo(t.enabled,this.#e)||a!==this.#l)&&this.#v(a)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return vU(this,r)&&(this.#r=r,this.#s=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),t?.(i),Reflect.get(r,i))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#f(e){this.#S();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(io)),t}#m(){this.#w();const e=pc(this.options.staleTime,this.#e);if(zf||this.#r.isStale||!Pw(e))return;const r=vT(this.#r.dataUpdatedAt,e)+1;this.#u=setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#_(),this.#l=e,!(zf||Wo(this.options.enabled,this.#e)===!1||!Pw(this.#l)||this.#l===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||k_.isFocused())&&this.#f()},this.#l))}#b(){this.#m(),this.#v(this.#y())}#w(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#_(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const r=this.#e,i=this.options,a=this.#r,l=this.#i,s=this.#s,d=e!==r?e.state:this.#n,{state:c}=e;let p={...c},g=!1,w;if(t._optimisticResults){const $=this.hasListeners(),Ae=!$&&KA(e,t),K=$&&GA(e,r,t,i);(Ae||K)&&(p={...p,...xT(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:_,errorUpdatedAt:T,status:x}=p;w=p.data;let C=!1;if(t.placeholderData!==void 0&&w===void 0&&x==="pending"){let $;a?.isPlaceholderData&&t.placeholderData===s?.placeholderData?($=a.data,C=!0):$=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,$!==void 0&&(x="success",w=Dw(a?.data,$,t),g=!0)}if(t.select&&w!==void 0&&!C)if(a&&w===l?.data&&t.select===this.#g)w=this.#d;else try{this.#g=t.select,w=t.select(w),w=Dw(a?.data,w,t),this.#d=w,this.#a=null}catch($){this.#a=$}this.#a&&(_=this.#a,w=this.#d,T=Date.now(),x="error");const E=p.fetchStatus==="fetching",I=x==="pending",O=x==="error",H=I&&E,L=w!==void 0,W={status:x,fetchStatus:p.fetchStatus,isPending:I,isSuccess:x==="success",isError:O,isInitialLoading:H,isLoading:H,data:w,dataUpdatedAt:p.dataUpdatedAt,error:_,errorUpdatedAt:T,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:E,isRefetching:E&&!I,isLoadingError:O&&!L,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:O&&L,isStale:j_(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Wo(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const $=ae=>{W.status==="error"?ae.reject(W.error):W.data!==void 0&&ae.resolve(W.data)},Ae=()=>{const ae=this.#o=W.promise=Mw();$(ae)},K=this.#o;switch(K.status){case"pending":e.queryHash===r.queryHash&&$(K);break;case"fulfilled":(W.status==="error"||W.data!==K.value)&&Ae();break;case"rejected":(W.status!=="error"||W.error!==K.reason)&&Ae();break}}return W}updateResult(){const e=this.#r,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#s=this.options,this.#i.data!==void 0&&(this.#h=this.#e),Nw(t,e))return;this.#r=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!this.#p.size)return!0;const l=new Set(a??this.#p);return this.options.throwOnError&&l.add("error"),Object.keys(this.#r).some(s=>{const u=s;return this.#r[u]!==e[u]&&l.has(u)})};this.#E({listeners:r()})}#S(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#E(e){da.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function yU(e,t){return Wo(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function KA(e,t){return yU(e,t)||e.state.data!==void 0&&Lw(e,t,t.refetchOnMount)}function Lw(e,t,r){if(Wo(t.enabled,e)!==!1&&pc(t.staleTime,e)!=="static"){const i=typeof r=="function"?r(e):r;return i==="always"||i!==!1&&j_(e,t)}return!1}function GA(e,t,r,i){return(e!==t||Wo(i.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&j_(e,r)}function j_(e,t){return Wo(t.enabled,e)!==!1&&e.isStaleByTime(pc(t.staleTime,e))}function vU(e,t){return!Nw(e.getCurrentResult(),t)}var RT=te.createContext(void 0),bU=e=>{const t=te.useContext(RT);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},wU=({client:e,children:t})=>(te.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),ie.jsx(RT.Provider,{value:e,children:t})),CT=te.createContext(!1),_U=()=>te.useContext(CT);CT.Provider;function SU(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var EU=te.createContext(SU()),AU=()=>te.useContext(EU),xU=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},RU=e=>{te.useEffect(()=>{e.clearReset()},[e])},CU=({result:e,errorResetBoundary:t,throwOnError:r,query:i,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(a&&e.data===void 0||nU(r,[e.error,i])),TU=e=>{if(e.suspense){const t=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>t(r(...i)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},OU=(e,t)=>e.isLoading&&e.isFetching&&!t,IU=(e,t)=>e?.suspense&&t.isPending,qA=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function PU(e,t,r){const i=_U(),a=AU(),l=bU(),s=l.defaultQueryOptions(e);l.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=i?"isRestoring":"optimistic",TU(s),xU(s,a),RU(a);const u=!l.getQueryCache().get(s.queryHash),[d]=te.useState(()=>new t(l,s)),c=d.getOptimisticResult(s),p=!i&&e.subscribed!==!1;if(te.useSyncExternalStore(te.useCallback(g=>{const w=p?d.subscribe(da.batchCalls(g)):io;return d.updateResult(),w},[d,p]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),te.useEffect(()=>{d.setOptions(s)},[s,d]),IU(s,c))throw qA(s,d,a);if(CU({result:c,errorResetBoundary:a,throwOnError:s.throwOnError,query:l.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw c.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(s,c),s.experimental_prefetchInRender&&!zf&&OU(c,i)&&(u?qA(s,d,a):l.getQueryCache().get(s.queryHash)?.promise)?.catch(io).finally(()=>{d.updateResult()}),s.notifyOnChangeProps?c:d.trackResult(c)}function NU(e,t){return PU(e,mU)}var Kb={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var zA;function FU(){return zA||(zA=1,function(e){(function(){var t={}.hasOwnProperty;function r(){for(var l="",s=0;s<arguments.length;s++){var u=arguments[s];u&&(l=a(l,i(u)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return r.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var s="";for(var u in l)t.call(l,u)&&l[u]&&(s=a(s,u));return s}function a(l,s){return s?l?l+" "+s:l+s:l}e.exports?(r.default=r,e.exports=r):window.classNames=r})()}(Kb)),Kb.exports}var DU=FU();const Jn=Tv(DU),TT=["xxl","xl","lg","md","sm","xs"],OT="xs",Im=te.createContext({prefixes:{},breakpoints:TT,minBreakpoint:OT}),{Consumer:I4,Provider:P4}=Im;function mr(e,t){const{prefixes:r}=te.useContext(Im);return e||r[t]||t}function B_(){const{breakpoints:e}=te.useContext(Im);return e}function H_(){const{minBreakpoint:e}=te.useContext(Im);return e}function MU(){const{dir:e}=te.useContext(Im);return e==="rtl"}const V_=te.forwardRef(({className:e,bsPrefix:t,as:r="div",...i},a)=>(t=mr(t,"card-body"),ie.jsx(r,{ref:a,className:Jn(e,t),...i})));V_.displayName="CardBody";const IT=te.forwardRef(({className:e,bsPrefix:t,as:r="div",...i},a)=>(t=mr(t,"card-footer"),ie.jsx(r,{ref:a,className:Jn(e,t),...i})));IT.displayName="CardFooter";const PT=te.createContext(null);PT.displayName="CardHeaderContext";const NT=te.forwardRef(({bsPrefix:e,className:t,as:r="div",...i},a)=>{const l=mr(e,"card-header"),s=te.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return ie.jsx(PT.Provider,{value:s,children:ie.jsx(r,{ref:a,...i,className:Jn(t,l)})})});NT.displayName="CardHeader";const FT=te.forwardRef(({bsPrefix:e,className:t,variant:r,as:i="img",...a},l)=>{const s=mr(e,"card-img");return ie.jsx(i,{ref:l,className:Jn(r?`${s}-${r}`:s,t),...a})});FT.displayName="CardImg";const DT=te.forwardRef(({className:e,bsPrefix:t,as:r="div",...i},a)=>(t=mr(t,"card-img-overlay"),ie.jsx(r,{ref:a,className:Jn(e,t),...i})));DT.displayName="CardImgOverlay";const MT=te.forwardRef(({className:e,bsPrefix:t,as:r="a",...i},a)=>(t=mr(t,"card-link"),ie.jsx(r,{ref:a,className:Jn(e,t),...i})));MT.displayName="CardLink";const zv=e=>te.forwardRef((t,r)=>ie.jsx("div",{...t,ref:r,className:Jn(t.className,e)})),LU=zv("h6"),LT=te.forwardRef(({className:e,bsPrefix:t,as:r=LU,...i},a)=>(t=mr(t,"card-subtitle"),ie.jsx(r,{ref:a,className:Jn(e,t),...i})));LT.displayName="CardSubtitle";const UT=te.forwardRef(({className:e,bsPrefix:t,as:r="p",...i},a)=>(t=mr(t,"card-text"),ie.jsx(r,{ref:a,className:Jn(e,t),...i})));UT.displayName="CardText";const UU=zv("h5"),kT=te.forwardRef(({className:e,bsPrefix:t,as:r=UU,...i},a)=>(t=mr(t,"card-title"),ie.jsx(r,{ref:a,className:Jn(e,t),...i})));kT.displayName="CardTitle";const jT=te.forwardRef(({bsPrefix:e,className:t,bg:r,text:i,border:a,body:l=!1,children:s,as:u="div",...d},c)=>{const p=mr(e,"card");return ie.jsx(u,{ref:c,...d,className:Jn(t,p,r&&`bg-${r}`,i&&`text-${i}`,a&&`border-${a}`),children:l?ie.jsx(V_,{children:s}):s})});jT.displayName="Card";const fm=Object.assign(jT,{Img:FT,Title:kT,Subtitle:LT,Body:V_,Link:MT,Text:UT,Header:NT,Footer:IT,ImgOverlay:DT});var Gb={exports:{}},qb,WA;function kU(){if(WA)return qb;WA=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qb=e,qb}var zb,JA;function jU(){if(JA)return zb;JA=1;var e=kU();function t(){}function r(){}return r.resetWarningCache=t,zb=function(){function i(s,u,d,c,p,g){if(g!==e){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return l.PropTypes=l,l},zb}var YA;function BU(){return YA||(YA=1,Gb.exports=jU()()),Gb.exports}var HU=BU();const tu=Tv(HU);function VU(e,t=TT,r=OT){const i=[];return Object.entries(e).forEach(([a,l])=>{l!=null&&(typeof l=="object"?t.forEach(s=>{const u=l[s];if(u!=null){const d=s!==r?`-${s}`:"";i.push(`${a}${d}-${u}`)}}):i.push(`${a}-${l}`))}),i}const Ro=te.forwardRef(({as:e="div",bsPrefix:t,className:r,direction:i,gap:a,...l},s)=>{t=mr(t,i==="horizontal"?"hstack":"vstack");const u=B_(),d=H_();return ie.jsx(e,{...l,ref:s,className:Jn(r,t,...VU({gap:a},u,d))})});Ro.displayName="Stack";const $U={type:tu.string,tooltip:tu.bool,as:tu.elementType},Wv=te.forwardRef(({as:e="div",className:t,type:r="valid",tooltip:i=!1,...a},l)=>ie.jsx(e,{...a,ref:l,className:Jn(t,`${r}-${i?"tooltip":"feedback"}`)}));Wv.displayName="Feedback";Wv.propTypes=$U;const su=te.createContext({}),$_=te.forwardRef(({id:e,bsPrefix:t,className:r,type:i="checkbox",isValid:a=!1,isInvalid:l=!1,as:s="input",...u},d)=>{const{controlId:c}=te.useContext(su);return t=mr(t,"form-check-input"),ie.jsx(s,{...u,ref:d,type:i,id:e||c,className:Jn(r,t,a&&"is-valid",l&&"is-invalid")})});$_.displayName="FormCheckInput";const mv=te.forwardRef(({bsPrefix:e,className:t,htmlFor:r,...i},a)=>{const{controlId:l}=te.useContext(su);return e=mr(e,"form-check-label"),ie.jsx("label",{...i,ref:a,htmlFor:r||l,className:Jn(t,e)})});mv.displayName="FormCheckLabel";function KU(e,t){return te.Children.toArray(e).some(r=>te.isValidElement(r)&&r.type===t)}const BT=te.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:r,inline:i=!1,reverse:a=!1,disabled:l=!1,isValid:s=!1,isInvalid:u=!1,feedbackTooltip:d=!1,feedback:c,feedbackType:p,className:g,style:w,title:_="",type:T="checkbox",label:x,children:C,as:E="input",...I},O)=>{t=mr(t,"form-check"),r=mr(r,"form-switch");const{controlId:H}=te.useContext(su),L=te.useMemo(()=>({controlId:e||H}),[H,e]),q=!C&&x!=null&&x!==!1||KU(C,mv),W=ie.jsx($_,{...I,type:T==="switch"?"checkbox":T,ref:O,isValid:s,isInvalid:u,disabled:l,as:E});return ie.jsx(su.Provider,{value:L,children:ie.jsx("div",{style:w,className:Jn(g,q&&t,i&&`${t}-inline`,a&&`${t}-reverse`,T==="switch"&&r),children:C||ie.jsxs(ie.Fragment,{children:[W,q&&ie.jsx(mv,{title:_,children:x}),c&&ie.jsx(Wv,{type:p,tooltip:d,children:c})]})})})});BT.displayName="FormCheck";const yv=Object.assign(BT,{Input:$_,Label:mv}),HT=te.forwardRef(({bsPrefix:e,type:t,size:r,htmlSize:i,id:a,className:l,isValid:s=!1,isInvalid:u=!1,plaintext:d,readOnly:c,as:p="input",...g},w)=>{const{controlId:_}=te.useContext(su);return e=mr(e,"form-control"),ie.jsx(p,{...g,type:t,size:i,ref:w,readOnly:c,id:a||_,className:Jn(l,d?`${e}-plaintext`:e,r&&`${e}-${r}`,t==="color"&&`${e}-color`,s&&"is-valid",u&&"is-invalid")})});HT.displayName="FormControl";const GU=Object.assign(HT,{Feedback:Wv}),VT=te.forwardRef(({className:e,bsPrefix:t,as:r="div",...i},a)=>(t=mr(t,"form-floating"),ie.jsx(r,{ref:a,className:Jn(e,t),...i})));VT.displayName="FormFloating";const K_=te.forwardRef(({controlId:e,as:t="div",...r},i)=>{const a=te.useMemo(()=>({controlId:e}),[e]);return ie.jsx(su.Provider,{value:a,children:ie.jsx(t,{...r,ref:i})})});K_.displayName="FormGroup";function qU({as:e,bsPrefix:t,className:r,...i}){t=mr(t,"col");const a=B_(),l=H_(),s=[],u=[];return a.forEach(d=>{const c=i[d];delete i[d];let p,g,w;typeof c=="object"&&c!=null?{span:p,offset:g,order:w}=c:p=c;const _=d!==l?`-${d}`:"";p&&s.push(p===!0?`${t}${_}`:`${t}${_}-${p}`),w!=null&&u.push(`order${_}-${w}`),g!=null&&u.push(`offset${_}-${g}`)}),[{...i,className:Jn(r,...s,...u)},{as:e,bsPrefix:t,spans:s}]}const Fn=te.forwardRef((e,t)=>{const[{className:r,...i},{as:a="div",bsPrefix:l,spans:s}]=qU(e);return ie.jsx(a,{...i,ref:t,className:Jn(r,!s.length&&l)})});Fn.displayName="Col";const $T=te.forwardRef(({as:e="label",bsPrefix:t,column:r=!1,visuallyHidden:i=!1,className:a,htmlFor:l,...s},u)=>{const{controlId:d}=te.useContext(su);t=mr(t,"form-label");let c="col-form-label";typeof r=="string"&&(c=`${c} ${c}-${r}`);const p=Jn(a,t,i&&"visually-hidden",r&&c);return l=l||d,r?ie.jsx(Fn,{ref:u,as:"label",className:p,htmlFor:l,...s}):ie.jsx(e,{ref:u,className:p,htmlFor:l,...s})});$T.displayName="FormLabel";const KT=te.forwardRef(({bsPrefix:e,className:t,id:r,...i},a)=>{const{controlId:l}=te.useContext(su);return e=mr(e,"form-range"),ie.jsx("input",{...i,type:"range",ref:a,className:Jn(t,e),id:r||l})});KT.displayName="FormRange";const GT=te.forwardRef(({bsPrefix:e,size:t,htmlSize:r,className:i,isValid:a=!1,isInvalid:l=!1,id:s,...u},d)=>{const{controlId:c}=te.useContext(su);return e=mr(e,"form-select"),ie.jsx("select",{...u,size:r,ref:d,className:Jn(i,e,t&&`${e}-${t}`,a&&"is-valid",l&&"is-invalid"),id:s||c})});GT.displayName="FormSelect";const qT=te.forwardRef(({bsPrefix:e,className:t,as:r="small",muted:i,...a},l)=>(e=mr(e,"form-text"),ie.jsx(r,{...a,ref:l,className:Jn(t,e,i&&"text-muted")})));qT.displayName="FormText";const zT=te.forwardRef((e,t)=>ie.jsx(yv,{...e,ref:t,type:"switch"}));zT.displayName="Switch";const zU=Object.assign(zT,{Input:yv.Input,Label:yv.Label}),WT=te.forwardRef(({bsPrefix:e,className:t,children:r,controlId:i,label:a,...l},s)=>(e=mr(e,"form-floating"),ie.jsxs(K_,{ref:s,className:Jn(t,e),controlId:i,...l,children:[r,ie.jsx("label",{htmlFor:i,children:a})]})));WT.displayName="FloatingLabel";const WU={_ref:tu.any,validated:tu.bool,as:tu.elementType},G_=te.forwardRef(({className:e,validated:t,as:r="form",...i},a)=>ie.jsx(r,{...i,ref:a,className:Jn(e,t&&"was-validated")}));G_.displayName="Form";G_.propTypes=WU;const Rr=Object.assign(G_,{Group:K_,Control:GU,Floating:VT,Check:yv,Switch:zU,Label:$T,Text:qT,Range:KT,Select:GT,FloatingLabel:WT}),JU=["as","disabled"];function YU(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}function QU(e){return!e||e.trim()==="#"}function JT({tagName:e,disabled:t,href:r,target:i,rel:a,role:l,onClick:s,tabIndex:u=0,type:d}){e||(r!=null||i!=null||a!=null?e="a":e="button");const c={tagName:e};if(e==="button")return[{type:d||"button",disabled:t},c];const p=w=>{if((t||e==="a"&&QU(r))&&w.preventDefault(),t){w.stopPropagation();return}s?.(w)},g=w=>{w.key===" "&&(w.preventDefault(),p(w))};return e==="a"&&(r||(r="#"),t&&(r=void 0)),[{role:l??"button",disabled:void 0,tabIndex:t?void 0:u,href:r,target:e==="a"?i:void 0,"aria-disabled":t||void 0,rel:e==="a"?a:void 0,onClick:p,onKeyDown:g},c]}const XU=te.forwardRef((e,t)=>{let{as:r,disabled:i}=e,a=YU(e,JU);const[l,{tagName:s}]=JT(Object.assign({tagName:r,disabled:i},a));return ie.jsx(s,Object.assign({},a,l,{ref:t}))});XU.displayName="Button";const hi=te.forwardRef(({as:e,bsPrefix:t,variant:r="primary",size:i,active:a=!1,disabled:l=!1,className:s,...u},d)=>{const c=mr(t,"btn"),[p,{tagName:g}]=JT({tagName:e,disabled:l,...u}),w=g;return ie.jsx(w,{...p,...u,ref:d,disabled:l,className:Jn(s,c,a&&"active",r&&`${c}-${r}`,i&&`${c}-${i}`,u.href&&l&&"disabled")})});hi.displayName="Button";const ZU={"Inrupt Pod Spaces":"https://login.inrupt.com/","Data Pod":"https://datapod.igrant.io/","solidcommunity.net":"https://solidcommunity.net/","solidweb.org":"https://solidweb.org/","redpencil.io":"https://solid.redpencil.io/"},ek=()=>{const e=Zf();return ie.jsxs(ie.Fragment,{children:[ie.jsx(fm,{className:"position-absolute top-50 start-50 translate-middle text-center pb-4 pt-3 ps-4 pe-4",children:ie.jsx(fm.Body,{children:ie.jsxs(Ro,{gap:3,style:{width:"250px"},children:[ie.jsx("span",{style:{fontSize:"large",fontWeight:500},children:ie.jsx(hr,{id:"selectASolidProvider",defaultMessage:"Select a Solid provider"})}),ie.jsxs(Rr.Select,{style:{borderColor:"#cccccc",height:"45px"},children:[ie.jsx("option",{hidden:!0,children:e.formatMessage({id:"chooseSolidProvider",defaultMessage:"Choose a Solid provider"})},"defaultOption"),Object.keys(ZU).map(t=>ie.jsx("option",{children:t},t))]}),ie.jsx(hr,{id:"typeInProviderUrlHeading",defaultMessage:"Or type in a provider URL"}),ie.jsx(Rr.Control,{type:"text",placeholder:e.formatMessage({id:"providerUrlPlaceholder",defaultMessage:"Place a provider URL"}),style:{borderColor:"#cccccc",height:"45px"}}),ie.jsx(hi,{className:"solid-button mt-2 w-100",children:ie.jsx(hr,{id:"redirectToProvider",defaultMessage:"Redirect to provider"})})]})})}),ie.jsx("div",{className:"position-absolute bottom-0 start-0 ms-3 mb-3",children:ie.jsxs(Rr.Select,{style:{borderColor:"#cccccc",height:"45px"},tabIndex:1,children:[ie.jsx("option",{children:"English"},"en"),ie.jsx("option",{children:"Slovensky"},"sk")]})})]})},zr=te.forwardRef(({bsPrefix:e,className:t,as:r="div",...i},a)=>{const l=mr(e,"row"),s=B_(),u=H_(),d=`${l}-cols`,c=[];return s.forEach(p=>{const g=i[p];delete i[p];let w;g!=null&&typeof g=="object"?{cols:w}=g:w=g;const _=p!==u?`-${p}`:"";w!=null&&c.push(`${d}${_}-${w}`)}),ie.jsx(r,{ref:a,...i,className:Jn(t,l,...c)})});zr.displayName="Row";const gs=te.forwardRef(({bsPrefix:e,fluid:t=!1,as:r="div",className:i,...a},l)=>{const s=mr(e,"container"),u=typeof t=="string"?`-${t}`:"-fluid";return ie.jsx(r,{ref:l,...a,className:Jn(i,t?`${s}${u}`:s)})});gs.displayName="Container";const tk=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",nk=typeof document<"u",rk=nk||tk?te.useLayoutEffect:te.useEffect,Uw=new WeakMap,QA=(e,t)=>{if(!e||!t)return;const r=Uw.get(t)||new Map;Uw.set(t,r);let i=r.get(e);return i||(i=t.matchMedia(e),i.refCount=0,r.set(i.media,i)),i};function ik(e,t=typeof window>"u"?void 0:window){const r=QA(e,t),[i,a]=te.useState(()=>r?r.matches:!1);return rk(()=>{let l=QA(e,t);if(!l)return a(!1);let s=Uw.get(t);const u=()=>{a(l.matches)};return l.refCount++,l.addListener(u),u(),()=>{l.removeListener(u),l.refCount--,l.refCount<=0&&s?.delete(l.media),l=void 0}},[e]),i}function ak(e){const t=Object.keys(e);function r(u,d){return u===d?d:u?`${u} and ${d}`:d}function i(u){return t[Math.min(t.indexOf(u)+1,t.length-1)]}function a(u){const d=i(u);let c=e[d];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function l(u){let d=e[u];return typeof d=="number"&&(d=`${d}px`),`(min-width: ${d})`}function s(u,d,c){let p;typeof u=="object"?(p=u,c=d,d=!0):(d=d||!0,p={[u]:d});let g=te.useMemo(()=>Object.entries(p).reduce((w,[_,T])=>((T==="up"||T===!0)&&(w=r(w,l(_))),(T==="down"||T===!0)&&(w=r(w,a(_))),w),""),[JSON.stringify(p)]);return ik(g,c)}return s}const ok=ak({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function sk(e){const t=te.useRef(e);return te.useEffect(()=>{t.current=e},[e]),t}function wh(e){const t=sk(e);return te.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function Jv(e){return e&&e.ownerDocument||document}function Wb(e){e===void 0&&(e=Jv());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function XA(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const Th=!!(typeof window<"u"&&window.document&&window.document.createElement);var kw=!1,jw=!1;try{var Jb={get passive(){return kw=!0},get once(){return jw=kw=!0}};Th&&(window.addEventListener("test",Jb,Jb),window.removeEventListener("test",Jb,!0))}catch{}function YT(e,t,r,i){if(i&&typeof i!="boolean"&&!jw){var a=i.once,l=i.capture,s=r;!jw&&a&&(s=r.__once||function u(d){this.removeEventListener(t,u,l),r.call(this,d)},r.__once=s),e.addEventListener(t,s,kw?i:l)}e.addEventListener(t,r,i)}function Bw(e,t,r,i){var a=i&&typeof i!="boolean"?i.capture:i;e.removeEventListener(t,r,a),r.__once&&e.removeEventListener(t,r.__once,a)}function vv(e,t,r,i){return YT(e,t,r,i),function(){Bw(e,t,r,i)}}var QT=Ux();const gh=Tv(QT);function lk(){const e=te.useRef(!0),t=te.useRef(()=>e.current);return te.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function uk(e){const t=te.useRef(e);return t.current=e,t}function ck(e){const t=uk(e);te.useEffect(()=>()=>t.current(),[])}function fk(e){const t=te.useRef(null);return te.useEffect(()=>{t.current=e}),t.current}function dk(e){const t=te.useRef(e);return te.useEffect(()=>{t.current=e},[e]),t}function $f(e){const t=dk(e);return te.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function hk(e){var t=Jv(e);return t&&t.defaultView||window}function pk(e,t){return hk(e).getComputedStyle(e,t)}var gk=/([A-Z])/g;function mk(e){return e.replace(gk,"-$1").toLowerCase()}var yk=/^ms-/;function By(e){return mk(e).replace(yk,"-ms-")}var vk=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function bk(e){return!!(e&&vk.test(e))}function nu(e,t){var r="",i="";if(typeof t=="string")return e.style.getPropertyValue(By(t))||pk(e).getPropertyValue(By(t));Object.keys(t).forEach(function(a){var l=t[a];!l&&l!==0?e.style.removeProperty(By(a)):bk(a)?i+=a+"("+l+") ":r+=By(a)+": "+l+";"}),i&&(r+="transform: "+i+";"),e.style.cssText+=";"+r}const wk="data-rr-ui-";function _k(e){return`${wk}${e}`}function Sk(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const ZA=_k("modal-open");class q_{constructor({ownerDocument:t,handleContainerOverflow:r=!0,isRTL:i=!1}={}){this.handleContainerOverflow=r,this.isRTL=i,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return Sk(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const r={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();t.style={overflow:a.style.overflow,[i]:a.style[i]},t.scrollBarWidth&&(r[i]=`${parseInt(nu(a,i)||"0",10)+t.scrollBarWidth}px`),a.setAttribute(ZA,""),nu(a,r)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const r=this.getElement();r.removeAttribute(ZA),Object.assign(r.style,t.style)}add(t){let r=this.modals.indexOf(t);return r!==-1||(r=this.modals.length,this.modals.push(t),this.setModalAttributes(t),r!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),r}remove(t){const r=this.modals.indexOf(t);r!==-1&&(this.modals.splice(r,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const XT=te.createContext(Th?window:void 0);XT.Provider;function z_(){return te.useContext(XT)}const Yb=(e,t)=>Th?e==null?(t||Jv()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function Ek(e,t){const r=z_(),[i,a]=te.useState(()=>Yb(e,r?.document));if(!i){const l=Yb(e);l&&a(l)}return te.useEffect(()=>{},[t,i]),te.useEffect(()=>{const l=Yb(e);l!==i&&a(l)},[e,i]),i}const ex=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Ak(e,t){const r=ex(e),i=ex(t);return a=>{r&&r(a),i&&i(a)}}function W_(e,t){return te.useMemo(()=>Ak(e,t),[e,t])}const xk=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Rk=typeof document<"u",tx=Rk||xk?te.useLayoutEffect:te.useEffect;function Ck(e){return e.code==="Escape"||e.keyCode===27}function Tk(){const e=te.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function Oh(e){if(!e||typeof e=="function")return null;const{major:t}=Tk();return t>=19?e.props.ref:e.ref}function Ok({children:e,in:t,onExited:r,mountOnEnter:i,unmountOnExit:a}){const l=te.useRef(null),s=te.useRef(t),u=$f(r);te.useEffect(()=>{t?s.current=!0:u(l.current)},[t,u]);const d=W_(l,Oh(e)),c=te.cloneElement(e,{ref:d});return t?c:a||!s.current&&i?null:c}const Ik=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Pk(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}function Nk(e){let{onEnter:t,onEntering:r,onEntered:i,onExit:a,onExiting:l,onExited:s,addEndListener:u,children:d}=e,c=Pk(e,Ik);const p=te.useRef(null),g=W_(p,Oh(d)),w=H=>L=>{H&&p.current&&H(p.current,L)},_=te.useCallback(w(t),[t]),T=te.useCallback(w(r),[r]),x=te.useCallback(w(i),[i]),C=te.useCallback(w(a),[a]),E=te.useCallback(w(l),[l]),I=te.useCallback(w(s),[s]),O=te.useCallback(w(u),[u]);return Object.assign({},c,{nodeRef:p},t&&{onEnter:_},r&&{onEntering:T},i&&{onEntered:x},a&&{onExit:C},l&&{onExiting:E},s&&{onExited:I},u&&{addEndListener:O},{children:typeof d=="function"?(H,L)=>d(H,Object.assign({},L,{ref:g})):te.cloneElement(d,{ref:g})})}const Fk=["component"];function Dk(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}const Mk=te.forwardRef((e,t)=>{let{component:r}=e,i=Dk(e,Fk);const a=Nk(i);return ie.jsx(r,Object.assign({ref:t},a))});function Lk({in:e,onTransition:t}){const r=te.useRef(null),i=te.useRef(!0),a=$f(t);return tx(()=>{if(!r.current)return;let l=!1;return a({in:e,element:r.current,initial:i.current,isStale:()=>l}),()=>{l=!0}},[e,a]),tx(()=>(i.current=!1,()=>{i.current=!0}),[]),r}function Uk({children:e,in:t,onExited:r,onEntered:i,transition:a}){const[l,s]=te.useState(!t);t&&l&&s(!1);const u=Lk({in:!!t,onTransition:c=>{const p=()=>{c.isStale()||(c.in?i?.(c.element,c.initial):(s(!0),r?.(c.element)))};Promise.resolve(a(c)).then(p,g=>{throw c.in||s(!0),g})}}),d=W_(u,Oh(e));return l&&!t?null:te.cloneElement(e,{ref:d})}function nx(e,t,r){return e?ie.jsx(Mk,Object.assign({},r,{component:e})):t?ie.jsx(Uk,Object.assign({},r,{transition:t})):ie.jsx(Ok,Object.assign({},r))}const kk=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function jk(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}let Qb;function Bk(e){return Qb||(Qb=new q_({ownerDocument:e?.document})),Qb}function Hk(e){const t=z_(),r=e||Bk(t),i=te.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>r.add(i.current),remove:()=>r.remove(i.current),isTopModal:()=>r.isTopModal(i.current),setDialogRef:te.useCallback(a=>{i.current.dialog=a},[]),setBackdropRef:te.useCallback(a=>{i.current.backdrop=a},[])})}const ZT=te.forwardRef((e,t)=>{let{show:r=!1,role:i="dialog",className:a,style:l,children:s,backdrop:u=!0,keyboard:d=!0,onBackdropClick:c,onEscapeKeyDown:p,transition:g,runTransition:w,backdropTransition:_,runBackdropTransition:T,autoFocus:x=!0,enforceFocus:C=!0,restoreFocus:E=!0,restoreFocusOptions:I,renderDialog:O,renderBackdrop:H=re=>ie.jsx("div",Object.assign({},re)),manager:L,container:q,onShow:W,onHide:$=()=>{},onExit:Ae,onExited:K,onExiting:ae,onEnter:pe,onEntering:be,onEntered:Ze}=e,it=jk(e,kk);const Re=z_(),lt=Ek(q),ge=Hk(L),rt=lk(),Y=fk(r),[xe,$e]=te.useState(!r),Me=te.useRef(null);te.useImperativeHandle(t,()=>ge,[ge]),Th&&!Y&&r&&(Me.current=Wb(Re?.document)),r&&xe&&$e(!1);const at=$f(()=>{if(ge.add(),Ye.current=vv(document,"keydown",ce),Ie.current=vv(document,"focus",()=>setTimeout(Pt),!0),W&&W(),x){var re,Se;const Ne=Wb((re=(Se=ge.dialog)==null?void 0:Se.ownerDocument)!=null?re:Re?.document);ge.dialog&&Ne&&!XA(ge.dialog,Ne)&&(Me.current=Ne,ge.dialog.focus())}}),It=$f(()=>{if(ge.remove(),Ye.current==null||Ye.current(),Ie.current==null||Ie.current(),E){var re;(re=Me.current)==null||re.focus==null||re.focus(I),Me.current=null}});te.useEffect(()=>{!r||!lt||at()},[r,lt,at]),te.useEffect(()=>{xe&&It()},[xe,It]),ck(()=>{It()});const Pt=$f(()=>{if(!C||!rt()||!ge.isTopModal())return;const re=Wb(Re?.document);ge.dialog&&re&&!XA(ge.dialog,re)&&ge.dialog.focus()}),Le=$f(re=>{re.target===re.currentTarget&&(c?.(re),u===!0&&$())}),ce=$f(re=>{d&&Ck(re)&&ge.isTopModal()&&(p?.(re),re.defaultPrevented||$())}),Ie=te.useRef(),Ye=te.useRef(),se=(...re)=>{$e(!0),K?.(...re)};if(!lt)return null;const k=Object.assign({role:i,ref:ge.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},it,{style:l,className:a,tabIndex:-1});let D=O?O(k):ie.jsx("div",Object.assign({},k,{children:te.cloneElement(s,{role:"document"})}));D=nx(g,w,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:Ae,onExiting:ae,onExited:se,onEnter:pe,onEntering:be,onEntered:Ze,children:D});let z=null;return u&&(z=H({ref:ge.setBackdropRef,onClick:Le}),z=nx(_,T,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:z})),ie.jsx(ie.Fragment,{children:gh.createPortal(ie.jsxs(ie.Fragment,{children:[z,D]}),lt)})});ZT.displayName="Modal";const e2=Object.assign(ZT,{Manager:q_});function J_(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;r[i]=e[i]}return r}function bv(e,t){return bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bv(e,t)}function Vk(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,bv(e,t)}const rx={disabled:!1},t2=ps.createContext(null);var $k=function(t){return t.scrollTop},Xg="unmounted",uc="exited",hs="entering",Zl="entered",dm="exiting",cu=function(e){Vk(t,e);function t(i,a){var l;l=e.call(this,i,a)||this;var s=a,u=s&&!s.isMounting?i.enter:i.appear,d;return l.appearStatus=null,i.in?u?(d=uc,l.appearStatus=hs):d=Zl:i.unmountOnExit||i.mountOnEnter?d=Xg:d=uc,l.state={status:d},l.nextCallback=null,l}t.getDerivedStateFromProps=function(a,l){var s=a.in;return s&&l.status===Xg?{status:uc}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(a){var l=null;if(a!==this.props){var s=this.state.status;this.props.in?s!==hs&&s!==Zl&&(l=hs):(s===hs||s===Zl)&&(l=dm)}this.updateStatus(!1,l)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var a=this.props.timeout,l,s,u;return l=s=u=a,a!=null&&typeof a!="number"&&(l=a.exit,s=a.enter,u=a.appear!==void 0?a.appear:s),{exit:l,enter:s,appear:u}},r.updateStatus=function(a,l){if(a===void 0&&(a=!1),l!==null)if(this.cancelNextCallback(),l===hs){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:gh.findDOMNode(this);s&&$k(s)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===uc&&this.setState({status:Xg})},r.performEnter=function(a){var l=this,s=this.props.enter,u=this.context?this.context.isMounting:a,d=this.props.nodeRef?[u]:[gh.findDOMNode(this),u],c=d[0],p=d[1],g=this.getTimeouts(),w=u?g.appear:g.enter;if(!a&&!s||rx.disabled){this.safeSetState({status:Zl},function(){l.props.onEntered(c)});return}this.props.onEnter(c,p),this.safeSetState({status:hs},function(){l.props.onEntering(c,p),l.onTransitionEnd(w,function(){l.safeSetState({status:Zl},function(){l.props.onEntered(c,p)})})})},r.performExit=function(){var a=this,l=this.props.exit,s=this.getTimeouts(),u=this.props.nodeRef?void 0:gh.findDOMNode(this);if(!l||rx.disabled){this.safeSetState({status:uc},function(){a.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:dm},function(){a.props.onExiting(u),a.onTransitionEnd(s.exit,function(){a.safeSetState({status:uc},function(){a.props.onExited(u)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(a,l){l=this.setNextCallback(l),this.setState(a,l)},r.setNextCallback=function(a){var l=this,s=!0;return this.nextCallback=function(u){s&&(s=!1,l.nextCallback=null,a(u))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(a,l){this.setNextCallback(l);var s=this.props.nodeRef?this.props.nodeRef.current:gh.findDOMNode(this),u=a==null&&!this.props.addEndListener;if(!s||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=d[0],p=d[1];this.props.addEndListener(c,p)}a!=null&&setTimeout(this.nextCallback,a)},r.render=function(){var a=this.state.status;if(a===Xg)return null;var l=this.props,s=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var u=J_(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ps.createElement(t2.Provider,{value:null},typeof s=="function"?s(a,u):ps.cloneElement(ps.Children.only(s),u))},t}(ps.Component);cu.contextType=t2;cu.propTypes={};function ch(){}cu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ch,onEntering:ch,onEntered:ch,onExit:ch,onExiting:ch,onExited:ch};cu.UNMOUNTED=Xg;cu.EXITED=uc;cu.ENTERING=hs;cu.ENTERED=Zl;cu.EXITING=dm;function Kk(e,t,r,i){if(i===void 0&&(i=!0),e){var a=document.createEvent("HTMLEvents");a.initEvent(t,r,i),e.dispatchEvent(a)}}function Gk(e){var t=nu(e,"transitionDuration")||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function qk(e,t,r){r===void 0&&(r=5);var i=!1,a=setTimeout(function(){i||Kk(e,"transitionend",!0)},t+r),l=vv(e,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(a),l()}}function n2(e,t,r,i){r==null&&(r=Gk(e)||0);var a=qk(e,r,i),l=vv(e,"transitionend",t);return function(){a(),l()}}function ix(e,t){const r=nu(e,t)||"",i=r.indexOf("ms")===-1?1e3:1;return parseFloat(r)*i}function Y_(e,t){const r=ix(e,"transitionDuration"),i=ix(e,"transitionDelay"),a=n2(e,l=>{l.target===e&&(a(),t(l))},r+i)}function r2(e){e.offsetHeight}const ax=e=>!e||typeof e=="function"?e:t=>{e.current=t};function zk(e,t){const r=ax(e),i=ax(t);return a=>{r&&r(a),i&&i(a)}}function i2(e,t){return te.useMemo(()=>zk(e,t),[e,t])}function Wk(e){return e&&"setState"in e?gh.findDOMNode(e):e??null}const Yv=ps.forwardRef(({onEnter:e,onEntering:t,onEntered:r,onExit:i,onExiting:a,onExited:l,addEndListener:s,children:u,childRef:d,...c},p)=>{const g=te.useRef(null),w=i2(g,d),_=q=>{w(Wk(q))},T=q=>W=>{q&&g.current&&q(g.current,W)},x=te.useCallback(T(e),[e]),C=te.useCallback(T(t),[t]),E=te.useCallback(T(r),[r]),I=te.useCallback(T(i),[i]),O=te.useCallback(T(a),[a]),H=te.useCallback(T(l),[l]),L=te.useCallback(T(s),[s]);return ie.jsx(cu,{ref:p,...c,onEnter:x,onEntered:E,onEntering:C,onExit:I,onExited:H,onExiting:O,addEndListener:L,nodeRef:g,children:typeof u=="function"?(q,W)=>u(q,{...W,ref:_}):ps.cloneElement(u,{ref:_})})});Yv.displayName="TransitionWrapper";const Jk={[hs]:"show",[Zl]:"show"},Qv=te.forwardRef(({className:e,children:t,transitionClasses:r={},onEnter:i,...a},l)=>{const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},u=te.useCallback((d,c)=>{r2(d),i?.(d,c)},[i]);return ie.jsx(Yv,{ref:l,addEndListener:Y_,...s,onEnter:u,childRef:Oh(t),children:(d,c)=>te.cloneElement(t,{...c,className:Jn("fade",e,t.props.className,Jk[d],r[d])})})});Qv.displayName="Fade";const a2=te.forwardRef(({className:e,bsPrefix:t,as:r="div",...i},a)=>(t=mr(t,"offcanvas-body"),ie.jsx(r,{ref:a,className:Jn(e,t),...i})));a2.displayName="OffcanvasBody";const Yk={[hs]:"show",[Zl]:"show"},o2=te.forwardRef(({bsPrefix:e,className:t,children:r,in:i=!1,mountOnEnter:a=!1,unmountOnExit:l=!1,appear:s=!1,...u},d)=>(e=mr(e,"offcanvas"),ie.jsx(Yv,{ref:d,addEndListener:Y_,in:i,mountOnEnter:a,unmountOnExit:l,appear:s,...u,childRef:Oh(r),children:(c,p)=>te.cloneElement(r,{...p,className:Jn(t,r.props.className,(c===hs||c===dm)&&`${e}-toggling`,Yk[c])})})));o2.displayName="OffcanvasToggling";const Q_=te.createContext({onHide(){}}),Qk={"aria-label":tu.string,onClick:tu.func,variant:tu.oneOf(["white"])},X_=te.forwardRef(({className:e,variant:t,"aria-label":r="Close",...i},a)=>ie.jsx("button",{ref:a,type:"button",className:Jn("btn-close",t&&`btn-close-${t}`,e),"aria-label":r,...i}));X_.displayName="CloseButton";X_.propTypes=Qk;const Z_=te.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:r=!1,onHide:i,children:a,...l},s)=>{const u=te.useContext(Q_),d=wh(()=>{u?.onHide(),i?.()});return ie.jsxs("div",{ref:s,...l,children:[a,r&&ie.jsx(X_,{"aria-label":e,variant:t,onClick:d})]})});Z_.displayName="AbstractModalHeader";const s2=te.forwardRef(({bsPrefix:e,className:t,closeLabel:r="Close",closeButton:i=!1,...a},l)=>(e=mr(e,"offcanvas-header"),ie.jsx(Z_,{ref:l,...a,className:Jn(t,e),closeLabel:r,closeButton:i})));s2.displayName="OffcanvasHeader";const Xk=zv("h5"),l2=te.forwardRef(({className:e,bsPrefix:t,as:r=Xk,...i},a)=>(t=mr(t,"offcanvas-title"),ie.jsx(r,{ref:a,className:Jn(e,t),...i})));l2.displayName="OffcanvasTitle";function Zk(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function e3(e,t){e.classList?e.classList.add(t):Zk(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}var t3=Function.prototype.bind.call(Function.prototype.call,[].slice);function fh(e,t){return t3(e.querySelectorAll(t))}function ox(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function n3(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=ox(e.className,t):e.setAttribute("class",ox(e.className&&e.className.baseVal||"",t))}const dh={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class u2 extends q_{adjustAndStore(t,r,i){const a=r.style[t];r.dataset[t]=a,nu(r,{[t]:`${parseFloat(nu(r,t))+i}px`})}restore(t,r){const i=r.dataset[t];i!==void 0&&(delete r.dataset[t],nu(r,{[t]:i}))}setContainerStyle(t){super.setContainerStyle(t);const r=this.getElement();if(e3(r,"modal-open"),!t.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";fh(r,dh.FIXED_CONTENT).forEach(l=>this.adjustAndStore(i,l,t.scrollBarWidth)),fh(r,dh.STICKY_CONTENT).forEach(l=>this.adjustAndStore(a,l,-t.scrollBarWidth)),fh(r,dh.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(a,l,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const r=this.getElement();n3(r,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";fh(r,dh.FIXED_CONTENT).forEach(l=>this.restore(i,l)),fh(r,dh.STICKY_CONTENT).forEach(l=>this.restore(a,l)),fh(r,dh.NAVBAR_TOGGLER).forEach(l=>this.restore(a,l))}}let Xb;function c2(e){return Xb||(Xb=new u2(e)),Xb}function r3(e){return ie.jsx(o2,{...e})}function i3(e){return ie.jsx(Qv,{...e})}const f2=te.forwardRef(({bsPrefix:e,className:t,children:r,"aria-labelledby":i,placement:a="start",responsive:l,show:s=!1,backdrop:u=!0,keyboard:d=!0,scroll:c=!1,onEscapeKeyDown:p,onShow:g,onHide:w,container:_,autoFocus:T=!0,enforceFocus:x=!0,restoreFocus:C=!0,restoreFocusOptions:E,onEntered:I,onExit:O,onExiting:H,onEnter:L,onEntering:q,onExited:W,backdropClassName:$,manager:Ae,renderStaticNode:K=!1,...ae},pe)=>{const be=te.useRef();e=mr(e,"offcanvas");const[Ze,it]=te.useState(!1),Re=wh(w),lt=ok(l||"xs","up");te.useEffect(()=>{it(l?s&&!lt:s)},[s,l,lt]);const ge=te.useMemo(()=>({onHide:Re}),[Re]);function rt(){return Ae||(c?(be.current||(be.current=new u2({handleContainerOverflow:!1})),be.current):c2())}const Y=(at,...It)=>{at&&(at.style.visibility="visible"),L?.(at,...It)},xe=(at,...It)=>{at&&(at.style.visibility=""),W?.(...It)},$e=te.useCallback(at=>ie.jsx("div",{...at,className:Jn(`${e}-backdrop`,$)}),[$,e]),Me=at=>ie.jsx("div",{...at,...ae,className:Jn(t,l?`${e}-${l}`:e,`${e}-${a}`),"aria-labelledby":i,children:r});return ie.jsxs(ie.Fragment,{children:[!Ze&&(l||K)&&Me({}),ie.jsx(Q_.Provider,{value:ge,children:ie.jsx(e2,{show:Ze,ref:pe,backdrop:u,container:_,keyboard:d,autoFocus:T,enforceFocus:x&&!c,restoreFocus:C,restoreFocusOptions:E,onEscapeKeyDown:p,onShow:g,onHide:Re,onEnter:Y,onEntering:q,onEntered:I,onExit:O,onExiting:H,onExited:xe,manager:rt(),transition:r3,backdropTransition:i3,renderBackdrop:$e,renderDialog:Me})})]})});f2.displayName="Offcanvas";const nv=Object.assign(f2,{Body:a2,Header:s2,Title:l2}),a3=te.createContext(null);function Gn(){return Gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Gn.apply(null,arguments)}function sx(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function o3(e){var t=s3(e,"string");return typeof t=="symbol"?t:String(t)}function s3(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function l3(e,t,r){var i=te.useRef(e!==void 0),a=te.useState(t),l=a[0],s=a[1],u=e!==void 0,d=i.current;return i.current=u,!u&&d&&l!==t&&s(t),[u?e:l,te.useCallback(function(c){for(var p=arguments.length,g=new Array(p>1?p-1:0),w=1;w<p;w++)g[w-1]=arguments[w];r&&r.apply(void 0,[c].concat(g)),s(c)},[r])]}function u3(e,t){return Object.keys(t).reduce(function(r,i){var a,l=r,s=l[sx(i)],u=l[i],d=J_(l,[sx(i),i].map(o3)),c=t[i],p=l3(u,s,e[c]),g=p[0],w=p[1];return Gn({},d,(a={},a[i]=g,a[c]=w,a))},e)}const d2=te.forwardRef(({bsPrefix:e,className:t,as:r,...i},a)=>{e=mr(e,"navbar-brand");const l=r||(i.href?"a":"span");return ie.jsx(l,{...i,ref:a,className:Jn(t,e)})});d2.displayName="NavbarBrand";function zg(...e){return e.filter(t=>t!=null).reduce((t,r)=>{if(typeof r!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?r:function(...a){t.apply(this,a),r.apply(this,a)}},null)}const c3={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function f3(e,t){const r=`offset${e[0].toUpperCase()}${e.slice(1)}`,i=t[r],a=c3[e];return i+parseInt(nu(t,a[0]),10)+parseInt(nu(t,a[1]),10)}const d3={[uc]:"collapse",[dm]:"collapsing",[hs]:"collapsing",[Zl]:"collapse show"},h2=ps.forwardRef(({onEnter:e,onEntering:t,onEntered:r,onExit:i,onExiting:a,className:l,children:s,dimension:u="height",in:d=!1,timeout:c=300,mountOnEnter:p=!1,unmountOnExit:g=!1,appear:w=!1,getDimensionValue:_=f3,...T},x)=>{const C=typeof u=="function"?u():u,E=te.useMemo(()=>zg(q=>{q.style[C]="0"},e),[C,e]),I=te.useMemo(()=>zg(q=>{const W=`scroll${C[0].toUpperCase()}${C.slice(1)}`;q.style[C]=`${q[W]}px`},t),[C,t]),O=te.useMemo(()=>zg(q=>{q.style[C]=null},r),[C,r]),H=te.useMemo(()=>zg(q=>{q.style[C]=`${_(C,q)}px`,r2(q)},i),[i,_,C]),L=te.useMemo(()=>zg(q=>{q.style[C]=null},a),[C,a]);return ie.jsx(Yv,{ref:x,addEndListener:Y_,...T,"aria-expanded":T.role?d:null,onEnter:E,onEntering:I,onEntered:O,onExit:H,onExiting:L,childRef:Oh(s),in:d,timeout:c,mountOnEnter:p,unmountOnExit:g,appear:w,children:(q,W)=>ps.cloneElement(s,{...W,className:Jn(l,s.props.className,d3[q],C==="width"&&"collapse-horizontal")})})});h2.displayName="Collapse";const Pm=te.createContext(null);Pm.displayName="NavbarContext";const p2=te.forwardRef(({children:e,bsPrefix:t,...r},i)=>{t=mr(t,"navbar-collapse");const a=te.useContext(Pm);return ie.jsx(h2,{in:!!(a&&a.expanded),...r,children:ie.jsx("div",{ref:i,className:t,children:e})})});p2.displayName="NavbarCollapse";const g2=te.forwardRef(({bsPrefix:e,className:t,children:r,label:i="Toggle navigation",as:a="button",onClick:l,...s},u)=>{e=mr(e,"navbar-toggler");const{onToggle:d,expanded:c}=te.useContext(Pm)||{},p=wh(g=>{l&&l(g),d&&d()});return a==="button"&&(s.type="button"),ie.jsx(a,{...s,ref:u,onClick:p,"aria-label":i,className:Jn(t,e,!c&&"collapsed"),children:r||ie.jsx("span",{className:`${e}-icon`})})});g2.displayName="NavbarToggle";const m2=te.forwardRef(({onHide:e,...t},r)=>{const i=te.useContext(Pm),a=wh(()=>{i==null||i.onToggle==null||i.onToggle(),e?.()});return ie.jsx(nv,{ref:r,show:!!(i!=null&&i.expanded),...t,renderStaticNode:!0,onHide:a})});m2.displayName="NavbarOffcanvas";const y2=te.forwardRef(({className:e,bsPrefix:t,as:r="span",...i},a)=>(t=mr(t,"navbar-text"),ie.jsx(r,{ref:a,className:Jn(e,t),...i})));y2.displayName="NavbarText";const v2=te.forwardRef((e,t)=>{const{bsPrefix:r,expand:i=!0,variant:a="light",bg:l,fixed:s,sticky:u,className:d,as:c="nav",expanded:p,onToggle:g,onSelect:w,collapseOnSelect:_=!1,...T}=u3(e,{expanded:"onToggle"}),x=mr(r,"navbar"),C=te.useCallback((...O)=>{w?.(...O),_&&p&&g?.(!1)},[w,_,p,g]);T.role===void 0&&c!=="nav"&&(T.role="navigation");let E=`${x}-expand`;typeof i=="string"&&(E=`${E}-${i}`);const I=te.useMemo(()=>({onToggle:()=>g?.(!p),bsPrefix:x,expanded:!!p,expand:i}),[x,p,i,g]);return ie.jsx(Pm.Provider,{value:I,children:ie.jsx(a3.Provider,{value:C,children:ie.jsx(c,{ref:t,...T,className:Jn(d,x,i&&E,a&&`${x}-${a}`,l&&`bg-${l}`,u&&`sticky-${u}`,s&&`fixed-${s}`)})})})});v2.displayName="Navbar";const Wf=Object.assign(v2,{Brand:d2,Collapse:p2,Offcanvas:m2,Text:y2,Toggle:g2});function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}function h3(e,t){if(Jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(Jf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b2(e){var t=h3(e,"string");return Jf(t)=="symbol"?t:t+""}function Zg(e,t,r){return(t=b2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,i)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lx(Object(r),!0).forEach(function(i){Zg(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lx(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function p3(e){if(Array.isArray(e))return e}function g3(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,a,l,s,u=[],d=!0,c=!1;try{if(l=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(i=l.call(r)).done)&&(u.push(i.value),u.length!==t);d=!0);}catch(p){c=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function Hw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function w2(e,t){if(e){if(typeof e=="string")return Hw(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hw(e,t):void 0}}function m3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ru(e,t){return p3(e)||g3(e,t)||w2(e,t)||m3()}function fu(e,t){if(e==null)return{};var r,i,a=J_(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)r=l[i],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var y3=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function v3(e){var t=e.defaultInputValue,r=t===void 0?"":t,i=e.defaultMenuIsOpen,a=i===void 0?!1:i,l=e.defaultValue,s=l===void 0?null:l,u=e.inputValue,d=e.menuIsOpen,c=e.onChange,p=e.onInputChange,g=e.onMenuClose,w=e.onMenuOpen,_=e.value,T=fu(e,y3),x=te.useState(u!==void 0?u:r),C=ru(x,2),E=C[0],I=C[1],O=te.useState(d!==void 0?d:a),H=ru(O,2),L=H[0],q=H[1],W=te.useState(_!==void 0?_:s),$=ru(W,2),Ae=$[0],K=$[1],ae=te.useCallback(function(ge,rt){typeof c=="function"&&c(ge,rt),K(ge)},[c]),pe=te.useCallback(function(ge,rt){var Y;typeof p=="function"&&(Y=p(ge,rt)),I(Y!==void 0?Y:ge)},[p]),be=te.useCallback(function(){typeof w=="function"&&w(),q(!0)},[w]),Ze=te.useCallback(function(){typeof g=="function"&&g(),q(!1)},[g]),it=u!==void 0?u:E,Re=d!==void 0?d:L,lt=_!==void 0?_:Ae;return Vn(Vn({},T),{},{inputValue:it,menuIsOpen:Re,onChange:ae,onInputChange:pe,onMenuClose:Ze,onMenuOpen:be,value:lt})}function b3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ux(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,b2(i.key),i)}}function w3(e,t,r){return t&&ux(e.prototype,t),r&&ux(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bv(e,t)}function wv(e){return wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wv(e)}function _2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_2=function(){return!!e})()}function S3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E3(e,t){if(t&&(Jf(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S3(e)}function A3(e){var t=_2();return function(){var r,i=wv(e);if(t){var a=wv(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return E3(this,r)}}function x3(e){if(Array.isArray(e))return Hw(e)}function R3(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function C3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eS(e){return x3(e)||R3(e)||w2(e)||C3()}function T3(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function O3(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var I3=function(){function e(r){var i=this;this._insertTag=function(a){var l;i.tags.length===0?i.insertionPoint?l=i.insertionPoint.nextSibling:i.prepend?l=i.container.firstChild:l=i.before:l=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(a,l),i.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(i){i.forEach(this._insertTag)},t.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(O3(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var l=T3(a);try{l.insertRule(i,l.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){var a;return(a=i.parentNode)==null?void 0:a.removeChild(i)}),this.tags=[],this.ctr=0},e}(),Sa="-ms-",_v="-moz-",Qr="-webkit-",S2="comm",tS="rule",nS="decl",P3="@import",E2="@keyframes",N3="@layer",F3=Math.abs,Xv=String.fromCharCode,D3=Object.assign;function M3(e,t){return fa(e,0)^45?(((t<<2^fa(e,0))<<2^fa(e,1))<<2^fa(e,2))<<2^fa(e,3):0}function A2(e){return e.trim()}function L3(e,t){return(e=t.exec(e))?e[0]:e}function Xr(e,t,r){return e.replace(t,r)}function Vw(e,t){return e.indexOf(t)}function fa(e,t){return e.charCodeAt(t)|0}function hm(e,t,r){return e.slice(t,r)}function Js(e){return e.length}function rS(e){return e.length}function Hy(e,t){return t.push(e),e}function U3(e,t){return e.map(t).join("")}var Zv=1,_h=1,x2=0,lo=0,Bi=0,Ih="";function e0(e,t,r,i,a,l,s){return{value:e,root:t,parent:r,type:i,props:a,children:l,line:Zv,column:_h,length:s,return:""}}function Wg(e,t){return D3(e0("",null,null,"",null,null,0),e,{length:-e.length},t)}function k3(){return Bi}function j3(){return Bi=lo>0?fa(Ih,--lo):0,_h--,Bi===10&&(_h=1,Zv--),Bi}function Co(){return Bi=lo<x2?fa(Ih,lo++):0,_h++,Bi===10&&(_h=1,Zv++),Bi}function Xs(){return fa(Ih,lo)}function rv(){return lo}function Nm(e,t){return hm(Ih,e,t)}function pm(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function R2(e){return Zv=_h=1,x2=Js(Ih=e),lo=0,[]}function C2(e){return Ih="",e}function iv(e){return A2(Nm(lo-1,$w(e===91?e+2:e===40?e+1:e)))}function B3(e){for(;(Bi=Xs())&&Bi<33;)Co();return pm(e)>2||pm(Bi)>3?"":" "}function H3(e,t){for(;--t&&Co()&&!(Bi<48||Bi>102||Bi>57&&Bi<65||Bi>70&&Bi<97););return Nm(e,rv()+(t<6&&Xs()==32&&Co()==32))}function $w(e){for(;Co();)switch(Bi){case e:return lo;case 34:case 39:e!==34&&e!==39&&$w(Bi);break;case 40:e===41&&$w(e);break;case 92:Co();break}return lo}function V3(e,t){for(;Co()&&e+Bi!==57;)if(e+Bi===84&&Xs()===47)break;return"/*"+Nm(t,lo-1)+"*"+Xv(e===47?e:Co())}function $3(e){for(;!pm(Xs());)Co();return Nm(e,lo)}function K3(e){return C2(av("",null,null,null,[""],e=R2(e),0,[0],e))}function av(e,t,r,i,a,l,s,u,d){for(var c=0,p=0,g=s,w=0,_=0,T=0,x=1,C=1,E=1,I=0,O="",H=a,L=l,q=i,W=O;C;)switch(T=I,I=Co()){case 40:if(T!=108&&fa(W,g-1)==58){Vw(W+=Xr(iv(I),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:W+=iv(I);break;case 9:case 10:case 13:case 32:W+=B3(T);break;case 92:W+=H3(rv()-1,7);continue;case 47:switch(Xs()){case 42:case 47:Hy(G3(V3(Co(),rv()),t,r),d);break;default:W+="/"}break;case 123*x:u[c++]=Js(W)*E;case 125*x:case 59:case 0:switch(I){case 0:case 125:C=0;case 59+p:E==-1&&(W=Xr(W,/\f/g,"")),_>0&&Js(W)-g&&Hy(_>32?fx(W+";",i,r,g-1):fx(Xr(W," ","")+";",i,r,g-2),d);break;case 59:W+=";";default:if(Hy(q=cx(W,t,r,c,p,a,u,O,H=[],L=[],g),l),I===123)if(p===0)av(W,t,q,q,H,l,g,u,L);else switch(w===99&&fa(W,3)===110?100:w){case 100:case 108:case 109:case 115:av(e,q,q,i&&Hy(cx(e,q,q,0,0,a,u,O,a,H=[],g),L),a,L,g,u,i?H:L);break;default:av(W,q,q,q,[""],L,0,u,L)}}c=p=_=0,x=E=1,O=W="",g=s;break;case 58:g=1+Js(W),_=T;default:if(x<1){if(I==123)--x;else if(I==125&&x++==0&&j3()==125)continue}switch(W+=Xv(I),I*x){case 38:E=p>0?1:(W+="\f",-1);break;case 44:u[c++]=(Js(W)-1)*E,E=1;break;case 64:Xs()===45&&(W+=iv(Co())),w=Xs(),p=g=Js(O=W+=$3(rv())),I++;break;case 45:T===45&&Js(W)==2&&(x=0)}}return l}function cx(e,t,r,i,a,l,s,u,d,c,p){for(var g=a-1,w=a===0?l:[""],_=rS(w),T=0,x=0,C=0;T<i;++T)for(var E=0,I=hm(e,g+1,g=F3(x=s[T])),O=e;E<_;++E)(O=A2(x>0?w[E]+" "+I:Xr(I,/&\f/g,w[E])))&&(d[C++]=O);return e0(e,t,r,a===0?tS:u,d,c,p)}function G3(e,t,r){return e0(e,t,r,S2,Xv(k3()),hm(e,2,-2),0)}function fx(e,t,r,i){return e0(e,t,r,nS,hm(e,0,i),hm(e,i+1,-1),i)}function mh(e,t){for(var r="",i=rS(e),a=0;a<i;a++)r+=t(e[a],a,e,t)||"";return r}function q3(e,t,r,i){switch(e.type){case N3:if(e.children.length)break;case P3:case nS:return e.return=e.return||e.value;case S2:return"";case E2:return e.return=e.value+"{"+mh(e.children,i)+"}";case tS:e.value=e.props.join(",")}return Js(r=mh(e.children,i))?e.return=e.value+"{"+r+"}":""}function z3(e){var t=rS(e);return function(r,i,a,l){for(var s="",u=0;u<t;u++)s+=e[u](r,i,a,l)||"";return s}}function W3(e){return function(t){t.root||(t=t.return)&&e(t)}}function J3(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Y3=function(t,r,i){for(var a=0,l=0;a=l,l=Xs(),a===38&&l===12&&(r[i]=1),!pm(l);)Co();return Nm(t,lo)},Q3=function(t,r){var i=-1,a=44;do switch(pm(a)){case 0:a===38&&Xs()===12&&(r[i]=1),t[i]+=Y3(lo-1,r,i);break;case 2:t[i]+=iv(a);break;case 4:if(a===44){t[++i]=Xs()===58?"&\f":"",r[i]=t[i].length;break}default:t[i]+=Xv(a)}while(a=Co());return t},X3=function(t,r){return C2(Q3(R2(t),r))},dx=new WeakMap,Z3=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,i=t.parent,a=t.column===i.column&&t.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!dx.get(i))&&!a){dx.set(t,!0);for(var l=[],s=X3(r,l),u=i.props,d=0,c=0;d<s.length;d++)for(var p=0;p<u.length;p++,c++)t.props[c]=l[d]?s[d].replace(/&\f/g,u[p]):u[p]+" "+s[d]}}},ej=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function T2(e,t){switch(M3(e,t)){case 5103:return Qr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Qr+e+_v+e+Sa+e+e;case 6828:case 4268:return Qr+e+Sa+e+e;case 6165:return Qr+e+Sa+"flex-"+e+e;case 5187:return Qr+e+Xr(e,/(\w+).+(:[^]+)/,Qr+"box-$1$2"+Sa+"flex-$1$2")+e;case 5443:return Qr+e+Sa+"flex-item-"+Xr(e,/flex-|-self/,"")+e;case 4675:return Qr+e+Sa+"flex-line-pack"+Xr(e,/align-content|flex-|-self/,"")+e;case 5548:return Qr+e+Sa+Xr(e,"shrink","negative")+e;case 5292:return Qr+e+Sa+Xr(e,"basis","preferred-size")+e;case 6060:return Qr+"box-"+Xr(e,"-grow","")+Qr+e+Sa+Xr(e,"grow","positive")+e;case 4554:return Qr+Xr(e,/([^-])(transform)/g,"$1"+Qr+"$2")+e;case 6187:return Xr(Xr(Xr(e,/(zoom-|grab)/,Qr+"$1"),/(image-set)/,Qr+"$1"),e,"")+e;case 5495:case 3959:return Xr(e,/(image-set\([^]*)/,Qr+"$1$`$1");case 4968:return Xr(Xr(e,/(.+:)(flex-)?(.*)/,Qr+"box-pack:$3"+Sa+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qr+e+e;case 4095:case 3583:case 4068:case 2532:return Xr(e,/(.+)-inline(.+)/,Qr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Js(e)-1-t>6)switch(fa(e,t+1)){case 109:if(fa(e,t+4)!==45)break;case 102:return Xr(e,/(.+:)(.+)-([^]+)/,"$1"+Qr+"$2-$3$1"+_v+(fa(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Vw(e,"stretch")?T2(Xr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(fa(e,t+1)!==115)break;case 6444:switch(fa(e,Js(e)-3-(~Vw(e,"!important")&&10))){case 107:return Xr(e,":",":"+Qr)+e;case 101:return Xr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Qr+(fa(e,14)===45?"inline-":"")+"box$3$1"+Qr+"$2$3$1"+Sa+"$2box$3")+e}break;case 5936:switch(fa(e,t+11)){case 114:return Qr+e+Sa+Xr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Qr+e+Sa+Xr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Qr+e+Sa+Xr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Qr+e+Sa+e+e}return e}var tj=function(t,r,i,a){if(t.length>-1&&!t.return)switch(t.type){case nS:t.return=T2(t.value,t.length);break;case E2:return mh([Wg(t,{value:Xr(t.value,"@","@"+Qr)})],a);case tS:if(t.length)return U3(t.props,function(l){switch(L3(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return mh([Wg(t,{props:[Xr(l,/:(read-\w+)/,":"+_v+"$1")]})],a);case"::placeholder":return mh([Wg(t,{props:[Xr(l,/:(plac\w+)/,":"+Qr+"input-$1")]}),Wg(t,{props:[Xr(l,/:(plac\w+)/,":"+_v+"$1")]}),Wg(t,{props:[Xr(l,/:(plac\w+)/,Sa+"input-$1")]})],a)}return""})}},nj=[tj],rj=function(t){var r=t.key;if(r==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(x){var C=x.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var a=t.stylisPlugins||nj,l={},s,u=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(x){for(var C=x.getAttribute("data-emotion").split(" "),E=1;E<C.length;E++)l[C[E]]=!0;u.push(x)});var d,c=[Z3,ej];{var p,g=[q3,W3(function(x){p.insert(x)})],w=z3(c.concat(a,g)),_=function(C){return mh(K3(C),w)};d=function(C,E,I,O){p=I,_(C?C+"{"+E.styles+"}":E.styles),O&&(T.inserted[E.name]=!0)}}var T={key:r,sheet:new I3({key:r,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:l,registered:{},insert:d};return T.sheet.hydrate(u),T},ij=!0;function aj(e,t,r){var i="";return r.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):a&&(i+=a+" ")}),i}var O2=function(t,r,i){var a=t.key+"-"+r.name;(i===!1||ij===!1)&&t.registered[a]===void 0&&(t.registered[a]=r.styles)},oj=function(t,r,i){O2(t,r,i);var a=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var l=r;do t.insert(r===l?"."+a:"",l,t.sheet,!0),l=l.next;while(l!==void 0)}};function sj(e){for(var t=0,r,i=0,a=e.length;a>=4;++i,a-=4)r=e.charCodeAt(i)&255|(e.charCodeAt(++i)&255)<<8|(e.charCodeAt(++i)&255)<<16|(e.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(i+2)&255)<<16;case 2:t^=(e.charCodeAt(i+1)&255)<<8;case 1:t^=e.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var lj={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},uj=/[A-Z]|^ms/g,cj=/_EMO_([^_]+?)_([^]*?)_EMO_/g,I2=function(t){return t.charCodeAt(1)===45},hx=function(t){return t!=null&&typeof t!="boolean"},Zb=J3(function(e){return I2(e)?e:e.replace(uj,"-$&").toLowerCase()}),px=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(cj,function(i,a,l){return Ys={name:a,styles:l,next:Ys},a})}return lj[t]!==1&&!I2(t)&&typeof r=="number"&&r!==0?r+"px":r};function gm(e,t,r){if(r==null)return"";var i=r;if(i.__emotion_styles!==void 0)return i;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return Ys={name:a.name,styles:a.styles,next:Ys},a.name;var l=r;if(l.styles!==void 0){var s=l.next;if(s!==void 0)for(;s!==void 0;)Ys={name:s.name,styles:s.styles,next:Ys},s=s.next;var u=l.styles+";";return u}return fj(e,t,r)}case"function":{if(e!==void 0){var d=Ys,c=r(e);return Ys=d,gm(e,t,c)}break}}var p=r;return p}function fj(e,t,r){var i="";if(Array.isArray(r))for(var a=0;a<r.length;a++)i+=gm(e,t,r[a])+";";else for(var l in r){var s=r[l];if(typeof s!="object"){var u=s;hx(u)&&(i+=Zb(l)+":"+px(l,u)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&t==null)for(var d=0;d<s.length;d++)hx(s[d])&&(i+=Zb(l)+":"+px(l,s[d])+";");else{var c=gm(e,t,s);switch(l){case"animation":case"animationName":{i+=Zb(l)+":"+c+";";break}default:i+=l+"{"+c+"}"}}}return i}var gx=/label:\s*([^\s;{]+)\s*(;|$)/g,Ys;function P2(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";Ys=void 0;var l=e[0];if(l==null||l.raw===void 0)i=!1,a+=gm(r,t,l);else{var s=l;a+=s[0]}for(var u=1;u<e.length;u++)if(a+=gm(r,t,e[u]),i){var d=l;a+=d[u]}gx.lastIndex=0;for(var c="",p;(p=gx.exec(a))!==null;)c+="-"+p[1];var g=sj(a)+c;return{name:g,styles:a,next:Ys}}var dj=function(t){return t()},hj=jS.useInsertionEffect?jS.useInsertionEffect:!1,pj=hj||dj,N2=te.createContext(typeof HTMLElement<"u"?rj({key:"css"}):null);N2.Provider;var gj=function(t){return te.forwardRef(function(r,i){var a=te.useContext(N2);return t(r,a,i)})},mj=te.createContext({}),iS={}.hasOwnProperty,Kw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",yj=function(t,r){var i={};for(var a in r)iS.call(r,a)&&(i[a]=r[a]);return i[Kw]=t,i},vj=function(t){var r=t.cache,i=t.serialized,a=t.isStringTag;return O2(r,i,a),pj(function(){return oj(r,i,a)}),null},bj=gj(function(e,t,r){var i=e.css;typeof i=="string"&&t.registered[i]!==void 0&&(i=t.registered[i]);var a=e[Kw],l=[i],s="";typeof e.className=="string"?s=aj(t.registered,l,e.className):e.className!=null&&(s=e.className+" ");var u=P2(l,void 0,te.useContext(mj));s+=t.key+"-"+u.name;var d={};for(var c in e)iS.call(e,c)&&c!=="css"&&c!==Kw&&(d[c]=e[c]);return d.className=s,r&&(d.ref=r),te.createElement(te.Fragment,null,te.createElement(vj,{cache:t,serialized:u,isStringTag:typeof a=="string"}),te.createElement(a,d))}),wj=bj,Mn=function(t,r){var i=arguments;if(r==null||!iS.call(r,"css"))return te.createElement.apply(void 0,i);var a=i.length,l=new Array(a);l[0]=wj,l[1]=yj(t,r);for(var s=2;s<a;s++)l[s]=i[s];return te.createElement.apply(null,l)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Mn||(Mn={}));function aS(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return P2(t)}function _j(){var e=aS.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Sj(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Ej=Math.min,Aj=Math.max,Sv=Math.round,Vy=Math.floor,Ev=e=>({x:e,y:e});function xj(e){const{x:t,y:r,width:i,height:a}=e;return{width:i,height:a,top:r,left:t,right:t+i,bottom:r+a,x:t,y:r}}function t0(){return typeof window<"u"}function F2(e){return M2(e)?(e.nodeName||"").toLowerCase():"#document"}function lu(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function D2(e){var t;return(t=(M2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function M2(e){return t0()?e instanceof Node||e instanceof lu(e).Node:!1}function Rj(e){return t0()?e instanceof Element||e instanceof lu(e).Element:!1}function oS(e){return t0()?e instanceof HTMLElement||e instanceof lu(e).HTMLElement:!1}function mx(e){return!t0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof lu(e).ShadowRoot}const Cj=new Set(["inline","contents"]);function L2(e){const{overflow:t,overflowX:r,overflowY:i,display:a}=sS(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!Cj.has(a)}function Tj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Oj=new Set(["html","body","#document"]);function Ij(e){return Oj.has(F2(e))}function sS(e){return lu(e).getComputedStyle(e)}function Pj(e){if(F2(e)==="html")return e;const t=e.assignedSlot||e.parentNode||mx(e)&&e.host||D2(e);return mx(t)?t.host:t}function U2(e){const t=Pj(e);return Ij(t)?e.ownerDocument?e.ownerDocument.body:e.body:oS(t)&&L2(t)?t:U2(t)}function Av(e,t,r){var i;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=U2(e),l=a===((i=e.ownerDocument)==null?void 0:i.body),s=lu(a);if(l){const u=Gw(s);return t.concat(s,s.visualViewport||[],L2(a)?a:[],u&&r?Av(u):[])}return t.concat(a,Av(a,[],r))}function Gw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Nj(e){const t=sS(e);let r=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const a=oS(e),l=a?e.offsetWidth:r,s=a?e.offsetHeight:i,u=Sv(r)!==l||Sv(i)!==s;return u&&(r=l,i=s),{width:r,height:i,$:u}}function lS(e){return Rj(e)?e:e.contextElement}function yx(e){const t=lS(e);if(!oS(t))return Ev(1);const r=t.getBoundingClientRect(),{width:i,height:a,$:l}=Nj(t);let s=(l?Sv(r.width):r.width)/i,u=(l?Sv(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!u||!Number.isFinite(u))&&(u=1),{x:s,y:u}}const Fj=Ev(0);function Dj(e){const t=lu(e);return!Tj()||!t.visualViewport?Fj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Mj(e,t,r){return!1}function vx(e,t,r,i){t===void 0&&(t=!1);const a=e.getBoundingClientRect(),l=lS(e);let s=Ev(1);t&&(s=yx(e));const u=Mj()?Dj(l):Ev(0);let d=(a.left+u.x)/s.x,c=(a.top+u.y)/s.y,p=a.width/s.x,g=a.height/s.y;if(l){const w=lu(l),_=i;let T=w,x=Gw(T);for(;x&&i&&_!==T;){const C=yx(x),E=x.getBoundingClientRect(),I=sS(x),O=E.left+(x.clientLeft+parseFloat(I.paddingLeft))*C.x,H=E.top+(x.clientTop+parseFloat(I.paddingTop))*C.y;d*=C.x,c*=C.y,p*=C.x,g*=C.y,d+=O,c+=H,T=lu(x),x=Gw(T)}}return xj({width:p,height:g,x:d,y:c})}function k2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Lj(e,t){let r=null,i;const a=D2(e);function l(){var u;clearTimeout(i),(u=r)==null||u.disconnect(),r=null}function s(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),l();const c=e.getBoundingClientRect(),{left:p,top:g,width:w,height:_}=c;if(u||t(),!w||!_)return;const T=Vy(g),x=Vy(a.clientWidth-(p+w)),C=Vy(a.clientHeight-(g+_)),E=Vy(p),O={rootMargin:-T+"px "+-x+"px "+-C+"px "+-E+"px",threshold:Aj(0,Ej(1,d))||1};let H=!0;function L(q){const W=q[0].intersectionRatio;if(W!==d){if(!H)return s();W?s(!1,W):i=setTimeout(()=>{s(!1,1e-7)},1e3)}W===1&&!k2(c,e.getBoundingClientRect())&&s(),H=!1}try{r=new IntersectionObserver(L,{...O,root:a.ownerDocument})}catch{r=new IntersectionObserver(L,O)}r.observe(e)}return s(!0),l}function Uj(e,t,r,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,c=lS(e),p=a||l?[...c?Av(c):[],...Av(t)]:[];p.forEach(E=>{a&&E.addEventListener("scroll",r,{passive:!0}),l&&E.addEventListener("resize",r)});const g=c&&u?Lj(c,r):null;let w=-1,_=null;s&&(_=new ResizeObserver(E=>{let[I]=E;I&&I.target===c&&_&&(_.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var O;(O=_)==null||O.observe(t)})),r()}),c&&!d&&_.observe(c),_.observe(t));let T,x=d?vx(e):null;d&&C();function C(){const E=vx(e);x&&!k2(x,E)&&r(),x=E,T=requestAnimationFrame(C)}return r(),()=>{var E;p.forEach(I=>{a&&I.removeEventListener("scroll",r),l&&I.removeEventListener("resize",r)}),g?.(),(E=_)==null||E.disconnect(),_=null,d&&cancelAnimationFrame(T)}}var qw=te.useLayoutEffect,kj=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],xv=function(){};function jj(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function Bj(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];var l=[].concat(i);if(t&&e)for(var s in t)t.hasOwnProperty(s)&&t[s]&&l.push("".concat(jj(e,s)));return l.filter(function(u){return u}).map(function(u){return String(u).trim()}).join(" ")}var bx=function(t){return Jj(t)?t.filter(Boolean):Jf(t)==="object"&&t!==null?[t]:[]},j2=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var r=fu(t,kj);return Vn({},r)},Ni=function(t,r,i){var a=t.cx,l=t.getStyles,s=t.getClassNames,u=t.className;return{css:l(r,t),className:a(i??{},s(r,t),u)}};function n0(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Hj(e){return n0(e)?window.innerHeight:e.clientHeight}function B2(e){return n0(e)?window.pageYOffset:e.scrollTop}function Rv(e,t){if(n0(e)){window.scrollTo(0,t);return}e.scrollTop=t}function Vj(e){var t=getComputedStyle(e),r=t.position==="absolute",i=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),!(r&&t.position==="static")&&i.test(t.overflow+t.overflowY+t.overflowX))return a;return document.documentElement}function $j(e,t,r,i){return r*((e=e/i-1)*e*e+1)+t}function $y(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:xv,a=B2(e),l=t-a,s=10,u=0;function d(){u+=s;var c=$j(u,a,l,r);Rv(e,c),u<r?window.requestAnimationFrame(d):i(e)}d()}function wx(e,t){var r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),a=t.offsetHeight/3;i.bottom+a>r.bottom?Rv(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+a,e.scrollHeight)):i.top-a<r.top&&Rv(e,Math.max(t.offsetTop-a,0))}function Kj(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function _x(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Gj(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var H2=!1,qj={get passive(){return H2=!0}},Ky=typeof window<"u"?window:{};Ky.addEventListener&&Ky.removeEventListener&&(Ky.addEventListener("p",xv,qj),Ky.removeEventListener("p",xv,!1));var zj=H2;function Wj(e){return e!=null}function Jj(e){return Array.isArray(e)}function Gy(e,t,r){return e?t:r}var Yj=function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var l=Object.entries(t).filter(function(s){var u=ru(s,1),d=u[0];return!i.includes(d)});return l.reduce(function(s,u){var d=ru(u,2),c=d[0],p=d[1];return s[c]=p,s},{})},Qj=["children","innerProps"],Xj=["children","innerProps"];function Zj(e){var t=e.maxHeight,r=e.menuEl,i=e.minHeight,a=e.placement,l=e.shouldScroll,s=e.isFixedPosition,u=e.controlHeight,d=Vj(r),c={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return c;var p=d.getBoundingClientRect(),g=p.height,w=r.getBoundingClientRect(),_=w.bottom,T=w.height,x=w.top,C=r.offsetParent.getBoundingClientRect(),E=C.top,I=s?window.innerHeight:Hj(d),O=B2(d),H=parseInt(getComputedStyle(r).marginBottom,10),L=parseInt(getComputedStyle(r).marginTop,10),q=E-L,W=I-x,$=q+O,Ae=g-O-x,K=_-I+O+H,ae=O+x-L,pe=160;switch(a){case"auto":case"bottom":if(W>=T)return{placement:"bottom",maxHeight:t};if(Ae>=T&&!s)return l&&$y(d,K,pe),{placement:"bottom",maxHeight:t};if(!s&&Ae>=i||s&&W>=i){l&&$y(d,K,pe);var be=s?W-H:Ae-H;return{placement:"bottom",maxHeight:be}}if(a==="auto"||s){var Ze=t,it=s?q:$;return it>=i&&(Ze=Math.min(it-H-u,t)),{placement:"top",maxHeight:Ze}}if(a==="bottom")return l&&Rv(d,K),{placement:"bottom",maxHeight:t};break;case"top":if(q>=T)return{placement:"top",maxHeight:t};if($>=T&&!s)return l&&$y(d,ae,pe),{placement:"top",maxHeight:t};if(!s&&$>=i||s&&q>=i){var Re=t;return(!s&&$>=i||s&&q>=i)&&(Re=s?q-L:$-L),l&&$y(d,ae,pe),{placement:"top",maxHeight:Re}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return c}function eB(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var V2=function(t){return t==="auto"?"bottom":t},tB=function(t,r){var i,a=t.placement,l=t.theme,s=l.borderRadius,u=l.spacing,d=l.colors;return Vn((i={label:"menu"},Zg(i,eB(a),"100%"),Zg(i,"position","absolute"),Zg(i,"width","100%"),Zg(i,"zIndex",1),i),r?{}:{backgroundColor:d.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:u.menuGutter,marginTop:u.menuGutter})},$2=te.createContext(null),nB=function(t){var r=t.children,i=t.minMenuHeight,a=t.maxMenuHeight,l=t.menuPlacement,s=t.menuPosition,u=t.menuShouldScrollIntoView,d=t.theme,c=te.useContext($2)||{},p=c.setPortalPlacement,g=te.useRef(null),w=te.useState(a),_=ru(w,2),T=_[0],x=_[1],C=te.useState(null),E=ru(C,2),I=E[0],O=E[1],H=d.spacing.controlHeight;return qw(function(){var L=g.current;if(L){var q=s==="fixed",W=u&&!q,$=Zj({maxHeight:a,menuEl:L,minHeight:i,placement:l,shouldScroll:W,isFixedPosition:q,controlHeight:H});x($.maxHeight),O($.placement),p?.($.placement)}},[a,l,s,u,i,p,H]),r({ref:g,placerProps:Vn(Vn({},t),{},{placement:I||V2(l),maxHeight:T})})},rB=function(t){var r=t.children,i=t.innerRef,a=t.innerProps;return Mn("div",Gn({},Ni(t,"menu",{menu:!0}),{ref:i},a),r)},iB=rB,aB=function(t,r){var i=t.maxHeight,a=t.theme.spacing.baseUnit;return Vn({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},oB=function(t){var r=t.children,i=t.innerProps,a=t.innerRef,l=t.isMulti;return Mn("div",Gn({},Ni(t,"menuList",{"menu-list":!0,"menu-list--is-multi":l}),{ref:a},i),r)},K2=function(t,r){var i=t.theme,a=i.spacing.baseUnit,l=i.colors;return Vn({textAlign:"center"},r?{}:{color:l.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},sB=K2,lB=K2,uB=function(t){var r=t.children,i=r===void 0?"No options":r,a=t.innerProps,l=fu(t,Qj);return Mn("div",Gn({},Ni(Vn(Vn({},l),{},{children:i,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),i)},cB=function(t){var r=t.children,i=r===void 0?"Loading...":r,a=t.innerProps,l=fu(t,Xj);return Mn("div",Gn({},Ni(Vn(Vn({},l),{},{children:i,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),i)},fB=function(t){var r=t.rect,i=t.offset,a=t.position;return{left:r.left,position:a,top:i,width:r.width,zIndex:1}},dB=function(t){var r=t.appendTo,i=t.children,a=t.controlElement,l=t.innerProps,s=t.menuPlacement,u=t.menuPosition,d=te.useRef(null),c=te.useRef(null),p=te.useState(V2(s)),g=ru(p,2),w=g[0],_=g[1],T=te.useMemo(function(){return{setPortalPlacement:_}},[]),x=te.useState(null),C=ru(x,2),E=C[0],I=C[1],O=te.useCallback(function(){if(a){var W=Kj(a),$=u==="fixed"?0:window.pageYOffset,Ae=W[w]+$;(Ae!==E?.offset||W.left!==E?.rect.left||W.width!==E?.rect.width)&&I({offset:Ae,rect:W})}},[a,u,w,E?.offset,E?.rect.left,E?.rect.width]);qw(function(){O()},[O]);var H=te.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),a&&d.current&&(c.current=Uj(a,d.current,O,{elementResize:"ResizeObserver"in window}))},[a,O]);qw(function(){H()},[H]);var L=te.useCallback(function(W){d.current=W,H()},[H]);if(!r&&u!=="fixed"||!E)return null;var q=Mn("div",Gn({ref:L},Ni(Vn(Vn({},t),{},{offset:E.offset,position:u,rect:E.rect}),"menuPortal",{"menu-portal":!0}),l),i);return Mn($2.Provider,{value:T},r?QT.createPortal(q,r):q)},hB=function(t){var r=t.isDisabled,i=t.isRtl;return{label:"container",direction:i?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},pB=function(t){var r=t.children,i=t.innerProps,a=t.isDisabled,l=t.isRtl;return Mn("div",Gn({},Ni(t,"container",{"--is-disabled":a,"--is-rtl":l}),i),r)},gB=function(t,r){var i=t.theme.spacing,a=t.isMulti,l=t.hasValue,s=t.selectProps.controlShouldRenderValue;return Vn({alignItems:"center",display:a&&l&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(i.baseUnit*2,"px")})},mB=function(t){var r=t.children,i=t.innerProps,a=t.isMulti,l=t.hasValue;return Mn("div",Gn({},Ni(t,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":l}),i),r)},yB=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},vB=function(t){var r=t.children,i=t.innerProps;return Mn("div",Gn({},Ni(t,"indicatorsContainer",{indicators:!0}),i),r)},Sx,bB=["size"],wB=["innerProps","isRtl","size"],_B={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},G2=function(t){var r=t.size,i=fu(t,bB);return Mn("svg",Gn({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:_B},i))},uS=function(t){return Mn(G2,Gn({size:20},t),Mn("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},q2=function(t){return Mn(G2,Gn({size:20},t),Mn("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},z2=function(t,r){var i=t.isFocused,a=t.theme,l=a.spacing.baseUnit,s=a.colors;return Vn({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:i?s.neutral60:s.neutral20,padding:l*2,":hover":{color:i?s.neutral80:s.neutral40}})},SB=z2,EB=function(t){var r=t.children,i=t.innerProps;return Mn("div",Gn({},Ni(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),r||Mn(q2,null))},AB=z2,xB=function(t){var r=t.children,i=t.innerProps;return Mn("div",Gn({},Ni(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),r||Mn(uS,null))},RB=function(t,r){var i=t.isDisabled,a=t.theme,l=a.spacing.baseUnit,s=a.colors;return Vn({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:i?s.neutral10:s.neutral20,marginBottom:l*2,marginTop:l*2})},CB=function(t){var r=t.innerProps;return Mn("span",Gn({},r,Ni(t,"indicatorSeparator",{"indicator-separator":!0})))},TB=_j(Sx||(Sx=Sj([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),OB=function(t,r){var i=t.isFocused,a=t.size,l=t.theme,s=l.colors,u=l.spacing.baseUnit;return Vn({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:i?s.neutral60:s.neutral20,padding:u*2})},ew=function(t){var r=t.delay,i=t.offset;return Mn("span",{css:aS({animation:"".concat(TB," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},IB=function(t){var r=t.innerProps,i=t.isRtl,a=t.size,l=a===void 0?4:a,s=fu(t,wB);return Mn("div",Gn({},Ni(Vn(Vn({},s),{},{innerProps:r,isRtl:i,size:l}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Mn(ew,{delay:0,offset:i}),Mn(ew,{delay:160,offset:!0}),Mn(ew,{delay:320,offset:!i}))},PB=function(t,r){var i=t.isDisabled,a=t.isFocused,l=t.theme,s=l.colors,u=l.borderRadius,d=l.spacing;return Vn({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:d.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:i?s.neutral5:s.neutral0,borderColor:i?s.neutral10:a?s.primary:s.neutral20,borderRadius:u,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:a?s.primary:s.neutral30}})},NB=function(t){var r=t.children,i=t.isDisabled,a=t.isFocused,l=t.innerRef,s=t.innerProps,u=t.menuIsOpen;return Mn("div",Gn({ref:l},Ni(t,"control",{control:!0,"control--is-disabled":i,"control--is-focused":a,"control--menu-is-open":u}),s,{"aria-disabled":i||void 0}),r)},FB=NB,DB=["data"],MB=function(t,r){var i=t.theme.spacing;return r?{}:{paddingBottom:i.baseUnit*2,paddingTop:i.baseUnit*2}},LB=function(t){var r=t.children,i=t.cx,a=t.getStyles,l=t.getClassNames,s=t.Heading,u=t.headingProps,d=t.innerProps,c=t.label,p=t.theme,g=t.selectProps;return Mn("div",Gn({},Ni(t,"group",{group:!0}),d),Mn(s,Gn({},u,{selectProps:g,theme:p,getStyles:a,getClassNames:l,cx:i}),c),Mn("div",null,r))},UB=function(t,r){var i=t.theme,a=i.colors,l=i.spacing;return Vn({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:l.baseUnit*3,paddingRight:l.baseUnit*3,textTransform:"uppercase"})},kB=function(t){var r=j2(t);r.data;var i=fu(r,DB);return Mn("div",Gn({},Ni(t,"groupHeading",{"group-heading":!0}),i))},jB=LB,BB=["innerRef","isDisabled","isHidden","inputClassName"],HB=function(t,r){var i=t.isDisabled,a=t.value,l=t.theme,s=l.spacing,u=l.colors;return Vn(Vn({visibility:i?"hidden":"visible",transform:a?"translateZ(0)":""},VB),r?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:u.neutral80})},W2={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},VB={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Vn({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},W2)},$B=function(t){return Vn({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},W2)},KB=function(t){var r=t.cx,i=t.value,a=j2(t),l=a.innerRef,s=a.isDisabled,u=a.isHidden,d=a.inputClassName,c=fu(a,BB);return Mn("div",Gn({},Ni(t,"input",{"input-container":!0}),{"data-value":i||""}),Mn("input",Gn({className:r({input:!0},d),ref:l,style:$B(u),disabled:s},c)))},GB=KB,qB=function(t,r){var i=t.theme,a=i.spacing,l=i.borderRadius,s=i.colors;return Vn({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:s.neutral10,borderRadius:l/2,margin:a.baseUnit/2})},zB=function(t,r){var i=t.theme,a=i.borderRadius,l=i.colors,s=t.cropWithEllipsis;return Vn({overflow:"hidden",textOverflow:s||s===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:l.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},WB=function(t,r){var i=t.theme,a=i.spacing,l=i.borderRadius,s=i.colors,u=t.isFocused;return Vn({alignItems:"center",display:"flex"},r?{}:{borderRadius:l/2,backgroundColor:u?s.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},J2=function(t){var r=t.children,i=t.innerProps;return Mn("div",i,r)},JB=J2,YB=J2;function QB(e){var t=e.children,r=e.innerProps;return Mn("div",Gn({role:"button"},r),t||Mn(uS,{size:14}))}var XB=function(t){var r=t.children,i=t.components,a=t.data,l=t.innerProps,s=t.isDisabled,u=t.removeProps,d=t.selectProps,c=i.Container,p=i.Label,g=i.Remove;return Mn(c,{data:a,innerProps:Vn(Vn({},Ni(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),l),selectProps:d},Mn(p,{data:a,innerProps:Vn({},Ni(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:d},r),Mn(g,{data:a,innerProps:Vn(Vn({},Ni(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},u),selectProps:d}))},ZB=XB,eH=function(t,r){var i=t.isDisabled,a=t.isFocused,l=t.isSelected,s=t.theme,u=s.spacing,d=s.colors;return Vn({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:l?d.primary:a?d.primary25:"transparent",color:i?d.neutral20:l?d.neutral0:"inherit",padding:"".concat(u.baseUnit*2,"px ").concat(u.baseUnit*3,"px"),":active":{backgroundColor:i?void 0:l?d.primary:d.primary50}})},tH=function(t){var r=t.children,i=t.isDisabled,a=t.isFocused,l=t.isSelected,s=t.innerRef,u=t.innerProps;return Mn("div",Gn({},Ni(t,"option",{option:!0,"option--is-disabled":i,"option--is-focused":a,"option--is-selected":l}),{ref:s,"aria-disabled":i},u),r)},nH=tH,rH=function(t,r){var i=t.theme,a=i.spacing,l=i.colors;return Vn({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:l.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},iH=function(t){var r=t.children,i=t.innerProps;return Mn("div",Gn({},Ni(t,"placeholder",{placeholder:!0}),i),r)},aH=iH,oH=function(t,r){var i=t.isDisabled,a=t.theme,l=a.spacing,s=a.colors;return Vn({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:i?s.neutral40:s.neutral80,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},sH=function(t){var r=t.children,i=t.isDisabled,a=t.innerProps;return Mn("div",Gn({},Ni(t,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),a),r)},lH=sH,uH={ClearIndicator:xB,Control:FB,DropdownIndicator:EB,DownChevron:q2,CrossIcon:uS,Group:jB,GroupHeading:kB,IndicatorsContainer:vB,IndicatorSeparator:CB,Input:GB,LoadingIndicator:IB,Menu:iB,MenuList:oB,MenuPortal:dB,LoadingMessage:cB,NoOptionsMessage:uB,MultiValue:ZB,MultiValueContainer:JB,MultiValueLabel:YB,MultiValueRemove:QB,Option:nH,Placeholder:aH,SelectContainer:pB,SingleValue:lH,ValueContainer:mB},cH=function(t){return Vn(Vn({},uH),t.components)},Ex=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function fH(e,t){return!!(e===t||Ex(e)&&Ex(t))}function dH(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!fH(e[r],t[r]))return!1;return!0}function hH(e,t){t===void 0&&(t=dH);var r=null;function i(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var s=e.apply(this,a);return r={lastResult:s,lastArgs:a,lastThis:this},s}return i.clear=function(){r=null},i}var pH={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},gH=function(t){return Mn("span",Gn({css:pH},t))},Ax=gH,mH={guidance:function(t){var r=t.isSearchable,i=t.isMulti,a=t.tabSelectsValue,l=t.context,s=t.isInitialFocus;switch(l){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return s?"".concat(t["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var r=t.action,i=t.label,a=i===void 0?"":i,l=t.labels,s=t.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(l.length>1?"s":""," ").concat(l.join(","),", selected.");case"select-option":return s?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(t){var r=t.context,i=t.focused,a=t.options,l=t.label,s=l===void 0?"":l,u=t.selectValue,d=t.isDisabled,c=t.isSelected,p=t.isAppleDevice,g=function(x,C){return x&&x.length?"".concat(x.indexOf(C)+1," of ").concat(x.length):""};if(r==="value"&&u)return"value ".concat(s," focused, ").concat(g(u,i),".");if(r==="menu"&&p){var w=d?" disabled":"",_="".concat(c?" selected":"").concat(w);return"".concat(s).concat(_,", ").concat(g(a,i),".")}return""},onFilter:function(t){var r=t.inputValue,i=t.resultsMessage;return"".concat(i).concat(r?" for search term "+r:"",".")}},yH=function(t){var r=t.ariaSelection,i=t.focusedOption,a=t.focusedValue,l=t.focusableOptions,s=t.isFocused,u=t.selectValue,d=t.selectProps,c=t.id,p=t.isAppleDevice,g=d.ariaLiveMessages,w=d.getOptionLabel,_=d.inputValue,T=d.isMulti,x=d.isOptionDisabled,C=d.isSearchable,E=d.menuIsOpen,I=d.options,O=d.screenReaderStatus,H=d.tabSelectsValue,L=d.isLoading,q=d["aria-label"],W=d["aria-live"],$=te.useMemo(function(){return Vn(Vn({},mH),g||{})},[g]),Ae=te.useMemo(function(){var it="";if(r&&$.onChange){var Re=r.option,lt=r.options,ge=r.removedValue,rt=r.removedValues,Y=r.value,xe=function(ce){return Array.isArray(ce)?null:ce},$e=ge||Re||xe(Y),Me=$e?w($e):"",at=lt||rt||void 0,It=at?at.map(w):[],Pt=Vn({isDisabled:$e&&x($e,u),label:Me,labels:It},r);it=$.onChange(Pt)}return it},[r,$,x,u,w]),K=te.useMemo(function(){var it="",Re=i||a,lt=!!(i&&u&&u.includes(i));if(Re&&$.onFocus){var ge={focused:Re,label:w(Re),isDisabled:x(Re,u),isSelected:lt,options:l,context:Re===i?"menu":"value",selectValue:u,isAppleDevice:p};it=$.onFocus(ge)}return it},[i,a,w,x,$,l,u,p]),ae=te.useMemo(function(){var it="";if(E&&I.length&&!L&&$.onFilter){var Re=O({count:l.length});it=$.onFilter({inputValue:_,resultsMessage:Re})}return it},[l,_,E,$,I,O,L]),pe=r?.action==="initial-input-focus",be=te.useMemo(function(){var it="";if($.guidance){var Re=a?"value":E?"menu":"input";it=$.guidance({"aria-label":q,context:Re,isDisabled:i&&x(i,u),isMulti:T,isSearchable:C,tabSelectsValue:H,isInitialFocus:pe})}return it},[q,i,a,T,x,C,E,$,u,H,pe]),Ze=Mn(te.Fragment,null,Mn("span",{id:"aria-selection"},Ae),Mn("span",{id:"aria-focused"},K),Mn("span",{id:"aria-results"},ae),Mn("span",{id:"aria-guidance"},be));return Mn(te.Fragment,null,Mn(Ax,{id:c},pe&&Ze),Mn(Ax,{"aria-live":W,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},s&&!pe&&Ze))},vH=yH,zw=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],bH=new RegExp("["+zw.map(function(e){return e.letters}).join("")+"]","g"),Y2={};for(var tw=0;tw<zw.length;tw++)for(var nw=zw[tw],rw=0;rw<nw.letters.length;rw++)Y2[nw.letters[rw]]=nw.base;var Q2=function(t){return t.replace(bH,function(r){return Y2[r]})},wH=hH(Q2),xx=function(t){return t.replace(/^\s+|\s+$/g,"")},_H=function(t){return"".concat(t.label," ").concat(t.value)},SH=function(t){return function(r,i){if(r.data.__isNew__)return!0;var a=Vn({ignoreCase:!0,ignoreAccents:!0,stringify:_H,trim:!0,matchFrom:"any"},t),l=a.ignoreCase,s=a.ignoreAccents,u=a.stringify,d=a.trim,c=a.matchFrom,p=d?xx(i):i,g=d?xx(u(r)):u(r);return l&&(p=p.toLowerCase(),g=g.toLowerCase()),s&&(p=wH(p),g=Q2(g)),c==="start"?g.substr(0,p.length)===p:g.indexOf(p)>-1}},EH=["innerRef"];function AH(e){var t=e.innerRef,r=fu(e,EH),i=Yj(r,"onExited","in","enter","exit","appear");return Mn("input",Gn({ref:t},i,{css:aS({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var xH=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function RH(e){var t=e.isEnabled,r=e.onBottomArrive,i=e.onBottomLeave,a=e.onTopArrive,l=e.onTopLeave,s=te.useRef(!1),u=te.useRef(!1),d=te.useRef(0),c=te.useRef(null),p=te.useCallback(function(C,E){if(c.current!==null){var I=c.current,O=I.scrollTop,H=I.scrollHeight,L=I.clientHeight,q=c.current,W=E>0,$=H-L-O,Ae=!1;$>E&&s.current&&(i&&i(C),s.current=!1),W&&u.current&&(l&&l(C),u.current=!1),W&&E>$?(r&&!s.current&&r(C),q.scrollTop=H,Ae=!0,s.current=!0):!W&&-E>O&&(a&&!u.current&&a(C),q.scrollTop=0,Ae=!0,u.current=!0),Ae&&xH(C)}},[r,i,a,l]),g=te.useCallback(function(C){p(C,C.deltaY)},[p]),w=te.useCallback(function(C){d.current=C.changedTouches[0].clientY},[]),_=te.useCallback(function(C){var E=d.current-C.changedTouches[0].clientY;p(C,E)},[p]),T=te.useCallback(function(C){if(C){var E=zj?{passive:!1}:!1;C.addEventListener("wheel",g,E),C.addEventListener("touchstart",w,E),C.addEventListener("touchmove",_,E)}},[_,w,g]),x=te.useCallback(function(C){C&&(C.removeEventListener("wheel",g,!1),C.removeEventListener("touchstart",w,!1),C.removeEventListener("touchmove",_,!1))},[_,w,g]);return te.useEffect(function(){if(t){var C=c.current;return T(C),function(){x(C)}}},[t,T,x]),function(C){c.current=C}}var Rx=["boxSizing","height","overflow","paddingRight","position"],Cx={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Tx(e){e.cancelable&&e.preventDefault()}function Ox(e){e.stopPropagation()}function Ix(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function Px(){return"ontouchstart"in window||navigator.maxTouchPoints}var Nx=!!(typeof window<"u"&&window.document&&window.document.createElement),Jg=0,hh={capture:!1,passive:!1};function CH(e){var t=e.isEnabled,r=e.accountForScrollbars,i=r===void 0?!0:r,a=te.useRef({}),l=te.useRef(null),s=te.useCallback(function(d){if(Nx){var c=document.body,p=c&&c.style;if(i&&Rx.forEach(function(T){var x=p&&p[T];a.current[T]=x}),i&&Jg<1){var g=parseInt(a.current.paddingRight,10)||0,w=document.body?document.body.clientWidth:0,_=window.innerWidth-w+g||0;Object.keys(Cx).forEach(function(T){var x=Cx[T];p&&(p[T]=x)}),p&&(p.paddingRight="".concat(_,"px"))}c&&Px()&&(c.addEventListener("touchmove",Tx,hh),d&&(d.addEventListener("touchstart",Ix,hh),d.addEventListener("touchmove",Ox,hh))),Jg+=1}},[i]),u=te.useCallback(function(d){if(Nx){var c=document.body,p=c&&c.style;Jg=Math.max(Jg-1,0),i&&Jg<1&&Rx.forEach(function(g){var w=a.current[g];p&&(p[g]=w)}),c&&Px()&&(c.removeEventListener("touchmove",Tx,hh),d&&(d.removeEventListener("touchstart",Ix,hh),d.removeEventListener("touchmove",Ox,hh)))}},[i]);return te.useEffect(function(){if(t){var d=l.current;return s(d),function(){u(d)}}},[t,s,u]),function(d){l.current=d}}var TH=function(t){var r=t.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},OH={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function IH(e){var t=e.children,r=e.lockEnabled,i=e.captureEnabled,a=i===void 0?!0:i,l=e.onBottomArrive,s=e.onBottomLeave,u=e.onTopArrive,d=e.onTopLeave,c=RH({isEnabled:a,onBottomArrive:l,onBottomLeave:s,onTopArrive:u,onTopLeave:d}),p=CH({isEnabled:r}),g=function(_){c(_),p(_)};return Mn(te.Fragment,null,r&&Mn("div",{onClick:TH,css:OH}),t(g))}var PH={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},NH=function(t){var r=t.name,i=t.onFocus;return Mn("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:PH,value:"",onChange:function(){}})},FH=NH;function cS(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function DH(){return cS(/^iPhone/i)}function X2(){return cS(/^Mac/i)}function MH(){return cS(/^iPad/i)||X2()&&navigator.maxTouchPoints>1}function LH(){return DH()||MH()}function UH(){return X2()||LH()}var kH=function(t){return t.label},jH=function(t){return t.label},BH=function(t){return t.value},HH=function(t){return!!t.isDisabled},VH={clearIndicator:AB,container:hB,control:PB,dropdownIndicator:SB,group:MB,groupHeading:UB,indicatorsContainer:yB,indicatorSeparator:RB,input:HB,loadingIndicator:OB,loadingMessage:lB,menu:tB,menuList:aB,menuPortal:fB,multiValue:qB,multiValueLabel:zB,multiValueRemove:WB,noOptionsMessage:sB,option:eH,placeholder:rH,singleValue:oH,valueContainer:gB},$H={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},KH=4,Z2=4,GH=38,qH=Z2*2,zH={baseUnit:Z2,controlHeight:GH,menuGutter:qH},iw={borderRadius:KH,colors:$H,spacing:zH},WH={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:_x(),captureMenuScroll:!_x(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:SH(),formatGroupLabel:kH,getOptionLabel:jH,getOptionValue:BH,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:HH,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Gj(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Fx(e,t,r,i){var a=nO(e,t,r),l=rO(e,t,r),s=tO(e,t),u=Cv(e,t);return{type:"option",data:t,isDisabled:a,isSelected:l,label:s,value:u,index:i}}function ov(e,t){return e.options.map(function(r,i){if("options"in r){var a=r.options.map(function(s,u){return Fx(e,s,t,u)}).filter(function(s){return Mx(e,s)});return a.length>0?{type:"group",data:r,options:a,index:i}:void 0}var l=Fx(e,r,t,i);return Mx(e,l)?l:void 0}).filter(Wj)}function eO(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,eS(r.options.map(function(i){return i.data}))):t.push(r.data),t},[])}function Dx(e,t){return e.reduce(function(r,i){return i.type==="group"?r.push.apply(r,eS(i.options.map(function(a){return{data:a.data,id:"".concat(t,"-").concat(i.index,"-").concat(a.index)}}))):r.push({data:i.data,id:"".concat(t,"-").concat(i.index)}),r},[])}function JH(e,t){return eO(ov(e,t))}function Mx(e,t){var r=e.inputValue,i=r===void 0?"":r,a=t.data,l=t.isSelected,s=t.label,u=t.value;return(!aO(e)||!l)&&iO(e,{label:s,value:u,data:a},i)}function YH(e,t){var r=e.focusedValue,i=e.selectValue,a=i.indexOf(r);if(a>-1){var l=t.indexOf(r);if(l>-1)return r;if(a<t.length)return t[a]}return null}function QH(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}var aw=function(t,r){var i,a=(i=t.find(function(l){return l.data===r}))===null||i===void 0?void 0:i.id;return a||null},tO=function(t,r){return t.getOptionLabel(r)},Cv=function(t,r){return t.getOptionValue(r)};function nO(e,t,r){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,r):!1}function rO(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var i=Cv(e,t);return r.some(function(a){return Cv(e,a)===i})}function iO(e,t,r){return e.filterOption?e.filterOption(t,r):!0}var aO=function(t){var r=t.hideSelectedOptions,i=t.isMulti;return r===void 0?i:r},XH=1,oO=function(e){_3(r,e);var t=A3(r);function r(i){var a;if(b3(this,r),a=t.call(this,i),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.controlRef=null,a.getControlRef=function(d){a.controlRef=d},a.focusedOptionRef=null,a.getFocusedOptionRef=function(d){a.focusedOptionRef=d},a.menuListRef=null,a.getMenuListRef=function(d){a.menuListRef=d},a.inputRef=null,a.getInputRef=function(d){a.inputRef=d},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(d,c){var p=a.props,g=p.onChange,w=p.name;c.name=w,a.ariaOnChange(d,c),g(d,c)},a.setValue=function(d,c,p){var g=a.props,w=g.closeMenuOnSelect,_=g.isMulti,T=g.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:T}),w&&(a.setState({inputIsHiddenAfterUpdate:!_}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(d,{action:c,option:p})},a.selectOption=function(d){var c=a.props,p=c.blurInputOnSelect,g=c.isMulti,w=c.name,_=a.state.selectValue,T=g&&a.isOptionSelected(d,_),x=a.isOptionDisabled(d,_);if(T){var C=a.getOptionValue(d);a.setValue(_.filter(function(E){return a.getOptionValue(E)!==C}),"deselect-option",d)}else if(!x)g?a.setValue([].concat(eS(_),[d]),"select-option",d):a.setValue(d,"select-option");else{a.ariaOnChange(d,{action:"select-option",option:d,name:w});return}p&&a.blurInput()},a.removeValue=function(d){var c=a.props.isMulti,p=a.state.selectValue,g=a.getOptionValue(d),w=p.filter(function(T){return a.getOptionValue(T)!==g}),_=Gy(c,w,w[0]||null);a.onChange(_,{action:"remove-value",removedValue:d}),a.focusInput()},a.clearValue=function(){var d=a.state.selectValue;a.onChange(Gy(a.props.isMulti,[],null),{action:"clear",removedValues:d})},a.popValue=function(){var d=a.props.isMulti,c=a.state.selectValue,p=c[c.length-1],g=c.slice(0,c.length-1),w=Gy(d,g,g[0]||null);p&&a.onChange(w,{action:"pop-value",removedValue:p})},a.getFocusedOptionId=function(d){return aw(a.state.focusableOptionsWithIds,d)},a.getFocusableOptionsWithIds=function(){return Dx(ov(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var d=arguments.length,c=new Array(d),p=0;p<d;p++)c[p]=arguments[p];return Bj.apply(void 0,[a.props.classNamePrefix].concat(c))},a.getOptionLabel=function(d){return tO(a.props,d)},a.getOptionValue=function(d){return Cv(a.props,d)},a.getStyles=function(d,c){var p=a.props.unstyled,g=VH[d](c,p);g.boxSizing="border-box";var w=a.props.styles[d];return w?w(g,c):g},a.getClassNames=function(d,c){var p,g;return(p=(g=a.props.classNames)[d])===null||p===void 0?void 0:p.call(g,c)},a.getElementId=function(d){return"".concat(a.state.instancePrefix,"-").concat(d)},a.getComponents=function(){return cH(a.props)},a.buildCategorizedOptions=function(){return ov(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return eO(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(d,c){a.setState({ariaSelection:Vn({value:d},c)})},a.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(d){a.blockOptionHover=!1},a.onControlMouseDown=function(d){if(!d.defaultPrevented){var c=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&a.onMenuClose():c&&a.openMenu("first"):(c&&(a.openAfterFocus=!0),a.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},a.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0)&&!a.props.isDisabled){var c=a.props,p=c.isMulti,g=c.menuIsOpen;a.focusInput(),g?(a.setState({inputIsHiddenAfterUpdate:!p}),a.onMenuClose()):a.openMenu("first"),d.preventDefault()}},a.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(a.clearValue(),d.preventDefault(),a.openAfterFocus=!1,d.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(d){typeof a.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&n0(d.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(d)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(d){var c=d.touches,p=c&&c.item(0);p&&(a.initialTouchX=p.clientX,a.initialTouchY=p.clientY,a.userIsDragging=!1)},a.onTouchMove=function(d){var c=d.touches,p=c&&c.item(0);if(p){var g=Math.abs(p.clientX-a.initialTouchX),w=Math.abs(p.clientY-a.initialTouchY),_=5;a.userIsDragging=g>_||w>_}},a.onTouchEnd=function(d){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(d.target)&&a.menuListRef&&!a.menuListRef.contains(d.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(d){a.userIsDragging||a.onControlMouseDown(d)},a.onClearIndicatorTouchEnd=function(d){a.userIsDragging||a.onClearIndicatorMouseDown(d)},a.onDropdownIndicatorTouchEnd=function(d){a.userIsDragging||a.onDropdownIndicatorMouseDown(d)},a.handleInputChange=function(d){var c=a.props.inputValue,p=d.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(p,{action:"input-change",prevInputValue:c}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(d){a.props.onFocus&&a.props.onFocus(d),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(d){var c=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(d),a.onInputChange("",{action:"input-blur",prevInputValue:c}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(d){if(!(a.blockOptionHover||a.state.focusedOption===d)){var c=a.getFocusableOptions(),p=c.indexOf(d);a.setState({focusedOption:d,focusedOptionId:p>-1?a.getFocusedOptionId(d):null})}},a.shouldHideSelectedOptions=function(){return aO(a.props)},a.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),a.focus()},a.onKeyDown=function(d){var c=a.props,p=c.isMulti,g=c.backspaceRemovesValue,w=c.escapeClearsValue,_=c.inputValue,T=c.isClearable,x=c.isDisabled,C=c.menuIsOpen,E=c.onKeyDown,I=c.tabSelectsValue,O=c.openMenuOnFocus,H=a.state,L=H.focusedOption,q=H.focusedValue,W=H.selectValue;if(!x&&!(typeof E=="function"&&(E(d),d.defaultPrevented))){switch(a.blockOptionHover=!0,d.key){case"ArrowLeft":if(!p||_)return;a.focusValue("previous");break;case"ArrowRight":if(!p||_)return;a.focusValue("next");break;case"Delete":case"Backspace":if(_)return;if(q)a.removeValue(q);else{if(!g)return;p?a.popValue():T&&a.clearValue()}break;case"Tab":if(a.isComposing||d.shiftKey||!C||!I||!L||O&&a.isOptionSelected(L,W))return;a.selectOption(L);break;case"Enter":if(d.keyCode===229)break;if(C){if(!L||a.isComposing)return;a.selectOption(L);break}return;case"Escape":C?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:_}),a.onMenuClose()):T&&w&&a.clearValue();break;case" ":if(_)return;if(!C){a.openMenu("first");break}if(!L)return;a.selectOption(L);break;case"ArrowUp":C?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":C?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!C)return;a.focusOption("pageup");break;case"PageDown":if(!C)return;a.focusOption("pagedown");break;case"Home":if(!C)return;a.focusOption("first");break;case"End":if(!C)return;a.focusOption("last");break;default:return}d.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++XH),a.state.selectValue=bx(i.value),i.menuIsOpen&&a.state.selectValue.length){var l=a.getFocusableOptionsWithIds(),s=a.buildFocusableOptions(),u=s.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=l,a.state.focusedOption=s[u],a.state.focusedOptionId=aw(l,s[u])}return a}return w3(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&wx(this.menuListRef,this.focusedOptionRef),UH()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(a){var l=this.props,s=l.isDisabled,u=l.menuIsOpen,d=this.state.isFocused;(d&&!s&&a.isDisabled||d&&u&&!a.menuIsOpen)&&this.focusInput(),d&&s&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!d&&!s&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(wx(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,l){this.props.onInputChange(a,l)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var l=this,s=this.state,u=s.selectValue,d=s.isFocused,c=this.buildFocusableOptions(),p=a==="first"?0:c.length-1;if(!this.props.isMulti){var g=c.indexOf(u[0]);g>-1&&(p=g)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[p],focusedOptionId:this.getFocusedOptionId(c[p])},function(){return l.onMenuOpen()})}},{key:"focusValue",value:function(a){var l=this.state,s=l.selectValue,u=l.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=s.indexOf(u);u||(d=-1);var c=s.length-1,p=-1;if(s.length){switch(a){case"previous":d===0?p=0:d===-1?p=c:p=d-1;break;case"next":d>-1&&d<c&&(p=d+1);break}this.setState({inputIsHidden:p!==-1,focusedValue:s[p]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",l=this.props.pageSize,s=this.state.focusedOption,u=this.getFocusableOptions();if(u.length){var d=0,c=u.indexOf(s);s||(c=-1),a==="up"?d=c>0?c-1:u.length-1:a==="down"?d=(c+1)%u.length:a==="pageup"?(d=c-l,d<0&&(d=0)):a==="pagedown"?(d=c+l,d>u.length-1&&(d=u.length-1)):a==="last"&&(d=u.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:u[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(u[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(iw):Vn(Vn({},iw),this.props.theme):iw}},{key:"getCommonProps",value:function(){var a=this.clearValue,l=this.cx,s=this.getStyles,u=this.getClassNames,d=this.getValue,c=this.selectOption,p=this.setValue,g=this.props,w=g.isMulti,_=g.isRtl,T=g.options,x=this.hasValue();return{clearValue:a,cx:l,getStyles:s,getClassNames:u,getValue:d,hasValue:x,isMulti:w,isRtl:_,options:T,selectOption:c,selectProps:g,setValue:p,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,l=a.isClearable,s=a.isMulti;return l===void 0?s:l}},{key:"isOptionDisabled",value:function(a,l){return nO(this.props,a,l)}},{key:"isOptionSelected",value:function(a,l){return rO(this.props,a,l)}},{key:"filterOption",value:function(a,l){return iO(this.props,a,l)}},{key:"formatOptionLabel",value:function(a,l){if(typeof this.props.formatOptionLabel=="function"){var s=this.props.inputValue,u=this.state.selectValue;return this.props.formatOptionLabel(a,{context:l,inputValue:s,selectValue:u})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,l=a.isDisabled,s=a.isSearchable,u=a.inputId,d=a.inputValue,c=a.tabIndex,p=a.form,g=a.menuIsOpen,w=a.required,_=this.getComponents(),T=_.Input,x=this.state,C=x.inputIsHidden,E=x.ariaSelection,I=this.commonProps,O=u||this.getElementId("input"),H=Vn(Vn(Vn({"aria-autocomplete":"list","aria-expanded":g,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":w,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},g&&{"aria-controls":this.getElementId("listbox")}),!s&&{"aria-readonly":!0}),this.hasValue()?E?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return s?te.createElement(T,Gn({},I,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:O,innerRef:this.getInputRef,isDisabled:l,isHidden:C,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:p,type:"text",value:d},H)):te.createElement(AH,Gn({id:O,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:xv,onFocus:this.onInputFocus,disabled:l,tabIndex:c,inputMode:"none",form:p,value:""},H))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,l=this.getComponents(),s=l.MultiValue,u=l.MultiValueContainer,d=l.MultiValueLabel,c=l.MultiValueRemove,p=l.SingleValue,g=l.Placeholder,w=this.commonProps,_=this.props,T=_.controlShouldRenderValue,x=_.isDisabled,C=_.isMulti,E=_.inputValue,I=_.placeholder,O=this.state,H=O.selectValue,L=O.focusedValue,q=O.isFocused;if(!this.hasValue()||!T)return E?null:te.createElement(g,Gn({},w,{key:"placeholder",isDisabled:x,isFocused:q,innerProps:{id:this.getElementId("placeholder")}}),I);if(C)return H.map(function($,Ae){var K=$===L,ae="".concat(a.getOptionLabel($),"-").concat(a.getOptionValue($));return te.createElement(s,Gn({},w,{components:{Container:u,Label:d,Remove:c},isFocused:K,isDisabled:x,key:ae,index:Ae,removeProps:{onClick:function(){return a.removeValue($)},onTouchEnd:function(){return a.removeValue($)},onMouseDown:function(be){be.preventDefault()}},data:$}),a.formatOptionLabel($,"value"))});if(E)return null;var W=H[0];return te.createElement(p,Gn({},w,{data:W,isDisabled:x}),this.formatOptionLabel(W,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),l=a.ClearIndicator,s=this.commonProps,u=this.props,d=u.isDisabled,c=u.isLoading,p=this.state.isFocused;if(!this.isClearable()||!l||d||!this.hasValue()||c)return null;var g={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return te.createElement(l,Gn({},s,{innerProps:g,isFocused:p}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),l=a.LoadingIndicator,s=this.commonProps,u=this.props,d=u.isDisabled,c=u.isLoading,p=this.state.isFocused;if(!l||!c)return null;var g={"aria-hidden":"true"};return te.createElement(l,Gn({},s,{innerProps:g,isDisabled:d,isFocused:p}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),l=a.DropdownIndicator,s=a.IndicatorSeparator;if(!l||!s)return null;var u=this.commonProps,d=this.props.isDisabled,c=this.state.isFocused;return te.createElement(s,Gn({},u,{isDisabled:d,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),l=a.DropdownIndicator;if(!l)return null;var s=this.commonProps,u=this.props.isDisabled,d=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return te.createElement(l,Gn({},s,{innerProps:c,isDisabled:u,isFocused:d}))}},{key:"renderMenu",value:function(){var a=this,l=this.getComponents(),s=l.Group,u=l.GroupHeading,d=l.Menu,c=l.MenuList,p=l.MenuPortal,g=l.LoadingMessage,w=l.NoOptionsMessage,_=l.Option,T=this.commonProps,x=this.state.focusedOption,C=this.props,E=C.captureMenuScroll,I=C.inputValue,O=C.isLoading,H=C.loadingMessage,L=C.minMenuHeight,q=C.maxMenuHeight,W=C.menuIsOpen,$=C.menuPlacement,Ae=C.menuPosition,K=C.menuPortalTarget,ae=C.menuShouldBlockScroll,pe=C.menuShouldScrollIntoView,be=C.noOptionsMessage,Ze=C.onMenuScrollToTop,it=C.onMenuScrollToBottom;if(!W)return null;var Re=function(Me,at){var It=Me.type,Pt=Me.data,Le=Me.isDisabled,ce=Me.isSelected,Ie=Me.label,Ye=Me.value,se=x===Pt,k=Le?void 0:function(){return a.onOptionHover(Pt)},D=Le?void 0:function(){return a.selectOption(Pt)},z="".concat(a.getElementId("option"),"-").concat(at),re={id:z,onClick:D,onMouseMove:k,onMouseOver:k,tabIndex:-1,role:"option","aria-selected":a.state.isAppleDevice?void 0:ce};return te.createElement(_,Gn({},T,{innerProps:re,data:Pt,isDisabled:Le,isSelected:ce,key:z,label:Ie,type:It,value:Ye,isFocused:se,innerRef:se?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(Me.data,"menu"))},lt;if(this.hasOptions())lt=this.getCategorizedOptions().map(function($e){if($e.type==="group"){var Me=$e.data,at=$e.options,It=$e.index,Pt="".concat(a.getElementId("group"),"-").concat(It),Le="".concat(Pt,"-heading");return te.createElement(s,Gn({},T,{key:Pt,data:Me,options:at,Heading:u,headingProps:{id:Le,data:$e.data},label:a.formatGroupLabel($e.data)}),$e.options.map(function(ce){return Re(ce,"".concat(It,"-").concat(ce.index))}))}else if($e.type==="option")return Re($e,"".concat($e.index))});else if(O){var ge=H({inputValue:I});if(ge===null)return null;lt=te.createElement(g,T,ge)}else{var rt=be({inputValue:I});if(rt===null)return null;lt=te.createElement(w,T,rt)}var Y={minMenuHeight:L,maxMenuHeight:q,menuPlacement:$,menuPosition:Ae,menuShouldScrollIntoView:pe},xe=te.createElement(nB,Gn({},T,Y),function($e){var Me=$e.ref,at=$e.placerProps,It=at.placement,Pt=at.maxHeight;return te.createElement(d,Gn({},T,Y,{innerRef:Me,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:O,placement:It}),te.createElement(IH,{captureEnabled:E,onTopArrive:Ze,onBottomArrive:it,lockEnabled:ae},function(Le){return te.createElement(c,Gn({},T,{innerRef:function(Ie){a.getMenuListRef(Ie),Le(Ie)},innerProps:{role:"listbox","aria-multiselectable":T.isMulti,id:a.getElementId("listbox")},isLoading:O,maxHeight:Pt,focusedOption:x}),lt)}))});return K||Ae==="fixed"?te.createElement(p,Gn({},T,{appendTo:K,controlElement:this.controlRef,menuPlacement:$,menuPosition:Ae}),xe):xe}},{key:"renderFormField",value:function(){var a=this,l=this.props,s=l.delimiter,u=l.isDisabled,d=l.isMulti,c=l.name,p=l.required,g=this.state.selectValue;if(p&&!this.hasValue()&&!u)return te.createElement(FH,{name:c,onFocus:this.onValueInputFocus});if(!(!c||u))if(d)if(s){var w=g.map(function(x){return a.getOptionValue(x)}).join(s);return te.createElement("input",{name:c,type:"hidden",value:w})}else{var _=g.length>0?g.map(function(x,C){return te.createElement("input",{key:"i-".concat(C),name:c,type:"hidden",value:a.getOptionValue(x)})}):te.createElement("input",{name:c,type:"hidden",value:""});return te.createElement("div",null,_)}else{var T=g[0]?this.getOptionValue(g[0]):"";return te.createElement("input",{name:c,type:"hidden",value:T})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,l=this.state,s=l.ariaSelection,u=l.focusedOption,d=l.focusedValue,c=l.isFocused,p=l.selectValue,g=this.getFocusableOptions();return te.createElement(vH,Gn({},a,{id:this.getElementId("live-region"),ariaSelection:s,focusedOption:u,focusedValue:d,isFocused:c,selectValue:p,focusableOptions:g,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),l=a.Control,s=a.IndicatorsContainer,u=a.SelectContainer,d=a.ValueContainer,c=this.props,p=c.className,g=c.id,w=c.isDisabled,_=c.menuIsOpen,T=this.state.isFocused,x=this.commonProps=this.getCommonProps();return te.createElement(u,Gn({},x,{className:p,innerProps:{id:g,onKeyDown:this.onKeyDown},isDisabled:w,isFocused:T}),this.renderLiveRegion(),te.createElement(l,Gn({},x,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:w,isFocused:T,menuIsOpen:_}),te.createElement(d,Gn({},x,{isDisabled:w}),this.renderPlaceholderOrValue(),this.renderInput()),te.createElement(s,Gn({},x,{isDisabled:w}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,l){var s=l.prevProps,u=l.clearFocusValueOnUpdate,d=l.inputIsHiddenAfterUpdate,c=l.ariaSelection,p=l.isFocused,g=l.prevWasFocused,w=l.instancePrefix,_=a.options,T=a.value,x=a.menuIsOpen,C=a.inputValue,E=a.isMulti,I=bx(T),O={};if(s&&(T!==s.value||_!==s.options||x!==s.menuIsOpen||C!==s.inputValue)){var H=x?JH(a,I):[],L=x?Dx(ov(a,I),"".concat(w,"-option")):[],q=u?YH(l,I):null,W=QH(l,H),$=aw(L,W);O={selectValue:I,focusedOption:W,focusedOptionId:$,focusableOptionsWithIds:L,focusedValue:q,clearFocusValueOnUpdate:!1}}var Ae=d!=null&&a!==s?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},K=c,ae=p&&g;return p&&!ae&&(K={value:Gy(E,I,I[0]||null),options:I,action:"initial-input-focus"},ae=!g),c?.action==="initial-input-focus"&&(K=null),Vn(Vn(Vn({},O),Ae),{},{prevProps:a,ariaSelection:K,prevWasFocused:ae})}}]),r}(te.Component);oO.defaultProps=WH;var ZH=te.forwardRef(function(e,t){var r=v3(e);return te.createElement(oO,Gn({ref:t},r))}),Bf=ZH;const e4=({menuEdited:e,indexEditedMenuItem:t,indexEditedCategory:r,setMenuItemIsBeingEdited:i})=>{const a=Zf(),l=e?.categories[r].menuItems[t];return ie.jsxs(ie.Fragment,{children:[ie.jsx("div",{className:"text-center mt-3",children:ie.jsx("img",{src:l?.image!==""?l?.image:"images/menu-item-default-picture.svg",alt:"Menu item image",style:{maxWidth:"500px",maxHeight:"200px",borderRadius:"4%"}})}),ie.jsx(gs,{fluid:!0,children:ie.jsxs(Ro,{gap:3,className:"mt-3",children:[ie.jsxs(zr,{children:[ie.jsx(Fn,{children:ie.jsx(Rr.Control,{value:l?.title})}),ie.jsx(Fn,{children:ie.jsx(Rr.Switch,{reverse:!0,label:a.formatMessage({id:"visible",defaultMessage:"Visible"}),checked:l?.visibility})})]}),ie.jsxs(zr,{children:[ie.jsx(Fn,{children:ie.jsx(hi,{variant:"secondary",children:a.formatMessage({id:"addImage",defaultMessage:"Add image"})})}),ie.jsx(Fn,{className:"text-end",children:ie.jsx(hi,{variant:"secondary",style:{width:"150px",marginLeft:"30px",marginTop:"4px"},children:ie.jsx(hr,{id:"removeImage",defaultMessage:"Remove image"})})})]}),ie.jsxs(Rr.Group,{as:zr,controlId:"menuDescriptionTextInput",children:[ie.jsx(Rr.Label,{column:!0,xs:"3",children:ie.jsx(hr,{id:"menuDescription",defaultMessage:"Description"})}),ie.jsx(Fn,{xs:"9",children:ie.jsx(Rr.Control,{value:l?.description})})]})]})}),ie.jsx("hr",{}),ie.jsx(gs,{children:ie.jsxs(Ro,{gap:3,children:[ie.jsxs(zr,{className:"align-items-center",children:[ie.jsx(Fn,{xs:4,children:ie.jsx(hr,{id:"allergens",defaultMessage:"Allergens"})}),ie.jsx(Fn,{xs:8,children:ie.jsx(Bf,{isMulti:!0,"aria-label":"Allergen select",styles:{control:s=>({...s,minHeight:"42px"})},value:l?.allergens.map(s=>({label:s.label,value:s.iri}))})})]}),ie.jsxs(zr,{className:"align-items-center",children:[ie.jsx(Fn,{xs:4,children:ie.jsx(hr,{id:"suitableForDiets",defaultMessage:"Suitable for diets"})}),ie.jsx(Fn,{xs:8,children:ie.jsx(Bf,{isMulti:!0,"aria-label":"Diet select",value:l?.suitableForDiets.map(s=>({label:s.label,value:s.iri})),styles:{control:s=>({...s,minHeight:"42px"})}})})]}),ie.jsxs(zr,{className:"align-items-center",children:[ie.jsx(Fn,{xs:4,children:ie.jsx(hr,{id:"ingredients",defaultMessage:"Ingredients"})}),ie.jsx(Fn,{xs:8,children:ie.jsx(Bf,{isMulti:!0,"aria-label":"Ingredient select",value:l?.ingredients.map(s=>({label:s.label,value:s.iri})),styles:{control:s=>({...s,minHeight:"42px"})}})})]}),ie.jsxs(Rr.Group,{as:zr,controlId:"servingSizeInput",children:[ie.jsx(Rr.Label,{column:!0,xs:"4",children:ie.jsx(hr,{id:"servingSize",defaultMessage:"Serving size"})}),ie.jsx(Fn,{xs:"3",children:ie.jsx(Rr.Control,{value:l?.servingSize})}),ie.jsx(Fn,{className:"mt-1",children:"g"})]}),ie.jsxs(Rr.Group,{as:zr,controlId:"calorieInput",children:[ie.jsx(Rr.Label,{column:!0,xs:"4",children:ie.jsx(hr,{id:"calories",defaultMessage:"Calories"})}),ie.jsx(Fn,{xs:"3",children:ie.jsx(Rr.Control,{value:l?.calories})}),ie.jsx(Fn,{className:"mt-1",children:"kcal"})]}),ie.jsxs(zr,{className:"align-items-center",children:[ie.jsx(Fn,{xs:4,children:ie.jsx(hr,{id:"nationalCuisines",defaultMessage:"National cuisines"})}),ie.jsx(Fn,{xs:8,children:ie.jsx(Bf,{isMulti:!0,"aria-label":"National cuisine select",value:l?.nationalCuisines.map(s=>({label:s.label,value:s.iri})),styles:{control:s=>({...s,minHeight:"42px"})}})})]}),ie.jsxs(zr,{className:"align-items-center",children:[ie.jsx(Fn,{xs:4,children:ie.jsx(hr,{id:"cookingMethods",defaultMessage:"Preparation methods"})}),ie.jsx(Fn,{xs:8,children:ie.jsx(Bf,{isMulti:!0,"aria-label":"Preparation method select",value:l?.preparationMethods.map(s=>({label:s.label,value:s.iri})),styles:{control:s=>({...s,minHeight:"42px"})}})})]}),ie.jsxs(zr,{className:"align-items-center",children:[ie.jsx(Fn,{xs:4,children:ie.jsx(hr,{id:"spicinessLevel",defaultMessage:"Spiciness level"})}),ie.jsx(Fn,{xs:8,children:ie.jsx(Bf,{"aria-label":"Spiciness level select",value:{label:l?.spicinessLevel,value:l?.spicinessLevel},styles:{control:s=>({...s,minHeight:"42px"})}})})]})]})}),ie.jsx(Wf,{sticky:"bottom",children:ie.jsxs(gs,{children:[ie.jsx(hi,{variant:"secondary",onClick:()=>{i(!1)},children:ie.jsx(hr,{id:"cancel",defaultMessage:"Cancel"})}),ie.jsx(Wf.Collapse,{className:"justify-content-end",children:ie.jsx(hi,{children:ie.jsx(hr,{id:"save",defaultMessage:"Save"})})})]})})]})},t4=({brandData:e,indexEditedMenu:t,indexEditedLocation:r,setMenuIsBeingEdited:i})=>{const a=()=>{const l=Zf(),s=e?.outlets[r].menus[t],[u,d]=te.useState(!1),[c,p]=te.useState(0),[g,w]=te.useState(0);return u?ie.jsx(e4,{menuEdited:s,indexEditedCategory:c,indexEditedMenuItem:g,setMenuItemIsBeingEdited:d}):ie.jsxs(ie.Fragment,{children:[ie.jsx(gs,{fluid:!0,children:ie.jsxs(Ro,{gap:3,className:"mt-3",children:[ie.jsxs(zr,{className:"align-items-center",children:[ie.jsx(Fn,{children:ie.jsx(Rr.Control,{style:{maxWidth:"200px"},value:s?.title})}),ie.jsx(Fn,{children:ie.jsx(Rr.Switch,{reverse:!0,label:l.formatMessage({id:"visible",defaultMessage:"Visible"}),checked:s?.visibility})})]}),ie.jsx(zr,{children:ie.jsx(Fn,{children:ie.jsxs(Rr.Group,{as:zr,controlId:"menuDescriptionTextInput",children:[ie.jsx(Rr.Label,{column:!0,xs:"3",children:ie.jsx(hr,{id:"menuDescription",defaultMessage:"Description"})}),ie.jsx(Fn,{xs:"9",children:ie.jsx(Rr.Control,{value:s?.description})})]})})}),ie.jsxs(zr,{children:[ie.jsx(Fn,{xs:7,children:ie.jsxs(Rr.Group,{as:zr,controlId:"menuCurrencyTextInput",children:[ie.jsx(Rr.Label,{column:!0,xs:"4",children:ie.jsx(hr,{id:"currency",defaultMessage:"Currency"})}),ie.jsx(Fn,{children:ie.jsxs(Rr.Select,{style:{width:"60px"},"aria-label":"Currency select",value:s?.currency,children:[ie.jsx("option",{value:"1",children:""}),ie.jsx("option",{value:"2",children:"$"}),ie.jsx("option",{value:"3",children:""})]})})]})}),ie.jsx(Fn,{className:"text-end",children:ie.jsx(hi,{variant:"secondary",children:l.formatMessage({id:"scheduleMenu",defaultMessage:"Schedule"})})})]}),ie.jsxs(zr,{children:[ie.jsx(Fn,{children:ie.jsx(hi,{variant:"secondary",children:l.formatMessage({id:"addCategory",defaultMessage:"Add category"})})}),ie.jsx(Fn,{className:"text-end",children:ie.jsx(hi,{variant:"secondary",children:ie.jsx(hr,{id:"shareMenu",defaultMessage:"Share"})})})]})]})}),ie.jsx("hr",{}),ie.jsx(gs,{fluid:!0,children:s?.categories.map((_,T)=>{const x=T;return ie.jsxs("div",{className:"mb-4",children:[ie.jsxs(zr,{children:[ie.jsx(Fn,{xs:4,children:ie.jsx(Rr.Control,{value:_.title})}),ie.jsx(Fn,{xs:8,children:ie.jsxs(Ro,{direction:"horizontal",gap:2,children:[ie.jsx(hi,{variant:"secondary",className:"ms-auto",children:ie.jsx(hr,{id:"addMenuItem",defaultMessage:"Add item"})}),ie.jsx("button",{style:{background:"none",border:"none"},"aria-label":"Move category up",children:ie.jsx("img",{src:"images/arrow-up.svg",alt:"Arrow up",style:{width:"25px"}})}),ie.jsx("button",{style:{background:"none",border:"none"},"aria-label":"Move category down",children:ie.jsx("img",{src:"images/arrow-down.svg",alt:"Arrow down",style:{width:"25px"}})}),ie.jsx("button",{style:{background:"none",border:"none"},"aria-label":"Delete category",children:ie.jsx("img",{src:"images/trash.svg",alt:"Trash",style:{width:"25px"}})})]})})]}),_.menuItems.map((C,E)=>{const I=E;return ie.jsxs(zr,{className:"align-items-center mt-2",children:[ie.jsx(Fn,{xs:4,children:ie.jsxs(Rr.Group,{as:zr,controlId:"menuDescriptionTextInput",children:[ie.jsxs(Rr.Label,{column:!0,xs:"2",children:[I+1,"."]}),ie.jsx(Fn,{xs:"9",children:ie.jsx(Rr.Control,{value:C.title})})]})}),ie.jsx(Fn,{xs:8,children:ie.jsxs(Ro,{direction:"horizontal",gap:2,children:[ie.jsx(hi,{variant:"secondary",className:"ms-auto",onClick:()=>{p(x),w(I),d(!0)},children:ie.jsx(hr,{id:"editMenuItem",defaultMessage:"Edit"})}),ie.jsx("button",{style:{background:"none",border:"none"},"aria-label":"Move menu item up",children:ie.jsx("img",{src:"images/arrow-up.svg",alt:"Arrow up",style:{width:"25px"}})}),ie.jsx("button",{style:{background:"none",border:"none"},"aria-label":"Move menu item down",children:ie.jsx("img",{src:"images/arrow-down.svg",alt:"Arrow down",style:{width:"25px"}})}),ie.jsx("button",{style:{background:"none",border:"none",marginRight:"38px"},"aria-label":"Delete menu item",children:ie.jsx("img",{src:"images/trash.svg",alt:"Trash",style:{width:"25px"}})})]})})]})})]})})}),ie.jsx(Wf,{sticky:"bottom",children:ie.jsxs(gs,{children:[ie.jsx(hi,{variant:"secondary",onClick:()=>{i(!1)},children:ie.jsx(hr,{id:"cancel",defaultMessage:"Cancel"})}),ie.jsx(Wf.Collapse,{className:"justify-content-end",children:ie.jsx(hi,{children:ie.jsx(hr,{id:"save",defaultMessage:"Save"})})})]})})]})};return ie.jsxs(ie.Fragment,{children:[ie.jsx("div",{className:"d-none d-lg-flex",style:{height:"100dvh",backgroundColor:"#FAFAFA"},children:ie.jsx(fm,{className:"position-absolute top-50 start-50 translate-middle shadow-sm",style:{width:"700px",height:"90dvh",overflowY:"auto"},children:ie.jsx(a,{})})}),ie.jsx("div",{className:"d-lg-none",children:ie.jsx(a,{})})]})};var qy;function Lx(e){if((!qy&&qy!==0||e)&&Th){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),qy=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return qy}function n4(){return te.useState(null)}function r4(e){const t=te.useRef(e);return t.current=e,t}function i4(e){const t=r4(e);te.useEffect(()=>()=>t.current(),[])}const sO=te.forwardRef(({className:e,bsPrefix:t,as:r="div",...i},a)=>(t=mr(t,"modal-body"),ie.jsx(r,{ref:a,className:Jn(e,t),...i})));sO.displayName="ModalBody";const fS=te.forwardRef(({bsPrefix:e,className:t,contentClassName:r,centered:i,size:a,fullscreen:l,children:s,scrollable:u,...d},c)=>{e=mr(e,"modal");const p=`${e}-dialog`,g=typeof l=="string"?`${e}-fullscreen-${l}`:`${e}-fullscreen`;return ie.jsx("div",{...d,ref:c,className:Jn(p,t,a&&`${e}-${a}`,i&&`${p}-centered`,u&&`${p}-scrollable`,l&&g),children:ie.jsx("div",{className:Jn(`${e}-content`,r),children:s})})});fS.displayName="ModalDialog";const lO=te.forwardRef(({className:e,bsPrefix:t,as:r="div",...i},a)=>(t=mr(t,"modal-footer"),ie.jsx(r,{ref:a,className:Jn(e,t),...i})));lO.displayName="ModalFooter";const uO=te.forwardRef(({bsPrefix:e,className:t,closeLabel:r="Close",closeButton:i=!1,...a},l)=>(e=mr(e,"modal-header"),ie.jsx(Z_,{ref:l,...a,className:Jn(t,e),closeLabel:r,closeButton:i})));uO.displayName="ModalHeader";const a4=zv("h4"),cO=te.forwardRef(({className:e,bsPrefix:t,as:r=a4,...i},a)=>(t=mr(t,"modal-title"),ie.jsx(r,{ref:a,className:Jn(e,t),...i})));cO.displayName="ModalTitle";function o4(e){return ie.jsx(Qv,{...e,timeout:null})}function s4(e){return ie.jsx(Qv,{...e,timeout:null})}const fO=te.forwardRef(({bsPrefix:e,className:t,style:r,dialogClassName:i,contentClassName:a,children:l,dialogAs:s=fS,"data-bs-theme":u,"aria-labelledby":d,"aria-describedby":c,"aria-label":p,show:g=!1,animation:w=!0,backdrop:_=!0,keyboard:T=!0,onEscapeKeyDown:x,onShow:C,onHide:E,container:I,autoFocus:O=!0,enforceFocus:H=!0,restoreFocus:L=!0,restoreFocusOptions:q,onEntered:W,onExit:$,onExiting:Ae,onEnter:K,onEntering:ae,onExited:pe,backdropClassName:be,manager:Ze,...it},Re)=>{const[lt,ge]=te.useState({}),[rt,Y]=te.useState(!1),xe=te.useRef(!1),$e=te.useRef(!1),Me=te.useRef(null),[at,It]=n4(),Pt=i2(Re,It),Le=wh(E),ce=MU();e=mr(e,"modal");const Ie=te.useMemo(()=>({onHide:Le}),[Le]);function Ye(){return Ze||c2({isRTL:ce})}function se(et){if(!Th)return;const Q=Ye().getScrollbarWidth()>0,j=et.scrollHeight>Jv(et).documentElement.clientHeight;ge({paddingRight:Q&&!j?Lx():void 0,paddingLeft:!Q&&j?Lx():void 0})}const k=wh(()=>{at&&se(at.dialog)});i4(()=>{Bw(window,"resize",k),Me.current==null||Me.current()});const D=()=>{xe.current=!0},z=et=>{xe.current&&at&&et.target===at.dialog&&($e.current=!0),xe.current=!1},re=()=>{Y(!0),Me.current=n2(at.dialog,()=>{Y(!1)})},Se=et=>{et.target===et.currentTarget&&re()},Ne=et=>{if(_==="static"){Se(et);return}if($e.current||et.target!==et.currentTarget){$e.current=!1;return}E?.()},ct=et=>{T?x?.(et):(et.preventDefault(),_==="static"&&re())},Pe=(et,Q)=>{et&&se(et),K?.(et,Q)},mt=et=>{Me.current==null||Me.current(),$?.(et)},Tt=(et,Q)=>{ae?.(et,Q),YT(window,"resize",k)},bt=et=>{et&&(et.style.display=""),pe?.(et),Bw(window,"resize",k)},Xe=te.useCallback(et=>ie.jsx("div",{...et,className:Jn(`${e}-backdrop`,be,!w&&"show")}),[w,be,e]),qe={...r,...lt};qe.display="block";const Fe=et=>ie.jsx("div",{role:"dialog",...et,style:qe,className:Jn(t,e,rt&&`${e}-static`,!w&&"show"),onClick:_?Ne:void 0,onMouseUp:z,"data-bs-theme":u,"aria-label":p,"aria-labelledby":d,"aria-describedby":c,children:ie.jsx(s,{...it,onMouseDown:D,className:i,contentClassName:a,children:l})});return ie.jsx(Q_.Provider,{value:Ie,children:ie.jsx(e2,{show:g,ref:Pt,backdrop:_,container:I,keyboard:!0,autoFocus:O,enforceFocus:H,restoreFocus:L,restoreFocusOptions:q,onEscapeKeyDown:ct,onShow:C,onHide:E,onEnter:Pe,onEntering:Tt,onEntered:W,onExit:mt,onExiting:Ae,onExited:bt,manager:Ye(),transition:w?o4:void 0,backdropTransition:w?s4:void 0,renderBackdrop:Xe,renderDialog:Fe})})});fO.displayName="Modal";const Ks=Object.assign(fO,{Body:sO,Header:uO,Title:cO,Footer:lO,Dialog:fS,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),l4=({locations:e,indexEditedLocation:t,setLocationIsBeingEdited:r})=>ie.jsxs(ie.Fragment,{children:[ie.jsx(gs,{fluid:!0,children:ie.jsxs(Ro,{gap:3,className:"mt-3",children:[ie.jsx(Rr.Control,{value:e!==void 0?e[t].name:"",style:{width:"150px"}}),ie.jsxs(Rr.Group,{as:zr,controlId:"locationAddressTextInput",children:[ie.jsx(Rr.Label,{column:!0,xs:"4",children:ie.jsx(hr,{id:"locationAddress",defaultMessage:"Address"})}),ie.jsx(Fn,{xs:"8",children:ie.jsx(Rr.Control,{value:e!==void 0?e[t].address:""})})]}),ie.jsxs(Rr.Group,{as:zr,controlId:"openingHoursTextInput",children:[ie.jsx(Rr.Label,{column:!0,xs:"4",children:ie.jsx(hr,{id:"openingHours",defaultMessage:"Opening hours"})}),ie.jsx(Fn,{xs:"8",children:ie.jsx(Rr.Control,{value:e!==void 0?e[t].openingHours:""})})]})]})}),ie.jsx(Wf,{sticky:"bottom",children:ie.jsxs(gs,{children:[ie.jsx(hi,{variant:"secondary",onClick:()=>{r(!1)},children:ie.jsx(hr,{id:"cancel",defaultMessage:"Cancel"})}),ie.jsx(Wf.Collapse,{className:"justify-content-end",children:ie.jsx(hi,{children:ie.jsx(hr,{id:"save",defaultMessage:"Save"})})})]})})]}),u4=({brand:e})=>ie.jsxs(ie.Fragment,{children:[ie.jsx("div",{className:"text-center mt-3",children:ie.jsx("img",{src:e?.logo!==""?e?.logo:"images/menu-item-default-picture.svg",alt:"Brand logo",style:{maxWidth:"300px",maxHeight:"125px",borderRadius:"4%"}})}),ie.jsx(gs,{fluid:!0,style:{maxWidth:"700px",marginTop:"20px"},children:ie.jsxs(Ro,{gap:3,children:[ie.jsxs(zr,{children:[ie.jsx(Fn,{xs:5,children:ie.jsx(Rr.Control,{value:e?.name})}),ie.jsx(Fn,{xs:4,children:ie.jsx(hi,{variant:"secondary",children:ie.jsx(hr,{id:"addLogo",defaultMessage:"Add logo"})})}),ie.jsx(Fn,{xs:3,children:ie.jsx(hi,{variant:"secondary",children:ie.jsx(hr,{id:"remove",defaultMessage:"Remove"})})})]}),ie.jsxs(Rr.Group,{as:zr,controlId:"brandSloganTextInput",children:[ie.jsx(Rr.Label,{column:!0,xs:"4",children:"Slogan"}),ie.jsx(Fn,{xs:"8",children:ie.jsx(Rr.Control,{value:e?.slogan})})]})]})})]}),c4=()=>{const e=Zf(),[t,r]=te.useState(!1),[i,a]=te.useState(0),[l,s]=te.useState(!1),[u,d]=te.useState(!1),[c]=te.useState(0),[p,g]=te.useState(0),[w,_]=te.useState(!1),[T,x]=te.useState(!1),C=NU({queryKey:["getMenuDataFromSolidPod"],queryFn:E});async function E(){return{iri:"https://example.com/brand/farm-table",name:"Farm & Table",logo:"",slogan:"From local fields to your plate.",outlets:[{iri:"https://example.com/outlet/berlin-mitte",name:"Farm & Table  Berlin Mitte",address:"Friedrichstrae 120, 10117 Berlin, Germany",openingHours:"MonSun 08:0022:00",menus:[{iri:"https://example.com/menu/lunch",title:"Lunch Menu",availability:"MonFri 11:0015:00",description:"Fresh and balanced dishes to power your workday.",visibility:!0,currency:"EUR",categories:[{iri:"https://example.com/menu-category/soups",title:"Soups",menuItems:[{iri:"https://example.com/menu-item/tomato-soup",title:"Roasted Tomato Soup",description:"Slow-roasted tomatoes with basil oil and toasted rye.",visibility:!0,price:6.5,image:"",allergens:[{label:"Gluten",iri:"http://example.com/allergen/gluten"}],suitableForDiets:[{label:"Vegan",iri:"http://example.com/diet/vegan"}],ingredients:[{label:"Tomato",iri:"http://example.com/ingredient/tomato"},{label:"Garlic",iri:"http://example.com/ingredient/garlic"},{label:"Basil",iri:"http://example.com/ingredient/basil"}],servingSize:300,calories:280,nationalCuisines:[{label:"Italian",iri:"http://example.com/cuisine/italian"}],preparationMethods:[{label:"Roasted",iri:"http://example.com/prep/roasted"}],spicinessLevel:"Mild"}]},{iri:"https://example.com/menu-category/main-courses",title:"Main Courses",menuItems:[{iri:"https://example.com/menu-item/veggie-burger",title:"Grilled Veggie Burger",description:"Black bean patty, avocado, and house-made pickles.",visibility:!0,price:10.5,image:"",allergens:[{label:"Gluten",iri:"http://example.com/allergen/gluten"},{label:"Soy",iri:"http://example.com/allergen/soy"}],suitableForDiets:[{label:"Vegetarian",iri:"http://example.com/diet/vegetarian"}],ingredients:[{label:"Black beans",iri:"http://example.com/ingredient/black-beans"},{label:"Avocado",iri:"http://example.com/ingredient/avocado"},{label:"Pickles",iri:"http://example.com/ingredient/pickles"}],servingSize:350,calories:620,nationalCuisines:[{label:"American",iri:"http://example.com/cuisine/american"}],preparationMethods:[{label:"Grilled",iri:"http://example.com/prep/grilled"}],spicinessLevel:"Medium"}]}]},{iri:"https://example.com/menu/weekend-brunch",title:"Weekend Brunch",availability:"SatSun 10:0014:00",description:"Relax and refuel with our weekend brunch specials.",visibility:!0,currency:"EUR",categories:[{iri:"https://example.com/menu-category/breakfast-bowls",title:"Breakfast Bowls",menuItems:[{iri:"https://example.com/menu-item/granola-bowl",title:"Berry Granola Bowl",description:"Crunchy granola with Greek yogurt and seasonal berries.",visibility:!0,price:6.8,image:"",allergens:[{label:"Dairy",iri:"http://example.com/allergen/dairy"},{label:"Nuts",iri:"http://example.com/allergen/nuts"}],suitableForDiets:[{label:"Vegetarian",iri:"http://example.com/diet/vegetarian"}],ingredients:[{label:"Yogurt",iri:"http://example.com/ingredient/yogurt"},{label:"Granola",iri:"http://example.com/ingredient/granola"},{label:"Berries",iri:"http://example.com/ingredient/berries"}],servingSize:280,calories:410,nationalCuisines:[{label:"Continental",iri:"http://example.com/cuisine/continental"}],preparationMethods:[{label:"Chilled",iri:"http://example.com/prep/chilled"}],spicinessLevel:"Not at all"}]}]}]},{iri:"https://example.com/outlet/paris-le-marais",name:"Farm & Table  Le Marais",address:"Rue Vieille du Temple 45, 75004 Paris, France",openingHours:"TueSun 09:0023:00",menus:[{iri:"https://example.com/menu/dinner",title:"Dinner Menu",availability:"TueSun 17:0022:00",description:"Elegant dishes featuring locally sourced ingredients.",visibility:!0,currency:"EUR",categories:[{iri:"https://example.com/menu-category/starters",title:"Starters",menuItems:[{iri:"https://example.com/menu-item/beet-tartare",title:"Beet Tartare",description:"Beets, capers, shallots, and horseradish cream.",visibility:!0,price:7.2,image:"",allergens:[{label:"Dairy",iri:"http://example.com/allergen/dairy"}],suitableForDiets:[{label:"Vegetarian",iri:"http://example.com/diet/vegetarian"}],ingredients:[{label:"Beetroot",iri:"http://example.com/ingredient/beetroot"},{label:"Shallots",iri:"http://example.com/ingredient/shallots"},{label:"Capers",iri:"http://example.com/ingredient/capers"}],servingSize:200,calories:320,nationalCuisines:[{label:"French",iri:"http://example.com/cuisine/french"}],preparationMethods:[{label:"Raw",iri:"http://example.com/prep/raw"}],spicinessLevel:"Not at all"}]}]}]}]}}return t?ie.jsx(t4,{brandData:C.data,indexEditedMenu:i,indexEditedLocation:c,setMenuIsBeingEdited:r}):ie.jsxs("div",{style:{height:"100dvh",backgroundColor:"#FAFAFA"},children:[ie.jsxs(Ks,{show:l,onHide:()=>{s(!1),d(!1)},children:[ie.jsx(Ks.Header,{closeButton:!0,children:ie.jsx(Ks.Title,{children:ie.jsx(hr,{id:"locationSettings",defaultMessage:"Location settings"})})}),ie.jsxs(Ks.Body,{children:[u&&ie.jsx(l4,{indexEditedLocation:p,locations:C.data?.outlets,setLocationIsBeingEdited:d}),!u&&ie.jsxs(ie.Fragment,{children:[ie.jsxs(zr,{className:"align-items-center",children:[ie.jsx(Fn,{xs:5,children:ie.jsx(hr,{id:"currentLocation",defaultMessage:"Current location"})}),ie.jsx(Fn,{children:ie.jsx(Bf,{"aria-label":"Location select",value:{label:C.data?.outlets[c].name,value:C.data?.outlets[c].name},styles:{control:I=>({...I,minHeight:"42px"})}})})]}),ie.jsxs(zr,{className:"mt-3 align-items-center",children:[ie.jsx(Fn,{style:{fontWeight:700},children:ie.jsx(hr,{id:"manageLocations",defaultMessage:"Manage locations"})}),ie.jsx(Fn,{className:"text-end",children:ie.jsx(hi,{variant:"secondary",children:e.formatMessage({id:"add",defaultMessage:"Add location"})})})]}),ie.jsx(Ro,{className:"mt-3",gap:2,children:C.data?.outlets.map((I,O)=>ie.jsxs(zr,{className:"align-items-center",children:[ie.jsx(Fn,{children:ie.jsx(Rr.Control,{value:I.name})}),ie.jsx(Fn,{children:ie.jsxs(Ro,{direction:"horizontal",gap:2,children:[ie.jsx(hi,{variant:"secondary",className:"ms-auto",onClick:()=>{d(!0),g(O)},children:ie.jsx(hr,{id:"edit",defaultMessage:"Edit"})}),ie.jsx("button",{style:{background:"none",border:"none",paddingRight:"20px"},"aria-label":"Delete location",children:ie.jsx("img",{src:"images/trash.svg",alt:"Trash",style:{width:"25px"}})})]})})]}))})]})]}),ie.jsxs(Ks.Footer,{children:[ie.jsx(hi,{onClick:()=>{s(!1),d(!1)},variant:"secondary",children:ie.jsx(hr,{id:"cancel",defaultMessage:"Cancel"})}),ie.jsx(hi,{variant:"primary",children:ie.jsx(hr,{id:"save",defaultMessage:"Save"})})]})]}),ie.jsxs(Ks,{show:w,onHide:()=>{_(!1)},children:[ie.jsx(Ks.Header,{closeButton:!0,children:ie.jsx(Ks.Title,{children:ie.jsx(hr,{id:"brandSettings",defaultMessage:"Brand settings"})})}),ie.jsx(Ks.Body,{children:ie.jsx(u4,{brand:C.data})}),ie.jsxs(Ks.Footer,{children:[ie.jsx(hi,{onClick:()=>{_(!1)},variant:"secondary",children:ie.jsx(hr,{id:"cancel",defaultMessage:"Cancel"})}),ie.jsx(hi,{variant:"primary",children:ie.jsx(hr,{id:"save",defaultMessage:"Save"})})]})]}),ie.jsxs(nv,{show:T,onHide:()=>{x(!1)},placement:"end",style:{maxWidth:"200px"},children:[ie.jsx(nv.Header,{closeButton:!0,children:ie.jsx(nv.Title,{children:ie.jsx(hr,{id:"settings",defaultMessage:"Settings"})})}),ie.jsxs("button",{className:"offcanvas-item-button text-start position-relative",onClick:()=>{x(!1),s(!0)},children:[ie.jsx("img",{src:"images/geo-alt.svg",alt:"Location settings",className:"offcanvas-item-button-icon position-absolute"}),ie.jsx("span",{className:"ms-5",children:ie.jsx(hr,{id:"switchLocation",defaultMessage:"Switch location"})})]}),ie.jsxs("button",{onClick:()=>{x(!1),_(!0)},className:"offcanvas-item-button text-start position-relative",children:[ie.jsx("img",{src:"images/gear.svg",alt:"Settings icon",className:"offcanvas-item-button-icon position-absolute"}),ie.jsx("span",{className:"ms-5",children:ie.jsx(hr,{id:"brandSettings",defaultMessage:"Brand settings"})})]}),ie.jsxs("button",{className:"offcanvas-item-button text-start position-relative",children:[ie.jsx("img",{src:"images/box-arrow-right.svg",alt:"Sign out icon",className:"offcanvas-item-button-icon position-absolute"}),ie.jsx("span",{className:"ms-5 text-danger",children:ie.jsx(hr,{id:"signOut",defaultMessage:"Sign out"})})]})]}),ie.jsx(Wf,{sticky:"top",style:{backgroundColor:"#7C4DFF",minHeight:"75px"},children:ie.jsxs(zr,{className:"w-100 align-items-center",children:[ie.jsx(Fn,{xs:9,children:ie.jsx("span",{style:{color:"white",fontSize:"x-large",fontWeight:500,marginLeft:"20px"},children:C.data?.outlets[c].name})}),ie.jsx(Fn,{className:"text-end",children:ie.jsx("button",{style:{background:"none",border:"none"},"aria-label":"Open offcanvas",onClick:()=>{x(!0)},children:ie.jsx("img",{src:"images/list.svg",alt:"Hamburger icon",style:{width:"40px"}})})})]})}),ie.jsx(Ro,{gap:3,className:"ps-3 pe-3 mt-3",children:C.data?.outlets[c].menus.map((I,O)=>ie.jsx(fm,{style:{maxWidth:"470px"},children:ie.jsx(fm.Body,{children:ie.jsx(gs,{children:ie.jsxs(Ro,{gap:3,children:[ie.jsxs(zr,{children:[ie.jsx(Fn,{xs:7,children:ie.jsx("div",{style:{fontWeight:700},children:I.title})}),ie.jsx(Fn,{children:ie.jsx(Rr.Switch,{reverse:!0,label:e.formatMessage({id:"visible",defaultMessage:"Visible"}),checked:I.visibility})})]}),ie.jsx(zr,{children:ie.jsx(Fn,{children:ie.jsxs("div",{children:[ie.jsx("img",{src:"images/calendar-week.svg",alt:"Calendar icon",style:{width:"20px"}}),ie.jsx("span",{className:"text-muted ms-2",style:{fontWeight:500},children:I.availability})]})})}),ie.jsxs(zr,{children:[ie.jsx(Fn,{children:ie.jsx(hi,{variant:"secondary",onClick:()=>{a(O),r(!0)},children:ie.jsx(hr,{id:"editMenu",defaultMessage:"Edit"})})}),ie.jsx(Fn,{className:"text-end",children:ie.jsx(hi,{variant:"secondary",children:e.formatMessage({id:"scheduleMenu",defaultMessage:"Schedule"})})})]})]})})})}))}),ie.jsx(hi,{className:"position-absolute position-fixed bottom-0 end-0 mb-4 me-4 add-menu-round-button shadow",onClick:()=>{r(!0)},children:ie.jsx("img",{src:"images/plus.svg",alt:"Add menu icon",className:"edit-profile-round-icon",style:{width:"36px"}})})]})},f4=()=>{const e=new gU;return ie.jsx(qF.SessionProvider,{restorePreviousSession:!0,children:ie.jsx(RM,{children:ie.jsx(wU,{client:e,children:ie.jsx(VL,{basename:"/solid-menu-manager/",children:ie.jsxs(vL,{children:[ie.jsx(Zy,{path:"/",element:ie.jsx(c4,{})}),ie.jsx(Zy,{path:"/login",element:ie.jsx(ek,{})}),ie.jsx(Zy,{path:"*",element:ie.jsx(mL,{to:"/",replace:!0})})]})})})})})};KO.createRoot(document.getElementById("root")).render(ie.jsx(te.StrictMode,{children:ie.jsx(f4,{})}));
