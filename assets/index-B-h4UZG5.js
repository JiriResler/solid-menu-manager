function aO(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();var vS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bv(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var a=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:function(){return e[i]}})}),r}var w0={exports:{}},Vp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS;function oO(){if(bS)return Vp;bS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(i,a,l){var s=null;if(l!==void 0&&(s=""+l),a.key!==void 0&&(s=""+a.key),"key"in a){l={};for(var u in a)u!=="key"&&(l[u]=a[u])}else l=a;return a=l.ref,{$$typeof:e,type:i,key:s,ref:a!==void 0?a:null,props:l}}return Vp.Fragment=t,Vp.jsx=r,Vp.jsxs=r,Vp}var wS;function sO(){return wS||(wS=1,w0.exports=oO()),w0.exports}var ge=sO(),_0={exports:{}},gr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S;function lO(){if(_S)return gr;_S=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function w(Y){return Y===null||typeof Y!="object"?null:(Y=m&&Y[m]||Y["@@iterator"],typeof Y=="function"?Y:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function T(Y,Re,Ke){this.props=Y,this.context=Re,this.refs=R,this.updater=Ke||S}T.prototype.isReactComponent={},T.prototype.setState=function(Y,Re){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,Re,"setState")},T.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function E(){}E.prototype=T.prototype;function N(Y,Re,Ke){this.props=Y,this.context=Re,this.refs=R,this.updater=Ke||S}var O=N.prototype=new E;O.constructor=N,C(O,T.prototype),O.isPureReactComponent=!0;var V=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function W(Y,Re,Ke,Ue,at,It){return Ke=It.ref,{$$typeof:e,type:Y,key:Re,ref:Ke!==void 0?Ke:null,props:It}}function $(Y,Re){return W(Y.type,Re,void 0,void 0,void 0,Y.props)}function Ce(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function K(Y){var Re={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(Ke){return Re[Ke]})}var re=/\/+/g;function pe(Y,Re){return typeof Y=="object"&&Y!==null&&Y.key!=null?K(""+Y.key):Re.toString(36)}function _e(){}function et(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(_e,_e):(Y.status="pending",Y.then(function(Re){Y.status==="pending"&&(Y.status="fulfilled",Y.value=Re)},function(Re){Y.status==="pending"&&(Y.status="rejected",Y.reason=Re)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function rt(Y,Re,Ke,Ue,at){var It=typeof Y;(It==="undefined"||It==="boolean")&&(Y=null);var Nt=!1;if(Y===null)Nt=!0;else switch(It){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(Y.$$typeof){case e:case t:Nt=!0;break;case p:return Nt=Y._init,rt(Nt(Y._payload),Re,Ke,Ue,at)}}if(Nt)return at=at(Y),Nt=Ue===""?"."+pe(Y,0):Ue,V(at)?(Ke="",Nt!=null&&(Ke=Nt.replace(re,"$&/")+"/"),rt(at,Re,Ke,"",function(Ie){return Ie})):at!=null&&(Ce(at)&&(at=$(at,Ke+(at.key==null||Y&&Y.key===at.key?"":(""+at.key).replace(re,"$&/")+"/")+Nt)),Re.push(at)),1;Nt=0;var Me=Ue===""?".":Ue+":";if(V(Y))for(var ue=0;ue<Y.length;ue++)Ue=Y[ue],It=Me+pe(Ue,ue),Nt+=rt(Ue,Re,Ke,It,at);else if(ue=w(Y),typeof ue=="function")for(Y=ue.call(Y),ue=0;!(Ue=Y.next()).done;)Ue=Ue.value,It=Me+pe(Ue,ue++),Nt+=rt(Ue,Re,Ke,It,at);else if(It==="object"){if(typeof Y.then=="function")return rt(et(Y),Re,Ke,Ue,at);throw Re=String(Y),Error("Objects are not valid as a React child (found: "+(Re==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":Re)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function xe(Y,Re,Ke){if(Y==null)return Y;var Ue=[],at=0;return rt(Y,Ue,"","",function(It){return Re.call(Ke,It,at++)}),Ue}function lt(Y){if(Y._status===-1){var Re=Y._result;Re=Re(),Re.then(function(Ke){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=Ke)},function(Ke){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=Ke)}),Y._status===-1&&(Y._status=0,Y._result=Re)}if(Y._status===1)return Y._result.default;throw Y._result}var he=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(Re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function nt(){}return gr.Children={map:xe,forEach:function(Y,Re,Ke){xe(Y,function(){Re.apply(this,arguments)},Ke)},count:function(Y){var Re=0;return xe(Y,function(){Re++}),Re},toArray:function(Y){return xe(Y,function(Re){return Re})||[]},only:function(Y){if(!Ce(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},gr.Component=T,gr.Fragment=r,gr.Profiler=a,gr.PureComponent=N,gr.StrictMode=i,gr.Suspense=d,gr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,gr.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return L.H.useMemoCache(Y)}},gr.cache=function(Y){return function(){return Y.apply(null,arguments)}},gr.cloneElement=function(Y,Re,Ke){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var Ue=C({},Y.props),at=Y.key,It=void 0;if(Re!=null)for(Nt in Re.ref!==void 0&&(It=void 0),Re.key!==void 0&&(at=""+Re.key),Re)!z.call(Re,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&Re.ref===void 0||(Ue[Nt]=Re[Nt]);var Nt=arguments.length-2;if(Nt===1)Ue.children=Ke;else if(1<Nt){for(var Me=Array(Nt),ue=0;ue<Nt;ue++)Me[ue]=arguments[ue+2];Ue.children=Me}return W(Y.type,at,void 0,void 0,It,Ue)},gr.createContext=function(Y){return Y={$$typeof:s,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:l,_context:Y},Y},gr.createElement=function(Y,Re,Ke){var Ue,at={},It=null;if(Re!=null)for(Ue in Re.key!==void 0&&(It=""+Re.key),Re)z.call(Re,Ue)&&Ue!=="key"&&Ue!=="__self"&&Ue!=="__source"&&(at[Ue]=Re[Ue]);var Nt=arguments.length-2;if(Nt===1)at.children=Ke;else if(1<Nt){for(var Me=Array(Nt),ue=0;ue<Nt;ue++)Me[ue]=arguments[ue+2];at.children=Me}if(Y&&Y.defaultProps)for(Ue in Nt=Y.defaultProps,Nt)at[Ue]===void 0&&(at[Ue]=Nt[Ue]);return W(Y,It,void 0,void 0,null,at)},gr.createRef=function(){return{current:null}},gr.forwardRef=function(Y){return{$$typeof:u,render:Y}},gr.isValidElement=Ce,gr.lazy=function(Y){return{$$typeof:p,_payload:{_status:-1,_result:Y},_init:lt}},gr.memo=function(Y,Re){return{$$typeof:c,type:Y,compare:Re===void 0?null:Re}},gr.startTransition=function(Y){var Re=L.T,Ke={};L.T=Ke;try{var Ue=Y(),at=L.S;at!==null&&at(Ke,Ue),typeof Ue=="object"&&Ue!==null&&typeof Ue.then=="function"&&Ue.then(nt,he)}catch(It){he(It)}finally{L.T=Re}},gr.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},gr.use=function(Y){return L.H.use(Y)},gr.useActionState=function(Y,Re,Ke){return L.H.useActionState(Y,Re,Ke)},gr.useCallback=function(Y,Re){return L.H.useCallback(Y,Re)},gr.useContext=function(Y){return L.H.useContext(Y)},gr.useDebugValue=function(){},gr.useDeferredValue=function(Y,Re){return L.H.useDeferredValue(Y,Re)},gr.useEffect=function(Y,Re,Ke){var Ue=L.H;if(typeof Ke=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ue.useEffect(Y,Re)},gr.useId=function(){return L.H.useId()},gr.useImperativeHandle=function(Y,Re,Ke){return L.H.useImperativeHandle(Y,Re,Ke)},gr.useInsertionEffect=function(Y,Re){return L.H.useInsertionEffect(Y,Re)},gr.useLayoutEffect=function(Y,Re){return L.H.useLayoutEffect(Y,Re)},gr.useMemo=function(Y,Re){return L.H.useMemo(Y,Re)},gr.useOptimistic=function(Y,Re){return L.H.useOptimistic(Y,Re)},gr.useReducer=function(Y,Re,Ke){return L.H.useReducer(Y,Re,Ke)},gr.useRef=function(Y){return L.H.useRef(Y)},gr.useState=function(Y){return L.H.useState(Y)},gr.useSyncExternalStore=function(Y,Re,Ke){return L.H.useSyncExternalStore(Y,Re,Ke)},gr.useTransition=function(){return L.H.useTransition()},gr.version="19.1.0",gr}var SS;function cm(){return SS||(SS=1,_0.exports=lO()),_0.exports}var ie=cm();const ds=vv(ie),ES=aO({__proto__:null,default:ds},[ie]);var S0={exports:{}},$p={},E0={exports:{}},A0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AS;function uO(){return AS||(AS=1,function(e){function t(xe,lt){var he=xe.length;xe.push(lt);e:for(;0<he;){var nt=he-1>>>1,Y=xe[nt];if(0<a(Y,lt))xe[nt]=lt,xe[he]=Y,he=nt;else break e}}function r(xe){return xe.length===0?null:xe[0]}function i(xe){if(xe.length===0)return null;var lt=xe[0],he=xe.pop();if(he!==lt){xe[0]=he;e:for(var nt=0,Y=xe.length,Re=Y>>>1;nt<Re;){var Ke=2*(nt+1)-1,Ue=xe[Ke],at=Ke+1,It=xe[at];if(0>a(Ue,he))at<Y&&0>a(It,Ue)?(xe[nt]=It,xe[at]=he,nt=at):(xe[nt]=Ue,xe[Ke]=he,nt=Ke);else if(at<Y&&0>a(It,he))xe[nt]=It,xe[at]=he,nt=at;else break e}}return lt}function a(xe,lt){var he=xe.sortIndex-lt.sortIndex;return he!==0?he:xe.id-lt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var d=[],c=[],p=1,m=null,w=3,S=!1,C=!1,R=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function V(xe){for(var lt=r(c);lt!==null;){if(lt.callback===null)i(c);else if(lt.startTime<=xe)i(c),lt.sortIndex=lt.expirationTime,t(d,lt);else break;lt=r(c)}}function L(xe){if(R=!1,V(xe),!C)if(r(d)!==null)C=!0,z||(z=!0,pe());else{var lt=r(c);lt!==null&&rt(L,lt.startTime-xe)}}var z=!1,W=-1,$=5,Ce=-1;function K(){return T?!0:!(e.unstable_now()-Ce<$)}function re(){if(T=!1,z){var xe=e.unstable_now();Ce=xe;var lt=!0;try{e:{C=!1,R&&(R=!1,N(W),W=-1),S=!0;var he=w;try{t:{for(V(xe),m=r(d);m!==null&&!(m.expirationTime>xe&&K());){var nt=m.callback;if(typeof nt=="function"){m.callback=null,w=m.priorityLevel;var Y=nt(m.expirationTime<=xe);if(xe=e.unstable_now(),typeof Y=="function"){m.callback=Y,V(xe),lt=!0;break t}m===r(d)&&i(d),V(xe)}else i(d);m=r(d)}if(m!==null)lt=!0;else{var Re=r(c);Re!==null&&rt(L,Re.startTime-xe),lt=!1}}break e}finally{m=null,w=he,S=!1}lt=void 0}}finally{lt?pe():z=!1}}}var pe;if(typeof O=="function")pe=function(){O(re)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,et=_e.port2;_e.port1.onmessage=re,pe=function(){et.postMessage(null)}}else pe=function(){E(re,0)};function rt(xe,lt){W=E(function(){xe(e.unstable_now())},lt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(xe){xe.callback=null},e.unstable_forceFrameRate=function(xe){0>xe||125<xe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<xe?Math.floor(1e3/xe):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(xe){switch(w){case 1:case 2:case 3:var lt=3;break;default:lt=w}var he=w;w=lt;try{return xe()}finally{w=he}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(xe,lt){switch(xe){case 1:case 2:case 3:case 4:case 5:break;default:xe=3}var he=w;w=xe;try{return lt()}finally{w=he}},e.unstable_scheduleCallback=function(xe,lt,he){var nt=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?nt+he:nt):he=nt,xe){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=he+Y,xe={id:p++,callback:lt,priorityLevel:xe,startTime:he,expirationTime:Y,sortIndex:-1},he>nt?(xe.sortIndex=he,t(c,xe),r(d)===null&&xe===r(c)&&(R?(N(W),W=-1):R=!0,rt(L,he-nt))):(xe.sortIndex=Y,t(d,xe),C||S||(C=!0,z||(z=!0,pe()))),xe},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(xe){var lt=w;return function(){var he=w;w=lt;try{return xe.apply(this,arguments)}finally{w=he}}}}(A0)),A0}var xS;function cO(){return xS||(xS=1,E0.exports=uO()),E0.exports}var x0={exports:{}},wa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RS;function fO(){if(RS)return wa;RS=1;var e=cm();function t(d){var c="https://react.dev/errors/"+d;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,c,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:d,containerInfo:c,implementation:p}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,c){if(d==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return wa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,wa.createPortal=function(d,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return l(d,c,null,p)},wa.flushSync=function(d){var c=s.T,p=i.p;try{if(s.T=null,i.p=2,d)return d()}finally{s.T=c,i.p=p,i.d.f()}},wa.preconnect=function(d,c){typeof d=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,i.d.C(d,c))},wa.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},wa.preinit=function(d,c){if(typeof d=="string"&&c&&typeof c.as=="string"){var p=c.as,m=u(p,c.crossOrigin),w=typeof c.integrity=="string"?c.integrity:void 0,S=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;p==="style"?i.d.S(d,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:m,integrity:w,fetchPriority:S}):p==="script"&&i.d.X(d,{crossOrigin:m,integrity:w,fetchPriority:S,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},wa.preinitModule=function(d,c){if(typeof d=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var p=u(c.as,c.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&i.d.M(d)},wa.preload=function(d,c){if(typeof d=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var p=c.as,m=u(p,c.crossOrigin);i.d.L(d,p,{crossOrigin:m,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},wa.preloadModule=function(d,c){if(typeof d=="string")if(c){var p=u(c.as,c.crossOrigin);i.d.m(d,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:p,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else i.d.m(d)},wa.requestFormReset=function(d){i.d.r(d)},wa.unstable_batchedUpdates=function(d,c){return d(c)},wa.useFormState=function(d,c,p){return s.H.useFormState(d,c,p)},wa.useFormStatus=function(){return s.H.useHostTransitionStatus()},wa.version="19.1.0",wa}var CS;function yx(){if(CS)return x0.exports;CS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),x0.exports=fO(),x0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TS;function dO(){if(TS)return $p;TS=1;var e=cO(),t=cm(),r=yx();function i(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var o=n,f=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(f=o.return),n=o.return;while(n)}return o.tag===3?f:null}function s(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function u(n){if(l(n)!==n)throw Error(i(188))}function d(n){var o=n.alternate;if(!o){if(o=l(n),o===null)throw Error(i(188));return o!==n?null:n}for(var f=n,g=o;;){var x=f.return;if(x===null)break;var F=x.alternate;if(F===null){if(g=x.return,g!==null){f=g;continue}break}if(x.child===F.child){for(F=x.child;F;){if(F===f)return u(x),n;if(F===g)return u(x),o;F=F.sibling}throw Error(i(188))}if(f.return!==g.return)f=x,g=F;else{for(var Z=!1,fe=x.child;fe;){if(fe===f){Z=!0,f=x,g=F;break}if(fe===g){Z=!0,g=x,f=F;break}fe=fe.sibling}if(!Z){for(fe=F.child;fe;){if(fe===f){Z=!0,f=F,g=x;break}if(fe===g){Z=!0,g=F,f=x;break}fe=fe.sibling}if(!Z)throw Error(i(189))}}if(f.alternate!==g)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?n:o}function c(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=c(n),o!==null)return o;n=n.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),O=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Ce=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function pe(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var _e=Symbol.for("react.client.reference");function et(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===_e?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case T:return"Profiler";case R:return"StrictMode";case L:return"Suspense";case z:return"SuspenseList";case Ce:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case O:return(n.displayName||"Context")+".Provider";case N:return(n._context.displayName||"Context")+".Consumer";case V:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case W:return o=n.displayName||null,o!==null?o:et(n.type)||"Memo";case $:o=n._payload,n=n._init;try{return et(n(o))}catch{}}return null}var rt=Array.isArray,xe=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},nt=[],Y=-1;function Re(n){return{current:n}}function Ke(n){0>Y||(n.current=nt[Y],nt[Y]=null,Y--)}function Ue(n,o){Y++,nt[Y]=n.current,n.current=o}var at=Re(null),It=Re(null),Nt=Re(null),Me=Re(null);function ue(n,o){switch(Ue(Nt,o),Ue(It,n),Ue(at,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?rn(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=rn(o),n=Nn(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Ke(at),Ue(at,n)}function Ie(){Ke(at),Ke(It),Ke(Nt)}function Ye(n){n.memoizedState!==null&&Ue(Me,n);var o=at.current,f=Nn(o,n.type);o!==f&&(Ue(It,n),Ue(at,f))}function se(n){It.current===n&&(Ke(at),Ke(It)),Me.current===n&&(Ke(Me),Up._currentValue=he)}var k=Object.prototype.hasOwnProperty,D=e.unstable_scheduleCallback,q=e.unstable_cancelCallback,ne=e.unstable_shouldYield,Ee=e.unstable_requestPaint,Ne=e.unstable_now,ct=e.unstable_getCurrentPriorityLevel,Pe=e.unstable_ImmediatePriority,mt=e.unstable_UserBlockingPriority,Ot=e.unstable_NormalPriority,wt=e.unstable_LowPriority,Qe=e.unstable_IdlePriority,We=e.log,Fe=e.unstable_setDisableYieldValue,dt=null,X=null;function j(n){if(typeof We=="function"&&Fe(n),X&&typeof X.setStrictMode=="function")try{X.setStrictMode(dt,n)}catch{}}var G=Math.clz32?Math.clz32:it,H=Math.log,Je=Math.LN2;function it(n){return n>>>=0,n===0?32:31-(H(n)/Je|0)|0}var Xe=256,Yt=4194304;function Vn(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Gn(n,o,f){var g=n.pendingLanes;if(g===0)return 0;var x=0,F=n.suspendedLanes,Z=n.pingedLanes;n=n.warmLanes;var fe=g&134217727;return fe!==0?(g=fe&~F,g!==0?x=Vn(g):(Z&=fe,Z!==0?x=Vn(Z):f||(f=fe&~n,f!==0&&(x=Vn(f))))):(fe=g&~F,fe!==0?x=Vn(fe):Z!==0?x=Vn(Z):f||(f=g&~n,f!==0&&(x=Vn(f)))),x===0?0:o!==0&&o!==x&&(o&F)===0&&(F=x&-x,f=o&-o,F>=f||F===32&&(f&4194048)!==0)?o:x}function sn(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function qe(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bt(){var n=Xe;return Xe<<=1,(Xe&4194048)===0&&(Xe=256),n}function ft(){var n=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),n}function Be(n){for(var o=[],f=0;31>f;f++)o.push(n);return o}function pt(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Qt(n,o,f,g,x,F){var Z=n.pendingLanes;n.pendingLanes=f,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=f,n.entangledLanes&=f,n.errorRecoveryDisabledLanes&=f,n.shellSuspendCounter=0;var fe=n.entanglements,Ve=n.expirationTimes,vt=n.hiddenUpdates;for(f=Z&~f;0<f;){var Dt=31-G(f),jt=1<<Dt;fe[Dt]=0,Ve[Dt]=-1;var St=vt[Dt];if(St!==null)for(vt[Dt]=null,Dt=0;Dt<St.length;Dt++){var xt=St[Dt];xt!==null&&(xt.lane&=-536870913)}f&=~jt}g!==0&&zt(n,g,0),F!==0&&x===0&&n.tag!==0&&(n.suspendedLanes|=F&~(Z&~o))}function zt(n,o,f){n.pendingLanes|=o,n.suspendedLanes&=~o;var g=31-G(o);n.entangledLanes|=o,n.entanglements[g]=n.entanglements[g]|1073741824|f&4194090}function tn(n,o){var f=n.entangledLanes|=o;for(n=n.entanglements;f;){var g=31-G(f),x=1<<g;x&o|n[g]&o&&(n[g]|=o),f&=~x}}function Ht(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ce(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ve(){var n=lt.p;return n!==0?n:(n=window.event,n===void 0?32:dS(n.type))}function Tt(n,o){var f=lt.p;try{return lt.p=n,o()}finally{lt.p=f}}var Ct=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Ct,Zt="__reactProps$"+Ct,nn="__reactContainer$"+Ct,Mn="__reactEvents$"+Ct,$t="__reactListeners$"+Ct,en="__reactHandles$"+Ct,vn="__reactResources$"+Ct,on="__reactMarker$"+Ct;function Ln(n){delete n[Ft],delete n[Zt],delete n[Mn],delete n[$t],delete n[en]}function xn(n){var o=n[Ft];if(o)return o;for(var f=n.parentNode;f;){if(o=f[nn]||f[Ft]){if(f=o.alternate,o.child!==null||f!==null&&f.child!==null)for(n=X_(n);n!==null;){if(f=n[Ft])return f;n=X_(n)}return o}n=f,f=n.parentNode}return null}function Jn(n){if(n=n[Ft]||n[nn]){var o=n.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return n}return null}function mn(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(i(33))}function ln(n){var o=n[vn];return o||(o=n[vn]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Gt(n){n[on]=!0}var er=new Set,Fr={};function pr(n,o){Un(n,o),Un(n+"Capture",o)}function Un(n,o){for(Fr[n]=o,n=0;n<o.length;n++)er.add(o[n])}var Cr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hr={},cn={};function bi(n){return k.call(cn,n)?!0:k.call(Hr,n)?!1:Cr.test(n)?cn[n]=!0:(Hr[n]=!0,!1)}function Pr(n,o,f){if(bi(o))if(f===null)n.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var g=o.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+f)}}function ta(n,o,f){if(f===null)n.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+f)}}function wi(n,o,f,g){if(g===null)n.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(f);return}n.setAttributeNS(o,f,""+g)}}var Ha,da;function _i(n){if(Ha===void 0)try{throw Error()}catch(f){var o=f.stack.trim().match(/\n( *(at )?)/);Ha=o&&o[1]||"",da=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ha+n+da}var b=!1;function v(n,o){if(!n||b)return"";b=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(o){var jt=function(){throw Error()};if(Object.defineProperty(jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(jt,[])}catch(xt){var St=xt}Reflect.construct(n,[],jt)}else{try{jt.call()}catch(xt){St=xt}n.call(jt.prototype)}}else{try{throw Error()}catch(xt){St=xt}(jt=n())&&typeof jt.catch=="function"&&jt.catch(function(){})}}catch(xt){if(xt&&St&&typeof xt.stack=="string")return[xt.stack,St.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=g.DetermineComponentFrameRoot(),Z=F[0],fe=F[1];if(Z&&fe){var Ve=Z.split(`
`),vt=fe.split(`
`);for(x=g=0;g<Ve.length&&!Ve[g].includes("DetermineComponentFrameRoot");)g++;for(;x<vt.length&&!vt[x].includes("DetermineComponentFrameRoot");)x++;if(g===Ve.length||x===vt.length)for(g=Ve.length-1,x=vt.length-1;1<=g&&0<=x&&Ve[g]!==vt[x];)x--;for(;1<=g&&0<=x;g--,x--)if(Ve[g]!==vt[x]){if(g!==1||x!==1)do if(g--,x--,0>x||Ve[g]!==vt[x]){var Dt=`
`+Ve[g].replace(" at new "," at ");return n.displayName&&Dt.includes("<anonymous>")&&(Dt=Dt.replace("<anonymous>",n.displayName)),Dt}while(1<=g&&0<=x);break}}}finally{b=!1,Error.prepareStackTrace=f}return(f=n?n.displayName||n.name:"")?_i(f):""}function A(n){switch(n.tag){case 26:case 27:case 5:return _i(n.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return v(n.type,!1);case 11:return v(n.type.render,!1);case 1:return v(n.type,!0);case 31:return _i("Activity");default:return""}}function I(n){try{var o="";do o+=A(n),n=n.return;while(n);return o}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function B(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Q(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function le(n){var o=Q(n)?"checked":"value",f=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),g=""+n[o];if(!n.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,F=f.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return x.call(this)},set:function(Z){g=""+Z,F.call(this,Z)}}),Object.defineProperty(n,o,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(Z){g=""+Z},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Se(n){n._valueTracker||(n._valueTracker=le(n))}function ye(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var f=o.getValue(),g="";return n&&(g=Q(n)?n.checked?"true":"false":n.value),n=g,n!==f?(o.setValue(n),!0):!1}function we(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Te=/[\n"\\]/g;function Oe(n){return n.replace(Te,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ke(n,o,f,g,x,F,Z,fe){n.name="",Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?n.type=Z:n.removeAttribute("type"),o!=null?Z==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+B(o)):n.value!==""+B(o)&&(n.value=""+B(o)):Z!=="submit"&&Z!=="reset"||n.removeAttribute("value"),o!=null?st(n,Z,B(o)):f!=null?st(n,Z,B(f)):g!=null&&n.removeAttribute("value"),x==null&&F!=null&&(n.defaultChecked=!!F),x!=null&&(n.checked=x&&typeof x!="function"&&typeof x!="symbol"),fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?n.name=""+B(fe):n.removeAttribute("name")}function ze(n,o,f,g,x,F,Z,fe){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(n.type=F),o!=null||f!=null){if(!(F!=="submit"&&F!=="reset"||o!=null))return;f=f!=null?""+B(f):"",o=o!=null?""+B(o):f,fe||o===n.value||(n.value=o),n.defaultValue=o}g=g??x,g=typeof g!="function"&&typeof g!="symbol"&&!!g,n.checked=fe?n.checked:!!g,n.defaultChecked=!!g,Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(n.name=Z)}function st(n,o,f){o==="number"&&we(n.ownerDocument)===n||n.defaultValue===""+f||(n.defaultValue=""+f)}function yt(n,o,f,g){if(n=n.options,o){o={};for(var x=0;x<f.length;x++)o["$"+f[x]]=!0;for(f=0;f<n.length;f++)x=o.hasOwnProperty("$"+n[f].value),n[f].selected!==x&&(n[f].selected=x),x&&g&&(n[f].defaultSelected=!0)}else{for(f=""+B(f),o=null,x=0;x<n.length;x++){if(n[x].value===f){n[x].selected=!0,g&&(n[x].defaultSelected=!0);return}o!==null||n[x].disabled||(o=n[x])}o!==null&&(o.selected=!0)}}function Et(n,o,f){if(o!=null&&(o=""+B(o),o!==n.value&&(n.value=o),f==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=f!=null?""+B(f):""}function oe(n,o,f,g){if(o==null){if(g!=null){if(f!=null)throw Error(i(92));if(rt(g)){if(1<g.length)throw Error(i(93));g=g[0]}f=g}f==null&&(f=""),o=f}f=B(o),n.defaultValue=f,g=n.textContent,g===f&&g!==""&&g!==null&&(n.value=g)}function Ae(n,o){if(o){var f=n.firstChild;if(f&&f===n.lastChild&&f.nodeType===3){f.nodeValue=o;return}}n.textContent=o}var De=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Le(n,o,f){var g=o.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":g?n.setProperty(o,f):typeof f!="number"||f===0||De.has(o)?o==="float"?n.cssFloat=f:n[o]=(""+f).trim():n[o]=f+"px"}function ht(n,o,f){if(o!=null&&typeof o!="object")throw Error(i(62));if(n=n.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||o!=null&&o.hasOwnProperty(g)||(g.indexOf("--")===0?n.setProperty(g,""):g==="float"?n.cssFloat="":n[g]="");for(var x in o)g=o[x],o.hasOwnProperty(x)&&f[x]!==g&&Le(n,x,g)}else for(var F in o)o.hasOwnProperty(F)&&Le(n,F,o[F])}function At(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yn(n){return Bt.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var un=null;function gn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ar=null,hn=null;function or(n){var o=Jn(n);if(o&&(n=o.stateNode)){var f=n[Zt]||null;e:switch(n=o.stateNode,o.type){case"input":if(ke(n,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),o=f.name,f.type==="radio"&&o!=null){for(f=n;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Oe(""+o)+'"][type="radio"]'),o=0;o<f.length;o++){var g=f[o];if(g!==n&&g.form===n.form){var x=g[Zt]||null;if(!x)throw Error(i(90));ke(g,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(o=0;o<f.length;o++)g=f[o],g.form===n.form&&ye(g)}break e;case"textarea":Et(n,f.value,f.defaultValue);break e;case"select":o=f.value,o!=null&&yt(n,!!f.multiple,o,!1)}}}var rr=!1;function Dr(n,o,f){if(rr)return n(o,f);rr=!0;try{var g=n(o);return g}finally{if(rr=!1,(ar!==null||hn!==null)&&(Hu(),ar&&(o=ar,n=hn,hn=ar=null,or(o),n)))for(o=0;o<n.length;o++)or(n[o])}}function tr(n,o){var f=n.stateNode;if(f===null)return null;var g=f[Zt]||null;if(g===null)return null;f=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(n=n.type,g=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!g;break e;default:n=!1}if(n)return null;if(f&&typeof f!="function")throw Error(i(231,o,typeof f));return f}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Er=!1;if(ir)try{var Cn={};Object.defineProperty(Cn,"passive",{get:function(){Er=!0}}),window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,Cn)}catch{Er=!1}var Yr=null,Mi=null,ha=null;function Mr(){if(ha)return ha;var n,o=Mi,f=o.length,g,x="value"in Yr?Yr.value:Yr.textContent,F=x.length;for(n=0;n<f&&o[n]===x[n];n++);var Z=f-n;for(g=1;g<=Z&&o[f-g]===x[F-g];g++);return ha=x.slice(n,1<g?1-g:void 0)}function na(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function lo(){return!0}function Co(){return!1}function Or(n){function o(f,g,x,F,Z){this._reactName=f,this._targetInst=x,this.type=g,this.nativeEvent=F,this.target=Z,this.currentTarget=null;for(var fe in n)n.hasOwnProperty(fe)&&(f=n[fe],this[fe]=f?f(F):F[fe]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?lo:Co,this.isPropagationStopped=Co,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=lo)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=lo)},persist:function(){},isPersistent:lo}),o}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=Or(ei),ti=p({},ei,{view:0,detail:0}),ms=Or(ti),xa,M,te,ae=p({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==te&&(te&&n.type==="mousemove"?(xa=n.screenX-te.screenX,M=n.screenY-te.screenY):M=xa=0,te=n),xa)},movementY:function(n){return"movementY"in n?n.movementY:M}}),de=Or(ae),je=p({},ae,{dataTransfer:0}),be=Or(je),$e=p({},ti,{relatedTarget:0}),Rt=Or($e),_t=p({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),Pt=Or(_t),qt=p({},ei,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Vt=Or(qt),Wt=p({},ei,{data:0}),Lt=Or(Wt),Jt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},an={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=fn[n])?!!o[n]:!1}function Wn(){return wn}var _n=p({},ti,{key:function(n){if(n.key){var o=Jt[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=na(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?an[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wn,charCode:function(n){return n.type==="keypress"?na(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?na(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Xt=Or(_n),Bn=p({},ae,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pn=Or(Bn),jn=p({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wn}),Qn=Or(jn),Mt=p({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pn=Or(Mt),_r=p({},ae,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),kn=Or(_r),yr=p({},ei,{newState:0,oldState:0}),fr=Or(yr),Lr=[9,13,27,32],Sn=ir&&"CompositionEvent"in window,qn=null;ir&&"documentMode"in document&&(qn=document.documentMode);var ni=ir&&"TextEvent"in window&&!qn,Ei=ir&&(!Sn||qn&&8<qn&&11>=qn),Tn=" ",Gr=!1;function Vr(n,o){switch(n){case"keyup":return Lr.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nr(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Xr=!1;function sr(n,o){switch(n){case"compositionend":return nr(o);case"keypress":return o.which!==32?null:(Gr=!0,Tn);case"textInput":return n=o.data,n===Tn&&Gr?null:n;default:return null}}function $a(n,o){if(Xr)return n==="compositionend"||!Sn&&Vr(n,o)?(n=Mr(),ha=Mi=Yr=null,Xr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ei&&o.locale!=="ko"?null:o.data;default:return null}}var vc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function el(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!vc[n.type]:o==="textarea"}function bc(n,o,f,g){ar?hn?hn.push(g):hn=[g]:ar=g,o=eh(o,"onChange"),0<o.length&&(f=new Va("onChange","change",null,f,g),n.push({event:f,listeners:o}))}var uo=null,ys=null;function Yf(n){Op(n,0)}function Ra(n){var o=mn(n);if(ye(o))return n}function Jo(n,o){if(n==="change")return o}var cu=!1;if(ir){var tl;if(ir){var co="oninput"in document;if(!co){var Ka=document.createElement("div");Ka.setAttribute("oninput","return;"),co=typeof Ka.oninput=="function"}tl=co}else tl=!1;cu=tl&&(!document.documentMode||9<document.documentMode)}function vr(){uo&&(uo.detachEvent("onpropertychange",nl),ys=uo=null)}function nl(n){if(n.propertyName==="value"&&Ra(ys)){var o=[];bc(o,ys,n,gn(n)),Dr(Yf,o)}}function Xf(n,o,f){n==="focusin"?(vr(),uo=o,ys=f,uo.attachEvent("onpropertychange",nl)):n==="focusout"&&vr()}function rl(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ra(ys)}function di(n,o){if(n==="click")return Ra(o)}function wc(n,o){if(n==="input"||n==="change")return Ra(o)}function Qf(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var Hi=typeof Object.is=="function"?Object.is:Qf;function fo(n,o){if(Hi(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var f=Object.keys(n),g=Object.keys(o);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var x=f[g];if(!k.call(o,x)||!Hi(n[x],o[x]))return!1}return!0}function il(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function fu(n,o){var f=il(n);n=0;for(var g;f;){if(f.nodeType===3){if(g=n+f.textContent.length,n<=o&&g>=o)return{node:f,offset:o-n};n=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=il(f)}}function Rh(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?Rh(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function Ga(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=we(n.document);o instanceof n.HTMLIFrameElement;){try{var f=typeof o.contentWindow.location.href=="string"}catch{f=!1}if(f)n=o.contentWindow;else break;o=we(n.document)}return o}function Ch(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var xm=ir&&"documentMode"in document&&11>=document.documentMode,ra=null,Zf=null,du=null,ed=!1;function Ca(n,o,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;ed||ra==null||ra!==we(g)||(g=ra,"selectionStart"in g&&Ch(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),du&&fo(du,g)||(du=g,g=eh(Zf,"onSelect"),0<g.length&&(o=new Va("onSelect","select",null,o,f),n.push({event:o,listeners:g}),o.target=ra)))}function al(n,o){var f={};return f[n.toLowerCase()]=o.toLowerCase(),f["Webkit"+n]="webkit"+o,f["Moz"+n]="moz"+o,f}var To={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionrun:al("Transition","TransitionRun"),transitionstart:al("Transition","TransitionStart"),transitioncancel:al("Transition","TransitionCancel"),transitionend:al("Transition","TransitionEnd")},Th={},ol={};ir&&(ol=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function sl(n){if(Th[n])return Th[n];if(!To[n])return n;var o=To[n],f;for(f in o)if(o.hasOwnProperty(f)&&f in ol)return Th[n]=o[f];return n}var vs=sl("animationend"),bs=sl("animationiteration"),Rm=sl("animationstart"),Jv=sl("transitionrun"),Yv=sl("transitionstart"),Ur=sl("transitioncancel"),Oh=sl("transitionend"),Ih=new Map,td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");td.push("scrollEnd");function ho(n,o){Ih.set(n,o),pr(o,[n])}var pa=new WeakMap;function qa(n,o){if(typeof n=="object"&&n!==null){var f=pa.get(n);return f!==void 0?f:(o={value:n,source:o,stack:I(o)},pa.set(n,o),o)}return{value:n,source:o,stack:I(o)}}var za=[],po=0,nd=0;function rd(){for(var n=po,o=nd=po=0;o<n;){var f=za[o];za[o++]=null;var g=za[o];za[o++]=null;var x=za[o];za[o++]=null;var F=za[o];if(za[o++]=null,g!==null&&x!==null){var Z=g.pending;Z===null?x.next=x:(x.next=Z.next,Z.next=x),g.pending=x}F!==0&&Cm(f,x,F)}}function hu(n,o,f,g){za[po++]=n,za[po++]=o,za[po++]=f,za[po++]=g,nd|=g,n.lanes|=g,n=n.alternate,n!==null&&(n.lanes|=g)}function Ph(n,o,f,g){return hu(n,o,f,g),id(n)}function Ta(n,o){return hu(n,null,null,o),id(n)}function Cm(n,o,f){n.lanes|=f;var g=n.alternate;g!==null&&(g.lanes|=f);for(var x=!1,F=n.return;F!==null;)F.childLanes|=f,g=F.alternate,g!==null&&(g.childLanes|=f),F.tag===22&&(n=F.stateNode,n===null||n._visibility&1||(x=!0)),n=F,F=F.return;return n.tag===3?(F=n.stateNode,x&&o!==null&&(x=31-G(f),n=F.hiddenUpdates,g=n[x],g===null?n[x]=[o]:g.push(o),o.lane=f|536870912),F):null}function id(n){if(50<_f)throw _f=0,Sf=null,Error(i(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var pu={};function _c(n,o,f,g){this.tag=n,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(n,o,f,g){return new _c(n,o,f,g)}function Sc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Wa(n,o){var f=n.alternate;return f===null?(f=xi(n.tag,o,n.key,n.mode),f.elementType=n.elementType,f.type=n.type,f.stateNode=n.stateNode,f.alternate=n,n.alternate=f):(f.pendingProps=o,f.type=n.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=n.flags&65011712,f.childLanes=n.childLanes,f.lanes=n.lanes,f.child=n.child,f.memoizedProps=n.memoizedProps,f.memoizedState=n.memoizedState,f.updateQueue=n.updateQueue,o=n.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},f.sibling=n.sibling,f.index=n.index,f.ref=n.ref,f.refCleanup=n.refCleanup,f}function Nh(n,o){n.flags&=65011714;var f=n.alternate;return f===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=f.childLanes,n.lanes=f.lanes,n.child=f.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=f.memoizedProps,n.memoizedState=f.memoizedState,n.updateQueue=f.updateQueue,n.type=f.type,o=f.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function Ec(n,o,f,g,x,F){var Z=0;if(g=n,typeof n=="function")Sc(n)&&(Z=1);else if(typeof n=="string")Z=q2(n,f,at.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Ce:return n=xi(31,f,o,x),n.elementType=Ce,n.lanes=F,n;case C:return ll(f.children,x,F,o);case R:Z=8,x|=24;break;case T:return n=xi(12,f,o,x|2),n.elementType=T,n.lanes=F,n;case L:return n=xi(13,f,o,x),n.elementType=L,n.lanes=F,n;case z:return n=xi(19,f,o,x),n.elementType=z,n.lanes=F,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case E:case O:Z=10;break e;case N:Z=9;break e;case V:Z=11;break e;case W:Z=14;break e;case $:Z=16,g=null;break e}Z=29,f=Error(i(130,n===null?"null":typeof n,"")),g=null}return o=xi(Z,f,o,x),o.elementType=n,o.type=g,o.lanes=F,o}function ll(n,o,f,g){return n=xi(7,n,g,o),n.lanes=f,n}function si(n,o,f){return n=xi(6,n,null,o),n.lanes=f,n}function Ac(n,o,f){return o=xi(4,n.children!==null?n.children:[],n.key,o),o.lanes=f,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var ul=[],cl=0,xc=null,Rc=0,Oa=[],Ia=0,fl=null,Oo=1,Io="";function dl(n,o){ul[cl++]=Rc,ul[cl++]=xc,xc=n,Rc=o}function Fh(n,o,f){Oa[Ia++]=Oo,Oa[Ia++]=Io,Oa[Ia++]=fl,fl=n;var g=Oo;n=Io;var x=32-G(g)-1;g&=~(1<<x),f+=1;var F=32-G(o)+x;if(30<F){var Z=x-x%5;F=(g&(1<<Z)-1).toString(32),g>>=Z,x-=Z,Oo=1<<32-G(o)+x|f<<x|g,Io=F+n}else Oo=1<<F|f<<x|g,Io=n}function Cc(n){n.return!==null&&(dl(n,1),Fh(n,1,0))}function ad(n){for(;n===xc;)xc=ul[--cl],ul[cl]=null,Rc=ul[--cl],ul[cl]=null;for(;n===fl;)fl=Oa[--Ia],Oa[Ia]=null,Io=Oa[--Ia],Oa[Ia]=null,Oo=Oa[--Ia],Oa[Ia]=null}var Gi=null,hi=null,kr=!1,ws=null,go=!1,od=Error(i(519));function _s(n){var o=Error(i(418,""));throw Tc(qa(o,n)),od}function Tm(n){var o=n.stateNode,f=n.type,g=n.memoizedProps;switch(o[Ft]=n,o[Zt]=g,f){case"dialog":Sr("cancel",o),Sr("close",o);break;case"iframe":case"object":case"embed":Sr("load",o);break;case"video":case"audio":for(f=0;f<Cf.length;f++)Sr(Cf[f],o);break;case"source":Sr("error",o);break;case"img":case"image":case"link":Sr("error",o),Sr("load",o);break;case"details":Sr("toggle",o);break;case"input":Sr("invalid",o),ze(o,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),Se(o);break;case"select":Sr("invalid",o);break;case"textarea":Sr("invalid",o),oe(o,g.value,g.defaultValue,g.children),Se(o)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||o.textContent===""+f||g.suppressHydrationWarning===!0||U(o.textContent,f)?(g.popover!=null&&(Sr("beforetoggle",o),Sr("toggle",o)),g.onScroll!=null&&Sr("scroll",o),g.onScrollEnd!=null&&Sr("scrollend",o),g.onClick!=null&&(o.onclick=J),o=!0):o=!1,o||_s(n)}function sd(n){for(Gi=n.return;Gi;)switch(Gi.tag){case 5:case 13:go=!1;return;case 27:case 3:go=!0;return;default:Gi=Gi.return}}function gu(n){if(n!==Gi)return!1;if(!kr)return sd(n),kr=!0,!1;var o=n.tag,f;if((f=o!==3&&o!==27)&&((f=o===5)&&(f=n.type,f=!(f!=="form"&&f!=="button")||dr(n.type,n.memoizedProps)),f=!f),f&&hi&&_s(n),sd(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8)if(f=n.data,f==="/$"){if(o===0){hi=ur(n.nextSibling);break e}o--}else f!=="$"&&f!=="$!"&&f!=="$?"||o++;n=n.nextSibling}hi=null}}else o===27?(o=hi,Xi(n.type)?(n=us,us=null,hi=n):hi=o):hi=Gi?ur(n.stateNode.nextSibling):null;return!0}function mu(){hi=Gi=null,kr=!1}function Dh(){var n=ws;return n!==null&&(oa===null?oa=n:oa.push.apply(oa,n),ws=null),n}function Tc(n){ws===null?ws=[n]:ws.push(n)}var ld=Re(null),hl=null,Yo=null;function Ss(n,o,f){Ue(ld,o._currentValue),o._currentValue=f}function Xo(n){n._currentValue=ld.current,Ke(ld)}function ud(n,o,f){for(;n!==null;){var g=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),n===f)break;n=n.return}}function Mh(n,o,f,g){var x=n.child;for(x!==null&&(x.return=n);x!==null;){var F=x.dependencies;if(F!==null){var Z=x.child;F=F.firstContext;e:for(;F!==null;){var fe=F;F=x;for(var Ve=0;Ve<o.length;Ve++)if(fe.context===o[Ve]){F.lanes|=f,fe=F.alternate,fe!==null&&(fe.lanes|=f),ud(F.return,f,n),g||(Z=null);break e}F=fe.next}}else if(x.tag===18){if(Z=x.return,Z===null)throw Error(i(341));Z.lanes|=f,F=Z.alternate,F!==null&&(F.lanes|=f),ud(Z,f,n),Z=null}else Z=x.child;if(Z!==null)Z.return=x;else for(Z=x;Z!==null;){if(Z===n){Z=null;break}if(x=Z.sibling,x!==null){x.return=Z.return,Z=x;break}Z=Z.return}x=Z}}function yu(n,o,f,g){n=null;for(var x=o,F=!1;x!==null;){if(!F){if((x.flags&524288)!==0)F=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var Z=x.alternate;if(Z===null)throw Error(i(387));if(Z=Z.memoizedProps,Z!==null){var fe=x.type;Hi(x.pendingProps.value,Z.value)||(n!==null?n.push(fe):n=[fe])}}else if(x===Me.current){if(Z=x.alternate,Z===null)throw Error(i(387));Z.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(n!==null?n.push(Up):n=[Up])}x=x.return}n!==null&&Mh(o,n,f,g),o.flags|=262144}function cd(n){for(n=n.firstContext;n!==null;){if(!Hi(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Es(n){hl=n,Yo=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function qi(n){return Lh(hl,n)}function Oc(n,o){return hl===null&&Es(n),Lh(n,o)}function Lh(n,o){var f=o._currentValue;if(o={context:o,memoizedValue:f,next:null},Yo===null){if(n===null)throw Error(i(308));Yo=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else Yo=Yo.next=o;return f}var Xv=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(f,g){n.push(g)}};this.abort=function(){o.aborted=!0,n.forEach(function(f){return f()})}},Om=e.unstable_scheduleCallback,Qv=e.unstable_NormalPriority,yn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pi(){return{controller:new Xv,data:new Map,refCount:0}}function vu(n){n.refCount--,n.refCount===0&&Om(Qv,function(){n.controller.abort()})}var Ic=null,mo=0,Ja=0,pl=null;function Im(n,o){if(Ic===null){var f=Ic=[];mo=0,Ja=Cp(),pl={status:"pending",value:void 0,then:function(g){f.push(g)}}}return mo++,o.then(Uh,Uh),o}function Uh(){if(--mo===0&&Ic!==null){pl!==null&&(pl.status="fulfilled");var n=Ic;Ic=null,Ja=0,pl=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function Pm(n,o){var f=[],g={status:"pending",value:null,reason:null,then:function(x){f.push(x)}};return n.then(function(){g.status="fulfilled",g.value=o;for(var x=0;x<f.length;x++)(0,f[x])(o)},function(x){for(g.status="rejected",g.reason=x,x=0;x<f.length;x++)(0,f[x])(void 0)}),g}var kh=xe.S;xe.S=function(n,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&Im(n,o),kh!==null&&kh(n,o)};var Qo=Re(null);function jh(){var n=Qo.current;return n!==null?n:ai.pooledCache}function Pc(n,o){o===null?Ue(Qo,Qo.current):Ue(Qo,o.pool)}function Bh(){var n=jh();return n===null?null:{parent:yn._currentValue,pool:n}}var yo=Error(i(460)),bu=Error(i(474)),gl=Error(i(542)),Ya={then:function(){}};function ml(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Po(){}function Nc(n,o,f){switch(f=n[f],f===void 0?n.push(o):f!==o&&(o.then(Po,Po),o=f),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Fc(n),n;default:if(typeof o.status=="string")o.then(Po,Po);else{if(n=ai,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=o,n.status="pending",n.then(function(g){if(o.status==="pending"){var x=o;x.status="fulfilled",x.value=g}},function(g){if(o.status==="pending"){var x=o;x.status="rejected",x.reason=g}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Fc(n),n}throw No=o,yo}}var No=null;function yl(){if(No===null)throw Error(i(459));var n=No;return No=null,n}function Fc(n){if(n===yo||n===gl)throw Error(i(483))}var Fo=!1;function vo(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vl(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Pa(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Do(n,o,f){var g=n.updateQueue;if(g===null)return null;if(g=g.shared,(qr&2)!==0){var x=g.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),g.pending=o,o=id(n),Cm(n,null,f),o}return hu(n,g,o,f),id(n)}function Zo(n,o,f){if(o=o.updateQueue,o!==null&&(o=o.shared,(f&4194048)!==0)){var g=o.lanes;g&=n.pendingLanes,f|=g,o.lanes=f,tn(n,f)}}function bl(n,o){var f=n.updateQueue,g=n.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var x=null,F=null;if(f=f.firstBaseUpdate,f!==null){do{var Z={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};F===null?x=F=Z:F=F.next=Z,f=f.next}while(f!==null);F===null?x=F=o:F=F.next=o}else x=F=o;f={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:F,shared:g.shared,callbacks:g.callbacks},n.updateQueue=f;return}n=f.lastBaseUpdate,n===null?f.firstBaseUpdate=o:n.next=o,f.lastBaseUpdate=o}var Dc=!1;function Ni(){if(Dc){var n=pl;if(n!==null)throw n}}function Fn(n,o,f,g){Dc=!1;var x=n.updateQueue;Fo=!1;var F=x.firstBaseUpdate,Z=x.lastBaseUpdate,fe=x.shared.pending;if(fe!==null){x.shared.pending=null;var Ve=fe,vt=Ve.next;Ve.next=null,Z===null?F=vt:Z.next=vt,Z=Ve;var Dt=n.alternate;Dt!==null&&(Dt=Dt.updateQueue,fe=Dt.lastBaseUpdate,fe!==Z&&(fe===null?Dt.firstBaseUpdate=vt:fe.next=vt,Dt.lastBaseUpdate=Ve))}if(F!==null){var jt=x.baseState;Z=0,Dt=vt=Ve=null,fe=F;do{var St=fe.lane&-536870913,xt=St!==fe.lane;if(xt?(xr&St)===St:(g&St)===St){St!==0&&St===Ja&&(Dc=!0),Dt!==null&&(Dt=Dt.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var Xn=n,$n=fe;St=o;var oi=f;switch($n.tag){case 1:if(Xn=$n.payload,typeof Xn=="function"){jt=Xn.call(oi,jt,St);break e}jt=Xn;break e;case 3:Xn.flags=Xn.flags&-65537|128;case 0:if(Xn=$n.payload,St=typeof Xn=="function"?Xn.call(oi,jt,St):Xn,St==null)break e;jt=p({},jt,St);break e;case 2:Fo=!0}}St=fe.callback,St!==null&&(n.flags|=64,xt&&(n.flags|=8192),xt=x.callbacks,xt===null?x.callbacks=[St]:xt.push(St))}else xt={lane:St,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},Dt===null?(vt=Dt=xt,Ve=jt):Dt=Dt.next=xt,Z|=St;if(fe=fe.next,fe===null){if(fe=x.shared.pending,fe===null)break;xt=fe,fe=xt.next,xt.next=null,x.lastBaseUpdate=xt,x.shared.pending=null}}while(!0);Dt===null&&(Ve=jt),x.baseState=Ve,x.firstBaseUpdate=vt,x.lastBaseUpdate=Dt,F===null&&(x.shared.lanes=0),$o|=Z,n.lanes=Z,n.memoizedState=jt}}function fd(n,o){if(typeof n!="function")throw Error(i(191,n));n.call(o)}function wl(n,o){var f=n.callbacks;if(f!==null)for(n.callbacks=null,n=0;n<f.length;n++)fd(f[n],o)}var wu=Re(null),As=Re(0);function _l(n,o){n=Vo,Ue(As,n),Ue(wu,o),Vo=n|o.baseLanes}function Sl(){Ue(As,Vo),Ue(wu,wu.current)}function Mc(){Vo=As.current,Ke(wu),Ke(As)}var Mo=0,lr=null,br=null,pi=null,dd=!1,El=!1,xs=!1,Lc=0,Uc=0,Al=null,Hh=0;function gi(){throw Error(i(321))}function hd(n,o){if(o===null)return!1;for(var f=0;f<o.length&&f<n.length;f++)if(!Hi(n[f],o[f]))return!1;return!0}function Rs(n,o,f,g,x,F){return Mo=F,lr=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,xe.H=n===null||n.memoizedState===null?Gh:of,xs=!1,F=f(g,x),xs=!1,El&&(F=Ri(o,f,g,x)),xl(n),F}function xl(n){xe.H=ko;var o=br!==null&&br.next!==null;if(Mo=0,pi=br=lr=null,dd=!1,Uc=0,Al=null,o)throw Error(i(300));n===null||$i||(n=n.dependencies,n!==null&&cd(n)&&($i=!0))}function Ri(n,o,f,g){lr=n;var x=0;do{if(El&&(Al=null),Uc=0,El=!1,25<=x)throw Error(i(301));if(x+=1,pi=br=null,n.updateQueue!=null){var F=n.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}xe.H=_d,F=o(f,g)}while(El);return F}function _u(){var n=xe.H,o=n.useState()[0];return o=typeof o.then=="function"?Is(o):o,n=n.useState()[0],(br!==null?br.memoizedState:null)!==n&&(lr.flags|=1024),o}function Cs(){var n=Lc!==0;return Lc=0,n}function Ts(n,o,f){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~f}function ia(n){if(dd){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}dd=!1}Mo=0,pi=br=lr=null,El=!1,Uc=Lc=0,Al=null}function Ar(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pi===null?lr.memoizedState=pi=n:pi=pi.next=n,pi}function ii(){if(br===null){var n=lr.alternate;n=n!==null?n.memoizedState:null}else n=br.next;var o=pi===null?lr.memoizedState:pi.next;if(o!==null)pi=o,br=n;else{if(n===null)throw lr.alternate===null?Error(i(467)):Error(i(310));br=n,n={memoizedState:br.memoizedState,baseState:br.baseState,baseQueue:br.baseQueue,queue:br.queue,next:null},pi===null?lr.memoizedState=pi=n:pi=pi.next=n}return pi}function Os(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Is(n){var o=Uc;return Uc+=1,Al===null&&(Al=[]),n=Nc(Al,n,o),o=lr,(pi===null?o.memoizedState:pi.next)===null&&(o=o.alternate,xe.H=o===null||o.memoizedState===null?Gh:of),n}function Su(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Is(n);if(n.$$typeof===O)return qi(n)}throw Error(i(438,String(n)))}function kc(n){var o=null,f=lr.updateQueue;if(f!==null&&(o=f.memoCache),o==null){var g=lr.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(o={data:g.data.map(function(x){return x.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),f===null&&(f=Os(),lr.updateQueue=f),f.memoCache=o,f=o.data[o.index],f===void 0)for(f=o.data[o.index]=Array(n),g=0;g<n;g++)f[g]=K;return o.index++,f}function Xa(n,o){return typeof o=="function"?o(n):o}function Rl(n){var o=ii();return Eu(o,br,n)}function Eu(n,o,f){var g=n.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=f;var x=n.baseQueue,F=g.pending;if(F!==null){if(x!==null){var Z=x.next;x.next=F.next,F.next=Z}o.baseQueue=x=F,g.pending=null}if(F=n.baseState,x===null)n.memoizedState=F;else{o=x.next;var fe=Z=null,Ve=null,vt=o,Dt=!1;do{var jt=vt.lane&-536870913;if(jt!==vt.lane?(xr&jt)===jt:(Mo&jt)===jt){var St=vt.revertLane;if(St===0)Ve!==null&&(Ve=Ve.next={lane:0,revertLane:0,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null}),jt===Ja&&(Dt=!0);else if((Mo&St)===St){vt=vt.next,St===Ja&&(Dt=!0);continue}else jt={lane:0,revertLane:vt.revertLane,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},Ve===null?(fe=Ve=jt,Z=F):Ve=Ve.next=jt,lr.lanes|=St,$o|=St;jt=vt.action,xs&&f(F,jt),F=vt.hasEagerState?vt.eagerState:f(F,jt)}else St={lane:jt,revertLane:vt.revertLane,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},Ve===null?(fe=Ve=St,Z=F):Ve=Ve.next=St,lr.lanes|=jt,$o|=jt;vt=vt.next}while(vt!==null&&vt!==o);if(Ve===null?Z=F:Ve.next=fe,!Hi(F,n.memoizedState)&&($i=!0,Dt&&(f=pl,f!==null)))throw f;n.memoizedState=F,n.baseState=Z,n.baseQueue=Ve,g.lastRenderedState=F}return x===null&&(g.lanes=0),[n.memoizedState,g.dispatch]}function es(n){var o=ii(),f=o.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=n;var g=f.dispatch,x=f.pending,F=o.memoizedState;if(x!==null){f.pending=null;var Z=x=x.next;do F=n(F,Z.action),Z=Z.next;while(Z!==x);Hi(F,o.memoizedState)||($i=!0),o.memoizedState=F,o.baseQueue===null&&(o.baseState=F),f.lastRenderedState=F}return[F,g]}function jc(n,o,f){var g=lr,x=ii(),F=kr;if(F){if(f===void 0)throw Error(i(407));f=f()}else f=o();var Z=!Hi((br||x).memoizedState,f);Z&&(x.memoizedState=f,$i=!0),x=x.queue;var fe=Ps.bind(null,g,x,n);if(Ns(2048,8,fe,[n]),x.getSnapshot!==o||Z||pi!==null&&pi.memoizedState.tag&1){if(g.flags|=2048,ts(9,Tl(),Hc.bind(null,g,x,f,o),null),ai===null)throw Error(i(349));F||(Mo&124)!==0||Bc(g,o,f)}return f}function Bc(n,o,f){n.flags|=16384,n={getSnapshot:o,value:f},o=lr.updateQueue,o===null?(o=Os(),lr.updateQueue=o,o.stores=[n]):(f=o.stores,f===null?o.stores=[n]:f.push(n))}function Hc(n,o,f,g){o.value=f,o.getSnapshot=g,Vc(o)&&$c(n)}function Ps(n,o,f){return f(function(){Vc(o)&&$c(n)})}function Vc(n){var o=n.getSnapshot;n=n.value;try{var f=o();return!Hi(n,f)}catch{return!0}}function $c(n){var o=Ta(n,2);o!==null&&Ji(o,n,2)}function Au(n){var o=Ar();if(typeof n=="function"){var f=n;if(n=f(),xs){j(!0);try{f()}finally{j(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:n},o}function Lo(n,o,f,g){return n.baseState=f,Eu(n,br,typeof g=="function"?g:Xa)}function pd(n,o,f,g,x){if(Ml(n))throw Error(i(485));if(n=o.action,n!==null){var F={payload:x,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Z){F.listeners.push(Z)}};xe.T!==null?f(!0):F.isTransition=!1,g(F),f=o.pending,f===null?(F.next=o.pending=F,Kc(o,F)):(F.next=f.next,o.pending=f.next=F)}}function Kc(n,o){var f=o.action,g=o.payload,x=n.state;if(o.isTransition){var F=xe.T,Z={};xe.T=Z;try{var fe=f(x,g),Ve=xe.S;Ve!==null&&Ve(Z,fe),Gc(n,o,fe)}catch(vt){xu(n,o,vt)}finally{xe.T=F}}else try{F=f(x,g),Gc(n,o,F)}catch(vt){xu(n,o,vt)}}function Gc(n,o,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){gd(n,o,g)},function(g){return xu(n,o,g)}):gd(n,o,f)}function gd(n,o,f){o.status="fulfilled",o.value=f,Vh(o),n.state=f,o=n.pending,o!==null&&(f=o.next,f===o?n.pending=null:(f=f.next,o.next=f,Kc(n,f)))}function xu(n,o,f){var g=n.pending;if(n.pending=null,g!==null){g=g.next;do o.status="rejected",o.reason=f,Vh(o),o=o.next;while(o!==g)}n.action=null}function Vh(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function qc(n,o){return o}function $h(n,o){if(kr){var f=ai.formState;if(f!==null){e:{var g=lr;if(kr){if(hi){t:{for(var x=hi,F=go;x.nodeType!==8;){if(!F){x=null;break t}if(x=ur(x.nextSibling),x===null){x=null;break t}}F=x.data,x=F==="F!"||F==="F"?x:null}if(x){hi=ur(x.nextSibling),g=x.data==="F!";break e}}_s(g)}g=!1}g&&(o=f[0])}}return f=Ar(),f.memoizedState=f.baseState=o,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:o},f.queue=g,f=Dl.bind(null,lr,g),g.dispatch=f,g=Au(!1),F=Fs.bind(null,lr,!1,g.queue),g=Ar(),x={state:o,dispatch:null,action:n,pending:null},g.queue=x,f=pd.bind(null,lr,x,F,f),x.dispatch=f,g.memoizedState=n,[o,f,!1]}function zc(n){var o=ii();return Cl(o,br,n)}function Cl(n,o,f){if(o=Eu(n,o,qc)[0],n=Rl(Xa)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var g=Is(o)}catch(Z){throw Z===yo?gl:Z}else g=o;o=ii();var x=o.queue,F=x.dispatch;return f!==o.memoizedState&&(lr.flags|=2048,ts(9,Tl(),Wc.bind(null,x,f),null)),[g,F,n]}function Wc(n,o){n.action=o}function Jc(n){var o=ii(),f=br;if(f!==null)return Cl(o,f,n);ii(),o=o.memoizedState,f=ii();var g=f.queue.dispatch;return f.memoizedState=n,[o,g,!1]}function ts(n,o,f,g){return n={tag:n,create:f,deps:g,inst:o,next:null},o=lr.updateQueue,o===null&&(o=Os(),lr.updateQueue=o),f=o.lastEffect,f===null?o.lastEffect=n.next=n:(g=f.next,f.next=n,n.next=g,o.lastEffect=n),n}function Tl(){return{destroy:void 0,resource:void 0}}function Ru(){return ii().memoizedState}function Ol(n,o,f,g){var x=Ar();g=g===void 0?null:g,lr.flags|=n,x.memoizedState=ts(1|o,Tl(),f,g)}function Ns(n,o,f,g){var x=ii();g=g===void 0?null:g;var F=x.memoizedState.inst;br!==null&&g!==null&&hd(g,br.memoizedState.deps)?x.memoizedState=ts(o,F,f,g):(lr.flags|=n,x.memoizedState=ts(1|o,F,f,g))}function Yc(n,o){Ol(8390656,8,n,o)}function Il(n,o){Ns(2048,8,n,o)}function Xc(n,o){return Ns(4,2,n,o)}function md(n,o){return Ns(4,4,n,o)}function Pl(n,o){if(typeof o=="function"){n=n();var f=o(n);return function(){typeof f=="function"?f():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function Qc(n,o,f){f=f!=null?f.concat([n]):null,Ns(4,4,Pl.bind(null,o,n),f)}function Zc(){}function Nl(n,o){var f=ii();o=o===void 0?null:o;var g=f.memoizedState;return o!==null&&hd(o,g[1])?g[0]:(f.memoizedState=[n,o],n)}function ef(n,o){var f=ii();o=o===void 0?null:o;var g=f.memoizedState;if(o!==null&&hd(o,g[1]))return g[0];if(g=n(),xs){j(!0);try{n()}finally{j(!1)}}return f.memoizedState=[g,o],g}function tf(n,o,f){return f===void 0||(Mo&1073741824)!==0?n.memoizedState=o:(n.memoizedState=f,n=$d(),lr.lanes|=n,$o|=n,f)}function yd(n,o,f,g){return Hi(f,o)?f:wu.current!==null?(n=tf(n,f,g),Hi(n,o)||($i=!0),n):(Mo&42)===0?($i=!0,n.memoizedState=f):(n=$d(),lr.lanes|=n,$o|=n,o)}function Kh(n,o,f,g,x){var F=lt.p;lt.p=F!==0&&8>F?F:8;var Z=xe.T,fe={};xe.T=fe,Fs(n,!1,o,f);try{var Ve=x(),vt=xe.S;if(vt!==null&&vt(fe,Ve),Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var Dt=Pm(Ve,g);Uo(n,o,Dt,sa(n))}else Uo(n,o,g,sa(n))}catch(jt){Uo(n,o,{then:function(){},status:"rejected",reason:jt},sa())}finally{lt.p=F,xe.T=Z}}function Nm(){}function vd(n,o,f,g){if(n.tag!==5)throw Error(i(476));var x=nf(n).queue;Kh(n,x,o,he,f===null?Nm:function(){return bd(n),f(g)})}function nf(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:he},next:null};var f={};return o.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:f},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function bd(n){var o=nf(n).next.queue;Uo(n,o,{},sa())}function wd(){return qi(Up)}function rf(){return ii().memoizedState}function Fl(){return ii().memoizedState}function Cu(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var f=sa();n=Pa(f);var g=Do(o,n,f);g!==null&&(Ji(g,o,f),Zo(g,o,f)),o={cache:Pi()},n.payload=o;return}o=o.return}}function Tu(n,o,f){var g=sa();f={lane:g,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Ml(n)?Ll(o,f):(f=Ph(n,o,f,g),f!==null&&(Ji(f,n,g),af(f,o,g)))}function Dl(n,o,f){var g=sa();Uo(n,o,f,g)}function Uo(n,o,f,g){var x={lane:g,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Ml(n))Ll(o,x);else{var F=n.alternate;if(n.lanes===0&&(F===null||F.lanes===0)&&(F=o.lastRenderedReducer,F!==null))try{var Z=o.lastRenderedState,fe=F(Z,f);if(x.hasEagerState=!0,x.eagerState=fe,Hi(fe,Z))return hu(n,o,x,0),ai===null&&rd(),!1}catch{}finally{}if(f=Ph(n,o,x,g),f!==null)return Ji(f,n,g),af(f,o,g),!0}return!1}function Fs(n,o,f,g){if(g={lane:2,revertLane:Cp(),action:g,hasEagerState:!1,eagerState:null,next:null},Ml(n)){if(o)throw Error(i(479))}else o=Ph(n,f,g,2),o!==null&&Ji(o,n,2)}function Ml(n){var o=n.alternate;return n===lr||o!==null&&o===lr}function Ll(n,o){El=dd=!0;var f=n.pending;f===null?o.next=o:(o.next=f.next,f.next=o),n.pending=o}function af(n,o,f){if((f&4194048)!==0){var g=o.lanes;g&=n.pendingLanes,f|=g,o.lanes=f,tn(n,f)}}var ko={readContext:qi,use:Su,useCallback:gi,useContext:gi,useEffect:gi,useImperativeHandle:gi,useLayoutEffect:gi,useInsertionEffect:gi,useMemo:gi,useReducer:gi,useRef:gi,useState:gi,useDebugValue:gi,useDeferredValue:gi,useTransition:gi,useSyncExternalStore:gi,useId:gi,useHostTransitionStatus:gi,useFormState:gi,useActionState:gi,useOptimistic:gi,useMemoCache:gi,useCacheRefresh:gi},Gh={readContext:qi,use:Su,useCallback:function(n,o){return Ar().memoizedState=[n,o===void 0?null:o],n},useContext:qi,useEffect:Yc,useImperativeHandle:function(n,o,f){f=f!=null?f.concat([n]):null,Ol(4194308,4,Pl.bind(null,o,n),f)},useLayoutEffect:function(n,o){return Ol(4194308,4,n,o)},useInsertionEffect:function(n,o){Ol(4,2,n,o)},useMemo:function(n,o){var f=Ar();o=o===void 0?null:o;var g=n();if(xs){j(!0);try{n()}finally{j(!1)}}return f.memoizedState=[g,o],g},useReducer:function(n,o,f){var g=Ar();if(f!==void 0){var x=f(o);if(xs){j(!0);try{f(o)}finally{j(!1)}}}else x=o;return g.memoizedState=g.baseState=x,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:x},g.queue=n,n=n.dispatch=Tu.bind(null,lr,n),[g.memoizedState,n]},useRef:function(n){var o=Ar();return n={current:n},o.memoizedState=n},useState:function(n){n=Au(n);var o=n.queue,f=Dl.bind(null,lr,o);return o.dispatch=f,[n.memoizedState,f]},useDebugValue:Zc,useDeferredValue:function(n,o){var f=Ar();return tf(f,n,o)},useTransition:function(){var n=Au(!1);return n=Kh.bind(null,lr,n.queue,!0,!1),Ar().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,f){var g=lr,x=Ar();if(kr){if(f===void 0)throw Error(i(407));f=f()}else{if(f=o(),ai===null)throw Error(i(349));(xr&124)!==0||Bc(g,o,f)}x.memoizedState=f;var F={value:f,getSnapshot:o};return x.queue=F,Yc(Ps.bind(null,g,F,n),[n]),g.flags|=2048,ts(9,Tl(),Hc.bind(null,g,F,f,o),null),f},useId:function(){var n=Ar(),o=ai.identifierPrefix;if(kr){var f=Io,g=Oo;f=(g&~(1<<32-G(g)-1)).toString(32)+f,o=""+o+"R"+f,f=Lc++,0<f&&(o+="H"+f.toString(32)),o+=""}else f=Hh++,o=""+o+"r"+f.toString(32)+"";return n.memoizedState=o},useHostTransitionStatus:wd,useFormState:$h,useActionState:$h,useOptimistic:function(n){var o=Ar();o.memoizedState=o.baseState=n;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=f,o=Fs.bind(null,lr,!0,f),f.dispatch=o,[n,o]},useMemoCache:kc,useCacheRefresh:function(){return Ar().memoizedState=Cu.bind(null,lr)}},of={readContext:qi,use:Su,useCallback:Nl,useContext:qi,useEffect:Il,useImperativeHandle:Qc,useInsertionEffect:Xc,useLayoutEffect:md,useMemo:ef,useReducer:Rl,useRef:Ru,useState:function(){return Rl(Xa)},useDebugValue:Zc,useDeferredValue:function(n,o){var f=ii();return yd(f,br.memoizedState,n,o)},useTransition:function(){var n=Rl(Xa)[0],o=ii().memoizedState;return[typeof n=="boolean"?n:Is(n),o]},useSyncExternalStore:jc,useId:rf,useHostTransitionStatus:wd,useFormState:zc,useActionState:zc,useOptimistic:function(n,o){var f=ii();return Lo(f,br,n,o)},useMemoCache:kc,useCacheRefresh:Fl},_d={readContext:qi,use:Su,useCallback:Nl,useContext:qi,useEffect:Il,useImperativeHandle:Qc,useInsertionEffect:Xc,useLayoutEffect:md,useMemo:ef,useReducer:es,useRef:Ru,useState:function(){return es(Xa)},useDebugValue:Zc,useDeferredValue:function(n,o){var f=ii();return br===null?tf(f,n,o):yd(f,br.memoizedState,n,o)},useTransition:function(){var n=es(Xa)[0],o=ii().memoizedState;return[typeof n=="boolean"?n:Is(n),o]},useSyncExternalStore:jc,useId:rf,useHostTransitionStatus:wd,useFormState:Jc,useActionState:Jc,useOptimistic:function(n,o){var f=ii();return br!==null?Lo(f,br,n,o):(f.baseState=n,[n,f.queue.dispatch])},useMemoCache:kc,useCacheRefresh:Fl},Qa=null,ga=0;function Ds(n){var o=ga;return ga+=1,Qa===null&&(Qa=[]),Nc(Qa,n,o)}function ns(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function Ul(n,o){throw o.$$typeof===m?Error(i(525)):(n=Object.prototype.toString.call(o),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function sf(n){var o=n._init;return o(n._payload)}function lf(n){function o(ut,tt){if(n){var gt=ut.deletions;gt===null?(ut.deletions=[tt],ut.flags|=16):gt.push(tt)}}function f(ut,tt){if(!n)return null;for(;tt!==null;)o(ut,tt),tt=tt.sibling;return null}function g(ut){for(var tt=new Map;ut!==null;)ut.key!==null?tt.set(ut.key,ut):tt.set(ut.index,ut),ut=ut.sibling;return tt}function x(ut,tt){return ut=Wa(ut,tt),ut.index=0,ut.sibling=null,ut}function F(ut,tt,gt){return ut.index=gt,n?(gt=ut.alternate,gt!==null?(gt=gt.index,gt<tt?(ut.flags|=67108866,tt):gt):(ut.flags|=67108866,tt)):(ut.flags|=1048576,tt)}function Z(ut){return n&&ut.alternate===null&&(ut.flags|=67108866),ut}function fe(ut,tt,gt,Ut){return tt===null||tt.tag!==6?(tt=si(gt,ut.mode,Ut),tt.return=ut,tt):(tt=x(tt,gt),tt.return=ut,tt)}function Ve(ut,tt,gt,Ut){var En=gt.type;return En===C?Dt(ut,tt,gt.props.children,Ut,gt.key):tt!==null&&(tt.elementType===En||typeof En=="object"&&En!==null&&En.$$typeof===$&&sf(En)===tt.type)?(tt=x(tt,gt.props),ns(tt,gt),tt.return=ut,tt):(tt=Ec(gt.type,gt.key,gt.props,null,ut.mode,Ut),ns(tt,gt),tt.return=ut,tt)}function vt(ut,tt,gt,Ut){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==gt.containerInfo||tt.stateNode.implementation!==gt.implementation?(tt=Ac(gt,ut.mode,Ut),tt.return=ut,tt):(tt=x(tt,gt.children||[]),tt.return=ut,tt)}function Dt(ut,tt,gt,Ut,En){return tt===null||tt.tag!==7?(tt=ll(gt,ut.mode,Ut,En),tt.return=ut,tt):(tt=x(tt,gt),tt.return=ut,tt)}function jt(ut,tt,gt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return tt=si(""+tt,ut.mode,gt),tt.return=ut,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case w:return gt=Ec(tt.type,tt.key,tt.props,null,ut.mode,gt),ns(gt,tt),gt.return=ut,gt;case S:return tt=Ac(tt,ut.mode,gt),tt.return=ut,tt;case $:var Ut=tt._init;return tt=Ut(tt._payload),jt(ut,tt,gt)}if(rt(tt)||pe(tt))return tt=ll(tt,ut.mode,gt,null),tt.return=ut,tt;if(typeof tt.then=="function")return jt(ut,Ds(tt),gt);if(tt.$$typeof===O)return jt(ut,Oc(ut,tt),gt);Ul(ut,tt)}return null}function St(ut,tt,gt,Ut){var En=tt!==null?tt.key:null;if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return En!==null?null:fe(ut,tt,""+gt,Ut);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case w:return gt.key===En?Ve(ut,tt,gt,Ut):null;case S:return gt.key===En?vt(ut,tt,gt,Ut):null;case $:return En=gt._init,gt=En(gt._payload),St(ut,tt,gt,Ut)}if(rt(gt)||pe(gt))return En!==null?null:Dt(ut,tt,gt,Ut,null);if(typeof gt.then=="function")return St(ut,tt,Ds(gt),Ut);if(gt.$$typeof===O)return St(ut,tt,Oc(ut,gt),Ut);Ul(ut,gt)}return null}function xt(ut,tt,gt,Ut,En){if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number"||typeof Ut=="bigint")return ut=ut.get(gt)||null,fe(tt,ut,""+Ut,En);if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case w:return ut=ut.get(Ut.key===null?gt:Ut.key)||null,Ve(tt,ut,Ut,En);case S:return ut=ut.get(Ut.key===null?gt:Ut.key)||null,vt(tt,ut,Ut,En);case $:var Rr=Ut._init;return Ut=Rr(Ut._payload),xt(ut,tt,gt,Ut,En)}if(rt(Ut)||pe(Ut))return ut=ut.get(gt)||null,Dt(tt,ut,Ut,En,null);if(typeof Ut.then=="function")return xt(ut,tt,gt,Ds(Ut),En);if(Ut.$$typeof===O)return xt(ut,tt,gt,Oc(tt,Ut),En);Ul(tt,Ut)}return null}function Xn(ut,tt,gt,Ut){for(var En=null,Rr=null,In=tt,zn=tt=0,Qi=null;In!==null&&zn<gt.length;zn++){In.index>zn?(Qi=In,In=null):Qi=In.sibling;var Kr=St(ut,In,gt[zn],Ut);if(Kr===null){In===null&&(In=Qi);break}n&&In&&Kr.alternate===null&&o(ut,In),tt=F(Kr,tt,zn),Rr===null?En=Kr:Rr.sibling=Kr,Rr=Kr,In=Qi}if(zn===gt.length)return f(ut,In),kr&&dl(ut,zn),En;if(In===null){for(;zn<gt.length;zn++)In=jt(ut,gt[zn],Ut),In!==null&&(tt=F(In,tt,zn),Rr===null?En=In:Rr.sibling=In,Rr=In);return kr&&dl(ut,zn),En}for(In=g(In);zn<gt.length;zn++)Qi=xt(In,ut,zn,gt[zn],Ut),Qi!==null&&(n&&Qi.alternate!==null&&In.delete(Qi.key===null?zn:Qi.key),tt=F(Qi,tt,zn),Rr===null?En=Qi:Rr.sibling=Qi,Rr=Qi);return n&&In.forEach(function(ec){return o(ut,ec)}),kr&&dl(ut,zn),En}function $n(ut,tt,gt,Ut){if(gt==null)throw Error(i(151));for(var En=null,Rr=null,In=tt,zn=tt=0,Qi=null,Kr=gt.next();In!==null&&!Kr.done;zn++,Kr=gt.next()){In.index>zn?(Qi=In,In=null):Qi=In.sibling;var ec=St(ut,In,Kr.value,Ut);if(ec===null){In===null&&(In=Qi);break}n&&In&&ec.alternate===null&&o(ut,In),tt=F(ec,tt,zn),Rr===null?En=ec:Rr.sibling=ec,Rr=ec,In=Qi}if(Kr.done)return f(ut,In),kr&&dl(ut,zn),En;if(In===null){for(;!Kr.done;zn++,Kr=gt.next())Kr=jt(ut,Kr.value,Ut),Kr!==null&&(tt=F(Kr,tt,zn),Rr===null?En=Kr:Rr.sibling=Kr,Rr=Kr);return kr&&dl(ut,zn),En}for(In=g(In);!Kr.done;zn++,Kr=gt.next())Kr=xt(In,ut,zn,Kr.value,Ut),Kr!==null&&(n&&Kr.alternate!==null&&In.delete(Kr.key===null?zn:Kr.key),tt=F(Kr,tt,zn),Rr===null?En=Kr:Rr.sibling=Kr,Rr=Kr);return n&&In.forEach(function(iO){return o(ut,iO)}),kr&&dl(ut,zn),En}function oi(ut,tt,gt,Ut){if(typeof gt=="object"&&gt!==null&&gt.type===C&&gt.key===null&&(gt=gt.props.children),typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case w:e:{for(var En=gt.key;tt!==null;){if(tt.key===En){if(En=gt.type,En===C){if(tt.tag===7){f(ut,tt.sibling),Ut=x(tt,gt.props.children),Ut.return=ut,ut=Ut;break e}}else if(tt.elementType===En||typeof En=="object"&&En!==null&&En.$$typeof===$&&sf(En)===tt.type){f(ut,tt.sibling),Ut=x(tt,gt.props),ns(Ut,gt),Ut.return=ut,ut=Ut;break e}f(ut,tt);break}else o(ut,tt);tt=tt.sibling}gt.type===C?(Ut=ll(gt.props.children,ut.mode,Ut,gt.key),Ut.return=ut,ut=Ut):(Ut=Ec(gt.type,gt.key,gt.props,null,ut.mode,Ut),ns(Ut,gt),Ut.return=ut,ut=Ut)}return Z(ut);case S:e:{for(En=gt.key;tt!==null;){if(tt.key===En)if(tt.tag===4&&tt.stateNode.containerInfo===gt.containerInfo&&tt.stateNode.implementation===gt.implementation){f(ut,tt.sibling),Ut=x(tt,gt.children||[]),Ut.return=ut,ut=Ut;break e}else{f(ut,tt);break}else o(ut,tt);tt=tt.sibling}Ut=Ac(gt,ut.mode,Ut),Ut.return=ut,ut=Ut}return Z(ut);case $:return En=gt._init,gt=En(gt._payload),oi(ut,tt,gt,Ut)}if(rt(gt))return Xn(ut,tt,gt,Ut);if(pe(gt)){if(En=pe(gt),typeof En!="function")throw Error(i(150));return gt=En.call(gt),$n(ut,tt,gt,Ut)}if(typeof gt.then=="function")return oi(ut,tt,Ds(gt),Ut);if(gt.$$typeof===O)return oi(ut,tt,Oc(ut,gt),Ut);Ul(ut,gt)}return typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint"?(gt=""+gt,tt!==null&&tt.tag===6?(f(ut,tt.sibling),Ut=x(tt,gt),Ut.return=ut,ut=Ut):(f(ut,tt),Ut=si(gt,ut.mode,Ut),Ut.return=ut,ut=Ut),Z(ut)):f(ut,tt)}return function(ut,tt,gt,Ut){try{ga=0;var En=oi(ut,tt,gt,Ut);return Qa=null,En}catch(In){if(In===yo||In===gl)throw In;var Rr=xi(29,In,null,ut.mode);return Rr.lanes=Ut,Rr.return=ut,Rr}finally{}}}var rs=lf(!0),kl=lf(!1),Vi=Re(null),Na=null;function ma(n){var o=n.alternate;Ue(Fi,Fi.current&1),Ue(Vi,n),Na===null&&(o===null||wu.current!==null||o.memoizedState!==null)&&(Na=n)}function jl(n){if(n.tag===22){if(Ue(Fi,Fi.current),Ue(Vi,n),Na===null){var o=n.alternate;o!==null&&o.memoizedState!==null&&(Na=n)}}else Ms()}function Ms(){Ue(Fi,Fi.current),Ue(Vi,Vi.current)}function is(n){Ke(Vi),Na===n&&(Na=null),Ke(Fi)}var Fi=Re(0);function Sd(n){for(var o=n;o!==null;){if(o.tag===13){var f=o.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||zl(f)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function qh(n,o,f,g){o=n.memoizedState,f=f(g,o),f=f==null?o:p({},o,f),n.memoizedState=f,n.lanes===0&&(n.updateQueue.baseState=f)}var Ed={enqueueSetState:function(n,o,f){n=n._reactInternals;var g=sa(),x=Pa(g);x.payload=o,f!=null&&(x.callback=f),o=Do(n,x,g),o!==null&&(Ji(o,n,g),Zo(o,n,g))},enqueueReplaceState:function(n,o,f){n=n._reactInternals;var g=sa(),x=Pa(g);x.tag=1,x.payload=o,f!=null&&(x.callback=f),o=Do(n,x,g),o!==null&&(Ji(o,n,g),Zo(o,n,g))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var f=sa(),g=Pa(f);g.tag=2,o!=null&&(g.callback=o),o=Do(n,g,f),o!==null&&(Ji(o,n,f),Zo(o,n,f))}};function zh(n,o,f,g,x,F,Z){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(g,F,Z):o.prototype&&o.prototype.isPureReactComponent?!fo(f,g)||!fo(x,F):!0}function Wh(n,o,f,g){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(f,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(f,g),o.state!==n&&Ed.enqueueReplaceState(o,o.state,null)}function Ou(n,o){var f=o;if("ref"in o){f={};for(var g in o)g!=="ref"&&(f[g]=o[g])}if(n=n.defaultProps){f===o&&(f=p({},f));for(var x in n)f[x]===void 0&&(f[x]=n[x])}return f}var Ad=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Zv(n){Ad(n)}function e0(n){console.error(n)}function t0(n){Ad(n)}function Jh(n,o){try{var f=n.onUncaughtError;f(o.value,{componentStack:o.stack})}catch(g){setTimeout(function(){throw g})}}function n0(n,o,f){try{var g=n.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Fm(n,o,f){return f=Pa(f),f.tag=3,f.payload={element:null},f.callback=function(){Jh(n,o)},f}function Dm(n){return n=Pa(n),n.tag=3,n}function Mm(n,o,f,g){var x=f.type.getDerivedStateFromError;if(typeof x=="function"){var F=g.value;n.payload=function(){return x(F)},n.callback=function(){n0(o,f,g)}}var Z=f.stateNode;Z!==null&&typeof Z.componentDidCatch=="function"&&(n.callback=function(){n0(o,f,g),typeof x!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var fe=g.stack;this.componentDidCatch(g.value,{componentStack:fe!==null?fe:""})})}function Y_(n,o,f,g,x){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(o=f.alternate,o!==null&&yu(o,f,x,!0),f=Vi.current,f!==null){switch(f.tag){case 13:return Na===null?vp():f.alternate===null&&yi===0&&(yi=3),f.flags&=-257,f.flags|=65536,f.lanes=x,g===Ya?f.flags|=16384:(o=f.updateQueue,o===null?f.updateQueue=new Set([g]):o.add(g),Xd(n,g,x)),!1;case 22:return f.flags|=65536,g===Ya?f.flags|=16384:(o=f.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=o):(f=o.retryQueue,f===null?o.retryQueue=new Set([g]):f.add(g)),Xd(n,g,x)),!1}throw Error(i(435,f.tag))}return Xd(n,g,x),vp(),!1}if(kr)return o=Vi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=x,g!==od&&(n=Error(i(422),{cause:g}),Tc(qa(n,f)))):(g!==od&&(o=Error(i(423),{cause:g}),Tc(qa(o,f))),n=n.current.alternate,n.flags|=65536,x&=-x,n.lanes|=x,g=qa(g,f),x=Fm(n.stateNode,g,x),bl(n,x),yi!==4&&(yi=2)),!1;var F=Error(i(520),{cause:g});if(F=qa(F,f),bf===null?bf=[F]:bf.push(F),yi!==4&&(yi=2),o===null)return!0;g=qa(g,f),f=o;do{switch(f.tag){case 3:return f.flags|=65536,n=x&-x,f.lanes|=n,n=Fm(f.stateNode,g,n),bl(f,n),!1;case 1:if(o=f.type,F=f.stateNode,(f.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(ks===null||!ks.has(F))))return f.flags|=65536,x&=-x,f.lanes|=x,x=Dm(x),Mm(x,n,f,g),bl(f,x),!1}f=f.return}while(f!==null);return!1}var r0=Error(i(461)),$i=!1;function zi(n,o,f,g){o.child=n===null?kl(o,null,f,g):rs(o,n.child,f,g)}function i0(n,o,f,g,x){f=f.render;var F=o.ref;if("ref"in g){var Z={};for(var fe in g)fe!=="ref"&&(Z[fe]=g[fe])}else Z=g;return Es(o),g=Rs(n,o,f,Z,F,x),fe=Cs(),n!==null&&!$i?(Ts(n,o,x),jo(n,o,x)):(kr&&fe&&Cc(o),o.flags|=1,zi(n,o,g,x),o.child)}function Lm(n,o,f,g,x){if(n===null){var F=f.type;return typeof F=="function"&&!Sc(F)&&F.defaultProps===void 0&&f.compare===null?(o.tag=15,o.type=F,Fa(n,o,F,g,x)):(n=Ec(f.type,null,g,o,o.mode,x),n.ref=o.ref,n.return=o,o.child=n)}if(F=n.child,!Fu(n,x)){var Z=F.memoizedProps;if(f=f.compare,f=f!==null?f:fo,f(Z,g)&&n.ref===o.ref)return jo(n,o,x)}return o.flags|=1,n=Wa(F,g),n.ref=o.ref,n.return=o,o.child=n}function Fa(n,o,f,g,x){if(n!==null){var F=n.memoizedProps;if(fo(F,g)&&n.ref===o.ref)if($i=!1,o.pendingProps=g=F,Fu(n,x))(n.flags&131072)!==0&&($i=!0);else return o.lanes=n.lanes,jo(n,o,x)}return xd(n,o,f,g,x)}function Yh(n,o,f){var g=o.pendingProps,x=g.children,F=n!==null?n.memoizedState:null;if(g.mode==="hidden"){if((o.flags&128)!==0){if(g=F!==null?F.baseLanes|f:f,n!==null){for(x=o.child=n.child,F=0;x!==null;)F=F|x.lanes|x.childLanes,x=x.sibling;o.childLanes=F&~g}else o.childLanes=0,o.child=null;return uf(n,o,g,f)}if((f&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&Pc(o,F!==null?F.cachePool:null),F!==null?_l(o,F):Sl(),jl(o);else return o.lanes=o.childLanes=536870912,uf(n,o,F!==null?F.baseLanes|f:f,f)}else F!==null?(Pc(o,F.cachePool),_l(o,F),Ms(),o.memoizedState=null):(n!==null&&Pc(o,null),Sl(),Ms());return zi(n,o,x,f),o.child}function uf(n,o,f,g){var x=jh();return x=x===null?null:{parent:yn._currentValue,pool:x},o.memoizedState={baseLanes:f,cachePool:x},n!==null&&Pc(o,null),Sl(),jl(o),n!==null&&yu(n,o,g,!0),null}function Iu(n,o){var f=o.ref;if(f===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(i(284));(n===null||n.ref!==f)&&(o.flags|=4194816)}}function xd(n,o,f,g,x){return Es(o),f=Rs(n,o,f,g,void 0,x),g=Cs(),n!==null&&!$i?(Ts(n,o,x),jo(n,o,x)):(kr&&g&&Cc(o),o.flags|=1,zi(n,o,f,x),o.child)}function Xh(n,o,f,g,x,F){return Es(o),o.updateQueue=null,f=Ri(o,g,f,x),xl(n),g=Cs(),n!==null&&!$i?(Ts(n,o,F),jo(n,o,F)):(kr&&g&&Cc(o),o.flags|=1,zi(n,o,f,F),o.child)}function Rd(n,o,f,g,x){if(Es(o),o.stateNode===null){var F=pu,Z=f.contextType;typeof Z=="object"&&Z!==null&&(F=qi(Z)),F=new f(g,F),o.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=Ed,o.stateNode=F,F._reactInternals=o,F=o.stateNode,F.props=g,F.state=o.memoizedState,F.refs={},vo(o),Z=f.contextType,F.context=typeof Z=="object"&&Z!==null?qi(Z):pu,F.state=o.memoizedState,Z=f.getDerivedStateFromProps,typeof Z=="function"&&(qh(o,f,Z,g),F.state=o.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(Z=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),Z!==F.state&&Ed.enqueueReplaceState(F,F.state,null),Fn(o,g,F,x),Ni(),F.state=o.memoizedState),typeof F.componentDidMount=="function"&&(o.flags|=4194308),g=!0}else if(n===null){F=o.stateNode;var fe=o.memoizedProps,Ve=Ou(f,fe);F.props=Ve;var vt=F.context,Dt=f.contextType;Z=pu,typeof Dt=="object"&&Dt!==null&&(Z=qi(Dt));var jt=f.getDerivedStateFromProps;Dt=typeof jt=="function"||typeof F.getSnapshotBeforeUpdate=="function",fe=o.pendingProps!==fe,Dt||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(fe||vt!==Z)&&Wh(o,F,g,Z),Fo=!1;var St=o.memoizedState;F.state=St,Fn(o,g,F,x),Ni(),vt=o.memoizedState,fe||St!==vt||Fo?(typeof jt=="function"&&(qh(o,f,jt,g),vt=o.memoizedState),(Ve=Fo||zh(o,f,Ve,g,St,vt,Z))?(Dt||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(o.flags|=4194308)):(typeof F.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=vt),F.props=g,F.state=vt,F.context=Z,g=Ve):(typeof F.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{F=o.stateNode,vl(n,o),Z=o.memoizedProps,Dt=Ou(f,Z),F.props=Dt,jt=o.pendingProps,St=F.context,vt=f.contextType,Ve=pu,typeof vt=="object"&&vt!==null&&(Ve=qi(vt)),fe=f.getDerivedStateFromProps,(vt=typeof fe=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Z!==jt||St!==Ve)&&Wh(o,F,g,Ve),Fo=!1,St=o.memoizedState,F.state=St,Fn(o,g,F,x),Ni();var xt=o.memoizedState;Z!==jt||St!==xt||Fo||n!==null&&n.dependencies!==null&&cd(n.dependencies)?(typeof fe=="function"&&(qh(o,f,fe,g),xt=o.memoizedState),(Dt=Fo||zh(o,f,Dt,g,St,xt,Ve)||n!==null&&n.dependencies!==null&&cd(n.dependencies))?(vt||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(g,xt,Ve),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(g,xt,Ve)),typeof F.componentDidUpdate=="function"&&(o.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof F.componentDidUpdate!="function"||Z===n.memoizedProps&&St===n.memoizedState||(o.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Z===n.memoizedProps&&St===n.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=xt),F.props=g,F.state=xt,F.context=Ve,g=Dt):(typeof F.componentDidUpdate!="function"||Z===n.memoizedProps&&St===n.memoizedState||(o.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Z===n.memoizedProps&&St===n.memoizedState||(o.flags|=1024),g=!1)}return F=g,Iu(n,o),g=(o.flags&128)!==0,F||g?(F=o.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:F.render(),o.flags|=1,n!==null&&g?(o.child=rs(o,n.child,null,x),o.child=rs(o,null,f,x)):zi(n,o,f,x),o.memoizedState=F.state,n=o.child):n=jo(n,o,x),n}function Qh(n,o,f,g){return mu(),o.flags|=256,zi(n,o,f,g),o.child}var Pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cf(n){return{baseLanes:n,cachePool:Bh()}}function Cd(n,o,f){return n=n!==null?n.childLanes&~f:0,o&&(n|=va),n}function Zh(n,o,f){var g=o.pendingProps,x=!1,F=(o.flags&128)!==0,Z;if((Z=F)||(Z=n!==null&&n.memoizedState===null?!1:(Fi.current&2)!==0),Z&&(x=!0,o.flags&=-129),Z=(o.flags&32)!==0,o.flags&=-33,n===null){if(kr){if(x?ma(o):Ms(),kr){var fe=hi,Ve;if(Ve=fe){e:{for(Ve=fe,fe=go;Ve.nodeType!==8;){if(!fe){fe=null;break e}if(Ve=ur(Ve.nextSibling),Ve===null){fe=null;break e}}fe=Ve}fe!==null?(o.memoizedState={dehydrated:fe,treeContext:fl!==null?{id:Oo,overflow:Io}:null,retryLane:536870912,hydrationErrors:null},Ve=xi(18,null,null,0),Ve.stateNode=fe,Ve.return=o,o.child=Ve,Gi=o,hi=null,Ve=!0):Ve=!1}Ve||_s(o)}if(fe=o.memoizedState,fe!==null&&(fe=fe.dehydrated,fe!==null))return zl(fe)?o.lanes=32:o.lanes=536870912,null;is(o)}return fe=g.children,g=g.fallback,x?(Ms(),x=o.mode,fe=Nu({mode:"hidden",children:fe},x),g=ll(g,x,f,null),fe.return=o,g.return=o,fe.sibling=g,o.child=fe,x=o.child,x.memoizedState=cf(f),x.childLanes=Cd(n,Z,f),o.memoizedState=Pu,g):(ma(o),Td(o,fe))}if(Ve=n.memoizedState,Ve!==null&&(fe=Ve.dehydrated,fe!==null)){if(F)o.flags&256?(ma(o),o.flags&=-257,o=Od(n,o,f)):o.memoizedState!==null?(Ms(),o.child=n.child,o.flags|=128,o=null):(Ms(),x=g.fallback,fe=o.mode,g=Nu({mode:"visible",children:g.children},fe),x=ll(x,fe,f,null),x.flags|=2,g.return=o,x.return=o,g.sibling=x,o.child=g,rs(o,n.child,null,f),g=o.child,g.memoizedState=cf(f),g.childLanes=Cd(n,Z,f),o.memoizedState=Pu,o=x);else if(ma(o),zl(fe)){if(Z=fe.nextSibling&&fe.nextSibling.dataset,Z)var vt=Z.dgst;Z=vt,g=Error(i(419)),g.stack="",g.digest=Z,Tc({value:g,source:null,stack:null}),o=Od(n,o,f)}else if($i||yu(n,o,f,!1),Z=(f&n.childLanes)!==0,$i||Z){if(Z=ai,Z!==null&&(g=f&-f,g=(g&42)!==0?1:Ht(g),g=(g&(Z.suspendedLanes|f))!==0?0:g,g!==0&&g!==Ve.retryLane))throw Ve.retryLane=g,Ta(n,g),Ji(Z,n,g),r0;fe.data==="$?"||vp(),o=Od(n,o,f)}else fe.data==="$?"?(o.flags|=192,o.child=n.child,o=null):(n=Ve.treeContext,hi=ur(fe.nextSibling),Gi=o,kr=!0,ws=null,go=!1,n!==null&&(Oa[Ia++]=Oo,Oa[Ia++]=Io,Oa[Ia++]=fl,Oo=n.id,Io=n.overflow,fl=o),o=Td(o,g.children),o.flags|=4096);return o}return x?(Ms(),x=g.fallback,fe=o.mode,Ve=n.child,vt=Ve.sibling,g=Wa(Ve,{mode:"hidden",children:g.children}),g.subtreeFlags=Ve.subtreeFlags&65011712,vt!==null?x=Wa(vt,x):(x=ll(x,fe,f,null),x.flags|=2),x.return=o,g.return=o,g.sibling=x,o.child=g,g=x,x=o.child,fe=n.child.memoizedState,fe===null?fe=cf(f):(Ve=fe.cachePool,Ve!==null?(vt=yn._currentValue,Ve=Ve.parent!==vt?{parent:vt,pool:vt}:Ve):Ve=Bh(),fe={baseLanes:fe.baseLanes|f,cachePool:Ve}),x.memoizedState=fe,x.childLanes=Cd(n,Z,f),o.memoizedState=Pu,g):(ma(o),f=n.child,n=f.sibling,f=Wa(f,{mode:"visible",children:g.children}),f.return=o,f.sibling=null,n!==null&&(Z=o.deletions,Z===null?(o.deletions=[n],o.flags|=16):Z.push(n)),o.child=f,o.memoizedState=null,f)}function Td(n,o){return o=Nu({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function Nu(n,o){return n=xi(22,n,null,o),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Od(n,o,f){return rs(o,n.child,null,f),n=Td(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function ep(n,o,f){n.lanes|=o;var g=n.alternate;g!==null&&(g.lanes|=o),ud(n.return,o,f)}function Id(n,o,f,g,x){var F=n.memoizedState;F===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:x}:(F.isBackwards=o,F.rendering=null,F.renderingStartTime=0,F.last=g,F.tail=f,F.tailMode=x)}function tp(n,o,f){var g=o.pendingProps,x=g.revealOrder,F=g.tail;if(zi(n,o,g.children,f),g=Fi.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ep(n,f,o);else if(n.tag===19)ep(n,f,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}g&=1}switch(Ue(Fi,g),x){case"forwards":for(f=o.child,x=null;f!==null;)n=f.alternate,n!==null&&Sd(n)===null&&(x=f),f=f.sibling;f=x,f===null?(x=o.child,o.child=null):(x=f.sibling,f.sibling=null),Id(o,!1,x,f,F);break;case"backwards":for(f=null,x=o.child,o.child=null;x!==null;){if(n=x.alternate,n!==null&&Sd(n)===null){o.child=x;break}n=x.sibling,x.sibling=f,f=x,x=n}Id(o,!0,f,null,F);break;case"together":Id(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function jo(n,o,f){if(n!==null&&(o.dependencies=n.dependencies),$o|=o.lanes,(f&o.childLanes)===0)if(n!==null){if(yu(n,o,f,!1),(f&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(i(153));if(o.child!==null){for(n=o.child,f=Wa(n,n.pendingProps),o.child=f,f.return=o;n.sibling!==null;)n=n.sibling,f=f.sibling=Wa(n,n.pendingProps),f.return=o;f.sibling=null}return o.child}function Fu(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&cd(n)))}function Um(n,o,f){switch(o.tag){case 3:ue(o,o.stateNode.containerInfo),Ss(o,yn,n.memoizedState.cache),mu();break;case 27:case 5:Ye(o);break;case 4:ue(o,o.stateNode.containerInfo);break;case 10:Ss(o,o.type,o.memoizedProps.value);break;case 13:var g=o.memoizedState;if(g!==null)return g.dehydrated!==null?(ma(o),o.flags|=128,null):(f&o.child.childLanes)!==0?Zh(n,o,f):(ma(o),n=jo(n,o,f),n!==null?n.sibling:null);ma(o);break;case 19:var x=(n.flags&128)!==0;if(g=(f&o.childLanes)!==0,g||(yu(n,o,f,!1),g=(f&o.childLanes)!==0),x){if(g)return tp(n,o,f);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ue(Fi,Fi.current),g)break;return null;case 22:case 23:return o.lanes=0,Yh(n,o,f);case 24:Ss(o,yn,n.memoizedState.cache)}return jo(n,o,f)}function np(n,o,f){if(n!==null)if(n.memoizedProps!==o.pendingProps)$i=!0;else{if(!Fu(n,f)&&(o.flags&128)===0)return $i=!1,Um(n,o,f);$i=(n.flags&131072)!==0}else $i=!1,kr&&(o.flags&1048576)!==0&&Fh(o,Rc,o.index);switch(o.lanes=0,o.tag){case 16:e:{n=o.pendingProps;var g=o.elementType,x=g._init;if(g=x(g._payload),o.type=g,typeof g=="function")Sc(g)?(n=Ou(g,n),o.tag=1,o=Rd(null,o,g,n,f)):(o.tag=0,o=xd(null,o,g,n,f));else{if(g!=null){if(x=g.$$typeof,x===V){o.tag=11,o=i0(null,o,g,n,f);break e}else if(x===W){o.tag=14,o=Lm(null,o,g,n,f);break e}}throw o=et(g)||g,Error(i(306,o,""))}}return o;case 0:return xd(n,o,o.type,o.pendingProps,f);case 1:return g=o.type,x=Ou(g,o.pendingProps),Rd(n,o,g,x,f);case 3:e:{if(ue(o,o.stateNode.containerInfo),n===null)throw Error(i(387));g=o.pendingProps;var F=o.memoizedState;x=F.element,vl(n,o),Fn(o,g,null,f);var Z=o.memoizedState;if(g=Z.cache,Ss(o,yn,g),g!==F.cache&&Mh(o,[yn],f,!0),Ni(),g=Z.element,F.isDehydrated)if(F={element:g,isDehydrated:!1,cache:Z.cache},o.updateQueue.baseState=F,o.memoizedState=F,o.flags&256){o=Qh(n,o,g,f);break e}else if(g!==x){x=qa(Error(i(424)),o),Tc(x),o=Qh(n,o,g,f);break e}else{switch(n=o.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(hi=ur(n.firstChild),Gi=o,kr=!0,ws=null,go=!0,f=kl(o,null,g,f),o.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(mu(),g===x){o=jo(n,o,f);break e}zi(n,o,g,f)}o=o.child}return o;case 26:return Iu(n,o),n===null?(f=tS(o.type,null,o.pendingProps,null))?o.memoizedState=f:kr||(f=o.type,n=o.pendingProps,g=Kt(Nt.current).createElement(f),g[Ft]=o,g[Zt]=n,He(g,f,n),Gt(g),o.stateNode=g):o.memoizedState=tS(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return Ye(o),n===null&&kr&&(g=o.stateNode=Q_(o.type,o.pendingProps,Nt.current),Gi=o,go=!0,x=hi,Xi(o.type)?(us=x,hi=ur(g.firstChild)):hi=x),zi(n,o,o.pendingProps.children,f),Iu(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&kr&&((x=g=hi)&&(g=If(g,o.type,o.pendingProps,go),g!==null?(o.stateNode=g,Gi=o,hi=ur(g.firstChild),go=!1,x=!0):x=!1),x||_s(o)),Ye(o),x=o.type,F=o.pendingProps,Z=n!==null?n.memoizedProps:null,g=F.children,dr(x,F)?g=null:Z!==null&&dr(x,Z)&&(o.flags|=32),o.memoizedState!==null&&(x=Rs(n,o,_u,null,null,f),Up._currentValue=x),Iu(n,o),zi(n,o,g,f),o.child;case 6:return n===null&&kr&&((n=f=hi)&&(f=Pf(f,o.pendingProps,go),f!==null?(o.stateNode=f,Gi=o,hi=null,n=!0):n=!1),n||_s(o)),null;case 13:return Zh(n,o,f);case 4:return ue(o,o.stateNode.containerInfo),g=o.pendingProps,n===null?o.child=rs(o,null,g,f):zi(n,o,g,f),o.child;case 11:return i0(n,o,o.type,o.pendingProps,f);case 7:return zi(n,o,o.pendingProps,f),o.child;case 8:return zi(n,o,o.pendingProps.children,f),o.child;case 12:return zi(n,o,o.pendingProps.children,f),o.child;case 10:return g=o.pendingProps,Ss(o,o.type,g.value),zi(n,o,g.children,f),o.child;case 9:return x=o.type._context,g=o.pendingProps.children,Es(o),x=qi(x),g=g(x),o.flags|=1,zi(n,o,g,f),o.child;case 14:return Lm(n,o,o.type,o.pendingProps,f);case 15:return Fa(n,o,o.type,o.pendingProps,f);case 19:return tp(n,o,f);case 31:return g=o.pendingProps,f=o.mode,g={mode:g.mode,children:g.children},n===null?(f=Nu(g,f),f.ref=o.ref,o.child=f,f.return=o,o=f):(f=Wa(n.child,g),f.ref=o.ref,o.child=f,f.return=o,o=f),o;case 22:return Yh(n,o,f);case 24:return Es(o),g=qi(yn),n===null?(x=jh(),x===null&&(x=ai,F=Pi(),x.pooledCache=F,F.refCount++,F!==null&&(x.pooledCacheLanes|=f),x=F),o.memoizedState={parent:g,cache:x},vo(o),Ss(o,yn,x)):((n.lanes&f)!==0&&(vl(n,o),Fn(o,null,null,f),Ni()),x=n.memoizedState,F=o.memoizedState,x.parent!==g?(x={parent:g,cache:g},o.memoizedState=x,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=x),Ss(o,yn,g)):(g=F.cache,Ss(o,yn,g),g!==x.cache&&Mh(o,[yn],f,!0))),zi(n,o,o.pendingProps.children,f),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Bo(n){n.flags|=4}function ff(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!oS(o)){if(o=Vi.current,o!==null&&((xr&4194048)===xr?Na!==null:(xr&62914560)!==xr&&(xr&536870912)===0||o!==Na))throw No=Ya,bu;n.flags|=8192}}function df(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?ft():536870912,n.lanes|=o,$l|=o)}function Du(n,o){if(!kr)switch(n.tailMode){case"hidden":o=n.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?n.tail=null:f.sibling=null;break;case"collapsed":f=n.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:g.sibling=null}}function fi(n){var o=n.alternate!==null&&n.alternate.child===n.child,f=0,g=0;if(o)for(var x=n.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags&65011712,g|=x.flags&65011712,x.return=n,x=x.sibling;else for(x=n.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=n,x=x.sibling;return n.subtreeFlags|=g,n.childLanes=f,o}function Pd(n,o,f){var g=o.pendingProps;switch(ad(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(o),null;case 1:return fi(o),null;case 3:return f=o.stateNode,g=null,n!==null&&(g=n.memoizedState.cache),o.memoizedState.cache!==g&&(o.flags|=2048),Xo(yn),Ie(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(n===null||n.child===null)&&(gu(o)?Bo(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Dh())),fi(o),null;case 26:return f=o.memoizedState,n===null?(Bo(o),f!==null?(fi(o),ff(o,f)):(fi(o),o.flags&=-16777217)):f?f!==n.memoizedState?(Bo(o),fi(o),ff(o,f)):(fi(o),o.flags&=-16777217):(n.memoizedProps!==g&&Bo(o),fi(o),o.flags&=-16777217),null;case 27:se(o),f=Nt.current;var x=o.type;if(n!==null&&o.stateNode!=null)n.memoizedProps!==g&&Bo(o);else{if(!g){if(o.stateNode===null)throw Error(i(166));return fi(o),null}n=at.current,gu(o)?Tm(o):(n=Q_(x,g,f),o.stateNode=n,Bo(o))}return fi(o),null;case 5:if(se(o),f=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==g&&Bo(o);else{if(!g){if(o.stateNode===null)throw Error(i(166));return fi(o),null}if(n=at.current,gu(o))Tm(o);else{switch(x=Kt(Nt.current),n){case 1:n=x.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:n=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":n=x.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":n=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":n=x.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof g.is=="string"?x.createElement("select",{is:g.is}):x.createElement("select"),g.multiple?n.multiple=!0:g.size&&(n.size=g.size);break;default:n=typeof g.is=="string"?x.createElement(f,{is:g.is}):x.createElement(f)}}n[Ft]=o,n[Zt]=g;e:for(x=o.child;x!==null;){if(x.tag===5||x.tag===6)n.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===o)break e;for(;x.sibling===null;){if(x.return===null||x.return===o)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}o.stateNode=n;e:switch(He(n,f,g),f){case"button":case"input":case"select":case"textarea":n=!!g.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Bo(o)}}return fi(o),o.flags&=-16777217,null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==g&&Bo(o);else{if(typeof g!="string"&&o.stateNode===null)throw Error(i(166));if(n=Nt.current,gu(o)){if(n=o.stateNode,f=o.memoizedProps,g=null,x=Gi,x!==null)switch(x.tag){case 27:case 5:g=x.memoizedProps}n[Ft]=o,n=!!(n.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||U(n.nodeValue,f)),n||_s(o)}else n=Kt(n).createTextNode(g),n[Ft]=o,o.stateNode=n}return fi(o),null;case 13:if(g=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(x=gu(o),g!==null&&g.dehydrated!==null){if(n===null){if(!x)throw Error(i(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(i(317));x[Ft]=o}else mu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;fi(o),x=!1}else x=Dh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=x),x=!0;if(!x)return o.flags&256?(is(o),o):(is(o),null)}if(is(o),(o.flags&128)!==0)return o.lanes=f,o;if(f=g!==null,n=n!==null&&n.memoizedState!==null,f){g=o.child,x=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(x=g.alternate.memoizedState.cachePool.pool);var F=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(F=g.memoizedState.cachePool.pool),F!==x&&(g.flags|=2048)}return f!==n&&f&&(o.child.flags|=8192),df(o,o.updateQueue),fi(o),null;case 4:return Ie(),n===null&&Pp(o.stateNode.containerInfo),fi(o),null;case 10:return Xo(o.type),fi(o),null;case 19:if(Ke(Fi),x=o.memoizedState,x===null)return fi(o),null;if(g=(o.flags&128)!==0,F=x.rendering,F===null)if(g)Du(x,!1);else{if(yi!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(F=Sd(n),F!==null){for(o.flags|=128,Du(x,!1),n=F.updateQueue,o.updateQueue=n,df(o,n),o.subtreeFlags=0,n=f,f=o.child;f!==null;)Nh(f,n),f=f.sibling;return Ue(Fi,Fi.current&1|2),o.child}n=n.sibling}x.tail!==null&&Ne()>ss&&(o.flags|=128,g=!0,Du(x,!1),o.lanes=4194304)}else{if(!g)if(n=Sd(F),n!==null){if(o.flags|=128,g=!0,n=n.updateQueue,o.updateQueue=n,df(o,n),Du(x,!0),x.tail===null&&x.tailMode==="hidden"&&!F.alternate&&!kr)return fi(o),null}else 2*Ne()-x.renderingStartTime>ss&&f!==536870912&&(o.flags|=128,g=!0,Du(x,!1),o.lanes=4194304);x.isBackwards?(F.sibling=o.child,o.child=F):(n=x.last,n!==null?n.sibling=F:o.child=F,x.last=F)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=Ne(),o.sibling=null,n=Fi.current,Ue(Fi,g?n&1|2:n&1),o):(fi(o),null);case 22:case 23:return is(o),Mc(),g=o.memoizedState!==null,n!==null?n.memoizedState!==null!==g&&(o.flags|=8192):g&&(o.flags|=8192),g?(f&536870912)!==0&&(o.flags&128)===0&&(fi(o),o.subtreeFlags&6&&(o.flags|=8192)):fi(o),f=o.updateQueue,f!==null&&df(o,f.retryQueue),f=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(f=n.memoizedState.cachePool.pool),g=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==f&&(o.flags|=2048),n!==null&&Ke(Qo),null;case 24:return f=null,n!==null&&(f=n.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Xo(yn),fi(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function km(n,o){switch(ad(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return Xo(yn),Ie(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return se(o),null;case 13:if(is(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(i(340));mu()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return Ke(Fi),null;case 4:return Ie(),null;case 10:return Xo(o.type),null;case 22:case 23:return is(o),Mc(),n!==null&&Ke(Qo),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return Xo(yn),null;case 25:return null;default:return null}}function rp(n,o){switch(ad(o),o.tag){case 3:Xo(yn),Ie();break;case 26:case 27:case 5:se(o);break;case 4:Ie();break;case 13:is(o);break;case 19:Ke(Fi);break;case 10:Xo(o.type);break;case 22:case 23:is(o),Mc(),n!==null&&Ke(Qo);break;case 24:Xo(yn)}}function Mu(n,o){try{var f=o.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var x=g.next;f=x;do{if((f.tag&n)===n){g=void 0;var F=f.create,Z=f.inst;g=F(),Z.destroy=g}f=f.next}while(f!==x)}}catch(fe){Qr(o,o.return,fe)}}function bo(n,o,f){try{var g=o.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var F=x.next;g=F;do{if((g.tag&n)===n){var Z=g.inst,fe=Z.destroy;if(fe!==void 0){Z.destroy=void 0,x=o;var Ve=f,vt=fe;try{vt()}catch(Dt){Qr(x,Ve,Dt)}}}g=g.next}while(g!==F)}}catch(Dt){Qr(o,o.return,Dt)}}function ip(n){var o=n.updateQueue;if(o!==null){var f=n.stateNode;try{wl(o,f)}catch(g){Qr(n,n.return,g)}}}function hf(n,o,f){f.props=Ou(n.type,n.memoizedProps),f.state=n.memoizedState;try{f.componentWillUnmount()}catch(g){Qr(n,o,g)}}function Lu(n,o){try{var f=n.ref;if(f!==null){switch(n.tag){case 26:case 27:case 5:var g=n.stateNode;break;case 30:g=n.stateNode;break;default:g=n.stateNode}typeof f=="function"?n.refCleanup=f(g):f.current=g}}catch(x){Qr(n,o,x)}}function Za(n,o){var f=n.ref,g=n.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(x){Qr(n,o,x)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(x){Qr(n,o,x)}else f.current=null}function ap(n){var o=n.type,f=n.memoizedProps,g=n.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break e;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(x){Qr(n,n.return,x)}}function Nd(n,o,f){try{var g=n.stateNode;Ge(g,n.type,f,o),g[Zt]=o}catch(x){Qr(n,n.return,x)}}function op(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Xi(n.type)||n.tag===4}function Fd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||op(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Xi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Dd(n,o,f){var g=n.tag;if(g===5||g===6)n=n.stateNode,o?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(n,o):(o=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,o.appendChild(n),f=f._reactRootContainer,f!=null||o.onclick!==null||(o.onclick=J));else if(g!==4&&(g===27&&Xi(n.type)&&(f=n.stateNode,o=null),n=n.child,n!==null))for(Dd(n,o,f),n=n.sibling;n!==null;)Dd(n,o,f),n=n.sibling}function as(n,o,f){var g=n.tag;if(g===5||g===6)n=n.stateNode,o?f.insertBefore(n,o):f.appendChild(n);else if(g!==4&&(g===27&&Xi(n.type)&&(f=n.stateNode),n=n.child,n!==null))for(as(n,o,f),n=n.sibling;n!==null;)as(n,o,f),n=n.sibling}function sp(n){var o=n.stateNode,f=n.memoizedProps;try{for(var g=n.type,x=o.attributes;x.length;)o.removeAttributeNode(x[0]);He(o,g,f),o[Ft]=n,o[Zt]=f}catch(F){Qr(n,n.return,F)}}var Ho=!1,mi=!1,pf=!1,Md=typeof WeakSet=="function"?WeakSet:Set,Ci=null;function jm(n,o){if(n=n.containerInfo,Ze=uy,n=Ga(n),Ch(n)){if("selectionStart"in n)var f={start:n.selectionStart,end:n.selectionEnd};else e:{f=(f=n.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var x=g.anchorOffset,F=g.focusNode;g=g.focusOffset;try{f.nodeType,F.nodeType}catch{f=null;break e}var Z=0,fe=-1,Ve=-1,vt=0,Dt=0,jt=n,St=null;t:for(;;){for(var xt;jt!==f||x!==0&&jt.nodeType!==3||(fe=Z+x),jt!==F||g!==0&&jt.nodeType!==3||(Ve=Z+g),jt.nodeType===3&&(Z+=jt.nodeValue.length),(xt=jt.firstChild)!==null;)St=jt,jt=xt;for(;;){if(jt===n)break t;if(St===f&&++vt===x&&(fe=Z),St===F&&++Dt===g&&(Ve=Z),(xt=jt.nextSibling)!==null)break;jt=St,St=jt.parentNode}jt=xt}f=fe===-1||Ve===-1?null:{start:fe,end:Ve}}else f=null}f=f||{start:0,end:0}}else f=null;for(kt={focusedElem:n,selectionRange:f},uy=!1,Ci=o;Ci!==null;)if(o=Ci,n=o.child,(o.subtreeFlags&1024)!==0&&n!==null)n.return=o,Ci=n;else for(;Ci!==null;){switch(o=Ci,F=o.alternate,n=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&F!==null){n=void 0,f=o,x=F.memoizedProps,F=F.memoizedState,g=f.stateNode;try{var Xn=Ou(f.type,x,f.elementType===f.type);n=g.getSnapshotBeforeUpdate(Xn,F),g.__reactInternalSnapshotBeforeUpdate=n}catch($n){Qr(f,f.return,$n)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,f=n.nodeType,f===9)Eo(n);else if(f===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Eo(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=o.sibling,n!==null){n.return=o.return,Ci=n;break}Ci=o.return}}function Ld(n,o,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:Bl(n,f),g&4&&Mu(5,f);break;case 1:if(Bl(n,f),g&4)if(n=f.stateNode,o===null)try{n.componentDidMount()}catch(Z){Qr(f,f.return,Z)}else{var x=Ou(f.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(x,o,n.__reactInternalSnapshotBeforeUpdate)}catch(Z){Qr(f,f.return,Z)}}g&64&&ip(f),g&512&&Lu(f,f.return);break;case 3:if(Bl(n,f),g&64&&(n=f.updateQueue,n!==null)){if(o=null,f.child!==null)switch(f.child.tag){case 27:case 5:o=f.child.stateNode;break;case 1:o=f.child.stateNode}try{wl(n,o)}catch(Z){Qr(f,f.return,Z)}}break;case 27:o===null&&g&4&&sp(f);case 26:case 5:Bl(n,f),o===null&&g&4&&ap(f),g&512&&Lu(f,f.return);break;case 12:Bl(n,f);break;case 13:Bl(n,f),g&4&&up(n,f),g&64&&(n=f.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(f=Jm.bind(null,f),On(n,f))));break;case 22:if(g=f.memoizedState!==null||Ho,!g){o=o!==null&&o.memoizedState!==null||mi,x=Ho;var F=mi;Ho=g,(mi=o)&&!F?Hl(n,f,(f.subtreeFlags&8772)!==0):Bl(n,f),Ho=x,mi=F}break;case 30:break;default:Bl(n,f)}}function Ud(n){var o=n.alternate;o!==null&&(n.alternate=null,Ud(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&Ln(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var li=null,Wi=!1;function wo(n,o,f){for(f=f.child;f!==null;)lp(n,o,f),f=f.sibling}function lp(n,o,f){if(X&&typeof X.onCommitFiberUnmount=="function")try{X.onCommitFiberUnmount(dt,f)}catch{}switch(f.tag){case 26:mi||Za(f,o),wo(n,o,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:mi||Za(f,o);var g=li,x=Wi;Xi(f.type)&&(li=f.stateNode,Wi=!1),wo(n,o,f),Fp(f.stateNode),li=g,Wi=x;break;case 5:mi||Za(f,o);case 6:if(g=li,x=Wi,li=null,wo(n,o,f),li=g,Wi=x,li!==null)if(Wi)try{(li.nodeType===9?li.body:li.nodeName==="HTML"?li.ownerDocument.body:li).removeChild(f.stateNode)}catch(F){Qr(f,o,F)}else try{li.removeChild(f.stateNode)}catch(F){Qr(f,o,F)}break;case 18:li!==null&&(Wi?(n=li,Bs(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,f.stateNode),Hp(n)):Bs(li,f.stateNode));break;case 4:g=li,x=Wi,li=f.stateNode.containerInfo,Wi=!0,wo(n,o,f),li=g,Wi=x;break;case 0:case 11:case 14:case 15:mi||bo(2,f,o),mi||bo(4,f,o),wo(n,o,f);break;case 1:mi||(Za(f,o),g=f.stateNode,typeof g.componentWillUnmount=="function"&&hf(f,o,g)),wo(n,o,f);break;case 21:wo(n,o,f);break;case 22:mi=(g=mi)||f.memoizedState!==null,wo(n,o,f),mi=g;break;default:wo(n,o,f)}}function up(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Hp(n)}catch(f){Qr(o,o.return,f)}}function a0(n){switch(n.tag){case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new Md),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new Md),o;default:throw Error(i(435,n.tag))}}function kd(n,o){var f=a0(n);o.forEach(function(g){var x=l0.bind(null,n,g);f.has(g)||(f.add(g),g.then(x,x))})}function ya(n,o){var f=o.deletions;if(f!==null)for(var g=0;g<f.length;g++){var x=f[g],F=n,Z=o,fe=Z;e:for(;fe!==null;){switch(fe.tag){case 27:if(Xi(fe.type)){li=fe.stateNode,Wi=!1;break e}break;case 5:li=fe.stateNode,Wi=!1;break e;case 3:case 4:li=fe.stateNode.containerInfo,Wi=!0;break e}fe=fe.return}if(li===null)throw Error(i(160));lp(F,Z,x),li=null,Wi=!1,F=x.alternate,F!==null&&(F.return=null),x.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)cp(o,n),o=o.sibling}var eo=null;function cp(n,o){var f=n.alternate,g=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:ya(o,n),Da(n),g&4&&(bo(3,n,n.return),Mu(3,n),bo(5,n,n.return));break;case 1:ya(o,n),Da(n),g&512&&(mi||f===null||Za(f,f.return)),g&64&&Ho&&(n=n.updateQueue,n!==null&&(g=n.callbacks,g!==null&&(f=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var x=eo;if(ya(o,n),Da(n),g&512&&(mi||f===null||Za(f,f.return)),g&4){var F=f!==null?f.memoizedState:null;if(g=n.memoizedState,f===null)if(g===null)if(n.stateNode===null){e:{g=n.type,f=n.memoizedProps,x=x.ownerDocument||x;t:switch(g){case"title":F=x.getElementsByTagName("title")[0],(!F||F[on]||F[Ft]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=x.createElement(g),x.head.insertBefore(F,x.querySelector("head > title"))),He(F,g,f),F[Ft]=n,Gt(F),g=F;break e;case"link":var Z=iS("link","href",x).get(g+(f.href||""));if(Z){for(var fe=0;fe<Z.length;fe++)if(F=Z[fe],F.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&F.getAttribute("rel")===(f.rel==null?null:f.rel)&&F.getAttribute("title")===(f.title==null?null:f.title)&&F.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){Z.splice(fe,1);break t}}F=x.createElement(g),He(F,g,f),x.head.appendChild(F);break;case"meta":if(Z=iS("meta","content",x).get(g+(f.content||""))){for(fe=0;fe<Z.length;fe++)if(F=Z[fe],F.getAttribute("content")===(f.content==null?null:""+f.content)&&F.getAttribute("name")===(f.name==null?null:f.name)&&F.getAttribute("property")===(f.property==null?null:f.property)&&F.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&F.getAttribute("charset")===(f.charSet==null?null:f.charSet)){Z.splice(fe,1);break t}}F=x.createElement(g),He(F,g,f),x.head.appendChild(F);break;default:throw Error(i(468,g))}F[Ft]=n,Gt(F),g=F}n.stateNode=g}else aS(x,n.type,n.stateNode);else n.stateNode=rS(x,g,n.memoizedProps);else F!==g?(F===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):F.count--,g===null?aS(x,n.type,n.stateNode):rS(x,g,n.memoizedProps)):g===null&&n.stateNode!==null&&Nd(n,n.memoizedProps,f.memoizedProps)}break;case 27:ya(o,n),Da(n),g&512&&(mi||f===null||Za(f,f.return)),f!==null&&g&4&&Nd(n,n.memoizedProps,f.memoizedProps);break;case 5:if(ya(o,n),Da(n),g&512&&(mi||f===null||Za(f,f.return)),n.flags&32){x=n.stateNode;try{Ae(x,"")}catch(xt){Qr(n,n.return,xt)}}g&4&&n.stateNode!=null&&(x=n.memoizedProps,Nd(n,x,f!==null?f.memoizedProps:x)),g&1024&&(pf=!0);break;case 6:if(ya(o,n),Da(n),g&4){if(n.stateNode===null)throw Error(i(162));g=n.memoizedProps,f=n.stateNode;try{f.nodeValue=g}catch(xt){Qr(n,n.return,xt)}}break;case 3:if(oy=null,x=eo,eo=iy(o.containerInfo),ya(o,n),eo=x,Da(n),g&4&&f!==null&&f.memoizedState.isDehydrated)try{Hp(o.containerInfo)}catch(xt){Qr(n,n.return,xt)}pf&&(pf=!1,o0(n));break;case 4:g=eo,eo=iy(n.stateNode.containerInfo),ya(o,n),Da(n),eo=g;break;case 12:ya(o,n),Da(n);break;case 13:ya(o,n),Da(n),n.child.flags&8192&&n.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Hd=Ne()),g&4&&(g=n.updateQueue,g!==null&&(n.updateQueue=null,kd(n,g)));break;case 22:x=n.memoizedState!==null;var Ve=f!==null&&f.memoizedState!==null,vt=Ho,Dt=mi;if(Ho=vt||x,mi=Dt||Ve,ya(o,n),mi=Dt,Ho=vt,Da(n),g&8192)e:for(o=n.stateNode,o._visibility=x?o._visibility&-2:o._visibility|1,x&&(f===null||Ve||Ho||mi||Uu(n)),f=null,o=n;;){if(o.tag===5||o.tag===26){if(f===null){Ve=f=o;try{if(F=Ve.stateNode,x)Z=F.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none";else{fe=Ve.stateNode;var jt=Ve.memoizedProps.style,St=jt!=null&&jt.hasOwnProperty("display")?jt.display:null;fe.style.display=St==null||typeof St=="boolean"?"":(""+St).trim()}}catch(xt){Qr(Ve,Ve.return,xt)}}}else if(o.tag===6){if(f===null){Ve=o;try{Ve.stateNode.nodeValue=x?"":Ve.memoizedProps}catch(xt){Qr(Ve,Ve.return,xt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;f===o&&(f=null),o=o.return}f===o&&(f=null),o.sibling.return=o.return,o=o.sibling}g&4&&(g=n.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,kd(n,f))));break;case 19:ya(o,n),Da(n),g&4&&(g=n.updateQueue,g!==null&&(n.updateQueue=null,kd(n,g)));break;case 30:break;case 21:break;default:ya(o,n),Da(n)}}function Da(n){var o=n.flags;if(o&2){try{for(var f,g=n.return;g!==null;){if(op(g)){f=g;break}g=g.return}if(f==null)throw Error(i(160));switch(f.tag){case 27:var x=f.stateNode,F=Fd(n);as(n,F,x);break;case 5:var Z=f.stateNode;f.flags&32&&(Ae(Z,""),f.flags&=-33);var fe=Fd(n);as(n,fe,Z);break;case 3:case 4:var Ve=f.stateNode.containerInfo,vt=Fd(n);Dd(n,vt,Ve);break;default:throw Error(i(161))}}catch(Dt){Qr(n,n.return,Dt)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function o0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;o0(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function Bl(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Ld(n,o.alternate,o),o=o.sibling}function Uu(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:bo(4,o,o.return),Uu(o);break;case 1:Za(o,o.return);var f=o.stateNode;typeof f.componentWillUnmount=="function"&&hf(o,o.return,f),Uu(o);break;case 27:Fp(o.stateNode);case 26:case 5:Za(o,o.return),Uu(o);break;case 22:o.memoizedState===null&&Uu(o);break;case 30:Uu(o);break;default:Uu(o)}n=n.sibling}}function Hl(n,o,f){for(f=f&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var g=o.alternate,x=n,F=o,Z=F.flags;switch(F.tag){case 0:case 11:case 15:Hl(x,F,f),Mu(4,F);break;case 1:if(Hl(x,F,f),g=F,x=g.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(vt){Qr(g,g.return,vt)}if(g=F,x=g.updateQueue,x!==null){var fe=g.stateNode;try{var Ve=x.shared.hiddenCallbacks;if(Ve!==null)for(x.shared.hiddenCallbacks=null,x=0;x<Ve.length;x++)fd(Ve[x],fe)}catch(vt){Qr(g,g.return,vt)}}f&&Z&64&&ip(F),Lu(F,F.return);break;case 27:sp(F);case 26:case 5:Hl(x,F,f),f&&g===null&&Z&4&&ap(F),Lu(F,F.return);break;case 12:Hl(x,F,f);break;case 13:Hl(x,F,f),f&&Z&4&&up(x,F);break;case 22:F.memoizedState===null&&Hl(x,F,f),Lu(F,F.return);break;case 30:break;default:Hl(x,F,f)}o=o.sibling}}function Bm(n,o){var f=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(f=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==f&&(n!=null&&n.refCount++,f!=null&&vu(f))}function fp(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&vu(n))}function to(n,o,f,g){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Vl(n,o,f,g),o=o.sibling}function Vl(n,o,f,g){var x=o.flags;switch(o.tag){case 0:case 11:case 15:to(n,o,f,g),x&2048&&Mu(9,o);break;case 1:to(n,o,f,g);break;case 3:to(n,o,f,g),x&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&vu(n)));break;case 12:if(x&2048){to(n,o,f,g),n=o.stateNode;try{var F=o.memoizedProps,Z=F.id,fe=F.onPostCommit;typeof fe=="function"&&fe(Z,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(Ve){Qr(o,o.return,Ve)}}else to(n,o,f,g);break;case 13:to(n,o,f,g);break;case 23:break;case 22:F=o.stateNode,Z=o.alternate,o.memoizedState!==null?F._visibility&2?to(n,o,f,g):gf(n,o):F._visibility&2?to(n,o,f,g):(F._visibility|=2,ku(n,o,f,g,(o.subtreeFlags&10256)!==0)),x&2048&&Bm(Z,o);break;case 24:to(n,o,f,g),x&2048&&fp(o.alternate,o);break;default:to(n,o,f,g)}}function ku(n,o,f,g,x){for(x=x&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var F=n,Z=o,fe=f,Ve=g,vt=Z.flags;switch(Z.tag){case 0:case 11:case 15:ku(F,Z,fe,Ve,x),Mu(8,Z);break;case 23:break;case 22:var Dt=Z.stateNode;Z.memoizedState!==null?Dt._visibility&2?ku(F,Z,fe,Ve,x):gf(F,Z):(Dt._visibility|=2,ku(F,Z,fe,Ve,x)),x&&vt&2048&&Bm(Z.alternate,Z);break;case 24:ku(F,Z,fe,Ve,x),x&&vt&2048&&fp(Z.alternate,Z);break;default:ku(F,Z,fe,Ve,x)}o=o.sibling}}function gf(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var f=n,g=o,x=g.flags;switch(g.tag){case 22:gf(f,g),x&2048&&Bm(g.alternate,g);break;case 24:gf(f,g),x&2048&&fp(g.alternate,g);break;default:gf(f,g)}o=o.sibling}}var mf=8192;function os(n){if(n.subtreeFlags&mf)for(n=n.child;n!==null;)dp(n),n=n.sibling}function dp(n){switch(n.tag){case 26:os(n),n.flags&mf&&n.memoizedState!==null&&W2(eo,n.memoizedState,n.memoizedProps);break;case 5:os(n);break;case 3:case 4:var o=eo;eo=iy(n.stateNode.containerInfo),os(n),eo=o;break;case 22:n.memoizedState===null&&(o=n.alternate,o!==null&&o.memoizedState!==null?(o=mf,mf=16777216,os(n),mf=o):os(n));break;default:os(n)}}function hp(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function yf(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var g=o[f];Ci=g,Hm(g,n)}hp(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)pp(n),n=n.sibling}function pp(n){switch(n.tag){case 0:case 11:case 15:yf(n),n.flags&2048&&bo(9,n,n.return);break;case 3:yf(n);break;case 12:yf(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,jd(n)):yf(n);break;default:yf(n)}}function jd(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var g=o[f];Ci=g,Hm(g,n)}hp(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:bo(8,o,o.return),jd(o);break;case 22:f=o.stateNode,f._visibility&2&&(f._visibility&=-3,jd(o));break;default:jd(o)}n=n.sibling}}function Hm(n,o){for(;Ci!==null;){var f=Ci;switch(f.tag){case 0:case 11:case 15:bo(8,f,o);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:vu(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,Ci=g;else e:for(f=n;Ci!==null;){g=Ci;var x=g.sibling,F=g.return;if(Ud(g),g===f){Ci=null;break e}if(x!==null){x.return=F,Ci=x;break e}Ci=F}}}var gp={getCacheForType:function(n){var o=qi(yn),f=o.data.get(n);return f===void 0&&(f=n(),o.data.set(n,f)),f}},s0=typeof WeakMap=="function"?WeakMap:Map,qr=0,ai=null,wr=null,xr=0,$r=0,aa=null,_o=!1,Ma=!1,vf=!1,Vo=0,yi=0,$o=0,Ls=0,Bd=0,va=0,$l=0,bf=null,oa=null,Us=!1,Hd=0,ss=1/0,ju=null,ks=null,Li=0,ls=null,Bu=null,Kl=0,wf=0,mp=null,Vd=null,_f=0,Sf=null;function sa(){if((qr&2)!==0&&xr!==0)return xr&-xr;if(xe.T!==null){var n=Ja;return n!==0?n:Cp()}return ve()}function $d(){va===0&&(va=(xr&536870912)===0||kr?bt():536870912);var n=Vi.current;return n!==null&&(n.flags|=32),va}function Ji(n,o,f){(n===ai&&($r===2||$r===9)||n.cancelPendingCommit!==null)&&(js(n,0),Ko(n,xr,va,!1)),pt(n,f),((qr&2)===0||n!==ai)&&(n===ai&&((qr&2)===0&&(Ls|=f),yi===4&&Ko(n,xr,va,!1)),So(n))}function Kd(n,o,f){if((qr&6)!==0)throw Error(i(327));var g=!f&&(o&124)===0&&(o&n.expiredLanes)===0||sn(n,o),x=g?$m(n,o):bp(n,o,!0),F=g;do{if(x===0){Ma&&!g&&Ko(n,o,0,!1);break}else{if(f=n.current.alternate,F&&!qd(f)){x=bp(n,o,!1),F=!1;continue}if(x===2){if(F=o,n.errorRecoveryDisabledLanes&F)var Z=0;else Z=n.pendingLanes&-536870913,Z=Z!==0?Z:Z&536870912?536870912:0;if(Z!==0){o=Z;e:{var fe=n;x=bf;var Ve=fe.current.memoizedState.isDehydrated;if(Ve&&(js(fe,Z).flags|=256),Z=bp(fe,Z,!1),Z!==2){if(vf&&!Ve){fe.errorRecoveryDisabledLanes|=F,Ls|=F,x=4;break e}F=oa,oa=x,F!==null&&(oa===null?oa=F:oa.push.apply(oa,F))}x=Z}if(F=!1,x!==2)continue}}if(x===1){js(n,0),Ko(n,o,0,!0);break}e:{switch(g=n,F=x,F){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Ko(g,o,va,!_o);break e;case 2:oa=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(x=Hd+300-Ne(),10<x)){if(Ko(g,o,va,!_o),Gn(g,0,!0)!==0)break e;g.timeoutHandle=zr(Gd.bind(null,g,f,oa,ju,Us,o,va,Ls,$l,_o,F,2,-0,0),x);break e}Gd(g,f,oa,ju,Us,o,va,Ls,$l,_o,F,0,-0,0)}}break}while(!0);So(n)}function Gd(n,o,f,g,x,F,Z,fe,Ve,vt,Dt,jt,St,xt){if(n.timeoutHandle=-1,jt=o.subtreeFlags,(jt&8192||(jt&16785408)===16785408)&&(Lp={stylesheets:null,count:0,unsuspend:z2},dp(o),jt=J2(),jt!==null)){n.cancelPendingCommit=jt(Wm.bind(null,n,o,F,f,g,x,Z,fe,Ve,Dt,1,St,xt)),Ko(n,F,Z,!vt);return}Wm(n,o,F,f,g,x,Z,fe,Ve)}function qd(n){for(var o=n;;){var f=o.tag;if((f===0||f===11||f===15)&&o.flags&16384&&(f=o.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var x=f[g],F=x.getSnapshot;x=x.value;try{if(!Hi(F(),x))return!1}catch{return!1}}if(f=o.child,o.subtreeFlags&16384&&f!==null)f.return=o,o=f;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ko(n,o,f,g){o&=~Bd,o&=~Ls,n.suspendedLanes|=o,n.pingedLanes&=~o,g&&(n.warmLanes|=o),g=n.expirationTimes;for(var x=o;0<x;){var F=31-G(x),Z=1<<F;g[F]=-1,x&=~Z}f!==0&&zt(n,f,o)}function Hu(){return(qr&6)===0?(zu(0),!1):!0}function Vu(){if(wr!==null){if($r===0)var n=wr.return;else n=wr,Yo=hl=null,ia(n),Qa=null,ga=0,n=wr;for(;n!==null;)rp(n.alternate,n),n=n.return;wr=null}}function js(n,o){var f=n.timeoutHandle;f!==-1&&(n.timeoutHandle=-1,An(f)),f=n.cancelPendingCommit,f!==null&&(n.cancelPendingCommit=null,f()),Vu(),ai=n,wr=f=Wa(n.current,null),xr=o,$r=0,aa=null,_o=!1,Ma=sn(n,o),vf=!1,$l=va=Bd=Ls=$o=yi=0,oa=bf=null,Us=!1,(o&8)!==0&&(o|=o&32);var g=n.entangledLanes;if(g!==0)for(n=n.entanglements,g&=o;0<g;){var x=31-G(g),F=1<<x;o|=n[x],g&=~F}return Vo=o,rd(),f}function Vm(n,o){lr=null,xe.H=ko,o===yo||o===gl?(o=yl(),$r=3):o===bu?(o=yl(),$r=4):$r=o===r0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,aa=o,wr===null&&(yi=1,Jh(n,qa(o,n.current)))}function yp(){var n=xe.H;return xe.H=ko,n===null?ko:n}function $u(){var n=xe.A;return xe.A=gp,n}function vp(){yi=4,_o||(xr&4194048)!==xr&&Vi.current!==null||(Ma=!0),($o&134217727)===0&&(Ls&134217727)===0||ai===null||Ko(ai,xr,va,!1)}function bp(n,o,f){var g=qr;qr|=2;var x=yp(),F=$u();(ai!==n||xr!==o)&&(ju=null,js(n,o)),o=!1;var Z=yi;e:do try{if($r!==0&&wr!==null){var fe=wr,Ve=aa;switch($r){case 8:Vu(),Z=6;break e;case 3:case 2:case 9:case 6:Vi.current===null&&(o=!0);var vt=$r;if($r=0,aa=null,Ku(n,fe,Ve,vt),f&&Ma){Z=0;break e}break;default:vt=$r,$r=0,aa=null,Ku(n,fe,Ve,vt)}}zd(),Z=yi;break}catch(Dt){Vm(n,Dt)}while(!0);return o&&n.shellSuspendCounter++,Yo=hl=null,qr=g,xe.H=x,xe.A=F,wr===null&&(ai=null,xr=0,rd()),Z}function zd(){for(;wr!==null;)Gm(wr)}function $m(n,o){var f=qr;qr|=2;var g=yp(),x=$u();ai!==n||xr!==o?(ju=null,ss=Ne()+500,js(n,o)):Ma=sn(n,o);e:do try{if($r!==0&&wr!==null){o=wr;var F=aa;t:switch($r){case 1:$r=0,aa=null,Ku(n,o,F,1);break;case 2:case 9:if(ml(F)){$r=0,aa=null,qm(o);break}o=function(){$r!==2&&$r!==9||ai!==n||($r=7),So(n)},F.then(o,o);break e;case 3:$r=7;break e;case 4:$r=5;break e;case 7:ml(F)?($r=0,aa=null,qm(o)):($r=0,aa=null,Ku(n,o,F,7));break;case 5:var Z=null;switch(wr.tag){case 26:Z=wr.memoizedState;case 5:case 27:var fe=wr;if(!Z||oS(Z)){$r=0,aa=null;var Ve=fe.sibling;if(Ve!==null)wr=Ve;else{var vt=fe.return;vt!==null?(wr=vt,Ef(vt)):wr=null}break t}}$r=0,aa=null,Ku(n,o,F,5);break;case 6:$r=0,aa=null,Ku(n,o,F,6);break;case 8:Vu(),yi=6;break e;default:throw Error(i(462))}}Km();break}catch(Dt){Vm(n,Dt)}while(!0);return Yo=hl=null,xe.H=g,xe.A=x,qr=f,wr!==null?0:(ai=null,xr=0,rd(),yi)}function Km(){for(;wr!==null&&!ne();)Gm(wr)}function Gm(n){var o=np(n.alternate,n,Vo);n.memoizedProps=n.pendingProps,o===null?Ef(n):wr=o}function qm(n){var o=n,f=o.alternate;switch(o.tag){case 15:case 0:o=Xh(f,o,o.pendingProps,o.type,void 0,xr);break;case 11:o=Xh(f,o,o.pendingProps,o.type.render,o.ref,xr);break;case 5:ia(o);default:rp(f,o),o=wr=Nh(o,Vo),o=np(f,o,Vo)}n.memoizedProps=n.pendingProps,o===null?Ef(n):wr=o}function Ku(n,o,f,g){Yo=hl=null,ia(o),Qa=null,ga=0;var x=o.return;try{if(Y_(n,x,o,f,xr)){yi=1,Jh(n,qa(f,n.current)),wr=null;return}}catch(F){if(x!==null)throw wr=x,F;yi=1,Jh(n,qa(f,n.current)),wr=null;return}o.flags&32768?(kr||g===1?n=!0:Ma||(xr&536870912)!==0?n=!1:(_o=n=!0,(g===2||g===9||g===3||g===6)&&(g=Vi.current,g!==null&&g.tag===13&&(g.flags|=16384))),zm(o,n)):Ef(o)}function Ef(n){var o=n;do{if((o.flags&32768)!==0){zm(o,_o);return}n=o.return;var f=Pd(o.alternate,o,Vo);if(f!==null){wr=f;return}if(o=o.sibling,o!==null){wr=o;return}wr=o=n}while(o!==null);yi===0&&(yi=5)}function zm(n,o){do{var f=km(n.alternate,n);if(f!==null){f.flags&=32767,wr=f;return}if(f=n.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!o&&(n=n.sibling,n!==null)){wr=n;return}wr=n=f}while(n!==null);yi=6,wr=null}function Wm(n,o,f,g,x,F,Z,fe,Ve){n.cancelPendingCommit=null;do Gl();while(Li!==0);if((qr&6)!==0)throw Error(i(327));if(o!==null){if(o===n.current)throw Error(i(177));if(F=o.lanes|o.childLanes,F|=nd,Qt(n,f,F,Z,fe,Ve),n===ai&&(wr=ai=null,xr=0),Bu=o,ls=n,Kl=f,wf=F,mp=x,Vd=g,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,u0(Ot,function(){return Gu(),null})):(n.callbackNode=null,n.callbackPriority=0),g=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||g){g=xe.T,xe.T=null,x=lt.p,lt.p=2,Z=qr,qr|=4;try{jm(n,o,f)}finally{qr=Z,lt.p=x,xe.T=g}}Li=1,wp(),Wd(),_p()}}function wp(){if(Li===1){Li=0;var n=ls,o=Bu,f=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||f){f=xe.T,xe.T=null;var g=lt.p;lt.p=2;var x=qr;qr|=4;try{cp(o,n);var F=kt,Z=Ga(n.containerInfo),fe=F.focusedElem,Ve=F.selectionRange;if(Z!==fe&&fe&&fe.ownerDocument&&Rh(fe.ownerDocument.documentElement,fe)){if(Ve!==null&&Ch(fe)){var vt=Ve.start,Dt=Ve.end;if(Dt===void 0&&(Dt=vt),"selectionStart"in fe)fe.selectionStart=vt,fe.selectionEnd=Math.min(Dt,fe.value.length);else{var jt=fe.ownerDocument||document,St=jt&&jt.defaultView||window;if(St.getSelection){var xt=St.getSelection(),Xn=fe.textContent.length,$n=Math.min(Ve.start,Xn),oi=Ve.end===void 0?$n:Math.min(Ve.end,Xn);!xt.extend&&$n>oi&&(Z=oi,oi=$n,$n=Z);var ut=fu(fe,$n),tt=fu(fe,oi);if(ut&&tt&&(xt.rangeCount!==1||xt.anchorNode!==ut.node||xt.anchorOffset!==ut.offset||xt.focusNode!==tt.node||xt.focusOffset!==tt.offset)){var gt=jt.createRange();gt.setStart(ut.node,ut.offset),xt.removeAllRanges(),$n>oi?(xt.addRange(gt),xt.extend(tt.node,tt.offset)):(gt.setEnd(tt.node,tt.offset),xt.addRange(gt))}}}}for(jt=[],xt=fe;xt=xt.parentNode;)xt.nodeType===1&&jt.push({element:xt,left:xt.scrollLeft,top:xt.scrollTop});for(typeof fe.focus=="function"&&fe.focus(),fe=0;fe<jt.length;fe++){var Ut=jt[fe];Ut.element.scrollLeft=Ut.left,Ut.element.scrollTop=Ut.top}}uy=!!Ze,kt=Ze=null}finally{qr=x,lt.p=g,xe.T=f}}n.current=o,Li=2}}function Wd(){if(Li===2){Li=0;var n=ls,o=Bu,f=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||f){f=xe.T,xe.T=null;var g=lt.p;lt.p=2;var x=qr;qr|=4;try{Ld(n,o.alternate,o)}finally{qr=x,lt.p=g,xe.T=f}}Li=3}}function _p(){if(Li===4||Li===3){Li=0,Ee();var n=ls,o=Bu,f=Kl,g=Vd;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Li=5:(Li=0,Bu=ls=null,Jd(n,n.pendingLanes));var x=n.pendingLanes;if(x===0&&(ks=null),ce(f),o=o.stateNode,X&&typeof X.onCommitFiberRoot=="function")try{X.onCommitFiberRoot(dt,o,void 0,(o.current.flags&128)===128)}catch{}if(g!==null){o=xe.T,x=lt.p,lt.p=2,xe.T=null;try{for(var F=n.onRecoverableError,Z=0;Z<g.length;Z++){var fe=g[Z];F(fe.value,{componentStack:fe.stack})}}finally{xe.T=o,lt.p=x}}(Kl&3)!==0&&Gl(),So(n),x=n.pendingLanes,(f&4194090)!==0&&(x&42)!==0?n===Sf?_f++:(_f=0,Sf=n):_f=0,zu(0)}}function Jd(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,vu(o)))}function Gl(n){return wp(),Wd(),_p(),Gu()}function Gu(){if(Li!==5)return!1;var n=ls,o=wf;wf=0;var f=ce(Kl),g=xe.T,x=lt.p;try{lt.p=32>f?32:f,xe.T=null,f=mp,mp=null;var F=ls,Z=Kl;if(Li=0,Bu=ls=null,Kl=0,(qr&6)!==0)throw Error(i(331));var fe=qr;if(qr|=4,pp(F.current),Vl(F,F.current,Z,f),qr=fe,zu(0,!1),X&&typeof X.onPostCommitFiberRoot=="function")try{X.onPostCommitFiberRoot(dt,F)}catch{}return!0}finally{lt.p=x,xe.T=g,Jd(n,o)}}function Yd(n,o,f){o=qa(f,o),o=Fm(n.stateNode,o,2),n=Do(n,o,2),n!==null&&(pt(n,2),So(n))}function Qr(n,o,f){if(n.tag===3)Yd(n,n,f);else for(;o!==null;){if(o.tag===3){Yd(o,n,f);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ks===null||!ks.has(g))){n=qa(f,n),f=Dm(2),g=Do(o,f,2),g!==null&&(Mm(f,g,o,n),pt(g,2),So(g));break}}o=o.return}}function Xd(n,o,f){var g=n.pingCache;if(g===null){g=n.pingCache=new s0;var x=new Set;g.set(o,x)}else x=g.get(o),x===void 0&&(x=new Set,g.set(o,x));x.has(f)||(vf=!0,x.add(f),n=Sp.bind(null,n,o,f),o.then(n,n))}function Sp(n,o,f){var g=n.pingCache;g!==null&&g.delete(o),n.pingedLanes|=n.suspendedLanes&f,n.warmLanes&=~f,ai===n&&(xr&f)===f&&(yi===4||yi===3&&(xr&62914560)===xr&&300>Ne()-Hd?(qr&2)===0&&js(n,0):Bd|=f,$l===xr&&($l=0)),So(n)}function Ep(n,o){o===0&&(o=ft()),n=Ta(n,o),n!==null&&(pt(n,o),So(n))}function Jm(n){var o=n.memoizedState,f=0;o!==null&&(f=o.retryLane),Ep(n,f)}function l0(n,o){var f=0;switch(n.tag){case 13:var g=n.stateNode,x=n.memoizedState;x!==null&&(f=x.retryLane);break;case 19:g=n.stateNode;break;case 22:g=n.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(o),Ep(n,f)}function u0(n,o){return D(n,o)}var Af=null,qu=null,Ap=!1,xf=!1,xp=!1,ql=0;function So(n){n!==qu&&n.next===null&&(qu===null?Af=qu=n:qu=qu.next=n),xf=!0,Ap||(Ap=!0,c0())}function zu(n,o){if(!xp&&xf){xp=!0;do for(var f=!1,g=Af;g!==null;){if(n!==0){var x=g.pendingLanes;if(x===0)var F=0;else{var Z=g.suspendedLanes,fe=g.pingedLanes;F=(1<<31-G(42|n)+1)-1,F&=x&~(Z&~fe),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(f=!0,Rp(g,F))}else F=xr,F=Gn(g,g===ai?F:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(F&3)===0||sn(g,F)||(f=!0,Rp(g,F));g=g.next}while(f);xp=!1}}function Qd(){Ym()}function Ym(){xf=Ap=!1;var n=0;ql!==0&&(no()&&(n=ql),ql=0);for(var o=Ne(),f=null,g=Af;g!==null;){var x=g.next,F=Xm(g,o);F===0?(g.next=null,f===null?Af=x:f.next=x,x===null&&(qu=f)):(f=g,(n!==0||(F&3)!==0)&&(xf=!0)),g=x}zu(n)}function Xm(n,o){for(var f=n.suspendedLanes,g=n.pingedLanes,x=n.expirationTimes,F=n.pendingLanes&-62914561;0<F;){var Z=31-G(F),fe=1<<Z,Ve=x[Z];Ve===-1?((fe&f)===0||(fe&g)!==0)&&(x[Z]=qe(fe,o)):Ve<=o&&(n.expiredLanes|=fe),F&=~fe}if(o=ai,f=xr,f=Gn(n,n===o?f:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),g=n.callbackNode,f===0||n===o&&($r===2||$r===9)||n.cancelPendingCommit!==null)return g!==null&&g!==null&&q(g),n.callbackNode=null,n.callbackPriority=0;if((f&3)===0||sn(n,f)){if(o=f&-f,o===n.callbackPriority)return o;switch(g!==null&&q(g),ce(f)){case 2:case 8:f=mt;break;case 32:f=Ot;break;case 268435456:f=Qe;break;default:f=Ot}return g=Wu.bind(null,n),f=D(f,g),n.callbackPriority=o,n.callbackNode=f,o}return g!==null&&g!==null&&q(g),n.callbackPriority=2,n.callbackNode=null,2}function Wu(n,o){if(Li!==0&&Li!==5)return n.callbackNode=null,n.callbackPriority=0,null;var f=n.callbackNode;if(Gl()&&n.callbackNode!==f)return null;var g=xr;return g=Gn(n,n===ai?g:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),g===0?null:(Kd(n,g,o),Xm(n,Ne()),n.callbackNode!=null&&n.callbackNode===f?Wu.bind(null,n):null)}function Rp(n,o){if(Gl())return null;Kd(n,o,!0)}function c0(){Ti(function(){(qr&6)!==0?D(Pe,Qd):Ym()})}function Cp(){return ql===0&&(ql=bt()),ql}function Qm(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Yn(""+n)}function Zm(n,o){var f=o.ownerDocument.createElement("input");return f.name=o.name,f.value=o.value,n.id&&f.setAttribute("form",n.id),o.parentNode.insertBefore(f,o),n=new FormData(n),f.parentNode.removeChild(f),n}function ey(n,o,f,g,x){if(o==="submit"&&f&&f.stateNode===x){var F=Qm((x[Zt]||null).action),Z=g.submitter;Z&&(o=(o=Z[Zt]||null)?Qm(o.formAction):Z.getAttribute("formAction"),o!==null&&(F=o,Z=null));var fe=new Va("action","action",null,g,x);n.push({event:fe,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(ql!==0){var Ve=Z?Zm(x,Z):new FormData(x);vd(f,{pending:!0,data:Ve,method:x.method,action:F},null,Ve)}}else typeof F=="function"&&(fe.preventDefault(),Ve=Z?Zm(x,Z):new FormData(x),vd(f,{pending:!0,data:Ve,method:x.method,action:F},F,Ve))},currentTarget:x}]})}}for(var Rf=0;Rf<td.length;Rf++){var Tp=td[Rf],ty=Tp.toLowerCase(),ny=Tp[0].toUpperCase()+Tp.slice(1);ho(ty,"on"+ny)}ho(vs,"onAnimationEnd"),ho(bs,"onAnimationIteration"),ho(Rm,"onAnimationStart"),ho("dblclick","onDoubleClick"),ho("focusin","onFocus"),ho("focusout","onBlur"),ho(Jv,"onTransitionRun"),ho(Yv,"onTransitionStart"),ho(Ur,"onTransitionCancel"),ho(Oh,"onTransitionEnd"),Un("onMouseEnter",["mouseout","mouseover"]),Un("onMouseLeave",["mouseout","mouseover"]),Un("onPointerEnter",["pointerout","pointerover"]),Un("onPointerLeave",["pointerout","pointerover"]),pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cf));function Op(n,o){o=(o&4)!==0;for(var f=0;f<n.length;f++){var g=n[f],x=g.event;g=g.listeners;e:{var F=void 0;if(o)for(var Z=g.length-1;0<=Z;Z--){var fe=g[Z],Ve=fe.instance,vt=fe.currentTarget;if(fe=fe.listener,Ve!==F&&x.isPropagationStopped())break e;F=fe,x.currentTarget=vt;try{F(x)}catch(Dt){Ad(Dt)}x.currentTarget=null,F=Ve}else for(Z=0;Z<g.length;Z++){if(fe=g[Z],Ve=fe.instance,vt=fe.currentTarget,fe=fe.listener,Ve!==F&&x.isPropagationStopped())break e;F=fe,x.currentTarget=vt;try{F(x)}catch(Dt){Ad(Dt)}x.currentTarget=null,F=Ve}}}}function Sr(n,o){var f=o[Mn];f===void 0&&(f=o[Mn]=new Set);var g=n+"__bubble";f.has(g)||(ry(o,n,2,!1),f.add(g))}function Ip(n,o,f){var g=0;o&&(g|=4),ry(f,n,g,o)}var Zd="_reactListening"+Math.random().toString(36).slice(2);function Pp(n){if(!n[Zd]){n[Zd]=!0,er.forEach(function(f){f!=="selectionchange"&&(Tf.has(f)||Ip(f,!1,n),Ip(f,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[Zd]||(o[Zd]=!0,Ip("selectionchange",!1,o))}}function ry(n,o,f,g){switch(dS(o)){case 2:var x=Q2;break;case 8:x=Z2;break;default:x=g0}f=x.bind(null,o,f,n),x=void 0,!Er||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),g?x!==void 0?n.addEventListener(o,f,{capture:!0,passive:x}):n.addEventListener(o,f,!0):x!==void 0?n.addEventListener(o,f,{passive:x}):n.addEventListener(o,f,!1)}function Np(n,o,f,g,x){var F=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var Z=g.tag;if(Z===3||Z===4){var fe=g.stateNode.containerInfo;if(fe===x)break;if(Z===4)for(Z=g.return;Z!==null;){var Ve=Z.tag;if((Ve===3||Ve===4)&&Z.stateNode.containerInfo===x)return;Z=Z.return}for(;fe!==null;){if(Z=xn(fe),Z===null)return;if(Ve=Z.tag,Ve===5||Ve===6||Ve===26||Ve===27){g=F=Z;continue e}fe=fe.parentNode}}g=g.return}Dr(function(){var vt=F,Dt=gn(f),jt=[];e:{var St=Ih.get(n);if(St!==void 0){var xt=Va,Xn=n;switch(n){case"keypress":if(na(f)===0)break e;case"keydown":case"keyup":xt=Xt;break;case"focusin":Xn="focus",xt=Rt;break;case"focusout":Xn="blur",xt=Rt;break;case"beforeblur":case"afterblur":xt=Rt;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xt=de;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xt=be;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xt=Qn;break;case vs:case bs:case Rm:xt=Pt;break;case Oh:xt=Pn;break;case"scroll":case"scrollend":xt=ms;break;case"wheel":xt=kn;break;case"copy":case"cut":case"paste":xt=Vt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xt=pn;break;case"toggle":case"beforetoggle":xt=fr}var $n=(o&4)!==0,oi=!$n&&(n==="scroll"||n==="scrollend"),ut=$n?St!==null?St+"Capture":null:St;$n=[];for(var tt=vt,gt;tt!==null;){var Ut=tt;if(gt=Ut.stateNode,Ut=Ut.tag,Ut!==5&&Ut!==26&&Ut!==27||gt===null||ut===null||(Ut=tr(tt,ut),Ut!=null&&$n.push(Of(tt,Ut,gt))),oi)break;tt=tt.return}0<$n.length&&(St=new xt(St,Xn,null,f,Dt),jt.push({event:St,listeners:$n}))}}if((o&7)===0){e:{if(St=n==="mouseover"||n==="pointerover",xt=n==="mouseout"||n==="pointerout",St&&f!==un&&(Xn=f.relatedTarget||f.fromElement)&&(xn(Xn)||Xn[nn]))break e;if((xt||St)&&(St=Dt.window===Dt?Dt:(St=Dt.ownerDocument)?St.defaultView||St.parentWindow:window,xt?(Xn=f.relatedTarget||f.toElement,xt=vt,Xn=Xn?xn(Xn):null,Xn!==null&&(oi=l(Xn),$n=Xn.tag,Xn!==oi||$n!==5&&$n!==27&&$n!==6)&&(Xn=null)):(xt=null,Xn=vt),xt!==Xn)){if($n=de,Ut="onMouseLeave",ut="onMouseEnter",tt="mouse",(n==="pointerout"||n==="pointerover")&&($n=pn,Ut="onPointerLeave",ut="onPointerEnter",tt="pointer"),oi=xt==null?St:mn(xt),gt=Xn==null?St:mn(Xn),St=new $n(Ut,tt+"leave",xt,f,Dt),St.target=oi,St.relatedTarget=gt,Ut=null,xn(Dt)===vt&&($n=new $n(ut,tt+"enter",Xn,f,Dt),$n.target=gt,$n.relatedTarget=oi,Ut=$n),oi=Ut,xt&&Xn)t:{for($n=xt,ut=Xn,tt=0,gt=$n;gt;gt=Ju(gt))tt++;for(gt=0,Ut=ut;Ut;Ut=Ju(Ut))gt++;for(;0<tt-gt;)$n=Ju($n),tt--;for(;0<gt-tt;)ut=Ju(ut),gt--;for(;tt--;){if($n===ut||ut!==null&&$n===ut.alternate)break t;$n=Ju($n),ut=Ju(ut)}$n=null}else $n=null;xt!==null&&h(jt,St,xt,$n,!1),Xn!==null&&oi!==null&&h(jt,oi,Xn,$n,!0)}}e:{if(St=vt?mn(vt):window,xt=St.nodeName&&St.nodeName.toLowerCase(),xt==="select"||xt==="input"&&St.type==="file")var En=Jo;else if(el(St))if(cu)En=wc;else{En=rl;var Rr=Xf}else xt=St.nodeName,!xt||xt.toLowerCase()!=="input"||St.type!=="checkbox"&&St.type!=="radio"?vt&&At(vt.elementType)&&(En=Jo):En=di;if(En&&(En=En(n,vt))){bc(jt,En,f,Dt);break e}Rr&&Rr(n,St,vt),n==="focusout"&&vt&&St.type==="number"&&vt.memoizedProps.value!=null&&st(St,"number",St.value)}switch(Rr=vt?mn(vt):window,n){case"focusin":(el(Rr)||Rr.contentEditable==="true")&&(ra=Rr,Zf=vt,du=null);break;case"focusout":du=Zf=ra=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,Ca(jt,f,Dt);break;case"selectionchange":if(xm)break;case"keydown":case"keyup":Ca(jt,f,Dt)}var In;if(Sn)e:{switch(n){case"compositionstart":var zn="onCompositionStart";break e;case"compositionend":zn="onCompositionEnd";break e;case"compositionupdate":zn="onCompositionUpdate";break e}zn=void 0}else Xr?Vr(n,f)&&(zn="onCompositionEnd"):n==="keydown"&&f.keyCode===229&&(zn="onCompositionStart");zn&&(Ei&&f.locale!=="ko"&&(Xr||zn!=="onCompositionStart"?zn==="onCompositionEnd"&&Xr&&(In=Mr()):(Yr=Dt,Mi="value"in Yr?Yr.value:Yr.textContent,Xr=!0)),Rr=eh(vt,zn),0<Rr.length&&(zn=new Lt(zn,n,null,f,Dt),jt.push({event:zn,listeners:Rr}),In?zn.data=In:(In=nr(f),In!==null&&(zn.data=In)))),(In=ni?sr(n,f):$a(n,f))&&(zn=eh(vt,"onBeforeInput"),0<zn.length&&(Rr=new Lt("onBeforeInput","beforeinput",null,f,Dt),jt.push({event:Rr,listeners:zn}),Rr.data=In)),ey(jt,n,vt,f,Dt)}Op(jt,o)})}function Of(n,o,f){return{instance:n,listener:o,currentTarget:f}}function eh(n,o){for(var f=o+"Capture",g=[];n!==null;){var x=n,F=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||F===null||(x=tr(n,f),x!=null&&g.unshift(Of(n,x,F)),x=tr(n,o),x!=null&&g.push(Of(n,x,F))),n.tag===3)return g;n=n.return}return[]}function Ju(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function h(n,o,f,g,x){for(var F=o._reactName,Z=[];f!==null&&f!==g;){var fe=f,Ve=fe.alternate,vt=fe.stateNode;if(fe=fe.tag,Ve!==null&&Ve===g)break;fe!==5&&fe!==26&&fe!==27||vt===null||(Ve=vt,x?(vt=tr(f,F),vt!=null&&Z.unshift(Of(f,vt,Ve))):x||(vt=tr(f,F),vt!=null&&Z.push(Of(f,vt,Ve)))),f=f.return}Z.length!==0&&n.push({event:o,listeners:Z})}var y=/\r\n?/g,_=/\u0000|\uFFFD/g;function P(n){return(typeof n=="string"?n:""+n).replace(y,`
`).replace(_,"")}function U(n,o){return o=P(o),P(n)===o}function J(){}function ee(n,o,f,g,x,F){switch(f){case"children":typeof g=="string"?o==="body"||o==="textarea"&&g===""||Ae(n,g):(typeof g=="number"||typeof g=="bigint")&&o!=="body"&&Ae(n,""+g);break;case"className":ta(n,"class",g);break;case"tabIndex":ta(n,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":ta(n,f,g);break;case"style":ht(n,g,F);break;case"data":if(o!=="object"){ta(n,"data",g);break}case"src":case"href":if(g===""&&(o!=="a"||f!=="href")){n.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){n.removeAttribute(f);break}g=Yn(""+g),n.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){n.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(f==="formAction"?(o!=="input"&&ee(n,o,"name",x.name,x,null),ee(n,o,"formEncType",x.formEncType,x,null),ee(n,o,"formMethod",x.formMethod,x,null),ee(n,o,"formTarget",x.formTarget,x,null)):(ee(n,o,"encType",x.encType,x,null),ee(n,o,"method",x.method,x,null),ee(n,o,"target",x.target,x,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){n.removeAttribute(f);break}g=Yn(""+g),n.setAttribute(f,g);break;case"onClick":g!=null&&(n.onclick=J);break;case"onScroll":g!=null&&Sr("scroll",n);break;case"onScrollEnd":g!=null&&Sr("scrollend",n);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(f=g.__html,f!=null){if(x.children!=null)throw Error(i(60));n.innerHTML=f}}break;case"multiple":n.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":n.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){n.removeAttribute("xlink:href");break}f=Yn(""+g),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?n.setAttribute(f,""+g):n.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?n.setAttribute(f,""):n.removeAttribute(f);break;case"capture":case"download":g===!0?n.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?n.setAttribute(f,g):n.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?n.setAttribute(f,g):n.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?n.removeAttribute(f):n.setAttribute(f,g);break;case"popover":Sr("beforetoggle",n),Sr("toggle",n),Pr(n,"popover",g);break;case"xlinkActuate":wi(n,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":wi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":wi(n,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":wi(n,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":wi(n,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":wi(n,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":wi(n,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":wi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":wi(n,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Pr(n,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=dn.get(f)||f,Pr(n,f,g))}}function me(n,o,f,g,x,F){switch(f){case"style":ht(n,g,F);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(f=g.__html,f!=null){if(x.children!=null)throw Error(i(60));n.innerHTML=f}}break;case"children":typeof g=="string"?Ae(n,g):(typeof g=="number"||typeof g=="bigint")&&Ae(n,""+g);break;case"onScroll":g!=null&&Sr("scroll",n);break;case"onScrollEnd":g!=null&&Sr("scrollend",n);break;case"onClick":g!=null&&(n.onclick=J);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fr.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(x=f.endsWith("Capture"),o=f.slice(2,x?f.length-7:void 0),F=n[Zt]||null,F=F!=null?F[f]:null,typeof F=="function"&&n.removeEventListener(o,F,x),typeof g=="function")){typeof F!="function"&&F!==null&&(f in n?n[f]=null:n.hasAttribute(f)&&n.removeAttribute(f)),n.addEventListener(o,g,x);break e}f in n?n[f]=g:g===!0?n.setAttribute(f,""):Pr(n,f,g)}}}function He(n,o,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Sr("error",n),Sr("load",n);var g=!1,x=!1,F;for(F in f)if(f.hasOwnProperty(F)){var Z=f[F];if(Z!=null)switch(F){case"src":g=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ee(n,o,F,Z,f,null)}}x&&ee(n,o,"srcSet",f.srcSet,f,null),g&&ee(n,o,"src",f.src,f,null);return;case"input":Sr("invalid",n);var fe=F=Z=x=null,Ve=null,vt=null;for(g in f)if(f.hasOwnProperty(g)){var Dt=f[g];if(Dt!=null)switch(g){case"name":x=Dt;break;case"type":Z=Dt;break;case"checked":Ve=Dt;break;case"defaultChecked":vt=Dt;break;case"value":F=Dt;break;case"defaultValue":fe=Dt;break;case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(i(137,o));break;default:ee(n,o,g,Dt,f,null)}}ze(n,F,fe,Ve,vt,Z,x,!1),Se(n);return;case"select":Sr("invalid",n),g=Z=F=null;for(x in f)if(f.hasOwnProperty(x)&&(fe=f[x],fe!=null))switch(x){case"value":F=fe;break;case"defaultValue":Z=fe;break;case"multiple":g=fe;default:ee(n,o,x,fe,f,null)}o=F,f=Z,n.multiple=!!g,o!=null?yt(n,!!g,o,!1):f!=null&&yt(n,!!g,f,!0);return;case"textarea":Sr("invalid",n),F=x=g=null;for(Z in f)if(f.hasOwnProperty(Z)&&(fe=f[Z],fe!=null))switch(Z){case"value":g=fe;break;case"defaultValue":x=fe;break;case"children":F=fe;break;case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(91));break;default:ee(n,o,Z,fe,f,null)}oe(n,g,x,F),Se(n);return;case"option":for(Ve in f)if(f.hasOwnProperty(Ve)&&(g=f[Ve],g!=null))switch(Ve){case"selected":n.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:ee(n,o,Ve,g,f,null)}return;case"dialog":Sr("beforetoggle",n),Sr("toggle",n),Sr("cancel",n),Sr("close",n);break;case"iframe":case"object":Sr("load",n);break;case"video":case"audio":for(g=0;g<Cf.length;g++)Sr(Cf[g],n);break;case"image":Sr("error",n),Sr("load",n);break;case"details":Sr("toggle",n);break;case"embed":case"source":case"link":Sr("error",n),Sr("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(vt in f)if(f.hasOwnProperty(vt)&&(g=f[vt],g!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:ee(n,o,vt,g,f,null)}return;default:if(At(o)){for(Dt in f)f.hasOwnProperty(Dt)&&(g=f[Dt],g!==void 0&&me(n,o,Dt,g,f,void 0));return}}for(fe in f)f.hasOwnProperty(fe)&&(g=f[fe],g!=null&&ee(n,o,fe,g,f,null))}function Ge(n,o,f,g){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,F=null,Z=null,fe=null,Ve=null,vt=null,Dt=null;for(xt in f){var jt=f[xt];if(f.hasOwnProperty(xt)&&jt!=null)switch(xt){case"checked":break;case"value":break;case"defaultValue":Ve=jt;default:g.hasOwnProperty(xt)||ee(n,o,xt,null,g,jt)}}for(var St in g){var xt=g[St];if(jt=f[St],g.hasOwnProperty(St)&&(xt!=null||jt!=null))switch(St){case"type":F=xt;break;case"name":x=xt;break;case"checked":vt=xt;break;case"defaultChecked":Dt=xt;break;case"value":Z=xt;break;case"defaultValue":fe=xt;break;case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(i(137,o));break;default:xt!==jt&&ee(n,o,St,xt,g,jt)}}ke(n,Z,fe,Ve,vt,Dt,F,x);return;case"select":xt=Z=fe=St=null;for(F in f)if(Ve=f[F],f.hasOwnProperty(F)&&Ve!=null)switch(F){case"value":break;case"multiple":xt=Ve;default:g.hasOwnProperty(F)||ee(n,o,F,null,g,Ve)}for(x in g)if(F=g[x],Ve=f[x],g.hasOwnProperty(x)&&(F!=null||Ve!=null))switch(x){case"value":St=F;break;case"defaultValue":fe=F;break;case"multiple":Z=F;default:F!==Ve&&ee(n,o,x,F,g,Ve)}o=fe,f=Z,g=xt,St!=null?yt(n,!!f,St,!1):!!g!=!!f&&(o!=null?yt(n,!!f,o,!0):yt(n,!!f,f?[]:"",!1));return;case"textarea":xt=St=null;for(fe in f)if(x=f[fe],f.hasOwnProperty(fe)&&x!=null&&!g.hasOwnProperty(fe))switch(fe){case"value":break;case"children":break;default:ee(n,o,fe,null,g,x)}for(Z in g)if(x=g[Z],F=f[Z],g.hasOwnProperty(Z)&&(x!=null||F!=null))switch(Z){case"value":St=x;break;case"defaultValue":xt=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:x!==F&&ee(n,o,Z,x,g,F)}Et(n,St,xt);return;case"option":for(var Xn in f)if(St=f[Xn],f.hasOwnProperty(Xn)&&St!=null&&!g.hasOwnProperty(Xn))switch(Xn){case"selected":n.selected=!1;break;default:ee(n,o,Xn,null,g,St)}for(Ve in g)if(St=g[Ve],xt=f[Ve],g.hasOwnProperty(Ve)&&St!==xt&&(St!=null||xt!=null))switch(Ve){case"selected":n.selected=St&&typeof St!="function"&&typeof St!="symbol";break;default:ee(n,o,Ve,St,g,xt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $n in f)St=f[$n],f.hasOwnProperty($n)&&St!=null&&!g.hasOwnProperty($n)&&ee(n,o,$n,null,g,St);for(vt in g)if(St=g[vt],xt=f[vt],g.hasOwnProperty(vt)&&St!==xt&&(St!=null||xt!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":if(St!=null)throw Error(i(137,o));break;default:ee(n,o,vt,St,g,xt)}return;default:if(At(o)){for(var oi in f)St=f[oi],f.hasOwnProperty(oi)&&St!==void 0&&!g.hasOwnProperty(oi)&&me(n,o,oi,void 0,g,St);for(Dt in g)St=g[Dt],xt=f[Dt],!g.hasOwnProperty(Dt)||St===xt||St===void 0&&xt===void 0||me(n,o,Dt,St,g,xt);return}}for(var ut in f)St=f[ut],f.hasOwnProperty(ut)&&St!=null&&!g.hasOwnProperty(ut)&&ee(n,o,ut,null,g,St);for(jt in g)St=g[jt],xt=f[jt],!g.hasOwnProperty(jt)||St===xt||St==null&&xt==null||ee(n,o,jt,St,g,xt)}var Ze=null,kt=null;function Kt(n){return n.nodeType===9?n:n.ownerDocument}function rn(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nn(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function dr(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Zn=null;function no(){var n=window.event;return n&&n.type==="popstate"?n===Zn?!1:(Zn=n,!0):(Zn=null,!1)}var zr=typeof setTimeout=="function"?setTimeout:void 0,An=typeof clearTimeout=="function"?clearTimeout:void 0,Yi=typeof Promise=="function"?Promise:void 0,Ti=typeof queueMicrotask=="function"?queueMicrotask:typeof Yi<"u"?function(n){return Yi.resolve(null).then(n).catch(ba)}:zr;function ba(n){setTimeout(function(){throw n})}function Xi(n){return n==="head"}function Bs(n,o){var f=o,g=0,x=0;do{var F=f.nextSibling;if(n.removeChild(f),F&&F.nodeType===8)if(f=F.data,f==="/$"){if(0<g&&8>g){f=g;var Z=n.ownerDocument;if(f&1&&Fp(Z.documentElement),f&2&&Fp(Z.body),f&4)for(f=Z.head,Fp(f),Z=f.firstChild;Z;){var fe=Z.nextSibling,Ve=Z.nodeName;Z[on]||Ve==="SCRIPT"||Ve==="STYLE"||Ve==="LINK"&&Z.rel.toLowerCase()==="stylesheet"||f.removeChild(Z),Z=fe}}if(x===0){n.removeChild(F),Hp(o);return}x--}else f==="$"||f==="$?"||f==="$!"?x++:g=f.charCodeAt(0)-48;else g=0;f=F}while(f);Hp(o)}function Eo(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var f=o;switch(o=o.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Eo(f),Ln(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}n.removeChild(f)}}function If(n,o,f,g){for(;n.nodeType===1;){var x=f;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!g&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(g){if(!n[on])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(F=n.getAttribute("rel"),F==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(F!==x.rel||n.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||n.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||n.getAttribute("title")!==(x.title==null?null:x.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(F=n.getAttribute("src"),(F!==(x.src==null?null:x.src)||n.getAttribute("type")!==(x.type==null?null:x.type)||n.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&F&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var F=x.name==null?null:""+x.name;if(x.type==="hidden"&&n.getAttribute("name")===F)return n}else return n;if(n=ur(n.nextSibling),n===null)break}return null}function Pf(n,o,f){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!f||(n=ur(n.nextSibling),n===null))return null;return n}function zl(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function On(n,o){var f=n.ownerDocument;if(n.data!=="$?"||f.readyState==="complete")o();else{var g=function(){o(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),n._reactRetry=g}}function ur(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return n}var us=null;function X_(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var f=n.data;if(f==="$"||f==="$!"||f==="$?"){if(o===0)return n;o--}else f==="/$"&&o++}n=n.previousSibling}return null}function Q_(n,o,f){switch(o=Kt(f),n){case"html":if(n=o.documentElement,!n)throw Error(i(452));return n;case"head":if(n=o.head,!n)throw Error(i(453));return n;case"body":if(n=o.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Fp(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);Ln(n)}var Go=new Map,Z_=new Set;function iy(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Wl=lt.d;lt.d={f:L2,r:U2,D:k2,C:j2,L:B2,m:H2,X:$2,S:V2,M:K2};function L2(){var n=Wl.f(),o=Hu();return n||o}function U2(n){var o=Jn(n);o!==null&&o.tag===5&&o.type==="form"?bd(o):Wl.r(n)}var th=typeof document>"u"?null:document;function eS(n,o,f){var g=th;if(g&&typeof o=="string"&&o){var x=Oe(o);x='link[rel="'+n+'"][href="'+x+'"]',typeof f=="string"&&(x+='[crossorigin="'+f+'"]'),Z_.has(x)||(Z_.add(x),n={rel:n,crossOrigin:f,href:o},g.querySelector(x)===null&&(o=g.createElement("link"),He(o,"link",n),Gt(o),g.head.appendChild(o)))}}function k2(n){Wl.D(n),eS("dns-prefetch",n,null)}function j2(n,o){Wl.C(n,o),eS("preconnect",n,o)}function B2(n,o,f){Wl.L(n,o,f);var g=th;if(g&&n&&o){var x='link[rel="preload"][as="'+Oe(o)+'"]';o==="image"&&f&&f.imageSrcSet?(x+='[imagesrcset="'+Oe(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(x+='[imagesizes="'+Oe(f.imageSizes)+'"]')):x+='[href="'+Oe(n)+'"]';var F=x;switch(o){case"style":F=nh(n);break;case"script":F=rh(n)}Go.has(F)||(n=p({rel:"preload",href:o==="image"&&f&&f.imageSrcSet?void 0:n,as:o},f),Go.set(F,n),g.querySelector(x)!==null||o==="style"&&g.querySelector(Dp(F))||o==="script"&&g.querySelector(Mp(F))||(o=g.createElement("link"),He(o,"link",n),Gt(o),g.head.appendChild(o)))}}function H2(n,o){Wl.m(n,o);var f=th;if(f&&n){var g=o&&typeof o.as=="string"?o.as:"script",x='link[rel="modulepreload"][as="'+Oe(g)+'"][href="'+Oe(n)+'"]',F=x;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=rh(n)}if(!Go.has(F)&&(n=p({rel:"modulepreload",href:n},o),Go.set(F,n),f.querySelector(x)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Mp(F)))return}g=f.createElement("link"),He(g,"link",n),Gt(g),f.head.appendChild(g)}}}function V2(n,o,f){Wl.S(n,o,f);var g=th;if(g&&n){var x=ln(g).hoistableStyles,F=nh(n);o=o||"default";var Z=x.get(F);if(!Z){var fe={loading:0,preload:null};if(Z=g.querySelector(Dp(F)))fe.loading=5;else{n=p({rel:"stylesheet",href:n,"data-precedence":o},f),(f=Go.get(F))&&f0(n,f);var Ve=Z=g.createElement("link");Gt(Ve),He(Ve,"link",n),Ve._p=new Promise(function(vt,Dt){Ve.onload=vt,Ve.onerror=Dt}),Ve.addEventListener("load",function(){fe.loading|=1}),Ve.addEventListener("error",function(){fe.loading|=2}),fe.loading|=4,ay(Z,o,g)}Z={type:"stylesheet",instance:Z,count:1,state:fe},x.set(F,Z)}}}function $2(n,o){Wl.X(n,o);var f=th;if(f&&n){var g=ln(f).hoistableScripts,x=rh(n),F=g.get(x);F||(F=f.querySelector(Mp(x)),F||(n=p({src:n,async:!0},o),(o=Go.get(x))&&d0(n,o),F=f.createElement("script"),Gt(F),He(F,"link",n),f.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},g.set(x,F))}}function K2(n,o){Wl.M(n,o);var f=th;if(f&&n){var g=ln(f).hoistableScripts,x=rh(n),F=g.get(x);F||(F=f.querySelector(Mp(x)),F||(n=p({src:n,async:!0,type:"module"},o),(o=Go.get(x))&&d0(n,o),F=f.createElement("script"),Gt(F),He(F,"link",n),f.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},g.set(x,F))}}function tS(n,o,f,g){var x=(x=Nt.current)?iy(x):null;if(!x)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(o=nh(f.href),f=ln(x).hoistableStyles,g=f.get(o),g||(g={type:"style",instance:null,count:0,state:null},f.set(o,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){n=nh(f.href);var F=ln(x).hoistableStyles,Z=F.get(n);if(Z||(x=x.ownerDocument||x,Z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(n,Z),(F=x.querySelector(Dp(n)))&&!F._p&&(Z.instance=F,Z.state.loading=5),Go.has(n)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Go.set(n,f),F||G2(x,n,f,Z.state))),o&&g===null)throw Error(i(528,""));return Z}if(o&&g!==null)throw Error(i(529,""));return null;case"script":return o=f.async,f=f.src,typeof f=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=rh(f),f=ln(x).hoistableScripts,g=f.get(o),g||(g={type:"script",instance:null,count:0,state:null},f.set(o,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function nh(n){return'href="'+Oe(n)+'"'}function Dp(n){return'link[rel="stylesheet"]['+n+"]"}function nS(n){return p({},n,{"data-precedence":n.precedence,precedence:null})}function G2(n,o,f,g){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?g.loading=1:(o=n.createElement("link"),g.preload=o,o.addEventListener("load",function(){return g.loading|=1}),o.addEventListener("error",function(){return g.loading|=2}),He(o,"link",f),Gt(o),n.head.appendChild(o))}function rh(n){return'[src="'+Oe(n)+'"]'}function Mp(n){return"script[async]"+n}function rS(n,o,f){if(o.count++,o.instance===null)switch(o.type){case"style":var g=n.querySelector('style[data-href~="'+Oe(f.href)+'"]');if(g)return o.instance=g,Gt(g),g;var x=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(n.ownerDocument||n).createElement("style"),Gt(g),He(g,"style",x),ay(g,f.precedence,n),o.instance=g;case"stylesheet":x=nh(f.href);var F=n.querySelector(Dp(x));if(F)return o.state.loading|=4,o.instance=F,Gt(F),F;g=nS(f),(x=Go.get(x))&&f0(g,x),F=(n.ownerDocument||n).createElement("link"),Gt(F);var Z=F;return Z._p=new Promise(function(fe,Ve){Z.onload=fe,Z.onerror=Ve}),He(F,"link",g),o.state.loading|=4,ay(F,f.precedence,n),o.instance=F;case"script":return F=rh(f.src),(x=n.querySelector(Mp(F)))?(o.instance=x,Gt(x),x):(g=f,(x=Go.get(F))&&(g=p({},f),d0(g,x)),n=n.ownerDocument||n,x=n.createElement("script"),Gt(x),He(x,"link",g),n.head.appendChild(x),o.instance=x);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(g=o.instance,o.state.loading|=4,ay(g,f.precedence,n));return o.instance}function ay(n,o,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=g.length?g[g.length-1]:null,F=x,Z=0;Z<g.length;Z++){var fe=g[Z];if(fe.dataset.precedence===o)F=fe;else if(F!==x)break}F?F.parentNode.insertBefore(n,F.nextSibling):(o=f.nodeType===9?f.head:f,o.insertBefore(n,o.firstChild))}function f0(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function d0(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var oy=null;function iS(n,o,f){if(oy===null){var g=new Map,x=oy=new Map;x.set(f,g)}else x=oy,g=x.get(f),g||(g=new Map,x.set(f,g));if(g.has(n))return g;for(g.set(n,null),f=f.getElementsByTagName(n),x=0;x<f.length;x++){var F=f[x];if(!(F[on]||F[Ft]||n==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var Z=F.getAttribute(o)||"";Z=n+Z;var fe=g.get(Z);fe?fe.push(F):g.set(Z,[F])}}return g}function aS(n,o,f){n=n.ownerDocument||n,n.head.insertBefore(f,o==="title"?n.querySelector("head > title"):null)}function q2(n,o,f){if(f===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return n=o.disabled,typeof o.precedence=="string"&&n==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function oS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Lp=null;function z2(){}function W2(n,o,f){if(Lp===null)throw Error(i(475));var g=Lp;if(o.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var x=nh(f.href),F=n.querySelector(Dp(x));if(F){n=F._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(g.count++,g=sy.bind(g),n.then(g,g)),o.state.loading|=4,o.instance=F,Gt(F);return}F=n.ownerDocument||n,f=nS(f),(x=Go.get(x))&&f0(f,x),F=F.createElement("link"),Gt(F);var Z=F;Z._p=new Promise(function(fe,Ve){Z.onload=fe,Z.onerror=Ve}),He(F,"link",f),o.instance=F}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(g.count++,o=sy.bind(g),n.addEventListener("load",o),n.addEventListener("error",o))}}function J2(){if(Lp===null)throw Error(i(475));var n=Lp;return n.stylesheets&&n.count===0&&h0(n,n.stylesheets),0<n.count?function(o){var f=setTimeout(function(){if(n.stylesheets&&h0(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(f)}}:null}function sy(){if(this.count--,this.count===0){if(this.stylesheets)h0(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ly=null;function h0(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ly=new Map,o.forEach(Y2,n),ly=null,sy.call(n))}function Y2(n,o){if(!(o.state.loading&4)){var f=ly.get(n);if(f)var g=f.get(null);else{f=new Map,ly.set(n,f);for(var x=n.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<x.length;F++){var Z=x[F];(Z.nodeName==="LINK"||Z.getAttribute("media")!=="not all")&&(f.set(Z.dataset.precedence,Z),g=Z)}g&&f.set(null,g)}x=o.instance,Z=x.getAttribute("data-precedence"),F=f.get(Z)||g,F===g&&f.set(null,x),f.set(Z,x),this.count++,g=sy.bind(this),x.addEventListener("load",g),x.addEventListener("error",g),F?F.parentNode.insertBefore(x,F.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(x,n.firstChild)),o.state.loading|=4}}var Up={$$typeof:O,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function X2(n,o,f,g,x,F,Z,fe){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Be(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Be(0),this.hiddenUpdates=Be(null),this.identifierPrefix=g,this.onUncaughtError=x,this.onCaughtError=F,this.onRecoverableError=Z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function sS(n,o,f,g,x,F,Z,fe,Ve,vt,Dt,jt){return n=new X2(n,o,f,Z,fe,Ve,vt,jt),o=1,F===!0&&(o|=24),F=xi(3,null,null,o),n.current=F,F.stateNode=n,o=Pi(),o.refCount++,n.pooledCache=o,o.refCount++,F.memoizedState={element:g,isDehydrated:f,cache:o},vo(F),n}function lS(n){return n?(n=pu,n):pu}function uS(n,o,f,g,x,F){x=lS(x),g.context===null?g.context=x:g.pendingContext=x,g=Pa(o),g.payload={element:f},F=F===void 0?null:F,F!==null&&(g.callback=F),f=Do(n,g,o),f!==null&&(Ji(f,n,o),Zo(f,n,o))}function cS(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var f=n.retryLane;n.retryLane=f!==0&&f<o?f:o}}function p0(n,o){cS(n,o),(n=n.alternate)&&cS(n,o)}function fS(n){if(n.tag===13){var o=Ta(n,67108864);o!==null&&Ji(o,n,67108864),p0(n,67108864)}}var uy=!0;function Q2(n,o,f,g){var x=xe.T;xe.T=null;var F=lt.p;try{lt.p=2,g0(n,o,f,g)}finally{lt.p=F,xe.T=x}}function Z2(n,o,f,g){var x=xe.T;xe.T=null;var F=lt.p;try{lt.p=8,g0(n,o,f,g)}finally{lt.p=F,xe.T=x}}function g0(n,o,f,g){if(uy){var x=m0(g);if(x===null)Np(n,o,g,cy,f),hS(n,g);else if(tO(x,n,o,f,g))g.stopPropagation();else if(hS(n,g),o&4&&-1<eO.indexOf(n)){for(;x!==null;){var F=Jn(x);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var Z=Vn(F.pendingLanes);if(Z!==0){var fe=F;for(fe.pendingLanes|=2,fe.entangledLanes|=2;Z;){var Ve=1<<31-G(Z);fe.entanglements[1]|=Ve,Z&=~Ve}So(F),(qr&6)===0&&(ss=Ne()+500,zu(0))}}break;case 13:fe=Ta(F,2),fe!==null&&Ji(fe,F,2),Hu(),p0(F,2)}if(F=m0(g),F===null&&Np(n,o,g,cy,f),F===x)break;x=F}x!==null&&g.stopPropagation()}else Np(n,o,g,null,f)}}function m0(n){return n=gn(n),y0(n)}var cy=null;function y0(n){if(cy=null,n=xn(n),n!==null){var o=l(n);if(o===null)n=null;else{var f=o.tag;if(f===13){if(n=s(o),n!==null)return n;n=null}else if(f===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return cy=n,null}function dS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ct()){case Pe:return 2;case mt:return 8;case Ot:case wt:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var v0=!1,Yu=null,Xu=null,Qu=null,kp=new Map,jp=new Map,Zu=[],eO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hS(n,o){switch(n){case"focusin":case"focusout":Yu=null;break;case"dragenter":case"dragleave":Xu=null;break;case"mouseover":case"mouseout":Qu=null;break;case"pointerover":case"pointerout":kp.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":jp.delete(o.pointerId)}}function Bp(n,o,f,g,x,F){return n===null||n.nativeEvent!==F?(n={blockedOn:o,domEventName:f,eventSystemFlags:g,nativeEvent:F,targetContainers:[x]},o!==null&&(o=Jn(o),o!==null&&fS(o)),n):(n.eventSystemFlags|=g,o=n.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),n)}function tO(n,o,f,g,x){switch(o){case"focusin":return Yu=Bp(Yu,n,o,f,g,x),!0;case"dragenter":return Xu=Bp(Xu,n,o,f,g,x),!0;case"mouseover":return Qu=Bp(Qu,n,o,f,g,x),!0;case"pointerover":var F=x.pointerId;return kp.set(F,Bp(kp.get(F)||null,n,o,f,g,x)),!0;case"gotpointercapture":return F=x.pointerId,jp.set(F,Bp(jp.get(F)||null,n,o,f,g,x)),!0}return!1}function pS(n){var o=xn(n.target);if(o!==null){var f=l(o);if(f!==null){if(o=f.tag,o===13){if(o=s(f),o!==null){n.blockedOn=o,Tt(n.priority,function(){if(f.tag===13){var g=sa();g=Ht(g);var x=Ta(f,g);x!==null&&Ji(x,f,g),p0(f,g)}});return}}else if(o===3&&f.stateNode.current.memoizedState.isDehydrated){n.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fy(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var f=m0(n.nativeEvent);if(f===null){f=n.nativeEvent;var g=new f.constructor(f.type,f);un=g,f.target.dispatchEvent(g),un=null}else return o=Jn(f),o!==null&&fS(o),n.blockedOn=f,!1;o.shift()}return!0}function gS(n,o,f){fy(n)&&f.delete(o)}function nO(){v0=!1,Yu!==null&&fy(Yu)&&(Yu=null),Xu!==null&&fy(Xu)&&(Xu=null),Qu!==null&&fy(Qu)&&(Qu=null),kp.forEach(gS),jp.forEach(gS)}function dy(n,o){n.blockedOn===o&&(n.blockedOn=null,v0||(v0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nO)))}var hy=null;function mS(n){hy!==n&&(hy=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){hy===n&&(hy=null);for(var o=0;o<n.length;o+=3){var f=n[o],g=n[o+1],x=n[o+2];if(typeof g!="function"){if(y0(g||f)===null)continue;break}var F=Jn(f);F!==null&&(n.splice(o,3),o-=3,vd(F,{pending:!0,data:x,method:f.method,action:g},g,x))}}))}function Hp(n){function o(Ve){return dy(Ve,n)}Yu!==null&&dy(Yu,n),Xu!==null&&dy(Xu,n),Qu!==null&&dy(Qu,n),kp.forEach(o),jp.forEach(o);for(var f=0;f<Zu.length;f++){var g=Zu[f];g.blockedOn===n&&(g.blockedOn=null)}for(;0<Zu.length&&(f=Zu[0],f.blockedOn===null);)pS(f),f.blockedOn===null&&Zu.shift();if(f=(n.ownerDocument||n).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var x=f[g],F=f[g+1],Z=x[Zt]||null;if(typeof F=="function")Z||mS(f);else if(Z){var fe=null;if(F&&F.hasAttribute("formAction")){if(x=F,Z=F[Zt]||null)fe=Z.formAction;else if(y0(x)!==null)continue}else fe=Z.action;typeof fe=="function"?f[g+1]=fe:(f.splice(g,3),g-=3),mS(f)}}}function b0(n){this._internalRoot=n}py.prototype.render=b0.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(i(409));var f=o.current,g=sa();uS(f,g,n,o,null,null)},py.prototype.unmount=b0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;uS(n.current,2,null,n,null,null),Hu(),o[nn]=null}};function py(n){this._internalRoot=n}py.prototype.unstable_scheduleHydration=function(n){if(n){var o=ve();n={blockedOn:null,target:n,priority:o};for(var f=0;f<Zu.length&&o!==0&&o<Zu[f].priority;f++);Zu.splice(f,0,n),f===0&&pS(n)}};var yS=t.version;if(yS!=="19.1.0")throw Error(i(527,yS,"19.1.0"));lt.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=d(o),n=n!==null?c(n):null,n=n===null?null:n.stateNode,n};var rO={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:xe,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gy.isDisabled&&gy.supportsFiber)try{dt=gy.inject(rO),X=gy}catch{}}return $p.createRoot=function(n,o){if(!a(n))throw Error(i(299));var f=!1,g="",x=Zv,F=e0,Z=t0,fe=null;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(F=o.onCaughtError),o.onRecoverableError!==void 0&&(Z=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(fe=o.unstable_transitionCallbacks)),o=sS(n,1,!1,null,null,f,g,x,F,Z,fe,null),n[nn]=o.current,Pp(n),new b0(o)},$p.hydrateRoot=function(n,o,f){if(!a(n))throw Error(i(299));var g=!1,x="",F=Zv,Z=e0,fe=t0,Ve=null,vt=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(x=f.identifierPrefix),f.onUncaughtError!==void 0&&(F=f.onUncaughtError),f.onCaughtError!==void 0&&(Z=f.onCaughtError),f.onRecoverableError!==void 0&&(fe=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(Ve=f.unstable_transitionCallbacks),f.formState!==void 0&&(vt=f.formState)),o=sS(n,1,!0,o,f??null,g,x,F,Z,fe,Ve,vt),o.context=lS(null),f=o.current,g=sa(),g=Ht(g),x=Pa(g),x.callback=null,Do(f,x,g),f=g,o.current.lanes=f,pt(o,f),So(o),n[nn]=o.current,Pp(n),new py(o)},$p.version="19.1.0",$p}var OS;function hO(){if(OS)return S0.exports;OS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),S0.exports=dO(),S0.exports}var pO=hO(),ky={exports:{}},ot={},Nf={},Kp={},R0={},Gp={},IS;function gO(){if(IS)return Gp;IS=1,Gp.byteLength=u,Gp.toByteArray=c,Gp.fromByteArray=w;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=i.length;a<l;++a)e[a]=i[a],t[i.charCodeAt(a)]=a;t[45]=62,t[95]=63;function s(S){var C=S.length;if(C%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=S.indexOf("=");R===-1&&(R=C);var T=R===C?0:4-R%4;return[R,T]}function u(S){var C=s(S),R=C[0],T=C[1];return(R+T)*3/4-T}function d(S,C,R){return(C+R)*3/4-R}function c(S){var C,R=s(S),T=R[0],E=R[1],N=new r(d(S,T,E)),O=0,V=E>0?T-4:T,L;for(L=0;L<V;L+=4)C=t[S.charCodeAt(L)]<<18|t[S.charCodeAt(L+1)]<<12|t[S.charCodeAt(L+2)]<<6|t[S.charCodeAt(L+3)],N[O++]=C>>16&255,N[O++]=C>>8&255,N[O++]=C&255;return E===2&&(C=t[S.charCodeAt(L)]<<2|t[S.charCodeAt(L+1)]>>4,N[O++]=C&255),E===1&&(C=t[S.charCodeAt(L)]<<10|t[S.charCodeAt(L+1)]<<4|t[S.charCodeAt(L+2)]>>2,N[O++]=C>>8&255,N[O++]=C&255),N}function p(S){return e[S>>18&63]+e[S>>12&63]+e[S>>6&63]+e[S&63]}function m(S,C,R){for(var T,E=[],N=C;N<R;N+=3)T=(S[N]<<16&16711680)+(S[N+1]<<8&65280)+(S[N+2]&255),E.push(p(T));return E.join("")}function w(S){for(var C,R=S.length,T=R%3,E=[],N=16383,O=0,V=R-T;O<V;O+=N)E.push(m(S,O,O+N>V?V:O+N));return T===1?(C=S[R-1],E.push(e[C>>2]+e[C<<4&63]+"==")):T===2&&(C=(S[R-2]<<8)+S[R-1],E.push(e[C>>10]+e[C>>4&63]+e[C<<2&63]+"=")),E.join("")}return Gp}var my={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var PS;function mO(){return PS||(PS=1,my.read=function(e,t,r,i,a){var l,s,u=a*8-i-1,d=(1<<u)-1,c=d>>1,p=-7,m=r?a-1:0,w=r?-1:1,S=e[t+m];for(m+=w,l=S&(1<<-p)-1,S>>=-p,p+=u;p>0;l=l*256+e[t+m],m+=w,p-=8);for(s=l&(1<<-p)-1,l>>=-p,p+=i;p>0;s=s*256+e[t+m],m+=w,p-=8);if(l===0)l=1-c;else{if(l===d)return s?NaN:(S?-1:1)*(1/0);s=s+Math.pow(2,i),l=l-c}return(S?-1:1)*s*Math.pow(2,l-i)},my.write=function(e,t,r,i,a,l){var s,u,d,c=l*8-a-1,p=(1<<c)-1,m=p>>1,w=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=i?0:l-1,C=i?1:-1,R=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,s=p):(s=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-s))<1&&(s--,d*=2),s+m>=1?t+=w/d:t+=w*Math.pow(2,1-m),t*d>=2&&(s++,d/=2),s+m>=p?(u=0,s=p):s+m>=1?(u=(t*d-1)*Math.pow(2,a),s=s+m):(u=t*Math.pow(2,m-1)*Math.pow(2,a),s=0));a>=8;e[r+S]=u&255,S+=C,u/=256,a-=8);for(s=s<<a|u,c+=a;c>0;e[r+S]=s&255,S+=C,s/=256,c-=8);e[r+S-C]|=R*128}),my}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var NS;function Xs(){return NS||(NS=1,function(e){const t=gO(),r=mO(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=N,e.INSPECT_MAX_BYTES=50;const a=2147483647;e.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=l(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const X=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(X,j),X.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function s(X){if(X>a)throw new RangeError('The value "'+X+'" is invalid for option "size"');const j=new Uint8Array(X);return Object.setPrototypeOf(j,u.prototype),j}function u(X,j,G){if(typeof X=="number"){if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(X)}return d(X,j,G)}u.poolSize=8192;function d(X,j,G){if(typeof X=="string")return w(X,j);if(ArrayBuffer.isView(X))return C(X);if(X==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X);if(wt(X,ArrayBuffer)||X&&wt(X.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(wt(X,SharedArrayBuffer)||X&&wt(X.buffer,SharedArrayBuffer)))return R(X,j,G);if(typeof X=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const H=X.valueOf&&X.valueOf();if(H!=null&&H!==X)return u.from(H,j,G);const Je=T(X);if(Je)return Je;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof X[Symbol.toPrimitive]=="function")return u.from(X[Symbol.toPrimitive]("string"),j,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X)}u.from=function(X,j,G){return d(X,j,G)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function c(X){if(typeof X!="number")throw new TypeError('"size" argument must be of type number');if(X<0)throw new RangeError('The value "'+X+'" is invalid for option "size"')}function p(X,j,G){return c(X),X<=0?s(X):j!==void 0?typeof G=="string"?s(X).fill(j,G):s(X).fill(j):s(X)}u.alloc=function(X,j,G){return p(X,j,G)};function m(X){return c(X),s(X<0?0:E(X)|0)}u.allocUnsafe=function(X){return m(X)},u.allocUnsafeSlow=function(X){return m(X)};function w(X,j){if((typeof j!="string"||j==="")&&(j="utf8"),!u.isEncoding(j))throw new TypeError("Unknown encoding: "+j);const G=O(X,j)|0;let H=s(G);const Je=H.write(X,j);return Je!==G&&(H=H.slice(0,Je)),H}function S(X){const j=X.length<0?0:E(X.length)|0,G=s(j);for(let H=0;H<j;H+=1)G[H]=X[H]&255;return G}function C(X){if(wt(X,Uint8Array)){const j=new Uint8Array(X);return R(j.buffer,j.byteOffset,j.byteLength)}return S(X)}function R(X,j,G){if(j<0||X.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<j+(G||0))throw new RangeError('"length" is outside of buffer bounds');let H;return j===void 0&&G===void 0?H=new Uint8Array(X):G===void 0?H=new Uint8Array(X,j):H=new Uint8Array(X,j,G),Object.setPrototypeOf(H,u.prototype),H}function T(X){if(u.isBuffer(X)){const j=E(X.length)|0,G=s(j);return G.length===0||X.copy(G,0,0,j),G}if(X.length!==void 0)return typeof X.length!="number"||Qe(X.length)?s(0):S(X);if(X.type==="Buffer"&&Array.isArray(X.data))return S(X.data)}function E(X){if(X>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return X|0}function N(X){return+X!=X&&(X=0),u.alloc(+X)}u.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==u.prototype},u.compare=function(j,G){if(wt(j,Uint8Array)&&(j=u.from(j,j.offset,j.byteLength)),wt(G,Uint8Array)&&(G=u.from(G,G.offset,G.byteLength)),!u.isBuffer(j)||!u.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===G)return 0;let H=j.length,Je=G.length;for(let it=0,Xe=Math.min(H,Je);it<Xe;++it)if(j[it]!==G[it]){H=j[it],Je=G[it];break}return H<Je?-1:Je<H?1:0},u.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(j,G){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return u.alloc(0);let H;if(G===void 0)for(G=0,H=0;H<j.length;++H)G+=j[H].length;const Je=u.allocUnsafe(G);let it=0;for(H=0;H<j.length;++H){let Xe=j[H];if(wt(Xe,Uint8Array))it+Xe.length>Je.length?(u.isBuffer(Xe)||(Xe=u.from(Xe)),Xe.copy(Je,it)):Uint8Array.prototype.set.call(Je,Xe,it);else if(u.isBuffer(Xe))Xe.copy(Je,it);else throw new TypeError('"list" argument must be an Array of Buffers');it+=Xe.length}return Je};function O(X,j){if(u.isBuffer(X))return X.length;if(ArrayBuffer.isView(X)||wt(X,ArrayBuffer))return X.byteLength;if(typeof X!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof X);const G=X.length,H=arguments.length>2&&arguments[2]===!0;if(!H&&G===0)return 0;let Je=!1;for(;;)switch(j){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return Ne(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G*2;case"hex":return G>>>1;case"base64":return mt(X).length;default:if(Je)return H?-1:Ne(X).length;j=(""+j).toLowerCase(),Je=!0}}u.byteLength=O;function V(X,j,G){let H=!1;if((j===void 0||j<0)&&(j=0),j>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0,j>>>=0,G<=j))return"";for(X||(X="utf8");;)switch(X){case"hex":return nt(this,j,G);case"utf8":case"utf-8":return et(this,j,G);case"ascii":return lt(this,j,G);case"latin1":case"binary":return he(this,j,G);case"base64":return _e(this,j,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,j,G);default:if(H)throw new TypeError("Unknown encoding: "+X);X=(X+"").toLowerCase(),H=!0}}u.prototype._isBuffer=!0;function L(X,j,G){const H=X[j];X[j]=X[G],X[G]=H}u.prototype.swap16=function(){const j=this.length;if(j%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let G=0;G<j;G+=2)L(this,G,G+1);return this},u.prototype.swap32=function(){const j=this.length;if(j%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let G=0;G<j;G+=4)L(this,G,G+3),L(this,G+1,G+2);return this},u.prototype.swap64=function(){const j=this.length;if(j%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let G=0;G<j;G+=8)L(this,G,G+7),L(this,G+1,G+6),L(this,G+2,G+5),L(this,G+3,G+4);return this},u.prototype.toString=function(){const j=this.length;return j===0?"":arguments.length===0?et(this,0,j):V.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(j){if(!u.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j?!0:u.compare(this,j)===0},u.prototype.inspect=function(){let j="";const G=e.INSPECT_MAX_BYTES;return j=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(j+=" ... "),"<Buffer "+j+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(j,G,H,Je,it){if(wt(j,Uint8Array)&&(j=u.from(j,j.offset,j.byteLength)),!u.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(G===void 0&&(G=0),H===void 0&&(H=j?j.length:0),Je===void 0&&(Je=0),it===void 0&&(it=this.length),G<0||H>j.length||Je<0||it>this.length)throw new RangeError("out of range index");if(Je>=it&&G>=H)return 0;if(Je>=it)return-1;if(G>=H)return 1;if(G>>>=0,H>>>=0,Je>>>=0,it>>>=0,this===j)return 0;let Xe=it-Je,Yt=H-G;const Vn=Math.min(Xe,Yt),Gn=this.slice(Je,it),sn=j.slice(G,H);for(let qe=0;qe<Vn;++qe)if(Gn[qe]!==sn[qe]){Xe=Gn[qe],Yt=sn[qe];break}return Xe<Yt?-1:Yt<Xe?1:0};function z(X,j,G,H,Je){if(X.length===0)return-1;if(typeof G=="string"?(H=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),G=+G,Qe(G)&&(G=Je?0:X.length-1),G<0&&(G=X.length+G),G>=X.length){if(Je)return-1;G=X.length-1}else if(G<0)if(Je)G=0;else return-1;if(typeof j=="string"&&(j=u.from(j,H)),u.isBuffer(j))return j.length===0?-1:W(X,j,G,H,Je);if(typeof j=="number")return j=j&255,typeof Uint8Array.prototype.indexOf=="function"?Je?Uint8Array.prototype.indexOf.call(X,j,G):Uint8Array.prototype.lastIndexOf.call(X,j,G):W(X,[j],G,H,Je);throw new TypeError("val must be string, number or Buffer")}function W(X,j,G,H,Je){let it=1,Xe=X.length,Yt=j.length;if(H!==void 0&&(H=String(H).toLowerCase(),H==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(X.length<2||j.length<2)return-1;it=2,Xe/=2,Yt/=2,G/=2}function Vn(sn,qe){return it===1?sn[qe]:sn.readUInt16BE(qe*it)}let Gn;if(Je){let sn=-1;for(Gn=G;Gn<Xe;Gn++)if(Vn(X,Gn)===Vn(j,sn===-1?0:Gn-sn)){if(sn===-1&&(sn=Gn),Gn-sn+1===Yt)return sn*it}else sn!==-1&&(Gn-=Gn-sn),sn=-1}else for(G+Yt>Xe&&(G=Xe-Yt),Gn=G;Gn>=0;Gn--){let sn=!0;for(let qe=0;qe<Yt;qe++)if(Vn(X,Gn+qe)!==Vn(j,qe)){sn=!1;break}if(sn)return Gn}return-1}u.prototype.includes=function(j,G,H){return this.indexOf(j,G,H)!==-1},u.prototype.indexOf=function(j,G,H){return z(this,j,G,H,!0)},u.prototype.lastIndexOf=function(j,G,H){return z(this,j,G,H,!1)};function $(X,j,G,H){G=Number(G)||0;const Je=X.length-G;H?(H=Number(H),H>Je&&(H=Je)):H=Je;const it=j.length;H>it/2&&(H=it/2);let Xe;for(Xe=0;Xe<H;++Xe){const Yt=parseInt(j.substr(Xe*2,2),16);if(Qe(Yt))return Xe;X[G+Xe]=Yt}return Xe}function Ce(X,j,G,H){return Ot(Ne(j,X.length-G),X,G,H)}function K(X,j,G,H){return Ot(ct(j),X,G,H)}function re(X,j,G,H){return Ot(mt(j),X,G,H)}function pe(X,j,G,H){return Ot(Pe(j,X.length-G),X,G,H)}u.prototype.write=function(j,G,H,Je){if(G===void 0)Je="utf8",H=this.length,G=0;else if(H===void 0&&typeof G=="string")Je=G,H=this.length,G=0;else if(isFinite(G))G=G>>>0,isFinite(H)?(H=H>>>0,Je===void 0&&(Je="utf8")):(Je=H,H=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const it=this.length-G;if((H===void 0||H>it)&&(H=it),j.length>0&&(H<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");Je||(Je="utf8");let Xe=!1;for(;;)switch(Je){case"hex":return $(this,j,G,H);case"utf8":case"utf-8":return Ce(this,j,G,H);case"ascii":case"latin1":case"binary":return K(this,j,G,H);case"base64":return re(this,j,G,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,j,G,H);default:if(Xe)throw new TypeError("Unknown encoding: "+Je);Je=(""+Je).toLowerCase(),Xe=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _e(X,j,G){return j===0&&G===X.length?t.fromByteArray(X):t.fromByteArray(X.slice(j,G))}function et(X,j,G){G=Math.min(X.length,G);const H=[];let Je=j;for(;Je<G;){const it=X[Je];let Xe=null,Yt=it>239?4:it>223?3:it>191?2:1;if(Je+Yt<=G){let Vn,Gn,sn,qe;switch(Yt){case 1:it<128&&(Xe=it);break;case 2:Vn=X[Je+1],(Vn&192)===128&&(qe=(it&31)<<6|Vn&63,qe>127&&(Xe=qe));break;case 3:Vn=X[Je+1],Gn=X[Je+2],(Vn&192)===128&&(Gn&192)===128&&(qe=(it&15)<<12|(Vn&63)<<6|Gn&63,qe>2047&&(qe<55296||qe>57343)&&(Xe=qe));break;case 4:Vn=X[Je+1],Gn=X[Je+2],sn=X[Je+3],(Vn&192)===128&&(Gn&192)===128&&(sn&192)===128&&(qe=(it&15)<<18|(Vn&63)<<12|(Gn&63)<<6|sn&63,qe>65535&&qe<1114112&&(Xe=qe))}}Xe===null?(Xe=65533,Yt=1):Xe>65535&&(Xe-=65536,H.push(Xe>>>10&1023|55296),Xe=56320|Xe&1023),H.push(Xe),Je+=Yt}return xe(H)}const rt=4096;function xe(X){const j=X.length;if(j<=rt)return String.fromCharCode.apply(String,X);let G="",H=0;for(;H<j;)G+=String.fromCharCode.apply(String,X.slice(H,H+=rt));return G}function lt(X,j,G){let H="";G=Math.min(X.length,G);for(let Je=j;Je<G;++Je)H+=String.fromCharCode(X[Je]&127);return H}function he(X,j,G){let H="";G=Math.min(X.length,G);for(let Je=j;Je<G;++Je)H+=String.fromCharCode(X[Je]);return H}function nt(X,j,G){const H=X.length;(!j||j<0)&&(j=0),(!G||G<0||G>H)&&(G=H);let Je="";for(let it=j;it<G;++it)Je+=We[X[it]];return Je}function Y(X,j,G){const H=X.slice(j,G);let Je="";for(let it=0;it<H.length-1;it+=2)Je+=String.fromCharCode(H[it]+H[it+1]*256);return Je}u.prototype.slice=function(j,G){const H=this.length;j=~~j,G=G===void 0?H:~~G,j<0?(j+=H,j<0&&(j=0)):j>H&&(j=H),G<0?(G+=H,G<0&&(G=0)):G>H&&(G=H),G<j&&(G=j);const Je=this.subarray(j,G);return Object.setPrototypeOf(Je,u.prototype),Je};function Re(X,j,G){if(X%1!==0||X<0)throw new RangeError("offset is not uint");if(X+j>G)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(j,G,H){j=j>>>0,G=G>>>0,H||Re(j,G,this.length);let Je=this[j],it=1,Xe=0;for(;++Xe<G&&(it*=256);)Je+=this[j+Xe]*it;return Je},u.prototype.readUintBE=u.prototype.readUIntBE=function(j,G,H){j=j>>>0,G=G>>>0,H||Re(j,G,this.length);let Je=this[j+--G],it=1;for(;G>0&&(it*=256);)Je+=this[j+--G]*it;return Je},u.prototype.readUint8=u.prototype.readUInt8=function(j,G){return j=j>>>0,G||Re(j,1,this.length),this[j]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(j,G){return j=j>>>0,G||Re(j,2,this.length),this[j]|this[j+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(j,G){return j=j>>>0,G||Re(j,2,this.length),this[j]<<8|this[j+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(j,G){return j=j>>>0,G||Re(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+this[j+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(j,G){return j=j>>>0,G||Re(j,4,this.length),this[j]*16777216+(this[j+1]<<16|this[j+2]<<8|this[j+3])},u.prototype.readBigUInt64LE=Fe(function(j){j=j>>>0,D(j,"offset");const G=this[j],H=this[j+7];(G===void 0||H===void 0)&&q(j,this.length-8);const Je=G+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24,it=this[++j]+this[++j]*2**8+this[++j]*2**16+H*2**24;return BigInt(Je)+(BigInt(it)<<BigInt(32))}),u.prototype.readBigUInt64BE=Fe(function(j){j=j>>>0,D(j,"offset");const G=this[j],H=this[j+7];(G===void 0||H===void 0)&&q(j,this.length-8);const Je=G*2**24+this[++j]*2**16+this[++j]*2**8+this[++j],it=this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+H;return(BigInt(Je)<<BigInt(32))+BigInt(it)}),u.prototype.readIntLE=function(j,G,H){j=j>>>0,G=G>>>0,H||Re(j,G,this.length);let Je=this[j],it=1,Xe=0;for(;++Xe<G&&(it*=256);)Je+=this[j+Xe]*it;return it*=128,Je>=it&&(Je-=Math.pow(2,8*G)),Je},u.prototype.readIntBE=function(j,G,H){j=j>>>0,G=G>>>0,H||Re(j,G,this.length);let Je=G,it=1,Xe=this[j+--Je];for(;Je>0&&(it*=256);)Xe+=this[j+--Je]*it;return it*=128,Xe>=it&&(Xe-=Math.pow(2,8*G)),Xe},u.prototype.readInt8=function(j,G){return j=j>>>0,G||Re(j,1,this.length),this[j]&128?(255-this[j]+1)*-1:this[j]},u.prototype.readInt16LE=function(j,G){j=j>>>0,G||Re(j,2,this.length);const H=this[j]|this[j+1]<<8;return H&32768?H|4294901760:H},u.prototype.readInt16BE=function(j,G){j=j>>>0,G||Re(j,2,this.length);const H=this[j+1]|this[j]<<8;return H&32768?H|4294901760:H},u.prototype.readInt32LE=function(j,G){return j=j>>>0,G||Re(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},u.prototype.readInt32BE=function(j,G){return j=j>>>0,G||Re(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},u.prototype.readBigInt64LE=Fe(function(j){j=j>>>0,D(j,"offset");const G=this[j],H=this[j+7];(G===void 0||H===void 0)&&q(j,this.length-8);const Je=this[j+4]+this[j+5]*2**8+this[j+6]*2**16+(H<<24);return(BigInt(Je)<<BigInt(32))+BigInt(G+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24)}),u.prototype.readBigInt64BE=Fe(function(j){j=j>>>0,D(j,"offset");const G=this[j],H=this[j+7];(G===void 0||H===void 0)&&q(j,this.length-8);const Je=(G<<24)+this[++j]*2**16+this[++j]*2**8+this[++j];return(BigInt(Je)<<BigInt(32))+BigInt(this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+H)}),u.prototype.readFloatLE=function(j,G){return j=j>>>0,G||Re(j,4,this.length),r.read(this,j,!0,23,4)},u.prototype.readFloatBE=function(j,G){return j=j>>>0,G||Re(j,4,this.length),r.read(this,j,!1,23,4)},u.prototype.readDoubleLE=function(j,G){return j=j>>>0,G||Re(j,8,this.length),r.read(this,j,!0,52,8)},u.prototype.readDoubleBE=function(j,G){return j=j>>>0,G||Re(j,8,this.length),r.read(this,j,!1,52,8)};function Ke(X,j,G,H,Je,it){if(!u.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>Je||j<it)throw new RangeError('"value" argument is out of bounds');if(G+H>X.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(j,G,H,Je){if(j=+j,G=G>>>0,H=H>>>0,!Je){const Yt=Math.pow(2,8*H)-1;Ke(this,j,G,H,Yt,0)}let it=1,Xe=0;for(this[G]=j&255;++Xe<H&&(it*=256);)this[G+Xe]=j/it&255;return G+H},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(j,G,H,Je){if(j=+j,G=G>>>0,H=H>>>0,!Je){const Yt=Math.pow(2,8*H)-1;Ke(this,j,G,H,Yt,0)}let it=H-1,Xe=1;for(this[G+it]=j&255;--it>=0&&(Xe*=256);)this[G+it]=j/Xe&255;return G+H},u.prototype.writeUint8=u.prototype.writeUInt8=function(j,G,H){return j=+j,G=G>>>0,H||Ke(this,j,G,1,255,0),this[G]=j&255,G+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(j,G,H){return j=+j,G=G>>>0,H||Ke(this,j,G,2,65535,0),this[G]=j&255,this[G+1]=j>>>8,G+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(j,G,H){return j=+j,G=G>>>0,H||Ke(this,j,G,2,65535,0),this[G]=j>>>8,this[G+1]=j&255,G+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(j,G,H){return j=+j,G=G>>>0,H||Ke(this,j,G,4,4294967295,0),this[G+3]=j>>>24,this[G+2]=j>>>16,this[G+1]=j>>>8,this[G]=j&255,G+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(j,G,H){return j=+j,G=G>>>0,H||Ke(this,j,G,4,4294967295,0),this[G]=j>>>24,this[G+1]=j>>>16,this[G+2]=j>>>8,this[G+3]=j&255,G+4};function Ue(X,j,G,H,Je){k(j,H,Je,X,G,7);let it=Number(j&BigInt(4294967295));X[G++]=it,it=it>>8,X[G++]=it,it=it>>8,X[G++]=it,it=it>>8,X[G++]=it;let Xe=Number(j>>BigInt(32)&BigInt(4294967295));return X[G++]=Xe,Xe=Xe>>8,X[G++]=Xe,Xe=Xe>>8,X[G++]=Xe,Xe=Xe>>8,X[G++]=Xe,G}function at(X,j,G,H,Je){k(j,H,Je,X,G,7);let it=Number(j&BigInt(4294967295));X[G+7]=it,it=it>>8,X[G+6]=it,it=it>>8,X[G+5]=it,it=it>>8,X[G+4]=it;let Xe=Number(j>>BigInt(32)&BigInt(4294967295));return X[G+3]=Xe,Xe=Xe>>8,X[G+2]=Xe,Xe=Xe>>8,X[G+1]=Xe,Xe=Xe>>8,X[G]=Xe,G+8}u.prototype.writeBigUInt64LE=Fe(function(j,G=0){return Ue(this,j,G,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Fe(function(j,G=0){return at(this,j,G,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(j,G,H,Je){if(j=+j,G=G>>>0,!Je){const Vn=Math.pow(2,8*H-1);Ke(this,j,G,H,Vn-1,-Vn)}let it=0,Xe=1,Yt=0;for(this[G]=j&255;++it<H&&(Xe*=256);)j<0&&Yt===0&&this[G+it-1]!==0&&(Yt=1),this[G+it]=(j/Xe>>0)-Yt&255;return G+H},u.prototype.writeIntBE=function(j,G,H,Je){if(j=+j,G=G>>>0,!Je){const Vn=Math.pow(2,8*H-1);Ke(this,j,G,H,Vn-1,-Vn)}let it=H-1,Xe=1,Yt=0;for(this[G+it]=j&255;--it>=0&&(Xe*=256);)j<0&&Yt===0&&this[G+it+1]!==0&&(Yt=1),this[G+it]=(j/Xe>>0)-Yt&255;return G+H},u.prototype.writeInt8=function(j,G,H){return j=+j,G=G>>>0,H||Ke(this,j,G,1,127,-128),j<0&&(j=255+j+1),this[G]=j&255,G+1},u.prototype.writeInt16LE=function(j,G,H){return j=+j,G=G>>>0,H||Ke(this,j,G,2,32767,-32768),this[G]=j&255,this[G+1]=j>>>8,G+2},u.prototype.writeInt16BE=function(j,G,H){return j=+j,G=G>>>0,H||Ke(this,j,G,2,32767,-32768),this[G]=j>>>8,this[G+1]=j&255,G+2},u.prototype.writeInt32LE=function(j,G,H){return j=+j,G=G>>>0,H||Ke(this,j,G,4,2147483647,-2147483648),this[G]=j&255,this[G+1]=j>>>8,this[G+2]=j>>>16,this[G+3]=j>>>24,G+4},u.prototype.writeInt32BE=function(j,G,H){return j=+j,G=G>>>0,H||Ke(this,j,G,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[G]=j>>>24,this[G+1]=j>>>16,this[G+2]=j>>>8,this[G+3]=j&255,G+4},u.prototype.writeBigInt64LE=Fe(function(j,G=0){return Ue(this,j,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Fe(function(j,G=0){return at(this,j,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function It(X,j,G,H,Je,it){if(G+H>X.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function Nt(X,j,G,H,Je){return j=+j,G=G>>>0,Je||It(X,j,G,4),r.write(X,j,G,H,23,4),G+4}u.prototype.writeFloatLE=function(j,G,H){return Nt(this,j,G,!0,H)},u.prototype.writeFloatBE=function(j,G,H){return Nt(this,j,G,!1,H)};function Me(X,j,G,H,Je){return j=+j,G=G>>>0,Je||It(X,j,G,8),r.write(X,j,G,H,52,8),G+8}u.prototype.writeDoubleLE=function(j,G,H){return Me(this,j,G,!0,H)},u.prototype.writeDoubleBE=function(j,G,H){return Me(this,j,G,!1,H)},u.prototype.copy=function(j,G,H,Je){if(!u.isBuffer(j))throw new TypeError("argument should be a Buffer");if(H||(H=0),!Je&&Je!==0&&(Je=this.length),G>=j.length&&(G=j.length),G||(G=0),Je>0&&Je<H&&(Je=H),Je===H||j.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(Je<0)throw new RangeError("sourceEnd out of bounds");Je>this.length&&(Je=this.length),j.length-G<Je-H&&(Je=j.length-G+H);const it=Je-H;return this===j&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(G,H,Je):Uint8Array.prototype.set.call(j,this.subarray(H,Je),G),it},u.prototype.fill=function(j,G,H,Je){if(typeof j=="string"){if(typeof G=="string"?(Je=G,G=0,H=this.length):typeof H=="string"&&(Je=H,H=this.length),Je!==void 0&&typeof Je!="string")throw new TypeError("encoding must be a string");if(typeof Je=="string"&&!u.isEncoding(Je))throw new TypeError("Unknown encoding: "+Je);if(j.length===1){const Xe=j.charCodeAt(0);(Je==="utf8"&&Xe<128||Je==="latin1")&&(j=Xe)}}else typeof j=="number"?j=j&255:typeof j=="boolean"&&(j=Number(j));if(G<0||this.length<G||this.length<H)throw new RangeError("Out of range index");if(H<=G)return this;G=G>>>0,H=H===void 0?this.length:H>>>0,j||(j=0);let it;if(typeof j=="number")for(it=G;it<H;++it)this[it]=j;else{const Xe=u.isBuffer(j)?j:u.from(j,Je),Yt=Xe.length;if(Yt===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(it=0;it<H-G;++it)this[it+G]=Xe[it%Yt]}return this};const ue={};function Ie(X,j,G){ue[X]=class extends G{constructor(){super(),Object.defineProperty(this,"message",{value:j.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${X}]`,this.stack,delete this.name}get code(){return X}set code(Je){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Je,writable:!0})}toString(){return`${this.name} [${X}]: ${this.message}`}}}Ie("ERR_BUFFER_OUT_OF_BOUNDS",function(X){return X?`${X} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ie("ERR_INVALID_ARG_TYPE",function(X,j){return`The "${X}" argument must be of type number. Received type ${typeof j}`},TypeError),Ie("ERR_OUT_OF_RANGE",function(X,j,G){let H=`The value of "${X}" is out of range.`,Je=G;return Number.isInteger(G)&&Math.abs(G)>2**32?Je=Ye(String(G)):typeof G=="bigint"&&(Je=String(G),(G>BigInt(2)**BigInt(32)||G<-(BigInt(2)**BigInt(32)))&&(Je=Ye(Je)),Je+="n"),H+=` It must be ${j}. Received ${Je}`,H},RangeError);function Ye(X){let j="",G=X.length;const H=X[0]==="-"?1:0;for(;G>=H+4;G-=3)j=`_${X.slice(G-3,G)}${j}`;return`${X.slice(0,G)}${j}`}function se(X,j,G){D(j,"offset"),(X[j]===void 0||X[j+G]===void 0)&&q(j,X.length-(G+1))}function k(X,j,G,H,Je,it){if(X>G||X<j){const Xe=typeof j=="bigint"?"n":"";let Yt;throw j===0||j===BigInt(0)?Yt=`>= 0${Xe} and < 2${Xe} ** ${(it+1)*8}${Xe}`:Yt=`>= -(2${Xe} ** ${(it+1)*8-1}${Xe}) and < 2 ** ${(it+1)*8-1}${Xe}`,new ue.ERR_OUT_OF_RANGE("value",Yt,X)}se(H,Je,it)}function D(X,j){if(typeof X!="number")throw new ue.ERR_INVALID_ARG_TYPE(j,"number",X)}function q(X,j,G){throw Math.floor(X)!==X?(D(X,G),new ue.ERR_OUT_OF_RANGE("offset","an integer",X)):j<0?new ue.ERR_BUFFER_OUT_OF_BOUNDS:new ue.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${j}`,X)}const ne=/[^+/0-9A-Za-z-_]/g;function Ee(X){if(X=X.split("=")[0],X=X.trim().replace(ne,""),X.length<2)return"";for(;X.length%4!==0;)X=X+"=";return X}function Ne(X,j){j=j||1/0;let G;const H=X.length;let Je=null;const it=[];for(let Xe=0;Xe<H;++Xe){if(G=X.charCodeAt(Xe),G>55295&&G<57344){if(!Je){if(G>56319){(j-=3)>-1&&it.push(239,191,189);continue}else if(Xe+1===H){(j-=3)>-1&&it.push(239,191,189);continue}Je=G;continue}if(G<56320){(j-=3)>-1&&it.push(239,191,189),Je=G;continue}G=(Je-55296<<10|G-56320)+65536}else Je&&(j-=3)>-1&&it.push(239,191,189);if(Je=null,G<128){if((j-=1)<0)break;it.push(G)}else if(G<2048){if((j-=2)<0)break;it.push(G>>6|192,G&63|128)}else if(G<65536){if((j-=3)<0)break;it.push(G>>12|224,G>>6&63|128,G&63|128)}else if(G<1114112){if((j-=4)<0)break;it.push(G>>18|240,G>>12&63|128,G>>6&63|128,G&63|128)}else throw new Error("Invalid code point")}return it}function ct(X){const j=[];for(let G=0;G<X.length;++G)j.push(X.charCodeAt(G)&255);return j}function Pe(X,j){let G,H,Je;const it=[];for(let Xe=0;Xe<X.length&&!((j-=2)<0);++Xe)G=X.charCodeAt(Xe),H=G>>8,Je=G%256,it.push(Je),it.push(H);return it}function mt(X){return t.toByteArray(Ee(X))}function Ot(X,j,G,H){let Je;for(Je=0;Je<H&&!(Je+G>=j.length||Je>=X.length);++Je)j[Je+G]=X[Je];return Je}function wt(X,j){return X instanceof j||X!=null&&X.constructor!=null&&X.constructor.name!=null&&X.constructor.name===j.name}function Qe(X){return X!==X}const We=function(){const X="0123456789abcdef",j=new Array(256);for(let G=0;G<16;++G){const H=G*16;for(let Je=0;Je<16;++Je)j[H+Je]=X[G]+X[Je]}return j}();function Fe(X){return typeof BigInt>"u"?dt:X}function dt(){throw new Error("BigInt not supported")}}(R0)),R0}var C0,FS;function yO(){if(FS)return C0;FS=1;var{Buffer:e}=Xs(),t={},r=t.LEFT_BRACE=1,i=t.RIGHT_BRACE=2,a=t.LEFT_BRACKET=3,l=t.RIGHT_BRACKET=4,s=t.COLON=5,u=t.COMMA=6,d=t.TRUE=7,c=t.FALSE=8,p=t.NULL=9,m=t.STRING=10,w=t.NUMBER=11,S=t.START=17,C=t.STOP=18,R=t.TRUE1=33,T=t.TRUE2=34,E=t.TRUE3=35,N=t.FALSE1=49,O=t.FALSE2=50,V=t.FALSE3=51,L=t.FALSE4=52,z=t.NULL1=65,W=t.NULL2=66,$=t.NULL3=67,Ce=t.NUMBER1=81,K=t.NUMBER3=83,re=t.STRING1=97,pe=t.STRING2=98,_e=t.STRING3=99,et=t.STRING4=100,rt=t.STRING5=101,xe=t.STRING6=102,lt=t.VALUE=113,he=t.KEY=114,nt=t.OBJECT=129,Y=t.ARRAY=130,Re=92,Ke=47,Ue=8,at=12,It=10,Nt=13,Me=9,ue=64*1024;function Ie(k){return e.alloc?e.alloc(k):new e(k)}function Ye(){this.tState=S,this.value=void 0,this.string=void 0,this.stringBuffer=Ie(ue),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=lt,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:Ie(2),3:Ie(3),4:Ie(4)},this.offset=-1}Ye.toknam=function(k){for(var D=Object.keys(t),q=0,ne=D.length;q<ne;q++){var Ee=D[q];if(t[Ee]===k)return Ee}return k&&"0x"+k.toString(16)};var se=Ye.prototype;return se.onError=function(k){throw k},se.charError=function(k,D){this.tState=C,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(k[D]))+" at position "+D+" in state "+Ye.toknam(this.tState)))},se.appendStringChar=function(k){this.stringBufferOffset>=ue&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=k},se.appendStringBuf=function(k,D,q){var ne=k.length;typeof D=="number"&&(typeof q=="number"?q<0?ne=k.length-D+q:ne=q-D:ne=k.length-D),ne<0&&(ne=0),this.stringBufferOffset+ne>ue&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),k.copy(this.stringBuffer,this.stringBufferOffset,D,q),this.stringBufferOffset+=ne},se.write=function(k){typeof k=="string"&&(k=new e(k));for(var D,q=0,ne=k.length;q<ne;q++)if(this.tState===S){if(D=k[q],this.offset++,D===123)this.onToken(r,"{");else if(D===125)this.onToken(i,"}");else if(D===91)this.onToken(a,"[");else if(D===93)this.onToken(l,"]");else if(D===58)this.onToken(s,":");else if(D===44)this.onToken(u,",");else if(D===116)this.tState=R;else if(D===102)this.tState=N;else if(D===110)this.tState=z;else if(D===34)this.string="",this.stringBufferOffset=0,this.tState=re;else if(D===45)this.string="-",this.tState=Ce;else if(D>=48&&D<64)this.string=String.fromCharCode(D),this.tState=K;else if(!(D===32||D===9||D===10||D===13))return this.charError(k,q)}else if(this.tState===re)if(D=k[q],this.bytes_remaining>0){for(var Ee=0;Ee<this.bytes_remaining;Ee++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+Ee]=k[Ee];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,q=q+Ee-1}else if(this.bytes_remaining===0&&D>=128){if(D<=193||D>244)return this.onError(new Error("Invalid UTF-8 character at position "+q+" in state "+Ye.toknam(this.tState)));if(D>=194&&D<=223&&(this.bytes_in_sequence=2),D>=224&&D<=239&&(this.bytes_in_sequence=3),D>=240&&D<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+q>k.length){for(var Ne=0;Ne<=k.length-1-q;Ne++)this.temp_buffs[this.bytes_in_sequence][Ne]=k[q+Ne];this.bytes_remaining=q+this.bytes_in_sequence-k.length,q=k.length-1}else this.appendStringBuf(k,q,q+this.bytes_in_sequence),q=q+this.bytes_in_sequence-1}else if(D===34)this.tState=S,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(m,this.string),this.offset+=e.byteLength(this.string,"utf8")+1,this.string=void 0;else if(D===92)this.tState=pe;else if(D>=32)this.appendStringChar(D);else return this.charError(k,q);else if(this.tState===pe)if(D=k[q],D===34)this.appendStringChar(D),this.tState=re;else if(D===92)this.appendStringChar(Re),this.tState=re;else if(D===47)this.appendStringChar(Ke),this.tState=re;else if(D===98)this.appendStringChar(Ue),this.tState=re;else if(D===102)this.appendStringChar(at),this.tState=re;else if(D===110)this.appendStringChar(It),this.tState=re;else if(D===114)this.appendStringChar(Nt),this.tState=re;else if(D===116)this.appendStringChar(Me),this.tState=re;else if(D===117)this.unicode="",this.tState=_e;else return this.charError(k,q);else if(this.tState===_e||this.tState===et||this.tState===rt||this.tState===xe)if(D=k[q],D>=48&&D<64||D>64&&D<=70||D>96&&D<=102){if(this.unicode+=String.fromCharCode(D),this.tState++===xe){var ct=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&ct>=56320&&ct<57344?(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate,ct))),this.highSurrogate=void 0):this.highSurrogate===void 0&&ct>=55296&&ct<56320?this.highSurrogate=ct:(this.highSurrogate!==void 0&&(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new e(String.fromCharCode(ct)))),this.tState=re}}else return this.charError(k,q);else if(this.tState===Ce||this.tState===K)switch(D=k[q],D){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(D),this.tState=K;break;default:this.tState=S;var Pe=this.numberReviver(this.string,k,q);if(Pe)return Pe;this.offset+=this.string.length-1,this.string=void 0,q--;break}else if(this.tState===R)if(k[q]===114)this.tState=T;else return this.charError(k,q);else if(this.tState===T)if(k[q]===117)this.tState=E;else return this.charError(k,q);else if(this.tState===E)if(k[q]===101)this.tState=S,this.onToken(d,!0),this.offset+=3;else return this.charError(k,q);else if(this.tState===N)if(k[q]===97)this.tState=O;else return this.charError(k,q);else if(this.tState===O)if(k[q]===108)this.tState=V;else return this.charError(k,q);else if(this.tState===V)if(k[q]===115)this.tState=L;else return this.charError(k,q);else if(this.tState===L)if(k[q]===101)this.tState=S,this.onToken(c,!1),this.offset+=4;else return this.charError(k,q);else if(this.tState===z)if(k[q]===117)this.tState=W;else return this.charError(k,q);else if(this.tState===W)if(k[q]===108)this.tState=$;else return this.charError(k,q);else if(this.tState===$)if(k[q]===108)this.tState=S,this.onToken(p,null),this.offset+=3;else return this.charError(k,q)},se.onToken=function(k,D){},se.parseError=function(k,D){this.tState=C,this.onError(new Error("Unexpected "+Ye.toknam(k)+(D?"("+JSON.stringify(D)+")":"")+" in state "+Ye.toknam(this.state)))},se.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},se.pop=function(){var k=this.value,D=this.stack.pop();this.value=D.value,this.key=D.key,this.mode=D.mode,this.emit(k),this.mode||(this.state=lt)},se.emit=function(k){this.mode&&(this.state=u),this.onValue(k)},se.onValue=function(k){},se.onToken=function(k,D){if(this.state===lt)if(k===m||k===w||k===d||k===c||k===p)this.value&&(this.value[this.key]=D),this.emit(D);else if(k===r)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=he,this.mode=nt;else if(k===a)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=Y,this.state=lt;else if(k===i)if(this.mode===nt)this.pop();else return this.parseError(k,D);else if(k===l)if(this.mode===Y)this.pop();else return this.parseError(k,D);else return this.parseError(k,D);else if(this.state===he)if(k===m)this.key=D,this.state=s;else if(k===i)this.pop();else return this.parseError(k,D);else if(this.state===s)if(k===s)this.state=lt;else return this.parseError(k,D);else if(this.state===u)if(k===u)this.mode===Y?(this.key++,this.state=lt):this.mode===nt&&(this.state=he);else if(k===l&&this.mode===Y||k===i&&this.mode===nt)this.pop();else return this.parseError(k,D);else return this.parseError(k,D)},se.numberReviver=function(k,D,q){var ne=Number(k);if(isNaN(ne))return this.charError(D,q);k.match(/[0-9]+/)==k&&ne.toString()!=k?this.onToken(m,k):this.onToken(w,ne)},Ye.C=t,C0=Ye,C0}var Ff={},qp={},T0={},DS;function vx(){return DS||(DS=1,function(){(function(e){(function(t){var r=typeof globalThis<"u"&&globalThis||typeof e<"u"&&e||typeof vS<"u"&&vS||{},i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function a(K){return K&&DataView.prototype.isPrototypeOf(K)}if(i.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(K){return K&&l.indexOf(Object.prototype.toString.call(K))>-1};function u(K){if(typeof K!="string"&&(K=String(K)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(K)||K==="")throw new TypeError('Invalid character in header field name: "'+K+'"');return K.toLowerCase()}function d(K){return typeof K!="string"&&(K=String(K)),K}function c(K){var re={next:function(){var pe=K.shift();return{done:pe===void 0,value:pe}}};return i.iterable&&(re[Symbol.iterator]=function(){return re}),re}function p(K){this.map={},K instanceof p?K.forEach(function(re,pe){this.append(pe,re)},this):Array.isArray(K)?K.forEach(function(re){if(re.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+re.length);this.append(re[0],re[1])},this):K&&Object.getOwnPropertyNames(K).forEach(function(re){this.append(re,K[re])},this)}p.prototype.append=function(K,re){K=u(K),re=d(re);var pe=this.map[K];this.map[K]=pe?pe+", "+re:re},p.prototype.delete=function(K){delete this.map[u(K)]},p.prototype.get=function(K){return K=u(K),this.has(K)?this.map[K]:null},p.prototype.has=function(K){return this.map.hasOwnProperty(u(K))},p.prototype.set=function(K,re){this.map[u(K)]=d(re)},p.prototype.forEach=function(K,re){for(var pe in this.map)this.map.hasOwnProperty(pe)&&K.call(re,this.map[pe],pe,this)},p.prototype.keys=function(){var K=[];return this.forEach(function(re,pe){K.push(pe)}),c(K)},p.prototype.values=function(){var K=[];return this.forEach(function(re){K.push(re)}),c(K)},p.prototype.entries=function(){var K=[];return this.forEach(function(re,pe){K.push([pe,re])}),c(K)},i.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function m(K){if(!K._noBody){if(K.bodyUsed)return Promise.reject(new TypeError("Already read"));K.bodyUsed=!0}}function w(K){return new Promise(function(re,pe){K.onload=function(){re(K.result)},K.onerror=function(){pe(K.error)}})}function S(K){var re=new FileReader,pe=w(re);return re.readAsArrayBuffer(K),pe}function C(K){var re=new FileReader,pe=w(re),_e=/charset=([A-Za-z0-9_-]+)/.exec(K.type),et=_e?_e[1]:"utf-8";return re.readAsText(K,et),pe}function R(K){for(var re=new Uint8Array(K),pe=new Array(re.length),_e=0;_e<re.length;_e++)pe[_e]=String.fromCharCode(re[_e]);return pe.join("")}function T(K){if(K.slice)return K.slice(0);var re=new Uint8Array(K.byteLength);return re.set(new Uint8Array(K)),re.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(K){this.bodyUsed=this.bodyUsed,this._bodyInit=K,K?typeof K=="string"?this._bodyText=K:i.blob&&Blob.prototype.isPrototypeOf(K)?this._bodyBlob=K:i.formData&&FormData.prototype.isPrototypeOf(K)?this._bodyFormData=K:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(K)?this._bodyText=K.toString():i.arrayBuffer&&i.blob&&a(K)?(this._bodyArrayBuffer=T(K.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(K)||s(K))?this._bodyArrayBuffer=T(K):this._bodyText=K=Object.prototype.toString.call(K):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof K=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(K)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var K=m(this);if(K)return K;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var K=m(this);return K||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(i.blob)return this.blob().then(S);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var K=m(this);if(K)return K;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(R(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function O(K){var re=K.toUpperCase();return N.indexOf(re)>-1?re:K}function V(K,re){if(!(this instanceof V))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');re=re||{};var pe=re.body;if(K instanceof V){if(K.bodyUsed)throw new TypeError("Already read");this.url=K.url,this.credentials=K.credentials,re.headers||(this.headers=new p(K.headers)),this.method=K.method,this.mode=K.mode,this.signal=K.signal,!pe&&K._bodyInit!=null&&(pe=K._bodyInit,K.bodyUsed=!0)}else this.url=String(K);if(this.credentials=re.credentials||this.credentials||"same-origin",(re.headers||!this.headers)&&(this.headers=new p(re.headers)),this.method=O(re.method||this.method||"GET"),this.mode=re.mode||this.mode||null,this.signal=re.signal||this.signal||function(){if("AbortController"in r){var rt=new AbortController;return rt.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&pe)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(pe),(this.method==="GET"||this.method==="HEAD")&&(re.cache==="no-store"||re.cache==="no-cache")){var _e=/([?&])_=[^&]*/;if(_e.test(this.url))this.url=this.url.replace(_e,"$1_="+new Date().getTime());else{var et=/\?/;this.url+=(et.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}V.prototype.clone=function(){return new V(this,{body:this._bodyInit})};function L(K){var re=new FormData;return K.trim().split("&").forEach(function(pe){if(pe){var _e=pe.split("="),et=_e.shift().replace(/\+/g," "),rt=_e.join("=").replace(/\+/g," ");re.append(decodeURIComponent(et),decodeURIComponent(rt))}}),re}function z(K){var re=new p,pe=K.replace(/\r?\n[\t ]+/g," ");return pe.split("\r").map(function(_e){return _e.indexOf(`
`)===0?_e.substr(1,_e.length):_e}).forEach(function(_e){var et=_e.split(":"),rt=et.shift().trim();if(rt){var xe=et.join(":").trim();try{re.append(rt,xe)}catch(lt){console.warn("Response "+lt.message)}}}),re}E.call(V.prototype);function W(K,re){if(!(this instanceof W))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(re||(re={}),this.type="default",this.status=re.status===void 0?200:re.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=re.statusText===void 0?"":""+re.statusText,this.headers=new p(re.headers),this.url=re.url||"",this._initBody(K)}E.call(W.prototype),W.prototype.clone=function(){return new W(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},W.error=function(){var K=new W(null,{status:200,statusText:""});return K.ok=!1,K.status=0,K.type="error",K};var $=[301,302,303,307,308];W.redirect=function(K,re){if($.indexOf(re)===-1)throw new RangeError("Invalid status code");return new W(null,{status:re,headers:{location:K}})},t.DOMException=r.DOMException;try{new t.DOMException}catch{t.DOMException=function(re,pe){this.message=re,this.name=pe;var _e=Error(re);this.stack=_e.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function Ce(K,re){return new Promise(function(pe,_e){var et=new V(K,re);if(et.signal&&et.signal.aborted)return _e(new t.DOMException("Aborted","AbortError"));var rt=new XMLHttpRequest;function xe(){rt.abort()}rt.onload=function(){var nt={statusText:rt.statusText,headers:z(rt.getAllResponseHeaders()||"")};et.url.indexOf("file://")===0&&(rt.status<200||rt.status>599)?nt.status=200:nt.status=rt.status,nt.url="responseURL"in rt?rt.responseURL:nt.headers.get("X-Request-URL");var Y="response"in rt?rt.response:rt.responseText;setTimeout(function(){pe(new W(Y,nt))},0)},rt.onerror=function(){setTimeout(function(){_e(new TypeError("Network request failed"))},0)},rt.ontimeout=function(){setTimeout(function(){_e(new TypeError("Network request timed out"))},0)},rt.onabort=function(){setTimeout(function(){_e(new t.DOMException("Aborted","AbortError"))},0)};function lt(nt){try{return nt===""&&r.location.href?r.location.href:nt}catch{return nt}}if(rt.open(et.method,lt(et.url),!0),et.credentials==="include"?rt.withCredentials=!0:et.credentials==="omit"&&(rt.withCredentials=!1),"responseType"in rt&&(i.blob?rt.responseType="blob":i.arrayBuffer&&(rt.responseType="arraybuffer")),re&&typeof re.headers=="object"&&!(re.headers instanceof p||r.Headers&&re.headers instanceof r.Headers)){var he=[];Object.getOwnPropertyNames(re.headers).forEach(function(nt){he.push(u(nt)),rt.setRequestHeader(nt,d(re.headers[nt]))}),et.headers.forEach(function(nt,Y){he.indexOf(Y)===-1&&rt.setRequestHeader(Y,nt)})}else et.headers.forEach(function(nt,Y){rt.setRequestHeader(Y,nt)});et.signal&&(et.signal.addEventListener("abort",xe),rt.onreadystatechange=function(){rt.readyState===4&&et.signal.removeEventListener("abort",xe)}),rt.send(typeof et._bodyInit>"u"?null:et._bodyInit)})}return Ce.polyfill=!0,r.fetch||(r.fetch=Ce,r.Headers=p,r.Request=V,r.Response=W),t.Headers=p,t.Request=V,t.Response=W,t.fetch=Ce,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:T0)}()),T0}var Df={},Jl={},MS;function vO(){if(MS)return Jl;MS=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.removeDotSegmentsOfPath=Jl.removeDotSegments=Jl.resolve=void 0;function e(a,l){l=l||"";const s=l.indexOf("#");if(s>0&&(l=l.substr(0,s)),!a.length){if(l.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${l}' for value '${a}'`);return l}if(a.startsWith("?")){const S=l.indexOf("?");return S>0&&(l=l.substr(0,S)),l+a}if(a.startsWith("#"))return l+a;if(!l.length){const S=a.indexOf(":");if(S<0)throw new Error(`Found invalid relative IRI '${a}' for a missing baseIRI`);return r(a,S)}const u=a.indexOf(":");if(u>=0)return r(a,u);const d=l.indexOf(":");if(d<0)throw new Error(`Found invalid baseIRI '${l}' for value '${a}'`);const c=l.substr(0,d+1);if(a.indexOf("//")===0)return c+r(a,u);let p;if(l.indexOf("//",d)===d+1){if(p=l.indexOf("/",d+3),p<0)return l.length>d+3?l+"/"+r(a,u):c+r(a,u)}else if(p=l.indexOf("/",d+1),p<0)return c+r(a,u);if(a.indexOf("/")===0)return l.substr(0,p)+t(a);let m=l.substr(p);const w=m.lastIndexOf("/");return w>=0&&w<m.length-1&&(m=m.substr(0,w+1),a[0]==="."&&a[1]!=="."&&a[1]!=="/"&&a[2]&&(a=a.substr(1))),a=m+a,a=t(a),l.substr(0,p)+a}Jl.resolve=e;function t(a){const l=[];let s=0;for(;s<a.length;)switch(a[s]){case"/":if(a[s+1]===".")if(a[s+2]==="."){if(!i(a[s+3])){l.push([]),s++;break}l.pop(),a[s+3]||l.push([]),s+=3}else{if(!i(a[s+2])){l.push([]),s++;break}a[s+2]||l.push([]),s+=2}else l.push([]),s++;break;case"#":case"?":l.length||l.push([]),l[l.length-1].push(a.substr(s)),s=a.length;break;default:l.length||l.push([]),l[l.length-1].push(a[s]),s++;break}return"/"+l.map(u=>u.join("")).join("/")}Jl.removeDotSegments=t;function r(a,l){let s=l+1;l>=0?a[l+1]==="/"&&a[l+2]==="/"&&(s=l+3):a[0]==="/"&&a[1]==="/"&&(s=2);const u=a.indexOf("/",s);if(u<0)return a;const d=a.substr(0,u),c=a.substr(u);return d+t(c)}Jl.removeDotSegmentsOfPath=r;function i(a){return!a||a==="#"||a==="?"||a==="/"}return Jl}var LS;function Mw(){return LS||(LS=1,function(e){var t=Df&&Df.__createBinding||(Object.create?function(i,a,l,s){s===void 0&&(s=l),Object.defineProperty(i,s,{enumerable:!0,get:function(){return a[l]}})}:function(i,a,l,s){s===void 0&&(s=l),i[s]=a[l]}),r=Df&&Df.__exportStar||function(i,a){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,i,l)};Object.defineProperty(e,"__esModule",{value:!0}),r(vO(),e)}(Df)),Df}var O0={},US;function fm(){return US||(US=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class t extends Error{constructor(i,a){super(i),this.code=a}}e.ErrorCoded=t,function(r){r.COLLIDING_KEYWORDS="colliding keywords",r.CONFLICTING_INDEXES="conflicting indexes",r.CYCLIC_IRI_MAPPING="cyclic IRI mapping",r.INVALID_ID_VALUE="invalid @id value",r.INVALID_INDEX_VALUE="invalid @index value",r.INVALID_NEST_VALUE="invalid @nest value",r.INVALID_PREFIX_VALUE="invalid @prefix value",r.INVALID_PROPAGATE_VALUE="invalid @propagate value",r.INVALID_REVERSE_VALUE="invalid @reverse value",r.INVALID_IMPORT_VALUE="invalid @import value",r.INVALID_VERSION_VALUE="invalid @version value",r.INVALID_BASE_IRI="invalid base IRI",r.INVALID_CONTAINER_MAPPING="invalid container mapping",r.INVALID_CONTEXT_ENTRY="invalid context entry",r.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",r.INVALID_DEFAULT_LANGUAGE="invalid default language",r.INVALID_INCLUDED_VALUE="invalid @included value",r.INVALID_IRI_MAPPING="invalid IRI mapping",r.INVALID_JSON_LITERAL="invalid JSON literal",r.INVALID_KEYWORD_ALIAS="invalid keyword alias",r.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",r.INVALID_LANGUAGE_MAPPING="invalid language mapping",r.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",r.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",r.INVALID_LOCAL_CONTEXT="invalid local context",r.INVALID_REMOTE_CONTEXT="invalid remote context",r.INVALID_REVERSE_PROPERTY="invalid reverse property",r.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",r.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",r.INVALID_SCOPED_CONTEXT="invalid scoped context",r.INVALID_SCRIPT_ELEMENT="invalid script element",r.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",r.INVALID_TERM_DEFINITION="invalid term definition",r.INVALID_TYPE_MAPPING="invalid type mapping",r.INVALID_TYPE_VALUE="invalid type value",r.INVALID_TYPED_VALUE="invalid typed value",r.INVALID_VALUE_OBJECT="invalid value object",r.INVALID_VALUE_OBJECT_VALUE="invalid value object value",r.INVALID_VOCAB_MAPPING="invalid vocab mapping",r.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",r.KEYWORD_REDEFINITION="keyword redefinition",r.LOADING_DOCUMENT_FAILED="loading document failed",r.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",r.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",r.PROCESSING_MODE_CONFLICT="processing mode conflict",r.PROTECTED_TERM_REDEFINITION="protected term redefinition",r.CONTEXT_OVERFLOW="context overflow",r.INVALID_BASE_DIRECTION="invalid base direction",r.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",r.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",r.INVALID_EMBEDDED_NODE="invalid embedded node",r.INVALID_ANNOTATION="invalid annotation"}(e.ERROR_CODES||(e.ERROR_CODES={}))}(O0)),O0}var zp={},I0,kS;function Lw(){if(kS)return I0;kS=1;var e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,r=/\s|\uFEFF|\xA0/,i=/\r?\n[\x20\x09]+/g,a=/[;,"]/,l=/[;,"]|\s/,s=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,u={IDLE:1,URI:2,ATTR:4};function d(C){return C.replace(t,"")}function c(C){return r.test(C)}function p(C,R){for(;c(C[R]);)R++;return R}function m(C){return l.test(C)||!s.test(C)}function w(C,R){return Object.keys(C).length===Object.keys(R).length&&Object.keys(C).every(T=>T in R&&C[T]===R[T])}class S{constructor(R){this.refs=[],R&&this.parse(R)}rel(R){for(var T=[],E=R.toLowerCase(),N=0;N<this.refs.length;N++)typeof this.refs[N].rel=="string"&&this.refs[N].rel.toLowerCase()===E&&T.push(this.refs[N]);return T}get(R,T){R=R.toLowerCase(),T=T.toLowerCase();for(var E=[],N=0;N<this.refs.length;N++)typeof this.refs[N][R]=="string"&&this.refs[N][R].toLowerCase()===T&&E.push(this.refs[N]);return E}set(R){return this.refs.push(R),this}setUnique(R){return this.refs.some(T=>w(T,R))||this.refs.push(R),this}has(R,T){R=R.toLowerCase(),T=T.toLowerCase();for(var E=0;E<this.refs.length;E++)if(typeof this.refs[E][R]=="string"&&this.refs[E][R].toLowerCase()===T)return!0;return!1}parse(R,O){O=O||0,R=O?R.slice(O):R,R=d(R).replace(i,"");for(var E=u.IDLE,N=R.length,O=0,V=null;O<N;)if(E===u.IDLE){if(c(R[O])){O++;continue}else if(R[O]==="<"){V!=null&&(V.rel!=null?this.refs.push(...S.expandRelations(V)):this.refs.push(V));var L=R.indexOf(">",O);if(L===-1)throw new Error("Expected end of URI delimiter at offset "+O);V={uri:R.slice(O+1,L)},O=L,E=u.URI}else throw new Error('Unexpected character "'+R[O]+'" at offset '+O);O++}else if(E===u.URI)if(c(R[O])){O++;continue}else if(R[O]===";")E=u.ATTR,O++;else if(R[O]===",")E=u.IDLE,O++;else throw new Error('Unexpected character "'+R[O]+'" at offset '+O);else if(E===u.ATTR){if(R[O]===";"||c(R[O])){O++;continue}var L=R.indexOf("=",O);L===-1&&(L=R.indexOf(";",O)),L===-1&&(L=R.length);var z=d(R.slice(O,L)).toLowerCase(),W="";if(O=L+1,O=p(R,O),R[O]==='"')for(O++;O<N;){if(R[O]==='"'){O++;break}R[O]==="\\"&&O++,W+=R[O],O++}else{for(var L=O+1;!a.test(R[L])&&L<N;)L++;W=R.slice(O,L),O=L}switch(V[z]&&S.isSingleOccurenceAttr(z)||(z[z.length-1]==="*"?V[z]=S.parseExtendedValue(W):(W=z==="type"?W.toLowerCase():W,V[z]!=null?Array.isArray(V[z])?V[z].push(W):V[z]=[V[z],W]:V[z]=W)),R[O]){case",":E=u.IDLE;break;case";":E=u.ATTR;break}O++}else throw new Error('Unknown parser state "'+E+'"');return V!=null&&(V.rel!=null?this.refs.push(...S.expandRelations(V)):this.refs.push(V)),V=null,this}toString(){for(var R=[],T="",E=null,N=0;N<this.refs.length;N++)E=this.refs[N],T=Object.keys(this.refs[N]).reduce(function(O,V){return V==="uri"?O:O+"; "+S.formatAttribute(V,E[V])},"<"+E.uri+">"),R.push(T);return R.join(", ")}}return S.isCompatibleEncoding=function(C){return e.test(C)},S.parse=function(C,R){return new S().parse(C,R)},S.isSingleOccurenceAttr=function(C){return C==="rel"||C==="type"||C==="media"||C==="title"||C==="title*"},S.isTokenAttr=function(C){return C==="rel"||C==="type"||C==="anchor"},S.escapeQuotes=function(C){return C.replace(/"/g,'\\"')},S.expandRelations=function(C){var R=C.rel.split(" ");return R.map(function(T){var E=Object.assign({},C);return E.rel=T,E})},S.parseExtendedValue=function(C){var R=/([^']+)?(?:'([^']*)')?(.+)/.exec(C);return{language:R[2].toLowerCase(),encoding:S.isCompatibleEncoding(R[1])?null:R[1].toLowerCase(),value:S.isCompatibleEncoding(R[1])?decodeURIComponent(R[3]):R[3]}},S.formatExtendedAttribute=function(C,R){var T=(R.encoding||"utf-8").toUpperCase(),E=R.language||"en",N="";return Buffer.isBuffer(R.value)&&S.isCompatibleEncoding(T)?N=R.value.toString(T):Buffer.isBuffer(R.value)?N=R.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):N=encodeURIComponent(R.value),C+"="+T+"'"+E+"'"+N},S.formatAttribute=function(C,R){return Array.isArray(R)?R.map(T=>S.formatAttribute(C,T)).join("; "):C[C.length-1]==="*"||typeof R!="string"?S.formatExtendedAttribute(C,R):(S.isTokenAttr(C)?R=m(R)?'"'+S.escapeQuotes(R)+'"':S.escapeQuotes(R):m(R)&&(R=encodeURIComponent(R),R=R.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),R='"'+R+'"'),C+"="+R)},I0=S,I0}var jS;function bx(){if(jS)return zp;jS=1,Object.defineProperty(zp,"__esModule",{value:!0}),zp.FetchDocumentLoader=void 0,vx();const e=fm(),t=Lw(),r=Mw();let i=class{constructor(l){this.fetcher=l}async load(l){const s=await(this.fetcher||fetch)(l,{headers:new Headers({accept:"application/ld+json"})});if(s.ok&&s.headers){let u=s.headers.get("Content-Type");if(u){const d=u.indexOf(";");d>0&&(u=u.substr(0,d))}if(u==="application/ld+json")return await s.json();if(s.headers.has("Link")){let d;if(s.headers.forEach((c,p)=>{if(p==="link"){const m=(0,t.parse)(c);for(const w of m.get("type","application/ld+json"))if(w.rel==="alternate"){if(d)throw new Error("Multiple JSON-LD alternate links were found on "+l);d=(0,r.resolve)(w.uri,l)}}}),d)return this.load(d)}throw new e.ErrorCoded(`Unsupported JSON-LD media type ${u}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(s.statusText||`Status code: ${s.status}`)}};return zp.FetchDocumentLoader=i,zp}var P0={},Wp={},BS;function Uw(){if(BS)return Wp;BS=1,Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.Util=void 0;class e{static isCompactIri(r){return r.indexOf(":")>0&&!(r&&r[0]==="#")}static getPrefix(r,i){if(r&&r[0]==="#")return null;const a=r.indexOf(":");if(a>=0){if(r.length>a+1&&r.charAt(a+1)==="/"&&r.charAt(a+2)==="/")return null;const l=r.substr(0,a);if(l==="_")return null;if(i[l])return l}return null}static getContextValueId(r){if(r===null||typeof r=="string")return r;const i=r["@id"];return i||null}static isSimpleTermDefinitionPrefix(r,i){return!e.isPotentialKeyword(r)&&(i.allowPrefixNonGenDelims||typeof r=="string"&&(r[0]==="_"||e.isPrefixIriEndingWithGenDelim(r)))}static isPotentialKeyword(r){return typeof r=="string"&&e.KEYWORD_REGEX.test(r)}static isPrefixIriEndingWithGenDelim(r){return e.ENDS_WITH_GEN_DELIM.test(r)}static isPrefixValue(r){return r&&(typeof r=="string"||r&&typeof r=="object")}static isValidIri(r){return!!(r&&e.IRI_REGEX.test(r))}static isValidIriWeak(r){return!!r&&r[0]!==":"&&e.IRI_REGEX_WEAK.test(r)}static isValidKeyword(r){return e.VALID_KEYWORDS[r]}static isTermProtected(r,i){const a=r[i];return typeof a!="string"&&a&&a["@protected"]}static hasProtectedTerms(r){for(const i of Object.keys(r))if(e.isTermProtected(r,i))return!0;return!1}static isReservedInternalKeyword(r){return r.startsWith("@__")}static deepEqual(r,i){const a=Object.keys(r),l=Object.keys(i);return a.length!==l.length?!1:a.every(s=>{const u=r[s],d=i[s];return u===d||u!==null&&d!==null&&typeof u=="object"&&typeof d=="object"&&this.deepEqual(u,d)})}}return e.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,e.IRI_REGEX_WEAK=/(?::[^:])|\//,e.KEYWORD_REGEX=/^@[a-z]+$/i,e.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,e.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,e.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,e.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},e.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],e.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],e.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],e.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],e.CONTAINERS_1_0=["@list","@set","@index"],Wp.Util=e,Wp}var HS;function wx(){return HS||(HS=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const t=Mw(),r=fm(),i=Uw();class a{constructor(s){this.contextRaw=s}getContextRaw(){return this.contextRaw}expandTerm(s,u,d=e.defaultExpandOptions){const c=this.contextRaw[s];if(c===null||c&&c["@id"]===null)return null;let p=!0;if(c&&u){const T=i.Util.getContextValueId(c);if(T&&T!==s)if(typeof T!="string"||!i.Util.isValidIri(T)&&!i.Util.isValidKeyword(T))i.Util.isPotentialKeyword(T)||(p=!1);else return T}const m=i.Util.getPrefix(s,this.contextRaw),w=this.contextRaw["@vocab"],S=(!!w||w==="")&&w.indexOf(":")<0,C=this.contextRaw["@base"],R=i.Util.isPotentialKeyword(s);if(m){const T=this.contextRaw[m],E=i.Util.getContextValueId(T);if(E){if(typeof T=="string"||!d.allowPrefixForcing){if(!i.Util.isSimpleTermDefinitionPrefix(E,d))return s}else if(E[0]!=="_"&&!R&&!T["@prefix"]&&!(s in this.contextRaw))return s;return E+s.substr(m.length+1)}}else if(u&&(w||w===""||d.allowVocabRelativeToBase&&C&&S)&&!R&&!i.Util.isCompactIri(s))if(S){if(d.allowVocabRelativeToBase)return(w||C?(0,t.resolve)(w,C):"")+s;throw new r.ErrorCoded(`Relative vocab expansion for term '${s}' with vocab '${w}' is not allowed.`,r.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return w+s;else if(!u&&C&&!R&&!i.Util.isCompactIri(s))return(0,t.resolve)(s,C);if(p)return s;throw new r.ErrorCoded(`Invalid IRI mapping found for context entry '${s}': '${JSON.stringify(c)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(s,u){if(u&&this.contextRaw["@vocab"]&&s.startsWith(this.contextRaw["@vocab"]))return s.substr(this.contextRaw["@vocab"].length);if(!u&&this.contextRaw["@base"]&&s.startsWith(this.contextRaw["@base"]))return s.substr(this.contextRaw["@base"].length);const d={prefix:"",suffix:s};for(const c in this.contextRaw){const p=this.contextRaw[c];if(p&&!i.Util.isPotentialKeyword(c)){const m=i.Util.getContextValueId(p);if(s.startsWith(m)){const w=s.substr(m.length);if(w)w.length<d.suffix.length&&(d.prefix=c,d.suffix=w);else if(u)return c}}}return d.prefix?d.prefix+":"+d.suffix:s}}e.JsonLdContextNormalized=a,e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(P0)),P0}var VS;function bO(){if(VS)return qp;VS=1,Object.defineProperty(qp,"__esModule",{value:!0}),qp.ContextParser=void 0,vx();const e=Mw(),t=fm(),r=bx(),i=wx(),a=Uw();let l=class Uf{constructor(u){u=u||{},this.documentLoader=u.documentLoader||new r.FetchDocumentLoader,this.documentCache={},this.validateContext=!u.skipValidation,this.expandContentTypeToBase=!!u.expandContentTypeToBase,this.remoteContextsDepthLimit=u.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in u?!!u.redirectSchemaOrgHttps:!0}static validateLanguage(u,d,c){if(typeof u!="string")throw new t.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(u)}'`,c);if(!a.Util.REGEX_LANGUAGE_TAG.test(u)){if(d)throw new t.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(u)}'`,c);return!1}return!0}static validateDirection(u,d){if(typeof u!="string")throw new t.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(u)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);if(!a.Util.REGEX_DIRECTION_TAG.test(u)){if(d)throw new t.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(u)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(u){for(const d of Object.keys(u)){let c=u[d];if(c&&typeof c=="object"&&c["@reverse"]&&!c["@id"]){if(typeof c["@reverse"]!="string"||a.Util.isValidKeyword(c["@reverse"]))throw new t.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${c["@reverse"]}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);c=u[d]=Object.assign(Object.assign({},c),{"@id":c["@reverse"]}),c["@id"]=c["@reverse"],a.Util.isPotentialKeyword(c["@reverse"])?delete c["@reverse"]:c["@reverse"]=!0}}return u}expandPrefixedTerms(u,d,c){const p=u.getContextRaw();for(const m of c||Object.keys(p))if(a.Util.EXPAND_KEYS_BLACKLIST.indexOf(m)<0&&!a.Util.isReservedInternalKeyword(m)){const w=p[m];if(a.Util.isPotentialKeyword(m)&&a.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(m)>=0&&(m!=="@type"||typeof p[m]=="object"&&!(p[m]["@protected"]||p[m]["@container"]==="@set")))throw new t.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${m} to ${JSON.stringify(w)}`,t.ERROR_CODES.KEYWORD_REDEFINITION);if(a.Util.ALIAS_RANGE_BLACKLIST.indexOf(a.Util.getContextValueId(w))>=0)throw new t.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${m} to ${JSON.stringify(w)}`,t.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(w&&a.Util.isPotentialKeyword(a.Util.getContextValueId(w))&&w["@prefix"]===!0)throw new t.ErrorCoded(`Tried to use keyword aliases as prefix: '${m}': '${JSON.stringify(w)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);for(;a.Util.isPrefixValue(p[m]);){const S=p[m];let C=!1;if(typeof S=="string")p[m]=u.expandTerm(S,!0),C=C||S!==p[m];else{const R=S["@id"],T=S["@type"],E=!("@prefix"in S)||a.Util.isValidIri(m);if("@id"in S)R!=null&&typeof R=="string"&&(p[m]=Object.assign(Object.assign({},p[m]),{"@id":u.expandTerm(R,!0)}),C=C||R!==p[m]["@id"]);else if(!a.Util.isPotentialKeyword(m)&&E){const N=u.expandTerm(m,!0);N!==m&&(p[m]=Object.assign(Object.assign({},p[m]),{"@id":N}),C=!0)}if(T&&typeof T=="string"&&T!=="@vocab"&&(!S["@container"]||!S["@container"]["@type"])&&E){let N=u.expandTerm(T,!0);d&&T===N&&(N=u.expandTerm(T,!1)),N!==T&&(C=!0,p[m]=Object.assign(Object.assign({},p[m]),{"@type":N}))}}if(!C)break}}}normalize(u,{processingMode:d,normalizeLanguageTags:c}){if(c||d===1)for(const p of Object.keys(u))if(p==="@language"&&typeof u[p]=="string")u[p]=u[p].toLowerCase();else{const m=u[p];if(m&&typeof m=="object"&&typeof m["@language"]=="string"){const w=m["@language"].toLowerCase();w!==m["@language"]&&(u[p]=Object.assign(Object.assign({},m),{"@language":w}))}}}containersToHash(u){for(const d of Object.keys(u)){const c=u[d];if(c&&typeof c=="object"){if(typeof c["@container"]=="string")u[d]=Object.assign(Object.assign({},c),{"@container":{[c["@container"]]:!0}});else if(Array.isArray(c["@container"])){const p={};for(const m of c["@container"])p[m]=!0;u[d]=Object.assign(Object.assign({},c),{"@container":p})}}}}applyScopedProtected(u,{processingMode:d},c){if(d&&d>=1.1&&u["@protected"]){for(const p of Object.keys(u))if(!a.Util.isReservedInternalKeyword(p)&&!a.Util.isPotentialKeyword(p)&&!a.Util.isTermProtected(u,p)){const m=u[p];m&&typeof m=="object"?"@protected"in u[p]||(u[p]=Object.assign(Object.assign({},u[p]),{"@protected":!0})):(u[p]={"@id":m,"@protected":!0},a.Util.isSimpleTermDefinitionPrefix(m,c)&&(u[p]=Object.assign(Object.assign({},u[p]),{"@prefix":!0})))}delete u["@protected"]}}validateKeywordRedefinitions(u,d,c,p){for(const m of p??Object.keys(d))if(a.Util.isTermProtected(u,m)&&(typeof d[m]=="string"?d[m]={"@id":d[m],"@protected":!0}:d[m]=Object.assign(Object.assign({},d[m]),{"@protected":!0}),!a.Util.deepEqual(u[m],d[m])))throw new t.ErrorCoded(`Attempted to override the protected keyword ${m} from ${JSON.stringify(a.Util.getContextValueId(u[m]))} to ${JSON.stringify(a.Util.getContextValueId(d[m]))}`,t.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(u,{processingMode:d}){for(const c of Object.keys(u)){if(a.Util.isReservedInternalKeyword(c))continue;if(c==="")throw new t.ErrorCoded(`The empty term is not allowed, got: '${c}': '${JSON.stringify(u[c])}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);const p=u[c],m=typeof p;if(a.Util.isPotentialKeyword(c)){switch(c.substr(1)){case"vocab":if(p!==null&&m!=="string")throw new t.ErrorCoded(`Found an invalid @vocab IRI: ${p}`,t.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(p!==null&&m!=="string")throw new t.ErrorCoded(`Found an invalid @base IRI: ${u[c]}`,t.ERROR_CODES.INVALID_BASE_IRI);break;case"language":p!==null&&Uf.validateLanguage(p,!0,t.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(p!==null&&m!=="number")throw new t.ErrorCoded(`Found an invalid @version number: ${p}`,t.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":p!==null&&Uf.validateDirection(p,!0);break;case"propagate":if(d===1)throw new t.ErrorCoded(`Found an illegal @propagate keyword: ${p}`,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(p!==null&&m!=="boolean")throw new t.ErrorCoded(`Found an invalid @propagate value: ${p}`,t.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(a.Util.isValidKeyword(c)&&a.Util.isValidKeyword(a.Util.getContextValueId(p)))throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${c}': '${a.Util.getContextValueId(p)}'`,t.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(p!==null)switch(m){case"string":if(a.Util.getPrefix(p,u)===c)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);if(a.Util.isValidIriWeak(c)){if(p==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${c}': '${p}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(p)&&p!==new i.JsonLdContextNormalized(u).expandTerm(c))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${c}': '${p}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!a.Util.isCompactIri(c)&&!("@id"in p)&&(p["@type"]==="@id"?!u["@base"]:!u["@vocab"]))throw new t.ErrorCoded(`Missing @id in context entry: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);for(const w of Object.keys(p)){const S=p[w];if(S)switch(w){case"@id":if(a.Util.isValidKeyword(S)&&S!=="@type"&&S!=="@id"&&S!=="@graph"&&S!=="@nest")throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIriWeak(c)){if(S==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(S)&&S!==new i.JsonLdContextNormalized(u).expandTerm(c))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof S!="string")throw new t.ErrorCoded(`Detected non-string @id in context entry: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.getPrefix(S,u)===c)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(p["@container"]==="@type"&&S!=="@id"&&S!=="@vocab")throw new t.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${c}': '${S}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof S!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(m)}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(S!=="@id"&&S!=="@vocab"&&(d===1||S!=="@json")&&(d===1||S!=="@none")&&(S[0]==="_"||!a.Util.isValidIri(S)))throw new t.ErrorCoded(`A context @type must be an absolute IRI, found: '${c}': '${S}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof S=="string"&&p["@id"]&&p["@id"]!==S)throw new t.ErrorCoded(`Found non-matching @id and @reverse term values in '${c}':'${S}' and '${p["@id"]}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in p)throw new t.ErrorCoded(`@nest is not allowed in the reverse property '${c}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(d===1&&(Object.keys(S).length>1||a.Util.CONTAINERS_1_0.indexOf(Object.keys(S)[0])<0))throw new t.ErrorCoded(`Invalid term @container for '${c}' ('${Object.keys(S)}') in 1.0, must be only one of ${a.Util.CONTAINERS_1_0.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const C of Object.keys(S)){if(C==="@list"&&p["@reverse"])throw new t.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${c}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(a.Util.CONTAINERS.indexOf(C)<0)throw new t.ErrorCoded(`Invalid term @container for '${c}' ('${C}'), must be one of ${a.Util.CONTAINERS.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":Uf.validateLanguage(S,!0,t.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":Uf.validateDirection(S,!0);break;case"@prefix":if(S!==null&&typeof S!="boolean")throw new t.ErrorCoded(`Found an invalid term @prefix boolean in: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in p)&&!a.Util.isValidIri(c))throw new t.ErrorCoded(`Invalid @prefix definition for '${c}' ('${JSON.stringify(p)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(d===1||!p["@container"]||!p["@container"]["@index"])throw new t.ErrorCoded(`Attempt to add illegal key to value object: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(a.Util.isPotentialKeyword(S)&&S!=="@nest")throw new t.ErrorCoded(`Found an invalid term @nest value in: '${c}': '${JSON.stringify(p)}'`,t.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new t.ErrorCoded(`Found an invalid term value: '${c}': '${p}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(u,d,c){return typeof u=="string"||(c&&!("@base"in u)&&d.parentContext&&typeof d.parentContext=="object"&&"@base"in d.parentContext&&(u["@base"]=d.parentContext["@base"],d.parentContext["@__baseDocument"]&&(u["@__baseDocument"]=!0)),d.baseIRI&&!d.external&&("@base"in u?u["@base"]!==null&&typeof u["@base"]=="string"&&!a.Util.isValidIri(u["@base"])&&(u["@base"]=(0,e.resolve)(u["@base"],d.parentContext&&d.parentContext["@base"]||d.baseIRI)):(u["@base"]=d.baseIRI,u["@__baseDocument"]=!0))),u}normalizeContextIri(u,d){if(!a.Util.isValidIri(u))try{u=(0,e.resolve)(u,d)}catch{throw new Error(`Invalid context IRI: ${u}`)}return this.redirectSchemaOrgHttps&&u.startsWith("http://schema.org")&&(u="https://schema.org/"),u}async parseInnerContexts(u,d,c){for(const p of c??Object.keys(u)){const m=u[p];if(m&&typeof m=="object"&&"@context"in m&&m["@context"]!==null&&!d.ignoreScopedContexts){if(this.validateContext)try{const w=Object.assign(Object.assign({},u),{[p]:Object.assign({},u[p])});delete w[p]["@context"],await this.parse(m["@context"],Object.assign(Object.assign({},d),{external:!1,parentContext:w,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(w){throw new t.ErrorCoded(w.message,t.ERROR_CODES.INVALID_SCOPED_CONTEXT)}u[p]=Object.assign(Object.assign({},m),{"@context":(await this.parse(m["@context"],Object.assign(Object.assign({},d),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:u}))).getContextRaw()})}}return u}async parse(u,d={},c={}){const{baseIRI:p,parentContext:m,external:w,processingMode:S=Uf.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:C,ignoreProtection:R,minimalProcessing:T}=d,E=d.remoteContexts||{};if(Object.keys(E).length>=this.remoteContextsDepthLimit)throw new t.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(E),t.ERROR_CODES.CONTEXT_OVERFLOW);if(u==null){if(!R&&m&&a.Util.hasProtectedTerms(m))throw new t.ErrorCoded("Illegal context nullification when terms are protected",t.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new i.JsonLdContextNormalized(this.applyBaseEntry({},d,!1))}else if(typeof u=="string"){const N=this.normalizeContextIri(u,p),O=this.getOverriddenLoad(N,d);if(O)return new i.JsonLdContextNormalized(O);const V=await this.parse(await this.load(N),Object.assign(Object.assign({},d),{baseIRI:N,external:!0,remoteContexts:Object.assign(Object.assign({},E),{[N]:!0})}));return this.applyBaseEntry(V.getContextRaw(),d,!0),V}else if(Array.isArray(u)){const N=[],O=await Promise.all(u.map((L,z)=>{if(typeof L=="string"){const W=this.normalizeContextIri(L,p);N[z]=W;const $=this.getOverriddenLoad(W,d);return $||this.load(W)}else return L}));if(T)return new i.JsonLdContextNormalized(O);const V=await O.reduce((L,z,W)=>L.then($=>this.parse(z,Object.assign(Object.assign({},d),{baseIRI:N[W]||d.baseIRI,external:!!N[W]||d.external,parentContext:$.getContextRaw(),remoteContexts:N[W]?Object.assign(Object.assign({},E),{[N[W]]:!0}):E}),{skipValidation:W<O.length-1})),Promise.resolve(new i.JsonLdContextNormalized(m||{})));return this.applyBaseEntry(V.getContextRaw(),d,!0),V}else if(typeof u=="object"){if("@context"in u)return await this.parse(u["@context"],d);if(u=Object.assign({},u),w&&delete u["@base"],this.applyBaseEntry(u,d,!0),this.containersToHash(u),T)return new i.JsonLdContextNormalized(u);let N={};if("@import"in u)if(S>=1.1){if(typeof u["@import"]!="string")throw new t.ErrorCoded("An @import value must be a string, but got "+typeof u["@import"],t.ERROR_CODES.INVALID_IMPORT_VALUE);N=await this.loadImportContext(this.normalizeContextIri(u["@import"],p)),delete u["@import"]}else throw new t.ErrorCoded("Context importing is not supported in JSON-LD 1.0",t.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(N,{processingMode:S},i.defaultExpandOptions);const O=Object.assign(N,u);this.idifyReverseTerms(O),this.normalize(O,{processingMode:S,normalizeLanguageTags:C}),this.applyScopedProtected(O,{processingMode:S},i.defaultExpandOptions);const V=Object.keys(O),L=[];if(typeof m=="object")for(const W in m)W in O?L.push(W):O[W]=m[W];await this.parseInnerContexts(O,d,V);const z=new i.JsonLdContextNormalized(O);return(O&&O["@version"]||Uf.DEFAULT_PROCESSING_MODE)>=1.1&&(u["@vocab"]&&typeof u["@vocab"]=="string"||u["@vocab"]==="")&&(m&&"@vocab"in m&&u["@vocab"].indexOf(":")<0?O["@vocab"]=m["@vocab"]+u["@vocab"]:(a.Util.isCompactIri(u["@vocab"])||u["@vocab"]in O)&&(O["@vocab"]=z.expandTerm(u["@vocab"],!0))),this.expandPrefixedTerms(z,this.expandContentTypeToBase,V),!R&&m&&S>=1.1&&this.validateKeywordRedefinitions(m,O,i.defaultExpandOptions,L),this.validateContext&&!c.skipValidation&&this.validate(O,{processingMode:S}),z}else throw new t.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${u}`,t.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(u){const d=this.documentCache[u];if(d)return d;let c;try{c=await this.documentLoader.load(u)}catch(p){throw new t.ErrorCoded(`Failed to load remote context ${u}: ${p.message}`,t.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in c))throw new t.ErrorCoded(`Missing @context in remote context at ${u}`,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[u]=c["@context"]}getOverriddenLoad(u,d){if(u in(d.remoteContexts||{})){if(d.ignoreRemoteScopedContexts)return u;throw new t.ErrorCoded("Detected a cyclic context inclusion of "+u,t.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(u){let d=await this.load(u);if(typeof d!="object"||Array.isArray(d))throw new t.ErrorCoded("An imported context must be a single object: "+u,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in d)throw new t.ErrorCoded("An imported context can not import another context: "+u,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);return d=Object.assign({},d),this.containersToHash(d),d}};return l.DEFAULT_PROCESSING_MODE=1.1,qp.ContextParser=l,qp}var N0={},$S;function wO(){return $S||($S=1,Object.defineProperty(N0,"__esModule",{value:!0})),N0}var F0={},KS;function _O(){return KS||(KS=1,Object.defineProperty(F0,"__esModule",{value:!0})),F0}var GS;function ja(){return GS||(GS=1,function(e){var t=Ff&&Ff.__createBinding||(Object.create?function(i,a,l,s){s===void 0&&(s=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(i,s,u)}:function(i,a,l,s){s===void 0&&(s=l),i[s]=a[l]}),r=Ff&&Ff.__exportStar||function(i,a){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,i,l)};Object.defineProperty(e,"__esModule",{value:!0}),r(bO(),e),r(fm(),e),r(bx(),e),r(wO(),e),r(_O(),e),r(wx(),e),r(Uw(),e)}(Ff)),Ff}var D0={exports:{}},M0={exports:{}},L0,qS;function Ai(){if(qS)return L0;qS=1;class e extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let i="";for(let a=0;a<r.length;a++)i+=`    ${r[a].stack}
`;super(i),this.name="AggregateError",this.errors=r}}return L0={AggregateError:e,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,r){return t.includes(r)},ArrayPrototypeIndexOf(t,r){return t.indexOf(r)},ArrayPrototypeJoin(t,r){return t.join(r)},ArrayPrototypeMap(t,r){return t.map(r)},ArrayPrototypePop(t,r){return t.pop(r)},ArrayPrototypePush(t,r){return t.push(r)},ArrayPrototypeSlice(t,r,i){return t.slice(r,i)},Error,FunctionPrototypeCall(t,r,...i){return t.call(r,...i)},FunctionPrototypeSymbolHasInstance(t,r){return Function.prototype[Symbol.hasInstance].call(t,r)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,r){return Object.defineProperties(t,r)},ObjectDefineProperty(t,r,i){return Object.defineProperty(t,r,i)},ObjectGetOwnPropertyDescriptor(t,r){return Object.getOwnPropertyDescriptor(t,r)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,r){return Object.setPrototypeOf(t,r)},Promise,PromisePrototypeCatch(t,r){return t.catch(r)},PromisePrototypeThen(t,r,i){return t.then(r,i)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,r){return t.test(r)},SafeSet:Set,String,StringPrototypeSlice(t,r,i){return t.slice(r,i)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,r,i){return t.set(r,i)},Boolean,Uint8Array},L0}var U0={exports:{}},k0,zS;function _x(){return zS||(zS=1,k0={format(e,...t){return e.replace(/%([sdifj])/g,function(...[r,i]){const a=t.shift();return i==="f"?a.toFixed(6):i==="j"?JSON.stringify(a):i==="s"&&typeof a=="object"?`${a.constructor!==Object?a.constructor.name:""} {}`.trim():a.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}),k0}var j0,WS;function Ba(){if(WS)return j0;WS=1;const{format:e,inspect:t}=_x(),{AggregateError:r}=Ai(),i=globalThis.AggregateError||r,a=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],s=/^([A-Z][a-z0-9]*)+$/,u="__node_internal_",d={};function c(T,E){if(!T)throw new d.ERR_INTERNAL_ASSERTION(E)}function p(T){let E="",N=T.length;const O=T[0]==="-"?1:0;for(;N>=O+4;N-=3)E=`_${T.slice(N-3,N)}${E}`;return`${T.slice(0,N)}${E}`}function m(T,E,N){if(typeof E=="function")return c(E.length<=N.length,`Code: ${T}; The provided arguments length (${N.length}) does not match the required ones (${E.length}).`),E(...N);const O=(E.match(/%[dfijoOs]/g)||[]).length;return c(O===N.length,`Code: ${T}; The provided arguments length (${N.length}) does not match the required ones (${O}).`),N.length===0?E:e(E,...N)}function w(T,E,N){N||(N=Error);class O extends N{constructor(...L){super(m(T,E,L))}toString(){return`${this.name} [${T}]: ${this.message}`}}Object.defineProperties(O.prototype,{name:{value:N.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${T}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),O.prototype.code=T,O.prototype[a]=!0,d[T]=O}function S(T){const E=u+T.name;return Object.defineProperty(T,"name",{value:E}),T}function C(T,E){if(T&&E&&T!==E){if(Array.isArray(E.errors))return E.errors.push(T),E;const N=new i([E,T],E.message);return N.code=E.code,N}return T||E}class R extends Error{constructor(E="The operation was aborted",N=void 0){if(N!==void 0&&typeof N!="object")throw new d.ERR_INVALID_ARG_TYPE("options","Object",N);super(E,N),this.code="ABORT_ERR",this.name="AbortError"}}return w("ERR_ASSERTION","%s",Error),w("ERR_INVALID_ARG_TYPE",(T,E,N)=>{c(typeof T=="string","'name' must be a string"),Array.isArray(E)||(E=[E]);let O="The ";T.endsWith(" argument")?O+=`${T} `:O+=`"${T}" ${T.includes(".")?"property":"argument"} `,O+="must be ";const V=[],L=[],z=[];for(const $ of E)c(typeof $=="string","All expected entries have to be of type string"),l.includes($)?V.push($.toLowerCase()):s.test($)?L.push($):(c($!=="object",'The value "object" should be written as "Object"'),z.push($));if(L.length>0){const $=V.indexOf("object");$!==-1&&(V.splice(V,$,1),L.push("Object"))}if(V.length>0){switch(V.length){case 1:O+=`of type ${V[0]}`;break;case 2:O+=`one of type ${V[0]} or ${V[1]}`;break;default:{const $=V.pop();O+=`one of type ${V.join(", ")}, or ${$}`}}(L.length>0||z.length>0)&&(O+=" or ")}if(L.length>0){switch(L.length){case 1:O+=`an instance of ${L[0]}`;break;case 2:O+=`an instance of ${L[0]} or ${L[1]}`;break;default:{const $=L.pop();O+=`an instance of ${L.join(", ")}, or ${$}`}}z.length>0&&(O+=" or ")}switch(z.length){case 0:break;case 1:z[0].toLowerCase()!==z[0]&&(O+="an "),O+=`${z[0]}`;break;case 2:O+=`one of ${z[0]} or ${z[1]}`;break;default:{const $=z.pop();O+=`one of ${z.join(", ")}, or ${$}`}}if(N==null)O+=`. Received ${N}`;else if(typeof N=="function"&&N.name)O+=`. Received function ${N.name}`;else if(typeof N=="object"){var W;if((W=N.constructor)!==null&&W!==void 0&&W.name)O+=`. Received an instance of ${N.constructor.name}`;else{const $=t(N,{depth:-1});O+=`. Received ${$}`}}else{let $=t(N,{colors:!1});$.length>25&&($=`${$.slice(0,25)}...`),O+=`. Received type ${typeof N} (${$})`}return O},TypeError),w("ERR_INVALID_ARG_VALUE",(T,E,N="is invalid")=>{let O=t(E);return O.length>128&&(O=O.slice(0,128)+"..."),`The ${T.includes(".")?"property":"argument"} '${T}' ${N}. Received ${O}`},TypeError),w("ERR_INVALID_RETURN_VALUE",(T,E,N)=>{var O;const V=N!=null&&(O=N.constructor)!==null&&O!==void 0&&O.name?`instance of ${N.constructor.name}`:`type ${typeof N}`;return`Expected ${T} to be returned from the "${E}" function but got ${V}.`},TypeError),w("ERR_MISSING_ARGS",(...T)=>{c(T.length>0,"At least one arg needs to be specified");let E;const N=T.length;switch(T=(Array.isArray(T)?T:[T]).map(O=>`"${O}"`).join(" or "),N){case 1:E+=`The ${T[0]} argument`;break;case 2:E+=`The ${T[0]} and ${T[1]} arguments`;break;default:{const O=T.pop();E+=`The ${T.join(", ")}, and ${O} arguments`}break}return`${E} must be specified`},TypeError),w("ERR_OUT_OF_RANGE",(T,E,N)=>{c(E,'Missing "range" argument');let O;if(Number.isInteger(N)&&Math.abs(N)>2**32)O=p(String(N));else if(typeof N=="bigint"){O=String(N);const V=BigInt(2)**BigInt(32);(N>V||N<-V)&&(O=p(O)),O+="n"}else O=t(N);return`The value of "${T}" is out of range. It must be ${E}. Received ${O}`},RangeError),w("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),w("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),w("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),w("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),w("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),w("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),w("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),w("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),w("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),w("ERR_STREAM_WRITE_AFTER_END","write after end",Error),w("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),j0={AbortError:R,aggregateTwoErrors:S(C),hideStackFrames:S,codes:d},j0}var Jp={exports:{}},JS;function Zg(){if(JS)return Jp.exports;JS=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Jp.exports=e,Jp.exports.AbortSignal=t,Jp.exports.default=e,Jp.exports}var yy={exports:{}},YS;function qf(){if(YS)return yy.exports;YS=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(L,z,W){return Function.prototype.apply.call(L,z,W)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(L){return Object.getOwnPropertyNames(L).concat(Object.getOwnPropertySymbols(L))}:r=function(L){return Object.getOwnPropertyNames(L)};function i(V){console&&console.warn&&console.warn(V)}var a=Number.isNaN||function(L){return L!==L};function l(){l.init.call(this)}yy.exports=l,yy.exports.once=E,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var s=10;function u(V){if(typeof V!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof V)}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(V){if(typeof V!="number"||V<0||a(V))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+V+".");s=V}}),l.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(L){if(typeof L!="number"||L<0||a(L))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+L+".");return this._maxListeners=L,this};function d(V){return V._maxListeners===void 0?l.defaultMaxListeners:V._maxListeners}l.prototype.getMaxListeners=function(){return d(this)},l.prototype.emit=function(L){for(var z=[],W=1;W<arguments.length;W++)z.push(arguments[W]);var $=L==="error",Ce=this._events;if(Ce!==void 0)$=$&&Ce.error===void 0;else if(!$)return!1;if($){var K;if(z.length>0&&(K=z[0]),K instanceof Error)throw K;var re=new Error("Unhandled error."+(K?" ("+K.message+")":""));throw re.context=K,re}var pe=Ce[L];if(pe===void 0)return!1;if(typeof pe=="function")t(pe,this,z);else for(var _e=pe.length,et=C(pe,_e),W=0;W<_e;++W)t(et[W],this,z);return!0};function c(V,L,z,W){var $,Ce,K;if(u(z),Ce=V._events,Ce===void 0?(Ce=V._events=Object.create(null),V._eventsCount=0):(Ce.newListener!==void 0&&(V.emit("newListener",L,z.listener?z.listener:z),Ce=V._events),K=Ce[L]),K===void 0)K=Ce[L]=z,++V._eventsCount;else if(typeof K=="function"?K=Ce[L]=W?[z,K]:[K,z]:W?K.unshift(z):K.push(z),$=d(V),$>0&&K.length>$&&!K.warned){K.warned=!0;var re=new Error("Possible EventEmitter memory leak detected. "+K.length+" "+String(L)+" listeners added. Use emitter.setMaxListeners() to increase limit");re.name="MaxListenersExceededWarning",re.emitter=V,re.type=L,re.count=K.length,i(re)}return V}l.prototype.addListener=function(L,z){return c(this,L,z,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(L,z){return c(this,L,z,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(V,L,z){var W={fired:!1,wrapFn:void 0,target:V,type:L,listener:z},$=p.bind(W);return $.listener=z,W.wrapFn=$,$}l.prototype.once=function(L,z){return u(z),this.on(L,m(this,L,z)),this},l.prototype.prependOnceListener=function(L,z){return u(z),this.prependListener(L,m(this,L,z)),this},l.prototype.removeListener=function(L,z){var W,$,Ce,K,re;if(u(z),$=this._events,$===void 0)return this;if(W=$[L],W===void 0)return this;if(W===z||W.listener===z)--this._eventsCount===0?this._events=Object.create(null):(delete $[L],$.removeListener&&this.emit("removeListener",L,W.listener||z));else if(typeof W!="function"){for(Ce=-1,K=W.length-1;K>=0;K--)if(W[K]===z||W[K].listener===z){re=W[K].listener,Ce=K;break}if(Ce<0)return this;Ce===0?W.shift():R(W,Ce),W.length===1&&($[L]=W[0]),$.removeListener!==void 0&&this.emit("removeListener",L,re||z)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(L){var z,W,$;if(W=this._events,W===void 0)return this;if(W.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):W[L]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete W[L]),this;if(arguments.length===0){var Ce=Object.keys(W),K;for($=0;$<Ce.length;++$)K=Ce[$],K!=="removeListener"&&this.removeAllListeners(K);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(z=W[L],typeof z=="function")this.removeListener(L,z);else if(z!==void 0)for($=z.length-1;$>=0;$--)this.removeListener(L,z[$]);return this};function w(V,L,z){var W=V._events;if(W===void 0)return[];var $=W[L];return $===void 0?[]:typeof $=="function"?z?[$.listener||$]:[$]:z?T($):C($,$.length)}l.prototype.listeners=function(L){return w(this,L,!0)},l.prototype.rawListeners=function(L){return w(this,L,!1)},l.listenerCount=function(V,L){return typeof V.listenerCount=="function"?V.listenerCount(L):S.call(V,L)},l.prototype.listenerCount=S;function S(V){var L=this._events;if(L!==void 0){var z=L[V];if(typeof z=="function")return 1;if(z!==void 0)return z.length}return 0}l.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function C(V,L){for(var z=new Array(L),W=0;W<L;++W)z[W]=V[W];return z}function R(V,L){for(;L+1<V.length;L++)V[L]=V[L+1];V.pop()}function T(V){for(var L=new Array(V.length),z=0;z<L.length;++z)L[z]=V[z].listener||V[z];return L}function E(V,L){return new Promise(function(z,W){function $(K){V.removeListener(L,Ce),W(K)}function Ce(){typeof V.removeListener=="function"&&V.removeListener("error",$),z([].slice.call(arguments))}O(V,L,Ce,{once:!0}),L!=="error"&&N(V,$,{once:!0})})}function N(V,L,z){typeof V.on=="function"&&O(V,"error",L,z)}function O(V,L,z,W){if(typeof V.on=="function")W.once?V.once(L,z):V.on(L,z);else if(typeof V.addEventListener=="function")V.addEventListener(L,function $(Ce){W.once&&V.removeEventListener(L,$),z(Ce)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof V)}return yy.exports}var XS;function ao(){return XS||(XS=1,function(e){const t=Xs(),{format:r,inspect:i}=_x(),{codes:{ERR_INVALID_ARG_TYPE:a}}=Ba(),{kResistStopPropagation:l,AggregateError:s,SymbolDispose:u}=Ai(),d=globalThis.AbortSignal||Zg().AbortSignal,c=globalThis.AbortController||Zg().AbortController,p=Object.getPrototypeOf(async function(){}).constructor,m=globalThis.Blob||t.Blob,w=typeof m<"u"?function(T){return T instanceof m}:function(T){return!1},S=(R,T)=>{if(R!==void 0&&(R===null||typeof R!="object"||!("aborted"in R)))throw new a(T,"AbortSignal",R)},C=(R,T)=>{if(typeof R!="function")throw new a(T,"Function",R)};e.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(R){let T=!1;return function(...E){T||(T=!0,R.apply(this,E))}},createDeferredPromise:function(){let R,T;return{promise:new Promise((N,O)=>{R=N,T=O}),resolve:R,reject:T}},promisify(R){return new Promise((T,E)=>{R((N,...O)=>N?E(N):T(...O))})},debuglog(){return function(){}},format:r,inspect:i,types:{isAsyncFunction(R){return R instanceof p},isArrayBufferView(R){return ArrayBuffer.isView(R)}},isBlob:w,deprecate(R,T){return R},addAbortListener:qf().addAbortListener||function(T,E){if(T===void 0)throw new a("signal","AbortSignal",T);S(T,"signal"),C(E,"listener");let N;return T.aborted?queueMicrotask(()=>E()):(T.addEventListener("abort",E,{__proto__:null,once:!0,[l]:!0}),N=()=>{T.removeEventListener("abort",E)}),{__proto__:null,[u](){var O;(O=N)===null||O===void 0||O()}}},AbortSignalAny:d.any||function(T){if(T.length===1)return T[0];const E=new c,N=()=>E.abort();return T.forEach(O=>{S(O,"signals"),O.addEventListener("abort",N,{once:!0})}),E.signal.addEventListener("abort",()=>{T.forEach(O=>O.removeEventListener("abort",N))},{once:!0}),E.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(U0)),U0.exports}var vy={},B0,QS;function dm(){if(QS)return B0;QS=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:r,ArrayPrototypeMap:i,NumberIsInteger:a,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:s,NumberMIN_SAFE_INTEGER:u,NumberParseInt:d,ObjectPrototypeHasOwnProperty:c,RegExpPrototypeExec:p,String:m,StringPrototypeToUpperCase:w,StringPrototypeTrim:S}=Ai(),{hideStackFrames:C,codes:{ERR_SOCKET_BAD_PORT:R,ERR_INVALID_ARG_TYPE:T,ERR_INVALID_ARG_VALUE:E,ERR_OUT_OF_RANGE:N,ERR_UNKNOWN_SIGNAL:O}}=Ba(),{normalizeEncoding:V}=ao(),{isAsyncFunction:L,isArrayBufferView:z}=ao().types,W={};function $(Pe){return Pe===(Pe|0)}function Ce(Pe){return Pe===Pe>>>0}const K=/^[0-7]+$/,re="must be a 32-bit unsigned integer or an octal string";function pe(Pe,mt,Ot){if(typeof Pe>"u"&&(Pe=Ot),typeof Pe=="string"){if(p(K,Pe)===null)throw new E(mt,Pe,re);Pe=d(Pe,8)}return rt(Pe,mt),Pe}const _e=C((Pe,mt,Ot=u,wt=s)=>{if(typeof Pe!="number")throw new T(mt,"number",Pe);if(!a(Pe))throw new N(mt,"an integer",Pe);if(Pe<Ot||Pe>wt)throw new N(mt,`>= ${Ot} && <= ${wt}`,Pe)}),et=C((Pe,mt,Ot=-2147483648,wt=2147483647)=>{if(typeof Pe!="number")throw new T(mt,"number",Pe);if(!a(Pe))throw new N(mt,"an integer",Pe);if(Pe<Ot||Pe>wt)throw new N(mt,`>= ${Ot} && <= ${wt}`,Pe)}),rt=C((Pe,mt,Ot=!1)=>{if(typeof Pe!="number")throw new T(mt,"number",Pe);if(!a(Pe))throw new N(mt,"an integer",Pe);const wt=Ot?1:0,Qe=4294967295;if(Pe<wt||Pe>Qe)throw new N(mt,`>= ${wt} && <= ${Qe}`,Pe)});function xe(Pe,mt){if(typeof Pe!="string")throw new T(mt,"string",Pe)}function lt(Pe,mt,Ot=void 0,wt){if(typeof Pe!="number")throw new T(mt,"number",Pe);if(Ot!=null&&Pe<Ot||wt!=null&&Pe>wt||(Ot!=null||wt!=null)&&l(Pe))throw new N(mt,`${Ot!=null?`>= ${Ot}`:""}${Ot!=null&&wt!=null?" && ":""}${wt!=null?`<= ${wt}`:""}`,Pe)}const he=C((Pe,mt,Ot)=>{if(!t(Ot,Pe)){const Qe="must be one of: "+r(i(Ot,We=>typeof We=="string"?`'${We}'`:m(We)),", ");throw new E(mt,Pe,Qe)}});function nt(Pe,mt){if(typeof Pe!="boolean")throw new T(mt,"boolean",Pe)}function Y(Pe,mt,Ot){return Pe==null||!c(Pe,mt)?Ot:Pe[mt]}const Re=C((Pe,mt,Ot=null)=>{const wt=Y(Ot,"allowArray",!1),Qe=Y(Ot,"allowFunction",!1);if(!Y(Ot,"nullable",!1)&&Pe===null||!wt&&e(Pe)||typeof Pe!="object"&&(!Qe||typeof Pe!="function"))throw new T(mt,"Object",Pe)}),Ke=C((Pe,mt)=>{if(Pe!=null&&typeof Pe!="object"&&typeof Pe!="function")throw new T(mt,"a dictionary",Pe)}),Ue=C((Pe,mt,Ot=0)=>{if(!e(Pe))throw new T(mt,"Array",Pe);if(Pe.length<Ot){const wt=`must be longer than ${Ot}`;throw new E(mt,Pe,wt)}});function at(Pe,mt){Ue(Pe,mt);for(let Ot=0;Ot<Pe.length;Ot++)xe(Pe[Ot],`${mt}[${Ot}]`)}function It(Pe,mt){Ue(Pe,mt);for(let Ot=0;Ot<Pe.length;Ot++)nt(Pe[Ot],`${mt}[${Ot}]`)}function Nt(Pe,mt){Ue(Pe,mt);for(let Ot=0;Ot<Pe.length;Ot++){const wt=Pe[Ot],Qe=`${mt}[${Ot}]`;if(wt==null)throw new T(Qe,"AbortSignal",wt);se(wt,Qe)}}function Me(Pe,mt="signal"){if(xe(Pe,mt),W[Pe]===void 0)throw W[w(Pe)]!==void 0?new O(Pe+" (signals must use all capital letters)"):new O(Pe)}const ue=C((Pe,mt="buffer")=>{if(!z(Pe))throw new T(mt,["Buffer","TypedArray","DataView"],Pe)});function Ie(Pe,mt){const Ot=V(mt),wt=Pe.length;if(Ot==="hex"&&wt%2!==0)throw new E("encoding",mt,`is invalid for data of length ${wt}`)}function Ye(Pe,mt="Port",Ot=!0){if(typeof Pe!="number"&&typeof Pe!="string"||typeof Pe=="string"&&S(Pe).length===0||+Pe!==+Pe>>>0||Pe>65535||Pe===0&&!Ot)throw new R(mt,Pe,Ot);return Pe|0}const se=C((Pe,mt)=>{if(Pe!==void 0&&(Pe===null||typeof Pe!="object"||!("aborted"in Pe)))throw new T(mt,"AbortSignal",Pe)}),k=C((Pe,mt)=>{if(typeof Pe!="function")throw new T(mt,"Function",Pe)}),D=C((Pe,mt)=>{if(typeof Pe!="function"||L(Pe))throw new T(mt,"Function",Pe)}),q=C((Pe,mt)=>{if(Pe!==void 0)throw new T(mt,"undefined",Pe)});function ne(Pe,mt,Ot){if(!t(Ot,Pe))throw new T(mt,`('${r(Ot,"|")}')`,Pe)}const Ee=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Ne(Pe,mt){if(typeof Pe>"u"||!p(Ee,Pe))throw new E(mt,Pe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ct(Pe){if(typeof Pe=="string")return Ne(Pe,"hints"),Pe;if(e(Pe)){const mt=Pe.length;let Ot="";if(mt===0)return Ot;for(let wt=0;wt<mt;wt++){const Qe=Pe[wt];Ne(Qe,"hints"),Ot+=Qe,wt!==mt-1&&(Ot+=", ")}return Ot}throw new E("hints",Pe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return B0={isInt32:$,isUint32:Ce,parseFileMode:pe,validateArray:Ue,validateStringArray:at,validateBooleanArray:It,validateAbortSignalArray:Nt,validateBoolean:nt,validateBuffer:ue,validateDictionary:Ke,validateEncoding:Ie,validateFunction:k,validateInt32:et,validateInteger:_e,validateNumber:lt,validateObject:Re,validateOneOf:he,validatePlainFunction:D,validatePort:Ye,validateSignalName:Me,validateString:xe,validateUint32:rt,validateUndefined:q,validateUnion:ne,validateAbortSignal:se,validateLinkHeaderValue:ct},B0}var by={exports:{}},H0={exports:{}},ZS;function zf(){if(ZS)return H0.exports;ZS=1;var e=H0.exports={},t,r;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=i}catch{t=i}try{typeof clearTimeout=="function"?r=clearTimeout:r=a}catch{r=a}})();function l(R){if(t===setTimeout)return setTimeout(R,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(R,0);try{return t(R,0)}catch{try{return t.call(null,R,0)}catch{return t.call(this,R,0)}}}function s(R){if(r===clearTimeout)return clearTimeout(R);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(R);try{return r(R)}catch{try{return r.call(null,R)}catch{return r.call(this,R)}}}var u=[],d=!1,c,p=-1;function m(){!d||!c||(d=!1,c.length?u=c.concat(u):p=-1,u.length&&w())}function w(){if(!d){var R=l(m);d=!0;for(var T=u.length;T;){for(c=u,u=[];++p<T;)c&&c[p].run();p=-1,T=u.length}c=null,d=!1,s(R)}}e.nextTick=function(R){var T=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)T[E-1]=arguments[E];u.push(new S(R,T)),u.length===1&&!d&&l(w)};function S(R,T){this.fun=R,this.array=T}S.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function C(){}return e.on=C,e.addListener=C,e.once=C,e.off=C,e.removeListener=C,e.removeAllListeners=C,e.emit=C,e.prependListener=C,e.prependOnceListener=C,e.listeners=function(R){return[]},e.binding=function(R){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(R){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},H0.exports}var V0,eE;function su(){if(eE)return V0;eE=1;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:r}=Ai(),i=r("nodejs.stream.destroyed"),a=r("nodejs.stream.errored"),l=r("nodejs.stream.readable"),s=r("nodejs.stream.writable"),u=r("nodejs.stream.disturbed"),d=r("nodejs.webstream.isClosedPromise"),c=r("nodejs.webstream.controllerErrorFunction");function p(Y,Re=!1){var Ke;return!!(Y&&typeof Y.pipe=="function"&&typeof Y.on=="function"&&(!Re||typeof Y.pause=="function"&&typeof Y.resume=="function")&&(!Y._writableState||((Ke=Y._readableState)===null||Ke===void 0?void 0:Ke.readable)!==!1)&&(!Y._writableState||Y._readableState))}function m(Y){var Re;return!!(Y&&typeof Y.write=="function"&&typeof Y.on=="function"&&(!Y._readableState||((Re=Y._writableState)===null||Re===void 0?void 0:Re.writable)!==!1))}function w(Y){return!!(Y&&typeof Y.pipe=="function"&&Y._readableState&&typeof Y.on=="function"&&typeof Y.write=="function")}function S(Y){return Y&&(Y._readableState||Y._writableState||typeof Y.write=="function"&&typeof Y.on=="function"||typeof Y.pipe=="function"&&typeof Y.on=="function")}function C(Y){return!!(Y&&!S(Y)&&typeof Y.pipeThrough=="function"&&typeof Y.getReader=="function"&&typeof Y.cancel=="function")}function R(Y){return!!(Y&&!S(Y)&&typeof Y.getWriter=="function"&&typeof Y.abort=="function")}function T(Y){return!!(Y&&!S(Y)&&typeof Y.readable=="object"&&typeof Y.writable=="object")}function E(Y){return C(Y)||R(Y)||T(Y)}function N(Y,Re){return Y==null?!1:Re===!0?typeof Y[e]=="function":Re===!1?typeof Y[t]=="function":typeof Y[e]=="function"||typeof Y[t]=="function"}function O(Y){if(!S(Y))return null;const Re=Y._writableState,Ke=Y._readableState,Ue=Re||Ke;return!!(Y.destroyed||Y[i]||Ue!=null&&Ue.destroyed)}function V(Y){if(!m(Y))return null;if(Y.writableEnded===!0)return!0;const Re=Y._writableState;return Re!=null&&Re.errored?!1:typeof Re?.ended!="boolean"?null:Re.ended}function L(Y,Re){if(!m(Y))return null;if(Y.writableFinished===!0)return!0;const Ke=Y._writableState;return Ke!=null&&Ke.errored?!1:typeof Ke?.finished!="boolean"?null:!!(Ke.finished||Re===!1&&Ke.ended===!0&&Ke.length===0)}function z(Y){if(!p(Y))return null;if(Y.readableEnded===!0)return!0;const Re=Y._readableState;return!Re||Re.errored?!1:typeof Re?.ended!="boolean"?null:Re.ended}function W(Y,Re){if(!p(Y))return null;const Ke=Y._readableState;return Ke!=null&&Ke.errored?!1:typeof Ke?.endEmitted!="boolean"?null:!!(Ke.endEmitted||Re===!1&&Ke.ended===!0&&Ke.length===0)}function $(Y){return Y&&Y[l]!=null?Y[l]:typeof Y?.readable!="boolean"?null:O(Y)?!1:p(Y)&&Y.readable&&!W(Y)}function Ce(Y){return Y&&Y[s]!=null?Y[s]:typeof Y?.writable!="boolean"?null:O(Y)?!1:m(Y)&&Y.writable&&!V(Y)}function K(Y,Re){return S(Y)?O(Y)?!0:!(Re?.readable!==!1&&$(Y)||Re?.writable!==!1&&Ce(Y)):null}function re(Y){var Re,Ke;return S(Y)?Y.writableErrored?Y.writableErrored:(Re=(Ke=Y._writableState)===null||Ke===void 0?void 0:Ke.errored)!==null&&Re!==void 0?Re:null:null}function pe(Y){var Re,Ke;return S(Y)?Y.readableErrored?Y.readableErrored:(Re=(Ke=Y._readableState)===null||Ke===void 0?void 0:Ke.errored)!==null&&Re!==void 0?Re:null:null}function _e(Y){if(!S(Y))return null;if(typeof Y.closed=="boolean")return Y.closed;const Re=Y._writableState,Ke=Y._readableState;return typeof Re?.closed=="boolean"||typeof Ke?.closed=="boolean"?Re?.closed||Ke?.closed:typeof Y._closed=="boolean"&&et(Y)?Y._closed:null}function et(Y){return typeof Y._closed=="boolean"&&typeof Y._defaultKeepAlive=="boolean"&&typeof Y._removedConnection=="boolean"&&typeof Y._removedContLen=="boolean"}function rt(Y){return typeof Y._sent100=="boolean"&&et(Y)}function xe(Y){var Re;return typeof Y._consuming=="boolean"&&typeof Y._dumped=="boolean"&&((Re=Y.req)===null||Re===void 0?void 0:Re.upgradeOrConnect)===void 0}function lt(Y){if(!S(Y))return null;const Re=Y._writableState,Ke=Y._readableState,Ue=Re||Ke;return!Ue&&rt(Y)||!!(Ue&&Ue.autoDestroy&&Ue.emitClose&&Ue.closed===!1)}function he(Y){var Re;return!!(Y&&((Re=Y[u])!==null&&Re!==void 0?Re:Y.readableDidRead||Y.readableAborted))}function nt(Y){var Re,Ke,Ue,at,It,Nt,Me,ue,Ie,Ye;return!!(Y&&((Re=(Ke=(Ue=(at=(It=(Nt=Y[a])!==null&&Nt!==void 0?Nt:Y.readableErrored)!==null&&It!==void 0?It:Y.writableErrored)!==null&&at!==void 0?at:(Me=Y._readableState)===null||Me===void 0?void 0:Me.errorEmitted)!==null&&Ue!==void 0?Ue:(ue=Y._writableState)===null||ue===void 0?void 0:ue.errorEmitted)!==null&&Ke!==void 0?Ke:(Ie=Y._readableState)===null||Ie===void 0?void 0:Ie.errored)!==null&&Re!==void 0?Re:!((Ye=Y._writableState)===null||Ye===void 0)&&Ye.errored))}return V0={isDestroyed:O,kIsDestroyed:i,isDisturbed:he,kIsDisturbed:u,isErrored:nt,kIsErrored:a,isReadable:$,kIsReadable:l,kIsClosedPromise:d,kControllerErrorFunction:c,kIsWritable:s,isClosed:_e,isDuplexNodeStream:w,isFinished:K,isIterable:N,isReadableNodeStream:p,isReadableStream:C,isReadableEnded:z,isReadableFinished:W,isReadableErrored:pe,isNodeStream:S,isWebStream:E,isWritable:Ce,isWritableNodeStream:m,isWritableStream:R,isWritableEnded:V,isWritableFinished:L,isWritableErrored:re,isServerRequest:xe,isServerResponse:rt,willEmitClose:lt,isTransformStream:T},V0}var tE;function pc(){if(tE)return by.exports;tE=1;const e=zf(),{AbortError:t,codes:r}=Ba(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_PREMATURE_CLOSE:a}=r,{kEmptyObject:l,once:s}=ao(),{validateAbortSignal:u,validateFunction:d,validateObject:c,validateBoolean:p}=dm(),{Promise:m,PromisePrototypeThen:w,SymbolDispose:S}=Ai(),{isClosed:C,isReadable:R,isReadableNodeStream:T,isReadableStream:E,isReadableFinished:N,isReadableErrored:O,isWritable:V,isWritableNodeStream:L,isWritableStream:z,isWritableFinished:W,isWritableErrored:$,isNodeStream:Ce,willEmitClose:K,kIsClosedPromise:re}=su();let pe;function _e(he){return he.setHeader&&typeof he.abort=="function"}const et=()=>{};function rt(he,nt,Y){var Re,Ke;if(arguments.length===2?(Y=nt,nt=l):nt==null?nt=l:c(nt,"options"),d(Y,"callback"),u(nt.signal,"options.signal"),Y=s(Y),E(he)||z(he))return xe(he,nt,Y);if(!Ce(he))throw new i("stream",["ReadableStream","WritableStream","Stream"],he);const Ue=(Re=nt.readable)!==null&&Re!==void 0?Re:T(he),at=(Ke=nt.writable)!==null&&Ke!==void 0?Ke:L(he),It=he._writableState,Nt=he._readableState,Me=()=>{he.writable||Ye()};let ue=K(he)&&T(he)===Ue&&L(he)===at,Ie=W(he,!1);const Ye=()=>{Ie=!0,he.destroyed&&(ue=!1),!(ue&&(!he.readable||Ue))&&(!Ue||se)&&Y.call(he)};let se=N(he,!1);const k=()=>{se=!0,he.destroyed&&(ue=!1),!(ue&&(!he.writable||at))&&(!at||Ie)&&Y.call(he)},D=Pe=>{Y.call(he,Pe)};let q=C(he);const ne=()=>{q=!0;const Pe=$(he)||O(he);if(Pe&&typeof Pe!="boolean")return Y.call(he,Pe);if(Ue&&!se&&T(he,!0)&&!N(he,!1))return Y.call(he,new a);if(at&&!Ie&&!W(he,!1))return Y.call(he,new a);Y.call(he)},Ee=()=>{q=!0;const Pe=$(he)||O(he);if(Pe&&typeof Pe!="boolean")return Y.call(he,Pe);Y.call(he)},Ne=()=>{he.req.on("finish",Ye)};_e(he)?(he.on("complete",Ye),ue||he.on("abort",ne),he.req?Ne():he.on("request",Ne)):at&&!It&&(he.on("end",Me),he.on("close",Me)),!ue&&typeof he.aborted=="boolean"&&he.on("aborted",ne),he.on("end",k),he.on("finish",Ye),nt.error!==!1&&he.on("error",D),he.on("close",ne),q?e.nextTick(ne):It!=null&&It.errorEmitted||Nt!=null&&Nt.errorEmitted?ue||e.nextTick(Ee):(!Ue&&(!ue||R(he))&&(Ie||V(he)===!1)||!at&&(!ue||V(he))&&(se||R(he)===!1)||Nt&&he.req&&he.aborted)&&e.nextTick(Ee);const ct=()=>{Y=et,he.removeListener("aborted",ne),he.removeListener("complete",Ye),he.removeListener("abort",ne),he.removeListener("request",Ne),he.req&&he.req.removeListener("finish",Ye),he.removeListener("end",Me),he.removeListener("close",Me),he.removeListener("finish",Ye),he.removeListener("end",k),he.removeListener("error",D),he.removeListener("close",ne)};if(nt.signal&&!q){const Pe=()=>{const mt=Y;ct(),mt.call(he,new t(void 0,{cause:nt.signal.reason}))};if(nt.signal.aborted)e.nextTick(Pe);else{pe=pe||ao().addAbortListener;const mt=pe(nt.signal,Pe),Ot=Y;Y=s((...wt)=>{mt[S](),Ot.apply(he,wt)})}}return ct}function xe(he,nt,Y){let Re=!1,Ke=et;if(nt.signal)if(Ke=()=>{Re=!0,Y.call(he,new t(void 0,{cause:nt.signal.reason}))},nt.signal.aborted)e.nextTick(Ke);else{pe=pe||ao().addAbortListener;const at=pe(nt.signal,Ke),It=Y;Y=s((...Nt)=>{at[S](),It.apply(he,Nt)})}const Ue=(...at)=>{Re||e.nextTick(()=>Y.apply(he,at))};return w(he[re].promise,Ue,Ue),et}function lt(he,nt){var Y;let Re=!1;return nt===null&&(nt=l),(Y=nt)!==null&&Y!==void 0&&Y.cleanup&&(p(nt.cleanup,"cleanup"),Re=nt.cleanup),new m((Ke,Ue)=>{const at=rt(he,nt,It=>{Re&&at(),It?Ue(It):Ke()})})}return by.exports=rt,by.exports.finished=lt,by.exports}var $0,nE;function vh(){if(nE)return $0;nE=1;const e=zf(),{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:i}=Ba(),{Symbol:a}=Ai(),{kIsDestroyed:l,isDestroyed:s,isFinished:u,isServerRequest:d}=su(),c=a("kDestroy"),p=a("kConstruct");function m(K,re,pe){K&&(K.stack,re&&!re.errored&&(re.errored=K),pe&&!pe.errored&&(pe.errored=K))}function w(K,re){const pe=this._readableState,_e=this._writableState,et=_e||pe;return _e!=null&&_e.destroyed||pe!=null&&pe.destroyed?(typeof re=="function"&&re(),this):(m(K,_e,pe),_e&&(_e.destroyed=!0),pe&&(pe.destroyed=!0),et.constructed?S(this,K,re):this.once(c,function(rt){S(this,t(rt,K),re)}),this)}function S(K,re,pe){let _e=!1;function et(rt){if(_e)return;_e=!0;const xe=K._readableState,lt=K._writableState;m(rt,lt,xe),lt&&(lt.closed=!0),xe&&(xe.closed=!0),typeof pe=="function"&&pe(rt),rt?e.nextTick(C,K,rt):e.nextTick(R,K)}try{K._destroy(re||null,et)}catch(rt){et(rt)}}function C(K,re){T(K,re),R(K)}function R(K){const re=K._readableState,pe=K._writableState;pe&&(pe.closeEmitted=!0),re&&(re.closeEmitted=!0),(pe!=null&&pe.emitClose||re!=null&&re.emitClose)&&K.emit("close")}function T(K,re){const pe=K._readableState,_e=K._writableState;_e!=null&&_e.errorEmitted||pe!=null&&pe.errorEmitted||(_e&&(_e.errorEmitted=!0),pe&&(pe.errorEmitted=!0),K.emit("error",re))}function E(){const K=this._readableState,re=this._writableState;K&&(K.constructed=!0,K.closed=!1,K.closeEmitted=!1,K.destroyed=!1,K.errored=null,K.errorEmitted=!1,K.reading=!1,K.ended=K.readable===!1,K.endEmitted=K.readable===!1),re&&(re.constructed=!0,re.destroyed=!1,re.closed=!1,re.closeEmitted=!1,re.errored=null,re.errorEmitted=!1,re.finalCalled=!1,re.prefinished=!1,re.ended=re.writable===!1,re.ending=re.writable===!1,re.finished=re.writable===!1)}function N(K,re,pe){const _e=K._readableState,et=K._writableState;if(et!=null&&et.destroyed||_e!=null&&_e.destroyed)return this;_e!=null&&_e.autoDestroy||et!=null&&et.autoDestroy?K.destroy(re):re&&(re.stack,et&&!et.errored&&(et.errored=re),_e&&!_e.errored&&(_e.errored=re),pe?e.nextTick(T,K,re):T(K,re))}function O(K,re){if(typeof K._construct!="function")return;const pe=K._readableState,_e=K._writableState;pe&&(pe.constructed=!1),_e&&(_e.constructed=!1),K.once(p,re),!(K.listenerCount(p)>1)&&e.nextTick(V,K)}function V(K){let re=!1;function pe(_e){if(re){N(K,_e??new r);return}re=!0;const et=K._readableState,rt=K._writableState,xe=rt||et;et&&(et.constructed=!0),rt&&(rt.constructed=!0),xe.destroyed?K.emit(c,_e):_e?N(K,_e,!0):e.nextTick(L,K)}try{K._construct(_e=>{e.nextTick(pe,_e)})}catch(_e){e.nextTick(pe,_e)}}function L(K){K.emit(p)}function z(K){return K?.setHeader&&typeof K.abort=="function"}function W(K){K.emit("close")}function $(K,re){K.emit("error",re),e.nextTick(W,K)}function Ce(K,re){!K||s(K)||(!re&&!u(K)&&(re=new i),d(K)?(K.socket=null,K.destroy(re)):z(K)?K.abort():z(K.req)?K.req.abort():typeof K.destroy=="function"?K.destroy(re):typeof K.close=="function"?K.close():re?e.nextTick($,K,re):e.nextTick(W,K),K.destroyed||(K[l]=!0))}return $0={construct:O,destroyer:Ce,destroy:w,undestroy:E,errorOrDestroy:N},$0}var K0,rE;function kw(){if(rE)return K0;rE=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=Ai(),{EventEmitter:r}=qf();function i(l){r.call(this,l)}t(i.prototype,r.prototype),t(i,r),i.prototype.pipe=function(l,s){const u=this;function d(R){l.writable&&l.write(R)===!1&&u.pause&&u.pause()}u.on("data",d);function c(){u.readable&&u.resume&&u.resume()}l.on("drain",c),!l._isStdio&&(!s||s.end!==!1)&&(u.on("end",m),u.on("close",w));let p=!1;function m(){p||(p=!0,l.end())}function w(){p||(p=!0,typeof l.destroy=="function"&&l.destroy())}function S(R){C(),r.listenerCount(this,"error")===0&&this.emit("error",R)}a(u,"error",S),a(l,"error",S);function C(){u.removeListener("data",d),l.removeListener("drain",c),u.removeListener("end",m),u.removeListener("close",w),u.removeListener("error",S),l.removeListener("error",S),u.removeListener("end",C),u.removeListener("close",C),l.removeListener("close",C)}return u.on("end",C),u.on("close",C),l.on("close",C),l.emit("pipe",u),l};function a(l,s,u){if(typeof l.prependListener=="function")return l.prependListener(s,u);!l._events||!l._events[s]?l.on(s,u):e(l._events[s])?l._events[s].unshift(u):l._events[s]=[u,l._events[s]]}return K0={Stream:i,prependListener:a},K0}var G0={exports:{}},iE;function wv(){return iE||(iE=1,function(e){const{SymbolDispose:t}=Ai(),{AbortError:r,codes:i}=Ba(),{isNodeStream:a,isWebStream:l,kControllerErrorFunction:s}=su(),u=pc(),{ERR_INVALID_ARG_TYPE:d}=i;let c;const p=(m,w)=>{if(typeof m!="object"||!("aborted"in m))throw new d(w,"AbortSignal",m)};e.exports.addAbortSignal=function(w,S){if(p(w,"signal"),!a(S)&&!l(S))throw new d("stream",["ReadableStream","WritableStream","Stream"],S);return e.exports.addAbortSignalNoValidate(w,S)},e.exports.addAbortSignalNoValidate=function(m,w){if(typeof m!="object"||!("aborted"in m))return w;const S=a(w)?()=>{w.destroy(new r(void 0,{cause:m.reason}))}:()=>{w[s](new r(void 0,{cause:m.reason}))};if(m.aborted)S();else{c=c||ao().addAbortListener;const C=c(m,S);u(w,C[t])}return w}}(G0)),G0.exports}var q0,aE;function SO(){if(aE)return q0;aE=1;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:r,Uint8Array:i}=Ai(),{Buffer:a}=Xs(),{inspect:l}=ao();return q0=class{constructor(){this.head=null,this.tail=null,this.length=0}push(u){const d={data:u,next:null};this.length>0?this.tail.next=d:this.head=d,this.tail=d,++this.length}unshift(u){const d={data:u,next:this.head};this.length===0&&(this.tail=d),this.head=d,++this.length}shift(){if(this.length===0)return;const u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}clear(){this.head=this.tail=null,this.length=0}join(u){if(this.length===0)return"";let d=this.head,c=""+d.data;for(;(d=d.next)!==null;)c+=u+d.data;return c}concat(u){if(this.length===0)return a.alloc(0);const d=a.allocUnsafe(u>>>0);let c=this.head,p=0;for(;c;)r(d,c.data,p),p+=c.data.length,c=c.next;return d}consume(u,d){const c=this.head.data;if(u<c.length){const p=c.slice(0,u);return this.head.data=c.slice(u),p}return u===c.length?this.shift():d?this._getString(u):this._getBuffer(u)}first(){return this.head.data}*[t](){for(let u=this.head;u;u=u.next)yield u.data}_getString(u){let d="",c=this.head,p=0;do{const m=c.data;if(u>m.length)d+=m,u-=m.length;else{u===m.length?(d+=m,++p,c.next?this.head=c.next:this.head=this.tail=null):(d+=e(m,0,u),this.head=c,c.data=e(m,u));break}++p}while((c=c.next)!==null);return this.length-=p,d}_getBuffer(u){const d=a.allocUnsafe(u),c=u;let p=this.head,m=0;do{const w=p.data;if(u>w.length)r(d,w,c-u),u-=w.length;else{u===w.length?(r(d,w,c-u),++m,p.next?this.head=p.next:this.head=this.tail=null):(r(d,new i(w.buffer,w.byteOffset,u),c-u),this.head=p,p.data=w.slice(u));break}++m}while((p=p.next)!==null);return this.length-=m,d}[Symbol.for("nodejs.util.inspect.custom")](u,d){return l(this,{...d,depth:0,customInspect:!1})}},q0}var z0,oE;function _v(){if(oE)return z0;oE=1;const{MathFloor:e,NumberIsInteger:t}=Ai(),{validateInteger:r}=dm(),{ERR_INVALID_ARG_VALUE:i}=Ba().codes;let a=16*1024,l=16;function s(p,m,w){return p.highWaterMark!=null?p.highWaterMark:m?p[w]:null}function u(p){return p?l:a}function d(p,m){r(m,"value",0),p?l=m:a=m}function c(p,m,w,S){const C=s(m,S,w);if(C!=null){if(!t(C)||C<0){const R=S?`options.${w}`:"options.highWaterMark";throw new i(R,C)}return e(C)}return u(p.objectMode)}return z0={getHighWaterMark:c,getDefaultHighWaterMark:u,setDefaultHighWaterMark:d},z0}var W0={},wy={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var sE;function EO(){return sE||(sE=1,function(e,t){var r=Xs(),i=r.Buffer;function a(s,u){for(var d in s)u[d]=s[d]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=l);function l(s,u,d){return i(s,u,d)}l.prototype=Object.create(i.prototype),a(i,l),l.from=function(s,u,d){if(typeof s=="number")throw new TypeError("Argument must not be a number");return i(s,u,d)},l.alloc=function(s,u,d){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=i(s);return u!==void 0?typeof d=="string"?c.fill(u,d):c.fill(u):c.fill(0),c},l.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return i(s)},l.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}}(wy,wy.exports)),wy.exports}var lE;function AO(){if(lE)return W0;lE=1;var e=EO().Buffer,t=e.isEncoding||function(E){switch(E=""+E,E&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(E){if(!E)return"utf8";for(var N;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(N)return;E=(""+E).toLowerCase(),N=!0}}function i(E){var N=r(E);if(typeof N!="string"&&(e.isEncoding===t||!t(E)))throw new Error("Unknown encoding: "+E);return N||E}W0.StringDecoder=a;function a(E){this.encoding=i(E);var N;switch(this.encoding){case"utf16le":this.text=m,this.end=w,N=4;break;case"utf8":this.fillLast=d,N=4;break;case"base64":this.text=S,this.end=C,N=3;break;default:this.write=R,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(N)}a.prototype.write=function(E){if(E.length===0)return"";var N,O;if(this.lastNeed){if(N=this.fillLast(E),N===void 0)return"";O=this.lastNeed,this.lastNeed=0}else O=0;return O<E.length?N?N+this.text(E,O):this.text(E,O):N||""},a.prototype.end=p,a.prototype.text=c,a.prototype.fillLast=function(E){if(this.lastNeed<=E.length)return E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,E.length),this.lastNeed-=E.length};function l(E){return E<=127?0:E>>5===6?2:E>>4===14?3:E>>3===30?4:E>>6===2?-1:-2}function s(E,N,O){var V=N.length-1;if(V<O)return 0;var L=l(N[V]);return L>=0?(L>0&&(E.lastNeed=L-1),L):--V<O||L===-2?0:(L=l(N[V]),L>=0?(L>0&&(E.lastNeed=L-2),L):--V<O||L===-2?0:(L=l(N[V]),L>=0?(L>0&&(L===2?L=0:E.lastNeed=L-3),L):0))}function u(E,N,O){if((N[0]&192)!==128)return E.lastNeed=0,"";if(E.lastNeed>1&&N.length>1){if((N[1]&192)!==128)return E.lastNeed=1,"";if(E.lastNeed>2&&N.length>2&&(N[2]&192)!==128)return E.lastNeed=2,""}}function d(E){var N=this.lastTotal-this.lastNeed,O=u(this,E);if(O!==void 0)return O;if(this.lastNeed<=E.length)return E.copy(this.lastChar,N,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,N,0,E.length),this.lastNeed-=E.length}function c(E,N){var O=s(this,E,N);if(!this.lastNeed)return E.toString("utf8",N);this.lastTotal=O;var V=E.length-(O-this.lastNeed);return E.copy(this.lastChar,0,V),E.toString("utf8",N,V)}function p(E){var N=E&&E.length?this.write(E):"";return this.lastNeed?N+"":N}function m(E,N){if((E.length-N)%2===0){var O=E.toString("utf16le",N);if(O){var V=O.charCodeAt(O.length-1);if(V>=55296&&V<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1],O.slice(0,-1)}return O}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=E[E.length-1],E.toString("utf16le",N,E.length-1)}function w(E){var N=E&&E.length?this.write(E):"";if(this.lastNeed){var O=this.lastTotal-this.lastNeed;return N+this.lastChar.toString("utf16le",0,O)}return N}function S(E,N){var O=(E.length-N)%3;return O===0?E.toString("base64",N):(this.lastNeed=3-O,this.lastTotal=3,O===1?this.lastChar[0]=E[E.length-1]:(this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1]),E.toString("base64",N,E.length-O))}function C(E){var N=E&&E.length?this.write(E):"";return this.lastNeed?N+this.lastChar.toString("base64",0,3-this.lastNeed):N}function R(E){return E.toString(this.encoding)}function T(E){return E&&E.length?this.write(E):""}return W0}var J0,uE;function Sx(){if(uE)return J0;uE=1;const e=zf(),{PromisePrototypeThen:t,SymbolAsyncIterator:r,SymbolIterator:i}=Ai(),{Buffer:a}=Xs(),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:s}=Ba().codes;function u(d,c,p){let m;if(typeof c=="string"||c instanceof a)return new d({objectMode:!0,...p,read(){this.push(c),this.push(null)}});let w;if(c&&c[r])w=!0,m=c[r]();else if(c&&c[i])w=!1,m=c[i]();else throw new l("iterable",["Iterable"],c);const S=new d({objectMode:!0,highWaterMark:1,...p});let C=!1;S._read=function(){C||(C=!0,T())},S._destroy=function(E,N){t(R(E),()=>e.nextTick(N,E),O=>e.nextTick(N,O||E))};async function R(E){const N=E!=null,O=typeof m.throw=="function";if(N&&O){const{value:V,done:L}=await m.throw(E);if(await V,L)return}if(typeof m.return=="function"){const{value:V}=await m.return();await V}}async function T(){for(;;){try{const{value:E,done:N}=w?await m.next():m.next();if(N)S.push(null);else{const O=E&&typeof E.then=="function"?await E:E;if(O===null)throw C=!1,new s;if(S.push(O))continue;C=!1}}catch(E){S.destroy(E)}break}}return S}return J0=u,J0}var Y0,cE;function Sv(){if(cE)return Y0;cE=1;const e=zf(),{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:i,NumberParseInt:a,ObjectDefineProperties:l,ObjectKeys:s,ObjectSetPrototypeOf:u,Promise:d,SafeSet:c,SymbolAsyncDispose:p,SymbolAsyncIterator:m,Symbol:w}=Ai();Y0=wt,wt.ReadableState=Ot;const{EventEmitter:S}=qf(),{Stream:C,prependListener:R}=kw(),{Buffer:T}=Xs(),{addAbortSignal:E}=wv(),N=pc();let O=ao().debuglog("stream",ce=>{O=ce});const V=SO(),L=vh(),{getHighWaterMark:z,getDefaultHighWaterMark:W}=_v(),{aggregateTwoErrors:$,codes:{ERR_INVALID_ARG_TYPE:Ce,ERR_METHOD_NOT_IMPLEMENTED:K,ERR_OUT_OF_RANGE:re,ERR_STREAM_PUSH_AFTER_EOF:pe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:_e},AbortError:et}=Ba(),{validateObject:rt}=dm(),xe=w("kPaused"),{StringDecoder:lt}=AO(),he=Sx();u(wt.prototype,C.prototype),u(wt,C);const nt=()=>{},{errorOrDestroy:Y}=L,Re=1,Ke=2,Ue=4,at=8,It=16,Nt=32,Me=64,ue=128,Ie=256,Ye=512,se=1024,k=2048,D=4096,q=8192,ne=16384,Ee=32768,Ne=65536,ct=1<<17,Pe=1<<18;function mt(ce){return{enumerable:!1,get(){return(this.state&ce)!==0},set(ve){ve?this.state|=ce:this.state&=~ce}}}l(Ot.prototype,{objectMode:mt(Re),ended:mt(Ke),endEmitted:mt(Ue),reading:mt(at),constructed:mt(It),sync:mt(Nt),needReadable:mt(Me),emittedReadable:mt(ue),readableListening:mt(Ie),resumeScheduled:mt(Ye),errorEmitted:mt(se),emitClose:mt(k),autoDestroy:mt(D),destroyed:mt(q),closed:mt(ne),closeEmitted:mt(Ee),multiAwaitDrain:mt(Ne),readingMore:mt(ct),dataEmitted:mt(Pe)});function Ot(ce,ve,Tt){typeof Tt!="boolean"&&(Tt=ve instanceof nu()),this.state=k|D|It|Nt,ce&&ce.objectMode&&(this.state|=Re),Tt&&ce&&ce.readableObjectMode&&(this.state|=Re),this.highWaterMark=ce?z(this,ce,"readableHighWaterMark",Tt):W(!1),this.buffer=new V,this.length=0,this.pipes=[],this.flowing=null,this[xe]=null,ce&&ce.emitClose===!1&&(this.state&=~k),ce&&ce.autoDestroy===!1&&(this.state&=~D),this.errored=null,this.defaultEncoding=ce&&ce.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,ce&&ce.encoding&&(this.decoder=new lt(ce.encoding),this.encoding=ce.encoding)}function wt(ce){if(!(this instanceof wt))return new wt(ce);const ve=this instanceof nu();this._readableState=new Ot(ce,this,ve),ce&&(typeof ce.read=="function"&&(this._read=ce.read),typeof ce.destroy=="function"&&(this._destroy=ce.destroy),typeof ce.construct=="function"&&(this._construct=ce.construct),ce.signal&&!ve&&E(ce.signal,this)),C.call(this,ce),L.construct(this,()=>{this._readableState.needReadable&&Je(this,this._readableState)})}wt.prototype.destroy=L.destroy,wt.prototype._undestroy=L.undestroy,wt.prototype._destroy=function(ce,ve){ve(ce)},wt.prototype[S.captureRejectionSymbol]=function(ce){this.destroy(ce)},wt.prototype[p]=function(){let ce;return this.destroyed||(ce=this.readableEnded?null:new et,this.destroy(ce)),new d((ve,Tt)=>N(this,Ct=>Ct&&Ct!==ce?Tt(Ct):ve(null)))},wt.prototype.push=function(ce,ve){return Qe(this,ce,ve,!1)},wt.prototype.unshift=function(ce,ve){return Qe(this,ce,ve,!0)};function Qe(ce,ve,Tt,Ct){O("readableAddChunk",ve);const Ft=ce._readableState;let Zt;if((Ft.state&Re)===0&&(typeof ve=="string"?(Tt=Tt||Ft.defaultEncoding,Ft.encoding!==Tt&&(Ct&&Ft.encoding?ve=T.from(ve,Tt).toString(Ft.encoding):(ve=T.from(ve,Tt),Tt=""))):ve instanceof T?Tt="":C._isUint8Array(ve)?(ve=C._uint8ArrayToBuffer(ve),Tt=""):ve!=null&&(Zt=new Ce("chunk",["string","Buffer","Uint8Array"],ve))),Zt)Y(ce,Zt);else if(ve===null)Ft.state&=~at,j(ce,Ft);else if((Ft.state&Re)!==0||ve&&ve.length>0)if(Ct)if((Ft.state&Ue)!==0)Y(ce,new _e);else{if(Ft.destroyed||Ft.errored)return!1;We(ce,Ft,ve,!0)}else if(Ft.ended)Y(ce,new pe);else{if(Ft.destroyed||Ft.errored)return!1;Ft.state&=~at,Ft.decoder&&!Tt?(ve=Ft.decoder.write(ve),Ft.objectMode||ve.length!==0?We(ce,Ft,ve,!1):Je(ce,Ft)):We(ce,Ft,ve,!1)}else Ct||(Ft.state&=~at,Je(ce,Ft));return!Ft.ended&&(Ft.length<Ft.highWaterMark||Ft.length===0)}function We(ce,ve,Tt,Ct){ve.flowing&&ve.length===0&&!ve.sync&&ce.listenerCount("data")>0?((ve.state&Ne)!==0?ve.awaitDrainWriters.clear():ve.awaitDrainWriters=null,ve.dataEmitted=!0,ce.emit("data",Tt)):(ve.length+=ve.objectMode?1:Tt.length,Ct?ve.buffer.unshift(Tt):ve.buffer.push(Tt),(ve.state&Me)!==0&&G(ce)),Je(ce,ve)}wt.prototype.isPaused=function(){const ce=this._readableState;return ce[xe]===!0||ce.flowing===!1},wt.prototype.setEncoding=function(ce){const ve=new lt(ce);this._readableState.decoder=ve,this._readableState.encoding=this._readableState.decoder.encoding;const Tt=this._readableState.buffer;let Ct="";for(const Ft of Tt)Ct+=ve.write(Ft);return Tt.clear(),Ct!==""&&Tt.push(Ct),this._readableState.length=Ct.length,this};const Fe=1073741824;function dt(ce){if(ce>Fe)throw new re("size","<= 1GiB",ce);return ce--,ce|=ce>>>1,ce|=ce>>>2,ce|=ce>>>4,ce|=ce>>>8,ce|=ce>>>16,ce++,ce}function X(ce,ve){return ce<=0||ve.length===0&&ve.ended?0:(ve.state&Re)!==0?1:i(ce)?ve.flowing&&ve.length?ve.buffer.first().length:ve.length:ce<=ve.length?ce:ve.ended?ve.length:0}wt.prototype.read=function(ce){O("read",ce),ce===void 0?ce=NaN:r(ce)||(ce=a(ce,10));const ve=this._readableState,Tt=ce;if(ce>ve.highWaterMark&&(ve.highWaterMark=dt(ce)),ce!==0&&(ve.state&=~ue),ce===0&&ve.needReadable&&((ve.highWaterMark!==0?ve.length>=ve.highWaterMark:ve.length>0)||ve.ended))return O("read: emitReadable",ve.length,ve.ended),ve.length===0&&ve.ended?pt(this):G(this),null;if(ce=X(ce,ve),ce===0&&ve.ended)return ve.length===0&&pt(this),null;let Ct=(ve.state&Me)!==0;if(O("need readable",Ct),(ve.length===0||ve.length-ce<ve.highWaterMark)&&(Ct=!0,O("length less than watermark",Ct)),ve.ended||ve.reading||ve.destroyed||ve.errored||!ve.constructed)Ct=!1,O("reading, ended or constructing",Ct);else if(Ct){O("do read"),ve.state|=at|Nt,ve.length===0&&(ve.state|=Me);try{this._read(ve.highWaterMark)}catch(Zt){Y(this,Zt)}ve.state&=~Nt,ve.reading||(ce=X(Tt,ve))}let Ft;return ce>0?Ft=Be(ce,ve):Ft=null,Ft===null?(ve.needReadable=ve.length<=ve.highWaterMark,ce=0):(ve.length-=ce,ve.multiAwaitDrain?ve.awaitDrainWriters.clear():ve.awaitDrainWriters=null),ve.length===0&&(ve.ended||(ve.needReadable=!0),Tt!==ce&&ve.ended&&pt(this)),Ft!==null&&!ve.errorEmitted&&!ve.closeEmitted&&(ve.dataEmitted=!0,this.emit("data",Ft)),Ft};function j(ce,ve){if(O("onEofChunk"),!ve.ended){if(ve.decoder){const Tt=ve.decoder.end();Tt&&Tt.length&&(ve.buffer.push(Tt),ve.length+=ve.objectMode?1:Tt.length)}ve.ended=!0,ve.sync?G(ce):(ve.needReadable=!1,ve.emittedReadable=!0,H(ce))}}function G(ce){const ve=ce._readableState;O("emitReadable",ve.needReadable,ve.emittedReadable),ve.needReadable=!1,ve.emittedReadable||(O("emitReadable",ve.flowing),ve.emittedReadable=!0,e.nextTick(H,ce))}function H(ce){const ve=ce._readableState;O("emitReadable_",ve.destroyed,ve.length,ve.ended),!ve.destroyed&&!ve.errored&&(ve.length||ve.ended)&&(ce.emit("readable"),ve.emittedReadable=!1),ve.needReadable=!ve.flowing&&!ve.ended&&ve.length<=ve.highWaterMark,qe(ce)}function Je(ce,ve){!ve.readingMore&&ve.constructed&&(ve.readingMore=!0,e.nextTick(it,ce,ve))}function it(ce,ve){for(;!ve.reading&&!ve.ended&&(ve.length<ve.highWaterMark||ve.flowing&&ve.length===0);){const Tt=ve.length;if(O("maybeReadMore read 0"),ce.read(0),Tt===ve.length)break}ve.readingMore=!1}wt.prototype._read=function(ce){throw new K("_read()")},wt.prototype.pipe=function(ce,ve){const Tt=this,Ct=this._readableState;Ct.pipes.length===1&&(Ct.multiAwaitDrain||(Ct.multiAwaitDrain=!0,Ct.awaitDrainWriters=new c(Ct.awaitDrainWriters?[Ct.awaitDrainWriters]:[]))),Ct.pipes.push(ce),O("pipe count=%d opts=%j",Ct.pipes.length,ve);const Zt=(!ve||ve.end!==!1)&&ce!==e.stdout&&ce!==e.stderr?Mn:ln;Ct.endEmitted?e.nextTick(Zt):Tt.once("end",Zt),ce.on("unpipe",nn);function nn(Gt,er){O("onunpipe"),Gt===Tt&&er&&er.hasUnpiped===!1&&(er.hasUnpiped=!0,vn())}function Mn(){O("onend"),ce.end()}let $t,en=!1;function vn(){O("cleanup"),ce.removeListener("close",Jn),ce.removeListener("finish",mn),$t&&ce.removeListener("drain",$t),ce.removeListener("error",xn),ce.removeListener("unpipe",nn),Tt.removeListener("end",Mn),Tt.removeListener("end",ln),Tt.removeListener("data",Ln),en=!0,$t&&Ct.awaitDrainWriters&&(!ce._writableState||ce._writableState.needDrain)&&$t()}function on(){en||(Ct.pipes.length===1&&Ct.pipes[0]===ce?(O("false write response, pause",0),Ct.awaitDrainWriters=ce,Ct.multiAwaitDrain=!1):Ct.pipes.length>1&&Ct.pipes.includes(ce)&&(O("false write response, pause",Ct.awaitDrainWriters.size),Ct.awaitDrainWriters.add(ce)),Tt.pause()),$t||($t=Xe(Tt,ce),ce.on("drain",$t))}Tt.on("data",Ln);function Ln(Gt){O("ondata");const er=ce.write(Gt);O("dest.write",er),er===!1&&on()}function xn(Gt){if(O("onerror",Gt),ln(),ce.removeListener("error",xn),ce.listenerCount("error")===0){const er=ce._writableState||ce._readableState;er&&!er.errorEmitted?Y(ce,Gt):ce.emit("error",Gt)}}R(ce,"error",xn);function Jn(){ce.removeListener("finish",mn),ln()}ce.once("close",Jn);function mn(){O("onfinish"),ce.removeListener("close",Jn),ln()}ce.once("finish",mn);function ln(){O("unpipe"),Tt.unpipe(ce)}return ce.emit("pipe",Tt),ce.writableNeedDrain===!0?on():Ct.flowing||(O("pipe resume"),Tt.resume()),ce};function Xe(ce,ve){return function(){const Ct=ce._readableState;Ct.awaitDrainWriters===ve?(O("pipeOnDrain",1),Ct.awaitDrainWriters=null):Ct.multiAwaitDrain&&(O("pipeOnDrain",Ct.awaitDrainWriters.size),Ct.awaitDrainWriters.delete(ve)),(!Ct.awaitDrainWriters||Ct.awaitDrainWriters.size===0)&&ce.listenerCount("data")&&ce.resume()}}wt.prototype.unpipe=function(ce){const ve=this._readableState,Tt={hasUnpiped:!1};if(ve.pipes.length===0)return this;if(!ce){const Ft=ve.pipes;ve.pipes=[],this.pause();for(let Zt=0;Zt<Ft.length;Zt++)Ft[Zt].emit("unpipe",this,{hasUnpiped:!1});return this}const Ct=t(ve.pipes,ce);return Ct===-1?this:(ve.pipes.splice(Ct,1),ve.pipes.length===0&&this.pause(),ce.emit("unpipe",this,Tt),this)},wt.prototype.on=function(ce,ve){const Tt=C.prototype.on.call(this,ce,ve),Ct=this._readableState;return ce==="data"?(Ct.readableListening=this.listenerCount("readable")>0,Ct.flowing!==!1&&this.resume()):ce==="readable"&&!Ct.endEmitted&&!Ct.readableListening&&(Ct.readableListening=Ct.needReadable=!0,Ct.flowing=!1,Ct.emittedReadable=!1,O("on readable",Ct.length,Ct.reading),Ct.length?G(this):Ct.reading||e.nextTick(Vn,this)),Tt},wt.prototype.addListener=wt.prototype.on,wt.prototype.removeListener=function(ce,ve){const Tt=C.prototype.removeListener.call(this,ce,ve);return ce==="readable"&&e.nextTick(Yt,this),Tt},wt.prototype.off=wt.prototype.removeListener,wt.prototype.removeAllListeners=function(ce){const ve=C.prototype.removeAllListeners.apply(this,arguments);return(ce==="readable"||ce===void 0)&&e.nextTick(Yt,this),ve};function Yt(ce){const ve=ce._readableState;ve.readableListening=ce.listenerCount("readable")>0,ve.resumeScheduled&&ve[xe]===!1?ve.flowing=!0:ce.listenerCount("data")>0?ce.resume():ve.readableListening||(ve.flowing=null)}function Vn(ce){O("readable nexttick read 0"),ce.read(0)}wt.prototype.resume=function(){const ce=this._readableState;return ce.flowing||(O("resume"),ce.flowing=!ce.readableListening,Gn(this,ce)),ce[xe]=!1,this};function Gn(ce,ve){ve.resumeScheduled||(ve.resumeScheduled=!0,e.nextTick(sn,ce,ve))}function sn(ce,ve){O("resume",ve.reading),ve.reading||ce.read(0),ve.resumeScheduled=!1,ce.emit("resume"),qe(ce),ve.flowing&&!ve.reading&&ce.read(0)}wt.prototype.pause=function(){return O("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(O("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[xe]=!0,this};function qe(ce){const ve=ce._readableState;for(O("flow",ve.flowing);ve.flowing&&ce.read()!==null;);}wt.prototype.wrap=function(ce){let ve=!1;ce.on("data",Ct=>{!this.push(Ct)&&ce.pause&&(ve=!0,ce.pause())}),ce.on("end",()=>{this.push(null)}),ce.on("error",Ct=>{Y(this,Ct)}),ce.on("close",()=>{this.destroy()}),ce.on("destroy",()=>{this.destroy()}),this._read=()=>{ve&&ce.resume&&(ve=!1,ce.resume())};const Tt=s(ce);for(let Ct=1;Ct<Tt.length;Ct++){const Ft=Tt[Ct];this[Ft]===void 0&&typeof ce[Ft]=="function"&&(this[Ft]=ce[Ft].bind(ce))}return this},wt.prototype[m]=function(){return bt(this)},wt.prototype.iterator=function(ce){return ce!==void 0&&rt(ce,"options"),bt(this,ce)};function bt(ce,ve){typeof ce.read!="function"&&(ce=wt.wrap(ce,{objectMode:!0}));const Tt=ft(ce,ve);return Tt.stream=ce,Tt}async function*ft(ce,ve){let Tt=nt;function Ct(nn){this===ce?(Tt(),Tt=nt):Tt=nn}ce.on("readable",Ct);let Ft;const Zt=N(ce,{writable:!1},nn=>{Ft=nn?$(Ft,nn):null,Tt(),Tt=nt});try{for(;;){const nn=ce.destroyed?null:ce.read();if(nn!==null)yield nn;else{if(Ft)throw Ft;if(Ft===null)return;await new d(Ct)}}}catch(nn){throw Ft=$(Ft,nn),Ft}finally{(Ft||ve?.destroyOnReturn!==!1)&&(Ft===void 0||ce._readableState.autoDestroy)?L.destroyer(ce,null):(ce.off("readable",Ct),Zt())}}l(wt.prototype,{readable:{__proto__:null,get(){const ce=this._readableState;return!!ce&&ce.readable!==!1&&!ce.destroyed&&!ce.errorEmitted&&!ce.endEmitted},set(ce){this._readableState&&(this._readableState.readable=!!ce)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(ce){this._readableState&&(this._readableState.flowing=ce)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(ce){this._readableState&&(this._readableState.destroyed=ce)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),l(Ot.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[xe]!==!1},set(ce){this[xe]=!!ce}}}),wt._fromList=Be;function Be(ce,ve){if(ve.length===0)return null;let Tt;return ve.objectMode?Tt=ve.buffer.shift():!ce||ce>=ve.length?(ve.decoder?Tt=ve.buffer.join(""):ve.buffer.length===1?Tt=ve.buffer.first():Tt=ve.buffer.concat(ve.length),ve.buffer.clear()):Tt=ve.buffer.consume(ce,ve.decoder),Tt}function pt(ce){const ve=ce._readableState;O("endReadable",ve.endEmitted),ve.endEmitted||(ve.ended=!0,e.nextTick(Qt,ve,ce))}function Qt(ce,ve){if(O("endReadableNT",ce.endEmitted,ce.length),!ce.errored&&!ce.closeEmitted&&!ce.endEmitted&&ce.length===0){if(ce.endEmitted=!0,ve.emit("end"),ve.writable&&ve.allowHalfOpen===!1)e.nextTick(zt,ve);else if(ce.autoDestroy){const Tt=ve._writableState;(!Tt||Tt.autoDestroy&&(Tt.finished||Tt.writable===!1))&&ve.destroy()}}}function zt(ce){ce.writable&&!ce.writableEnded&&!ce.destroyed&&ce.end()}wt.from=function(ce,ve){return he(wt,ce,ve)};let tn;function Ht(){return tn===void 0&&(tn={}),tn}return wt.fromWeb=function(ce,ve){return Ht().newStreamReadableFromReadableStream(ce,ve)},wt.toWeb=function(ce,ve){return Ht().newReadableStreamFromStreamReadable(ce,ve)},wt.wrap=function(ce,ve){var Tt,Ct;return new wt({objectMode:(Tt=(Ct=ce.readableObjectMode)!==null&&Ct!==void 0?Ct:ce.objectMode)!==null&&Tt!==void 0?Tt:!0,...ve,destroy(Ft,Zt){L.destroyer(ce,Ft),Zt(Ft)}}).wrap(ce)},Y0}var X0,fE;function jw(){if(fE)return X0;fE=1;const e=zf(),{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:i,ObjectDefineProperty:a,ObjectDefineProperties:l,ObjectSetPrototypeOf:s,StringPrototypeToLowerCase:u,Symbol:d,SymbolHasInstance:c}=Ai();X0=rt,rt.WritableState=_e;const{EventEmitter:p}=qf(),m=kw().Stream,{Buffer:w}=Xs(),S=vh(),{addAbortSignal:C}=wv(),{getHighWaterMark:R,getDefaultHighWaterMark:T}=_v(),{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:N,ERR_MULTIPLE_CALLBACK:O,ERR_STREAM_CANNOT_PIPE:V,ERR_STREAM_DESTROYED:L,ERR_STREAM_ALREADY_FINISHED:z,ERR_STREAM_NULL_VALUES:W,ERR_STREAM_WRITE_AFTER_END:$,ERR_UNKNOWN_ENCODING:Ce}=Ba().codes,{errorOrDestroy:K}=S;s(rt.prototype,m.prototype),s(rt,m);function re(){}const pe=d("kOnFinished");function _e(D,q,ne){typeof ne!="boolean"&&(ne=q instanceof nu()),this.objectMode=!!(D&&D.objectMode),ne&&(this.objectMode=this.objectMode||!!(D&&D.writableObjectMode)),this.highWaterMark=D?R(this,D,"writableHighWaterMark",ne):T(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const Ee=!!(D&&D.decodeStrings===!1);this.decodeStrings=!Ee,this.defaultEncoding=D&&D.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Y.bind(void 0,q),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,et(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!D||D.emitClose!==!1,this.autoDestroy=!D||D.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[pe]=[]}function et(D){D.buffered=[],D.bufferedIndex=0,D.allBuffers=!0,D.allNoop=!0}_e.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},a(_e.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function rt(D){const q=this instanceof nu();if(!q&&!i(rt,this))return new rt(D);this._writableState=new _e(D,this,q),D&&(typeof D.write=="function"&&(this._write=D.write),typeof D.writev=="function"&&(this._writev=D.writev),typeof D.destroy=="function"&&(this._destroy=D.destroy),typeof D.final=="function"&&(this._final=D.final),typeof D.construct=="function"&&(this._construct=D.construct),D.signal&&C(D.signal,this)),m.call(this,D),S.construct(this,()=>{const ne=this._writableState;ne.writing||at(this,ne),ue(this,ne)})}a(rt,c,{__proto__:null,value:function(D){return i(this,D)?!0:this!==rt?!1:D&&D._writableState instanceof _e}}),rt.prototype.pipe=function(){K(this,new V)};function xe(D,q,ne,Ee){const Ne=D._writableState;if(typeof ne=="function")Ee=ne,ne=Ne.defaultEncoding;else{if(!ne)ne=Ne.defaultEncoding;else if(ne!=="buffer"&&!w.isEncoding(ne))throw new Ce(ne);typeof Ee!="function"&&(Ee=re)}if(q===null)throw new W;if(!Ne.objectMode)if(typeof q=="string")Ne.decodeStrings!==!1&&(q=w.from(q,ne),ne="buffer");else if(q instanceof w)ne="buffer";else if(m._isUint8Array(q))q=m._uint8ArrayToBuffer(q),ne="buffer";else throw new E("chunk",["string","Buffer","Uint8Array"],q);let ct;return Ne.ending?ct=new $:Ne.destroyed&&(ct=new L("write")),ct?(e.nextTick(Ee,ct),K(D,ct,!0),ct):(Ne.pendingcb++,lt(D,Ne,q,ne,Ee))}rt.prototype.write=function(D,q,ne){return xe(this,D,q,ne)===!0},rt.prototype.cork=function(){this._writableState.corked++},rt.prototype.uncork=function(){const D=this._writableState;D.corked&&(D.corked--,D.writing||at(this,D))},rt.prototype.setDefaultEncoding=function(q){if(typeof q=="string"&&(q=u(q)),!w.isEncoding(q))throw new Ce(q);return this._writableState.defaultEncoding=q,this};function lt(D,q,ne,Ee,Ne){const ct=q.objectMode?1:ne.length;q.length+=ct;const Pe=q.length<q.highWaterMark;return Pe||(q.needDrain=!0),q.writing||q.corked||q.errored||!q.constructed?(q.buffered.push({chunk:ne,encoding:Ee,callback:Ne}),q.allBuffers&&Ee!=="buffer"&&(q.allBuffers=!1),q.allNoop&&Ne!==re&&(q.allNoop=!1)):(q.writelen=ct,q.writecb=Ne,q.writing=!0,q.sync=!0,D._write(ne,Ee,q.onwrite),q.sync=!1),Pe&&!q.errored&&!q.destroyed}function he(D,q,ne,Ee,Ne,ct,Pe){q.writelen=Ee,q.writecb=Pe,q.writing=!0,q.sync=!0,q.destroyed?q.onwrite(new L("write")):ne?D._writev(Ne,q.onwrite):D._write(Ne,ct,q.onwrite),q.sync=!1}function nt(D,q,ne,Ee){--q.pendingcb,Ee(ne),Ue(q),K(D,ne)}function Y(D,q){const ne=D._writableState,Ee=ne.sync,Ne=ne.writecb;if(typeof Ne!="function"){K(D,new O);return}ne.writing=!1,ne.writecb=null,ne.length-=ne.writelen,ne.writelen=0,q?(q.stack,ne.errored||(ne.errored=q),D._readableState&&!D._readableState.errored&&(D._readableState.errored=q),Ee?e.nextTick(nt,D,ne,q,Ne):nt(D,ne,q,Ne)):(ne.buffered.length>ne.bufferedIndex&&at(D,ne),Ee?ne.afterWriteTickInfo!==null&&ne.afterWriteTickInfo.cb===Ne?ne.afterWriteTickInfo.count++:(ne.afterWriteTickInfo={count:1,cb:Ne,stream:D,state:ne},e.nextTick(Re,ne.afterWriteTickInfo)):Ke(D,ne,1,Ne))}function Re({stream:D,state:q,count:ne,cb:Ee}){return q.afterWriteTickInfo=null,Ke(D,q,ne,Ee)}function Ke(D,q,ne,Ee){for(!q.ending&&!D.destroyed&&q.length===0&&q.needDrain&&(q.needDrain=!1,D.emit("drain"));ne-- >0;)q.pendingcb--,Ee();q.destroyed&&Ue(q),ue(D,q)}function Ue(D){if(D.writing)return;for(let Ne=D.bufferedIndex;Ne<D.buffered.length;++Ne){var q;const{chunk:ct,callback:Pe}=D.buffered[Ne],mt=D.objectMode?1:ct.length;D.length-=mt,Pe((q=D.errored)!==null&&q!==void 0?q:new L("write"))}const ne=D[pe].splice(0);for(let Ne=0;Ne<ne.length;Ne++){var Ee;ne[Ne]((Ee=D.errored)!==null&&Ee!==void 0?Ee:new L("end"))}et(D)}function at(D,q){if(q.corked||q.bufferProcessing||q.destroyed||!q.constructed)return;const{buffered:ne,bufferedIndex:Ee,objectMode:Ne}=q,ct=ne.length-Ee;if(!ct)return;let Pe=Ee;if(q.bufferProcessing=!0,ct>1&&D._writev){q.pendingcb-=ct-1;const mt=q.allNoop?re:wt=>{for(let Qe=Pe;Qe<ne.length;++Qe)ne[Qe].callback(wt)},Ot=q.allNoop&&Pe===0?ne:t(ne,Pe);Ot.allBuffers=q.allBuffers,he(D,q,!0,q.length,Ot,"",mt),et(q)}else{do{const{chunk:mt,encoding:Ot,callback:wt}=ne[Pe];ne[Pe++]=null;const Qe=Ne?1:mt.length;he(D,q,!1,Qe,mt,Ot,wt)}while(Pe<ne.length&&!q.writing);Pe===ne.length?et(q):Pe>256?(ne.splice(0,Pe),q.bufferedIndex=0):q.bufferedIndex=Pe}q.bufferProcessing=!1}rt.prototype._write=function(D,q,ne){if(this._writev)this._writev([{chunk:D,encoding:q}],ne);else throw new N("_write()")},rt.prototype._writev=null,rt.prototype.end=function(D,q,ne){const Ee=this._writableState;typeof D=="function"?(ne=D,D=null,q=null):typeof q=="function"&&(ne=q,q=null);let Ne;if(D!=null){const ct=xe(this,D,q);ct instanceof r&&(Ne=ct)}return Ee.corked&&(Ee.corked=1,this.uncork()),Ne||(!Ee.errored&&!Ee.ending?(Ee.ending=!0,ue(this,Ee,!0),Ee.ended=!0):Ee.finished?Ne=new z("end"):Ee.destroyed&&(Ne=new L("end"))),typeof ne=="function"&&(Ne||Ee.finished?e.nextTick(ne,Ne):Ee[pe].push(ne)),this};function It(D){return D.ending&&!D.destroyed&&D.constructed&&D.length===0&&!D.errored&&D.buffered.length===0&&!D.finished&&!D.writing&&!D.errorEmitted&&!D.closeEmitted}function Nt(D,q){let ne=!1;function Ee(Ne){if(ne){K(D,Ne??O());return}if(ne=!0,q.pendingcb--,Ne){const ct=q[pe].splice(0);for(let Pe=0;Pe<ct.length;Pe++)ct[Pe](Ne);K(D,Ne,q.sync)}else It(q)&&(q.prefinished=!0,D.emit("prefinish"),q.pendingcb++,e.nextTick(Ie,D,q))}q.sync=!0,q.pendingcb++;try{D._final(Ee)}catch(Ne){Ee(Ne)}q.sync=!1}function Me(D,q){!q.prefinished&&!q.finalCalled&&(typeof D._final=="function"&&!q.destroyed?(q.finalCalled=!0,Nt(D,q)):(q.prefinished=!0,D.emit("prefinish")))}function ue(D,q,ne){It(q)&&(Me(D,q),q.pendingcb===0&&(ne?(q.pendingcb++,e.nextTick((Ee,Ne)=>{It(Ne)?Ie(Ee,Ne):Ne.pendingcb--},D,q)):It(q)&&(q.pendingcb++,Ie(D,q))))}function Ie(D,q){q.pendingcb--,q.finished=!0;const ne=q[pe].splice(0);for(let Ee=0;Ee<ne.length;Ee++)ne[Ee]();if(D.emit("finish"),q.autoDestroy){const Ee=D._readableState;(!Ee||Ee.autoDestroy&&(Ee.endEmitted||Ee.readable===!1))&&D.destroy()}}l(rt.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(D){this._writableState&&(this._writableState.destroyed=D)}},writable:{__proto__:null,get(){const D=this._writableState;return!!D&&D.writable!==!1&&!D.destroyed&&!D.errored&&!D.ending&&!D.ended},set(D){this._writableState&&(this._writableState.writable=!!D)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const D=this._writableState;return D?!D.destroyed&&!D.ending&&D.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Ye=S.destroy;rt.prototype.destroy=function(D,q){const ne=this._writableState;return!ne.destroyed&&(ne.bufferedIndex<ne.buffered.length||ne[pe].length)&&e.nextTick(Ue,ne),Ye.call(this,D,q),this},rt.prototype._undestroy=S.undestroy,rt.prototype._destroy=function(D,q){q(D)},rt.prototype[p.captureRejectionSymbol]=function(D){this.destroy(D)};let se;function k(){return se===void 0&&(se={}),se}return rt.fromWeb=function(D,q){return k().newStreamWritableFromWritableStream(D,q)},rt.toWeb=function(D){return k().newWritableStreamFromStreamWritable(D)},X0}var Q0,dE;function xO(){if(dE)return Q0;dE=1;const e=zf(),t=Xs(),{isReadable:r,isWritable:i,isIterable:a,isNodeStream:l,isReadableNodeStream:s,isWritableNodeStream:u,isDuplexNodeStream:d,isReadableStream:c,isWritableStream:p}=su(),m=pc(),{AbortError:w,codes:{ERR_INVALID_ARG_TYPE:S,ERR_INVALID_RETURN_VALUE:C}}=Ba(),{destroyer:R}=vh(),T=nu(),E=Sv(),N=jw(),{createDeferredPromise:O}=ao(),V=Sx(),L=globalThis.Blob||t.Blob,z=typeof L<"u"?function(_e){return _e instanceof L}:function(_e){return!1},W=globalThis.AbortController||Zg().AbortController,{FunctionPrototypeCall:$}=Ai();class Ce extends T{constructor(_e){super(_e),_e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),_e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}Q0=function pe(_e,et){if(d(_e))return _e;if(s(_e))return re({readable:_e});if(u(_e))return re({writable:_e});if(l(_e))return re({writable:!1,readable:!1});if(c(_e))return re({readable:E.fromWeb(_e)});if(p(_e))return re({writable:N.fromWeb(_e)});if(typeof _e=="function"){const{value:xe,write:lt,final:he,destroy:nt}=K(_e);if(a(xe))return V(Ce,xe,{objectMode:!0,write:lt,final:he,destroy:nt});const Y=xe?.then;if(typeof Y=="function"){let Re;const Ke=$(Y,xe,Ue=>{if(Ue!=null)throw new C("nully","body",Ue)},Ue=>{R(Re,Ue)});return Re=new Ce({objectMode:!0,readable:!1,write:lt,final(Ue){he(async()=>{try{await Ke,e.nextTick(Ue,null)}catch(at){e.nextTick(Ue,at)}})},destroy:nt})}throw new C("Iterable, AsyncIterable or AsyncFunction",et,xe)}if(z(_e))return pe(_e.arrayBuffer());if(a(_e))return V(Ce,_e,{objectMode:!0,writable:!1});if(c(_e?.readable)&&p(_e?.writable))return Ce.fromWeb(_e);if(typeof _e?.writable=="object"||typeof _e?.readable=="object"){const xe=_e!=null&&_e.readable?s(_e?.readable)?_e?.readable:pe(_e.readable):void 0,lt=_e!=null&&_e.writable?u(_e?.writable)?_e?.writable:pe(_e.writable):void 0;return re({readable:xe,writable:lt})}const rt=_e?.then;if(typeof rt=="function"){let xe;return $(rt,_e,lt=>{lt!=null&&xe.push(lt),xe.push(null)},lt=>{R(xe,lt)}),xe=new Ce({objectMode:!0,writable:!1,read(){}})}throw new S(et,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],_e)};function K(pe){let{promise:_e,resolve:et}=O();const rt=new W,xe=rt.signal;return{value:pe(async function*(){for(;;){const he=_e;_e=null;const{chunk:nt,done:Y,cb:Re}=await he;if(e.nextTick(Re),Y)return;if(xe.aborted)throw new w(void 0,{cause:xe.reason});({promise:_e,resolve:et}=O()),yield nt}}(),{signal:xe}),write(he,nt,Y){const Re=et;et=null,Re({chunk:he,done:!1,cb:Y})},final(he){const nt=et;et=null,nt({done:!0,cb:he})},destroy(he,nt){rt.abort(),nt(he)}}}function re(pe){const _e=pe.readable&&typeof pe.readable.read!="function"?E.wrap(pe.readable):pe.readable,et=pe.writable;let rt=!!r(_e),xe=!!i(et),lt,he,nt,Y,Re;function Ke(Ue){const at=Y;Y=null,at?at(Ue):Ue&&Re.destroy(Ue)}return Re=new Ce({readableObjectMode:!!(_e!=null&&_e.readableObjectMode),writableObjectMode:!!(et!=null&&et.writableObjectMode),readable:rt,writable:xe}),xe&&(m(et,Ue=>{xe=!1,Ue&&R(_e,Ue),Ke(Ue)}),Re._write=function(Ue,at,It){et.write(Ue,at)?It():lt=It},Re._final=function(Ue){et.end(),he=Ue},et.on("drain",function(){if(lt){const Ue=lt;lt=null,Ue()}}),et.on("finish",function(){if(he){const Ue=he;he=null,Ue()}})),rt&&(m(_e,Ue=>{rt=!1,Ue&&R(_e,Ue),Ke(Ue)}),_e.on("readable",function(){if(nt){const Ue=nt;nt=null,Ue()}}),_e.on("end",function(){Re.push(null)}),Re._read=function(){for(;;){const Ue=_e.read();if(Ue===null){nt=Re._read;return}if(!Re.push(Ue))return}}),Re._destroy=function(Ue,at){!Ue&&Y!==null&&(Ue=new w),nt=null,lt=null,he=null,Y===null?at(Ue):(Y=at,R(et,Ue),R(_e,Ue))},Re}return Q0}var Z0,hE;function nu(){if(hE)return Z0;hE=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:i}=Ai();Z0=s;const a=Sv(),l=jw();i(s.prototype,a.prototype),i(s,a);{const p=r(l.prototype);for(let m=0;m<p.length;m++){const w=p[m];s.prototype[w]||(s.prototype[w]=l.prototype[w])}}function s(p){if(!(this instanceof s))return new s(p);a.call(this,p),l.call(this,p),p?(this.allowHalfOpen=p.allowHalfOpen!==!1,p.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),p.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(s.prototype,{writable:{__proto__:null,...t(l.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(l.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(l.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(l.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(l.prototype,"writableLength")},writableFinished:{__proto__:null,...t(l.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(l.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(l.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(l.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(p){this._readableState&&this._writableState&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}});let u;function d(){return u===void 0&&(u={}),u}s.fromWeb=function(p,m){return d().newStreamDuplexFromReadableWritablePair(p,m)},s.toWeb=function(p){return d().newReadableWritablePairFromDuplex(p)};let c;return s.from=function(p){return c||(c=xO()),c(p,"body")},Z0}var eb,pE;function Ex(){if(pE)return eb;pE=1;const{ObjectSetPrototypeOf:e,Symbol:t}=Ai();eb=s;const{ERR_METHOD_NOT_IMPLEMENTED:r}=Ba().codes,i=nu(),{getHighWaterMark:a}=_v();e(s.prototype,i.prototype),e(s,i);const l=t("kCallback");function s(c){if(!(this instanceof s))return new s(c);const p=c?a(this,c,"readableHighWaterMark",!0):null;p===0&&(c={...c,highWaterMark:null,readableHighWaterMark:p,writableHighWaterMark:c.writableHighWaterMark||0}),i.call(this,c),this._readableState.sync=!1,this[l]=null,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",d)}function u(c){typeof this._flush=="function"&&!this.destroyed?this._flush((p,m)=>{if(p){c?c(p):this.destroy(p);return}m!=null&&this.push(m),this.push(null),c&&c()}):(this.push(null),c&&c())}function d(){this._final!==u&&u.call(this)}return s.prototype._final=u,s.prototype._transform=function(c,p,m){throw new r("_transform()")},s.prototype._write=function(c,p,m){const w=this._readableState,S=this._writableState,C=w.length;this._transform(c,p,(R,T)=>{if(R){m(R);return}T!=null&&this.push(T),S.ended||C===w.length||w.length<w.highWaterMark?m():this[l]=m})},s.prototype._read=function(){if(this[l]){const c=this[l];this[l]=null,c()}},eb}var tb,gE;function Ax(){if(gE)return tb;gE=1;const{ObjectSetPrototypeOf:e}=Ai();tb=r;const t=Ex();e(r.prototype,t.prototype),e(r,t);function r(i){if(!(this instanceof r))return new r(i);t.call(this,i)}return r.prototype._transform=function(i,a,l){l(null,i)},tb}var nb,mE;function Bw(){if(mE)return nb;mE=1;const e=zf(),{ArrayIsArray:t,Promise:r,SymbolAsyncIterator:i,SymbolDispose:a}=Ai(),l=pc(),{once:s}=ao(),u=vh(),d=nu(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:m,ERR_MISSING_ARGS:w,ERR_STREAM_DESTROYED:S,ERR_STREAM_PREMATURE_CLOSE:C},AbortError:R}=Ba(),{validateFunction:T,validateAbortSignal:E}=dm(),{isIterable:N,isReadable:O,isReadableNodeStream:V,isNodeStream:L,isTransformStream:z,isWebStream:W,isReadableStream:$,isReadableFinished:Ce}=su(),K=globalThis.AbortController||Zg().AbortController;let re,pe,_e;function et(Ue,at,It){let Nt=!1;Ue.on("close",()=>{Nt=!0});const Me=l(Ue,{readable:at,writable:It},ue=>{Nt=!ue});return{destroy:ue=>{Nt||(Nt=!0,u.destroyer(Ue,ue||new S("pipe")))},cleanup:Me}}function rt(Ue){return T(Ue[Ue.length-1],"streams[stream.length - 1]"),Ue.pop()}function xe(Ue){if(N(Ue))return Ue;if(V(Ue))return lt(Ue);throw new p("val",["Readable","Iterable","AsyncIterable"],Ue)}async function*lt(Ue){pe||(pe=Sv()),yield*pe.prototype[i].call(Ue)}async function he(Ue,at,It,{end:Nt}){let Me,ue=null;const Ie=k=>{if(k&&(Me=k),ue){const D=ue;ue=null,D()}},Ye=()=>new r((k,D)=>{Me?D(Me):ue=()=>{Me?D(Me):k()}});at.on("drain",Ie);const se=l(at,{readable:!1},Ie);try{at.writableNeedDrain&&await Ye();for await(const k of Ue)at.write(k)||await Ye();Nt&&(at.end(),await Ye()),It()}catch(k){It(Me!==k?c(Me,k):k)}finally{se(),at.off("drain",Ie)}}async function nt(Ue,at,It,{end:Nt}){z(at)&&(at=at.writable);const Me=at.getWriter();try{for await(const ue of Ue)await Me.ready,Me.write(ue).catch(()=>{});await Me.ready,Nt&&await Me.close(),It()}catch(ue){try{await Me.abort(ue),It(ue)}catch(Ie){It(Ie)}}}function Y(...Ue){return Re(Ue,s(rt(Ue)))}function Re(Ue,at,It){if(Ue.length===1&&t(Ue[0])&&(Ue=Ue[0]),Ue.length<2)throw new w("streams");const Nt=new K,Me=Nt.signal,ue=It?.signal,Ie=[];E(ue,"options.signal");function Ye(){Ne(new R)}_e=_e||ao().addAbortListener;let se;ue&&(se=_e(ue,Ye));let k,D;const q=[];let ne=0;function Ee(wt){Ne(wt,--ne===0)}function Ne(wt,Qe){var We;if(wt&&(!k||k.code==="ERR_STREAM_PREMATURE_CLOSE")&&(k=wt),!(!k&&!Qe)){for(;q.length;)q.shift()(k);(We=se)===null||We===void 0||We[a](),Nt.abort(),Qe&&(k||Ie.forEach(Fe=>Fe()),e.nextTick(at,k,D))}}let ct;for(let wt=0;wt<Ue.length;wt++){const Qe=Ue[wt],We=wt<Ue.length-1,Fe=wt>0,dt=We||It?.end!==!1,X=wt===Ue.length-1;if(L(Qe)){let j=function(G){G&&G.name!=="AbortError"&&G.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Ee(G)};var Ot=j;if(dt){const{destroy:G,cleanup:H}=et(Qe,We,Fe);q.push(G),O(Qe)&&X&&Ie.push(H)}Qe.on("error",j),O(Qe)&&X&&Ie.push(()=>{Qe.removeListener("error",j)})}if(wt===0)if(typeof Qe=="function"){if(ct=Qe({signal:Me}),!N(ct))throw new m("Iterable, AsyncIterable or Stream","source",ct)}else N(Qe)||V(Qe)||z(Qe)?ct=Qe:ct=d.from(Qe);else if(typeof Qe=="function"){if(z(ct)){var Pe;ct=xe((Pe=ct)===null||Pe===void 0?void 0:Pe.readable)}else ct=xe(ct);if(ct=Qe(ct,{signal:Me}),We){if(!N(ct,!0))throw new m("AsyncIterable",`transform[${wt-1}]`,ct)}else{var mt;re||(re=Ax());const j=new re({objectMode:!0}),G=(mt=ct)===null||mt===void 0?void 0:mt.then;if(typeof G=="function")ne++,G.call(ct,it=>{D=it,it!=null&&j.write(it),dt&&j.end(),e.nextTick(Ee)},it=>{j.destroy(it),e.nextTick(Ee,it)});else if(N(ct,!0))ne++,he(ct,j,Ee,{end:dt});else if($(ct)||z(ct)){const it=ct.readable||ct;ne++,he(it,j,Ee,{end:dt})}else throw new m("AsyncIterable or Promise","destination",ct);ct=j;const{destroy:H,cleanup:Je}=et(ct,!1,!0);q.push(H),X&&Ie.push(Je)}}else if(L(Qe)){if(V(ct)){ne+=2;const j=Ke(ct,Qe,Ee,{end:dt});O(Qe)&&X&&Ie.push(j)}else if(z(ct)||$(ct)){const j=ct.readable||ct;ne++,he(j,Qe,Ee,{end:dt})}else if(N(ct))ne++,he(ct,Qe,Ee,{end:dt});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ct);ct=Qe}else if(W(Qe)){if(V(ct))ne++,nt(xe(ct),Qe,Ee,{end:dt});else if($(ct)||N(ct))ne++,nt(ct,Qe,Ee,{end:dt});else if(z(ct))ne++,nt(ct.readable,Qe,Ee,{end:dt});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ct);ct=Qe}else ct=d.from(Qe)}return(Me!=null&&Me.aborted||ue!=null&&ue.aborted)&&e.nextTick(Ye),ct}function Ke(Ue,at,It,{end:Nt}){let Me=!1;if(at.on("close",()=>{Me||It(new C)}),Ue.pipe(at,{end:!1}),Nt){let Ie=function(){Me=!0,at.end()};var ue=Ie;Ce(Ue)?e.nextTick(Ie):Ue.once("end",Ie)}else It();return l(Ue,{readable:!0,writable:!1},Ie=>{const Ye=Ue._readableState;Ie&&Ie.code==="ERR_STREAM_PREMATURE_CLOSE"&&Ye&&Ye.ended&&!Ye.errored&&!Ye.errorEmitted?Ue.once("end",It).once("error",It):It(Ie)}),l(at,{readable:!1,writable:!0},It)}return nb={pipelineImpl:Re,pipeline:Y},nb}var rb,yE;function xx(){if(yE)return rb;yE=1;const{pipeline:e}=Bw(),t=nu(),{destroyer:r}=vh(),{isNodeStream:i,isReadable:a,isWritable:l,isWebStream:s,isTransformStream:u,isWritableStream:d,isReadableStream:c}=su(),{AbortError:p,codes:{ERR_INVALID_ARG_VALUE:m,ERR_MISSING_ARGS:w}}=Ba(),S=pc();return rb=function(...R){if(R.length===0)throw new w("streams");if(R.length===1)return t.from(R[0]);const T=[...R];if(typeof R[0]=="function"&&(R[0]=t.from(R[0])),typeof R[R.length-1]=="function"){const re=R.length-1;R[re]=t.from(R[re])}for(let re=0;re<R.length;++re)if(!(!i(R[re])&&!s(R[re]))){if(re<R.length-1&&!(a(R[re])||c(R[re])||u(R[re])))throw new m(`streams[${re}]`,T[re],"must be readable");if(re>0&&!(l(R[re])||d(R[re])||u(R[re])))throw new m(`streams[${re}]`,T[re],"must be writable")}let E,N,O,V,L;function z(re){const pe=V;V=null,pe?pe(re):re?L.destroy(re):!K&&!Ce&&L.destroy()}const W=R[0],$=e(R,z),Ce=!!(l(W)||d(W)||u(W)),K=!!(a($)||c($)||u($));if(L=new t({writableObjectMode:!!(W!=null&&W.writableObjectMode),readableObjectMode:!!($!=null&&$.readableObjectMode),writable:Ce,readable:K}),Ce){if(i(W))L._write=function(pe,_e,et){W.write(pe,_e)?et():E=et},L._final=function(pe){W.end(),N=pe},W.on("drain",function(){if(E){const pe=E;E=null,pe()}});else if(s(W)){const _e=(u(W)?W.writable:W).getWriter();L._write=async function(et,rt,xe){try{await _e.ready,_e.write(et).catch(()=>{}),xe()}catch(lt){xe(lt)}},L._final=async function(et){try{await _e.ready,_e.close().catch(()=>{}),N=et}catch(rt){et(rt)}}}const re=u($)?$.readable:$;S(re,()=>{if(N){const pe=N;N=null,pe()}})}if(K){if(i($))$.on("readable",function(){if(O){const re=O;O=null,re()}}),$.on("end",function(){L.push(null)}),L._read=function(){for(;;){const re=$.read();if(re===null){O=L._read;return}if(!L.push(re))return}};else if(s($)){const pe=(u($)?$.readable:$).getReader();L._read=async function(){for(;;)try{const{value:_e,done:et}=await pe.read();if(!L.push(_e))return;if(et){L.push(null);return}}catch{return}}}}return L._destroy=function(re,pe){!re&&V!==null&&(re=new p),O=null,E=null,N=null,V===null?pe(re):(V=pe,i($)&&r($,re))},L},rb}var vE;function RO(){if(vE)return vy;vE=1;const e=globalThis.AbortController||Zg().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:i,ERR_OUT_OF_RANGE:a},AbortError:l}=Ba(),{validateAbortSignal:s,validateInteger:u,validateObject:d}=dm(),c=Ai().Symbol("kWeak"),p=Ai().Symbol("kResistStopPropagation"),{finished:m}=pc(),w=xx(),{addAbortSignalNoValidate:S}=wv(),{isWritable:C,isNodeStream:R}=su(),{deprecate:T}=ao(),{ArrayPrototypePush:E,Boolean:N,MathFloor:O,Number:V,NumberIsNaN:L,Promise:z,PromiseReject:W,PromiseResolve:$,PromisePrototypeThen:Ce,Symbol:K}=Ai(),re=K("kEmpty"),pe=K("kEof");function _e(ue,Ie){if(Ie!=null&&d(Ie,"options"),Ie?.signal!=null&&s(Ie.signal,"options.signal"),R(ue)&&!C(ue))throw new t("stream",ue,"must be writable");const Ye=w(this,ue);return Ie!=null&&Ie.signal&&S(Ie.signal,Ye),Ye}function et(ue,Ie){if(typeof ue!="function")throw new r("fn",["Function","AsyncFunction"],ue);Ie!=null&&d(Ie,"options"),Ie?.signal!=null&&s(Ie.signal,"options.signal");let Ye=1;Ie?.concurrency!=null&&(Ye=O(Ie.concurrency));let se=Ye-1;return Ie?.highWaterMark!=null&&(se=O(Ie.highWaterMark)),u(Ye,"options.concurrency",1),u(se,"options.highWaterMark",0),se+=Ye,(async function*(){const D=ao().AbortSignalAny([Ie?.signal].filter(N)),q=this,ne=[],Ee={signal:D};let Ne,ct,Pe=!1,mt=0;function Ot(){Pe=!0,wt()}function wt(){mt-=1,Qe()}function Qe(){ct&&!Pe&&mt<Ye&&ne.length<se&&(ct(),ct=null)}async function We(){try{for await(let Fe of q){if(Pe)return;if(D.aborted)throw new l;try{if(Fe=ue(Fe,Ee),Fe===re)continue;Fe=$(Fe)}catch(dt){Fe=W(dt)}mt+=1,Ce(Fe,wt,Ot),ne.push(Fe),Ne&&(Ne(),Ne=null),!Pe&&(ne.length>=se||mt>=Ye)&&await new z(dt=>{ct=dt})}ne.push(pe)}catch(Fe){const dt=W(Fe);Ce(dt,wt,Ot),ne.push(dt)}finally{Pe=!0,Ne&&(Ne(),Ne=null)}}We();try{for(;;){for(;ne.length>0;){const Fe=await ne[0];if(Fe===pe)return;if(D.aborted)throw new l;Fe!==re&&(yield Fe),ne.shift(),Qe()}await new z(Fe=>{Ne=Fe})}}finally{Pe=!0,ct&&(ct(),ct=null)}}).call(this)}function rt(ue=void 0){return ue!=null&&d(ue,"options"),ue?.signal!=null&&s(ue.signal,"options.signal"),(async function*(){let Ye=0;for await(const k of this){var se;if(ue!=null&&(se=ue.signal)!==null&&se!==void 0&&se.aborted)throw new l({cause:ue.signal.reason});yield[Ye++,k]}}).call(this)}async function xe(ue,Ie=void 0){for await(const Ye of Y.call(this,ue,Ie))return!0;return!1}async function lt(ue,Ie=void 0){if(typeof ue!="function")throw new r("fn",["Function","AsyncFunction"],ue);return!await xe.call(this,async(...Ye)=>!await ue(...Ye),Ie)}async function he(ue,Ie){for await(const Ye of Y.call(this,ue,Ie))return Ye}async function nt(ue,Ie){if(typeof ue!="function")throw new r("fn",["Function","AsyncFunction"],ue);async function Ye(se,k){return await ue(se,k),re}for await(const se of et.call(this,Ye,Ie));}function Y(ue,Ie){if(typeof ue!="function")throw new r("fn",["Function","AsyncFunction"],ue);async function Ye(se,k){return await ue(se,k)?se:re}return et.call(this,Ye,Ie)}class Re extends i{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function Ke(ue,Ie,Ye){var se;if(typeof ue!="function")throw new r("reducer",["Function","AsyncFunction"],ue);Ye!=null&&d(Ye,"options"),Ye?.signal!=null&&s(Ye.signal,"options.signal");let k=arguments.length>1;if(Ye!=null&&(se=Ye.signal)!==null&&se!==void 0&&se.aborted){const Ne=new l(void 0,{cause:Ye.signal.reason});throw this.once("error",()=>{}),await m(this.destroy(Ne)),Ne}const D=new e,q=D.signal;if(Ye!=null&&Ye.signal){const Ne={once:!0,[c]:this,[p]:!0};Ye.signal.addEventListener("abort",()=>D.abort(),Ne)}let ne=!1;try{for await(const Ne of this){var Ee;if(ne=!0,Ye!=null&&(Ee=Ye.signal)!==null&&Ee!==void 0&&Ee.aborted)throw new l;k?Ie=await ue(Ie,Ne,{signal:q}):(Ie=Ne,k=!0)}if(!ne&&!k)throw new Re}finally{D.abort()}return Ie}async function Ue(ue){ue!=null&&d(ue,"options"),ue?.signal!=null&&s(ue.signal,"options.signal");const Ie=[];for await(const se of this){var Ye;if(ue!=null&&(Ye=ue.signal)!==null&&Ye!==void 0&&Ye.aborted)throw new l(void 0,{cause:ue.signal.reason});E(Ie,se)}return Ie}function at(ue,Ie){const Ye=et.call(this,ue,Ie);return(async function*(){for await(const k of Ye)yield*k}).call(this)}function It(ue){if(ue=V(ue),L(ue))return 0;if(ue<0)throw new a("number",">= 0",ue);return ue}function Nt(ue,Ie=void 0){return Ie!=null&&d(Ie,"options"),Ie?.signal!=null&&s(Ie.signal,"options.signal"),ue=It(ue),(async function*(){var se;if(Ie!=null&&(se=Ie.signal)!==null&&se!==void 0&&se.aborted)throw new l;for await(const D of this){var k;if(Ie!=null&&(k=Ie.signal)!==null&&k!==void 0&&k.aborted)throw new l;ue--<=0&&(yield D)}}).call(this)}function Me(ue,Ie=void 0){return Ie!=null&&d(Ie,"options"),Ie?.signal!=null&&s(Ie.signal,"options.signal"),ue=It(ue),(async function*(){var se;if(Ie!=null&&(se=Ie.signal)!==null&&se!==void 0&&se.aborted)throw new l;for await(const D of this){var k;if(Ie!=null&&(k=Ie.signal)!==null&&k!==void 0&&k.aborted)throw new l;if(ue-- >0&&(yield D),ue<=0)return}}).call(this)}return vy.streamReturningOperators={asIndexedPairs:T(rt,"readable.asIndexedPairs will be removed in a future version."),drop:Nt,filter:Y,flatMap:at,map:et,take:Me,compose:_e},vy.promiseReturningOperators={every:lt,forEach:nt,reduce:Ke,toArray:Ue,some:xe,find:he},vy}var ib,bE;function Rx(){if(bE)return ib;bE=1;const{ArrayPrototypePop:e,Promise:t}=Ai(),{isIterable:r,isNodeStream:i,isWebStream:a}=su(),{pipelineImpl:l}=Bw(),{finished:s}=pc();Cx();function u(...d){return new t((c,p)=>{let m,w;const S=d[d.length-1];if(S&&typeof S=="object"&&!i(S)&&!r(S)&&!a(S)){const C=e(d);m=C.signal,w=C.end}l(d,(C,R)=>{C?p(C):c(R)},{signal:m,end:w})})}return ib={finished:s,pipeline:u},ib}var wE;function Cx(){if(wE)return M0.exports;wE=1;const{Buffer:e}=Xs(),{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:i}=Ai(),{promisify:{custom:a}}=ao(),{streamReturningOperators:l,promiseReturningOperators:s}=RO(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=Ba(),d=xx(),{setDefaultHighWaterMark:c,getDefaultHighWaterMark:p}=_v(),{pipeline:m}=Bw(),{destroyer:w}=vh(),S=pc(),C=Rx(),R=su(),T=M0.exports=kw().Stream;T.isDestroyed=R.isDestroyed,T.isDisturbed=R.isDisturbed,T.isErrored=R.isErrored,T.isReadable=R.isReadable,T.isWritable=R.isWritable,T.Readable=Sv();for(const O of r(l)){let L=function(...z){if(new.target)throw u();return T.Readable.from(i(V,this,z))};var N=L;const V=l[O];t(L,"name",{__proto__:null,value:V.name}),t(L,"length",{__proto__:null,value:V.length}),t(T.Readable.prototype,O,{__proto__:null,value:L,enumerable:!1,configurable:!0,writable:!0})}for(const O of r(s)){let L=function(...W){if(new.target)throw u();return i(V,this,W)};var N=L;const V=s[O];t(L,"name",{__proto__:null,value:V.name}),t(L,"length",{__proto__:null,value:V.length}),t(T.Readable.prototype,O,{__proto__:null,value:L,enumerable:!1,configurable:!0,writable:!0})}T.Writable=jw(),T.Duplex=nu(),T.Transform=Ex(),T.PassThrough=Ax(),T.pipeline=m;const{addAbortSignal:E}=wv();return T.addAbortSignal=E,T.finished=S,T.destroy=w,T.compose=d,T.setDefaultHighWaterMark=c,T.getDefaultHighWaterMark=p,t(T,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return C}}),t(m,a,{__proto__:null,enumerable:!0,get(){return C.pipeline}}),t(S,a,{__proto__:null,enumerable:!0,get(){return C.finished}}),T.Stream=T,T._isUint8Array=function(V){return V instanceof Uint8Array},T._uint8ArrayToBuffer=function(V){return e.from(V.buffer,V.byteOffset,V.byteLength)},M0.exports}var _E;function Tx(){return _E||(_E=1,function(e){const t=Cx(),r=Rx(),i=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=i,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports}(D0)),D0.exports}var Yp={},Xp={},Mf={},Qp={},SE;function Ox(){if(SE)return Qp;SE=1,Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.BlankNode=void 0;class e{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}}return Qp.BlankNode=e,Qp}var Zp={},eg={},EE;function Ix(){if(EE)return eg;EE=1,Object.defineProperty(eg,"__esModule",{value:!0}),eg.DefaultGraph=void 0;class e{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}}return eg.DefaultGraph=e,e.INSTANCE=new e,eg}var tg={},ng={},AE;function Hw(){if(AE)return ng;AE=1,Object.defineProperty(ng,"__esModule",{value:!0}),ng.NamedNode=void 0;class e{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}}return ng.NamedNode=e,ng}var xE;function Px(){if(xE)return tg;xE=1,Object.defineProperty(tg,"__esModule",{value:!0}),tg.Literal=void 0;const e=Hw();class t{constructor(i,a){this.termType="Literal",this.value=i,typeof a=="string"?(this.language=a,this.datatype=t.RDF_LANGUAGE_STRING):a?(this.language="",this.datatype=a):(this.language="",this.datatype=t.XSD_STRING)}equals(i){return!!i&&i.termType==="Literal"&&i.value===this.value&&i.language===this.language&&this.datatype.equals(i.datatype)}}return tg.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),tg}var rg={},RE;function Nx(){if(RE)return rg;RE=1,Object.defineProperty(rg,"__esModule",{value:!0}),rg.Quad=void 0;class e{constructor(r,i,a,l){this.termType="Quad",this.value="",this.subject=r,this.predicate=i,this.object=a,this.graph=l}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}}return rg.Quad=e,rg}var ig={},CE;function Fx(){if(CE)return ig;CE=1,Object.defineProperty(ig,"__esModule",{value:!0}),ig.Variable=void 0;class e{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}}return ig.Variable=e,ig}var TE;function CO(){if(TE)return Zp;TE=1,Object.defineProperty(Zp,"__esModule",{value:!0}),Zp.DataFactory=void 0;const e=Ox(),t=Ix(),r=Px(),i=Hw(),a=Nx(),l=Fx();let s=0;class u{constructor(c){this.blankNodeCounter=0,c=c||{},this.blankNodePrefix=c.blankNodePrefix||`df_${s++}_`}namedNode(c){return new i.NamedNode(c)}blankNode(c){return new e.BlankNode(c||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(c,p){return new r.Literal(c,p)}variable(c){return new l.Variable(c)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(c,p,m,w){return new a.Quad(c,p,m,w||this.defaultGraph())}fromTerm(c){switch(c.termType){case"NamedNode":return this.namedNode(c.value);case"BlankNode":return this.blankNode(c.value);case"Literal":return c.language?this.literal(c.value,c.language):c.datatype.equals(r.Literal.XSD_STRING)?this.literal(c.value):this.literal(c.value,this.fromTerm(c.datatype));case"Variable":return this.variable(c.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(c.subject),this.fromTerm(c.predicate),this.fromTerm(c.object),this.fromTerm(c.graph))}}fromQuad(c){return this.fromTerm(c)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return Zp.DataFactory=u,Zp}var OE;function TO(){return OE||(OE=1,function(e){var t=Mf&&Mf.__createBinding||(Object.create?function(i,a,l,s){s===void 0&&(s=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(i,s,u)}:function(i,a,l,s){s===void 0&&(s=l),i[s]=a[l]}),r=Mf&&Mf.__exportStar||function(i,a){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,i,l)};Object.defineProperty(e,"__esModule",{value:!0}),r(Ox(),e),r(CO(),e),r(Ix(),e),r(Px(),e),r(Hw(),e),r(Nx(),e),r(Fx(),e)}(Mf)),Mf}var ag={},og={},IE;function OO(){if(IE)return og;IE=1,Object.defineProperty(og,"__esModule",{value:!0}),og.ContainerHandlerIdentifier=void 0;let e=class{canCombineWithGraph(){return!0}async handle(r,i,a,l,s,u){let d;if(i.emittedStack[u+1]&&i.idStack[u+1])d=i.idStack[u+1][0];else{const m=await a.getContainerKey(l[u],l,u)!==null?await a.resourceToTerm(await i.getContext(l),l[u]):a.dataFactory.blankNode();if(!m){i.emittedStack[u]=!1;return}d=m,i.idStack[u+1]=[d]}let c=i.idStack[u];c||(c=i.idStack[u]=[]),c.some(p=>p.equals(d))||c.push(d),await i.handlePendingContainerFlushBuffers()||(i.emittedStack[u]=!1)}};return og.ContainerHandlerIdentifier=e,og}var sg={},lg={},PE;function Ev(){if(PE)return lg;PE=1,Object.defineProperty(lg,"__esModule",{value:!0}),lg.EntryHandlerPredicate=void 0;const e=ja(),t=Wf();let r=class Dx{static async handlePredicateObject(a,l,s,u,d,c,p,m,w){const S=await l.getPropertiesDepth(s,u),C=await l.getDepthOffsetGraph(u,s),R=u-C,T=a.idStack[S];if(T&&!w)for(const E of T)if(C>=0){const O=a.idStack[R-1];if(O)for(const V of O)l.emitQuadChecked(u,E,d,c,V,p,m);else p?(l.validateReverseSubject(c),a.getUnidentifiedGraphBufferSafe(R-1).push({subject:c,predicate:d,object:E,isEmbedded:m})):a.getUnidentifiedGraphBufferSafe(R-1).push({subject:E,predicate:d,object:c,isEmbedded:m})}else{const O=await l.getGraphContainerValue(s,S);l.emitQuadChecked(u,E,d,c,O,p,m)}else if(p&&l.validateReverseSubject(c),w){if(a.rdfstar){a.idStack[u]&&a.emitError(new e.ErrorCoded(`Found an illegal @id inside an annotation: ${a.idStack[u][0].value}`,e.ERROR_CODES.INVALID_ANNOTATION));for(let O=0;O<u;O++)await l.unaliasKeyword(s[O],s,O)==="@id"&&a.emitError(new e.ErrorCoded("Found an illegal annotation inside an embedded node",e.ERROR_CODES.INVALID_ANNOTATION));const E=a.getAnnotationsBufferSafe(S),N={predicate:d,object:c,reverse:p,nestedAnnotations:[],depth:S};E.push(N);for(let O=E.length-2;O>=0;O--){const V=E[O];V.depth>S&&(N.nestedAnnotations.push(V),E.splice(O,1))}}}else a.getUnidentifiedValueBufferSafe(S).push({predicate:d,object:c,reverse:p,isEmbedded:m})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(a,l,s,u,d){const c=s[u];if(c){const p=await a.getContext(s);if(!a.jsonLiteralStack[u]&&await l.predicateToTerm(p,s[u]))return t.Util.getContextValueType(p,c)==="@json"&&(a.jsonLiteralStack[u+1]=!0),!0}return!1}async test(a,l,s,u,d){return u[d]}async handle(a,l,s,u,d,c,p){const m=u[c],w=await a.getContext(u),S=await l.predicateToTerm(w,s);if(S){const C=await l.valueToTerm(w,s,d,c,u);if(C.length)for(let R of C){let T=await l.unaliasKeywordParent(u,c);const E=t.Util.isPropertyReverse(w,m,T);let N=0;for(;T==="@reverse"||typeof T=="number";)typeof T=="number"?N++:c--,T=await l.unaliasKeywordParent(u,c-N);const O=t.Util.isPropertyInEmbeddedNode(T);l.validateReverseInEmbeddedNode(s,E,O);const V=t.Util.isPropertyInAnnotationObject(T);if(d){const L="@list"in t.Util.getContextValueContainer(w,s);if(L||d["@list"]){if((L&&!Array.isArray(d)&&!d["@list"]||d["@list"]&&!Array.isArray(d["@list"]))&&R!==l.rdfNil){const z=l.dataFactory.blankNode();a.emitQuad(c,l.dataFactory.quad(z,l.rdfRest,l.rdfNil,l.getDefaultGraph())),a.emitQuad(c,l.dataFactory.quad(z,l.rdfFirst,R,l.getDefaultGraph())),R=z}if(E&&!a.allowSubjectList)throw new e.ErrorCoded(`Found illegal list value in subject position at ${s}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await Dx.handlePredicateObject(a,l,u,c,S,R,E,O,V)}}}};return lg.EntryHandlerPredicate=r,lg}var NE;function IO(){if(NE)return sg;NE=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.ContainerHandlerIndex=void 0;const e=ja(),t=Ev(),r=Wf();let i=class{canCombineWithGraph(){return!0}async handle(l,s,u,d,c,p){if(!Array.isArray(c)){const m="@graph"in l,w=await s.getContext(d),S=d[p-1],C=r.Util.getContextValueIndex(w,S);if(C){if(e.Util.isPotentialKeyword(C))throw new e.ErrorCoded(`Keywords can not be used as @index value, got: ${C}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof C!="string")throw new e.ErrorCoded(`@index values must be strings, got: ${C}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof c!="object"){if(r.Util.getContextValueType(w,S)!=="@id")throw new e.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${c}`,e.ERROR_CODES.INVALID_VALUE_OBJECT);const E=u.resourceToTerm(w,c);E&&(s.idStack[p+1]=[E])}const T=u.createVocabOrBaseTerm(w,C);if(T){const E=await u.valueToTerm(w,C,await u.getContainerKey(d[p],d,p),p,d);if(m){const N=await u.getGraphContainerValue(d,p+1);for(const O of E)s.emitQuad(p,u.dataFactory.quad(N,T,O,u.getDefaultGraph()))}else for(const N of E)await t.EntryHandlerPredicate.handlePredicateObject(s,u,d,p+1,T,N,!1,!1,!1)}}const R=m?2:1;await s.newOnValueJob(d.slice(0,d.length-R),c,p-R,!0),await s.handlePendingContainerFlushBuffers()}s.emittedStack[p]=!1}};return sg.ContainerHandlerIndex=i,sg}var ug={},FE;function PO(){if(FE)return ug;FE=1,Object.defineProperty(ug,"__esModule",{value:!0}),ug.ContainerHandlerLanguage=void 0;const e=ja();let t=class{canCombineWithGraph(){return!1}async handle(i,a,l,s,u,d){const c=await l.getContainerKey(s[d],s,d);if(Array.isArray(u))u=u.map(p=>({"@value":p,"@language":c}));else{if(typeof u!="string")throw new e.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(u)}', but expected string`,e.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);u={"@value":u,"@language":c}}await a.newOnValueJob(s.slice(0,s.length-1),u,d-1,!0),a.emittedStack[d]=!1}};return ug.ContainerHandlerLanguage=t,ug}var cg={},DE;function NO(){if(DE)return cg;DE=1,Object.defineProperty(cg,"__esModule",{value:!0}),cg.ContainerHandlerType=void 0;const e=Ev(),t=Wf();let r=class{canCombineWithGraph(){return!1}async handle(a,l,s,u,d,c){if(!Array.isArray(d)){if(typeof d=="string"){const w=await l.getContext(u),C=t.Util.getContextValueType(w,u[c-1])==="@vocab"?await s.createVocabOrBaseTerm(w,d):await s.resourceToTerm(w,d);if(C){const R={"@id":C.termType==="NamedNode"?C.value:d};await l.newOnValueJob(u.slice(0,u.length-1),R,c-1,!0),l.idStack[c+1]=[C]}}else{const w=!!l.idStack[c+1];w||delete l.idStack[c],await l.newOnValueJob(u.slice(0,u.length-1),d,c-1,!0),w||(l.idStack[c+1]=l.idStack[c])}const p=await s.getContainerKey(u[c],u,c),m=p!==null?s.createVocabOrBaseTerm(await l.getContext(u),p):null;m&&await e.EntryHandlerPredicate.handlePredicateObject(l,s,u,c+1,s.rdfType,m,!1,!1,!1),await l.handlePendingContainerFlushBuffers()}l.emittedStack[c]=!1}};return cg.ContainerHandlerType=r,cg}var ME;function Mx(){if(ME)return ag;ME=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.EntryHandlerContainer=void 0;const e=OO(),t=IO(),r=PO(),i=NO(),a=Wf();let l=class ic{static isSimpleGraphContainer(u){return"@graph"in u&&("@set"in u&&Object.keys(u).length===2||Object.keys(u).length===1)}static isComplexGraphContainer(u){return"@graph"in u&&("@set"in u&&Object.keys(u).length>2||!("@set"in u)&&Object.keys(u).length>1)}static getContainerGraphIndex(u,d,c){let p=ic.isSimpleGraphContainer(u),m="";for(let w=d;w<c.length;w++)(!p||typeof c[w]=="number")&&(m+=":"+c[w]),!p&&typeof c[w]!="number"&&(p=!0);return m}static async getContainerHandler(u,d,c){const p={containers:{"@set":!0},depth:c,fallback:!0};let m=!1;const w=await u.getContext(d,2);for(let S=c-1;S>=0;S--)if(typeof d[S]!="number"){const C=a.Util.getContextValue(w,"@container",d[S],!1);if(C&&ic.isSimpleGraphContainer(C))return{containers:C,depth:S+1,fallback:!1};const R=a.Util.getContextValue(w,"@container",d[S-1],!1);if(R){const T="@graph"in R;for(const E in ic.CONTAINER_HANDLERS)if(R[E])return T?ic.CONTAINER_HANDLERS[E].canCombineWithGraph()?{containers:R,depth:S,fallback:!1}:p:m?p:{containers:R,depth:S,fallback:!1};return p}else{if(m)return p;m=!0}}return p}static async isBufferableContainerHandler(u,d,c){const p=await ic.getContainerHandler(u,d,c);return!p.fallback&&!("@graph"in p.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(u,d,c,p,m){return!!await this.test(u,d,null,c,p)}async test(u,d,c,p,m){const w=a.Util.getContextValueContainer(await u.getContext(p,2),p[m-1]);for(const S in ic.CONTAINER_HANDLERS)if(w[S])return{containers:w,handler:ic.CONTAINER_HANDLERS[S]};return null}async handle(u,d,c,p,m,w,S){return S.handler.handle(S.containers,u,d,p,m,w)}};return l.CONTAINER_HANDLERS={"@id":new e.ContainerHandlerIdentifier,"@index":new t.ContainerHandlerIndex,"@language":new r.ContainerHandlerLanguage,"@type":new i.ContainerHandlerType},ag.EntryHandlerContainer=l,ag}var ab,LE;function FO(){return LE||(LE=1,ab=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((r,i,a)=>{const l=a===0?"":",",s=i===void 0||typeof i=="symbol"?null:i;return r+l+e(s)},"")+"]":"{"+Object.keys(t).sort().reduce((r,i,a)=>{if(t[i]===void 0||typeof t[i]=="symbol")return r;const l=r.length===0?"":",";return r+l+e(i)+":"+e(t[i])},"")+"}"}),ab}var UE;function Wf(){if(UE)return Xp;UE=1,Object.defineProperty(Xp,"__esModule",{value:!0}),Xp.Util=void 0;const e=ja(),t=TO(),r=Mx(),i=FO();class a{constructor(s){this.parsingContext=s.parsingContext,this.dataFactory=s.dataFactory||new t.DataFactory,this.rdfFirst=this.dataFactory.namedNode(a.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(a.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(a.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(a.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(a.RDF+"JSON")}static getContextValue(s,u,d,c){const p=s.getContextRaw()[d];if(!p)return c;const m=p[u];return m===void 0?c:m}static getContextValueContainer(s,u){return a.getContextValue(s,"@container",u,{"@set":!0})}static getContextValueType(s,u){const d=a.getContextValue(s,"@type",u,null);return d==="@none"?null:d}static getContextValueLanguage(s,u){return a.getContextValue(s,"@language",u,s.getContextRaw()["@language"]||null)}static getContextValueDirection(s,u){return a.getContextValue(s,"@direction",u,s.getContextRaw()["@direction"]||null)}static isContextValueReverse(s,u){return!!a.getContextValue(s,"@reverse",u,null)}static getContextValueIndex(s,u){return a.getContextValue(s,"@index",u,s.getContextRaw()["@index"]||null)}static isPropertyReverse(s,u,d){return d==="@reverse"!==a.isContextValueReverse(s,u)}static isPropertyInEmbeddedNode(s){return s==="@id"}static isPropertyInAnnotationObject(s){return s==="@annotation"}static isValidIri(s){return s!==null&&e.Util.isValidIri(s)}static isPrefixArray(s,u){if(s.length>u.length)return!1;for(let d=0;d<s.length;d++)if(s[d]!==u[d])return!1;return!0}async validateValueIndexes(s){if(this.parsingContext.validateValueIndexes){const u={};for(const d of s)if(d&&typeof d=="object"){const c=d["@id"],p=d["@index"];if(c&&p){const m=u[c];if(m&&m!==p)throw new e.ErrorCoded(`Conflicting @index value for ${c}`,e.ERROR_CODES.CONFLICTING_INDEXES);u[c]=p}}}}async valueToTerm(s,u,d,c,p){if(a.getContextValueType(s,u)==="@json")return[this.dataFactory.literal(this.valueToJsonString(d),this.rdfJson)];const m=typeof d;switch(m){case"object":if(d==null)return[];if(Array.isArray(d))return"@list"in a.getContextValueContainer(s,u)?d.length===0?[this.rdfNil]:this.parsingContext.idStack[c+1]||[]:(await this.validateValueIndexes(d),[]);if(s=await this.getContextSelfOrPropertyScoped(s,u),"@context"in d&&(s=await this.parsingContext.parseContext(d["@context"],(await this.parsingContext.getContext(p,0)).getContextRaw())),d=await this.unaliasKeywords(d,p,c,s),"@value"in d){let w,S,C,R,T;for(u in d){const E=d[u];switch(u){case"@value":w=E;break;case"@language":S=E;break;case"@direction":C=E;break;case"@type":R=E;break;case"@index":T=E;break;case"@annotation":break;default:throw new e.ErrorCoded(`Unknown value entry '${u}' in @value: ${JSON.stringify(d)}`,e.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(R,p,c,!0,s)==="@json")return[this.dataFactory.literal(this.valueToJsonString(w),this.rdfJson)];if(w===null)return[];if(typeof w=="object")throw new e.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(w)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&T&&typeof T!="string")throw new e.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(T)}'`,e.ERROR_CODES.INVALID_INDEX_VALUE);if(S){if(typeof w!="string")throw new e.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(w)}'`,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!e.ContextParser.validateLanguage(S,this.parsingContext.strictValues,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(S=S.toLowerCase())}if(C){if(typeof w!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(w)}'`);if(!e.ContextParser.validateDirection(C,this.parsingContext.strictValues))return[]}if(S&&C&&this.parsingContext.rdfDirection){if(R)throw new e.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(c,w,S,C))}else if(S){if(R)throw new e.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(w,S)]}else if(C&&this.parsingContext.rdfDirection){if(R)throw new e.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(c,w,S,C))}else if(R){if(typeof R!="string")throw new e.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(R)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);const E=this.createVocabOrBaseTerm(s,R);if(!E)throw new e.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(R)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);if(E.termType!=="NamedNode")throw new e.ErrorCoded(`Illegal value type (${E.termType}): ${R}`,e.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(w,E)]}return await this.valueToTerm(new e.JsonLdContextNormalized({}),u,w,c,p)}else if("@set"in d){if(Object.keys(d).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${u}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in d){if(Object.keys(d).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${u}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const w=d["@list"];return Array.isArray(w)?w.length===0?[this.rdfNil]:this.parsingContext.idStack[c+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(p),u,w,c-1,p.slice(0,-1))}else{if("@reverse"in d&&typeof d["@reverse"]=="boolean")return[];if("@graph"in a.getContextValueContainer(await this.parsingContext.getContext(p),u)){const w=this.parsingContext.graphContainerTermStack[c+1];return w?Object.values(w):[this.dataFactory.blankNode()]}else if("@id"in d){if(Object.keys(d).length>1&&(s=await this.parsingContext.getContext(p,0)),"@context"in d&&(s=await this.parsingContext.parseContext(d["@context"],s.getContextRaw())),d["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(s,d["@id"]));{const w=d["@id"];let S;if(typeof w=="object")if(this.parsingContext.rdfstar)S=this.parsingContext.idStack[c+1][0];else throw new e.ErrorCoded(`Found illegal @id '${d}'`,e.ERROR_CODES.INVALID_ID_VALUE);else S=this.resourceToTerm(s,w);return this.nullableTermToArray(S)}}else return this.parsingContext.emittedStack[c+1]||d&&typeof d=="object"&&Object.keys(d).length===0?this.parsingContext.idStack[c+1]||(this.parsingContext.idStack[c+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(c,await this.getContextSelfOrPropertyScoped(s,u),u,d,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(c,await this.getContextSelfOrPropertyScoped(s,u),u,(!!d).toString(),this.dataFactory.namedNode(a.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(c,await this.getContextSelfOrPropertyScoped(s,u),u,d,this.dataFactory.namedNode(d%1===0&&d<1e21?a.XSD_INTEGER:a.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${m}`)),[]}}async getContextSelfOrPropertyScoped(s,u){const d=s.getContextRaw()[u];return d&&typeof d=="object"&&"@context"in d&&(s=await this.parsingContext.parseContext(d,s.getContextRaw(),!0)),s}nullableTermToArray(s){return s?[s]:[]}predicateToTerm(s,u){const d=s.expandTerm(u,!0,this.parsingContext.getExpandOptions());if(!d)return null;if(d[0]==="_"&&d[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(d.substr(2)):null;if(a.isValidIri(d))return this.dataFactory.namedNode(d);if(d&&this.parsingContext.strictValues)this.parsingContext.emitError(new e.ErrorCoded(`Invalid predicate IRI: ${d}`,e.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(s,u){if(u.startsWith("_:"))return this.dataFactory.blankNode(u.substr(2));const d=s.expandTerm(u,!1,this.parsingContext.getExpandOptions());if(!a.isValidIri(d))if(d&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${d}`));else return null;return this.dataFactory.namedNode(d)}createVocabOrBaseTerm(s,u){if(u.startsWith("_:"))return this.dataFactory.blankNode(u.substr(2));const d=this.parsingContext.getExpandOptions();let c=s.expandTerm(u,!0,d);if(c===u&&(c=s.expandTerm(u,!1,d)),!a.isValidIri(c))if(c&&this.parsingContext.strictValues&&!c.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${c}`));else return null;return this.dataFactory.namedNode(c)}intToString(s,u){return typeof s=="number"?Number.isFinite(s)?s%1===0&&(!u||u.value!==a.XSD_DOUBLE)?Number(s).toString():s.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):s>0?"INF":"-INF":s}stringValueToTerm(s,u,d,c,p){const m=a.getContextValueType(u,d);if(m)if(m==="@id"){if(!p)return this.resourceToTerm(u,this.intToString(c,p))}else if(m==="@vocab"){if(!p)return this.createVocabOrBaseTerm(u,this.intToString(c,p))}else p=this.dataFactory.namedNode(m);if(!p){const w=a.getContextValueLanguage(u,d),S=a.getContextValueDirection(u,d);return S&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(s,this.intToString(c,p),w,S):this.dataFactory.literal(this.intToString(c,p),w)}return this.dataFactory.literal(this.intToString(c,p),p)}createLanguageDirectionLiteral(s,u,d,c){if(this.parsingContext.rdfDirection==="i18n-datatype")return d||(d=""),this.dataFactory.literal(u,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${d}_${c}`));{const p=this.dataFactory.blankNode(),m=this.getDefaultGraph();return this.parsingContext.emitQuad(s,this.dataFactory.quad(p,this.dataFactory.namedNode(a.RDF+"value"),this.dataFactory.literal(u),m)),d&&this.parsingContext.emitQuad(s,this.dataFactory.quad(p,this.dataFactory.namedNode(a.RDF+"language"),this.dataFactory.literal(d),m)),this.parsingContext.emitQuad(s,this.dataFactory.quad(p,this.dataFactory.namedNode(a.RDF+"direction"),this.dataFactory.literal(c),m)),p}}valueToJsonString(s){return i(s)}async unaliasKeyword(s,u,d,c,p){if(Number.isInteger(s))return s;if(!c){const m=this.parsingContext.unaliasedKeywordCacheStack[d];if(m)return m}if(!e.Util.isPotentialKeyword(s)){p=p||await this.parsingContext.getContext(u);let m=p.getContextRaw()[s];m&&typeof m=="object"&&(m=m["@id"]),e.Util.isValidKeyword(m)&&(s=m)}return c?s:this.parsingContext.unaliasedKeywordCacheStack[d]=s}async unaliasKeywordParent(s,u){return await this.unaliasKeyword(u>0&&s[u-1],s,u-1)}async unaliasKeywords(s,u,d,c){const p={};for(const m in s)p[await this.unaliasKeyword(m,u,d+1,!0,c)]=s[m];return p}async isLiteral(s,u){for(let d=u;d>=0;d--){if(await this.unaliasKeyword(s[d],s,d)==="@annotation")return!1;if(this.parsingContext.literalStack[d]||this.parsingContext.jsonLiteralStack[d])return!0}return!1}async getDepthOffsetGraph(s,u){for(let d=s-1;d>0;d--)if(await this.unaliasKeyword(u[d],u,d)==="@graph"){const c=(await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,u,d)).containers;return r.EntryHandlerContainer.isComplexGraphContainer(c)?-1:s-d-1}return-1}validateReverseSubject(s){if(s.termType==="Literal")throw new e.ErrorCoded(`Found illegal literal in subject position: ${s.value}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(s,u){let d=this.getDefaultGraph();const{containers:c,depth:p}=await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,s,u);if("@graph"in c){const m=r.EntryHandlerContainer.getContainerGraphIndex(c,p,s),w=this.parsingContext.graphContainerTermStack[p];if(d=w?w[m]:null,!d){let S=null;if("@id"in c){const C=await this.getContainerKey(s[p],s,p);C!==null&&(S=await this.resourceToTerm(await this.parsingContext.getContext(s),C))}S||(S=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[p]||(this.parsingContext.graphContainerTermStack[p]={}),d=this.parsingContext.graphContainerTermStack[p][m]=S}}return d}async getPropertiesDepth(s,u){let d=u;for(let c=u-1;c>0;c--)if(typeof s[c]!="number"){const p=await this.unaliasKeyword(s[c],s,c);if(p==="@reverse")return c;if(p==="@nest")d=c;else return d}return d}async getContainerKey(s,u,d){const c=await this.unaliasKeyword(s,u,d);return c==="@none"?null:c}validateReverseInEmbeddedNode(s,u,d){if(d&&u&&!this.parsingContext.rdfstarReverseInEmbedded)throw new e.ErrorCoded(`Illegal reverse property in embedded node in ${s}`,e.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(s,u,d,c,p,m,w){let S;if(m?(this.validateReverseSubject(c),S=this.dataFactory.quad(c,d,u,p)):S=this.dataFactory.quad(u,d,c,p),w){if(S.graph.termType!=="DefaultGraph"&&(S=this.dataFactory.quad(S.subject,S.predicate,S.object)),this.parsingContext.idStack[s-1])throw new e.ErrorCoded("Illegal multiple properties in an embedded node",e.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[s-1]=[S]}else this.parsingContext.emitQuad(s,S);const C=this.parsingContext.annotationsBuffer[s];if(C){for(const R of C)this.emitAnnotation(s,S,R);delete this.parsingContext.annotationsBuffer[s]}}emitAnnotation(s,u,d){let c;d.reverse?(this.validateReverseSubject(d.object),c=this.dataFactory.quad(d.object,d.predicate,u)):c=this.dataFactory.quad(u,d.predicate,d.object),this.parsingContext.emitQuad(s,c);for(const p of d.nestedAnnotations)this.emitAnnotation(s,c,p)}}return a.XSD="http://www.w3.org/2001/XMLSchema#",a.XSD_BOOLEAN=a.XSD+"boolean",a.XSD_INTEGER=a.XSD+"integer",a.XSD_DOUBLE=a.XSD+"double",a.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Xp.Util=a,Xp}var kE;function DO(){if(kE)return Yp;kE=1,Object.defineProperty(Yp,"__esModule",{value:!0}),Yp.EntryHandlerArrayValue=void 0;const e=Wf(),t=ja();let r=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(a,l,s,u,d){return this.test(a,l,null,s,u)}async test(a,l,s,u,d){return typeof u[d]=="number"}async handle(a,l,s,u,d,c){let p=await l.unaliasKeywordParent(u,c);if(p==="@list"){let m=null,w=0;for(let S=c-2;S>0;S--){const C=u[S];if(typeof C=="string"||typeof C=="number"){w=S,m=C;break}}if(m!==null){const S=await l.valueToTerm(await a.getContext(u),m,d,c,u);for(const C of S)await this.handleListElement(a,l,C,d,c,u.slice(0,w),w);S.length===0&&await this.handleListElement(a,l,null,d,c,u.slice(0,w),w)}}else if(p==="@set")await a.newOnValueJob(u.slice(0,-2),d,c-2,!1);else if(p!==void 0&&p!=="@type"){for(let w=c-1;w>0;w--)if(typeof u[w]!="number"){p=await l.unaliasKeyword(u[w],u,w);break}const m=await a.getContext(u.slice(0,-1));if("@list"in e.Util.getContextValueContainer(m,p)){a.emittedStack[c+1]=!0;const w=await l.valueToTerm(await a.getContext(u),p,d,c,u);for(const S of w)await this.handleListElement(a,l,S,d,c,u.slice(0,-1),c-1);w.length===0&&await this.handleListElement(a,l,null,d,c,u.slice(0,-1),c-1)}else a.shiftStack(c,1),await a.newOnValueJob(u.slice(0,-1),d,c-1,!1),a.contextTree.removeContext(u.slice(0,-1))}}async handleListElement(a,l,s,u,d,c,p){let m=a.listPointerStack[d];if(u!==null&&(await l.unaliasKeywords(u,c,d))["@value"]!==null){if(!m||!m.value){const w=l.dataFactory.blankNode();m={value:w,listRootDepth:p,listId:w}}else{const w=l.dataFactory.blankNode();a.emitQuad(d,l.dataFactory.quad(m.value,l.rdfRest,w,l.getDefaultGraph())),m.value=w}s&&a.emitQuad(d,l.dataFactory.quad(m.value,l.rdfFirst,s,l.getDefaultGraph()))}else m||(m={listRootDepth:p,listId:l.rdfNil});a.listPointerStack[d]=m,a.rdfstar&&a.annotationsBuffer[d]&&a.emitError(new t.ErrorCoded("Found an illegal annotation inside a list",t.ERROR_CODES.INVALID_ANNOTATION))}};return Yp.EntryHandlerArrayValue=r,Yp}var fg={},jE;function MO(){if(jE)return fg;jE=1,Object.defineProperty(fg,"__esModule",{value:!0}),fg.EntryHandlerInvalidFallback=void 0;let e=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,i,a,l,s){return!1}async test(r,i,a,l,s){return!0}async handle(r,i,a,l,s,u){r.emittedStack[u]=!1}};return fg.EntryHandlerInvalidFallback=e,fg}var dg={},hg={},BE;function gc(){if(BE)return hg;BE=1,Object.defineProperty(hg,"__esModule",{value:!0}),hg.EntryHandlerKeyword=void 0;let e=class{constructor(r){this.keyword=r}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,i,a,l,s){return!1}async test(r,i,a,l,s){return a===this.keyword}};return hg.EntryHandlerKeyword=e,hg}var HE;function LO(){if(HE)return dg;HE=1,Object.defineProperty(dg,"__esModule",{value:!0}),dg.EntryHandlerKeywordContext=void 0;const e=ja(),t=gc();let r=class extends t.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(a,l,s,u,d,c){a.streamingProfile&&(a.processingStack[c]||a.processingType[c]||a.idStack[c]!==void 0)&&a.emitError(new e.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",e.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const p=a.getContext(u),m=a.parseContext(d,(await p).getContextRaw());a.contextTree.setContext(u.slice(0,-1),m),a.emitContext(d),await a.validateContext(await m)}};return dg.EntryHandlerKeywordContext=r,dg}var pg={},VE;function UO(){if(VE)return pg;VE=1,Object.defineProperty(pg,"__esModule",{value:!0}),pg.EntryHandlerKeywordGraph=void 0;const e=gc();let t=class extends e.EntryHandlerKeyword{constructor(){super("@graph")}async handle(i,a,l,s,u,d){i.graphStack[d+1]=!0}};return pg.EntryHandlerKeywordGraph=t,pg}var gg={},$E;function kO(){if($E)return gg;$E=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.EntryHandlerKeywordId=void 0;const e=ja(),t=gc();let r=class extends t.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(a,l,s,u,d,c){if(typeof d!="string"){if(a.rdfstar&&typeof d=="object"){const m=Object.keys(d);m.length===1&&m[0]==="@id"&&a.emitError(new e.ErrorCoded(`Invalid embedded node without property with @id ${d["@id"]}`,e.ERROR_CODES.INVALID_EMBEDDED_NODE))}else a.emitError(new e.ErrorCoded(`Found illegal @id '${d}'`,e.ERROR_CODES.INVALID_ID_VALUE));return}const p=await l.getPropertiesDepth(u,c);if(a.idStack[p]!==void 0&&(a.idStack[p][0].listHead?a.emitError(new e.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${u[c-1]}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):a.emitError(new e.ErrorCoded(`Found duplicate @ids '${a.idStack[p][0].value}' and '${d}'`,e.ERROR_CODES.COLLIDING_KEYWORDS))),a.rdfstar&&a.annotationsBuffer[c])for(const m of a.annotationsBuffer[c])m.depth===c&&a.emitError(new e.ErrorCoded(`Found an illegal @id inside an annotation: ${d}`,e.ERROR_CODES.INVALID_ANNOTATION));a.idStack[p]=l.nullableTermToArray(await l.resourceToTerm(await a.getContext(u),d))}};return gg.EntryHandlerKeywordId=r,gg}var mg={},KE;function jO(){if(KE)return mg;KE=1,Object.defineProperty(mg,"__esModule",{value:!0}),mg.EntryHandlerKeywordIncluded=void 0;const e=ja(),t=gc();let r=class extends t.EntryHandlerKeyword{constructor(){super("@included")}async handle(a,l,s,u,d,c){typeof d!="object"&&a.emitError(new e.ErrorCoded(`Found illegal @included '${d}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE));const p=await l.unaliasKeywords(d,u,c,await a.getContext(u));"@value"in p&&a.emitError(new e.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in p&&a.emitError(new e.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(d)}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE)),a.emittedStack[c]=!1}};return mg.EntryHandlerKeywordIncluded=r,mg}var yg={},GE;function BO(){if(GE)return yg;GE=1,Object.defineProperty(yg,"__esModule",{value:!0}),yg.EntryHandlerKeywordNest=void 0;const e=ja(),t=gc();let r=class extends t.EntryHandlerKeyword{constructor(){super("@nest")}async handle(a,l,s,u,d,c){typeof d!="object"&&a.emitError(new e.ErrorCoded(`Found invalid @nest entry for '${s}': '${d}'`,e.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await l.unaliasKeywords(d,u,c,await a.getContext(u))&&a.emitError(new e.ErrorCoded(`Found an invalid @value node for '${s}'`,e.ERROR_CODES.INVALID_NEST_VALUE)),a.emittedStack[c]=!1}};return yg.EntryHandlerKeywordNest=r,yg}var vg={},qE;function HO(){if(qE)return vg;qE=1,Object.defineProperty(vg,"__esModule",{value:!0}),vg.EntryHandlerKeywordType=void 0;const e=ja(),t=Wf(),r=Ev(),i=gc();let a=class extends i.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(s,u,d,c,p,m){const w=c[m],S=await s.getContext(c),C=u.rdfType,R=await u.unaliasKeywordParent(c,m),T=t.Util.isPropertyReverse(S,w,R),E=t.Util.isPropertyInEmbeddedNode(R);u.validateReverseInEmbeddedNode(d,T,E);const N=t.Util.isPropertyInAnnotationObject(R),O=Array.isArray(p)?p:[p];for(const z of O){typeof z!="string"&&s.emitError(new e.ErrorCoded(`Found illegal @type '${z}'`,e.ERROR_CODES.INVALID_TYPE_VALUE));const W=u.createVocabOrBaseTerm(S,z);W&&await r.EntryHandlerPredicate.handlePredicateObject(s,u,c,m,C,W,T,E,N)}let V=Promise.resolve(S),L=!1;for(const z of O.sort()){const W=t.Util.getContextValue(S,"@context",z,null);W&&(L=!0,V=V.then($=>s.parseContext(W,$.getContextRaw())))}s.streamingProfile&&(L||!s.streamingProfileAllowOutOfOrderPlainType)&&(s.processingStack[m]||s.idStack[m])&&s.emitError(new e.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",e.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),L&&(V=V.then(z=>z.getContextRaw()["@propagate"]!==!0?new e.JsonLdContextNormalized(Object.assign(Object.assign({},z.getContextRaw()),{"@propagate":!1,"@__propagateFallback":S.getContextRaw()})):z),s.contextTree.setContext(c.slice(0,c.length-1),V)),s.processingType[m]=!0}};return vg.EntryHandlerKeywordType=a,vg}var bg={},zE;function VO(){if(zE)return bg;zE=1,Object.defineProperty(bg,"__esModule",{value:!0}),bg.EntryHandlerKeywordUnknownFallback=void 0;const e=ja();let t=class Lx{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(i,a,l,s,u){const d=await a.unaliasKeyword(l[s],l,s);return e.Util.isPotentialKeyword(d)?!(!u&&d==="@list"):!1}async test(i,a,l,s,u){return e.Util.isPotentialKeyword(l)}async handle(i,a,l,s,u,d){const c=Lx.VALID_KEYWORDS_TYPES[l];c!==void 0?c&&typeof u!==c.type&&i.emitError(new e.ErrorCoded(`Invalid value type for '${l}' with value '${u}'`,c.errorCode)):i.strictValues&&i.emitError(new Error(`Unknown keyword '${l}' with value '${u}'`)),i.emittedStack[d]=!1}};return t.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:e.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:e.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null},bg.EntryHandlerKeywordUnknownFallback=t,bg}var wg={},WE;function $O(){if(WE)return wg;WE=1,Object.defineProperty(wg,"__esModule",{value:!0}),wg.EntryHandlerKeywordValue=void 0;const e=gc();let t=class extends e.EntryHandlerKeyword{constructor(){super("@value")}async validate(i,a,l,s,u){const d=l[s];return d&&!i.literalStack[s]&&await this.test(i,a,d,l,s)&&(i.literalStack[s]=!0),super.validate(i,a,l,s,u)}async test(i,a,l,s,u){return await a.unaliasKeyword(s[u],s.slice(0,s.length-1),u-1,!0)==="@value"}async handle(i,a,l,s,u,d){i.literalStack[d]=!0,delete i.unidentifiedValuesBuffer[d],delete i.unidentifiedGraphsBuffer[d],i.emittedStack[d]=!1}};return wg.EntryHandlerKeywordValue=t,wg}var _g={},Sg={},JE;function KO(){if(JE)return Sg;JE=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.ContextTree=void 0;let e=class Ux{constructor(){this.subTrees={}}getContext(r){if(r.length>0){const[i,...a]=r,l=this.subTrees[i];if(l){const s=l.getContext(a);if(s)return s.then(({context:u,depth:d})=>({context:u,depth:d+1}))}}return this.context?this.context.then(i=>({context:i,depth:0})):null}setContext(r,i){if(r.length===0)this.context=i;else{const[a,...l]=r;let s=this.subTrees[a];s||(s=this.subTrees[a]=new Ux),s.setContext(l,i)}}removeContext(r){this.setContext(r,null)}};return Sg.ContextTree=e,Sg}var YE;function GO(){if(YE)return _g;YE=1,Object.defineProperty(_g,"__esModule",{value:!0}),_g.ParsingContext=void 0;const e=ja(),t=fm(),r=KO(),i=jx();let a=class kx{constructor(s){this.contextParser=new e.ContextParser({documentLoader:s.documentLoader,skipValidation:s.skipContextValidation}),this.streamingProfile=!!s.streamingProfile,this.baseIRI=s.baseIRI,this.produceGeneralizedRdf=!!s.produceGeneralizedRdf,this.allowSubjectList=!!s.allowSubjectList,this.processingMode=s.processingMode||i.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!s.strictValues,this.validateValueIndexes=!!s.validateValueIndexes,this.defaultGraph=s.defaultGraph,this.rdfDirection=s.rdfDirection,this.normalizeLanguageTags=s.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=s.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=s.rdfstar!==!1,this.rdfstarReverseInEmbedded=s.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new r.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=s.parser,s.context?(this.rootContext=this.parseContext(s.context),this.rootContext.then(u=>this.validateContext(u))):this.rootContext=Promise.resolve(new e.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(s,u,d){return this.contextParser.parse(s,{baseIRI:this.baseIRI,ignoreProtection:d,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:u,processingMode:this.activeProcessingMode})}validateContext(s){const u=s.getContextRaw()["@version"];if(u){if(this.activeProcessingMode&&u>this.activeProcessingMode)throw new t.ErrorCoded(`Unsupported JSON-LD version '${u}' under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&u<this.activeProcessingMode)throw new t.ErrorCoded(`Invalid JSON-LD version ${u} under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=u}}async getContext(s,u=1){const d=s;for(;typeof s[s.length-1]=="number";)s=s.slice(0,s.length-1);u&&(s=s.slice(0,-u));const c=await this.getContextPropagationAware(s);let m=c.context.getContextRaw();for(let w=c.depth;w<d.length-u;w++){const S=d[w],C=m[S];if(C&&typeof C=="object"&&"@context"in C){const R=(await this.parseContext(C,m,!0)).getContextRaw(),T=!(S in R)||R[S]["@context"]["@propagate"];(T!==!1||w===d.length-1-u)&&(m=Object.assign({},R),delete m["@propagate"],m[S]=Object.assign({},m[S]),"@id"in C&&(m[S]["@id"]=C["@id"]),delete m[S]["@context"],T!==!1&&this.contextTree.setContext(d.slice(0,w+u),Promise.resolve(new e.JsonLdContextNormalized(m))))}}return new e.JsonLdContextNormalized(m)}async getContextPropagationAware(s){const u=s.length;let d=null,c;do{c=!1,d&&"@__propagateFallback"in d.context.getContextRaw()?d.context=new e.JsonLdContextNormalized(d.context.getContextRaw()["@__propagateFallback"]):(d&&(s=s.slice(0,d.depth-1)),d=await this.contextTree.getContext(s)||{context:await this.rootContext,depth:0});const p=s[s.length-1];if(p in d.context.getContextRaw()){const m=d.context.getContextRaw()[p];m&&typeof m=="object"&&"@context"in m&&(c=!0)}}while(d.depth>0&&d.context.getContextRaw()["@propagate"]===!1&&d.depth!==u&&!c);return d.depth===0&&d.context.getContextRaw()["@propagate"]===!1&&d.depth!==u&&(d.context=new e.JsonLdContextNormalized({})),d}async newOnValueJob(s,u,d,c){await this.parser.newOnValueJob(s,u,d,c)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const s of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(s.depth,s.keys),this.parser.flushStacks(s.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1}emitQuad(s,u){s===1&&(this.topLevelProperties=!0),this.parser.push(u)}emitError(s){this.parser.emit("error",s)}emitContext(s){this.parser.emit("context",s)}getUnidentifiedValueBufferSafe(s){let u=this.unidentifiedValuesBuffer[s];return u||(u=[],this.unidentifiedValuesBuffer[s]=u),u}getUnidentifiedGraphBufferSafe(s){let u=this.unidentifiedGraphsBuffer[s];return u||(u=[],this.unidentifiedGraphsBuffer[s]=u),u}getAnnotationsBufferSafe(s){let u=this.annotationsBuffer[s];return u||(u=[],this.annotationsBuffer[s]=u),u}getExpandOptions(){return kx.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(s,u){const d=this.idStack[s+u];if(d&&(this.idStack[s]=d,this.emittedStack[s]=!0,delete this.idStack[s+u]),this.pendingContainerFlushBuffers.length)for(const c of this.pendingContainerFlushBuffers)c.depth>=s+u&&(c.depth-=u,c.keys.splice(s,u));this.unidentifiedValuesBuffer[s+u]&&(this.unidentifiedValuesBuffer[s]=this.unidentifiedValuesBuffer[s+u],delete this.unidentifiedValuesBuffer[s+u]),this.annotationsBuffer[s+u-1]&&(this.annotationsBuffer[s-1]||(this.annotationsBuffer[s-1]=[]),this.annotationsBuffer[s-1]=[...this.annotationsBuffer[s-1],...this.annotationsBuffer[s+u-1]],delete this.annotationsBuffer[s+u-1])}};return a.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},_g.ParsingContext=a,_g}var Eg={},XE;function qO(){if(XE)return Eg;XE=1,Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.EntryHandlerKeywordAnnotation=void 0;const e=gc(),t=ja();let r=class extends e.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(a,l,s,u,d,c){(typeof d=="string"||typeof d=="object"&&d["@value"])&&a.emitError(new t.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(d)}`,t.ERROR_CODES.INVALID_ANNOTATION))}};return Eg.EntryHandlerKeywordAnnotation=r,Eg}var QE;function jx(){if(QE)return Kp;QE=1,Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.JsonLdParser=void 0;const e=yO(),t=ja(),r=Tx(),i=DO(),a=Mx(),l=MO(),s=Ev(),u=LO(),d=UO(),c=kO(),p=jO(),m=BO(),w=HO(),S=VO(),C=$O(),R=GO(),T=Wf(),E=Lw(),N=qO();let O=class fh extends r.Transform{constructor(L){super({readableObjectMode:!0}),L=L||{},this.options=L,this.parsingContext=new R.ParsingContext(Object.assign({parser:this},L)),this.util=new T.Util({dataFactory:L.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new e,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(L,z,W,$){let Ce,K=["application/activity+json"];if($&&$.wellKnownMediaTypes&&(K=$.wellKnownMediaTypes),z!=="application/ld+json"&&!K.includes(z)){if(z!=="application/json"&&!z.endsWith("+json"))throw new t.ErrorCoded(`Unsupported JSON-LD media type ${z}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(W&&W.has("Link")&&W.forEach((pe,_e)=>{if(_e==="link"){const et=(0,E.parse)(pe);for(const rt of et.get("rel","http://www.w3.org/ns/json-ld#context")){if(Ce)throw new t.ErrorCoded("Multiple JSON-LD context link headers were found on "+L,t.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);Ce=rt.uri}}}),!Ce&&!$?.ignoreMissingContextLinkHeader)throw new t.ErrorCoded(`Missing context link header for media type ${z} on ${L}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let re;if(W&&W.has("Content-Type")){const pe=W.get("Content-Type"),_e=/; *profile=([^"]*)/.exec(pe);_e&&_e[1]==="http://www.w3.org/ns/json-ld#streaming"&&(re=!0)}return new fh(Object.assign({baseIRI:L,context:Ce,streamingProfile:re},$||{}))}import(L){if("pipe"in L){L.on("error",W=>z.emit("error",W));const z=L.pipe(new fh(this.options));return z}else{const z=new r.PassThrough({readableObjectMode:!0});L.on("error",$=>W.emit("error",$)),L.on("data",$=>z.push($)),L.on("end",()=>z.push(null));const W=z.pipe(new fh(this.options));return W}}_transform(L,z,W){this.jsonParser.write(L),this.lastOnValueJob.then(()=>W(),$=>W($))}async newOnValueJob(L,z,W,$){let Ce=!0;if($&&W<this.lastDepth){const et=this.parsingContext.listPointerStack[this.lastDepth];et&&(et.value&&this.push(this.util.dataFactory.quad(et.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),et.listId.listHead=!0,this.parsingContext.idStack[et.listRootDepth+1]=[et.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await a.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),Ce=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const K=await this.util.unaliasKeyword(L[W],L,W),re=await this.util.unaliasKeywordParent(L,W);this.parsingContext.emittedStack[W]=!0;let pe=!0;t.Util.isValidKeyword(K)&&re==="@reverse"&&K!=="@context"&&this.emit("error",new t.ErrorCoded(`Found the @id '${z}' inside an @reverse property`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let _e=!1;this.parsingContext.validationStack.length>1&&(_e=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let et=Math.max(1,this.parsingContext.validationStack.length-1);et<L.length-1;et++){const rt=this.parsingContext.validationStack[et]||(this.parsingContext.validationStack[et]=await this.validateKey(L.slice(0,et+1),et,_e));if(rt.valid)!_e&&rt.property&&(_e=!0);else{this.parsingContext.emittedStack[W]=!1,pe=!1;break}}if(await this.util.isLiteral(L,W)&&(pe=!1),pe)for(const et of fh.ENTRY_HANDLERS){const rt=await et.test(this.parsingContext,this.util,K,L,W);if(rt){await et.handle(this.parsingContext,this.util,K,L,z,W,rt),et.isStackProcessor()&&(this.parsingContext.processingStack[W]=!0);break}}W===0&&Array.isArray(z)&&await this.util.validateValueIndexes(z),Ce&&W<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=W,this.lastKeys=L,this.parsingContext.unaliasedKeywordCacheStack.splice(W-1)}flushStacks(L){this.parsingContext.processingStack.splice(L,1),this.parsingContext.processingType.splice(L,1),this.parsingContext.emittedStack.splice(L,1),this.parsingContext.idStack.splice(L,1),this.parsingContext.graphStack.splice(L+1,1),this.parsingContext.graphContainerTermStack.splice(L,1),this.parsingContext.jsonLiteralStack.splice(L,1),this.parsingContext.validationStack.splice(L-1,2),this.parsingContext.literalStack.splice(L,this.parsingContext.literalStack.length-L),this.parsingContext.annotationsBuffer.splice(L,1)}async flushBuffer(L,z){let W=this.parsingContext.idStack[L];!!W||(W=this.parsingContext.idStack[L]=[this.util.dataFactory.blankNode()]);const Ce=this.parsingContext.unidentifiedValuesBuffer[L];if(Ce){for(const pe of W){const _e=await this.util.getDepthOffsetGraph(L,z),et=this.parsingContext.graphStack[L]||_e>=0?this.parsingContext.idStack[L-_e-1]:[await this.util.getGraphContainerValue(z,L)];if(et)for(const rt of et){this.parsingContext.emittedStack[L]=!0;for(const xe of Ce)this.util.emitQuadChecked(L,pe,xe.predicate,xe.object,rt,xe.reverse,xe.isEmbedded)}else{const rt=this.parsingContext.getUnidentifiedGraphBufferSafe(L-await this.util.getDepthOffsetGraph(L,z)-1);for(const xe of Ce)xe.reverse?rt.push({object:pe,predicate:xe.predicate,subject:xe.object,isEmbedded:xe.isEmbedded}):rt.push({object:xe.object,predicate:xe.predicate,subject:pe,isEmbedded:xe.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(L,1),this.parsingContext.literalStack.splice(L,1),this.parsingContext.jsonLiteralStack.splice(L,1)}const K=this.parsingContext.unidentifiedGraphsBuffer[L];if(K){for(const pe of W){const _e=L===1&&pe.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():pe;this.parsingContext.emittedStack[L]=!0;for(const et of K)this.parsingContext.emitQuad(L,this.util.dataFactory.quad(et.subject,et.predicate,et.object,_e))}this.parsingContext.unidentifiedGraphsBuffer.splice(L,1)}const re=this.parsingContext.annotationsBuffer[L];if(re){re.length>0&&L===1&&this.parsingContext.emitError(new t.ErrorCoded("Annotations can not be made on top-level nodes",t.ERROR_CODES.INVALID_ANNOTATION));const pe=this.parsingContext.getAnnotationsBufferSafe(L-1);for(const _e of re)pe.push(_e);delete this.parsingContext.annotationsBuffer[L]}}async validateKey(L,z,W){for(const $ of fh.ENTRY_HANDLERS)if(await $.validate(this.parsingContext,this.util,L,z,W))return{valid:!0,property:W||$.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=L=>{const z=this.jsonParser.stack.length,W=new Array(z+1).fill(0).map(($,Ce)=>Ce===z?this.jsonParser.key:this.jsonParser.stack[Ce].key);if(!this.isParsingContextInner(z)){const $=()=>this.newOnValueJob(W,L,z,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(W.slice(0,-1)))if(W[z]==="@context"){let Ce=this.contextJobs[z];Ce||(Ce=this.contextJobs[z]=[]),Ce.push($)}else this.contextAwaitingJobs.push({job:$,keys:W,depth:z});else this.lastOnValueJob=this.lastOnValueJob.then($);!this.parsingContext.streamingProfile&&z===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=L=>{this.emit("error",L)}}isParsingContextInner(L){for(let z=L;z>0;z--)if(this.jsonParser.stack[z-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const z of this.contextJobs)if(z)for(const W of z)await W();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const L=[];for(const z of this.contextAwaitingJobs)await this.util.unaliasKeyword(z.keys[z.depth],z.keys,z.depth,!0)==="@type"||typeof z.keys[z.depth]=="number"&&await this.util.unaliasKeyword(z.keys[z.depth-1],z.keys,z.depth-1,!0)==="@type"?this.typeJobs.push({job:z.job,keys:z.keys.slice(0,z.keys.length-1)}):L.push(z);for(const z of L){if(this.typeJobs.length>0){const W=[],$=[];for(let re=0;re<this.typeJobs.length;re++){const pe=this.typeJobs[re];T.Util.isPrefixArray(pe.keys,z.keys)&&(W.push(pe),$.push(re))}const Ce=W.sort((re,pe)=>re.keys.length-pe.keys.length);for(const re of Ce)await re.job();const K=$.sort().reverse();for(const re of K)this.typeJobs.splice(re,1)}await z.job()}}};return O.DEFAULT_PROCESSING_MODE="1.1",O.ENTRY_HANDLERS=[new i.EntryHandlerArrayValue,new u.EntryHandlerKeywordContext,new c.EntryHandlerKeywordId,new p.EntryHandlerKeywordIncluded,new d.EntryHandlerKeywordGraph,new m.EntryHandlerKeywordNest,new w.EntryHandlerKeywordType,new C.EntryHandlerKeywordValue,new N.EntryHandlerKeywordAnnotation,new a.EntryHandlerContainer,new S.EntryHandlerKeywordUnknownFallback,new s.EntryHandlerPredicate,new l.EntryHandlerInvalidFallback],Kp.JsonLdParser=O,Kp}var ZE;function zO(){return ZE||(ZE=1,function(e){var t=Nf&&Nf.__createBinding||(Object.create?function(i,a,l,s){s===void 0&&(s=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(i,s,u)}:function(i,a,l,s){s===void 0&&(s=l),i[s]=a[l]}),r=Nf&&Nf.__exportStar||function(i,a){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,i,l)};Object.defineProperty(e,"__esModule",{value:!0}),r(jx(),e)}(Nf)),Nf}var tc={},e1;function Vw(){if(e1)return tc;e1=1,Object.defineProperty(tc,"__esModule",{value:!0});var e=globalThis.fetch;const{fetch:t,Response:r,Request:i,Headers:a}=globalThis;return tc.Headers=a,tc.Request=i,tc.Response=r,tc.default=e,tc.fetch=t,tc}var WO=Xs();const Ag="http://www.w3.org/1999/02/22-rdf-syntax-ns#",xg="http://www.w3.org/2001/XMLSchema#",_y="http://www.w3.org/2000/10/swap/",ua={xsd:{decimal:`${xg}decimal`,boolean:`${xg}boolean`,double:`${xg}double`,integer:`${xg}integer`,string:`${xg}string`},rdf:{type:`${Ag}type`,nil:`${Ag}nil`,first:`${Ag}first`,rest:`${Ag}rest`,langString:`${Ag}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${_y}reify#forSome`,forAll:`${_y}reify#forAll`},log:{implies:`${_y}log#implies`,isImpliedBy:`${_y}log#isImpliedBy`}},{xsd:Sy}=ua,JO=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,t1={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},YO=/[\x00-\x20<>\\"\{\}\|\^\`]/,XO={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},QO=/$0^/;class $w{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._isImpliedBy=t.isImpliedBy,this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const r in this)!(r in XO)&&this[r]instanceof RegExp&&(this[r]=QO)}else this._n3Mode=t.n3!==!1;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,r){let i=this._input,a=i.length;for(;;){let u,d;for(;u=this._newline.exec(i);)this.comments&&(d=this._comment.exec(u[0]))&&l("comment",d[1],"",this._line,u[0].length),i=i.substr(u[0].length,i.length),a=i.length,this._line++;if(!u&&(u=this._whitespace.exec(i))&&(i=i.substr(u[0].length,i.length)),this._endOfFile.test(i))return r&&(this.comments&&(d=this._comment.exec(i))&&l("comment",d[1],"",this._line,i.length),i=null,l("eof","","",this._line,0)),this._input=i;const c=this._line,p=i[0];let m="",w="",S="",C=null,R=0,T=!1;switch(p){case"^":if(i.length<3)break;if(i[1]==="^"){if(this._previousMarker="^^",i=i.substr(2),i[0]!=="<"){T=!0;break}}else{this._n3Mode&&(R=1,m="^");break}case"<":if(C=this._unescapedIri.exec(i))m="IRI",w=C[1];else if(C=this._iri.exec(i)){if(w=this._unescape(C[1]),w===null||YO.test(w))return s(this);m="IRI"}else i.length>1&&i[1]==="<"?(m="<<",R=2):this._n3Mode&&i.length>1&&i[1]==="="&&(R=2,this._isImpliedBy?(m="abbreviation",w="<"):(m="inverse",w=">"));break;case">":i.length>1&&i[1]===">"&&(m=">>",R=2);break;case"_":((C=this._blank.exec(i))||r&&(C=this._blank.exec(`${i} `)))&&(m="blank",S="_",w=C[1]);break;case'"':if(C=this._simpleQuotedString.exec(i))w=C[1];else if({value:w,matchLength:R}=this._parseLiteral(i),w===null)return s(this);(C!==null||R!==0)&&(m="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(C=this._simpleApostropheString.exec(i))w=C[1];else if({value:w,matchLength:R}=this._parseLiteral(i),w===null)return s(this);(C!==null||R!==0)&&(m="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(C=this._variable.exec(i))&&(m="var",w=C[0]);break;case"@":this._previousMarker==="literal"&&(C=this._langcode.exec(i))?(m="langcode",w=C[1]):(C=this._keyword.exec(i))&&(m=C[0]);break;case".":if(i.length===1?r:i[1]<"0"||i[1]>"9"){m=".",R=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(C=this._number.exec(i)||r&&(C=this._number.exec(`${i} `)))&&(m="literal",w=C[0],S=typeof C[1]=="string"?Sy.double:typeof C[2]=="string"?Sy.decimal:Sy.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(C=this._sparqlKeyword.exec(i))?m=C[0].toUpperCase():T=!0;break;case"f":case"t":(C=this._boolean.exec(i))?(m="literal",w=C[0],S=Sy.boolean):T=!0;break;case"a":(C=this._shortPredicates.exec(i))?(m="abbreviation",w="a"):T=!0;break;case"=":this._n3Mode&&i.length>1&&(m="abbreviation",i[1]!==">"?(R=1,w="="):(R=2,w=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(R=1,m=p);break;case"{":!this._lineMode&&i.length>=2&&(i[1]==="|"?(m="{|",R=2):(m=p,R=1));break;case"|":i.length>=2&&i[1]==="}"&&(m="|}",R=2);break;default:T=!0}if(T&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(C=this._prefix.exec(i))?(m="prefix",w=C[1]||""):((C=this._prefixed.exec(i))||r&&(C=this._prefixed.exec(`${i} `)))&&(m="prefixed",S=C[1]||"",w=this._unescape(C[2]))),this._previousMarker==="^^")switch(m){case"prefixed":m="type";break;case"IRI":m="typeIRI";break;default:m=""}if(!m)return r||!/^'''|^"""/.test(i)&&/\n|\r/.test(i)?s(this):this._input=i;const E=R||C[0].length,N=l(m,w,S,c,E);this.previousToken=N,this._previousMarker=m,i=i.substr(E,i.length)}function l(u,d,c,p,m){const w=i?a-i.length:a,S=w+m,C={type:u,value:d,prefix:c,line:p,start:w,end:S};return t(null,C),C}function s(u){t(u._syntaxError(/^\S*/.exec(i)[0]))}}_unescape(t){let r=!1;const i=t.replace(JO,(a,l,s,u)=>{if(typeof l=="string")return String.fromCharCode(Number.parseInt(l,16));if(typeof s=="string"){let d=Number.parseInt(s,16);return d<=65535?String.fromCharCode(Number.parseInt(s,16)):String.fromCharCode(55296+((d-=65536)>>10),56320+(d&1023))}return u in t1?t1[u]:(r=!0,"")});return r?null:i}_parseLiteral(t){if(t.length>=3){const r=t.match(/^(?:"""|"|'''|'|)/)[0],i=r.length;let a=Math.max(this._literalClosingPos,i);for(;(a=t.indexOf(r,a))>0;){let l=0;for(;t[a-l-1]==="\\";)l++;if(l%2===0){const s=t.substring(i,a),u=s.split(/\r\n|\r|\n/).length-1,d=a+i;if(i===1&&u!==0||i===3&&this._lineMode)break;return this._line+=u,{value:this._unescape(s),matchLength:d}}a++}this._literalClosingPos=t.length-i+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const r=new Error(`Unexpected "${t}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,r){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof r=="function")queueMicrotask(()=>this._tokenizeToEnd(r,!0));else{const i=[];let a;if(this._tokenizeToEnd((l,s)=>l?a=l:i.push(s),!0),a)throw a;return i}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",i=>{this._input!==null&&i.length!==0&&(this._pendingBuffer&&(i=WO.Buffer.concat([this._pendingBuffer,i]),this._pendingBuffer=null),i[i.length-1]&128?this._pendingBuffer=i:(typeof this._input>"u"?this._input=this._readStartingBom(typeof i=="string"?i:i.toString()):this._input+=i,this._tokenizeToEnd(r,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),t.on("error",r)}}const{rdf:ZO,xsd:jf}=ua;let bh,eI=0;const hs={namedNode:Bx,blankNode:Hx,variable:$x,literal:Vx,defaultGraph:tI,quad:Qb,triple:Qb,fromTerm:Gg,fromQuad:Kx};class Ro{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof Ro?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class Av extends Ro{get termType(){return"NamedNode"}}class fc extends Ro{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let r=t.lastIndexOf('"')+1;return r<t.length&&t[r++]==="@"?t.substr(r).toLowerCase():""}get datatype(){return new Av(this.datatypeString)}get datatypeString(){const t=this.id,r=t.lastIndexOf('"')+1,i=r<t.length?t[r]:"";return i==="^"?t.substr(r+2):i!=="@"?jf.string:ZO.langString}equals(t){return t instanceof fc?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class Kw extends Ro{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class Gw extends Ro{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class qw extends Ro{constructor(){return super(""),bh||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}}bh=new qw;function Vf(e,t,r){if(t=t||hs,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===hs)return new fc(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));const i=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,i-1),e[i+1]==="@"?e.substr(i+2):t.namedNode(e.substr(i+3)));case"[":e=JSON.parse(e);break;default:if(!r||!Array.isArray(e))return t.namedNode(e)}return t.quad(Vf(e[0],t,!0),Vf(e[1],t,!0),Vf(e[2],t,!0),e[3]&&Vf(e[3],t,!0))}function lc(e,t){if(typeof e=="string")return e;if(e instanceof Ro&&e.termType!=="Quad")return e.id;if(!e)return bh.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==jf.string?`^^${e.datatype.value}`:""}`;case"Quad":const r=[lc(e.subject,!0),lc(e.predicate,!0),lc(e.object,!0)];return e.graph&&e.graph.termType!=="DefaultGraph"&&r.push(lc(e.graph,!0)),t?r:JSON.stringify(r);default:throw new Error(`Unexpected termType: ${e.termType}`)}}class ph extends Ro{constructor(t,r,i,a){super(""),this._subject=t,this._predicate=r,this._object=i,this._graph=a||bh}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}}function Bx(e){return new Av(e)}function Hx(e){return new Kw(e||`n3-${eI++}`)}function Vx(e,t){if(typeof t=="string")return new fc(`"${e}"@${t.toLowerCase()}`);let r=t?t.value:"";return r===""&&(typeof e=="boolean"?r=jf.boolean:typeof e=="number"&&(Number.isFinite(e)?r=Number.isInteger(e)?jf.integer:jf.double:(r=jf.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),r===""||r===jf.string?new fc(`"${e}"`):new fc(`"${e}"^^${r}`)}function $x(e){return new Gw(e)}function tI(){return bh}function Qb(e,t,r,i){return new ph(e,t,r,i)}function Gg(e){if(e instanceof Ro)return e;switch(e.termType){case"NamedNode":return Bx(e.value);case"BlankNode":return Hx(e.value);case"Variable":return $x(e.value);case"DefaultGraph":return bh;case"Literal":return Vx(e.value,e.language||e.datatype);case"Quad":return Kx(e);default:throw new Error(`Unexpected termType: ${e.termType}`)}}function Kx(e){if(e instanceof ph)return e;if(e.termType!=="Quad")throw new Error(`Unexpected termType: ${e.termType}`);return Qb(Gg(e.subject),Gg(e.predicate),Gg(e.object),Gg(e.graph))}let n1=0;class xv{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&Gx(this,t.factory);const r=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",i=/turtle/.test(r),a=/trig/.test(r),l=/triple/.test(r),s=/quad/.test(r),u=this._n3Mode=/n3/.test(r),d=l||s;(this._supportsNamedGraphs=!(i||u))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(i||a||l||u),this._isImpliedBy=t.isImpliedBy,this._supportsRDFStar=r===""||/star|\*$/.test(r),d&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new $w({lineMode:d,n3:u,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){n1=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const r=t.indexOf("#");r>=0&&(t=t.substr(0,r)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,r,i,a,l){const s=this._n3Mode;this._contextStack.push({type:t,subject:i,predicate:a,object:l,graph:r,inverse:s?this._inversePredicate:!1,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,r){const i=this._contextStack.pop();if(!i||i.type!==t)return this._error(`Unexpected ${r.type}`,r);this._subject=i.subject,this._predicate=i.predicate,this._object=i.object,this._graph=i.graph,this._n3Mode&&(this._inversePredicate=i.inverse,this._prefixes._=i.blankPrefix,this._quantified=i.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,r){let i;switch(t.type){case"IRI":case"typeIRI":const a=this._resolveIRI(t.value);if(a===null)return this._error("Invalid IRI",t);i=this._factory.namedNode(a);break;case"type":case"prefixed":const l=this._prefixes[t.prefix];if(l===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);i=this._factory.namedNode(l+t.value);break;case"blank":i=this._factory.blankNode(this._prefixes[t.prefix]+t.value);break;case"var":i=this._factory.variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!r&&this._n3Mode&&i.id in this._quantified&&(i=this._quantified[i.id]),i}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const r=t.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,t):(this._subject=null,r==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const r=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let r=null,i=null,a=this._readListItem;const l=this._subject,s=this._contextStack,u=s[s.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,i=this._factory.blankNode(),this.RDF_FIRST,this._subject=r=this._factory.blankNode()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,i=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),s.length!==0&&s[s.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;i=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,a=this._readListItemDataTypeOrLang):(r=this._factory.literal(t.value,this._factory.namedNode(t.prefix)),a=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((r=this._readEntity(t))===void 0)return}if(i===null&&(this._subject=i=this._factory.blankNode()),l===null?u.predicate===null?u.subject=i:u.object=i:this._emit(l,this.RDF_REST,i,this._graph),r!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,i,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(i,this.RDF_FIRST,r,this._graph)}return a}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let r=this._factory.literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const i=this._readEntity(t);if(i===void 0)return;r=this._factory.literal(this._literalValue,i),t=null;break;case"langcode":r=this._factory.literal(this._literalValue,t.value),t=null;break}return{token:t,literal:r}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,r){const i=this._completeLiteral(t);if(i)return this._object=i.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),i.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(i.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let r,i=this._graph;const a=this._subject,l=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,l&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);const s=this._predicate,u=this._object;this._subject=this._factory.quad(a,s,u,this.DEFAULTGRAPH),r=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,r=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(i=this._readEntity(t))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(a!==null){const s=this._predicate,u=this._object;l?this._emit(u,s,a,i):this._emit(a,s,u,i)}return r}_readBlankNodePunctuation(t){let r;switch(t.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const r=this._readEntity(t);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(t){const r=t.type==="IRI"&&this._resolveIRI(t.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let r;switch(t.type){case"IRI":case"prefixed":if((r=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const r=this._contextStack,i=r.length&&r[r.length-1];if(i&&i.type==="item"){const a=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,a,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let r,i;const a=this._factory.blankNode();if((i=this._readEntity(t))!==void 0)return this._predicate===null?(r=this._subject,this._subject=a):(r=this._object,this._object=a),this._emit(r,i,a,this._graph),this._readPath}_readBackwardPath(t){const r=this._factory.blankNode();let i,a;if((i=this._readEntity(t))!==void 0)return this._predicate===null?(a=this._subject,this._subject=r):(a=this._object,this._object=r),this._emit(r,i,a,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const r=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,r,i,a){this._callback(null,this._factory.quad(t,r,i,a||this.DEFAULTGRAPH))}_error(t,r){const i=new Error(`${t} on line ${r.line}.`);i.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(i),this._callback=Ey}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const r=t.length;let i="",a=-1,l=-1,s=0,u="/";for(;a<r;){switch(u){case":":if(l<0&&t[++a]==="/"&&t[++a]==="/")for(;(l=a+1)<r&&t[l]!=="/";)a=l;break;case"?":case"#":a=r;break;case"/":if(t[a+1]===".")switch(u=t[++a+1],u){case"/":i+=t.substring(s,a-1),s=a+1;break;case void 0:case"?":case"#":return i+t.substring(s,a)+t.substr(a+1);case".":if(u=t[++a+1],u===void 0||u==="/"||u==="?"||u==="#"){if(i+=t.substring(s,a-2),(s=i.lastIndexOf("/"))>=l&&(i=i.substr(0,s)),u!=="/")return`${i}/${t.substr(a+1)}`;s=a+1}}}u=t[++a]}return i+t.substring(s)}parse(t,r,i){let a,l,s;if(r&&(r.onQuad||r.onPrefix||r.onComment)?(a=r.onQuad,l=r.onPrefix,s=r.onComment):(a=r,l=i),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${n1++}_`,this._prefixCallback=l||Ey,this._inversePredicate=!1,this._quantified=Object.create(null),!a){const d=[];let c;if(this._callback=(p,m)=>{p?c=p:m&&d.push(m)},this._lexer.tokenize(t).every(p=>this._readCallback=this._readCallback(p)),c)throw c;return d}let u=(d,c)=>{d!==null?(this._callback(d),this._callback=Ey):this._readCallback&&(this._readCallback=this._readCallback(c))};s&&(this._lexer.comments=!0,u=(d,c)=>{d!==null?(this._callback(d),this._callback=Ey):this._readCallback&&(c.type==="comment"?s(c.value):this._readCallback=this._readCallback(c))}),this._callback=a,this._lexer.tokenize(t,u)}}function Ey(){}function Gx(e,t){e._factory=t,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=t.namedNode(ua.rdf.first),e.RDF_REST=t.namedNode(ua.rdf.rest),e.RDF_NIL=t.namedNode(ua.rdf.nil),e.N3_FORALL=t.namedNode(ua.r.forAll),e.N3_FORSOME=t.namedNode(ua.r.forSome),e.ABBREVIATIONS={a:t.namedNode(ua.rdf.type),"=":t.namedNode(ua.owl.sameAs),">":t.namedNode(ua.log.implies),"<":t.namedNode(ua.log.isImpliedBy)},e.QUANTIFIERS_GRAPH=t.namedNode("urn:n3:quantifiers")}Gx(xv.prototype,hs);function nI(e){return!!e&&e.termType==="NamedNode"}function rI(e){return!!e&&e.termType==="BlankNode"}function iI(e){return!!e&&e.termType==="Literal"}function aI(e){return!!e&&e.termType==="Variable"}function oI(e){return!!e&&e.termType==="Quad"}function em(e){return!!e&&e.termType==="DefaultGraph"}function sI(e){return em(e.graph)}function lI(e,t){return qx({"":e.value||e},t)("")}function qx(e,t){const r=Object.create(null);for(const a in e)i(a,e[a]);t=t||hs;function i(a,l){if(typeof l=="string"){const s=Object.create(null);r[a]=u=>s[u]||(s[u]=t.namedNode(l+u))}else if(!(a in r))throw new Error(`Unknown prefix: ${a}`);return r[a]}return i}const zx=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:sI,isBlankNode:rI,isDefaultGraph:em,isLiteral:iI,isNamedNode:nI,isQuad:oI,isVariable:aI,prefix:lI,prefixes:qx},Symbol.toStringTag,{value:"Module"}));function jy(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}const uI=/^:?[^:?#]*(?:[?#]|$)|^file:|^[^:]*:\/*[^?#]+?\/(?:\.\.?(?:\/|$)|\/)/i,cI=/^(?:(?:[^/?#]{3,}|\.?[^/?#.]\.?)(?:\/[^/?#]{3,}|\.?[^/?#.]\.?)*\/?)?(?:[?#]|$)/,r1="./",fI="../",ob="?",i1="#";class hm{constructor(t){this.base=t,this._baseLength=0,this._baseMatcher=null,this._pathReplacements=new Array(t.length+1)}static supports(t){return!uI.test(t)}_getBaseMatcher(){if(this._baseMatcher)return this._baseMatcher;if(!hm.supports(this.base))return this._baseMatcher=/.^/;const t=/^[^:]*:\/*/.exec(this.base)[0],r=["^",jy(t)],i=[],a=[],l=/[^/?#]*([/?#])/y;let s,u=0,d=0,c=l.lastIndex=t.length;for(;!u&&!d&&(s=l.exec(this.base));)s[1]===i1?d=l.lastIndex-1:(r.push(jy(s[0]),"(?:"),i.push(")?"),s[1]!==ob?a.push(c=l.lastIndex):(u=c=l.lastIndex,d=this.base.indexOf(i1,u),this._pathReplacements[u]=ob));for(let p=0;p<a.length;p++)this._pathReplacements[a[p]]=fI.repeat(a.length-p-1);return this._pathReplacements[a[a.length-1]]=r1,this._baseLength=d>0?d:this.base.length,r.push(jy(this.base.substring(c,this._baseLength)),u?"(?:#|$)":"(?:[?#]|$)"),this._baseMatcher=new RegExp([...r,...i].join(""))}toRelative(t){const r=this._getBaseMatcher().exec(t);if(!r)return t;const i=r[0].length;if(i===this._baseLength&&i===t.length)return"";const a=this._pathReplacements[i];if(a){const l=t.substring(i);return a!==ob&&!cI.test(l)?t:a===r1&&/^[^?#]/.test(l)?l:a+l}return t.substring(i-1)}}const Rg=hs.defaultGraph(),{rdf:dI,xsd:ih}=ua,a1=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,o1=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,hI={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class Cg extends Ro{equals(t){return t===this}}class pm{constructor(t,r){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(r=t,t=null),r=r||{},this._lists=r.lists,t)this._outputStream=t,this._endStream=r.end===void 0?!0:!!r.end;else{let i="";this._outputStream={write(a,l,s){i+=a,s&&s()},end:a=>{a&&a(null,i)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=Rg,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes),r.baseIRI&&(this._baseIri=new hm(r.baseIRI)))}get _inDefaultGraph(){return Rg.equals(this._graph)}_write(t,r){this._outputStream.write(t,"utf8",r)}_writeQuad(t,r,i,a,l){try{a.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(Rg.equals(a)?"":`${this._encodeIriOrBlank(a)} {
`)),this._graph=a,this._subject=null),t.equals(this._subject)?r.equals(this._predicate)?this._write(`, ${this._encodeObject(i)}`,l):this._write(`;
    ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(i)}`,l):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(i)}`,l)}catch(s){l&&l(s)}}_writeQuadLine(t,r,i,a,l){delete this._prefixMatch,this._write(this.quadToString(t,r,i,a),l)}quadToString(t,r,i,a){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(r)} ${this._encodeObject(i)}${a&&a.value?` ${this._encodeIriOrBlank(a)} .
`:` .
`}`}quadsToString(t){let r="";for(const i of t)r+=this.quadToString(i.subject,i.predicate,i.object,i.graph);return r}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let r=t.value;this._baseIri&&(r=this._baseIri.toRelative(r)),a1.test(r)&&(r=r.replace(o1,s1));const i=this._prefixRegex.exec(r);return i?i[1]?this._prefixIRIs[i[1]]+i[2]:r:`<${r}>`}_encodeLiteral(t){let r=t.value;if(a1.test(r)&&(r=r.replace(o1,s1)),t.language)return`"${r}"@${t.language}`;if(this._lineMode){if(t.datatype.value===ih.string)return`"${r}"`}else switch(t.datatype.value){case ih.string:return`"${r}"`;case ih.boolean:if(r==="true"||r==="false")return r;break;case ih.integer:if(/^[+-]?\d+$/.test(r))return r;break;case ih.decimal:if(/^[+-]?\d*\.\d+$/.test(r))return r;break;case ih.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(r))return r;break}return`"${r}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===dI.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:r,object:i,graph:a}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(r)} ${this._encodeObject(i)}${em(a)?"":` ${this._encodeIriOrBlank(a)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,r,i,a,l){i===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,r):typeof a=="function"?this._writeQuad(t,r,i,Rg,a):this._writeQuad(t,r,i,a||Rg,l)}addQuads(t){for(let r=0;r<t.length;r++)this.addQuad(t[r])}addPrefix(t,r,i){const a={};a[t]=r,this.addPrefixes(a,i)}addPrefixes(t,r){if(!this._prefixIRIs)return r&&r();let i=!1;for(let a in t){let l=t[a];typeof l!="string"&&(l=l.value),i=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[l]=a+=":",this._write(`@prefix ${a} <${l}>.
`)}if(i){let a="",l="";for(const s in this._prefixIRIs)a+=a?`|${s}`:s,l+=(l?"|":"")+this._prefixIRIs[s];a=jy(a),this._prefixRegex=new RegExp(`^(?:${l})[^/]*$|^(${a})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(i?`
`:"",r)}blank(t,r){let i=t,a,l;switch(t===void 0?i=[]:t.termType?i=[{predicate:t,object:r}]:"length"in t||(i=[t]),l=i.length){case 0:return new Cg("[]");case 1:if(a=i[0],!(a.object instanceof Cg))return new Cg(`[ ${this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)} ]`);default:let s="[";for(let u=0;u<l;u++)a=i[u],a.predicate.equals(t)?s+=`, ${this._encodeObject(a.object)}`:(s+=`${(u?`;
  `:`
  `)+this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)}`,t=a.predicate);return new Cg(`${s}
]`)}}list(t){const r=t&&t.length||0,i=new Array(r);for(let a=0;a<r;a++)i[a]=this._encodeObject(t[a]);return new Cg(`(${i.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let r=t&&((i,a)=>{r=null,t(i,a)});if(this._endStream)try{return this._outputStream.end(r)}catch{}r&&r()}}function s1(e){let t=hI[e];return t===void 0&&(e.length===1?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}var Rv=Tx();const sb=Symbol("iter");function Jg(e,t,r=4){if(r===0)return Object.assign(e,t);for(const i in t)e[i]=Jg(e[i]||Object.create(null),t[i],r-1);return e}function Wx(e,t,r=4){let i=!1;for(const a in e)if(a in t){const l=r===0?null:Wx(e[a],t[a],r-1);if(l!==!1)i=i||Object.create(null),i[a]=l;else if(r===3)return!1}return i}function Jx(e,t,r=4){let i=!1;for(const a in e)if(!(a in t))i=i||Object.create(null),i[a]=r===0?null:Jg({},e[a],r-1);else if(r!==0){const l=Jx(e[a],t[a],r-1);if(l!==!1)i=i||Object.create(null),i[a]=l;else if(r===3)return!1}return i}class zw{constructor(t={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=t.factory||hs}_termFromId(t){if(t[0]==="."){const r=this._entities,i=t.split(".");return this._factory.quad(this._termFromId(r[i[1]]),this._termFromId(r[i[2]]),this._termFromId(r[i[3]]),i[4]&&this._termFromId(r[i[4]]))}return Vf(t,this._factory)}_termToNumericId(t){if(t.termType==="Quad"){const r=this._termToNumericId(t.subject),i=this._termToNumericId(t.predicate),a=this._termToNumericId(t.object);let l;return r&&i&&a&&(em(t.graph)||(l=this._termToNumericId(t.graph)))&&this._ids[l?`.${r}.${i}.${a}.${l}`:`.${r}.${i}.${a}`]}return this._ids[lc(t)]}_termToNewNumericId(t){const r=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${em(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:lc(t);return this._ids[r]||(this._ids[this._entities[++this._id]=r]=this._id)}createBlankNode(t){let r,i;if(t)for(r=t=`_:${t}`,i=1;this._ids[r];)r=t+i++;else do r=`_:b${this._blankNodeIndex++}`;while(this._ids[r]);return this._ids[r]=++this._id,this._entities[this._id]=r,this._factory.blankNode(r.substr(2))}}class Sa{constructor(t,r){this._size=0,this._graphs=Object.create(null),!r&&t&&!t[0]&&typeof t.match!="function"&&(r=t,t=null),r=r||{},this._factory=r.factory||hs,this._entityIndex=r.entityIndex||new zw({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),t&&this.addAll(t)}get size(){let t=this._size;if(t!==null)return t;t=0;const r=this._graphs;let i,a;for(const l in r)for(const s in i=r[l].subjects)for(const u in a=i[s])t+=Object.keys(a[u]).length;return this._size=t}_addToIndex(t,r,i,a){const l=t[r]||(t[r]={}),s=l[i]||(l[i]={}),u=a in s;return u||(s[a]=null),!u}_removeFromIndex(t,r,i,a){const l=t[r],s=l[i];delete s[a];for(const u in s)return;delete l[i];for(const u in l)return;delete t[r]}*_findInIndex(t,r,i,a,l,s,u,d){let c,p,m;const w=this._entities,S=this._termFromId(w[d]),C={subject:null,predicate:null,object:null};r&&((c=t,t={})[r]=c[r]);for(const R in t)if(p=t[R]){C[l]=this._termFromId(w[R]),i&&((c=p,p={})[i]=c[i]);for(const T in p)if(m=p[T]){C[s]=this._termFromId(w[T]);const E=a?a in m?[a]:[]:Object.keys(m);for(let N=0;N<E.length;N++)C[u]=this._termFromId(w[E[N]]),yield this._factory.quad(C.subject,C.predicate,C.object,S)}}}_loop(t,r){for(const i in t)r(i)}_loopByKey0(t,r,i){let a,l;if(a=t[r])for(l in a)i(l)}_loopByKey1(t,r,i){let a,l;for(a in t)l=t[a],l[r]&&i(a)}_loopBy2Keys(t,r,i,a){let l,s,u;if((l=t[r])&&(s=l[i]))for(u in s)a(u)}_countInIndex(t,r,i,a){let l=0,s,u,d;r&&((s=t,t={})[r]=s[r]);for(const c in t)if(u=t[c]){i&&((s=u,u={})[i]=s[i]);for(const p in u)(d=u[p])&&(a?a in d&&l++:l+=Object.keys(d).length)}return l}_getGraphs(t){return t=t===""?1:t&&(this._termToNumericId(t)||-1),typeof t!="number"?this._graphs:{[t]:this._graphs[t]}}_uniqueEntities(t){const r=Object.create(null);return i=>{i in r||(r[i]=!0,t(this._termFromId(this._entities[i],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,r,i,a){r||(a=t.graph,i=t.object,r=t.predicate,t=t.subject),a=a?this._termToNewNumericId(a):1;let l=this._graphs[a];return l||(l=this._graphs[a]={subjects:{},predicates:{},objects:{}},Object.freeze(l)),t=this._termToNewNumericId(t),r=this._termToNewNumericId(r),i=this._termToNewNumericId(i),this._addToIndex(l.subjects,t,r,i)?(this._addToIndex(l.predicates,r,i,t),this._addToIndex(l.objects,i,t,r),this._size=null,!0):!1}addQuads(t){for(let r=0;r<t.length;r++)this.addQuad(t[r])}delete(t){return this.removeQuad(t),this}has(t,r,i,a){return t&&t.subject&&({subject:t,predicate:r,object:i,graph:a}=t),!this.readQuads(t,r,i,a).next().done}import(t){return t.on("data",r=>{this.addQuad(r)}),t}removeQuad(t,r,i,a){r||({subject:t,predicate:r,object:i,graph:a}=t),a=a?this._termToNumericId(a):1;const l=this._graphs;let s,u,d;if(!(t=t&&this._termToNumericId(t))||!(r=r&&this._termToNumericId(r))||!(i=i&&this._termToNumericId(i))||!(s=l[a])||!(u=s.subjects[t])||!(d=u[r])||!(i in d))return!1;this._removeFromIndex(s.subjects,t,r,i),this._removeFromIndex(s.predicates,r,i,t),this._removeFromIndex(s.objects,i,t,r),this._size!==null&&this._size--;for(t in s.subjects)return!0;return delete l[a],!0}removeQuads(t){for(let r=0;r<t.length;r++)this.removeQuad(t[r])}remove(t){return t.on("data",r=>{this.removeQuad(r)}),t}removeMatches(t,r,i,a){const l=new Rv.Readable({objectMode:!0}),s=this.readQuads(t,r,i,a);return l._read=u=>{for(;--u>=0;){const{done:d,value:c}=s.next();if(d){l.push(null);return}l.push(c)}},this.remove(l)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,r,i,a){return[...this.readQuads(t,r,i,a)]}*readQuads(t,r,i,a){const l=this._getGraphs(a);let s,u,d,c;if(!(t&&!(u=this._termToNumericId(t))||r&&!(d=this._termToNumericId(r))||i&&!(c=this._termToNumericId(i))))for(const p in l)(s=l[p])&&(u?c?yield*this._findInIndex(s.objects,c,u,d,"object","subject","predicate",p):yield*this._findInIndex(s.subjects,u,d,null,"subject","predicate","object",p):d?yield*this._findInIndex(s.predicates,d,c,null,"predicate","object","subject",p):c?yield*this._findInIndex(s.objects,c,null,null,"object","subject","predicate",p):yield*this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",p))}match(t,r,i,a){return new oc(this,t,r,i,a,{entityIndex:this._entityIndex})}countQuads(t,r,i,a){const l=this._getGraphs(a);let s=0,u,d,c,p;if(t&&!(d=this._termToNumericId(t))||r&&!(c=this._termToNumericId(r))||i&&!(p=this._termToNumericId(i)))return 0;for(const m in l)(u=l[m])&&(t?i?s+=this._countInIndex(u.objects,p,d,c):s+=this._countInIndex(u.subjects,d,c,p):r?s+=this._countInIndex(u.predicates,c,p,d):s+=this._countInIndex(u.objects,p,d,c));return s}forEach(t,r,i,a,l){this.some(s=>(t(s,this),!1),r,i,a,l)}every(t,r,i,a,l){return!this.some(s=>!t(s,this),r,i,a,l)}some(t,r,i,a,l){for(const s of this.readQuads(r,i,a,l))if(t(s,this))return!0;return!1}getSubjects(t,r,i){const a=[];return this.forSubjects(l=>{a.push(l)},t,r,i),a}forSubjects(t,r,i,a){const l=this._getGraphs(a);let s,u,d;if(t=this._uniqueEntities(t),!(r&&!(u=this._termToNumericId(r))||i&&!(d=this._termToNumericId(i))))for(a in l)(s=l[a])&&(u?d?this._loopBy2Keys(s.predicates,u,d,t):this._loopByKey1(s.subjects,u,t):d?this._loopByKey0(s.objects,d,t):this._loop(s.subjects,t))}getPredicates(t,r,i){const a=[];return this.forPredicates(l=>{a.push(l)},t,r,i),a}forPredicates(t,r,i,a){const l=this._getGraphs(a);let s,u,d;if(t=this._uniqueEntities(t),!(r&&!(u=this._termToNumericId(r))||i&&!(d=this._termToNumericId(i))))for(a in l)(s=l[a])&&(u?d?this._loopBy2Keys(s.objects,d,u,t):this._loopByKey0(s.subjects,u,t):d?this._loopByKey1(s.predicates,d,t):this._loop(s.predicates,t))}getObjects(t,r,i){const a=[];return this.forObjects(l=>{a.push(l)},t,r,i),a}forObjects(t,r,i,a){const l=this._getGraphs(a);let s,u,d;if(t=this._uniqueEntities(t),!(r&&!(u=this._termToNumericId(r))||i&&!(d=this._termToNumericId(i))))for(a in l)(s=l[a])&&(u?d?this._loopBy2Keys(s.subjects,u,d,t):this._loopByKey1(s.objects,u,t):d?this._loopByKey0(s.predicates,d,t):this._loop(s.objects,t))}getGraphs(t,r,i){const a=[];return this.forGraphs(l=>{a.push(l)},t,r,i),a}forGraphs(t,r,i,a){for(const l in this._graphs)this.some(s=>(t(s.graph),!0),r,i,a,this._termFromId(this._entities[l]))}createBlankNode(t){return this._entityIndex.createBlankNode(t)}extractLists({remove:t=!1,ignoreErrors:r=!1}={}){const i={},a=r?()=>!0:(u,d)=>{throw new Error(`${u.value} ${d}`)},l=this.getQuads(null,ua.rdf.rest,ua.rdf.nil,null),s=t?[...l]:[];return l.forEach(u=>{const d=[];let c=!1,p,m;const w=u.graph;let S=u.subject;for(;S&&!c;){const C=this.getQuads(null,null,S,null),R=this.getQuads(S,null,null,null);let T,E=null,N=null,O=null;for(let V=0;V<R.length&&!c;V++)T=R[V],T.graph.equals(w)?p?c=a(S,"has non-list arcs out"):T.predicate.value===ua.rdf.first?E?c=a(S,"has multiple rdf:first arcs"):s.push(E=T):T.predicate.value===ua.rdf.rest?N?c=a(S,"has multiple rdf:rest arcs"):s.push(N=T):C.length?c=a(S,"can't be subject and object"):(p=T,m="subject"):c=a(S,"not confined to single graph");for(let V=0;V<C.length&&!c;++V)T=C[V],p?c=a(S,"can't have coreferences"):T.predicate.value===ua.rdf.rest?O?c=a(S,"has incoming rdf:rest arcs"):O=T:(p=T,m="object");E?d.unshift(E.object):c=a(S,"has no list head"),S=O&&O.subject}c?t=!1:p&&(i[p[m].value]=d)}),t&&this.removeQuads(s),i}addAll(t){if(t instanceof oc&&(t=t.filtered),Array.isArray(t))this.addQuads(t);else if(t instanceof Sa&&t._entityIndex===this._entityIndex)t._size!==0&&(this._graphs=Jg(this._graphs,t._graphs),this._size=null);else for(const r of t)this.add(r);return this}contains(t){if(t instanceof oc&&(t=t.filtered),t===this)return!0;if(!(t instanceof Sa)||this._entityIndex!==t._entityIndex)return t.every(c=>this.has(c));const r=this._graphs,i=t._graphs;let a,l,s,u,d;for(const c in i){if(!(a=r[c]))return!1;a=a.subjects;for(const p in l=i[c].subjects){if(!(s=a[p]))return!1;for(const m in u=l[p]){if(!(d=s[m]))return!1;for(const w in u[m])if(!(w in d))return!1}}}return!0}deleteMatches(t,r,i,a){for(const l of this.match(t,r,i,a))this.removeQuad(l);return this}difference(t){if(t&&t instanceof oc&&(t=t.filtered),t===this)return new Sa({entityIndex:this._entityIndex});if(t instanceof Sa&&t._entityIndex===this._entityIndex){const r=new Sa({entityIndex:this._entityIndex}),i=Jx(this._graphs,t._graphs);return i&&(r._graphs=i,r._size=null),r}return this.filter(r=>!t.has(r))}equals(t){return t instanceof oc&&(t=t.filtered),t===this||this.size===t.size&&this.contains(t)}filter(t){const r=new Sa({entityIndex:this._entityIndex});for(const i of this)t(i,this)&&r.add(i);return r}intersection(t){if(t instanceof oc&&(t=t.filtered),t===this){const r=new Sa({entityIndex:this._entityIndex});return r._graphs=Jg(Object.create(null),this._graphs),r._size=this._size,r}else if(t instanceof Sa&&this._entityIndex===t._entityIndex){const r=new Sa({entityIndex:this._entityIndex}),i=Wx(t._graphs,this._graphs);return i&&(r._graphs=i,r._size=null),r}return this.filter(r=>t.has(r))}map(t){const r=new Sa({entityIndex:this._entityIndex});for(const i of this)r.add(t(i,this));return r}reduce(t,r){const i=this.readQuads();let a=r===void 0?i.next().value:r;for(const l of i)a=t(a,l,this);return a}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new pm().quadsToString(this)}union(t){const r=new Sa({entityIndex:this._entityIndex});return r._graphs=Jg(Object.create(null),this._graphs),r._size=this._size,r.addAll(t),r}*[Symbol.iterator](){yield*this.readQuads()}}function Hs(e,t,r=0){const i=t[r];if(i&&!(i in e))return!1;let a=!1;for(const l in i?{[i]:e[i]}:e){const s=r===2?null:Hs(e[l],t,r+1);s!==!1&&(a=a||Object.create(null),a[l]=s)}return a}class oc extends Rv.Readable{constructor(t,r,i,a,l,s){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:r,predicate:i,object:a,graph:l,options:s})}get filtered(){if(!this._filtered){const{n3Store:t,graph:r,object:i,predicate:a,subject:l}=this,s=this._filtered=new Sa({factory:t._factory,entityIndex:this.options.entityIndex});let u,d,c;if(l&&!(u=s._termToNumericId(l))||a&&!(d=s._termToNumericId(a))||i&&!(c=s._termToNumericId(i)))return s;const p=t._getGraphs(r);for(const m in p){let w,S,C,R;(R=p[m])&&(!u&&d?(S=Hs(R.predicates,[d,c,u]))&&(w=Hs(R.subjects,[u,d,c]),C=Hs(R.objects,[c,u,d])):c?(C=Hs(R.objects,[c,u,d]))&&(w=Hs(R.subjects,[u,d,c]),S=Hs(R.predicates,[d,c,u])):(w=Hs(R.subjects,[u,d,c]))&&(S=Hs(R.predicates,[d,c,u]),C=Hs(R.objects,[c,u,d])),w&&(s._graphs[m]={subjects:w,predicates:S,objects:C}))}s._size=null}return this._filtered}get size(){return this.filtered.size}_read(t){t>0&&!this[sb]&&(this[sb]=this[Symbol.iterator]());const r=this[sb];for(;--t>=0;){const{done:i,value:a}=r.next();if(i){this.push(null);return}this.push(a)}}addAll(t){return this.filtered.addAll(t)}contains(t){return this.filtered.contains(t)}deleteMatches(t,r,i,a){return this.filtered.deleteMatches(t,r,i,a)}difference(t){return this.filtered.difference(t)}equals(t){return this.filtered.equals(t)}every(t,r,i,a,l){return this.filtered.every(t,r,i,a,l)}filter(t){return this.filtered.filter(t)}forEach(t,r,i,a,l){return this.filtered.forEach(t,r,i,a,l)}import(t){return this.filtered.import(t)}intersection(t){return this.filtered.intersection(t)}map(t){return this.filtered.map(t)}some(t,r,i,a,l){return this.filtered.some(t,r,i,a,l)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(t){return this._filtered?this._filtered.union(t):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(t)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(t,r){return this.filtered.reduce(t,r)}toString(){return new pm().quadsToString(this)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,r,i,a){return new oc(this.filtered,t,r,i,a,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class Yx{dataset(t){return new Sa(t)}}function Xx(e){const t=[];for(const{subject:r,object:i}of e.match(null,hs.namedNode("http://www.w3.org/2000/10/swap/log#implies"),null,hs.defaultGraph())){const a=[...e.match(null,null,null,r)],l=[...e.match(null,null,null,i)];t.push({premise:a,conclusion:l})}return t}class Qx{constructor(t){this._store=t}_add(t,r,i,a,l){this._store._addToIndex(a.subjects,t,r,i)&&(this._store._addToIndex(a.predicates,r,i,t),this._store._addToIndex(a.objects,i,t,r),l())}_evaluatePremise(t,r,i,a=0){let l,s,u,d,c;const[p,m,w]=t.premise[a].value,S=r[t.premise[a].content],C=!(u=p.value);for(u in C?S:{[u]:S[u]})if(d=S[u]){C&&(p.value=Number(u)),l=!(u=m.value);for(u in l?d:{[u]:d[u]})if(c=d[u]){l&&(m.value=Number(u)),s=!(u=w.value);for(u in s?c:{[u]:c[u]})s&&(w.value=Number(u)),a===t.premise.length-1?t.conclusion.forEach(R=>{this._add(R.subject.value,R.predicate.value,R.object.value,r,()=>{i(R)})}):this._evaluatePremise(t,r,i,a+1);s&&(w.value=null)}l&&(m.value=null)}C&&(p.value=null)}_evaluateRules(t,r,i){for(let a=0;a<t.length;a++)this._evaluatePremise(t[a],r,i)}_reasonGraphNaive(t,r){const i=[];function a(u){u.next&&u.next.forEach(d=>{i.push([u.subject.value,u.predicate.value,u.object.value,d])})}const l=u=>{u.forEach(d=>{this._add(d.subject.value,d.predicate.value,d.object.value,r,()=>{a(d)})})};this._evaluateRules(t,r,a);let s;for(;(s=i.pop())!==void 0;){const[u,d,c,p]=s,m=p.basePremise.subject.value;m||(p.basePremise.subject.value=u);const w=p.basePremise.predicate.value;w||(p.basePremise.predicate.value=d);const S=p.basePremise.object.value;S||(p.basePremise.object.value=c),p.premise.length===0?l(p.conclusion):this._evaluatePremise(p,r,a),m||(p.basePremise.subject.value=null),w||(p.basePremise.predicate.value=null),S||(p.basePremise.object.value=null)}}_createRule({premise:t,conclusion:r}){const i={},a=s=>s.termType==="Variable"?i[s.value]=i[s.value]||{}:{value:this._store._termToNewNumericId(s)},l=s=>({subject:a(s.subject),predicate:a(s.predicate),object:a(s.object)});return{premise:t.map(s=>l(s)),conclusion:r.map(s=>l(s)),variables:Object.values(i)}}reason(t){Array.isArray(t)||(t=Xx(t)),t=t.map(i=>this._createRule(i));for(const i of t)for(const a of t)for(let l=0;l<a.premise.length;l++){const s=a.premise[l];for(const u of i.conclusion){if(lb(s.subject,u.subject)&&lb(s.predicate,u.predicate)&&lb(s.object,u.object)){const d=new Set,c=[];s.subject.value=s.subject.value||1,s.object.value=s.object.value||1,s.predicate.value=s.predicate.value||1;for(let p=0;p<a.premise.length;p++)p!==l&&c.push(l1(a.premise[p],d));(u.next=u.next||[]).push({premise:c,conclusion:a.conclusion,basePremise:s})}a.variables.forEach(d=>{d.value=null})}}for(const i of t){const a=new Set;i.premise=i.premise.map(l=>l1(l,a))}const r=this._store._getGraphs();for(const i in r)this._reasonGraphNaive(t,r[i]);this._store._size=null}}function l1({subject:e,predicate:t,object:r},i){const a=e.value||i.has(e)||(i.add(e),!1),l=t.value||i.has(t)||(i.add(t),!1),s=r.value||i.has(r)||(i.add(r),!1);return!a&&l?{content:"predicates",value:[t,r,e]}:s?{content:"objects",value:[r,e,t]}:{content:"subjects",value:[e,t,r]}}function lb(e,t){return e.value===null&&(e.value=t.value),e.value===t.value}class Zx extends Rv.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const r=new xv(t);let i,a;const l={onQuad:(s,u)=>{s&&this.emit("error",s)||u&&this.push(u)},onPrefix:(s,u)=>{this.emit("prefix",s,u)}};t&&t.comments&&(l.onComment=s=>{this.emit("comment",s)}),r.parse({on:(s,u)=>{switch(s){case"data":i=u;break;case"end":a=u;break}}},l),this._transform=(s,u,d)=>{i(s),d()},this._flush=s=>{a(),s()}}import(t){return t.on("data",r=>{this.write(r)}),t.on("end",()=>{this.end()}),t.on("error",r=>{this.emit("error",r)}),this}}class eR extends Rv.Transform{constructor(t){super({encoding:"utf8",writableObjectMode:!0});const r=this._writer=new pm({write:(i,a,l)=>{this.push(i),l&&l()},end:i=>{this.push(null),i&&i()}},t);this._transform=(i,a,l)=>{r.addQuad(i,l)},this._flush=i=>{r.end(i)}}import(t){return t.on("data",r=>{this.write(r)}),t.on("end",()=>{this.end()}),t.on("error",r=>{this.emit("error",r)}),t.on("prefix",(r,i)=>{this._writer.addPrefix(r,i)}),this}}const pI={Lexer:$w,Parser:xv,Writer:pm,Store:Sa,StoreFactory:Yx,EntityIndex:zw,StreamParser:Zx,StreamWriter:eR,Util:zx,Reasoner:Qx,BaseIRI:hm,DataFactory:hs,Term:Ro,NamedNode:Av,Literal:fc,BlankNode:Kw,Variable:Gw,DefaultGraph:qw,Quad:ph,Triple:ph,termFromId:Vf,termToId:lc},gI=Object.freeze(Object.defineProperty({__proto__:null,BaseIRI:hm,BlankNode:Kw,DataFactory:hs,DefaultGraph:qw,EntityIndex:zw,Lexer:$w,Literal:fc,NamedNode:Av,Parser:xv,Quad:ph,Reasoner:Qx,Store:Sa,StoreFactory:Yx,StreamParser:Zx,StreamWriter:eR,Term:Ro,Triple:ph,Util:zx,Variable:Gw,Writer:pm,default:pI,getRulesFromDataset:Xx,termFromId:Vf,termToId:lc},Symbol.toStringTag,{value:"Module"})),mI=bv(gI);var ub,u1;function yI(){if(u1)return ub;u1=1;class e{constructor(r){this.value=r||"b"+ ++e.nextId}equals(r){return!!r&&r.termType===this.termType&&r.value===this.value}}return e.prototype.termType="BlankNode",e.nextId=0,ub=e,ub}var cb,c1;function tR(){if(c1)return cb;c1=1;class e{equals(r){return!!r&&r.termType===this.termType}}return e.prototype.termType="DefaultGraph",e.prototype.value="",cb=e,cb}var fb,f1;function vI(){if(f1)return fb;f1=1;function e(t){if(!t)return null;if(t.termType==="BlankNode")return this.blankNode(t.value);if(t.termType==="DefaultGraph")return this.defaultGraph();if(t.termType==="Literal")return this.literal(t.value,t.language||this.namedNode(t.datatype.value));if(t.termType==="NamedNode")return this.namedNode(t.value);if(t.termType==="Quad"){const r=this.fromTerm(t.subject),i=this.fromTerm(t.predicate),a=this.fromTerm(t.object),l=this.fromTerm(t.graph);return this.quad(r,i,a,l)}if(t.termType==="Variable")return this.variable(t.value);throw new Error(`unknown termType ${t.termType}`)}return fb=e,fb}var db,d1;function nR(){if(d1)return db;d1=1;class e{constructor(r){this.value=r}equals(r){return!!r&&r.termType===this.termType&&r.value===this.value}}return e.prototype.termType="NamedNode",db=e,db}var hb,h1;function bI(){if(h1)return hb;h1=1;const e=nR();class t{constructor(i,a,l){this.value=i,this.datatype=t.stringDatatype,this.language="",a?(this.language=a,this.datatype=t.langStringDatatype):l&&(this.datatype=l)}equals(i){return!!i&&i.termType===this.termType&&i.value===this.value&&i.language===this.language&&i.datatype.equals(this.datatype)}}return t.prototype.termType="Literal",t.langStringDatatype=new e("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.stringDatatype=new e("http://www.w3.org/2001/XMLSchema#string"),hb=t,hb}var pb,p1;function wI(){if(p1)return pb;p1=1;const e=tR();class t{constructor(i,a,l,s){this.subject=i,this.predicate=a,this.object=l,s?this.graph=s:this.graph=new e}equals(i){return!!i&&(i.termType==="Quad"||!i.termType)&&i.subject.equals(this.subject)&&i.predicate.equals(this.predicate)&&i.object.equals(this.object)&&i.graph.equals(this.graph)}}return t.prototype.termType="Quad",t.prototype.value="",pb=t,pb}var gb,g1;function _I(){if(g1)return gb;g1=1;class e{constructor(r){this.value=r}equals(r){return!!r&&r.termType===this.termType&&r.value===this.value}}return e.prototype.termType="Variable",gb=e,gb}var mb,m1;function SI(){if(m1)return mb;m1=1;const e=yI(),t=tR(),r=vI(),i=bI(),a=nR(),l=wI(),s=_I();function u(E){return new a(E)}function d(E){return new e(E)}function c(E,N){return typeof N=="string"?N.indexOf(":")===-1?new i(E,N):new i(E,null,T.namedNode(N)):new i(E,null,N)}function p(E){return new s(E)}function m(){return T.defaultGraphInstance}function w(E,N,O){return T.quad(E,N,O)}function S(E,N,O,V){return new l(E,N,O,V||T.defaultGraphInstance)}function C(E){return r.call(T,E)}function R(E){return r.call(T,E)}const T={namedNode:u,blankNode:d,literal:c,variable:p,defaultGraph:m,triple:w,quad:S,fromTerm:C,fromQuad:R,defaultGraphInstance:new t};return mb=T,mb}var yb,y1;function rR(){return y1||(y1=1,yb=SI()),yb}var vb,v1;function EI(){if(v1)return vb;v1=1;function e(s){return typeof s=="string"||s instanceof String}const t="http://www.w3.org/2001/XMLSchema#string";function r(s){if(typeof s=="string")return s;if(!s)return"";if(typeof s.id<"u"&&s.termType!=="Quad")return s.id;let u,d,c,p;switch(s.termType){case"NamedNode":return s.value;case"BlankNode":return`_:${s.value}`;case"Variable":return`?${s.value}`;case"DefaultGraph":return"";case"Literal":return s.language?`"${s.value}"@${s.language}`:`"${s.value}"${s.datatype&&s.datatype.value!==t?`^^${s.datatype.value}`:""}`;case"Quad":return u=a(r(s.subject)),d=a(r(s.predicate)),c=a(r(s.object)),p=s.graph.termType==="DefaultGraph"?"":` ${r(s.graph)}`,`<<${u} ${d} ${c}${p}>>`;default:throw new Error(`Unexpected termType: ${s.termType}`)}}const i=/^"(.*".*)(?="[^"]*$)/;function a(s){return s.replace(i,(u,d)=>`"${d.replace(/"/g,'""')}`)}class l{constructor(u){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,u)for(const d of u)this.add(d)}get size(){let u=this._size;if(u!==null)return u;u=0;const d=this._graphs;let c,p;for(const m in d)for(const w in c=d[m].subjects)for(const S in p=c[w])u+=Object.keys(p[S]).length;return this._size=u,this._size}add(u){let d=r(u.subject),c=r(u.predicate),p=r(u.object);const m=r(u.graph);let w=this._graphs[m];w||(w=this._graphs[m]={subjects:{},predicates:{},objects:{}},Object.freeze(w));const S=this._ids,C=this._entities;return d=S[d]||(S[C[++this._id]=d]=this._id),c=S[c]||(S[C[++this._id]=c]=this._id),p=S[p]||(S[C[++this._id]=p]=this._id),this._addToIndex(w.subjects,d,c,p),this._addToIndex(w.predicates,c,p,d),this._addToIndex(w.objects,p,d,c),this._setQuad(d,c,p,m,u),this._size=null,this}delete(u){let d=r(u.subject),c=r(u.predicate),p=r(u.object);const m=r(u.graph),w=this._ids,S=this._graphs;let C,R,T;if(!(d=w[d])||!(c=w[c])||!(p=w[p])||!(C=S[m])||!(R=C.subjects[d])||!(T=R[c])||!(p in T))return this;this._removeFromIndex(C.subjects,d,c,p),this._removeFromIndex(C.predicates,c,p,d),this._removeFromIndex(C.objects,p,d,c),this._size!==null&&this._size--,this._deleteQuad(d,c,p,m);for(d in C.subjects)return this;return delete S[m],this}has(u){const d=r(u.subject),c=r(u.predicate),p=r(u.object),m=r(u.graph),w=this._graphs[m];if(!w)return!1;const S=this._ids;let C,R,T;return e(d)&&!(C=S[d])||e(c)&&!(R=S[c])||e(p)&&!(T=S[p])?!1:this._countInIndex(w.objects,T,C,R)===1}match(u,d,c,p){return this._createDataset(this._match(u,d,c,p))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(u,d,c,p){const m=u[d]||(u[d]={}),w=m[c]||(m[c]={}),S=p in w;return S||(w[p]=null),!S}_removeFromIndex(u,d,c,p){const m=u[d],w=m[c];delete w[p];for(const S in w)return;delete m[c];for(const S in m)return;delete u[d]}_findInIndex(u,d,c,p,m,w,S,C,R,T){let E,N,O;d&&((E=u,u={})[d]=E[d]);for(const V in u)if(N=u[V],N){c&&((E=N,N={})[c]=E[c]);for(const L in N)if(O=N[L],O){const z=p?p in O?[p]:[]:Object.keys(O);for(let W=0;W<z.length;W++){const $={[m]:V,[w]:L,[S]:z[W]},Ce=this._getQuad($.subject,$.predicate,$.object,C);if(T)T.push(Ce);else if(R(Ce))return!0}}}return T}_countInIndex(u,d,c,p){let m=0,w,S,C;d&&((w=u,u={})[d]=w[d]);for(const R in u)if(S=u[R],S){c&&((w=S,S={})[c]=w[c]);for(const T in S)C=S[T],C&&(p?p in C&&m++:m+=Object.keys(C).length)}return m}_getGraphs(u){return e(u)?{[u]:this._graphs[u]}:this._graphs}_match(u,d,c,p){u=u&&r(u),d=d&&r(d),c=c&&r(c),p=p&&r(p);const m=[],w=this._getGraphs(p),S=this._ids;let C,R,T,E;if(e(u)&&!(R=S[u])||e(d)&&!(T=S[d])||e(c)&&!(E=S[c]))return m;for(const N in w)C=w[N],C&&(R?E?this._findInIndex(C.objects,E,R,T,"object","subject","predicate",N,null,m):this._findInIndex(C.subjects,R,T,null,"subject","predicate","object",N,null,m):T?this._findInIndex(C.predicates,T,E,null,"predicate","object","subject",N,null,m):E?this._findInIndex(C.objects,E,null,null,"object","subject","predicate",N,null,m):this._findInIndex(C.subjects,null,null,null,"subject","predicate","object",N,null,m));return m}_getQuad(u,d,c,p){return this._quads.get(this._toId(u,d,c,p))}_setQuad(u,d,c,p,m){this._quads.set(this._toId(u,d,c,p),m)}_deleteQuad(u,d,c,p){this._quads.delete(this._toId(u,d,c,p))}_createDataset(u){return new this.constructor(u)}_toId(u,d,c,p){return`${u}:${d}:${c}:${p}`}}return vb=l,vb}var bb,b1;function AI(){if(b1)return bb;b1=1;const e=rR(),t=EI();function r(i){return new t(i)}return bb=Object.assign({dataset:r},e),bb}var wb={},Tg={},Ay={},w1;function iR(){if(w1)return Ay;w1=1,Object.defineProperty(Ay,"__esModule",{value:!0}),Ay.default=r;let e;const t=new Uint8Array(16);function r(){if(!e&&(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}return Ay}var ah={},Og={},Ig={},_1;function xI(){if(_1)return Ig;_1=1,Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.default=void 0;var e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return Ig.default=e,Ig}var S1;function Cv(){if(S1)return Og;S1=1,Object.defineProperty(Og,"__esModule",{value:!0}),Og.default=void 0;var e=t(xI());function t(a){return a&&a.__esModule?a:{default:a}}function r(a){return typeof a=="string"&&e.default.test(a)}var i=r;return Og.default=i,Og}var E1;function Tv(){if(E1)return ah;E1=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.default=void 0,ah.unsafeStringify=i;var e=t(Cv());function t(s){return s&&s.__esModule?s:{default:s}}const r=[];for(let s=0;s<256;++s)r.push((s+256).toString(16).slice(1));function i(s,u=0){return r[s[u+0]]+r[s[u+1]]+r[s[u+2]]+r[s[u+3]]+"-"+r[s[u+4]]+r[s[u+5]]+"-"+r[s[u+6]]+r[s[u+7]]+"-"+r[s[u+8]]+r[s[u+9]]+"-"+r[s[u+10]]+r[s[u+11]]+r[s[u+12]]+r[s[u+13]]+r[s[u+14]]+r[s[u+15]]}function a(s,u=0){const d=i(s,u);if(!(0,e.default)(d))throw TypeError("Stringified UUID is invalid");return d}var l=a;return ah.default=l,ah}var A1;function RI(){if(A1)return Tg;A1=1,Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.default=void 0;var e=r(iR()),t=Tv();function r(c){return c&&c.__esModule?c:{default:c}}let i,a,l=0,s=0;function u(c,p,m){let w=p&&m||0;const S=p||new Array(16);c=c||{};let C=c.node||i,R=c.clockseq!==void 0?c.clockseq:a;if(C==null||R==null){const L=c.random||(c.rng||e.default)();C==null&&(C=i=[L[0]|1,L[1],L[2],L[3],L[4],L[5]]),R==null&&(R=a=(L[6]<<8|L[7])&16383)}let T=c.msecs!==void 0?c.msecs:Date.now(),E=c.nsecs!==void 0?c.nsecs:s+1;const N=T-l+(E-s)/1e4;if(N<0&&c.clockseq===void 0&&(R=R+1&16383),(N<0||T>l)&&c.nsecs===void 0&&(E=0),E>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=T,s=E,a=R,T+=122192928e5;const O=((T&268435455)*1e4+E)%4294967296;S[w++]=O>>>24&255,S[w++]=O>>>16&255,S[w++]=O>>>8&255,S[w++]=O&255;const V=T/4294967296*1e4&268435455;S[w++]=V>>>8&255,S[w++]=V&255,S[w++]=V>>>24&15|16,S[w++]=V>>>16&255,S[w++]=R>>>8|128,S[w++]=R&255;for(let L=0;L<6;++L)S[w+L]=C[L];return p||(0,t.unsafeStringify)(S)}var d=u;return Tg.default=d,Tg}var Pg={},nc={},Ng={},x1;function aR(){if(x1)return Ng;x1=1,Object.defineProperty(Ng,"__esModule",{value:!0}),Ng.default=void 0;var e=t(Cv());function t(a){return a&&a.__esModule?a:{default:a}}function r(a){if(!(0,e.default)(a))throw TypeError("Invalid UUID");let l;const s=new Uint8Array(16);return s[0]=(l=parseInt(a.slice(0,8),16))>>>24,s[1]=l>>>16&255,s[2]=l>>>8&255,s[3]=l&255,s[4]=(l=parseInt(a.slice(9,13),16))>>>8,s[5]=l&255,s[6]=(l=parseInt(a.slice(14,18),16))>>>8,s[7]=l&255,s[8]=(l=parseInt(a.slice(19,23),16))>>>8,s[9]=l&255,s[10]=(l=parseInt(a.slice(24,36),16))/1099511627776&255,s[11]=l/4294967296&255,s[12]=l>>>24&255,s[13]=l>>>16&255,s[14]=l>>>8&255,s[15]=l&255,s}var i=r;return Ng.default=i,Ng}var R1;function oR(){if(R1)return nc;R1=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.URL=nc.DNS=void 0,nc.default=s;var e=Tv(),t=r(aR());function r(u){return u&&u.__esModule?u:{default:u}}function i(u){u=unescape(encodeURIComponent(u));const d=[];for(let c=0;c<u.length;++c)d.push(u.charCodeAt(c));return d}const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";nc.DNS=a;const l="6ba7b811-9dad-11d1-80b4-00c04fd430c8";nc.URL=l;function s(u,d,c){function p(m,w,S,C){var R;if(typeof m=="string"&&(m=i(m)),typeof w=="string"&&(w=(0,t.default)(w)),((R=w)===null||R===void 0?void 0:R.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let T=new Uint8Array(16+m.length);if(T.set(w),T.set(m,w.length),T=c(T),T[6]=T[6]&15|d,T[8]=T[8]&63|128,S){C=C||0;for(let E=0;E<16;++E)S[C+E]=T[E];return S}return(0,e.unsafeStringify)(T)}try{p.name=u}catch{}return p.DNS=a,p.URL=l,p}return nc}var Fg={},C1;function CI(){if(C1)return Fg;C1=1,Object.defineProperty(Fg,"__esModule",{value:!0}),Fg.default=void 0;function e(S){if(typeof S=="string"){const C=unescape(encodeURIComponent(S));S=new Uint8Array(C.length);for(let R=0;R<C.length;++R)S[R]=C.charCodeAt(R)}return t(i(a(S),S.length*8))}function t(S){const C=[],R=S.length*32,T="0123456789abcdef";for(let E=0;E<R;E+=8){const N=S[E>>5]>>>E%32&255,O=parseInt(T.charAt(N>>>4&15)+T.charAt(N&15),16);C.push(O)}return C}function r(S){return(S+64>>>9<<4)+14+1}function i(S,C){S[C>>5]|=128<<C%32,S[r(C)-1]=C;let R=1732584193,T=-271733879,E=-1732584194,N=271733878;for(let O=0;O<S.length;O+=16){const V=R,L=T,z=E,W=N;R=d(R,T,E,N,S[O],7,-680876936),N=d(N,R,T,E,S[O+1],12,-389564586),E=d(E,N,R,T,S[O+2],17,606105819),T=d(T,E,N,R,S[O+3],22,-1044525330),R=d(R,T,E,N,S[O+4],7,-176418897),N=d(N,R,T,E,S[O+5],12,1200080426),E=d(E,N,R,T,S[O+6],17,-1473231341),T=d(T,E,N,R,S[O+7],22,-45705983),R=d(R,T,E,N,S[O+8],7,1770035416),N=d(N,R,T,E,S[O+9],12,-1958414417),E=d(E,N,R,T,S[O+10],17,-42063),T=d(T,E,N,R,S[O+11],22,-1990404162),R=d(R,T,E,N,S[O+12],7,1804603682),N=d(N,R,T,E,S[O+13],12,-40341101),E=d(E,N,R,T,S[O+14],17,-1502002290),T=d(T,E,N,R,S[O+15],22,1236535329),R=c(R,T,E,N,S[O+1],5,-165796510),N=c(N,R,T,E,S[O+6],9,-1069501632),E=c(E,N,R,T,S[O+11],14,643717713),T=c(T,E,N,R,S[O],20,-373897302),R=c(R,T,E,N,S[O+5],5,-701558691),N=c(N,R,T,E,S[O+10],9,38016083),E=c(E,N,R,T,S[O+15],14,-660478335),T=c(T,E,N,R,S[O+4],20,-405537848),R=c(R,T,E,N,S[O+9],5,568446438),N=c(N,R,T,E,S[O+14],9,-1019803690),E=c(E,N,R,T,S[O+3],14,-187363961),T=c(T,E,N,R,S[O+8],20,1163531501),R=c(R,T,E,N,S[O+13],5,-1444681467),N=c(N,R,T,E,S[O+2],9,-51403784),E=c(E,N,R,T,S[O+7],14,1735328473),T=c(T,E,N,R,S[O+12],20,-1926607734),R=p(R,T,E,N,S[O+5],4,-378558),N=p(N,R,T,E,S[O+8],11,-2022574463),E=p(E,N,R,T,S[O+11],16,1839030562),T=p(T,E,N,R,S[O+14],23,-35309556),R=p(R,T,E,N,S[O+1],4,-1530992060),N=p(N,R,T,E,S[O+4],11,1272893353),E=p(E,N,R,T,S[O+7],16,-155497632),T=p(T,E,N,R,S[O+10],23,-1094730640),R=p(R,T,E,N,S[O+13],4,681279174),N=p(N,R,T,E,S[O],11,-358537222),E=p(E,N,R,T,S[O+3],16,-722521979),T=p(T,E,N,R,S[O+6],23,76029189),R=p(R,T,E,N,S[O+9],4,-640364487),N=p(N,R,T,E,S[O+12],11,-421815835),E=p(E,N,R,T,S[O+15],16,530742520),T=p(T,E,N,R,S[O+2],23,-995338651),R=m(R,T,E,N,S[O],6,-198630844),N=m(N,R,T,E,S[O+7],10,1126891415),E=m(E,N,R,T,S[O+14],15,-1416354905),T=m(T,E,N,R,S[O+5],21,-57434055),R=m(R,T,E,N,S[O+12],6,1700485571),N=m(N,R,T,E,S[O+3],10,-1894986606),E=m(E,N,R,T,S[O+10],15,-1051523),T=m(T,E,N,R,S[O+1],21,-2054922799),R=m(R,T,E,N,S[O+8],6,1873313359),N=m(N,R,T,E,S[O+15],10,-30611744),E=m(E,N,R,T,S[O+6],15,-1560198380),T=m(T,E,N,R,S[O+13],21,1309151649),R=m(R,T,E,N,S[O+4],6,-145523070),N=m(N,R,T,E,S[O+11],10,-1120210379),E=m(E,N,R,T,S[O+2],15,718787259),T=m(T,E,N,R,S[O+9],21,-343485551),R=l(R,V),T=l(T,L),E=l(E,z),N=l(N,W)}return[R,T,E,N]}function a(S){if(S.length===0)return[];const C=S.length*8,R=new Uint32Array(r(C));for(let T=0;T<C;T+=8)R[T>>5]|=(S[T/8]&255)<<T%32;return R}function l(S,C){const R=(S&65535)+(C&65535);return(S>>16)+(C>>16)+(R>>16)<<16|R&65535}function s(S,C){return S<<C|S>>>32-C}function u(S,C,R,T,E,N){return l(s(l(l(C,S),l(T,N)),E),R)}function d(S,C,R,T,E,N,O){return u(C&R|~C&T,S,C,E,N,O)}function c(S,C,R,T,E,N,O){return u(C&T|R&~T,S,C,E,N,O)}function p(S,C,R,T,E,N,O){return u(C^R^T,S,C,E,N,O)}function m(S,C,R,T,E,N,O){return u(R^(C|~T),S,C,E,N,O)}var w=e;return Fg.default=w,Fg}var T1;function TI(){if(T1)return Pg;T1=1,Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.default=void 0;var e=r(oR()),t=r(CI());function r(l){return l&&l.__esModule?l:{default:l}}var a=(0,e.default)("v3",48,t.default);return Pg.default=a,Pg}var Dg={},Mg={},O1;function OI(){if(O1)return Mg;O1=1,Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.default=void 0;var t={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return Mg.default=t,Mg}var I1;function II(){if(I1)return Dg;I1=1,Object.defineProperty(Dg,"__esModule",{value:!0}),Dg.default=void 0;var e=i(OI()),t=i(iR()),r=Tv();function i(s){return s&&s.__esModule?s:{default:s}}function a(s,u,d){if(e.default.randomUUID&&!u&&!s)return e.default.randomUUID();s=s||{};const c=s.random||(s.rng||t.default)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,u){d=d||0;for(let p=0;p<16;++p)u[d+p]=c[p];return u}return(0,r.unsafeStringify)(c)}var l=a;return Dg.default=l,Dg}var Lg={},Ug={},P1;function PI(){if(P1)return Ug;P1=1,Object.defineProperty(Ug,"__esModule",{value:!0}),Ug.default=void 0;function e(a,l,s,u){switch(a){case 0:return l&s^~l&u;case 1:return l^s^u;case 2:return l&s^l&u^s&u;case 3:return l^s^u}}function t(a,l){return a<<l|a>>>32-l}function r(a){const l=[1518500249,1859775393,2400959708,3395469782],s=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof a=="string"){const p=unescape(encodeURIComponent(a));a=[];for(let m=0;m<p.length;++m)a.push(p.charCodeAt(m))}else Array.isArray(a)||(a=Array.prototype.slice.call(a));a.push(128);const u=a.length/4+2,d=Math.ceil(u/16),c=new Array(d);for(let p=0;p<d;++p){const m=new Uint32Array(16);for(let w=0;w<16;++w)m[w]=a[p*64+w*4]<<24|a[p*64+w*4+1]<<16|a[p*64+w*4+2]<<8|a[p*64+w*4+3];c[p]=m}c[d-1][14]=(a.length-1)*8/Math.pow(2,32),c[d-1][14]=Math.floor(c[d-1][14]),c[d-1][15]=(a.length-1)*8&4294967295;for(let p=0;p<d;++p){const m=new Uint32Array(80);for(let E=0;E<16;++E)m[E]=c[p][E];for(let E=16;E<80;++E)m[E]=t(m[E-3]^m[E-8]^m[E-14]^m[E-16],1);let w=s[0],S=s[1],C=s[2],R=s[3],T=s[4];for(let E=0;E<80;++E){const N=Math.floor(E/20),O=t(w,5)+e(N,S,C,R)+T+l[N]+m[E]>>>0;T=R,R=C,C=t(S,30)>>>0,S=w,w=O}s[0]=s[0]+w>>>0,s[1]=s[1]+S>>>0,s[2]=s[2]+C>>>0,s[3]=s[3]+R>>>0,s[4]=s[4]+T>>>0}return[s[0]>>24&255,s[0]>>16&255,s[0]>>8&255,s[0]&255,s[1]>>24&255,s[1]>>16&255,s[1]>>8&255,s[1]&255,s[2]>>24&255,s[2]>>16&255,s[2]>>8&255,s[2]&255,s[3]>>24&255,s[3]>>16&255,s[3]>>8&255,s[3]&255,s[4]>>24&255,s[4]>>16&255,s[4]>>8&255,s[4]&255]}var i=r;return Ug.default=i,Ug}var N1;function NI(){if(N1)return Lg;N1=1,Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.default=void 0;var e=r(oR()),t=r(PI());function r(l){return l&&l.__esModule?l:{default:l}}var a=(0,e.default)("v5",80,t.default);return Lg.default=a,Lg}var kg={},F1;function FI(){if(F1)return kg;F1=1,Object.defineProperty(kg,"__esModule",{value:!0}),kg.default=void 0;var e="00000000-0000-0000-0000-000000000000";return kg.default=e,kg}var jg={},D1;function DI(){if(D1)return jg;D1=1,Object.defineProperty(jg,"__esModule",{value:!0}),jg.default=void 0;var e=t(Cv());function t(a){return a&&a.__esModule?a:{default:a}}function r(a){if(!(0,e.default)(a))throw TypeError("Invalid UUID");return parseInt(a.slice(14,15),16)}var i=r;return jg.default=i,jg}var M1;function Ww(){return M1||(M1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.default}});var t=p(RI()),r=p(TI()),i=p(II()),a=p(NI()),l=p(FI()),s=p(DI()),u=p(Cv()),d=p(Tv()),c=p(aR());function p(m){return m&&m.__esModule?m:{default:m}}}(wb)),wb}var L1;function MI(){if(L1)return ot;L1=1;var e=zO(),t=ja(),r=Vw(),i=Lw(),a=mI,l=rR(),s=AI(),u=Ww();function d(h){const y=h;return typeof y=="object"&&typeof y.internal_resourceInfo=="object"}function c(h){const y=h;return typeof y=="object"&&typeof y.internal_resourceInfo=="object"&&typeof y.internal_resourceInfo.linkedResources=="object"}function p(h){const y=h;return typeof y.internal_changeLog=="object"&&Array.isArray(y.internal_changeLog.additions)&&Array.isArray(y.internal_changeLog.deletions)}class m extends Error{}function w(h){return typeof h=="string"?h:h.value}const S=r.fetch.bind(globalThis);function C(h){var y,_,P,U,J;const ee=(_=(y=h.headers.get("Content-Type"))===null||y===void 0?void 0:y.split(";"))!==null&&_!==void 0?_:[],me=ee.length>0&&["text/turtle","application/ld+json"].includes(ee[0]),He={sourceIri:h.url,isRawData:!me,contentLocation:(P=h.headers.get("Content-Location"))!==null&&P!==void 0?P:void 0,contentType:(U=h.headers.get("Content-Type"))!==null&&U!==void 0?U:void 0,linkedResources:{},location:(J=h.headers.get("Location"))!==null&&J!==void 0?J:void 0},Ge=h.headers.get("Link");if(Ge){const kt=i.parse(Ge),Kt=kt.get("rel","acl");Kt.length===1&&(He.aclUrl=new URL(Kt[0].uri,He.sourceIri).href),He.linkedResources=kt.refs.reduce((rn,Nn)=>{var dr,Zn;return(dr=rn[Zn=Nn.rel])!==null&&dr!==void 0||(rn[Zn]=[]),rn[Nn.rel].push(new URL(Nn.uri,He.sourceIri).href),rn},He.linkedResources)}const Ze=h.headers.get("WAC-Allow");return Ze&&(He.permissions=R(Ze)),He}function R(h){function y(P){const U=P.split(" ");return U.includes("write")?{read:U.includes("read"),append:!0,write:!0,control:U.includes("control")}:{read:U.includes("read"),append:U.includes("append"),write:!1,control:U.includes("control")}}function _(P,U){const J=P.split(",").map(me=>me.split("=")).filter(me=>me.length===2&&me[0].trim()===U);if(J.length!==1)return"";const ee=J[0][1].trim();return ee.charAt(0)!=='"'||ee.charAt(ee.length-1)!=='"'?"":ee.substring(1,ee.length-1)}return{user:y(_(h,"user")),public:y(_(h,"public"))}}function T(h){let y;return typeof h.slice=="function"?y=Object.assign(h.slice(),{...h}):y={...h},y}function E(h){return!h.ok}function N(h){return h.status===401||h.status===403}const O={Authorization:"http://www.w3.org/ns/auth/acl#Authorization",accessTo:"http://www.w3.org/ns/auth/acl#accessTo",agent:"http://www.w3.org/ns/auth/acl#agent",agentGroup:"http://www.w3.org/ns/auth/acl#agentGroup",agentClass:"http://www.w3.org/ns/auth/acl#agentClass",default:"http://www.w3.org/ns/auth/acl#default",defaultForNew:"http://www.w3.org/ns/auth/acl#defaultForNew",mode:"http://www.w3.org/ns/auth/acl#mode",origin:"http://www.w3.org/ns/auth/acl#origin"},V={type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"},L={seeAlso:"http://www.w3.org/2000/01/rdf-schema#seeAlso"},z={BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",Resource:"http://www.w3.org/ns/ldp#Resource",contains:"http://www.w3.org/ns/ldp#contains"},W={Agent:"http://xmlns.com/foaf/0.1/Agent",primaryTopic:"http://xmlns.com/foaf/0.1/primaryTopic",isPrimaryTopicOf:"http://xmlns.com/foaf/0.1/isPrimaryTopicOf"},$={AccessControlResource:"http://www.w3.org/ns/solid/acp#AccessControlResource",Policy:"http://www.w3.org/ns/solid/acp#Policy",AccessControl:"http://www.w3.org/ns/solid/acp#AccessControl",Read:"http://www.w3.org/ns/solid/acp#Read",Append:"http://www.w3.org/ns/solid/acp#Append",Write:"http://www.w3.org/ns/solid/acp#Write",Rule:"http://www.w3.org/ns/solid/acp#Rule",Matcher:"http://www.w3.org/ns/solid/acp#Matcher",accessControl:"http://www.w3.org/ns/solid/acp#accessControl",apply:"http://www.w3.org/ns/solid/acp#apply",applyMembers:"http://www.w3.org/ns/solid/acp#applyMembers",allow:"http://www.w3.org/ns/solid/acp#allow",deny:"http://www.w3.org/ns/solid/acp#deny",allOf:"http://www.w3.org/ns/solid/acp#allOf",anyOf:"http://www.w3.org/ns/solid/acp#anyOf",noneOf:"http://www.w3.org/ns/solid/acp#noneOf",access:"http://www.w3.org/ns/solid/acp#access",accessMembers:"http://www.w3.org/ns/solid/acp#accessMembers",agent:"http://www.w3.org/ns/solid/acp#agent",group:"http://www.w3.org/ns/solid/acp#group",client:"http://www.w3.org/ns/solid/acp#client",PublicAgent:"http://www.w3.org/ns/solid/acp#PublicAgent",AuthenticatedAgent:"http://www.w3.org/ns/solid/acp#AuthenticatedAgent",CreatorAgent:"http://www.w3.org/ns/solid/acp#CreatorAgent"},Ce={PublicOidcClient:"http://www.w3.org/ns/solid/terms#PublicOidcClient"},K={publicKey:"https://w3id.org/security#publicKey"},re={storage:"http://www.w3.org/ns/pim/space#storage"},pe={fetch:S};async function _e(h,y={...pe,ignoreAuthenticationErrors:!1}){var _;const U=await{...pe,...y}.fetch(h,{method:"HEAD"});return et(U,{ignoreAuthenticationErrors:(_=y.ignoreAuthenticationErrors)!==null&&_!==void 0?_:!1})}function et(h,y={ignoreAuthenticationErrors:!1}){if(E(h)&&(!N(h)||!y.ignoreAuthenticationErrors))throw new at(`Fetching the metadata of the Resource at [${h.url}] failed: [${h.status}] [${h.statusText}].`,h);return{internal_resourceInfo:C(h)}}function rt(h){return(d(h)?he(h):w(h)).endsWith("/")}function xe(h){return h.internal_resourceInfo.isRawData}function lt(h){var y;return(y=h.internal_resourceInfo.contentType)!==null&&y!==void 0?y:null}function he(h){return d(h)?h.internal_resourceInfo.sourceIri:null}const nt=he;function Y(h){var y;if(!c(h))return null;const _=(y=Ke(h)["http://www.w3.org/ns/solid/terms#podOwner"])!==null&&y!==void 0?y:[];return _.length===1?_[0]:null}function Re(h,y){const _=Y(y);return typeof _!="string"?null:_===h}function Ke(h){return h.internal_resourceInfo.linkedResources}function Ue(h){var y,_,P,U,J,ee,me;if(typeof h.internal_resourceInfo.permissions=="object")return{user:{read:h.internal_resourceInfo.permissions.user.read,append:h.internal_resourceInfo.permissions.user.append,write:h.internal_resourceInfo.permissions.user.write},public:{read:h.internal_resourceInfo.permissions.public.read,append:h.internal_resourceInfo.permissions.public.append,write:h.internal_resourceInfo.permissions.public.write}};const He=Ke(h);return{user:{read:(_=(y=He[$.allow])===null||y===void 0?void 0:y.includes($.Read))!==null&&_!==void 0?_:!1,append:(J=((P=He[$.allow])===null||P===void 0?void 0:P.includes($.Append))||((U=He[$.allow])===null||U===void 0?void 0:U.includes($.Write)))!==null&&J!==void 0?J:!1,write:(me=(ee=He[$.allow])===null||ee===void 0?void 0:ee.includes($.Write))!==null&&me!==void 0?me:!1}}}class at extends m{get statusCode(){return this.response.status}get statusText(){return this.response.statusText}constructor(y,_){super(y),this.response=_}}const It=()=>{const h=[],y=[],_=[];return{onQuad:P=>{h.push(P)},onError:P=>{_.push(P)},onComplete:P=>{y.push(P)},parse:async(P,U)=>new Promise(J=>{const ee=new e.JsonLdParser({baseIRI:he(U),documentLoader:new t.FetchDocumentLoader(S)});let me=!1;function He(){me||(me=!0,y.forEach(Ge=>Ge()),J())}ee.on("end",He),ee.on("error",Ge=>{_.forEach(Ze=>Ze(Ge)),He()}),h.forEach(Ge=>ee.on("data",Ge)),ee.write(P),ee.end()})}};s.dataset;const Nt="https://inrupt.com/.well-known/sdk-local-node/",{freeze:Me}=Object;function ue(h){return h.substring(0,Nt.length)===Nt}function Ie(h){return h.substring(Nt.length)}function Ye(h){return`${Nt}${h}`}function se(h){return typeof h=="string"&&h.substring(0,2)==="_:"}function k(h){return h.substring(2)}function D(h){return`_:${h.value}`}const q={boolean:"http://www.w3.org/2001/XMLSchema#boolean",dateTime:"http://www.w3.org/2001/XMLSchema#dateTime",date:"http://www.w3.org/2001/XMLSchema#date",time:"http://www.w3.org/2001/XMLSchema#time",decimal:"http://www.w3.org/2001/XMLSchema#decimal",integer:"http://www.w3.org/2001/XMLSchema#integer",string:"http://www.w3.org/2001/XMLSchema#string",langString:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"};function ne(h){return h?"true":"false"}function Ee(h){return h==="true"||h==="1"?!0:h==="false"||h==="0"?!1:null}function Ne(h){let y,_;if(h.millisecond&&(h.millisecond<10?y=`00${h.millisecond}`:h.millisecond<100?y=`0${h.millisecond}`:y=h.millisecond),typeof h.timezoneHourOffset=="number"){const P=Math.abs(h.timezoneHourOffset)<10?`0${Math.abs(h.timezoneHourOffset)}`:Math.abs(h.timezoneHourOffset);_=h.timezoneHourOffset>=0?`+${P}`:`-${P}`,h.timezoneMinuteOffset?_=`${_}:${h.timezoneMinuteOffset<10?`0${h.timezoneMinuteOffset}`:h.timezoneMinuteOffset}`:_+=":00"}return`${h.hour<10?`0${h.hour}`:h.hour}:${h.minute<10?`0${h.minute}`:h.minute}:${h.second<10?`0${h.second}`:h.second}${h.millisecond?`.${y}`:""}${_||""}`}function ct(h){if(!/\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(h))return null;const[_,P]=Qe(h),[U,J,ee]=_.split(":");let me=Number.parseInt(U,10),He=Number.parseInt(J,10);const[Ge,Ze]=ee.split("."),kt=Number.parseInt(Ge,10),Kt=Ze?Number.parseInt(Ze,10):void 0;He>=60&&(me+=1,He-=60);const rn={hour:me,minute:He,second:kt};if(typeof Kt=="number"&&(rn.millisecond=Kt),typeof P=="string"){const[Nn,dr]=We(P);if(typeof Nn!="number"||Nn>24||typeof dr!="number"||dr>59)return null;rn.timezoneHourOffset=Nn,rn.timezoneMinuteOffset=dr}return rn}function Pe(h){return h.toISOString()}function mt(h){if(!/-?\d{4,}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(h))return null;const[_,P]=h.split("T"),[U,J]=_.charAt(0)==="-"?[-1,_.substring(1)]:[1,_],[ee,me,He]=J.split("-"),Ge=Number.parseInt(ee,10)*U,Ze=Number.parseInt(me,10)-1,kt=Number.parseInt(He,10),[Kt,rn]=Qe(P),[Nn,dr]=typeof rn=="string"?We(rn):[0,0],[Zn,no,zr]=Kt.split(":"),An=Number.parseInt(Zn,10)+Nn,Yi=Number.parseInt(no,10)+dr,[Ti,ba]=zr.split("."),Xi=Number.parseInt(Ti,10),Bs=ba?Number.parseInt(ba,10):0,Eo=new Date(Date.UTC(Ge,Ze,kt,An,Yi,Xi,Bs));return Ge>=0&&Ge<100&&Eo.setUTCFullYear(Eo.getUTCFullYear()-1900),Eo}function Ot(h){const y=h.getFullYear(),_=h.getMonth()+1,P=h.getDate(),[,U]=Qe(h.toISOString());return`${y}-${String(_).padStart(2,"0")}-${String(P).padStart(2,"0")}${U}`}function wt(h){if(!/-?\d{4,}-\d\d-\d\d(Z|(\+|-)\d\d:\d\d)?/.test(h))return null;const _=h,[P,U]=_.charAt(0)==="-"?[-1,_.substring(1)]:[1,_],[J,ee,me]=U.split("-"),He=me.length>2?me.substring(0,2):me,Ge=Number.parseInt(J,10)*P,Ze=Number.parseInt(ee,10)-1,kt=Number.parseInt(He,10),Kt=12,rn=new Date(Date.UTC(Ge,Ze,kt,Kt));return Ge>=0&&Ge<100&&rn.setUTCFullYear(rn.getUTCFullYear()-1900),rn}function Qe(h){if(h.endsWith("Z"))return[h.substring(0,h.length-1),"Z"];const y=h.split("+"),_=h.split("-");return y.length===1&&_.length===1?[y[0],void 0]:y.length>_.length?[y[0],`+${y[1]}`]:[_[0],`-${_[1]}`]}function We(h){if(h==="Z")return[0,0];const y=h.charAt(0)==="+"?1:-1,[_,P]=h.substring(1).split(":"),U=Number.parseInt(_,10),J=Number.parseInt(P,10);return[U*y,J*y]}function Fe(h){return h.toString()}function dt(h){const y=Number.parseFloat(h);return Number.isNaN(y)?null:y}function X(h){return h.toString()}function j(h){const y=Number.parseInt(h,10);return Number.isNaN(y)?null:y}function G(h){return h.toLowerCase()}function H(h){return it(h)&&h.termType==="NamedNode"}function Je(h){return it(h)&&h.termType==="Literal"}function it(h){return h!==null&&typeof h=="object"&&typeof h.termType=="string"&&typeof h.value=="string"&&typeof h.equals=="function"}function Xe(h){return H(h)&&ue(h.value)}function Yt(h){const y=w(h);if(typeof URL!="function")return!0;try{return new URL(y),!0}catch{return!1}}function Vn(h,y){return sn.namedNode(Gn(Ie(h.value),y))}function Gn(h,y){if(typeof URL!="function")throw new Error("The URL interface is not available, so an IRI cannot be determined.");const _=new URL(y);return _.hash=h,_.href}const sn=l;function qe(h,y,_={}){var P;if(!["NamedNode","DefaultGraph"].includes(y.graph.termType))throw new Error(`Cannot parse Quads with nodes of type [${y.graph.termType}] as their Graph node.`);const J=y.graph.termType==="DefaultGraph"?"default":y.graph.value,ee=(P=h.graphs[J])!==null&&P!==void 0?P:{};return Me({...h,graphs:Me({...h.graphs,[J]:bt(ee,y,_)})})}function bt(h,y,_){var P;if(!["NamedNode","BlankNode"].includes(y.subject.termType))throw new Error(`Cannot parse Quads with nodes of type [${y.subject.termType}] as their Subject node.`);const J=y.subject.termType==="BlankNode"?`_:${y.subject.value}`:y.subject.value,ee=(P=h[J])!==null&&P!==void 0?P:{type:"Subject",url:J,predicates:{}};return Me({...h,[J]:ft(ee,y,_)})}function ft(h,y,_){return Me({...h,predicates:Be(h.predicates,y,_)})}function Be(h,y,_){var P;if(!["NamedNode"].includes(y.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${y.predicate.termType}] as their Predicate node.`);const J=y.predicate.value,ee=(P=h[J])!==null&&P!==void 0?P:{};return Me({...h,[J]:pt(ee,y,_)})}function pt(h,y,_){var P,U,J,ee,me,He,Ge,Ze;if(y.object.termType==="NamedNode"){const kt=Me([...(P=h.namedNodes)!==null&&P!==void 0?P:[],y.object.value]);return Me({...h,namedNodes:kt})}if(y.object.termType==="Literal"){if(y.object.datatype.value===q.langString){const rn=y.object.language.toLowerCase(),Nn=Me([...(J=(U=h.langStrings)===null||U===void 0?void 0:U[rn])!==null&&J!==void 0?J:[],y.object.value]),dr=Me({...(ee=h.langStrings)!==null&&ee!==void 0?ee:{},[rn]:Nn});return Me({...h,langStrings:dr})}const kt=Me([...(He=(me=h.literals)===null||me===void 0?void 0:me[y.object.datatype.value])!==null&&He!==void 0?He:[],y.object.value]),Kt=Me({...(Ge=h.literals)!==null&&Ge!==void 0?Ge:{},[y.object.datatype.value]:kt});return Me({...h,literals:Kt})}if(y.object.termType==="BlankNode"){const kt=Qt(y.object,_),Kt=Me([...(Ze=h.blankNodes)!==null&&Ze!==void 0?Ze:[],kt]);return Me({...h,blankNodes:Kt})}throw new Error(`Objects of type [${y.object.termType}] are not supported.`)}function Qt(h,y){var _,P;if(((_=y.chainBlankNodes)!==null&&_!==void 0?_:[]).find(Ge=>Ge.equals(h))===void 0)return D(h);const ee=((P=y.otherQuads)!==null&&P!==void 0?P:[]).filter(Ge=>Ge.subject.equals(h)),me=ee.filter(Ge=>!ve(Ge.object)).reduce((Ge,Ze)=>{var kt;if(!["NamedNode"].includes(Ze.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${Ze.predicate.termType}] as their Predicate node.`);const rn=(kt=Ge[Ze.predicate.value])!==null&&kt!==void 0?kt:{};return Me({...Ge,[Ze.predicate.value]:pt(rn,Ze,y)})},{});return ee.filter(Ge=>ve(Ge.object)).reduce((Ge,Ze)=>{var kt,Kt;if(!["NamedNode"].includes(Ze.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${Ze.predicate.termType}] as their Predicate node.`);const Nn=(kt=Ge[Ze.predicate.value])!==null&&kt!==void 0?kt:{},dr=(Kt=Nn.blankNodes)!==null&&Kt!==void 0?Kt:[];return Me({...Ge,[Ze.predicate.value]:{...Nn,blankNodes:[...dr,Qt(Ze.object,y)]}})},me)}function zt(h){const y=h.map(ee=>ee.subject).filter(ve),_=h.map(ee=>ee.object).filter(ve);function P(ee){return ee.every(me=>ee.every(He=>me.equals(He)))}const U=[];return _.forEach(ee=>{U.push(...ce(ee,h))}),y.concat(_).filter(ee=>{if(U.some(He=>He.equals(ee)))return!1;const me=h.filter(He=>He.object.equals(ee)).map(He=>He.subject);return me.length>0&&P(me)})}function tn(h,y={}){var _;const P=[],U=(_=y.dataFactory)!==null&&_!==void 0?_:l;return Object.keys(h.graphs).forEach(J=>{const ee=h.graphs[J],me=J==="default"?U.defaultGraph():U.namedNode(J);Object.keys(ee).forEach(He=>{const{predicates:Ge}=ee[He],Ze=se(He)?U.blankNode(k(He)):U.namedNode(He);P.push(...Ht(Ge,Ze,me,y))})}),P}function Ht(h,y,_,P={}){var U;const J=[],ee=(U=P.dataFactory)!==null&&U!==void 0?U:l;return Object.keys(h).forEach(me=>{var He,Ge,Ze,kt;const Kt=ee.namedNode(me),rn=(He=h[me].langStrings)!==null&&He!==void 0?He:{},Nn=(Ge=h[me].namedNodes)!==null&&Ge!==void 0?Ge:[],dr=(Ze=h[me].literals)!==null&&Ze!==void 0?Ze:{},Zn=(kt=h[me].blankNodes)!==null&&kt!==void 0?kt:[];Object.keys(dr).forEach(An=>{const Yi=ee.namedNode(An);dr[An].forEach(ba=>{const Xi=ee.literal(ba,Yi);J.push(ee.quad(y,Kt,Xi,_))})}),Object.keys(rn).forEach(An=>{rn[An].forEach(Ti=>{const ba=ee.literal(Ti,An);J.push(ee.quad(y,Kt,ba,_))})}),Nn.forEach(An=>{const Yi=ee.namedNode(An);J.push(ee.quad(y,Kt,Yi,_))}),Zn.forEach(An=>{if(se(An)){const Yi=ee.blankNode(k(An));J.push(ee.quad(y,Kt,Yi,_))}else{const Yi=ee.blankNode(),Ti=ee.quad(y,Kt,Yi,_),ba=Ht(An,Yi,_);J.push(Ti),J.push(...ba)}})}),J}function ce(h,y,_=[]){if(_.find(me=>me.equals(h))!==void 0)return _;const P=y.filter(me=>me.subject.equals(h)&&ve(me.object)).map(me=>me.object);if(P.length===0)return[];const U=[..._,h],J=P.map(me=>ce(me,y,U)),ee=[];for(const me of J)ee.push(...me);return ee}function ve(h){return h.termType==="BlankNode"}const Tt=()=>{const h=[],y=[],_=[];return{onQuad:P=>{h.push(P)},onError:P=>{_.push(P)},onComplete:P=>{y.push(P)},parse:async(P,U)=>{(await Ct(he(U))).parse(P,(ee,me)=>{ee?_.forEach(He=>He(ee)):me?h.forEach(He=>He(me)):y.forEach(He=>He())})}}};async function Ct(h){return new a.Parser({format:"text/turtle",baseIRI:h})}async function Ft(h,y){const _="text/turtle",P=new a.Writer({format:_,prefixes:y?.prefixes}),U=h.map(me=>sn.quad(me.subject,me.predicate,me.object,void 0));return P.addQuads(U),await new Promise((me,He)=>{P.end((Ge,Ze)=>{Ge?He(Ge):me(Ze)})})}const Zt={acl:"http://www.w3.org/ns/auth/acl#",acp:"http://www.w3.org/ns/solid/acp#",cc:"http://creativecommons.org/ns#",cert:"http://www.w3.org/ns/auth/cert#",csvw:"http://www.w3.org/ns/csvw#",current:"#",dc:"http://purl.org/dc/terms/",dcam:"http://purl.org/dc/dcam/",dcat:"http://www.w3.org/ns/dcat#",dctype:"http://purl.org/dc/dcmitype/",foaf:"http://xmlns.com/foaf/0.1/",ldp:"http://www.w3.org/ns/ldp#",owl:"http://www.w3.org/2002/07/owl#",posixstat:"http://www.w3.org/ns/posix/stat#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"https://schema.org/",shacl:"http://www.w3.org/ns/shacl#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",solid:"http://www.w3.org/ns/solid/terms#",swapdoc:"http://www.w3.org/2000/10/swap/pim/doc#",ui:"http://www.w3.org/ns/ui#",vann:"http://purl.org/vocab/vann/",vcard:"http://www.w3.org/2006/vcard/ns#",ws:"http://www.w3.org/ns/pim/space#",xsd:"http://www.w3.org/2001/XMLSchema#"},nn=s.dataset;function Mn(h){const y={graphs:{default:{}},type:"Dataset"},_=Array.from(h),P=zt(_);return _.filter(J=>P.every(ee=>!ee.equals(J.subject))).reduce((J,ee)=>qe(J,ee,{otherQuads:_,chainBlankNodes:P}),y)}function $t(h,y={}){var _,P;return((P=(_=y.datasetFactory)===null||_===void 0?void 0:_.dataset)!==null&&P!==void 0?P:nn)(tn(h,y))}async function en(h,y){const{prefixes:_=Zt,thing:P}={...y},U=new a.Writer({format:"application/turtle",prefixes:_}),J=P?new a.NamedNode(P):void 0;for(const ee of $t(h).match(J))U.addQuad(ee);return new Promise((ee,me)=>{U.end((He,Ge)=>{He?me(He):ee(Ge)})})}var vn=Object.freeze({__proto__:null,getJsonLdParser:It,getTurtleParser:Tt,solidDatasetAsTurtle:en});const on={fetch:S},Ln=["Slug","If-None-Match","Content-Type"];function xn(h){return Ln.some(y=>h[y]!==void 0)}async function Jn(h,y=on){const _={...on,...y},P=w(h),U=await _.fetch(P,_.init);if(E(U))throw new at(`Fetching the File failed: [${U.status}] [${U.statusText}] ${await U.text()}.`,U);const J=C(U),ee=await U.blob();return Object.assign(ee,{internal_resourceInfo:J})}async function mn(h,y=on){const _={...on,...y},P=d(h)?w(nt(h)):w(h),U=await _.fetch(P,{..._.init,method:"DELETE"});if(E(U))throw new at(`Deleting the file at [${P}] failed: [${U.status}] [${U.statusText}] ${await U.text()}.`,U)}async function ln(h,y,_=on){const P=w(h),U=await Un(P,y,"POST",_);if(E(U))throw new at(`Saving the file in [${h}] failed: [${U.status}] [${U.statusText}] ${await U.text()}.`,U);const J=U.headers.get("Location");if(J===null)throw new Error("Could not determine the location of the newly saved file.");const ee=new URL(J,new URL(P).origin).href,me=T(y),He={internal_resourceInfo:{isRawData:!0,sourceIri:ee,contentType:Cr(y,_.contentType)}};return Object.assign(me,He)}async function Gt(h,y,_=on){const P=w(h),U=await Un(P,y,"PUT",_);if(E(U))throw new at(`Overwriting the file at [${P}] failed: [${U.status}] [${U.statusText}] ${await U.text()}.`,U);const J=T(y),ee=C(U);return ee.sourceIri=P,ee.isRawData=!0,Object.assign(J,{internal_resourceInfo:ee})}function er(h){return Array.isArray(h)}function Fr(h){return typeof h.forEach=="function"}function pr(h){if(typeof h>"u")return{};let y={};return er(h)?h.forEach(([_,P])=>{y[_]=P}):Fr(h)?h.forEach((_,P)=>{y[P]=_}):y=h,y}async function Un(h,y,_,P){var U,J;const ee={...on,...P},me=pr((J=(U=ee.init)===null||U===void 0?void 0:U.headers)!==null&&J!==void 0?J:{});if(xn(me))throw new Error(`No reserved header (${Ln.join(", ")}) should be set in the optional RequestInit.`);ee.slug!==void 0&&(me.Slug=ee.slug),me["Content-Type"]=Cr(y,P.contentType);const He=w(h);return ee.fetch(He,{...ee.init,headers:me,method:_,body:y})}function Cr(h,y){if(typeof y=="string")return y;const _=typeof h=="object"&&h!==null&&"type"in h&&typeof h.type=="string"&&h.type.length>0?h.type:void 0;return _??"application/octet-stream"}function Hr(h){var y,_,P,U,J,ee,me,He;if(H(h))return`<${h.value}> (URL)`;if(Je(h)){if(!H(h.datatype))return`[${h.value}] (RDF/JS Literal of unknown type)`;let Ge;switch(h.datatype.value){case q.boolean:return Ge=(_=(y=Ee(h.value))===null||y===void 0?void 0:y.valueOf())!==null&&_!==void 0?_:`Invalid data: \`${h.value}\``,`${Ge} (boolean)`;case q.dateTime:return Ge=(U=(P=mt(h.value))===null||P===void 0?void 0:P.toUTCString())!==null&&U!==void 0?U:`Invalid data: \`${h.value}\``,`${Ge} (datetime)`;case q.decimal:return Ge=(ee=(J=dt(h.value))===null||J===void 0?void 0:J.toString())!==null&&ee!==void 0?ee:`Invalid data: \`${h.value}\``,`${Ge} (decimal)`;case q.integer:return Ge=(He=(me=j(h.value))===null||me===void 0?void 0:me.toString())!==null&&He!==void 0?He:`Invalid data: \`${h.value}\``,`${Ge} (integer)`;case q.langString:return`"${h.value}" (${h.language} string)`;case q.string:return`"${h.value}" (string)`;default:return`[${h.value}] (RDF/JS Literal of type: \`${h.datatype.value}\`)`}}return h.termType==="BlankNode"?`[${h.value}] (RDF/JS BlankNode)`:h.termType==="Quad"?"??? (nested RDF* Quad)":h.termType==="Variable"?`?${h.value} (RDF/JS Variable)`:h}function cn(h){if(!ir(h))throw new ha(h)}function bi(h,y){const _=p(h)?h.internal_changeLog:{additions:[],deletions:[]},[P,U]=y.filter(J=>!wi(J)).reduce(([J,ee],me)=>typeof ee.find(Ge=>Ge.equals(me))<"u"?[J,ee.filter(Ge=>!Ge.equals(me))]:[J.concat(me),ee],[_.additions,_.deletions]);return Me({...h,internal_changeLog:{additions:P,deletions:U}})}function Pr(h,y){const _=p(h)?h.internal_changeLog:{additions:[],deletions:[]},[P,U]=y.filter(J=>!wi(J)).reduce(([J,ee],me)=>typeof J.find(Ge=>Ge.equals(me))<"u"?[J.filter(Ge=>!Ge.equals(me)),ee]:[J,ee.concat(me)],[_.additions,_.deletions]);return Me({...h,internal_changeLog:{additions:P,deletions:U}})}function ta(h){return p(h)?h:Me({...h,internal_changeLog:{additions:[],deletions:[]}})}function wi(h){return h.subject.termType==="BlankNode"||h.object.termType==="BlankNode"}function Ha(h){return Object.keys(h.predicates).filter(y=>Yn(h,y)!==null)}function da(h,y){var _,P,U;if(cn(h),!Yt(y))throw new Mr(y);const J=w(y),ee=(U=(P=(_=h.predicates[J])===null||_===void 0?void 0:_.namedNodes)===null||P===void 0?void 0:P[0])!==null&&U!==void 0?U:null;return ee===null?null:ue(ee)?`#${Ie(ee)}`:ee}const _i=da;function b(h,y){var _,P,U;if(cn(h),!Yt(y))throw new Mr(y);const J=w(y);return(U=(P=(_=h.predicates[J])===null||_===void 0?void 0:_.namedNodes)===null||P===void 0?void 0:P.map(ee=>ue(ee)?`#${Ie(ee)}`:ee))!==null&&U!==void 0?U:[]}const v=b;function A(h,y){cn(h);const _=gn(h,y,q.boolean);return _===null?null:Ee(_)}function I(h,y){return cn(h),ar(h,y,q.boolean).map(Ee).filter(P=>P!==null)}function B(h,y){cn(h);const _=gn(h,y,q.dateTime);return _===null?null:mt(_)}function Q(h,y){return cn(h),ar(h,y,q.dateTime).map(mt).filter(P=>P!==null)}function le(h,y){cn(h);const _=gn(h,y,q.date);return _===null?null:wt(_)}function Se(h,y){return cn(h),ar(h,y,q.date).map(wt).filter(P=>P!==null)}function ye(h,y){cn(h);const _=gn(h,y,q.time);return _===null?null:ct(_)}function we(h,y){return cn(h),ar(h,y,q.time).map(ct).filter(P=>P!==null)}function Te(h,y){cn(h);const _=gn(h,y,q.decimal);return _===null?null:dt(_)}function Oe(h,y){return cn(h),ar(h,y,q.decimal).map(P=>dt(P)).filter(P=>P!==null)}function ke(h,y){cn(h);const _=gn(h,y,q.integer);return _===null?null:j(_)}function ze(h,y){return cn(h),ar(h,y,q.integer).map(P=>j(P)).filter(P=>P!==null)}function st(h,y){return yt(h,y,"en")}function yt(h,y,_){var P,U;if(cn(h),!Yt(y))throw new Mr(y);const J=w(y),ee=(U=(P=h.predicates[J])===null||P===void 0?void 0:P.langStrings)!==null&&U!==void 0?U:{},He=Object.keys(ee).find(Ge=>Ge.toLowerCase()===_.toLowerCase()&&Array.isArray(ee[Ge])&&ee[Ge].length>0);return typeof He=="string"?ee[He][0]:null}function Et(h,y){return oe(h,y,"en")}function oe(h,y,_){var P,U;if(cn(h),!Yt(y))throw new Mr(y);const J=w(y),ee=(U=(P=h.predicates[J])===null||P===void 0?void 0:P.langStrings)!==null&&U!==void 0?U:{},He=Object.keys(ee).find(Ge=>Ge.toLowerCase()===_.toLowerCase()&&Array.isArray(ee[Ge])&&ee[Ge].length>0);return typeof He=="string"?[...ee[He]]:[]}function Ae(h,y){var _,P;if(cn(h),!Yt(y))throw new Mr(y);const U=w(y),J=(P=(_=h.predicates[U])===null||_===void 0?void 0:_.langStrings)!==null&&P!==void 0?P:{};return new Map(Object.entries(J).map(([ee,me])=>[ee,[...me]]))}function De(h,y){return cn(h),gn(h,y,q.string)}function Le(h,y){return cn(h),ar(h,y,q.string)}function ht(h,y){const _=_i(h,y);return _===null?null:sn.namedNode(_)}function At(h,y){return v(h,y).map(P=>sn.namedNode(P))}function dn(h,y){var _,P,U,J;if(cn(h),!Yt(y))throw new Mr(y);const ee=w(y),me=(P=(_=h.predicates[ee])===null||_===void 0?void 0:_.langStrings)!==null&&P!==void 0?P:{},He=Object.keys(me);if(He.length>0){const kt=He.find(Kt=>Array.isArray(me[Kt])&&me[Kt].length>0);if(typeof kt=="string")return sn.literal(me[kt][0],kt)}const Ge=(J=(U=h.predicates[ee])===null||U===void 0?void 0:U.literals)!==null&&J!==void 0?J:{},Ze=Object.keys(Ge);if(Ze.length>0){const kt=Ze.find(Kt=>Array.isArray(Ge[Kt])&&Ge[Kt].length>0);if(typeof kt=="string")return sn.literal(Ge[kt][0],sn.namedNode(kt))}return null}function Bt(h,y){var _,P,U,J;if(cn(h),!Yt(y))throw new Mr(y);const ee=w(y);let me=[];const He=(P=(_=h.predicates[ee])===null||_===void 0?void 0:_.langStrings)!==null&&P!==void 0?P:{},Ge=Object.keys(He);for(const Kt of Ge){const Nn=He[Kt].map(dr=>sn.literal(dr,Kt));me=me.concat(Nn)}const Ze=(J=(U=h.predicates[ee])===null||U===void 0?void 0:U.literals)!==null&&J!==void 0?J:{},kt=Object.keys(Ze);for(const Kt of kt){const rn=Ze[Kt],Nn=sn.namedNode(Kt),dr=rn.map(Zn=>sn.literal(Zn,Nn));me=me.concat(dr)}return me}function Yn(h,y){var _,P;cn(h);const U=ht(h,y);if(U!==null)return U;const J=dn(h,y);if(J!==null)return J;const ee=w(y),me=(P=(_=h.predicates[ee])===null||_===void 0?void 0:_.blankNodes)!==null&&P!==void 0?P:[];if(me.length>0){const He=se(me[0])?k(me[0]):void 0;return sn.blankNode(He)}return null}function un(h,y){var _,P;cn(h);const U=At(h,y),J=Bt(h,y),ee=w(y),He=((P=(_=h.predicates[ee])===null||_===void 0?void 0:_.blankNodes)!==null&&P!==void 0?P:[]).map(Ze=>{const kt=se(Ze)?k(Ze):void 0;return sn.blankNode(kt)});return U.concat(J).concat(He)}function gn(h,y,_){var P,U,J,ee;if(!Yt(y))throw new Mr(y);const me=w(y);return(ee=(J=(U=(P=h.predicates[me])===null||P===void 0?void 0:P.literals)===null||U===void 0?void 0:U[_])===null||J===void 0?void 0:J[0])!==null&&ee!==void 0?ee:null}function ar(h,y,_){var P,U,J;if(!Yt(y))throw new Mr(y);const ee=w(y);return[...(J=(U=(P=h.predicates[ee])===null||P===void 0?void 0:P.literals)===null||U===void 0?void 0:U[_])!==null&&J!==void 0?J:[]]}function hn(h,y,_={}){var P;if(!Yt(y))throw new lo(y);const U=typeof _.scope<"u"?w(_.scope):"default",J=(P=h.graphs[U])!==null&&P!==void 0?P:{},ee=w(y),me=ue(ee)&&c(h)?Gn(Ie(ee),he(h)):ee,He=J[me];return typeof He>"u"?null:He}function or(h,y={acceptBlankNodes:!1}){var _;const P=typeof y.scope<"u"?w(y.scope):"default",U=(_=h.graphs[P])!==null&&_!==void 0?_:{};return Object.values(U).filter(J=>!se(J.url)||y.acceptBlankNodes)}function rr(h,y){var _;const P=Mi(y)&&c(h)?Gn(Ie(y.url),he(h)):y.url,U=h.graphs.default,J=Me({...U,[P]:Me({...y,url:P})}),ee=Me({...h.graphs,default:J}),me=sn.namedNode(P),He=(_=h.graphs.default[P])===null||_===void 0?void 0:_.predicates,Ge=typeof He<"u"?Ht(He,me,sn.defaultGraph()):[],Ze=Ht(y.predicates,me,sn.defaultGraph());return bi(Pr(Me({...h,graphs:ee}),Ge),Ze)}function Dr(h,y){var _;let P;H(y)?P=y.value:typeof y=="string"?P=ue(y)&&c(h)?Gn(Ie(y),he(h)):y:Mi(y)?P=y.url:P=Cn(y);const J={...h.graphs.default};delete J[P];const ee=Me({...h.graphs,default:Me(J)}),me=sn.namedNode(P),He=(_=h.graphs.default[P])===null||_===void 0?void 0:_.predicates,Ge=typeof He<"u"?Ht(He,me,sn.defaultGraph()):[];return Pr(Me({...h,graphs:ee}),Ge)}function tr(h={}){var y;if(typeof h.url<"u"){const{url:J}=h;if(!Yt(J))throw new lo(J);return Me({type:"Subject",predicates:Me({}),url:J})}const _=(y=h.name)!==null&&y!==void 0?y:Co(),P=Ye(_);return Me({type:"Subject",predicates:Me({}),url:P})}function ir(h){return typeof h=="object"&&h!==null&&typeof h.type=="string"&&h.type==="Subject"}function Er(h,y){if(Mi(h)){if(typeof y>"u")throw new Error("The URL of a Thing that has not been persisted cannot be determined without a base URL.");return Gn(Ie(h.url),y)}return h.url}const Cn=Er;function Yr(h){let y="";Mi(h)?y+=`## Thing (no URL yet  identifier: \`#${Ie(h.url)}\`)
`:y+=`## Thing: ${h.url}
`;const _=Object.keys(h.predicates);if(_.length===0)y+=`
<empty>
`;else for(const P of _){y+=`
Property: ${P}
`;const U=un(h,P);y+=U.reduce((J,ee)=>`${J}- ${Hr(ee)}
`,"")}return y}function Mi(h){return ue(h.url)}class ha extends m{constructor(y){const _=`Expected a Thing, but received: [${y}].`;super(_),this.receivedValue=y}}class Mr extends m{constructor(y){const _=H(y)?y.value:y,P=`Expected a valid URL to identify a property, but received: [${_}].`;super(P),this.receivedProperty=_}}class na extends m{constructor(y){const _=H(y)?y.value:y,P=`Expected a valid URL value, but received: [${_}].`;super(P),this.receivedValue=_}}class lo extends m{constructor(y){const _=H(y)?y.value:y,P=`Expected a valid URL to identify a Thing, but received: [${_}].`;super(P),this.receivedValue=_}}const Co=()=>u.v4();function Or(h){const y=new URL(h);return y.hash="",y.href}function ei(){return Me({type:"Dataset",graphs:{default:{}}})}async function Va(h,y={}){if(E(h))throw new at(`Fetching the SolidDataset at [${h.url}] failed: [${h.status}] [${h.statusText}] ${await h.text()}.`,h);const _=et(h),P={"text/turtle":Tt(),...y.parsers},U=lt(_);if(U===null)throw new Error(`Could not determine the content type of the Resource at [${he(_)}].`);const J=U.split(";")[0],ee=P[J];if(typeof ee>"u")throw new Error(`The Resource at [${he(_)}] has a MIME type of [${J}], but the only parsers available are for the following MIME types: [${Object.keys(P).join(", ")}].`);const me=await h.text();return new Promise((Ge,Ze)=>{let kt=Me({graphs:Me({default:Me({})}),type:"Dataset"});const Kt=[],rn=[];ee.onError(Nn=>{Ze(new Error(`Encountered an error parsing the Resource at [${he(_)}] with content type [${U}]: ${Nn}`))}),ee.onQuad(Nn=>{rn.push(Nn),Nn.subject.termType==="BlankNode"||Nn.object.termType==="BlankNode"?Kt.push(Nn):kt=qe(kt,Nn)}),ee.onComplete(async()=>{const dr=Kt.length<=20?zt(Kt):[];kt=Kt.filter(zr=>dr.every(An=>!An.equals(zr.subject))).reduce((zr,An)=>qe(zr,An,{otherQuads:rn,chainBlankNodes:dr}),kt);const no=Me({...kt,..._});Ge(no)}),ee.parse(me,_)})}async function ti(h,y=pe){var _;h=w(h);const P={...pe,...y},U=Object.keys((_=y.parsers)!==null&&_!==void 0?_:{}),J=U.length>0?U.join(", "):"text/turtle",ee=await P.fetch(h,{headers:{Accept:J}});if(E(ee))throw new at(`Fetching the Resource at [${h}] failed: [${ee.status}] [${ee.statusText}] ${await ee.text()}.`,ee);return await Va(ee,y)}async function ms(h){const y=h.internal_changeLog.deletions.length>0?`DELETE DATA {${(await Ft(h.internal_changeLog.deletions.map(an))).trim()}};`:"",_=h.internal_changeLog.additions.length>0?`INSERT DATA {${(await Ft(h.internal_changeLog.additions.map(an))).trim()}};`:"";return{method:"PATCH",body:`${y} ${_}`,headers:{"Content-Type":"application/sparql-update"}}}async function xa(h,y){return{method:"PUT",body:await Ft(tn(h).map(an),y),headers:{"Content-Type":"text/turtle","If-None-Match":"*",Link:`<${z.Resource}>; rel="type"`}}}async function M(h,y,_=pe){h=w(h);const P={...pe,..._},U=ta(y),J=je(U,h)?await ms(U):await xa(U,_),ee=await P.fetch(h,J);if(E(ee)){const Ze=je(U,h)?`The changes that were sent to the Pod are listed below.

${Wt(U)}`:`The SolidDataset that was sent to the Pod is listed below.

${Vt(U)}`;throw new at(`Storing the Resource at [${h}] failed: [${ee.status}] [${ee.statusText}] ${await ee.text()}.

${Ze}`,ee)}const me={...C(ee),isRawData:!1},He=Me({...y,internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:me});return wn(He)}async function te(h,y=pe){const _={...pe,...y},P=d(h)?w(he(h)):w(h),U=await _.fetch(P,{method:"DELETE"});if(E(U))throw new at(`Deleting the SolidDataset at [${P}] failed: [${U.status}] [${U.statusText}] ${await U.text()}.`,U)}async function ae(h,y=pe){var _;h=w(h),h=h.endsWith("/")?h:`${h}/`;const P={...pe,...y},U=await P.fetch(h,{method:"PUT",body:P.initialContent?await Ft(tn(P.initialContent).map(an)):void 0,headers:{Accept:"text/turtle","Content-Type":"text/turtle","If-None-Match":"*",Link:`<${z.BasicContainer}>; rel="type"`}});if(E(U)){const me=P.initialContent===void 0?"empty":"non-empty";throw new at(`Creating the ${me} Container at [${h}] failed: [${U.status}] [${U.statusText}] ${await U.text()}.`,U)}const J=C(U);return Me({...(_=y.initialContent)!==null&&_!==void 0?_:ei(),internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:J})}function de(h,y){return Or(h.internal_resourceInfo.sourceIri)===Or(y)}function je(h,y){return p(h)&&d(h)&&typeof h.internal_resourceInfo.sourceIri=="string"&&de(h,y)}async function be(h,y,_=pe){const P={...pe,..._};h=w(h);const U=await Ft(tn(y).map(an)),J={"Content-Type":"text/turtle",Link:`<${z.Resource}>; rel="type"`};_.slugSuggestion&&(J.slug=_.slugSuggestion);const ee=await P.fetch(h,{method:"POST",body:U,headers:J});if(E(ee))throw new at(`Storing the Resource in the Container at [${h}] failed: [${ee.status}] [${ee.statusText}] ${await ee.text()}.

The SolidDataset that was sent to the Pod is listed below.

${Vt(y)}`,ee);const me=C(ee);if(!me.location)throw new Error("Could not determine the location of the newly saved SolidDataset.");let He;try{He=new URL(me.location).href}catch{He=new URL(me.location,ee.url).href}const Ze=Me({...y,...{internal_resourceInfo:{isRawData:!1,sourceIri:He}}});return wn(Ze)}async function $e(h,y=pe){h=w(h);const _={...pe,...y},P={"Content-Type":"text/turtle",Link:`<${z.BasicContainer}>; rel="type"`};y.slugSuggestion&&(P.slug=y.slugSuggestion);const U=await _.fetch(h,{method:"POST",headers:P});if(E(U))throw new at(`Creating an empty Container in the Container at [${h}] failed: [${U.status}] [${U.statusText}] ${await U.text()}.`,U);const J=C(U);if(!J.location)throw new Error("Could not determine the location of the newly created Container.");try{const ee=new URL(J.location).toString();return Me({...ei(),internal_resourceInfo:{...J,sourceIri:ee}})}catch{}return Me({...ei(),internal_resourceInfo:{...J,sourceIri:new URL(J.location,U.url).href}})}async function Rt(h,y=pe){const _=d(h)?w(he(h)):w(h);if(!rt(h))throw new Error(`You're trying to delete the Container at [${_}], but Container URLs should end in a \`/\`. Are you sure this is a Container?`);const U=await{...pe,...y}.fetch(_,{method:"DELETE"});if(E(U))throw new at(`Deleting the Container at [${_}] failed: [${U.status}] [${U.statusText}] ${await U.text()}.`,U)}function _t(h,y){const _=new URL(y),P=new URL(h),U=P.href.startsWith(_.href),J=P.pathname.substring(_.pathname.length,P.pathname.length).replace(/(^\/)|(\/$)/g,"");return U&&J.length>=1&&!J.includes("/")}function Pt(h){const y=he(h),_=hn(h,y);return _===null?[]:v(_,z.contains).filter(P=>_t(P,y))}function qt(h){const y=he(h),_=hn(h,y);if(_===null)return{isValid:!0,invalidContainedResources:[]};const P=v(_,z.contains).filter(U=>!_t(U,y));return P.length>0?{isValid:!1,invalidContainedResources:P}:{isValid:!0,invalidContainedResources:[]}}function Vt(h){let y="";d(h)?y+=`# SolidDataset: ${he(h)}
`:y+=`# SolidDataset (no URL yet)
`;const _=or(h);return _.length===0?y+=`
<empty>
`:_.forEach(P=>{y+=`
${Yr(P)}`,p(h)&&(y+=`
${Jt(h,P)}
`)}),y}function Wt(h){if(!d(h))return"This is a newly initialized SolidDataset, so there is no source to compare it to.";if(!p(h)||h.internal_changeLog.additions.length===0&&h.internal_changeLog.deletions.length===0)return`## Changes compared to ${he(h)}

This SolidDataset has not been modified since it was fetched from ${he(h)}.
`;let y=`## Changes compared to ${he(h)}
`;const _=Lt(h);return Object.keys(_).forEach(P=>{y+=`
### Thing: ${P}
`;const U=_[P];Object.keys(U).forEach(J=>{y+=`
Property: ${J}
`;const{deleted:ee}=U[J],{added:me}=U[J];ee.length>0&&(y+=`- Removed:
`,y+=ee.reduce((He,Ge)=>`${He}  - ${Hr(Ge)}
`,"")),me.length>0&&(y+=`- Added:
`,y+=me.reduce((He,Ge)=>`${He}  - ${Hr(Ge)}
`,""))})}),y}function Lt(h){const y=Object.create(null);return h.internal_changeLog.deletions.forEach(_=>{var P,U,J;const ee=Xe(_.subject)?Vn(_.subject,he(h)):_.subject;if(!H(ee)||!H(_.predicate))return;const me=w(ee),He=w(_.predicate);(P=y[me])!==null&&P!==void 0||(y[me]=Object.create(null)),(U=(J=y[me])[He])!==null&&U!==void 0||(J[He]={added:[],deleted:[]}),y[me][He].deleted.push(_.object)}),h.internal_changeLog.additions.forEach(_=>{var P,U,J;const ee=Xe(_.subject)?Vn(_.subject,he(h)):_.subject;if(!H(ee)||!H(_.predicate))return;const me=w(ee),He=w(_.predicate);(P=y[me])!==null&&P!==void 0||(y[me]=Object.create(null)),(U=(J=y[me])[He])!==null&&U!==void 0||(J[He]={added:[],deleted:[]}),y[me][He].added.push(_.object)}),y}function Jt(h,y){const _=sn.namedNode(y.url),P=h.internal_changeLog.additions.reduce((me,He)=>He.subject.equals(_)?me+1:me,0),U=h.internal_changeLog.deletions.reduce((me,He)=>He.subject.equals(_)?me+1:me,0),J=P===1?"1 new value added":`${P} new values added`,ee=U===1?"1 value removed":`${U} values removed`;return`(${J} / ${ee})`}function an(h){const y=H(h.subject)?fn(h.subject):h.subject,_=H(h.object)?fn(h.object):h.object;return sn.quad(y,h.predicate,_,h.graph)}function fn(h){return ue(h.value)?sn.namedNode(`#${Ie(h.value)}`):h}function wn(h){const y=he(h),_=h.graphs.default,U=Object.keys(_).reduce((ee,me)=>{const He=Wn(ee[me],y),Ge=ue(me)?`${y}#${Ie(me)}`:me,Ze={...ee};return delete Ze[me],Ze[Ge]=He,Me(Ze)},_),J=Me({...h.graphs,default:U});return Me({...h,graphs:J})}function Wn(h,y){const P=Object.keys(h.predicates).reduce((U,J)=>{var ee;const me=(ee=U[J].namedNodes)!==null&&ee!==void 0?ee:[];if(me.every(Ze=>!ue(Ze)))return U;const He=Me(me.map(Ze=>ue(Ze)?`${y}#${Ie(Ze)}`:Ze)),Ge=Me({...U[J],namedNodes:He});return Me({...U,[J]:Ge})},h.predicates);return Me({...h,predicates:P,url:ue(h.url)?`${y}#${Ie(h.url)}`:h.url})}async function _n(h,y=pe){const _=w(h);try{const me=new URL("/.well-known/solid",new URL(_).origin).href;return await ti(me,{fetch:S})}catch{}const P=await _e(_,{fetch:y.fetch,ignoreAuthenticationErrors:!0}),J=Ke(P)[re.storage],ee=J?.length===1?J[0]:null;if(ee!==null){const me=new URL(".well-known/solid",ee.endsWith("/")?ee:`${ee}/`).href;return ti(me,{...y,parsers:{"application/ld+json":It()}})}throw new Error("Could not determine storage root or well-known solid resource.")}function Xt(h){return{...ei(),internal_resourceInfo:{sourceIri:w(h),isRawData:!1,contentType:"text/turtle",linkedResources:{}}}}function Bn(h){const y=w(h);if(!y.endsWith("/"))throw new Error("A Container's URL should end in a slash. Please update your tests.");return Xt(y)}function pn(h,y){const _=new Blob;return Object.assign(_,{internal_resourceInfo:{sourceIri:w(h),isRawData:!0,contentType:y?.contentType,linkedResources:{}}})}function jn(h,y=404,_="Not Found"){const P=new r.Response(void 0,{status:y,statusText:_});return new at(`Fetching the Resource at [${h}] failed: [${P.status}] [${P.statusText}].`,P)}const Qn=(h,y,_)=>{var P,U;if(cn(h),!Yt(y))throw new Mr(y);if(!ir(_)&&!Yt(_))throw new na(_);const J=w(y),ee=(P=h.predicates[J])!==null&&P!==void 0?P:{},me=(U=ee.namedNodes)!==null&&U!==void 0?U:[];let He;H(_)?He=_.value:typeof _=="string"?He=_:Mi(_)?He=_.url:He=Cn(_);const Ge=Me(me.concat(w(He))),Ze=Me({...ee,namedNodes:Ge}),kt=Me({...h.predicates,[J]:Ze});return Me({...h,predicates:kt})},Mt=Qn,Pn=(h,y,_)=>(cn(h),Vr(h,y,ne(_),q.boolean)),_r=(h,y,_)=>(cn(h),Vr(h,y,Pe(_),q.dateTime)),kn=(h,y,_)=>(cn(h),Vr(h,y,Ot(_),q.date)),yr=(h,y,_)=>(cn(h),Vr(h,y,Ne(_),q.time)),fr=(h,y,_)=>(cn(h),Vr(h,y,Fe(_),q.decimal)),Lr=(h,y,_)=>(cn(h),Vr(h,y,X(_),q.integer));function Sn(h,y,_){return qn(h,y,_,"en")}function qn(h,y,_,P){var U,J,ee;if(cn(h),!Yt(y))throw new Mr(y);const me=w(y),He=G(P),Ge=(U=h.predicates[me])!==null&&U!==void 0?U:{},Ze=(J=Ge.langStrings)!==null&&J!==void 0?J:{},kt=(ee=Ze[He])!==null&&ee!==void 0?ee:[],Kt=Me(kt.concat(_)),rn=Me({...Ze,[He]:Kt}),Nn=Me({...Ge,langStrings:rn}),dr=Me({...h.predicates,[me]:Nn});return Me({...h,predicates:dr})}const ni=(h,y,_)=>(cn(h),Vr(h,y,_,q.string));function Ei(h,y,_){return Qn(h,y,_.value)}function Tn(h,y,_){if(cn(h),!Yt(y))throw new Mr(y);return _.datatype.value===q.langString?qn(h,y,_.value,_.language):Vr(h,y,_.value,_.datatype.value)}function Gr(h,y,_){var P,U;if(_.termType==="NamedNode")return Ei(h,y,_);if(_.termType==="Literal")return Tn(h,y,_);if(_.termType==="BlankNode"){if(cn(h),!Yt(y))throw new Mr(y);const J=w(y),ee=(P=h.predicates[J])!==null&&P!==void 0?P:{},me=(U=ee.blankNodes)!==null&&U!==void 0?U:[],He=Me(me.concat(D(_))),Ge=Me({...ee,blankNodes:He}),Ze=Me({...h.predicates,[J]:Ge});return Me({...h,predicates:Ze})}throw new Error(`Term type [${_.termType}] is not supported by @inrupt/solid-client.`)}function Vr(h,y,_,P){var U,J,ee;if(cn(h),!Yt(y))throw new Mr(y);const me=w(y),He=(U=h.predicates[me])!==null&&U!==void 0?U:{},Ge=(J=He.literals)!==null&&J!==void 0?J:{},Ze=(ee=Ge[P])!==null&&ee!==void 0?ee:[],kt=Me(Ze.concat(_)),Kt=Me({...Ge,[P]:kt}),rn=Me({...He,literals:Kt}),Nn=Me({...h.predicates,[me]:rn});return Me({...h,predicates:Nn})}function nr(h,y){if(cn(h),!Yt(y))throw new Mr(y);const _=w(y),P={...h.predicates};return delete P[_],Me({...h,predicates:Me(P)})}const Xr=(h,y,_)=>{var P,U,J;if(cn(h),!Yt(y))throw new Mr(y);const ee=w(y);if(!ir(_)&&!Yt(_))throw new na(_);const me=ir(_)?Cn(_):w(_),He=Me((J=(U=(P=h.predicates[ee])===null||P===void 0?void 0:P.namedNodes)===null||U===void 0?void 0:U.filter(kt=>kt.toLowerCase()!==me.toLowerCase()))!==null&&J!==void 0?J:[]),Ge=Me({...h.predicates[ee],namedNodes:He}),Ze=Me({...h.predicates,[ee]:Ge});return Me({...h,predicates:Ze})},sr=Xr,$a=(h,y,_)=>(cn(h),co(h,y,q.boolean,P=>Ee(P)===_)),vc=(h,y,_)=>(cn(h),co(h,y,q.dateTime,P=>{var U;return((U=mt(P))===null||U===void 0?void 0:U.getTime())===_.getTime()})),el=(h,y,_)=>(cn(h),co(h,y,q.date,function(P){const U=wt(P);return U?U.getFullYear()===_.getFullYear()&&U.getMonth()===_.getMonth()&&U.getUTCDate()===_.getUTCDate():!1})),bc=(h,y,_)=>(cn(h),co(h,y,q.time,function(P){const U=ct(P);return U?U.hour===_.hour&&U.minute===_.minute&&U.second===_.second&&U.millisecond===_.millisecond&&U.timezoneHourOffset===_.timezoneHourOffset&&U.timezoneMinuteOffset===_.timezoneMinuteOffset:!1})),uo=(h,y,_)=>(cn(h),co(h,y,q.decimal,P=>dt(P)===_)),ys=(h,y,_)=>(cn(h),co(h,y,q.integer,P=>j(P)===_));function Yf(h,y,_){return Ra(h,y,_,"en")}function Ra(h,y,_,P){var U,J;if(cn(h),!Yt(y))throw new Mr(y);const ee=w(y),me=(J=(U=h.predicates[ee])===null||U===void 0?void 0:U.langStrings)!==null&&J!==void 0?J:{},He=Object.keys(me).find(Nn=>G(Nn)===G(P)&&Array.isArray(me[Nn])&&me[Nn].length>0);if(typeof He!="string")return h;const Ge=me[He],Ze=Me(Ge.filter(Nn=>Nn!==_)),kt=Me({...me,[He]:Ze}),Kt=Me({...h.predicates[ee],langStrings:kt}),rn=Me({...h.predicates,[ee]:Kt});return Me({...h,predicates:rn})}const Jo=(h,y,_)=>(cn(h),co(h,y,q.string,P=>P===_));function cu(h,y,_){return Xr(h,y,_.value)}function tl(h,y,_){var P,U,J;if(cn(h),!Yt(y))throw new Mr(y);const ee=_.datatype.value;if(ee===q.langString)return Ra(h,y,_.value,_.language);const me=w(y),He=(P=h.predicates[me])!==null&&P!==void 0?P:{},Ge=(U=He.literals)!==null&&U!==void 0?U:{},Ze=(J=Ge[ee])!==null&&J!==void 0?J:[],kt=Me(Ze.filter(Zn=>Zn!==_.value)),Kt=Me({...Ge,[ee]:kt}),rn=Me({...He,literals:Kt}),Nn=Me({...h.predicates,[me]:rn});return Me({...h,predicates:Nn})}function co(h,y,_,P){var U,J,ee;if(!Yt(y))throw new Mr(y);const me=w(y),He=(U=h.predicates[me])!==null&&U!==void 0?U:{},Ge=(J=He.literals)!==null&&J!==void 0?J:{},Ze=(ee=Ge[_])!==null&&ee!==void 0?ee:[],kt=Me(Ze.filter(Zn=>!P(Zn))),Kt=Me({...Ge,[_]:kt}),rn=Me({...He,literals:Kt}),Nn=Me({...h.predicates,[me]:rn});return Me({...h,predicates:Nn})}const Ka=(h,y,_)=>{if(cn(h),!Yt(y))throw new Mr(y);if(!ir(_)&&!Yt(_))throw new na(_);return Qn(nr(h,y),y,_)},vr=Ka,nl=(h,y,_)=>(cn(h),Pn(nr(h,y),y,_)),Xf=(h,y,_)=>(cn(h),_r(nr(h,y),y,_)),rl=(h,y,_)=>(cn(h),kn(nr(h,y),y,_)),di=(h,y,_)=>(cn(h),yr(nr(h,y),y,_)),wc=(h,y,_)=>(cn(h),fr(nr(h,y),y,_)),Qf=(h,y,_)=>(cn(h),Lr(nr(h,y),y,_));function Hi(h,y,_,P){return cn(h),qn(nr(h,y),y,_,P)}const fo=(h,y,_)=>(cn(h),ni(nr(h,y),y,_));function il(h,y,_){return cn(h),Ei(nr(h,y),y,_)}function fu(h,y,_){return cn(h),Tn(nr(h,y),y,_)}function Rh(h,y,_){if(cn(h),!Yt(y))throw new Mr(y);return Gr(nr(h,y),y,_)}function Ga(h=tr()){let y=ir(h)?h:tr(h);function _(ee){return(me,He)=>(y=ee(y,me,He),J)}function P(ee){return(me,He)=>(y=ee(y,me,He),J)}function U(ee){return(me,He)=>(y=ee(y,me,He),J)}const J={build:()=>y,addUrl:_(Qn),addIri:_(Mt),addBoolean:_(Pn),addDatetime:_(_r),addDate:_(kn),addTime:_(yr),addDecimal:_(fr),addInteger:_(Lr),addStringNoLocale:_(ni),addStringEnglish:(ee,me)=>(y=qn(y,ee,me,"en"),J),addStringWithLocale:(ee,me,He)=>(y=qn(y,ee,me,He),J),addNamedNode:_(Ei),addLiteral:_(Tn),addTerm:_(Gr),setUrl:P(Ka),setIri:P(vr),setBoolean:P(nl),setDatetime:P(Xf),setDate:P(rl),setTime:P(di),setDecimal:P(wc),setInteger:P(Qf),setStringNoLocale:P(fo),setStringEnglish:(ee,me)=>(y=Hi(y,ee,me,"en"),J),setStringWithLocale:(ee,me,He)=>(y=Hi(y,ee,me,He),J),setNamedNode:P(il),setLiteral:P(fu),setTerm:P(Rh),removeAll:ee=>(y=nr(y,ee),J),removeUrl:U(Xr),removeIri:U(sr),removeBoolean:U($a),removeDatetime:U(vc),removeDate:U(el),removeTime:U(bc),removeDecimal:U(uo),removeInteger:U(ys),removeStringNoLocale:U(Jo),removeStringEnglish:(ee,me)=>Ga(Ra(y,ee,me,"en")),removeStringWithLocale:(ee,me,He)=>Ga(Ra(y,ee,me,He)),removeNamedNode:U(cu),removeLiteral:U(tl)};return J}function Ch(h){const y=w(h);return{type:"Subject",predicates:{},url:y}}function xm(h){const y=Ke(h).type;return Array.isArray(y)&&y.includes($.AccessControlResource)}async function ra(h,y=pe){if(!si(h))return{resourceAcl:null,fallbackAcl:null};try{const _=await Zf(h,y);return _===null?{resourceAcl:null,fallbackAcl:await du(h,y)}:{resourceAcl:_,fallbackAcl:null}}catch(_){if(_ instanceof hu)return{resourceAcl:null,fallbackAcl:null};throw _}}async function Zf(h,y=pe){if(!si(h))return null;try{const _=await ti(h.internal_resourceInfo.aclUrl,y);if(xm(_))throw new hu(h,_);return Me({..._,internal_accessTo:he(h)})}catch(_){if(_ instanceof hu)throw _;return null}}async function du(h,y=pe){const _=new URL(he(h)),P=_.pathname;if(P==="/")return null;const U=ed(P),J=new URL(U,_.origin).href,ee=await _e(J,y);if(!si(ee))return null;const me=await Zf(ee,y);return me===null?du(ee,y):me}function ed(h){const y=h.substring(h.length-1)==="/"?h.substring(0,h.length-1):h;return`${h.substring(0,y.lastIndexOf("/"))}/`}function Ca(h){return or(h).filter(al)}function al(h){return v(h,V.type).includes(O.Authorization)}function To(h,y){return h.filter(_=>Th(_,y))}function Th(h,y){return v(h,O.accessTo).includes(y)}function ol(h,y){return h.filter(_=>sl(_,y))}function sl(h,y){return v(h,O.default).includes(y)||v(h,O.defaultForNew).includes(y)}function vs(h){const y=v(h,O.mode);return y.includes(Ur.write)?{read:y.includes(Ur.read),append:!0,write:!0,control:y.includes(Ur.control)}:{read:y.includes(Ur.read),append:y.includes(Ur.append),write:!1,control:y.includes(Ur.control)}}function bs(h){return h.reduce((y,_)=>y.write||_.write?{read:y.read||_.read,append:!0,write:!0,control:y.control||_.control}:{read:y.read||_.read,append:y.append||_.append,write:!1,control:y.control||_.control},{read:!1,append:!1,write:!1,control:!1})}function Rm(h){return Ca(h).filter(Jv).reduce(Dr,h)}function Jv(h){return Ht(h.predicates,sn.namedNode(h.url),sn.defaultGraph()).some(y=>!Yv(y))?!1:_i(h,O.accessTo)===null&&_i(h,O.default)===null&&_i(h,O.defaultForNew)===null||_i(h,O.mode)===null||_i(h,O.agent)===null&&_i(h,O.agentGroup)===null&&_i(h,O.agentClass)===null}function Yv(h){const{predicate:y}=h,{object:_}=h;return!!(y.equals(sn.namedNode(V.type))&&_.equals(sn.namedNode(O.Authorization))||y.equals(sn.namedNode(O.accessTo))||y.equals(sn.namedNode(O.default))||y.equals(sn.namedNode(O.defaultForNew))||y.equals(sn.namedNode(O.mode))&&Object.values(Ur).some(P=>_.equals(sn.namedNode(P)))||y.equals(sn.namedNode(O.agent))||y.equals(sn.namedNode(O.agentGroup))||y.equals(sn.namedNode(O.agentClass))||y.equals(sn.namedNode(O.origin)))}const Ur={read:"http://www.w3.org/ns/auth/acl#Read",append:"http://www.w3.org/ns/auth/acl#Append",write:"http://www.w3.org/ns/auth/acl#Write",control:"http://www.w3.org/ns/auth/acl#Control"};function Oh(h,y,_){return h.filter(P=>v(P,_).includes(y))}function Ih(h,y){const _={};return h.forEach(P=>{const U=v(P,y),J=vs(P);U.forEach(ee=>{_[ee]=typeof _[ee]>"u"?J:bs([_[ee],J])})}),_}function td(h){let y=tr();return y=vr(y,V.type,O.Authorization),h.read&&(y=Mt(y,O.mode,Ur.read)),h.append&&!h.write&&(y=Mt(y,O.mode,Ur.append)),h.write&&(y=Mt(y,O.mode,Ur.write)),h.control&&(y=Mt(y,O.mode,Ur.control)),y}function ho(h){let y=tr();y=vr(y,V.type,O.Authorization);function _(P,U,J){return v(P,J).reduce((ee,me)=>Mt(ee,J,me),U)}return y=_(h,y,O.accessTo),y=_(h,y,O.default),y=_(h,y,O.defaultForNew),y=_(h,y,O.agent),y=_(h,y,O.agentGroup),y=_(h,y,O.agentClass),y=_(h,y,O.origin),y=_(h,y,O.mode),y}function pa(h,y){return Object.assign(T(h),{internal_acl:y})}const qa=[O.agent,O.agentClass,O.agentGroup,O.origin];function za(h,y,_,P,U){if(!v(h,_).includes(y)){const me=td({read:!1,append:!1,write:!1,control:!1});return[h,me]}const J=sr(h,_,y);let ee=ho(h);return ee=sr(ee,U==="resource"?O.accessTo:O.default,P),U==="default"&&(ee=sr(ee,O.defaultForNew,P)),ee=vr(ee,_,y),qa.filter(me=>me!==_).forEach(me=>{ee=nr(ee,me)}),[J,ee]}function po(h,y,_,P,U){let J=h;or(h).forEach(He=>{const[Ge,Ze]=za(He,U,_,h.internal_accessTo,P);J=rr(J,Ge),J=rr(J,Ze)});let ee=td(y);ee=vr(ee,P==="resource"?O.accessTo:O.default,h.internal_accessTo),ee=vr(ee,_,U);const me=rr(J,ee);return Rm(me)}function nd(h,y){return pa(h,{resourceAcl:y,fallbackAcl:null})}function rd(h){return h.internal_acl.resourceAcl}class hu extends Error{constructor(y,_){super(`[${nt(y)}] is governed by Access Control Policies in [${nt(_)}] rather than by Web Access Control.`)}}function Ph(h){return typeof h.internal_acl=="object"}function Ta(h){return h.internal_acl.resourceAcl!==null&&he(h)===h.internal_acl.resourceAcl.internal_accessTo&&h.internal_resourceInfo.aclUrl===he(h.internal_acl.resourceAcl)}async function Cm(h,y=pe){const _=await ti(h,y),P=await ra(_,y);return pa(_,P)}async function id(h,y=pe){const _=await Jn(h,y),P=await ra(_,y);return pa(_,P)}async function pu(h,y=pe){const _=await _e(h,y),P=await ra(_,y);return pa(_,P)}function _c(h){return Ta(h)?h.internal_acl.resourceAcl:null}function xi(h){return h.internal_acl.fallbackAcl!==null}function Sc(h){return xi(h)?h.internal_acl.fallbackAcl:null}function Wa(h){return Me({...ei(),internal_accessTo:he(h),internal_resourceInfo:{sourceIri:h.internal_resourceInfo.aclUrl,isRawData:!1,linkedResources:{}}})}function Nh(h){const y=Wa(h),_=Ca(h.internal_acl.fallbackAcl);return ol(_,h.internal_acl.fallbackAcl.internal_accessTo).map(ee=>(ee=nr(ee,O.default),ee=nr(ee,O.defaultForNew),ee=vr(ee,O.accessTo,he(h)),ee=vr(ee,O.default,he(h)),ee)).reduce(rr,y)}async function Ec(h,y,_=pe){if(!si(h))throw new Error(`Could not determine the location of the ACL for the Resource at [${he(h)}]; possibly the current user does not have Control access to that Resource. Try calling \`hasAccessibleAcl()\` before calling \`saveAclFor()\`.`);return{...await M(h.internal_resourceInfo.aclUrl,y,_),internal_accessTo:he(h)}}async function ll(h,y=pe){const P=await{...pe,...y}.fetch(h.internal_resourceInfo.aclUrl,{method:"DELETE"});if(!P.ok)throw new Error(`Deleting the ACL of the Resource at [${he(h)}] failed: [${P.status}] [${P.statusText}].`);return Object.assign(T(h),{acl:{resourceAcl:null}})}function si(h){return typeof h.internal_resourceInfo.aclUrl=="string"}function Ac(h,y){return Ta(h)?cl(h.internal_acl.resourceAcl,y):xi(h)?Oa(h.internal_acl.fallbackAcl,y):null}function ul(h){if(Ta(h)){const y=_c(h);return xc(y)}if(xi(h)){const y=Sc(h);return Ia(y)}return null}function cl(h,y){const _=Ca(h),P=To(_,h.internal_accessTo),J=Oo(P,y).map(vs);return bs(J)}function xc(h){const y=Ca(h),_=To(y,h.internal_accessTo),P=Io(_);return Fh(P)}function Rc(h,y,_){return po(h,_,O.agent,"resource",y)}function Oa(h,y){const _=Ca(h),P=ol(_,h.internal_accessTo),J=Oo(P,y).map(vs);return bs(J)}function Ia(h){const y=Ca(h),_=ol(y,h.internal_accessTo),P=Io(_);return Fh(P)}function fl(h,y,_){return po(h,_,O.agent,"default",y)}function Oo(h,y){return Oh(h,y,O.agent)}function Io(h){return h.filter(dl)}function dl(h){return _i(h,O.agent)!==null}function Fh(h){return Ih(h,O.agent)}function Cc(h,y){return Ta(h)?Gi(h.internal_acl.resourceAcl,y):xi(h)?kr(h.internal_acl.fallbackAcl,y):null}function ad(h){if(Ta(h)){const y=_c(h);return hi(y)}if(xi(h)){const y=Sc(h);return ws(y)}return null}function Gi(h,y){const _=Ca(h),P=To(_,h.internal_accessTo),J=go(P,y).map(vs);return bs(J)}function hi(h){const y=Ca(h),_=To(y,h.internal_accessTo);return od(_)}function kr(h,y){const _=Ca(h),P=ol(_,h.internal_accessTo),J=go(P,y).map(vs);return bs(J)}function ws(h){const y=Ca(h),_=ol(y,h.internal_accessTo);return od(_)}function go(h,y){return Oh(h,y,O.agentGroup)}function od(h){return Ih(h,O.agentGroup)}function _s(h,y,_){return po(h,_,O.agentGroup,"resource",y)}function Tm(h,y,_){return po(h,_,O.agentGroup,"default",y)}function sd(h){return Ta(h)?gu(h.internal_acl.resourceAcl):xi(h)?mu(h.internal_acl.fallbackAcl):null}function gu(h){const y=Ca(h),_=To(y,h.internal_accessTo),U=ld(_,W.Agent).map(vs);return bs(U)}function mu(h){const y=Ca(h),_=ol(y,h.internal_accessTo),U=ld(_,W.Agent).map(vs);return bs(U)}function Dh(h,y){return po(h,y,O.agentClass,"resource",W.Agent)}function Tc(h,y){return po(h,y,O.agentClass,"default",W.Agent)}function ld(h,y){return h.filter(_=>hl(_,y))}function hl(h,y){return v(h,O.agentClass).includes(y)}function Yo(h,y){return Object.assign(T(h),{internal_resourceInfo:{...h.internal_resourceInfo,aclUrl:y}})}function Ss(h){var y;const _=(y=h.internal_resourceInfo.aclUrl)!==null&&y!==void 0?y:"https://your.pod/mock-acl.ttl",P=Object.assign(T(h),{internal_resourceInfo:{...h.internal_resourceInfo,aclUrl:_}}),U=Wa(P);return pa(P,{resourceAcl:U,fallbackAcl:null})}function Xo(h){const y=ed(nt(h)),_=`${y}.acl`,P=Yo(Bn(y),_),U=Wa(P);return pa(T(h),{resourceAcl:null,fallbackAcl:U})}function ud(h,y){const _=hn(h,y);if(_===null)throw new Error(`Profile document [${he(h)}] does not include WebID [${y}]`);return _}function Mh(h,y,_){return rr(h,vr(ud(h,y),K.publicKey,_))}function yu(h,y){return da(ud(h,y),K.publicKey)}const cd=h=>typeof h.keys<"u";async function Es(h,y,_=pe){const U=await{...pe,..._}.fetch(y);if(!U.ok)throw new Error(`Fetching [${y}] returned an error: ${U.status} ${U.statusText}`);try{const J=await U.json();if(!cd(J))throw new Error(`[${y}] does not dereference to a valid JWKS: ${JSON.stringify(J)}`);return{keys:[...J.keys,h]}}catch(J){throw new Error(`Parsing the document at [${y}] failed: ${J}`)}}async function qi(h,y,_=pe){const P=await ti(y,{fetch:_.fetch});if(P===null)throw new Error(`The profile document associated with WebID [${y}] could not be retrieved.`);const U=yu(P,y);if(U===null)throw new Error(`No key set is declared for the property [${K.publicKey}] in the profile of [${y}]`);const J=await Es(h,U,_);return Gt(U,new Blob([JSON.stringify(J)]),{contentType:"application/json",fetch:_.fetch})}function Oc(h,y){const _=hn(y,h),P=or(y).filter(U=>v(U,W.primaryTopic).length>0).map(Cn).concat(_?v(_,L.seeAlso):[]).concat(_?v(_,W.isPrimaryTopicOf):[]).filter(U=>U!==nt(y));return Array.from(new Set(P))}async function Lh(h,y=pe){var _,P;const U=(_=y.fetch)!==null&&_!==void 0?_:S,J=(P=y.webIdProfile)!==null&&P!==void 0?P:await ti(h,{fetch:S}),ee=(await Promise.allSettled(Oc(h,J).map(me=>ti(me,{fetch:U})))).filter(me=>me.status==="fulfilled").map(me=>me.value);return{webIdProfile:J,altProfileAll:ee}}async function Xv(h,y=pe){const _=await Lh(h,y);return Om(_,h)}function Om(h,y){const _=new Set;return[h.webIdProfile,...h.altProfileAll].forEach(P=>{const U=hn(P,y);U!==null&&v(U,re.storage).forEach(J=>_.add(J))}),Array.from(_)}async function Qv(h){return ti(h,{fetch:S})}function yn(h){if(!Ar(h))throw new Error(`An Access Control Resource for [${he(h)}] is not available. This could be because the current user is not allowed to see it, or because their Pod Server does not support Access Control Resources.`);return h.internal_acp.acr}function Pi(h,y){return Object.assign(T(h),{internal_acp:{...h.internal_acp,acr:y}})}function vu(h){let y=tr(h);return y=vr(y,V.type,$.AccessControl),y}function Ic(h,y,_){const P=yn(h),U=hn(P,y,_);return U===null||!v(U,V.type).includes($.AccessControl)?null:U}function mo(h,y){const _=yn(h),P=or(_,y),U=P.filter(ee=>v(ee,V.type).includes($.AccessControl)),J=P.filter(ee=>v(ee,$.accessControl).length>0).map(ee=>{const me=v(ee,$.accessControl)[0];return tr({url:me})});return U.concat(J)}function Ja(h,y){const _=yn(h),P=rr(_,y);return Pi(h,P)}function pl(h,y){return Mt(h,$.apply,y)}function Im(h){return v(h,$.apply)}function Uh(h,y){return sr(h,$.apply,y)}function Pm(h){return nr(h,$.apply)}function kh(h,y){return Mt(h,$.applyMembers,y)}function Qo(h){return v(h,$.applyMembers)}function jh(h,y){return sr(h,$.applyMembers,y)}function Pc(h){return nr(h,$.applyMembers)}function Bh(h){const y=mo(h);return y.length===0?vu():y[0]}function yo(h){return c(h)&&Array.isArray(h.internal_resourceInfo.linkedResources[$.accessControl])&&h.internal_resourceInfo.linkedResources[$.accessControl].length===1}function bu(h,y){var _;const P=yn(h),U=he(P);let J=(_=hn(P,U))!==null&&_!==void 0?_:tr({url:U});J=Mt(J,$.access,y);const ee=rr(P,J);return Pi(h,ee)}function gl(h,y){var _;const P=yn(h),U=he(P);let J=(_=hn(P,U))!==null&&_!==void 0?_:tr({url:U});J=Mt(J,$.accessMembers,y);const ee=rr(P,J);return Pi(h,ee)}function Ya(h){const y=yn(h),_=he(y),P=hn(y,_);return P===null?[]:v(P,$.access)}function ml(h){const y=yn(h),_=he(y),P=hn(y,_);return P===null?[]:v(P,$.accessMembers)}function Po(h,y){const _=yn(h),P=he(_),U=hn(_,P);if(U===null)return h;const J=sr(U,$.access,y),ee=rr(_,J);return Pi(h,ee)}function Nc(h,y){const _=yn(h),P=he(_),U=hn(_,P);if(U===null)return h;const J=sr(U,$.accessMembers,y),ee=rr(_,J);return Pi(h,ee)}function No(h){const y=yn(h),_=he(y),P=hn(y,_);if(P===null)return h;const U=nr(P,$.access),J=rr(y,U);return Pi(h,J)}function yl(h){const y=yn(h),_=he(y),P=hn(y,_);if(P===null)return h;const U=nr(P,$.accessMembers),J=rr(y,U);return Pi(h,J)}function Fc(h,y){const _=Bh(h),P=pl(_,y);return Ja(h,P)}function Fo(h,y){const _=Bh(h),P=kh(_,y);return Ja(h,P)}function vo(h){const _=mo(h).map(U=>Im(U)),P=new Set;return _.forEach(U=>{U.forEach(J=>P.add(J))}),Array.from(P)}function vl(h){const _=mo(h).map(U=>Qo(U)),P=new Set;return _.forEach(U=>{U.forEach(J=>P.add(J))}),Array.from(P)}function Pa(h,y){return mo(h).map(J=>Uh(J,y)).reduce(Ja,h)}function Do(h,y){return mo(h).map(J=>jh(J,y)).reduce(Ja,h)}function Zo(h){return mo(h).map(U=>Pm(U)).reduce(Ja,h)}function bl(h){return mo(h).map(U=>Pc(U)).reduce(Ja,h)}function Dc(h){let y=`# Access controls for ${he(h)}
`;const _=vo(h),P=vl(h),U=Ya(h),J=ml(h);return _.length===0&&P.length===0&&U.length===0&&J.length===0&&(y+=`
<no policies specified yet>
`),_.length>0&&(y+=`
The following policies apply to this resource:
- `,y+=`${_.join(`
- `)}
`),U.length>0&&(y+=`
The following policies apply to the access control resource for this resource:
- `,y+=`${U.join(`
- `)}
`),P.length>0&&(y+=`
The following policies apply to the children of this resource:
- `,y+=`${P.join(`
- `)}
`),J.length>0&&(y+=`
The following policies apply to the access control resources for children of this resource:
- `,y+=`${J.join(`
- `)}
`),y}const Ni="http://www.w3.org/ns/solid/acp#",Fn={AccessControlResource:Ni.concat("AccessControlResource"),Matcher:Ni.concat("Matcher"),Policy:Ni.concat("Policy"),PublicAgent:Ni.concat("PublicAgent"),access:Ni.concat("access"),accessControl:Ni.concat("accessControl"),agent:Ni.concat("agent"),allOf:Ni.concat("allOf"),allow:Ni.concat("allow"),anyOf:Ni.concat("anyOf"),apply:Ni.concat("apply"),deny:Ni.concat("deny"),memberAccessControl:Ni.concat("memberAccessControl"),noneOf:Ni.concat("noneOf"),vc:Ni.concat("vc")},fd="http://www.w3.org/ns/auth/acl#",wl={Append:fd.concat("Append"),Read:fd.concat("Read"),Write:fd.concat("Write")},wu="http://www.w3.org/ns/solid/vc#SolidAccessGrant";function As(h){const y=yn(h),_=he(y);return hn(y,_)}const _l="defaultAccessControl",Sl="defaultAcrAccessControl",Mc="defaultMemberAccessControl",Mo="defaultMemberAcrAccessControl";function lr(h,y){const _=yn(h);return he(_).concat("#").concat(y)}function br(h,y){const _=yn(h),P=lr(h,y),U=hn(_,P);return U===null||typeof U>"u"?tr({url:P}):U}function pi(h,y){const _=v(h,y);return{read:_.includes(wl.Read),append:_.includes(wl.Append),write:_.includes(wl.Write),controlRead:!1,controlWrite:!1}}function dd(h,y){return Object.assign(T(h),{internal_acp:{acr:y}})}function El(h,y,_){let P=nr(h,_);return(y.read||y.controlRead)&&(P=Mt(P,_,wl.Read)),y.append&&(P=Mt(P,_,wl.Append)),(y.write||y.controlWrite)&&(P=Mt(P,_,wl.Write)),P}const xs="defaultVcPolicy",Lc="defaultVcMatcher";function Uc(h,y,_,P){var U;let J=hn(h,y);J===null&&(J=Ga({url:y}).addIri(V.type,Fn.Policy).addIri(Fn.anyOf,_).build());const ee=(U=hn(h,_))!==null&&U!==void 0?U:Ga({url:_}).addIri(V.type,Fn.Matcher).addIri(Fn.vc,wu).build(),me=pi(J,Fn.allow);return J=El(J,{...me,...P},Fn.allow),{matcher:ee,policy:J}}function Al(h,y,_={inherit:!1}){var P;let U=yn(h);const J=`${nt(U)}#${xs}`,ee=`${nt(U)}#${Lc}`,{policy:me,matcher:He}=Uc(U,J,ee,y);let Ge=br(h,"defaultAccessControl");v(Ge,Fn.apply).includes(Cn(me))||(Ge=Mt(Ge,Fn.apply,me));let Ze=br(h,"defaultMemberAccessControl"),kt=(P=As(h))!==null&&P!==void 0?P:tr({url:nt(U)});return v(kt,Fn.accessControl).includes(Cn(Ge))||(kt=Mt(kt,Fn.accessControl,Ge)),U=[kt,Ge,me,He].reduce(rr,U),_.inherit&&(v(Ze,Fn.apply).includes(Cn(me))||(Ze=Mt(Ze,Fn.apply,me)),v(kt,Fn.memberAccessControl).includes(Cn(Ze))||(kt=Mt(kt,Fn.memberAccessControl,Ze)),U=[kt,Ze].reduce(rr,U)),dd(h,U)}const Hh={read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1},gi=(h,y,_)=>v(h,y).includes(Cn(_));function hd(h){const y=yn(h),_=br(h,"defaultAccessControl"),P=As(h);if(P===null||!gi(P,Fn.accessControl,_))return Hh;const U=`${nt(y)}#${xs}`,J=hn(y,U);if(J===null||!gi(_,Fn.apply,J))return Hh;const ee=`${nt(y)}#${Lc}`,me=hn(y,ee);return me===null||!gi(J,Fn.anyOf,me)?Hh:pi(J,Fn.allow)}async function Rs(h,y=pe){const _=w(h),P={...pe,...y},U=await ti(_,P),J=await ii(U,P);return{...U,...J}}async function xl(h,y=pe){const _=w(h),P={...pe,...y},U=await Jn(_,P),J=await ii(U,P);return Object.assign(U,J)}async function Ri(h,y=pe){const _=w(h),P={...pe,...y},U=await _e(_,P),J=await ii(U,P);return{...U,...J}}async function _u(h,y=pe){const _=w(h),P={...pe,...y},U=await ti(_,P);if(si(U)){const ee=await ra(U,P);return pa(U,ee)}const J=await ii(U,P);return{...U,...J}}async function Cs(h,y=pe){const _=w(h),P={...pe,...y},U=await Jn(_,P);if(si(U)){const ee=await ra(U,P);return pa(U,ee)}const J=await ii(U,P);return Object.assign(U,J)}async function Ts(h,y=pe){const _=w(h),P={...pe,...y},U=await _e(_,P);if(si(U)){const ee=await ra(U,P);return pa(U,ee)}const J=await ii(U,P);return{...U,...J}}async function ia(h,y=pe){const _=yn(h),P={...pe,...y},U=await M(he(_),_,P);return Pi(h,U)}function Ar(h){return typeof h.internal_acp=="object"&&h.internal_acp!==null&&typeof h.internal_acp.acr=="object"&&h.internal_acp.acr!==null}async function ii(h,y){let _;if(yo(h)){const{linkedResources:ee}=h.internal_resourceInfo;[_]=ee[$.accessControl]}else if(si(h)){let ee;try{ee=await _e(h.internal_resourceInfo.aclUrl,y)}catch{}ee&&xm(ee)&&(_=he(ee))}if(typeof _!="string")return{internal_acp:{acr:null}};let P;try{P=await ti(_,y)}catch{return{internal_acp:{acr:null}}}return{internal_acp:{acr:{...P,accessTo:he(h)}}}}function Os(h){const y=vo(h).map(Or).concat(vl(h).map(Or)).concat(Ya(h).map(Or)).concat(ml(h).map(Or));return Array.from(new Set(y))}async function Is(h,y=pe){const _=w(h),P={...pe,...y},U=await _e(_,P);return Ar(await ii(U,P))}function Su(h){return c(h)?[$.accessControl,"acl"].map(_=>{if(Array.isArray(h.internal_resourceInfo.linkedResources[_])&&h.internal_resourceInfo.linkedResources[_].length===1)return h.internal_resourceInfo.linkedResources[_][0]}).find(_=>_!==void 0):void 0}function kc(h){return v(h,V.type).includes($.Rule)}function Xa(h,y){return Mt(h,$.allOf,y)}function Rl(h,y){return sr(h,$.allOf,y)}function Eu(h,y){return vr(h,$.allOf,y)}function es(h){return v(h,$.allOf)}function jc(h,y){return Mt(h,$.anyOf,y)}function Bc(h,y){return sr(h,$.anyOf,y)}function Hc(h,y){return vr(h,$.anyOf,y)}function Ps(h){return v(h,$.anyOf)}function Vc(h,y){return Mt(h,$.noneOf,y)}function $c(h,y){return sr(h,$.noneOf,y)}function Au(h,y){return vr(h,$.noneOf,y)}function Lo(h){return v(h,$.noneOf)}function pd(h){const y=w(h);let _=tr({url:y});return _=Ka(_,V.type,$.Rule),_}function Kc(h,y){const _=yn(h),P=new URL(he(_));P.hash=`#${y}`;let U=tr({url:P.href});return U=Ka(U,V.type,$.Rule),U}function Gc(h,y){const _=hn(h,y);return _===null||da(_,V.type)!==$.Rule?null:_}function gd(h,y){const _=yn(h),P=he(_),U=new URL(P);U.hash=`#${y}`;const J=hn(_,U.href);return J===null||!kc(J)?null:J}function xu(h){return or(h).filter(kc)}function Vh(h){const y=yn(h);return or(y).filter(kc)}function qc(h,y){return Dr(h,y)}function $h(h,y){const _=yn(h);let P;if(typeof y=="string")if(Yt(y))P=y;else{const me=new URL(he(_));me.hash=`#${y}`,P=me.href}else H(y)?P=w(y):P=Er(y);const U=gd(h,new URL(P).hash.substring(1));if(U===null)return h;const J=Dr(_,U);return Pi(h,J)}function zc(h,y){return rr(h,y)}function Cl(h,y){const _=yn(h),P=rr(_,y);return Pi(h,P)}function Wc(h){return v(h,$.agent).filter(y=>y!==$.PublicAgent&&y!==$.AuthenticatedAgent&&y!==$.CreatorAgent)}function Jc(h,y){const _=Il(h),P=Pl(h),U=Nl(h);let J=vr(h,$.agent,y);return _&&(J=Xc(J)),P&&(J=Qc(J)),U&&(J=ef(J)),J}function ts(h,y){return Mt(h,$.agent,y)}function Tl(h,y){return sr(h,$.agent,y)}function Ru(h){return v(h,$.group)}function Ol(h,y){return vr(h,$.group,y)}function Ns(h,y){return Mt(h,$.group,y)}function Yc(h,y){return sr(h,$.group,y)}function Il(h){return v(h,$.agent).filter(y=>y===$.PublicAgent).length>0}function Xc(h){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return Mt(h,$.agent,$.PublicAgent)}function md(h){return sr(h,$.agent,$.PublicAgent)}function Pl(h){return v(h,$.agent).filter(y=>y===$.AuthenticatedAgent).length>0}function Qc(h){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return Mt(h,$.agent,$.AuthenticatedAgent)}function Zc(h){return sr(h,$.agent,$.AuthenticatedAgent)}function Nl(h){return v(h,$.agent).filter(y=>y===$.CreatorAgent).length>0}function ef(h){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return Mt(h,$.agent,$.CreatorAgent)}function tf(h){return sr(h,$.agent,$.CreatorAgent)}function yd(h){return v(h,$.client).filter(y=>y!==Ce.PublicOidcClient)}function Kh(h,y){const _=nf(h);let P=vr(h,$.client,y);return _&&(P=bd(P)),P}function Nm(h,y){return Mt(h,$.client,y)}function vd(h,y){return sr(h,$.client,y)}function nf(h){return v(h,$.client).filter(y=>y===Ce.PublicOidcClient).length>0}function bd(h){return Mt(h,$.client,Ce.PublicOidcClient)}function wd(h){return sr(h,$.client,Ce.PublicOidcClient)}function rf(h){let y=`## Rule: ${Er(h)}

`,_="";Il(h)&&(_+=`- Everyone
`),Pl(h)&&(_+=`- All authenticated agents
`),Nl(h)&&(_+=`- The creator of this resource
`),nf(h)&&(_+=`- Users of any client application
`);const P=Wc(h);P.length>0&&(_+=`- The following agents:
  - `,_+=`${P.join(`
  - `)}
`);const U=Ru(h);U.length>0&&(_+=`- Members of the following groups:
  - `,_+=`${U.join(`
  - `)}
`);const J=yd(h);return J.length>0&&(_+=`- Users of the following client applications:
  - `,_+=`${J.join(`
  - `)}
`),y+=_.length>0?`This rule applies to:
${_}`:`<empty>
`,y}function Fl(h){return v(h,V.type).includes($.Policy)}function Cu(h){const y=w(h);let _=tr({url:y});return _=Ka(_,V.type,$.Policy),_}function Tu(h,y){const _=hn(h,y);return _===null||!Fl(_)?null:_}function Dl(h){return or(h).filter(P=>!Mi(P)&&Fl(P))}function Uo(h,y){return Dr(h,y)}function Fs(h,y){return rr(h,y)}function Ml(h,y){let _=nr(h,$.allow);return y.read===!0&&(_=Mt(_,$.allow,Ur.read)),y.append===!0&&(_=Mt(_,$.allow,Ur.append)),y.write===!0&&(_=Mt(_,$.allow,Ur.write)),_}function Ll(h,y){let _=nr(h,$.allow);return y.read===!0&&(_=Mt(_,$.allow,$.Read)),y.append===!0&&(_=Mt(_,$.allow,$.Append)),y.write===!0&&(_=Mt(_,$.allow,$.Write)),_}function af(h){const y=v(h,$.allow);return{read:y.includes(Ur.read),append:y.includes(Ur.append),write:y.includes(Ur.write)}}function ko(h){const y=v(h,$.allow);return{read:y.includes($.Read),append:y.includes($.Append),write:y.includes($.Write)}}function Gh(h,y){let _=nr(h,$.deny);return y.read===!0&&(_=Mt(_,$.deny,Ur.read)),y.append===!0&&(_=Mt(_,$.deny,Ur.append)),y.write===!0&&(_=Mt(_,$.deny,Ur.write)),_}function of(h,y){let _=nr(h,$.deny);return y.read===!0&&(_=Mt(_,$.deny,$.Read)),y.append===!0&&(_=Mt(_,$.deny,$.Append)),y.write===!0&&(_=Mt(_,$.deny,$.Write)),_}function _d(h){const y=v(h,$.deny);return{read:y.includes(Ur.read),append:y.includes(Ur.append),write:y.includes(Ur.write)}}function Qa(h){const y=v(h,$.deny);return{read:y.includes($.Read),append:y.includes($.Append),write:y.includes($.Write)}}function ga(h,y){const _=yn(h),P=new URL(he(_));P.hash=`#${y}`;let U=tr({url:P.href});return U=Ka(U,V.type,$.Policy),U}function Ds(h,y){const _=yn(h),P=he(_),U=new URL(P);U.hash=`#${y}`;const J=hn(_,U.href);return!vo(h).includes(U.href)||J===null||!Fl(J)?null:J}function ns(h,y){const _=yn(h),P=he(_),U=new URL(P);U.hash=`#${y}`;const J=hn(_,U.href);return!Ya(h).includes(U.href)||J===null||!Fl(J)?null:J}function Ul(h){const y=yn(h);return vo(h).map(J=>hn(y,J)).filter(J=>J!==null&&Fl(J))}function sf(h){const y=yn(h);return Ya(h).map(J=>hn(y,J)).filter(J=>J!==null&&Fl(J))}function lf(h,y){const _=yn(h);let P=y;if(typeof P=="string"&&Yt(P)===!1){const He=new URL(he(_));He.hash=`#${y}`,P=He.href}let U;if(typeof P=="string"?U=P:H(P)?U=w(P):U=Er(P,he(_)),Ds(h,new URL(U).hash.substring(1))===null)return h;const ee=Dr(_,P),me=Pi(h,ee);return Pa(me,U)}function rs(h,y){const _=yn(h);let P=y;if(typeof P=="string"&&Yt(P)===!1){const He=new URL(he(_));He.hash=`#${y}`,P=He.href}let U;if(typeof P=="string"?U=P:H(P)?U=w(P):U=Er(P,he(_)),ns(h,new URL(U).hash.substring(1))===null)return h;const ee=Dr(_,P),me=Pi(h,ee);return Po(me,U)}function kl(h,y){const _=yn(h),P=rr(_,y),U=Pi(h,P),J=Er(y,he(_));return Fc(U,J)}function Vi(h,y){const _=yn(h),P=rr(_,y),U=Pi(h,P),J=Er(y,he(_));return bu(U,J)}function Na(h){function y(He,Ge){return Ge?"denied":He?"allowed":"unspecified"}const _=ko(h),P=Qa(h);let U=`## Policy: ${Er(h)}

`;U+=`- Read: ${y(_.read,P.read)}
`,U+=`- Append: ${y(_.append,P.append)}
`,U+=`- Write: ${y(_.write,P.write)}
`;const J=es(h),ee=Ps(h),me=Lo(h);return J.length===0&&ee.length===0&&me.length===0&&(U+=`
<no rules specified yet>
`),J.length>0&&(U+=`
All of these rules should match:
`,U+=`- ${J.join(`
- `)}
`),ee.length>0&&(U+=`
At least one of these rules should match:
`,U+=`- ${ee.join(`
- `)}
`),me.length>0&&(U+=`
None of these rules should match:
`,U+=`- ${me.join(`
- `)}
`),U}function ma(h){const y=new URL("access-control-resource",h).href;return{...Xt(y),accessTo:h}}function jl(h,y=ma(he(h))){return Object.assign(T(h),{internal_acp:{acr:y,aprs:{}}})}const Ms={getFileWithAccessDatasets:Cs,getFileWithAcr:xl,getReferencedPolicyUrlAll:Os,getResourceInfoWithAccessDatasets:Ts,getResourceInfoWithAcr:Ri,getSolidDatasetWithAccessDatasets:_u,getSolidDatasetWithAcr:Rs,hasAccessibleAcr:Ar,saveAcrFor:ia},is={acrAsMarkdown:Dc,addAcrPolicyUrl:bu,addMemberAcrPolicyUrl:gl,addMemberPolicyUrl:Fo,addPolicyUrl:Fc,getAcrPolicyUrlAll:Ya,getMemberAcrPolicyUrlAll:ml,getMemberPolicyUrlAll:vl,getPolicyUrlAll:vo,hasLinkedAcr:yo,removeAcrPolicyUrl:Po,removeAcrPolicyUrlAll:No,removeMemberAcrPolicyUrl:Nc,removeMemberAcrPolicyUrlAll:yl,removeMemberPolicyUrl:Do,removeMemberPolicyUrlAll:bl,removePolicyUrl:Pa,removePolicyUrlAll:Zo},Fi={createPolicy:Cu,getAllowModes:ko,getDenyModes:Qa,getPolicy:Tu,getPolicyAll:Dl,policyAsMarkdown:Na,removePolicy:Uo,setAllowModes:Ll,setDenyModes:of,setPolicy:Fs},Sd={addAgent:ts,addForbiddenRuleUrl:Vc,addGroup:Ns,addOptionalRuleUrl:jc,addRequiredRuleUrl:Xa,createRule:pd,getAgentAll:Wc,getForbiddenRuleUrlAll:Lo,getGroupAll:Ru,getOptionalRuleUrlAll:Ps,getRequiredRuleUrlAll:es,getRule:Gc,getRuleAll:xu,hasAuthenticated:Pl,hasCreator:Nl,hasPublic:Il,removeAgent:Tl,removeForbiddenRuleUrl:$c,removeGroup:Yc,removeOptionalRuleUrl:Bc,removeRequiredRuleUrl:Rl,removeRule:qc,ruleAsMarkdown:rf,setAgent:Jc,setForbiddenRuleUrl:Au,setGroup:Ol,setOptionalRuleUrl:Hc,setRequiredRuleUrl:Eu,setRule:zc},qh={addMockAcrTo:jl,mockAcrFor:ma};function Ed(h,y){return y?Xc(h):md(h)}function zh(h,y){return y?Qc(h):Zc(h)}function Wh(h,y){return y?ef(h):tf(h)}const Ad={...Ms,...is,...Fi,...Sd,...qh,...{getForbiddenRuleurlAll:Lo,setPublic:Ed,setAuthenticated:zh,setCreator:Wh}},Dm={...{getFileWithAccessDatasets:Cs,getFileWithAcr:xl,getReferencedPolicyUrlAll:Os,getResourceInfoWithAccessDatasets:Ts,getResourceInfoWithAcr:Ri,getSolidDatasetWithAccessDatasets:_u,getSolidDatasetWithAcr:Rs,hasAccessibleAcr:Ar,saveAcrFor:ia},...{createPolicy:Cu,getAllowModes:ko,getDenyModes:Qa,getPolicy:Tu,getPolicyAll:Dl,policyAsMarkdown:Na,removePolicy:Uo,setAllowModes:Ll,setDenyModes:of,setPolicy:Fs},...{addAgent:ts,addForbiddenRuleUrl:Vc,addGroup:Ns,addOptionalRuleUrl:jc,addRequiredRuleUrl:Xa,createRule:pd,getAgentAll:Wc,getForbiddenRuleUrlAll:Lo,getGroupAll:Ru,getOptionalRuleUrlAll:Ps,getRequiredRuleUrlAll:es,getRule:Gc,getRuleAll:xu,hasAuthenticated:Pl,hasCreator:Nl,hasPublic:Il,removeAgent:Tl,removeForbiddenRuleUrl:$c,removeGroup:Yc,removeOptionalRuleUrl:Bc,removeRequiredRuleUrl:Rl,removeRule:qc,ruleAsMarkdown:rf,setAgent:Jc,setForbiddenRuleUrl:Au,setGroup:Ol,setOptionalRuleUrl:Hc,setRequiredRuleUrl:Eu,setRule:zc},...{addMockAcrTo:jl,mockAcrFor:ma},...{hasLinkedAcr:yo,addAcrPolicyUrl:bu,addMemberAcrPolicyUrl:gl,getAcrPolicyUrlAll:Ya,getMemberAcrPolicyUrlAll:ml,removeAcrPolicyUrl:Po,removeAcrPolicyUrlAll:No,removeMemberAcrPolicyUrl:Nc,removeMemberAcrPolicyUrlAll:yl},...{createControl:vu,getControl:Ic,getAllControl:mo,getControlAll:mo,setControl:Ja,removeControl:Mm,addPolicyUrl:pl,getPolicyUrlAll:Im,removePolicyUrl:Uh,removePolicyUrlAll:Pm,addMemberPolicyUrl:kh,getMemberPolicyUrlAll:Qo,removeMemberPolicyUrl:Qo,removeMemberPolicyUrlAll:Pc,getForbiddenRuleurlAll:Lo,setPublic:Ed,setAuthenticated:zh,setCreator:Wh}};function Mm(h,y){const _=yn(h),P=Dr(_,y);return Pi(h,P)}const Lm={...{getFileWithAccessDatasets:Cs,getFileWithAcr:xl,getLinkedAcrUrl:Su,getReferencedPolicyUrlAll:Os,getResourceInfoWithAccessDatasets:Ts,getResourceInfoWithAcr:Ri,getSolidDatasetWithAccessDatasets:_u,getSolidDatasetWithAcr:Rs,hasAccessibleAcr:Ar,saveAcrFor:ia,isAcpControlled:Is},...{acrAsMarkdown:Dc,addAcrPolicyUrl:bu,addMemberAcrPolicyUrl:gl,addMemberPolicyUrl:Fo,addPolicyUrl:Fc,getAcrPolicyUrlAll:Ya,getMemberAcrPolicyUrlAll:ml,getMemberPolicyUrlAll:vl,getPolicyUrlAll:vo,hasLinkedAcr:yo,removeAcrPolicyUrl:Po,removeAcrPolicyUrlAll:No,removeMemberAcrPolicyUrl:Nc,removeMemberAcrPolicyUrlAll:yl,removeMemberPolicyUrl:Do,removeMemberPolicyUrlAll:bl,removePolicyUrl:Pa,removePolicyUrlAll:Zo},...{createPolicy:Cu,getAllowModes:ko,getDenyModes:Qa,getPolicy:Tu,getPolicyAll:Dl,policyAsMarkdown:Na,removePolicy:Uo,setAllowModes:Ll,setDenyModes:of,setPolicy:Fs,createResourcePolicyFor:ga,getResourceAcrPolicy:ns,getResourceAcrPolicyAll:sf,getResourcePolicy:Ds,getResourcePolicyAll:Ul,removeResourceAcrPolicy:rs,removeResourcePolicy:lf,setResourceAcrPolicy:Vi,setResourcePolicy:kl},...{addAgent:ts,addGroup:Ns,createRule:pd,getAgentAll:Wc,getGroupAll:Ru,getRule:Gc,getRuleAll:xu,removeAgent:Tl,removeGroup:Yc,removeRule:qc,ruleAsMarkdown:rf,setAgent:Jc,setGroup:Ol,setRule:zc,addClient:Nm,getClientAll:yd,hasAnyClient:nf,removeClient:vd,setAnyClient:bd,setClient:Kh,removeAnyClient:wd,hasAuthenticated:Pl,hasCreator:Nl,hasPublic:Il,setAuthenticated:Qc,setCreator:ef,setPublic:Xc,removeAuthenticated:Zc,removeCreator:tf,removePublic:md,getAnyOfRuleUrlAll:Ps,addAnyOfRuleUrl:jc,removeAnyOfRuleUrl:Bc,setAnyOfRuleUrl:Hc,getAllOfRuleUrlAll:es,addAllOfRuleUrl:Xa,removeAllOfRuleUrl:Rl,setAllOfRuleUrl:Eu,getNoneOfRuleUrlAll:Lo,addNoneOfRuleUrl:Vc,removeNoneOfRuleUrl:$c,setNoneOfRuleUrl:Au,createResourceRuleFor:Kc,getResourceRule:gd,getResourceRuleAll:Vh,removeResourceRule:$h,setResourceRule:Cl},...{addMockAcrTo:jl,mockAcrFor:ma}};function Fa(h,y){return Object.assign(T(h),{internal_acp:{...h.internal_acp,acr:rr(h.internal_acp.acr,y)}})}function Yh(h){return h.includes("Member")?Fn.memberAccessControl:Fn.accessControl}function uf(h,y){const _=lr(h,y),P=yn(h);let U=As(h);return(U===null||typeof U>"u")&&(U=tr({url:he(P)})),v(U,Yh(y)).includes(_)?h:(U=Ga(U).addUrl(Yh(y),_).build(),Fa(h,U))}function Iu(h,y){const _=uf(h,Sl),P=br(_,Sl);return Fa(_,Ga(P).addUrl(Fn.access,y).build())}function xd(h,y){const _=uf(h,Mo),P=br(_,Mo);return Fa(_,Ga(P).addUrl(Fn.access,y).build())}function Xh(h,y){const _=uf(h,Mc),P=br(_,Mc);return Fa(_,Ga(P).addUrl(Fn.apply,y).build())}function Rd(h,y){const _=uf(h,_l),P=br(_,_l);return Fa(_,Ga(P).addUrl(Fn.apply,y).build())}function Qh(h){const y=As(h);return y===null?[]:v(y,Fn.accessControl)}function Pu(h,y,_){const P=yn(h);return Array.from(new Set(y.map(U=>{const J=hn(P,U);return J!==null?v(J,_):[]}).reduce((U,J)=>U.concat(J),[])))}function cf(h){return Pu(h,Qh(h),Fn.access)}function Cd(h){const y=As(h);return y===null?[]:v(y,Fn.memberAccessControl)}function Zh(h){return Pu(h,Cd(h),Fn.access)}function Td(h){return Pu(h,Cd(h),Fn.apply)}function Nu(h){return Pu(h,Qh(h),Fn.apply)}function Od(h,y){const _=br(h,Sl);return Fa(h,sr(_,Fn.access,y))}function ep(h,y){const _=br(h,Mo);return Fa(h,sr(_,Fn.access,y))}function Id(h,y){const _=br(h,Mc);return Fa(h,sr(_,Fn.apply,y))}function tp(h,y){const _=br(h,_l);return Fa(h,sr(_,Fn.apply,y))}function jo(h,y){return Fa(h,y)}function Fu(h){return v(h,V.type).includes($.Matcher)}function Um(h,y){return Mt(h,$.allOf,y)}function np(h,y){return sr(h,$.allOf,y)}function Bo(h,y){return vr(h,$.allOf,y)}function ff(h){return v(h,$.allOf)}function df(h,y){return Mt(h,$.anyOf,y)}function Du(h,y){return sr(h,$.anyOf,y)}function fi(h,y){return vr(h,$.anyOf,y)}function Pd(h){return v(h,$.anyOf)}function km(h,y){return Mt(h,$.noneOf,y)}function rp(h,y){return sr(h,$.noneOf,y)}function Mu(h,y){return vr(h,$.noneOf,y)}function bo(h){return v(h,$.noneOf)}function ip(h){const y=w(h);let _=tr({url:y});return _=Ka(_,V.type,$.Matcher),_}function hf(h,y){const _=yn(h),P=new URL(he(_));P.hash=`#${y}`;let U=tr({url:P.href});return U=Ka(U,V.type,$.Matcher),U}function Lu(h,y){const _=hn(h,y);return _===null||!Fu(_)?null:_}function Za(h,y){const _=yn(h),P=he(_),U=new URL(P);U.hash=`#${y}`;const J=hn(_,U.href);return J===null||!Fu(J)?null:J}function ap(h){return or(h).filter(Fu)}function Nd(h){const y=yn(h);return or(y).filter(Fu)}function op(h,y){return Dr(h,y)}function Fd(h,y){const _=yn(h);let P;if(typeof y=="string")if(Yt(y))P=y;else{const me=new URL(he(_));me.hash=`#${y}`,P=me.href}else H(y)?P=w(y):P=Er(y);const U=Za(h,new URL(P).hash.substring(1));if(U===null)return h;const J=Dr(_,U);return Pi(h,J)}function Dd(h,y){return rr(h,y)}function as(h,y){const _=yn(h),P=rr(_,y);return Pi(h,P)}function sp(h){return v(h,$.agent).filter(y=>y!==$.PublicAgent&&y!==$.AuthenticatedAgent&&y!==$.CreatorAgent)}function Ho(h,y){const _=Md(h),P=Ld(h),U=Wi(h);let J=vr(h,$.agent,y);return _&&(J=Ci(J)),P&&(J=Ud(J)),U&&(J=wo(J)),J}function mi(h,y){return Mt(h,$.agent,y)}function pf(h,y){return sr(h,$.agent,y)}function Md(h){return v(h,$.agent).filter(y=>y===$.PublicAgent).length>0}function Ci(h){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return Mt(h,$.agent,$.PublicAgent)}function jm(h){return sr(h,$.agent,$.PublicAgent)}function Ld(h){return v(h,$.agent).filter(y=>y===$.AuthenticatedAgent).length>0}function Ud(h){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return Mt(h,$.agent,$.AuthenticatedAgent)}function li(h){return sr(h,$.agent,$.AuthenticatedAgent)}function Wi(h){return v(h,$.agent).filter(y=>y===$.CreatorAgent).length>0}function wo(h){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return Mt(h,$.agent,$.CreatorAgent)}function lp(h){return sr(h,$.agent,$.CreatorAgent)}function up(h){return v(h,$.client).filter(y=>y!==Ce.PublicOidcClient).concat(Le(h,$.client))}function a0(h,y){const _=eo(h);let P=vr(h,$.client,y);return _&&(P=cp(P)),P}function kd(h,y){return Yt(y)?Mt(h,$.client,y):ni(h,$.client,y)}function ya(h,y){return Yt(y)?sr(h,$.client,y):Jo(h,$.client,y)}function eo(h){return v(h,$.client).filter(y=>y===Ce.PublicOidcClient).length>0}function cp(h){return Mt(h,$.client,Ce.PublicOidcClient)}function Da(h){return sr(h,$.client,Ce.PublicOidcClient)}const fp={...{getFileWithAccessDatasets:Cs,getFileWithAcr:xl,getReferencedPolicyUrlAll:Os,getResourceInfoWithAccessDatasets:Ts,getResourceInfoWithAcr:Ri,getSolidDatasetWithAccessDatasets:_u,getSolidDatasetWithAcr:Rs,hasAccessibleAcr:Ar,saveAcrFor:ia,isAcpControlled:Is,getVcAccess:hd,setVcAccess:Al},...{addAcrPolicyUrl:Iu,addMemberAcrPolicyUrl:xd,addMemberPolicyUrl:Xh,addPolicyUrl:Rd,getAcrPolicyUrlAll:cf,getMemberAcrPolicyUrlAll:Zh,getMemberPolicyUrlAll:Td,getPolicyUrlAll:Nu,hasLinkedAcr:yo,removeAcrPolicyUrl:Od,removeAcrPolicyUrlAll:No,removeMemberAcrPolicyUrl:ep,removeMemberAcrPolicyUrlAll:yl,removeMemberPolicyUrl:Id,removeMemberPolicyUrlAll:bl,removePolicyUrl:tp,removePolicyUrlAll:Zo},...{createPolicy:Cu,getAllowModes:af,getDenyModes:_d,getPolicy:Tu,getPolicyAll:Dl,removePolicy:Uo,setAllowModes:Ml,setDenyModes:Gh,setPolicy:Fs,createResourcePolicyFor:ga,getResourceAcrPolicy:ns,getResourceAcrPolicyAll:sf,getResourcePolicy:Ds,getResourcePolicyAll:Ul,removeResourceAcrPolicy:rs,removeResourcePolicy:lf,setResourcePolicy:jo},...{addAgent:mi,createMatcher:ip,getAgentAll:sp,getMatcher:Lu,getMatcherAll:ap,removeAgent:pf,removeMatcher:op,setAgent:Ho,setMatcher:Dd,addClient:kd,getClientAll:up,hasAnyClient:eo,removeClient:ya,setAnyClient:cp,setClient:a0,removeAnyClient:Da,hasAuthenticated:Ld,hasCreator:Wi,hasPublic:Md,setAuthenticated:Ud,setCreator:wo,setPublic:Ci,removeAuthenticated:li,removeCreator:lp,removePublic:jm,getAnyOfMatcherUrlAll:Pd,addAnyOfMatcherUrl:df,removeAnyOfMatcherUrl:Du,setAnyOfMatcherUrl:fi,getAllOfMatcherUrlAll:ff,addAllOfMatcherUrl:Um,removeAllOfMatcherUrl:np,setAllOfMatcherUrl:Bo,getNoneOfMatcherUrlAll:bo,addNoneOfMatcherUrl:km,removeNoneOfMatcherUrl:rp,setNoneOfMatcherUrl:Mu,createResourceMatcherFor:hf,getResourceMatcher:Za,getResourceMatcherAll:Nd,removeResourceMatcher:Fd,setResourceMatcher:as},...{addMockAcrTo:jl,mockAcrFor:ma}},to=[$.agent,$.group];function Vl(h,y,_){if(h.inaccessibleUrls.length>0)return null;const P=h.acrPolicies.filter(Ze=>os(Ze,y,_,h)),U=h.policies.filter(Ze=>os(Ze,y,_,h)),J={read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1},ee=P.reduce((Ze,kt)=>{const Kt={...Ze},rn=ko(kt);return rn.read&&(Kt.controlRead=!0),rn.write&&(Kt.controlWrite=!0),Kt},J),me=U.reduce((Ze,kt)=>{const Kt={...Ze},rn=ko(kt);return rn.read&&(Kt.read=!0),rn.append&&(Kt.append=!0),rn.write&&(Kt.write=!0),Kt},ee),He=P.reduce((Ze,kt)=>{const Kt={...Ze},rn=Qa(kt);return rn.read===!0&&(Kt.controlRead=!1),rn.write===!0&&(Kt.controlWrite=!1),Kt},me);return U.reduce((Ze,kt)=>{const Kt={...Ze},rn=Qa(kt);return rn.read===!0&&(Kt.read=!1),rn.append===!0&&(Kt.append=!1),rn.write===!0&&(Kt.write=!1),Kt},He)}function ku(h,y){return Vl(h,$.agent,y)}function gf(h,y){return Vl(h,$.group,y)}function mf(h){return Vl(h,$.agent,$.PublicAgent)}function os(h,y,_,P){const U=v(h,$.allow),J=v(h,$.deny);if(U.length+J.length===0)return!1;const ee=es(h).map(Ge=>P.rules.find(Ze=>Cn(Ze)===Ge)),me=Ps(h).map(Ge=>P.rules.find(Ze=>Cn(Ze)===Ge)),He=Lo(h).map(Ge=>P.rules.find(Ze=>Cn(Ze)===Ge));return ee.every(Ge=>hp(Ge,y,_))&&(me.length===0||me.some(Ge=>hp(Ge,y,_)))&&He.length===0}function dp(h,y){const _=v(h,$.allow),P=v(h,$.deny);return y.read===!0&&P.includes($.Read)||y.read===!1&&_.includes($.Read)&&!P.includes($.Read)||y.append===!0&&P.includes($.Append)||y.append===!1&&_.includes($.Append)&&!P.includes($.Append)||y.write===!0&&P.includes($.Write)||y.write===!1&&_.includes($.Write)&&!P.includes($.Write)}function hp(h,y,_){let P=!0;return to.forEach(U=>{P&&(P=_i(h,U)===null)}),P||v(h,y).includes(_)}function yf(h,y){const _=new Set;return h.rules.forEach(P=>{v(P,y).filter(U=>![$.PublicAgent,$.CreatorAgent,$.AuthenticatedAgent].includes(U)||y!==$.agent).forEach(U=>_.add(U))}),_}function pp(h,y){if(h.inaccessibleUrls.length>0)return null;const _={};return yf(h,y).forEach(U=>{const J=Vl(h,y,U);_[U]=J}),_}function jd(h){return pp(h,$.group)}function Hm(h){return pp(h,$.agent)}function gp(h,y,_,P,U){var J,ee,me,He,Ge;if(!Ar(h)||y.inaccessibleUrls.length>0)return null;const Ze=Vl(y,_,P);if(Ze===null)return null;const kt=y.acrPolicies.filter(On=>os(On,_,P,y)),Kt=y.policies.filter(On=>os(On,_,P,y)),rn=kt.filter(On=>dp(On,{read:U.controlRead,write:U.controlWrite})),Nn=Kt.filter(On=>dp(On,{read:U.read,append:U.append,write:U.write})),dr=rn.filter(On=>wr(On,_,P,y)),Zn=Nn.filter(On=>wr(On,_,P,y)),no={...y,acrPolicies:y.acrPolicies.filter(On=>!dr.includes(On)),policies:y.policies.filter(On=>!Zn.includes(On))},zr=Vl(no,_,P);if(zr===null)return null;let An=h;dr.forEach(On=>{const[ur,us]=$r(On,h,y,_,P);An=Vi(An,ur),An=us.reduce(Cl,An)}),Zn.forEach(On=>{const[ur,us]=$r(On,h,y,_,P);An=kl(An,ur),An=us.reduce(Cl,An)});const Yi=`rule_${encodeURIComponent(`${_}_${P}`)}`;let Ti=Kc(h,Yi);Ti=vr(Ti,_,P);const ba=(J=U.controlRead)!==null&&J!==void 0?J:Ze.controlRead,Xi=(ee=U.controlWrite)!==null&&ee!==void 0?ee:Ze.controlWrite;let Bs=dr;if(ba!==zr.controlRead||Xi!==zr.controlWrite){const On=u.v4();let ur=ga(h,On);ur=Ll(ur,{read:ba===!0,append:!1,write:Xi===!0}),ur=Mt(ur,$.allOf,Ti),An=Vi(An,ur),An=Cl(An,Ti),Bs=rn}const Eo=(me=U.read)!==null&&me!==void 0?me:Ze.read,If=(He=U.append)!==null&&He!==void 0?He:Ze.append,Pf=(Ge=U.write)!==null&&Ge!==void 0?Ge:Ze.write;let zl=Zn;if(Eo!==zr.read||If!==zr.append||Pf!==zr.write){const On=u.v4();let ur=ga(h,On);ur=Ll(ur,{read:Eo===!0,append:If===!0,write:Pf===!0}),ur=Mt(ur,$.allOf,Ti),An=kl(An,ur),An=Cl(An,Ti),zl=Nn}return Bs.forEach(On=>{An=Po(An,Cn(On))}),zl.forEach(On=>{An=Pa(An,Cn(On))}),An}function s0(h,y,_,P){return gp(h,y,$.agent,_,P)}function qr(h,y,_,P){return gp(h,y,$.group,_,P)}function ai(h,y,_){return gp(h,y,$.agent,$.PublicAgent,_)}function wr(h,y,_,P){const J=v(h,$.allOf).map(Ze=>P.rules.find(kt=>Cn(kt)===Ze)).some(Ze=>xr(Ze,y,_)),me=v(h,$.anyOf).map(Ze=>P.rules.find(kt=>Cn(kt)===Ze)).some(Ze=>xr(Ze,y,_)),Ge=v(h,$.noneOf).map(Ze=>P.rules.find(kt=>Cn(kt)===Ze)).some(Ze=>xr(Ze,y,_));return J||me||Ge}function xr(h,y,_){const P=[];return to.forEach(U=>{const J=v(h,U).filter(ee=>ee!==_||U!==y);P.push(...J)}),P.length>0}function $r(h,y,_,P,U){const J=u.v4(),ee=aa(v(h,$.allOf),y,_,J,P,U),me=aa(v(h,$.anyOf),y,_,J,P,U),He=aa(v(h,$.noneOf),y,_,J,P,U);let Ge=ga(y,encodeURI(Cn(h))+J);return v(h,$.allow).forEach(Ze=>{Ge=Mt(Ge,$.allow,Ze)}),v(h,$.deny).forEach(Ze=>{Ge=Mt(Ge,$.deny,Ze)}),ee.forEach(Ze=>{Ge=Mt(Ge,$.allOf,Ze)}),me.forEach(Ze=>{Ge=Mt(Ge,$.anyOf,Ze)}),He.forEach(Ze=>{Ge=Mt(Ge,$.noneOf,Ze)}),[Ge,ee.concat(me).concat(He)]}function aa(h,y,_,P,U,J){return h.map(ee=>{const me=_.rules.find(Ze=>Cn(Ze)===ee);if(typeof me>"u")return null;let He=Kc(y,encodeURI(Cn(me))+P),Ge=!1;return to.forEach(Ze=>{v(me,Ze).forEach(kt=>{Ze===U&&kt===J||(Ge=!0,He=Mt(He,Ze,kt))})}),Ge?He:null}).filter(_o)}function _o(h){return h!==null}async function Ma(h,y=pe){const _=Ya(h),P=vo(h),U=Vo(_).concat(Vo(P)),J=await yi(U,y),ee=$o(_,J).filter(_o),me=$o(P,J).filter(_o),He=new Set;ee.forEach(Zn=>{Ls(Zn).forEach(zr=>{He.add(zr)})}),me.forEach(Zn=>{Ls(Zn).forEach(zr=>{He.add(zr)})});const Ge=Array.from(He),kt=Ge.map(Zn=>vf(Zn)).filter(Zn=>!U.includes(Zn)),Kt=await yi(kt,y),rn={...J,...Kt},Nn=$o(Ge,rn).filter(_o);return{inaccessibleUrls:Object.keys(rn).filter(Zn=>rn[Zn]===null),acrPolicies:ee,policies:me,rules:Nn}}function vf(h){const y=new URL(h);return y.hash="",y.href}function Vo(h){const y=[];return h.forEach(_=>{const P=vf(_);y.includes(P)||y.push(P)}),y}async function yi(h,y){const _=Array.from(new Set(h)),P={};return await Promise.all(_.map(async U=>{try{const J=await ti(U,y);P[U]=J}catch{P[U]=null}})),P}function $o(h,y){return h.map(_=>{const P=vf(_),U=y[P];return U?hn(U,_):null})}function Ls(h){return es(h).concat(Ps(h)).concat(Lo(h))}function Bd(h,y){var _,P,U,J;if(h.controlRead!==h.controlWrite)throw new Error("For Pods using Web Access Control, controlRead and controlWrite must be equal.");return{read:(_=h.read)!==null&&_!==void 0?_:y.read,append:(P=h.append)!==null&&P!==void 0?P:y.append,write:(U=h.write)!==null&&U!==void 0?U:y.write,control:(J=h.controlRead)!==null&&J!==void 0?J:y.control}}function va(h){return{read:h.read,write:h.write,append:h.append,controlRead:h.control,controlWrite:h.control}}async function $l(h,y,_,P){const U=await ra(h,P),J=_(pa(h,U),y);return J===null?null:va(J)}async function bf(h,y,_){const P=await ra(h,_),U=y(pa(h,P));return U===null?null:va(U)}async function oa(h,y,_){const P=await ra(h,_),U=y(pa(h,P));if(U===null)return null;const J={};for(const[ee,me]of Object.entries(U))J[ee]=va(me);return J}function Us(h,y,_=pe){return $l(h,y,Ac,_)}function Hd(h,y,_=pe){return $l(h,y,Cc,_)}function ss(h,y=pe){return bf(h,sd,y)}function ju(h,y=pe){return oa(h,ul,y)}function ks(h,y=pe){return oa(h,ad,y)}async function Li(h,y){if(!si(h))return null;const _=await ra(h,y),P=pa(h,_);let U;if(Ta(P))U=rd(P);else if(xi(P))U=Nh(P);else return null;return nd(P,U)}async function ls(h,y,_){let P=null;try{return P=await Ec(h,y,_),nd(h,P)}catch{return null}}async function Bu(h,y,_,P,U){const J=await Li(h,U);if(J===null)return null;const ee=_c(J),me=_(J),He=Bd(y,me),Ge=P(ee,He);return ls(J,Ge,U)}async function Kl(h,y,_,P,U,J){const ee=await Li(h,J);if(ee===null)return null;const me=P(ee,y),He=_c(ee),Ge=Bd(_,me),Ze=U(He,y,Ge);return ls(ee,Ze,J)}async function wf(h,y,_,P=pe){return Kl(h,y,_,Ac,Rc,P)}async function mp(h,y,_,P=pe){return Kl(h,y,_,Cc,_s,P)}async function Vd(h,y,_=pe){return Bu(h,y,sd,Dh,_)}var _f=Object.freeze({__proto__:null,getAccessFor:Sf,getAccessForAll:sa,getAgentAccess:Ji,getAgentAccessAll:Gd,getGroupAccess:qd,getGroupAccessAll:Ko,getPublicAccess:Vu,setAccessFor:$d,setAgentAccess:Kd,setGroupAccess:Hu,setPublicAccess:js});async function Sf(h,y,_=pe,P=pe){if(y==="agent"){if(typeof _!="string")throw new Error("When reading Agent-specific access, the given agent cannot be left undefined.");return Ji(h,_,P)}if(y==="group"){if(typeof _!="string")throw new Error("When reading Group-specific access, the given group cannot be left undefined.");return qd(h,_,P)}if(y==="public"){if(typeof _=="string")throw new Error(`When reading public access, no actor type should be specified (here [${_}]).`);return Vu(h,_)}return null}async function sa(h,y,_=pe){return y==="agent"?Gd(h,_):y==="group"?Ko(h,_):null}async function $d(h,y,_,P=pe,U=pe){if(y==="agent"){if(typeof P!="string")throw new Error("When writing Agent-specific access, the given agent cannot be left undefined.");return Kd(h,P,_,U)}if(y==="group"){if(typeof P!="string")throw new Error("When writing Group-specific access, the given group cannot be left undefined.");return Hu(h,P,_,U)}if(y==="public"){if(typeof P=="string")throw new Error(`When writing public access, no actor type should be specified (here [${P}]).`);return js(h,_,P)}return null}async function Ji(h,y,_=pe){const P=await Ri(h,_);if(Ar(P)){const U=await Ma(P,_);return ku(U,y)}return si(P)?Us(P,y,_):null}async function Kd(h,y,_,P=pe){const U=await Ri(h,P);if(Ar(U)){const J=await Ma(U,P),ee=s0(U,J,y,_);if(ee)try{return await ia(ee,P),await Ji(h,y,P)}catch{return null}return null}if(si(U)){if(_.controlRead!==_.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${nt(U)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);return await wf(U,y,_,P),Us(U,y,P)}return null}async function Gd(h,y=pe){const _=await Ri(h,y);if(Ar(_)){const P=await Ma(_,y);return Hm(P)}return si(_)?ju(_,y):null}async function qd(h,y,_=pe){const P=await Ri(h,_);if(Ar(P)){const U=await Ma(P,_);return gf(U,y)}return si(P)?Hd(P,y,_):null}async function Ko(h,y=pe){const _=await Ri(h,y);if(Ar(_)){const P=await Ma(_,y);return jd(P)}return si(_)?ks(_,y):null}async function Hu(h,y,_,P=pe){const U=await Ri(h,P);if(Ar(U)){const J=await Ma(U,P),ee=qr(U,J,y,_);if(ee)try{return await ia(ee,P),await qd(h,y,P)}catch{return null}return null}if(si(U)){if(_.controlRead!==_.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${nt(U)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);return await mp(U,y,_,P),Hd(U,y,P)}return null}async function Vu(h,y=pe){const _=await Ri(h,y);if(Ar(_)){const P=await Ma(_,y);return mf(P)}return si(_)?ss(_,y):null}async function js(h,y,_=pe){const P=await Ri(h,_);if(Ar(P)){const U=await Ma(P,_),J=ai(P,U,y);if(J)try{return await ia(J,_),await Vu(h,_)}catch{return null}return null}if(si(P)){if(y.controlRead!==y.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${nt(P)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);return await Vd(P,y,_),ss(P,_)}return null}var Vm=Object.freeze({__proto__:null,getAccessFor:Sf,getAccessForAll:sa,getAgentAccess:Ji,getAgentAccessAll:Gd,getGroupAccess:qd,getGroupAccessAll:Ko,getPublicAccess:Vu,setAccessFor:$d,setAgentAccess:Kd,setGroupAccess:Hu,setPublicAccess:js});const yp=[$.agent];function $u(h,y,_){if(h.inaccessibleUrls.length>0)return null;const P=h.acrPolicies.filter(Ze=>zd(Ze,y,_,h)),U=h.policies.filter(Ze=>zd(Ze,y,_,h)),J={read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1},ee=P.reduce((Ze,kt)=>{const Kt={...Ze},rn=af(kt);return rn.read&&(Kt.controlRead=!0),rn.write&&(Kt.controlWrite=!0),Kt},J),me=U.reduce((Ze,kt)=>{const Kt={...Ze},rn=af(kt);return rn.read&&(Kt.read=!0),rn.append&&(Kt.append=!0),rn.write&&(Kt.write=!0),Kt},ee),He=P.reduce((Ze,kt)=>{const Kt={...Ze},rn=_d(kt);return rn.read===!0&&(Kt.controlRead=!1),rn.write===!0&&(Kt.controlWrite=!1),Kt},me);return U.reduce((Ze,kt)=>{const Kt={...Ze},rn=_d(kt);return rn.read===!0&&(Kt.read=!1),rn.append===!0&&(Kt.append=!1),rn.write===!0&&(Kt.write=!1),Kt},He)}function vp(h,y){return $u(h,$.agent,y)}function bp(h){return $u(h,$.agent,$.PublicAgent)}function zd(h,y,_,P){const U=v(h,$.allow),J=v(h,$.deny);if(U.length+J.length===0)return!1;const ee=ff(h).map(Ge=>P.matchers.find(Ze=>Cn(Ze)===Ge)),me=Pd(h).map(Ge=>P.matchers.find(Ze=>Cn(Ze)===Ge)),He=bo(h).map(Ge=>P.matchers.find(Ze=>Cn(Ze)===Ge));return ee.every(Ge=>Km(Ge,y,_))&&(me.length===0||me.some(Ge=>Km(Ge,y,_)))&&ee.length+me.length>0&&He.length===0}function $m(h,y){const _=v(h,$.allow),P=v(h,$.deny);return y.read===!0&&P.includes(Ur.read)||y.read===!1&&_.includes(Ur.read)&&!P.includes(Ur.read)||y.append===!0&&P.includes(Ur.append)||y.append===!1&&_.includes(Ur.append)&&!P.includes(Ur.append)||y.write===!0&&P.includes(Ur.write)||y.write===!1&&_.includes(Ur.write)&&!P.includes(Ur.write)}function Km(h,y,_){return v(h,y).includes(_)}function Gm(h,y){const _=new Set;return h.matchers.forEach(P=>{v(P,y).filter(U=>![$.PublicAgent,$.CreatorAgent,$.AuthenticatedAgent].includes(U)||y!==$.agent).forEach(U=>_.add(U))}),_}function qm(h,y){if(h.inaccessibleUrls.length>0)return null;const _={};return Gm(h,y).forEach(U=>{const J=$u(h,y,U);_[U]=J}),_}function Ku(h){return qm(h,$.agent)}function Ef(h,y,_,P,U){var J,ee,me,He,Ge;if(!Ar(h)||y.inaccessibleUrls.length>0)return null;const Ze=$u(y,_,P);if(Ze===null)return null;const kt=y.acrPolicies.filter(On=>zd(On,_,P,y)),Kt=y.policies.filter(On=>zd(On,_,P,y)),rn=kt.filter(On=>$m(On,{read:U.controlRead,write:U.controlWrite})),Nn=Kt.filter(On=>$m(On,{read:U.read,append:U.append,write:U.write})),dr=rn.filter(On=>wp(On,_,P,y)),Zn=Nn.filter(On=>wp(On,_,P,y)),no={...y,acrPolicies:y.acrPolicies.filter(On=>!dr.includes(On)),policies:y.policies.filter(On=>!Zn.includes(On))},zr=$u(no,_,P);if(zr===null)return null;let An=h;dr.forEach(On=>{const[ur,us]=_p(On,h,y,_,P);An=Vi(An,ur),An=us.reduce(as,An)}),Zn.forEach(On=>{const[ur,us]=_p(On,h,y,_,P);An=kl(An,ur),An=us.reduce(as,An)});const Yi=`matcher_${encodeURIComponent(`${_}_${P}`)}`;let Ti=hf(h,Yi);Ti=vr(Ti,_,P);const ba=(J=U.controlRead)!==null&&J!==void 0?J:Ze.controlRead,Xi=(ee=U.controlWrite)!==null&&ee!==void 0?ee:Ze.controlWrite;let Bs=dr;if(ba!==zr.controlRead||Xi!==zr.controlWrite){const On=u.v4();let ur=ga(h,On);ur=Ml(ur,{read:ba===!0,append:!1,write:Xi===!0}),ur=Mt(ur,$.allOf,Ti),An=Vi(An,ur),An=as(An,Ti),Bs=rn}const Eo=(me=U.read)!==null&&me!==void 0?me:Ze.read,If=(He=U.append)!==null&&He!==void 0?He:Ze.append,Pf=(Ge=U.write)!==null&&Ge!==void 0?Ge:Ze.write;let zl=Zn;if(Eo!==zr.read||If!==zr.append||Pf!==zr.write){const On=u.v4();let ur=ga(h,On);ur=Ml(ur,{read:Eo===!0,append:If===!0,write:Pf===!0}),ur=Mt(ur,$.allOf,Ti),An=kl(An,ur),An=as(An,Ti),zl=Nn}return Bs.forEach(On=>{An=Po(An,Cn(On))}),zl.forEach(On=>{An=Pa(An,Cn(On))}),An}function zm(h,y,_,P){return Ef(h,y,$.agent,_,P)}function Wm(h,y,_){return Ef(h,y,$.agent,$.PublicAgent,_)}function wp(h,y,_,P){const J=v(h,$.allOf).map(Ze=>P.matchers.find(kt=>Cn(kt)===Ze)).some(Ze=>Wd(Ze,y,_)),me=v(h,$.anyOf).map(Ze=>P.matchers.find(kt=>Cn(kt)===Ze)).some(Ze=>Wd(Ze,y,_)),Ge=v(h,$.noneOf).map(Ze=>P.matchers.find(kt=>Cn(kt)===Ze)).some(Ze=>Wd(Ze,y,_));return J||me||Ge}function Wd(h,y,_){const P=[];return yp.forEach(U=>{const J=v(h,U).filter(ee=>ee!==_||U!==y);P.push(...J)}),P.length>0}function _p(h,y,_,P,U){const J=u.v4(),ee=Jd(v(h,$.allOf),y,_,J,P,U),me=Jd(v(h,$.anyOf),y,_,J,P,U),He=Jd(v(h,$.noneOf),y,_,J,P,U);let Ge=ga(y,encodeURI(Cn(h))+J);return v(h,$.allow).forEach(Ze=>{Ge=Mt(Ge,$.allow,Ze)}),v(h,$.deny).forEach(Ze=>{Ge=Mt(Ge,$.deny,Ze)}),ee.forEach(Ze=>{Ge=Mt(Ge,$.allOf,Ze)}),me.forEach(Ze=>{Ge=Mt(Ge,$.anyOf,Ze)}),He.forEach(Ze=>{Ge=Mt(Ge,$.noneOf,Ze)}),[Ge,ee.concat(me).concat(He)]}function Jd(h,y,_,P,U,J){return h.map(ee=>{const me=_.matchers.find(Ze=>Cn(Ze)===ee);if(typeof me>"u")return null;let He=hf(y,encodeURI(Cn(me))+P),Ge=!1;return yp.forEach(Ze=>{v(me,Ze).forEach(kt=>{Ze===U&&kt===J||(Ge=!0,He=Mt(He,Ze,kt))})}),Ge?He:null}).filter(Gl)}function Gl(h){return h!==null}async function Gu(h,y=pe){const _=Ya(h),P=vo(h),U=Qr(_).concat(Qr(P)),J=await Xd(U,y),ee=Sp(_,J).filter(Gl),me=Sp(P,J).filter(Gl),He=new Set;ee.forEach(Zn=>{Ep(Zn).forEach(zr=>{He.add(zr)})}),me.forEach(Zn=>{Ep(Zn).forEach(zr=>{He.add(zr)})});const Ge=Array.from(He),kt=Ge.map(Zn=>Yd(Zn)).filter(Zn=>!U.includes(Zn)),Kt=await Xd(kt,y),rn={...J,...Kt},Nn=Sp(Ge,rn).filter(Gl);return{inaccessibleUrls:Object.keys(rn).filter(Zn=>rn[Zn]===null),acrPolicies:ee,policies:me,matchers:Nn}}function Yd(h){const y=new URL(h);return y.hash="",y.href}function Qr(h){const y=[];return h.forEach(_=>{const P=Yd(_);y.includes(P)||y.push(P)}),y}async function Xd(h,y){const _=Array.from(new Set(h)),P={};return await Promise.all(_.map(async U=>{try{const J=await ti(U,y);P[U]=J}catch{P[U]=null}})),P}function Sp(h,y){return h.map(_=>{const P=Yd(_),U=y[P];return U?hn(U,_):null})}function Ep(h){return ff(h).concat(Pd(h)).concat(bo(h))}async function Jm(h,y,_=pe){const P=await Ri(h,_);if(Ar(P)){const U=await Gu(P,_);return vp(U,y)}return si(P)?Us(P,y,_):null}async function l0(h,y,_,P=pe){const U=await Ri(h,P);if(Ar(U)){const J=await Gu(U,P),ee=zm(U,J,y,_);if(ee)try{return await ia(ee,P),await Jm(h,y,P)}catch{return null}return null}if(si(U)){if(_.controlRead!==_.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${nt(U)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);return await wf(U,y,_,P),Us(U,y,P)}return null}async function u0(h,y=pe){const _=await Ri(h,y);if(Ar(_)){const P=await Gu(_,y);return Ku(P)}return si(_)?ju(_,y):null}async function Af(h,y=pe){const _=await Ri(h,y);if(Ar(_)){const P=await Gu(_,y);return bp(P)}return si(_)?ss(_,y):null}async function qu(h,y,_=pe){const P=await Ri(h,_);if(Ar(P)){const U=await Gu(P,_),J=Wm(P,U,y);if(J)try{return await ia(J,_),await Af(h,_)}catch{return null}return null}if(si(P)){if(y.controlRead!==y.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${nt(P)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);return await Vd(P,y,_),ss(P,_)}return null}var Ap=Object.freeze({__proto__:null,getAccessFor:Sf,getAccessForAll:sa,getAgentAccess:Jm,getAgentAccessAll:u0,getPublicAccess:Af,setAccessFor:$d,setAgentAccess:l0,setPublicAccess:qu});async function xf(h,y){if(typeof h.internal_resourceInfo.aclUrl!="string")return null;try{return await _e(h.internal_resourceInfo.aclUrl,y)}catch{return null}}function xp(h){return pi(h,Fn.allow)}function ql(h){return pi(h,Fn.deny)}function So(h,y,_){const P=b(y,Fn.allOf).map(Ge=>hn(yn(h),Ge)).filter(Ge=>Ge!==null),U=P.every(Ge=>b(Ge,Fn.agent).includes(_)),J=b(y,Fn.anyOf).map(Ge=>hn(yn(h),Ge)).filter(Ge=>Ge!==null),ee=J.some(Ge=>b(Ge,Fn.agent).includes(_)),me=b(y,Fn.noneOf).map(Ge=>hn(yn(h),Ge)).filter(Ge=>Ge!==null),He=me.some(Ge=>b(Ge,Fn.agent).includes(_));return P.length+J.length>0&&(P.length===0||U)&&(J.length===0||ee)&&(me.length===0||!He)}function zu(h,y,_){const P=xp(h),U=ql(h);return _==="control"?{read:y.read,append:y.append,write:y.write,controlRead:(y.controlRead||P.read)&&!U.read,controlWrite:(y.controlWrite||P.write)&&!U.write}:{read:(y.read||P.read)&&!U.read,append:(y.append||P.append)&&!U.append,write:(y.write||P.write)&&!U.write,controlRead:y.controlRead,controlWrite:y.controlWrite}}async function Qd(h,y){let _={read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1};return Nu(h).map(J=>hn(yn(h),J)).filter(J=>J!==null).forEach(J=>{So(h,J,y)&&(_=zu(J,_,"resource"))}),cf(h).map(J=>hn(yn(h),J)).filter(J=>J!==null).forEach(J=>{So(h,J,y)&&(_=zu(J,_,"control"))}),_}function Ym(h){const y=h.internal_resourceInfo.linkedResources[Fn.accessControl];return Array.isArray(y)&&y.length===1?y[0]:null}async function Xm(h,y){const _=Ym(h);if(_!==null)return _;const P=await xf(h,y);if(P===null)return null;const U=Ke(P).type;return Array.isArray(U)&&U.includes(Fn.AccessControlResource)?he(P):null}async function Wu(h,y){const _=await Xm(h,y);if(_===null)return null;let P;try{P=await ti(_,y)}catch{return null}return{...h,internal_acp:{acr:{...P,accessTo:he(h)}}}}async function Rp(h,y,_){const P=await _e(h,_),U=await Wu(P,_);return U===null?Us(P,y,_):Qd(U,y)}function c0(h){return Array.from(new Set(or(yn(h)).map(y=>b(y,Fn.agent)).reduce((y,_)=>y.concat(_),[])))}async function Cp(h){return(await Promise.all(c0(h).map(async y=>({[y]:await Qd(h,y)})))).reduce((y,_)=>({...y,..._}),{})}async function Qm(h,y){const _=await _e(h,y),P=await Wu(_,y);return P===null?ju(_,y):Cp(P)}async function Zm(h){return Qd(h,Fn.PublicAgent)}async function ey(h,y){const _=await _e(h,y),P=await Wu(_,y);return P===null?ss(_,y):Zm(P)}function Rf(h,y,_){return lr(h,y).concat("AgentMatcher").concat(_.charAt(0).toUpperCase()+_.slice(1)).concat("Policy")}function Tp(h,y,_){const P=Rf(h,y,_);return P.includes("Acr")?Iu(h,P):Rd(h,P)}function ty(h,y,_){return Rf(h,y,_).concat("Matcher")}const ny=Fn.anyOf;function Cf(h,y,_){const P=Rf(h,y,_),U=ty(h,y,_);let J=hn(yn(h),P);return J||(h=Tp(h,y,_),J=tr({url:P}),J=El(J,{[_]:!0},Fn.allow)),v(J,ny).includes(U)?h:(J=Ga(J).addUrl(ny,U).build(),Fa(h,J))}function Tf(h,y,_,P,U){var J;const ee=ty(h,_,P),me=Cf(h,_,P),He=(J=hn(yn(me),ee))!==null&&J!==void 0?J:tr({url:ee});return Fa(me,U==="add"?mi(He,y):pf(He,y))}async function Op(h,y,_){const P=await Qd(h,y);return typeof _.read=="boolean"&&P.read!==_.read&&(h=Tf(h,y,_l,"read",_.read?"add":"remove")),typeof _.append=="boolean"&&P.append!==_.append&&(h=Tf(h,y,_l,"append",_.append?"add":"remove")),typeof _.write=="boolean"&&P.write!==_.write&&(h=Tf(h,y,_l,"write",_.write?"add":"remove")),typeof _.controlRead=="boolean"&&P.controlRead!==_.controlRead&&(h=Tf(h,y,Sl,"controlRead",_.controlRead?"add":"remove")),typeof _.controlWrite=="boolean"&&P.controlWrite!==_.controlWrite&&(h=Tf(h,y,Sl,"controlWrite",_.controlWrite?"add":"remove")),h}async function Sr(h,y,_,P){const U=await _e(h,P),J=await Wu(U,P);if(J===null)return await wf(U,y,_,P),Us(U,y,P);try{return await ia(await Op(J,y,_),P),await Rp(h,y,P)}catch{return null}}async function Ip(h,y){return Op(h,Fn.PublicAgent,y)}async function Zd(h,y,_){const P=await _e(h,_),U=await Wu(P,_);if(U===null)return await Vd(P,y,_),ss(P,_);try{return await ia(await Ip(U,y),_),await ey(h,_)}catch{return null}}var Pp=Object.freeze({__proto__:null,getAclServerResourceInfo:xf,getAgentAccess:Rp,getAgentAccessAll:Qm,getPublicAccess:ey,setAgentAccess:Sr,setPublicAccess:Zd}),ry=Object.freeze({__proto__:null,acrAsMarkdown:Dc,addAcrPolicyUrl:bu,addAgent:ts,addAllOfRuleUrl:Xa,addAnyOfRuleUrl:jc,addClient:Nm,addGroup:Ns,addMemberAcrPolicyUrl:gl,addMemberPolicyUrl:Fo,addMockAcrTo:jl,addNoneOfRuleUrl:Vc,addPolicyUrl:Fc,createPolicy:Cu,createResourcePolicyFor:ga,createResourceRuleFor:Kc,createRule:pd,getAcrPolicyUrlAll:Ya,getAgentAll:Wc,getAllOfRuleUrlAll:es,getAllowModes:ko,getAnyOfRuleUrlAll:Ps,getClientAll:yd,getDenyModes:Qa,getFileWithAccessDatasets:Cs,getFileWithAcr:xl,getGroupAll:Ru,getLinkedAcrUrl:Su,getMemberAcrPolicyUrlAll:ml,getMemberPolicyUrlAll:vl,getNoneOfRuleUrlAll:Lo,getPolicy:Tu,getPolicyAll:Dl,getPolicyUrlAll:vo,getReferencedPolicyUrlAll:Os,getResourceAcrPolicy:ns,getResourceAcrPolicyAll:sf,getResourceInfoWithAccessDatasets:Ts,getResourceInfoWithAcr:Ri,getResourcePolicy:Ds,getResourcePolicyAll:Ul,getResourceRule:gd,getResourceRuleAll:Vh,getRule:Gc,getRuleAll:xu,getSolidDatasetWithAccessDatasets:_u,getSolidDatasetWithAcr:Rs,hasAccessibleAcr:Ar,hasAnyClient:nf,hasAuthenticated:Pl,hasCreator:Nl,hasLinkedAcr:yo,hasPublic:Il,isAcpControlled:Is,mockAcrFor:ma,policyAsMarkdown:Na,removeAcrPolicyUrl:Po,removeAcrPolicyUrlAll:No,removeAgent:Tl,removeAllOfRuleUrl:Rl,removeAnyClient:wd,removeAnyOfRuleUrl:Bc,removeAuthenticated:Zc,removeClient:vd,removeCreator:tf,removeGroup:Yc,removeMemberAcrPolicyUrl:Nc,removeMemberAcrPolicyUrlAll:yl,removeMemberPolicyUrl:Do,removeMemberPolicyUrlAll:bl,removeNoneOfRuleUrl:$c,removePolicy:Uo,removePolicyUrl:Pa,removePolicyUrlAll:Zo,removePublic:md,removeResourceAcrPolicy:rs,removeResourcePolicy:lf,removeResourceRule:$h,removeRule:qc,ruleAsMarkdown:rf,saveAcrFor:ia,setAgent:Jc,setAllOfRuleUrl:Eu,setAllowModes:Ll,setAnyClient:bd,setAnyOfRuleUrl:Hc,setAuthenticated:Qc,setClient:Kh,setCreator:ef,setDenyModes:of,setGroup:Ol,setNoneOfRuleUrl:Au,setPolicy:Fs,setPublic:Xc,setResourceAcrPolicy:Vi,setResourcePolicy:kl,setResourceRule:Cl,setRule:zc}),Np=Object.freeze({__proto__:null,addAcrPolicyUrl:Iu,addAgent:mi,addAllOfMatcherUrl:Um,addAnyOfMatcherUrl:df,addClient:kd,addMemberAcrPolicyUrl:xd,addMemberPolicyUrl:Xh,addMockAcrTo:jl,addNoneOfMatcherUrl:km,addPolicyUrl:Rd,createMatcher:ip,createPolicy:Cu,createResourceMatcherFor:hf,createResourcePolicyFor:ga,getAcrPolicyUrlAll:cf,getAgentAll:sp,getAllOfMatcherUrlAll:ff,getAllowModes:af,getAnyOfMatcherUrlAll:Pd,getClientAll:up,getDenyModes:_d,getFileWithAccessDatasets:Cs,getFileWithAcr:xl,getLinkedAcrUrl:Su,getMatcher:Lu,getMatcherAll:ap,getMemberAcrPolicyUrlAll:Zh,getMemberPolicyUrlAll:Td,getNoneOfMatcherUrlAll:bo,getPolicy:Tu,getPolicyAll:Dl,getPolicyUrlAll:Nu,getReferencedPolicyUrlAll:Os,getResourceAcrPolicy:ns,getResourceAcrPolicyAll:sf,getResourceInfoWithAccessDatasets:Ts,getResourceInfoWithAcr:Ri,getResourceMatcher:Za,getResourceMatcherAll:Nd,getResourcePolicy:Ds,getResourcePolicyAll:Ul,getSolidDatasetWithAccessDatasets:_u,getSolidDatasetWithAcr:Rs,getVcAccess:hd,hasAccessibleAcr:Ar,hasAuthenticated:Ld,hasCreator:Wi,hasLinkedAcr:yo,hasPublic:Md,isAcpControlled:Is,mockAcrFor:ma,removeAcrPolicyUrl:Od,removeAcrPolicyUrlAll:No,removeAgent:pf,removeAllOfMatcherUrl:np,removeAnyOfMatcherUrl:Du,removeAuthenticated:li,removeClient:ya,removeCreator:lp,removeMatcher:op,removeMemberAcrPolicyUrl:ep,removeMemberAcrPolicyUrlAll:yl,removeMemberPolicyUrl:Id,removeMemberPolicyUrlAll:bl,removeNoneOfMatcherUrl:rp,removePolicy:Uo,removePolicyUrl:tp,removePolicyUrlAll:Zo,removePublic:jm,removeResourceAcrPolicy:rs,removeResourceMatcher:Fd,removeResourcePolicy:lf,saveAcrFor:ia,setAgent:Ho,setAllOfMatcherUrl:Bo,setAllowModes:Ml,setAnyOfMatcherUrl:fi,setAuthenticated:Ud,setCreator:wo,setDenyModes:Gh,setMatcher:Dd,setNoneOfMatcherUrl:Mu,setPolicy:Fs,setPublic:Ci,setResourceMatcher:as,setResourcePolicy:jo,setVcAccess:Al});const{getJsonLdParser:Of,getTurtleParser:eh,solidDatasetAsTurtle:Ju}=vn;return ot.FetchError=at,ot.SolidClientError=m,ot.ThingExpectedError=ha,ot.access=_f,ot.access_v1=Vm,ot.access_v2=Ap,ot.acp_ess_1=ry,ot.acp_ess_2=Np,ot.acp_v1=Dm,ot.acp_v2=Ad,ot.acp_v3=Lm,ot.acp_v4=fp,ot.addBoolean=Pn,ot.addDate=kn,ot.addDatetime=_r,ot.addDecimal=fr,ot.addInteger=Lr,ot.addIri=Mt,ot.addJwkToJwks=Es,ot.addLiteral=Tn,ot.addMockFallbackAclTo=Xo,ot.addMockResourceAclTo=Ss,ot.addNamedNode=Ei,ot.addPublicKeyToProfileJwks=qi,ot.addStringEnglish=Sn,ot.addStringNoLocale=ni,ot.addStringWithLocale=qn,ot.addTerm=Gr,ot.addTime=yr,ot.addUrl=Qn,ot.asIri=Cn,ot.asUrl=Er,ot.buildThing=Ga,ot.changeLogAsMarkdown=Wt,ot.createAcl=Wa,ot.createAclFromFallbackAcl=Nh,ot.createContainerAt=ae,ot.createContainerInContainer=$e,ot.createSolidDataset=ei,ot.createThing=tr,ot.deleteAclFor=ll,ot.deleteContainer=Rt,ot.deleteFile=mn,ot.deleteSolidDataset=te,ot.fromRdfJsDataset=Mn,ot.getAgentAccess=Ac,ot.getAgentAccessAll=ul,ot.getAgentDefaultAccess=Oa,ot.getAgentDefaultAccessAll=Ia,ot.getAgentResourceAccess=cl,ot.getAgentResourceAccessAll=xc,ot.getAltProfileUrlAllFrom=Oc,ot.getBoolean=A,ot.getBooleanAll=I,ot.getContainedResourceUrlAll=Pt,ot.getContentType=lt,ot.getDate=le,ot.getDateAll=Se,ot.getDatetime=B,ot.getDatetimeAll=Q,ot.getDecimal=Te,ot.getDecimalAll=Oe,ot.getEffectiveAccess=Ue,ot.getFallbackAcl=Sc,ot.getFile=Jn,ot.getFileWithAcl=id,ot.getGroupAccess=Cc,ot.getGroupAccessAll=ad,ot.getGroupDefaultAccess=kr,ot.getGroupDefaultAccessAll=ws,ot.getGroupResourceAccess=Gi,ot.getGroupResourceAccessAll=hi,ot.getInteger=ke,ot.getIntegerAll=ze,ot.getIri=_i,ot.getIriAll=v,ot.getJsonLdParser=Of,ot.getLinkedResourceUrlAll=Ke,ot.getLiteral=dn,ot.getLiteralAll=Bt,ot.getNamedNode=ht,ot.getNamedNodeAll=At,ot.getPodOwner=Y,ot.getPodUrlAll=Xv,ot.getPodUrlAllFrom=Om,ot.getProfileAll=Lh,ot.getProfileJwksIri=yu,ot.getPropertyAll=Ha,ot.getPublicAccess=sd,ot.getPublicDefaultAccess=mu,ot.getPublicResourceAccess=gu,ot.getResourceAcl=_c,ot.getResourceInfo=_e,ot.getResourceInfoWithAcl=pu,ot.getSolidDataset=ti,ot.getSolidDatasetWithAcl=Cm,ot.getSourceIri=nt,ot.getSourceUrl=he,ot.getStringByLocaleAll=Ae,ot.getStringEnglish=st,ot.getStringEnglishAll=Et,ot.getStringNoLocale=De,ot.getStringNoLocaleAll=Le,ot.getStringWithLocale=yt,ot.getStringWithLocaleAll=oe,ot.getTerm=Yn,ot.getTermAll=un,ot.getThing=hn,ot.getThingAll=or,ot.getTime=ye,ot.getTimeAll=we,ot.getTurtleParser=eh,ot.getUrl=da,ot.getUrlAll=b,ot.getWebIdDataset=Qv,ot.getWellKnownSolid=_n,ot.hasAccessibleAcl=si,ot.hasAcl=Ph,ot.hasFallbackAcl=xi,ot.hasResourceAcl=Ta,ot.hasResourceInfo=d,ot.hasServerResourceInfo=c,ot.isContainer=rt,ot.isPodOwner=Re,ot.isRawData=xe,ot.isThing=ir,ot.isThingLocal=Mi,ot.mockContainerFrom=Bn,ot.mockFetchError=jn,ot.mockFileFrom=pn,ot.mockSolidDatasetFrom=Xt,ot.mockThingFrom=Ch,ot.overwriteFile=Gt,ot.removeAll=nr,ot.removeBoolean=$a,ot.removeDate=el,ot.removeDatetime=vc,ot.removeDecimal=uo,ot.removeInteger=ys,ot.removeIri=sr,ot.removeLiteral=tl,ot.removeNamedNode=cu,ot.removeStringEnglish=Yf,ot.removeStringNoLocale=Jo,ot.removeStringWithLocale=Ra,ot.removeThing=Dr,ot.removeTime=bc,ot.removeUrl=Xr,ot.responseToResourceInfo=et,ot.responseToSolidDataset=Va,ot.saveAclFor=Ec,ot.saveFileInContainer=ln,ot.saveSolidDatasetAt=M,ot.saveSolidDatasetInContainer=be,ot.setAgentDefaultAccess=fl,ot.setAgentResourceAccess=Rc,ot.setBoolean=nl,ot.setDate=rl,ot.setDatetime=Xf,ot.setDecimal=wc,ot.setGroupDefaultAccess=Tm,ot.setGroupResourceAccess=_s,ot.setInteger=Qf,ot.setIri=vr,ot.setLiteral=fu,ot.setNamedNode=il,ot.setProfileJwks=Mh,ot.setPublicDefaultAccess=Tc,ot.setPublicResourceAccess=Dh,ot.setStringNoLocale=fo,ot.setStringWithLocale=Hi,ot.setTerm=Rh,ot.setThing=rr,ot.setTime=di,ot.setUrl=Ka,ot.solidDatasetAsMarkdown=Vt,ot.solidDatasetAsTurtle=Ju,ot.thingAsMarkdown=Yr,ot.toRdfJsDataset=$t,ot.universalAccess=Pp,ot.validateContainedResourceAll=qt,ot}var _b={},cr={};const mr=crypto,oo=e=>e instanceof CryptoKey,sR=async(e,t)=>{const r=`SHA-${e.slice(-3)}`;return new Uint8Array(await mr.subtle.digest(r,t))},Di=new TextEncoder,qo=new TextDecoder,Yy=2**32;function Qs(...e){const t=e.reduce((a,{length:l})=>a+l,0),r=new Uint8Array(t);let i=0;return e.forEach(a=>{r.set(a,i),i+=a.length}),r}function LI(e,t){return Qs(Di.encode(e),new Uint8Array([0]),t)}function Zb(e,t,r){if(t<0||t>=Yy)throw new RangeError(`value must be >= 0 and <= ${Yy-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,t&255],r)}function lR(e){const t=Math.floor(e/Yy),r=e%Yy,i=new Uint8Array(8);return Zb(i,t,0),Zb(i,r,4),i}function Jw(e){const t=new Uint8Array(4);return Zb(t,e),t}function Sb(e){return Qs(Jw(e.length),e)}async function UI(e,t,r){const i=Math.ceil((t>>3)/32),a=new Uint8Array(i*32);for(let l=0;l<i;l++){const s=new Uint8Array(4+e.length+r.length);s.set(Jw(l+1)),s.set(e,4),s.set(r,4+e.length),a.set(await sR("sha256",s),l*32)}return a.slice(0,t>>3)}const Yw=e=>{let t=e;typeof t=="string"&&(t=Di.encode(t));const r=32768,i=[];for(let a=0;a<t.length;a+=r)i.push(String.fromCharCode.apply(null,t.subarray(a,a+r)));return btoa(i.join(""))},ji=e=>Yw(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),uR=e=>{const t=atob(e),r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r},Ki=e=>{let t=e;t instanceof Uint8Array&&(t=qo.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return uR(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class ea extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var r;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}}class ro extends ea{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(t,r="unspecified",i="unspecified"){super(t),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=i}}class ew extends ea{static get code(){return"ERR_JWT_EXPIRED"}constructor(t,r="unspecified",i="unspecified"){super(t),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=i}}class Xy extends ea{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class Br extends ea{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class tm extends ea{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}class kI extends ea{constructor(){super(...arguments),this.code="ERR_JWE_DECOMPRESSION_FAILED",this.message="decompression operation failed"}static get code(){return"ERR_JWE_DECOMPRESSION_FAILED"}}class bn extends ea{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}class ri extends ea{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class io extends ea{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class cR extends ea{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}class Ov extends ea{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class Xw extends ea{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class fR extends ea{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}class dR extends ea{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class Qw extends ea{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}const jI=Object.freeze(Object.defineProperty({__proto__:null,JOSEAlgNotAllowed:Xy,JOSEError:ea,JOSENotSupported:Br,JWEDecompressionFailed:kI,JWEDecryptionFailed:tm,JWEInvalid:bn,JWKInvalid:cR,JWKSInvalid:Ov,JWKSMultipleMatchingKeys:fR,JWKSNoMatchingKey:Xw,JWKSTimeout:dR,JWSInvalid:ri,JWSSignatureVerificationFailed:Qw,JWTClaimValidationFailed:ro,JWTExpired:ew,JWTInvalid:io},Symbol.toStringTag,{value:"Module"})),Iv=mr.getRandomValues.bind(mr);function hR(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new Br(`Unsupported JWE Algorithm: ${e}`)}}const pR=e=>Iv(new Uint8Array(hR(e)>>3)),gR=(e,t)=>{if(t.length<<3!==hR(e))throw new bn("Invalid Initialization Vector length")},Qy=(e,t)=>{const r=e.byteLength<<3;if(r!==t)throw new bn(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)},BI=(e,t)=>{if(!(e instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(e.length!==t.length)throw new TypeError("Input buffers must have the same length");const r=e.length;let i=0,a=-1;for(;++a<r;)i|=e[a]^t[a];return i===0};function ca(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function uc(e,t){return e.name===t}function By(e){return parseInt(e.name.slice(4),10)}function HI(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function mR(e,t){if(t.length&&!t.some(r=>e.usages.includes(r))){let r="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const i=t.pop();r+=`one of ${t.join(", ")}, or ${i}.`}else t.length===2?r+=`one of ${t[0]} or ${t[1]}.`:r+=`${t[0]}.`;throw new TypeError(r)}}function VI(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!uc(e.algorithm,"HMAC"))throw ca("HMAC");const i=parseInt(t.slice(2),10);if(By(e.algorithm.hash)!==i)throw ca(`SHA-${i}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!uc(e.algorithm,"RSASSA-PKCS1-v1_5"))throw ca("RSASSA-PKCS1-v1_5");const i=parseInt(t.slice(2),10);if(By(e.algorithm.hash)!==i)throw ca(`SHA-${i}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!uc(e.algorithm,"RSA-PSS"))throw ca("RSA-PSS");const i=parseInt(t.slice(2),10);if(By(e.algorithm.hash)!==i)throw ca(`SHA-${i}`,"algorithm.hash");break}case"EdDSA":{if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw ca("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!uc(e.algorithm,"ECDSA"))throw ca("ECDSA");const i=HI(t);if(e.algorithm.namedCurve!==i)throw ca(i,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}mR(e,r)}function hc(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!uc(e.algorithm,"AES-GCM"))throw ca("AES-GCM");const i=parseInt(t.slice(1,4),10);if(e.algorithm.length!==i)throw ca(i,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!uc(e.algorithm,"AES-KW"))throw ca("AES-KW");const i=parseInt(t.slice(1,4),10);if(e.algorithm.length!==i)throw ca(i,"algorithm.length");break}case"ECDH":{switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw ca("ECDH, X25519, or X448")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!uc(e.algorithm,"PBKDF2"))throw ca("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!uc(e.algorithm,"RSA-OAEP"))throw ca("RSA-OAEP");const i=parseInt(t.slice(9),10)||1;if(By(e.algorithm.hash)!==i)throw ca(`SHA-${i}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}mR(e,r)}function yR(e,t,...r){if(r.length>2){const i=r.pop();e+=`one of type ${r.join(", ")}, or ${i}.`}else r.length===2?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const Aa=(e,...t)=>yR("Key must be ",e,...t);function vR(e,t,...r){return yR(`Key for the ${e} algorithm must be `,t,...r)}const bR=e=>oo(e),Oi=["CryptoKey"];async function $I(e,t,r,i,a,l){if(!(t instanceof Uint8Array))throw new TypeError(Aa(t,"Uint8Array"));const s=parseInt(e.slice(1,4),10),u=await mr.subtle.importKey("raw",t.subarray(s>>3),"AES-CBC",!1,["decrypt"]),d=await mr.subtle.importKey("raw",t.subarray(0,s>>3),{hash:`SHA-${s<<1}`,name:"HMAC"},!1,["sign"]),c=Qs(l,i,r,lR(l.length<<3)),p=new Uint8Array((await mr.subtle.sign("HMAC",d,c)).slice(0,s>>3));let m;try{m=BI(a,p)}catch{}if(!m)throw new tm;let w;try{w=new Uint8Array(await mr.subtle.decrypt({iv:i,name:"AES-CBC"},u,r))}catch{}if(!w)throw new tm;return w}async function KI(e,t,r,i,a,l){let s;t instanceof Uint8Array?s=await mr.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(hc(t,e,"decrypt"),s=t);try{return new Uint8Array(await mr.subtle.decrypt({additionalData:l,iv:i,name:"AES-GCM",tagLength:128},s,Qs(r,a)))}catch{throw new tm}}const wR=async(e,t,r,i,a,l)=>{if(!oo(t)&&!(t instanceof Uint8Array))throw new TypeError(Aa(t,...Oi,"Uint8Array"));switch(gR(e,i),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&Qy(t,parseInt(e.slice(-3),10)),$I(e,t,r,i,a,l);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&Qy(t,parseInt(e.slice(1,4),10)),KI(e,t,r,i,a,l);default:throw new Br("Unsupported JWE Content Encryption Algorithm")}},GI=async()=>{throw new Br('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.')},qI=async()=>{throw new Br('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')},gm=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let r;for(const i of t){const a=Object.keys(i);if(!r||r.size===0){r=new Set(a);continue}for(const l of a){if(r.has(l))return!1;r.add(l)}}return!0};function zI(e){return typeof e=="object"&&e!==null}function Zi(e){if(!zI(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const Pv=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function _R(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${t}`)}function SR(e,t,r){if(oo(e))return hc(e,t,r),e;if(e instanceof Uint8Array)return mr.subtle.importKey("raw",e,"AES-KW",!0,[r]);throw new TypeError(Aa(e,...Oi,"Uint8Array"))}const tw=async(e,t,r)=>{const i=await SR(t,e,"wrapKey");_R(i,e);const a=await mr.subtle.importKey("raw",r,...Pv);return new Uint8Array(await mr.subtle.wrapKey("raw",a,i,"AES-KW"))},nw=async(e,t,r)=>{const i=await SR(t,e,"unwrapKey");_R(i,e);const a=await mr.subtle.unwrapKey("raw",r,i,"AES-KW",...Pv);return new Uint8Array(await mr.subtle.exportKey("raw",a))};async function ER(e,t,r,i,a=new Uint8Array(0),l=new Uint8Array(0)){if(!oo(e))throw new TypeError(Aa(e,...Oi));if(hc(e,"ECDH"),!oo(t))throw new TypeError(Aa(t,...Oi));hc(t,"ECDH","deriveBits");const s=Qs(Sb(Di.encode(r)),Sb(a),Sb(l),Jw(i));let u;e.algorithm.name==="X25519"?u=256:e.algorithm.name==="X448"?u=448:u=Math.ceil(parseInt(e.algorithm.namedCurve.substr(-3),10)/8)<<3;const d=new Uint8Array(await mr.subtle.deriveBits({name:e.algorithm.name,public:e},t,u));return UI(d,i,s)}async function WI(e){if(!oo(e))throw new TypeError(Aa(e,...Oi));return mr.subtle.generateKey(e.algorithm,!0,["deriveBits"])}function AR(e){if(!oo(e))throw new TypeError(Aa(e,...Oi));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)||e.algorithm.name==="X25519"||e.algorithm.name==="X448"}function JI(e){if(!(e instanceof Uint8Array)||e.length<8)throw new bn("PBES2 Salt Input must be 8 or more octets")}function YI(e,t){if(e instanceof Uint8Array)return mr.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(oo(e))return hc(e,t,"deriveBits","deriveKey"),e;throw new TypeError(Aa(e,...Oi,"Uint8Array"))}async function xR(e,t,r,i){JI(e);const a=LI(t,e),l=parseInt(t.slice(13,16),10),s={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:a},u={length:l,name:"AES-KW"},d=await YI(i,t);if(d.usages.includes("deriveBits"))return new Uint8Array(await mr.subtle.deriveBits(s,d,l));if(d.usages.includes("deriveKey"))return mr.subtle.deriveKey(s,d,u,!1,["wrapKey","unwrapKey"]);throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}const XI=async(e,t,r,i=2048,a=Iv(new Uint8Array(16)))=>{const l=await xR(a,e,i,t);return{encryptedKey:await tw(e.slice(-6),l,r),p2c:i,p2s:ji(a)}},QI=async(e,t,r,i,a)=>{const l=await xR(a,e,i,t);return nw(e.slice(-6),l,r)};function Zy(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new Br(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}const Nv=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:r}=t.algorithm;if(typeof r!="number"||r<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},ZI=async(e,t,r)=>{if(!oo(t))throw new TypeError(Aa(t,...Oi));if(hc(t,e,"encrypt","wrapKey"),Nv(e,t),t.usages.includes("encrypt"))return new Uint8Array(await mr.subtle.encrypt(Zy(e),t,r));if(t.usages.includes("wrapKey")){const i=await mr.subtle.importKey("raw",r,...Pv);return new Uint8Array(await mr.subtle.wrapKey("raw",i,t,Zy(e)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},eP=async(e,t,r)=>{if(!oo(t))throw new TypeError(Aa(t,...Oi));if(hc(t,e,"decrypt","unwrapKey"),Nv(e,t),t.usages.includes("decrypt"))return new Uint8Array(await mr.subtle.decrypt(Zy(e),t,r));if(t.usages.includes("unwrapKey")){const i=await mr.subtle.unwrapKey("raw",r,t,Zy(e),...Pv);return new Uint8Array(await mr.subtle.exportKey("raw",i))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function Zw(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new Br(`Unsupported JWE Algorithm: ${e}`)}}const Bf=e=>Iv(new Uint8Array(Zw(e)>>3)),RR=(e,t)=>{const r=(e.match(/.{1,64}/g)||[]).join(`
`);return`-----BEGIN ${t}-----
${r}
-----END ${t}-----`},CR=async(e,t,r)=>{if(!oo(r))throw new TypeError(Aa(r,...Oi));if(!r.extractable)throw new TypeError("CryptoKey is not extractable");if(r.type!==e)throw new TypeError(`key is not a ${e} key`);return RR(Yw(new Uint8Array(await mr.subtle.exportKey(t,r))),`${e.toUpperCase()} KEY`)},tP=e=>CR("public","spki",e),nP=e=>CR("private","pkcs8",e),ac=(e,t,r=0)=>{r===0&&(t.unshift(t.length),t.unshift(6));let i=e.indexOf(t[0],r);if(i===-1)return!1;const a=e.subarray(i,i+t.length);return a.length!==t.length?!1:a.every((l,s)=>l===t[s])||ac(e,t,i+1)},U1=e=>{switch(!0){case ac(e,[42,134,72,206,61,3,1,7]):return"P-256";case ac(e,[43,129,4,0,34]):return"P-384";case ac(e,[43,129,4,0,35]):return"P-521";case ac(e,[43,101,110]):return"X25519";case ac(e,[43,101,111]):return"X448";case ac(e,[43,101,112]):return"Ed25519";case ac(e,[43,101,113]):return"Ed448";default:throw new Br("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},TR=async(e,t,r,i,a)=>{var l;let s,u;const d=new Uint8Array(atob(r.replace(e,"")).split("").map(p=>p.charCodeAt(0))),c=t==="spki";switch(i){case"PS256":case"PS384":case"PS512":s={name:"RSA-PSS",hash:`SHA-${i.slice(-3)}`},u=c?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":s={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${i.slice(-3)}`},u=c?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s={name:"RSA-OAEP",hash:`SHA-${parseInt(i.slice(-3),10)||1}`},u=c?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":s={name:"ECDSA",namedCurve:"P-256"},u=c?["verify"]:["sign"];break;case"ES384":s={name:"ECDSA",namedCurve:"P-384"},u=c?["verify"]:["sign"];break;case"ES512":s={name:"ECDSA",namedCurve:"P-521"},u=c?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const p=U1(d);s=p.startsWith("P-")?{name:"ECDH",namedCurve:p}:{name:p},u=c?[]:["deriveBits"];break}case"EdDSA":s={name:U1(d)},u=c?["verify"]:["sign"];break;default:throw new Br('Invalid or unsupported "alg" (Algorithm) value')}return mr.subtle.importKey(t,d,s,(l=a?.extractable)!==null&&l!==void 0?l:!1,u)},rP=(e,t,r)=>TR(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,r),OR=(e,t,r)=>TR(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,r);function k1(e){let t=[],r=0;for(;r<e.length;){let i=IR(e.subarray(r));t.push(i),r+=i.byteLength}return t}function IR(e){let t=0,r=e[0]&31;if(t++,r===31){for(r=0;e[t]>=128;)r=r*128+e[t]-128,t++;r=r*128+e[t]-128,t++}let i=0;if(e[t]<128)i=e[t],t++;else if(i===128){for(i=0;e[t+i]!==0||e[t+i+1]!==0;){if(i>e.byteLength)throw new TypeError("invalid indefinite form length");i++}const l=t+i+2;return{byteLength:l,contents:e.subarray(t,t+i),raw:e.subarray(0,l)}}else{let l=e[t]&127;t++,i=0;for(let s=0;s<l;s++)i=i*256+e[t],t++}const a=t+i;return{byteLength:a,contents:e.subarray(t,a),raw:e.subarray(0,a)}}function iP(e){const t=k1(k1(IR(e).contents)[0].contents);return Yw(t[t[0].raw[0]===160?6:5].raw)}function aP(e){const t=e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""),r=uR(t);return RR(iP(r),"PUBLIC KEY")}const oP=(e,t,r)=>{let i;try{i=aP(e)}catch(a){throw new TypeError("Failed to parse the X.509 certificate",{cause:a})}return OR(i,t,r)};function sP(e){let t,r;switch(e.kty){case"oct":{switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:`SHA-${e.alg.slice(-3)}`},r=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new Br(`${e.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},r=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},r=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},r=["deriveBits"];break;default:throw new Br('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"RSA":{switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Br('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new Br('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(e.alg){case"EdDSA":t={name:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new Br('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new Br('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}const j1=async e=>{var t,r;if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:i,keyUsages:a}=sP(e),l=[i,(t=e.ext)!==null&&t!==void 0?t:!1,(r=e.key_ops)!==null&&r!==void 0?r:a];if(i.name==="PBKDF2")return mr.subtle.importKey("raw",Ki(e.k),...l);const s={...e};return delete s.alg,delete s.use,mr.subtle.importKey("jwk",s,...l)};async function lP(e,t,r){if(typeof e!="string"||e.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return OR(e,t,r)}async function uP(e,t,r){if(typeof e!="string"||e.indexOf("-----BEGIN CERTIFICATE-----")!==0)throw new TypeError('"x509" must be X.509 formatted string');return oP(e,t,r)}async function cP(e,t,r){if(typeof e!="string"||e.indexOf("-----BEGIN PRIVATE KEY-----")!==0)throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return rP(e,t,r)}async function mm(e,t,r){var i;if(!Zi(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return r??(r=e.ext!==!0),r?j1({...e,alg:t,ext:(i=e.ext)!==null&&i!==void 0?i:!1}):Ki(e.k);case"RSA":if(e.oth!==void 0)throw new Br('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return j1({...e,alg:t});default:throw new Br('Unsupported "kty" (Key Type) Parameter value')}}const fP=(e,t)=>{if(!(t instanceof Uint8Array)){if(!bR(t))throw new TypeError(vR(e,t,...Oi,"Uint8Array"));if(t.type!=="secret")throw new TypeError(`${Oi.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},dP=(e,t,r)=>{if(!bR(t))throw new TypeError(vR(e,t,...Oi));if(t.type==="secret")throw new TypeError(`${Oi.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(r==="sign"&&t.type==="public")throw new TypeError(`${Oi.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(r==="decrypt"&&t.type==="public")throw new TypeError(`${Oi.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&r==="verify"&&t.type==="private")throw new TypeError(`${Oi.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&r==="encrypt"&&t.type==="private")throw new TypeError(`${Oi.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},Fv=(e,t,r)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?fP(e,t):dP(e,t,r)};async function hP(e,t,r,i,a){if(!(r instanceof Uint8Array))throw new TypeError(Aa(r,"Uint8Array"));const l=parseInt(e.slice(1,4),10),s=await mr.subtle.importKey("raw",r.subarray(l>>3),"AES-CBC",!1,["encrypt"]),u=await mr.subtle.importKey("raw",r.subarray(0,l>>3),{hash:`SHA-${l<<1}`,name:"HMAC"},!1,["sign"]),d=new Uint8Array(await mr.subtle.encrypt({iv:i,name:"AES-CBC"},s,t)),c=Qs(a,i,d,lR(a.length<<3)),p=new Uint8Array((await mr.subtle.sign("HMAC",u,c)).slice(0,l>>3));return{ciphertext:d,tag:p}}async function pP(e,t,r,i,a){let l;r instanceof Uint8Array?l=await mr.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(hc(r,e,"encrypt"),l=r);const s=new Uint8Array(await mr.subtle.encrypt({additionalData:a,iv:i,name:"AES-GCM",tagLength:128},l,t)),u=s.slice(-16);return{ciphertext:s.slice(0,-16),tag:u}}const rw=async(e,t,r,i,a)=>{if(!oo(r)&&!(r instanceof Uint8Array))throw new TypeError(Aa(r,...Oi,"Uint8Array"));switch(gR(e,i),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&Qy(r,parseInt(e.slice(-3),10)),hP(e,t,r,i,a);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&Qy(r,parseInt(e.slice(1,4),10)),pP(e,t,r,i,a);default:throw new Br("Unsupported JWE Content Encryption Algorithm")}};async function gP(e,t,r,i){const a=e.slice(0,7);i||(i=pR(a));const{ciphertext:l,tag:s}=await rw(a,r,t,i,new Uint8Array(0));return{encryptedKey:l,iv:ji(i),tag:ji(s)}}async function mP(e,t,r,i,a){const l=e.slice(0,7);return wR(l,t,r,i,a,new Uint8Array(0))}async function yP(e,t,r,i,a){switch(Fv(e,t,"decrypt"),e){case"dir":{if(r!==void 0)throw new bn("Encountered unexpected JWE Encrypted Key");return t}case"ECDH-ES":if(r!==void 0)throw new bn("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!Zi(i.epk))throw new bn('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!AR(t))throw new Br("ECDH with the provided key is not allowed or not supported by your javascript runtime");const l=await mm(i.epk,e);let s,u;if(i.apu!==void 0){if(typeof i.apu!="string")throw new bn('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{s=Ki(i.apu)}catch{throw new bn("Failed to base64url decode the apu")}}if(i.apv!==void 0){if(typeof i.apv!="string")throw new bn('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{u=Ki(i.apv)}catch{throw new bn("Failed to base64url decode the apv")}}const d=await ER(l,t,e==="ECDH-ES"?i.enc:e,e==="ECDH-ES"?Zw(i.enc):parseInt(e.slice(-5,-2),10),s,u);if(e==="ECDH-ES")return d;if(r===void 0)throw new bn("JWE Encrypted Key missing");return nw(e.slice(-6),d,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(r===void 0)throw new bn("JWE Encrypted Key missing");return eP(e,t,r)}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(r===void 0)throw new bn("JWE Encrypted Key missing");if(typeof i.p2c!="number")throw new bn('JOSE Header "p2c" (PBES2 Count) missing or invalid');const l=a?.maxPBES2Count||1e4;if(i.p2c>l)throw new bn('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if(typeof i.p2s!="string")throw new bn('JOSE Header "p2s" (PBES2 Salt) missing or invalid');let s;try{s=Ki(i.p2s)}catch{throw new bn("Failed to base64url decode the p2s")}return QI(e,t,r,i.p2c,s)}case"A128KW":case"A192KW":case"A256KW":{if(r===void 0)throw new bn("JWE Encrypted Key missing");return nw(e,t,r)}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(r===void 0)throw new bn("JWE Encrypted Key missing");if(typeof i.iv!="string")throw new bn('JOSE Header "iv" (Initialization Vector) missing or invalid');if(typeof i.tag!="string")throw new bn('JOSE Header "tag" (Authentication Tag) missing or invalid');let l;try{l=Ki(i.iv)}catch{throw new bn("Failed to base64url decode the iv")}let s;try{s=Ki(i.tag)}catch{throw new bn("Failed to base64url decode the tag")}return mP(e,t,r,l,s)}default:throw new Br('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function ym(e,t,r,i,a){if(a.crit!==void 0&&i.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||i.crit===void 0)return new Set;if(!Array.isArray(i.crit)||i.crit.length===0||i.crit.some(s=>typeof s!="string"||s.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let l;r!==void 0?l=new Map([...Object.entries(r),...t.entries()]):l=t;for(const s of i.crit){if(!l.has(s))throw new Br(`Extension Header Parameter "${s}" is not recognized`);if(a[s]===void 0)throw new e(`Extension Header Parameter "${s}" is missing`);if(l.get(s)&&i[s]===void 0)throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(i.crit)}const iw=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(r=>typeof r!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function e_(e,t,r){var i;if(!Zi(e))throw new bn("Flattened JWE must be an object");if(e.protected===void 0&&e.header===void 0&&e.unprotected===void 0)throw new bn("JOSE Header missing");if(typeof e.iv!="string")throw new bn("JWE Initialization Vector missing or incorrect type");if(typeof e.ciphertext!="string")throw new bn("JWE Ciphertext missing or incorrect type");if(typeof e.tag!="string")throw new bn("JWE Authentication Tag missing or incorrect type");if(e.protected!==void 0&&typeof e.protected!="string")throw new bn("JWE Protected Header incorrect type");if(e.encrypted_key!==void 0&&typeof e.encrypted_key!="string")throw new bn("JWE Encrypted Key incorrect type");if(e.aad!==void 0&&typeof e.aad!="string")throw new bn("JWE AAD incorrect type");if(e.header!==void 0&&!Zi(e.header))throw new bn("JWE Shared Unprotected Header incorrect type");if(e.unprotected!==void 0&&!Zi(e.unprotected))throw new bn("JWE Per-Recipient Unprotected Header incorrect type");let a;if(e.protected)try{const V=Ki(e.protected);a=JSON.parse(qo.decode(V))}catch{throw new bn("JWE Protected Header is invalid")}if(!gm(a,e.header,e.unprotected))throw new bn("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const l={...a,...e.header,...e.unprotected};if(ym(bn,new Map,r?.crit,a,l),l.zip!==void 0){if(!a||!a.zip)throw new bn('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(l.zip!=="DEF")throw new Br('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:s,enc:u}=l;if(typeof s!="string"||!s)throw new bn("missing JWE Algorithm (alg) in JWE Header");if(typeof u!="string"||!u)throw new bn("missing JWE Encryption Algorithm (enc) in JWE Header");const d=r&&iw("keyManagementAlgorithms",r.keyManagementAlgorithms),c=r&&iw("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(d&&!d.has(s))throw new Xy('"alg" (Algorithm) Header Parameter not allowed');if(c&&!c.has(u))throw new Xy('"enc" (Encryption Algorithm) Header Parameter not allowed');let p;if(e.encrypted_key!==void 0)try{p=Ki(e.encrypted_key)}catch{throw new bn("Failed to base64url decode the encrypted_key")}let m=!1;typeof t=="function"&&(t=await t(a,e),m=!0);let w;try{w=await yP(s,t,p,l,r)}catch(V){if(V instanceof TypeError||V instanceof bn||V instanceof Br)throw V;w=Bf(u)}let S,C;try{S=Ki(e.iv)}catch{throw new bn("Failed to base64url decode the iv")}try{C=Ki(e.tag)}catch{throw new bn("Failed to base64url decode the tag")}const R=Di.encode((i=e.protected)!==null&&i!==void 0?i:"");let T;e.aad!==void 0?T=Qs(R,Di.encode("."),Di.encode(e.aad)):T=R;let E;try{E=Ki(e.ciphertext)}catch{throw new bn("Failed to base64url decode the ciphertext")}let N=await wR(u,w,E,S,C,T);l.zip==="DEF"&&(N=await(r?.inflateRaw||GI)(N));const O={plaintext:N};if(e.protected!==void 0&&(O.protectedHeader=a),e.aad!==void 0)try{O.additionalAuthenticatedData=Ki(e.aad)}catch{throw new bn("Failed to base64url decode the aad")}return e.unprotected!==void 0&&(O.sharedUnprotectedHeader=e.unprotected),e.header!==void 0&&(O.unprotectedHeader=e.header),m?{...O,key:t}:O}async function PR(e,t,r){if(e instanceof Uint8Array&&(e=qo.decode(e)),typeof e!="string")throw new bn("Compact JWE must be a string or Uint8Array");const{0:i,1:a,2:l,3:s,4:u,length:d}=e.split(".");if(d!==5)throw new bn("Invalid Compact JWE");const c=await e_({ciphertext:s,iv:l||void 0,protected:i||void 0,tag:u||void 0,encrypted_key:a||void 0},t,r),p={plaintext:c.plaintext,protectedHeader:c.protectedHeader};return typeof t=="function"?{...p,key:c.key}:p}async function vP(e,t,r){if(!Zi(e))throw new bn("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(Zi))throw new bn("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new bn("JWE Recipients has no members");for(const i of e.recipients)try{return await e_({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:i.encrypted_key,header:i.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch{}throw new tm}const bP=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:ji(e)};if(!oo(e))throw new TypeError(Aa(e,...Oi,"Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:r,alg:i,use:a,...l}=await mr.subtle.exportKey("jwk",e);return l};async function wP(e){return tP(e)}async function _P(e){return nP(e)}async function t_(e){return bP(e)}async function NR(e,t,r,i,a={}){let l,s,u;switch(Fv(e,r,"encrypt"),e){case"dir":{u=r;break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!AR(r))throw new Br("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:d,apv:c}=a;let{epk:p}=a;p||(p=(await WI(r)).privateKey);const{x:m,y:w,crv:S,kty:C}=await t_(p),R=await ER(r,p,e==="ECDH-ES"?t:e,e==="ECDH-ES"?Zw(t):parseInt(e.slice(-5,-2),10),d,c);if(s={epk:{x:m,crv:S,kty:C}},C==="EC"&&(s.epk.y=w),d&&(s.apu=ji(d)),c&&(s.apv=ji(c)),e==="ECDH-ES"){u=R;break}u=i||Bf(t);const T=e.slice(-6);l=await tw(T,R,u);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{u=i||Bf(t),l=await ZI(e,r,u);break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{u=i||Bf(t);const{p2c:d,p2s:c}=a;({encryptedKey:l,...s}=await XI(e,r,u,d,c));break}case"A128KW":case"A192KW":case"A256KW":{u=i||Bf(t),l=await tw(e,r,u);break}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{u=i||Bf(t);const{iv:d}=a;({encryptedKey:l,...s}=await gP(e,r,u,d));break}default:throw new Br('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:u,encryptedKey:l,parameters:s}}const FR=Symbol();class ev{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=t}setKeyManagementParameters(t){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=t,this}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setSharedUnprotectedHeader(t){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}setAdditionalAuthenticatedData(t){return this._aad=t,this}setContentEncryptionKey(t){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=t,this}setInitializationVector(t){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=t,this}async encrypt(t,r){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new bn("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!gm(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new bn("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const i={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(ym(bn,new Map,r?.crit,this._protectedHeader,i),i.zip!==void 0){if(!this._protectedHeader||!this._protectedHeader.zip)throw new bn('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(i.zip!=="DEF")throw new Br('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:a,enc:l}=i;if(typeof a!="string"||!a)throw new bn('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof l!="string"||!l)throw new bn('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let s;if(a==="dir"){if(this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if(a==="ECDH-ES"&&this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");let u;{let C;({cek:u,encryptedKey:s,parameters:C}=await NR(a,l,t,this._cek,this._keyManagementParameters)),C&&(r&&FR in r?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...C}:this.setUnprotectedHeader(C):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...C}:this.setProtectedHeader(C))}this._iv||(this._iv=pR(l));let d,c,p;this._protectedHeader?c=Di.encode(ji(JSON.stringify(this._protectedHeader))):c=Di.encode(""),this._aad?(p=ji(this._aad),d=Qs(c,Di.encode("."),Di.encode(p))):d=c;let m,w;if(i.zip==="DEF"){const C=await(r?.deflateRaw||qI)(this._plaintext);({ciphertext:m,tag:w}=await rw(l,C,u,this._iv,d))}else({ciphertext:m,tag:w}=await rw(l,this._plaintext,u,this._iv,d));const S={ciphertext:ji(m),iv:ji(this._iv),tag:ji(w)};return s&&(S.encrypted_key=ji(s)),p&&(S.aad=p),this._protectedHeader&&(S.protected=qo.decode(c)),this._sharedUnprotectedHeader&&(S.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(S.header=this._unprotectedHeader),S}}class SP{constructor(t,r,i){this.parent=t,this.key=r,this.options=i}setUnprotectedHeader(t){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=t,this}addRecipient(...t){return this.parent.addRecipient(...t)}encrypt(...t){return this.parent.encrypt(...t)}done(){return this.parent}}class EP{constructor(t){this._recipients=[],this._plaintext=t}addRecipient(t,r){const i=new SP(this,t,{crit:r?.crit});return this._recipients.push(i),i}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setSharedUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}setAdditionalAuthenticatedData(t){return this._aad=t,this}async encrypt(t){var r,i,a;if(!this._recipients.length)throw new bn("at least one recipient must be added");if(t={deflateRaw:t?.deflateRaw},this._recipients.length===1){const[d]=this._recipients,c=await new ev(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(d.unprotectedHeader).encrypt(d.key,{...d.options,...t});let p={ciphertext:c.ciphertext,iv:c.iv,recipients:[{}],tag:c.tag};return c.aad&&(p.aad=c.aad),c.protected&&(p.protected=c.protected),c.unprotected&&(p.unprotected=c.unprotected),c.encrypted_key&&(p.recipients[0].encrypted_key=c.encrypted_key),c.header&&(p.recipients[0].header=c.header),p}let l;for(let d=0;d<this._recipients.length;d++){const c=this._recipients[d];if(!gm(this._protectedHeader,this._unprotectedHeader,c.unprotectedHeader))throw new bn("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const p={...this._protectedHeader,...this._unprotectedHeader,...c.unprotectedHeader},{alg:m}=p;if(typeof m!="string"||!m)throw new bn('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(m==="dir"||m==="ECDH-ES")throw new bn('"dir" and "ECDH-ES" alg may only be used with a single recipient');if(typeof p.enc!="string"||!p.enc)throw new bn('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(!l)l=p.enc;else if(l!==p.enc)throw new bn('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients');if(ym(bn,new Map,c.options.crit,this._protectedHeader,p),p.zip!==void 0&&(!this._protectedHeader||!this._protectedHeader.zip))throw new bn('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}const s=Bf(l);let u={ciphertext:"",iv:"",recipients:[],tag:""};for(let d=0;d<this._recipients.length;d++){const c=this._recipients[d],p={};u.recipients.push(p);const w={...this._protectedHeader,...this._unprotectedHeader,...c.unprotectedHeader}.alg.startsWith("PBES2")?2048+d:void 0;if(d===0){const R=await new ev(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(s).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(c.unprotectedHeader).setKeyManagementParameters({p2c:w}).encrypt(c.key,{...c.options,...t,[FR]:!0});u.ciphertext=R.ciphertext,u.iv=R.iv,u.tag=R.tag,R.aad&&(u.aad=R.aad),R.protected&&(u.protected=R.protected),R.unprotected&&(u.unprotected=R.unprotected),p.encrypted_key=R.encrypted_key,R.header&&(p.header=R.header);continue}const{encryptedKey:S,parameters:C}=await NR(((r=c.unprotectedHeader)===null||r===void 0?void 0:r.alg)||((i=this._protectedHeader)===null||i===void 0?void 0:i.alg)||((a=this._unprotectedHeader)===null||a===void 0?void 0:a.alg),l,c.key,s,{p2c:w});p.encrypted_key=ji(S),(c.unprotectedHeader||C)&&(p.header={...c.unprotectedHeader,...C})}return u}}function DR(e,t){const r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new Br(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function MR(e,t,r){if(oo(t))return VI(t,e,r),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(Aa(t,...Oi));return mr.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}throw new TypeError(Aa(t,...Oi,"Uint8Array"))}const AP=async(e,t,r,i)=>{const a=await MR(e,t,"verify");Nv(e,a);const l=DR(e,a.algorithm);try{return await mr.subtle.verify(l,a,r,i)}catch{return!1}};async function n_(e,t,r){var i;if(!Zi(e))throw new ri("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new ri('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new ri("JWS Protected Header incorrect type");if(e.payload===void 0)throw new ri("JWS Payload missing");if(typeof e.signature!="string")throw new ri("JWS Signature missing or incorrect type");if(e.header!==void 0&&!Zi(e.header))throw new ri("JWS Unprotected Header incorrect type");let a={};if(e.protected)try{const T=Ki(e.protected);a=JSON.parse(qo.decode(T))}catch{throw new ri("JWS Protected Header is invalid")}if(!gm(a,e.header))throw new ri("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const l={...a,...e.header},s=ym(ri,new Map([["b64",!0]]),r?.crit,a,l);let u=!0;if(s.has("b64")&&(u=a.b64,typeof u!="boolean"))throw new ri('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:d}=l;if(typeof d!="string"||!d)throw new ri('JWS "alg" (Algorithm) Header Parameter missing or invalid');const c=r&&iw("algorithms",r.algorithms);if(c&&!c.has(d))throw new Xy('"alg" (Algorithm) Header Parameter not allowed');if(u){if(typeof e.payload!="string")throw new ri("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new ri("JWS Payload must be a string or an Uint8Array instance");let p=!1;typeof t=="function"&&(t=await t(a,e),p=!0),Fv(d,t,"verify");const m=Qs(Di.encode((i=e.protected)!==null&&i!==void 0?i:""),Di.encode("."),typeof e.payload=="string"?Di.encode(e.payload):e.payload);let w;try{w=Ki(e.signature)}catch{throw new ri("Failed to base64url decode the signature")}if(!await AP(d,t,w,m))throw new Qw;let C;if(u)try{C=Ki(e.payload)}catch{throw new ri("Failed to base64url decode the payload")}else typeof e.payload=="string"?C=Di.encode(e.payload):C=e.payload;const R={payload:C};return e.protected!==void 0&&(R.protectedHeader=a),e.header!==void 0&&(R.unprotectedHeader=e.header),p?{...R,key:t}:R}async function LR(e,t,r){if(e instanceof Uint8Array&&(e=qo.decode(e)),typeof e!="string")throw new ri("Compact JWS must be a string or Uint8Array");const{0:i,1:a,2:l,length:s}=e.split(".");if(s!==3)throw new ri("Invalid Compact JWS");const u=await n_({payload:a,protected:i,signature:l},t,r),d={payload:u.payload,protectedHeader:u.protectedHeader};return typeof t=="function"?{...d,key:u.key}:d}async function xP(e,t,r){if(!Zi(e))throw new ri("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(Zi))throw new ri("JWS Signatures missing or incorrect type");for(const i of e.signatures)try{return await n_({header:i.header,payload:e.payload,protected:i.protected,signature:i.signature},t,r)}catch{}throw new Qw}const Hy=e=>Math.floor(e.getTime()/1e3),UR=60,kR=UR*60,r_=kR*24,RP=r_*7,CP=r_*365.25,TP=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,tv=e=>{const t=TP.exec(e);if(!t)throw new TypeError("Invalid time period format");const r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(r*UR);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(r*kR);case"day":case"days":case"d":return Math.round(r*r_);case"week":case"weeks":case"w":return Math.round(r*RP);default:return Math.round(r*CP)}},B1=e=>e.toLowerCase().replace(/^application\//,""),OP=(e,t)=>typeof e=="string"?t.includes(e):Array.isArray(e)?t.some(Set.prototype.has.bind(new Set(e))):!1,i_=(e,t,r={})=>{const{typ:i}=r;if(i&&(typeof e.typ!="string"||B1(e.typ)!==B1(i)))throw new ro('unexpected "typ" JWT header value',"typ","check_failed");let a;try{a=JSON.parse(qo.decode(t))}catch{}if(!Zi(a))throw new io("JWT Claims Set must be a top-level JSON object");const{requiredClaims:l=[],issuer:s,subject:u,audience:d,maxTokenAge:c}=r;c!==void 0&&l.push("iat"),d!==void 0&&l.push("aud"),u!==void 0&&l.push("sub"),s!==void 0&&l.push("iss");for(const S of new Set(l.reverse()))if(!(S in a))throw new ro(`missing required "${S}" claim`,S,"missing");if(s&&!(Array.isArray(s)?s:[s]).includes(a.iss))throw new ro('unexpected "iss" claim value',"iss","check_failed");if(u&&a.sub!==u)throw new ro('unexpected "sub" claim value',"sub","check_failed");if(d&&!OP(a.aud,typeof d=="string"?[d]:d))throw new ro('unexpected "aud" claim value',"aud","check_failed");let p;switch(typeof r.clockTolerance){case"string":p=tv(r.clockTolerance);break;case"number":p=r.clockTolerance;break;case"undefined":p=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:m}=r,w=Hy(m||new Date);if((a.iat!==void 0||c)&&typeof a.iat!="number")throw new ro('"iat" claim must be a number',"iat","invalid");if(a.nbf!==void 0){if(typeof a.nbf!="number")throw new ro('"nbf" claim must be a number',"nbf","invalid");if(a.nbf>w+p)throw new ro('"nbf" claim timestamp check failed',"nbf","check_failed")}if(a.exp!==void 0){if(typeof a.exp!="number")throw new ro('"exp" claim must be a number',"exp","invalid");if(a.exp<=w-p)throw new ew('"exp" claim timestamp check failed',"exp","check_failed")}if(c){const S=w-a.iat,C=typeof c=="number"?c:tv(c);if(S-p>C)throw new ew('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(S<0-p)throw new ro('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return a};async function jR(e,t,r){var i;const a=await LR(e,t,r);if(!((i=a.protectedHeader.crit)===null||i===void 0)&&i.includes("b64")&&a.protectedHeader.b64===!1)throw new io("JWTs MUST NOT use unencoded payload");const s={payload:i_(a.protectedHeader,a.payload,r),protectedHeader:a.protectedHeader};return typeof t=="function"?{...s,key:a.key}:s}async function IP(e,t,r){const i=await PR(e,t,r),a=i_(i.protectedHeader,i.plaintext,r),{protectedHeader:l}=i;if(l.iss!==void 0&&l.iss!==a.iss)throw new ro('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(l.sub!==void 0&&l.sub!==a.sub)throw new ro('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(l.aud!==void 0&&JSON.stringify(l.aud)!==JSON.stringify(a.aud))throw new ro('replicated "aud" claim header parameter mismatch',"aud","mismatch");const s={payload:a,protectedHeader:l};return typeof t=="function"?{...s,key:i.key}:s}class BR{constructor(t){this._flattened=new ev(t)}setContentEncryptionKey(t){return this._flattened.setContentEncryptionKey(t),this}setInitializationVector(t){return this._flattened.setInitializationVector(t),this}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}setKeyManagementParameters(t){return this._flattened.setKeyManagementParameters(t),this}async encrypt(t,r){const i=await this._flattened.encrypt(t,r);return[i.protected,i.encrypted_key,i.iv,i.ciphertext,i.tag].join(".")}}const PP=async(e,t,r)=>{const i=await MR(e,t,"sign");Nv(e,i);const a=await mr.subtle.sign(DR(e,i.algorithm),i,r);return new Uint8Array(a)};class a_{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=t}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}async sign(t,r){if(!this._protectedHeader&&!this._unprotectedHeader)throw new ri("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!gm(this._protectedHeader,this._unprotectedHeader))throw new ri("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...this._protectedHeader,...this._unprotectedHeader},a=ym(ri,new Map([["b64",!0]]),r?.crit,this._protectedHeader,i);let l=!0;if(a.has("b64")&&(l=this._protectedHeader.b64,typeof l!="boolean"))throw new ri('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=i;if(typeof s!="string"||!s)throw new ri('JWS "alg" (Algorithm) Header Parameter missing or invalid');Fv(s,t,"sign");let u=this._payload;l&&(u=Di.encode(ji(u)));let d;this._protectedHeader?d=Di.encode(ji(JSON.stringify(this._protectedHeader))):d=Di.encode("");const c=Qs(d,Di.encode("."),u),p=await PP(s,t,c),m={signature:ji(p),payload:""};return l&&(m.payload=qo.decode(u)),this._unprotectedHeader&&(m.header=this._unprotectedHeader),this._protectedHeader&&(m.protected=qo.decode(d)),m}}class HR{constructor(t){this._flattened=new a_(t)}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}async sign(t,r){const i=await this._flattened.sign(t,r);if(i.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${i.protected}.${i.payload}.${i.signature}`}}class NP{constructor(t,r,i){this.parent=t,this.key=r,this.options=i}setProtectedHeader(t){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=t,this}setUnprotectedHeader(t){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=t,this}addSignature(...t){return this.parent.addSignature(...t)}sign(...t){return this.parent.sign(...t)}done(){return this.parent}}class FP{constructor(t){this._signatures=[],this._payload=t}addSignature(t,r){const i=new NP(this,t,r);return this._signatures.push(i),i}async sign(){if(!this._signatures.length)throw new ri("at least one signature must be added");const t={signatures:[],payload:""};for(let r=0;r<this._signatures.length;r++){const i=this._signatures[r],a=new a_(this._payload);a.setProtectedHeader(i.protectedHeader),a.setUnprotectedHeader(i.unprotectedHeader);const{payload:l,...s}=await a.sign(i.key,i.options);if(r===0)t.payload=l;else if(t.payload!==l)throw new ri("inconsistent use of JWS Unencoded Payload (RFC7797)");t.signatures.push(s)}return t}}class o_{constructor(t){if(!Zi(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}setIssuer(t){return this._payload={...this._payload,iss:t},this}setSubject(t){return this._payload={...this._payload,sub:t},this}setAudience(t){return this._payload={...this._payload,aud:t},this}setJti(t){return this._payload={...this._payload,jti:t},this}setNotBefore(t){return typeof t=="number"?this._payload={...this._payload,nbf:t}:this._payload={...this._payload,nbf:Hy(new Date)+tv(t)},this}setExpirationTime(t){return typeof t=="number"?this._payload={...this._payload,exp:t}:this._payload={...this._payload,exp:Hy(new Date)+tv(t)},this}setIssuedAt(t){return typeof t>"u"?this._payload={...this._payload,iat:Hy(new Date)}:this._payload={...this._payload,iat:t},this}}class VR extends o_{setProtectedHeader(t){return this._protectedHeader=t,this}async sign(t,r){var i;const a=new HR(Di.encode(JSON.stringify(this._payload)));if(a.setProtectedHeader(this._protectedHeader),Array.isArray((i=this._protectedHeader)===null||i===void 0?void 0:i.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new io("JWTs MUST NOT use unencoded payload");return a.sign(t,r)}}class DP extends o_{setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setKeyManagementParameters(t){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=t,this}setContentEncryptionKey(t){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=t,this}setInitializationVector(t){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=t,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(t,r){const i=new BR(Di.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),i.setProtectedHeader(this._protectedHeader),this._iv&&i.setInitializationVector(this._iv),this._cek&&i.setContentEncryptionKey(this._cek),this._keyManagementParameters&&i.setKeyManagementParameters(this._keyManagementParameters),i.encrypt(t,r)}}const rc=(e,t)=>{if(typeof e!="string"||!e)throw new cR(`${t} missing or invalid`)};async function $R(e,t){if(!Zi(e))throw new TypeError("JWK must be an object");if(t??(t="sha256"),t!=="sha256"&&t!=="sha384"&&t!=="sha512")throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let r;switch(e.kty){case"EC":rc(e.crv,'"crv" (Curve) Parameter'),rc(e.x,'"x" (X Coordinate) Parameter'),rc(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":rc(e.crv,'"crv" (Subtype of Key Pair) Parameter'),rc(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":rc(e.e,'"e" (Exponent) Parameter'),rc(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":rc(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new Br('"kty" (Key Type) Parameter missing or unsupported')}const i=Di.encode(JSON.stringify(r));return ji(await sR(t,i))}async function MP(e,t){t??(t="sha256");const r=await $R(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}async function LP(e,t){const r={...e,...t?.header};if(!Zi(r.jwk))throw new ri('"jwk" (JSON Web Key) Header Parameter must be a JSON object');const i=await mm({...r.jwk,ext:!0},r.alg,!0);if(i instanceof Uint8Array||i.type!=="public")throw new ri('"jwk" (JSON Web Key) Header Parameter must be a public key');return i}function UP(e){switch(typeof e=="string"&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new Br('Unsupported "alg" value for a JSON Web Key Set')}}function KR(e){return e&&typeof e=="object"&&Array.isArray(e.keys)&&e.keys.every(kP)}function kP(e){return Zi(e)}function jP(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}class GR{constructor(t){if(this._cached=new WeakMap,!KR(t))throw new Ov("JSON Web Key Set malformed");this._jwks=jP(t)}async getKey(t,r){const{alg:i,kid:a}={...t,...r?.header},l=UP(i),s=this._jwks.keys.filter(c=>{let p=l===c.kty;if(p&&typeof a=="string"&&(p=a===c.kid),p&&typeof c.alg=="string"&&(p=i===c.alg),p&&typeof c.use=="string"&&(p=c.use==="sig"),p&&Array.isArray(c.key_ops)&&(p=c.key_ops.includes("verify")),p&&i==="EdDSA"&&(p=c.crv==="Ed25519"||c.crv==="Ed448"),p)switch(i){case"ES256":p=c.crv==="P-256";break;case"ES256K":p=c.crv==="secp256k1";break;case"ES384":p=c.crv==="P-384";break;case"ES512":p=c.crv==="P-521";break}return p}),{0:u,length:d}=s;if(d===0)throw new Xw;if(d!==1){const c=new fR,{_cached:p}=this;throw c[Symbol.asyncIterator]=async function*(){for(const m of s)try{yield await H1(p,m,i)}catch{continue}},c}return H1(this._cached,u,i)}}async function H1(e,t,r){const i=e.get(t)||e.set(t,{}).get(t);if(i[r]===void 0){const a=await mm({...t,ext:!0},r);if(a instanceof Uint8Array||a.type!=="public")throw new Ov("JSON Web Key Set members must be public keys");i[r]=a}return i[r]}function BP(e){const t=new GR(e);return async function(r,i){return t.getKey(r,i)}}const HP=async(e,t,r)=>{let i,a,l=!1;typeof AbortController=="function"&&(i=new AbortController,a=setTimeout(()=>{l=!0,i.abort()},t));const s=await fetch(e.href,{signal:i?i.signal:void 0,redirect:"manual",headers:r.headers}).catch(u=>{throw l?new dR:u});if(a!==void 0&&clearTimeout(a),s.status!==200)throw new ea("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await s.json()}catch{throw new ea("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function VP(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}class $P extends GR{constructor(t,r){if(super({keys:[]}),this._jwks=void 0,!(t instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(t.href),this._options={agent:r?.agent,headers:r?.headers},this._timeoutDuration=typeof r?.timeoutDuration=="number"?r?.timeoutDuration:5e3,this._cooldownDuration=typeof r?.cooldownDuration=="number"?r?.cooldownDuration:3e4,this._cacheMaxAge=typeof r?.cacheMaxAge=="number"?r?.cacheMaxAge:6e5}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(t,r){(!this._jwks||!this.fresh())&&await this.reload();try{return await super.getKey(t,r)}catch(i){if(i instanceof Xw&&this.coolingDown()===!1)return await this.reload(),super.getKey(t,r);throw i}}async reload(){this._pendingFetch&&VP()&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=HP(this._url,this._timeoutDuration,this._options).then(t=>{if(!KR(t))throw new Ov("JSON Web Key Set malformed");this._jwks={keys:t.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(t=>{throw this._pendingFetch=void 0,t})),await this._pendingFetch}}function KP(e,t){const r=new $P(e,t);return async function(i,a){return r.getKey(i,a)}}class GP extends o_{encode(){const t=ji(JSON.stringify({alg:"none"})),r=ji(JSON.stringify(this._payload));return`${t}.${r}.`}static decode(t,r){if(typeof t!="string")throw new io("Unsecured JWT must be a string");const{0:i,1:a,2:l,length:s}=t.split(".");if(s!==3||l!=="")throw new io("Invalid Unsecured JWT");let u;try{if(u=JSON.parse(qo.decode(Ki(i))),u.alg!=="none")throw new Error}catch{throw new io("Invalid Unsecured JWT")}return{payload:i_(u,Ki(a),r),header:u}}}const qP=ji,s_=Ki,zP=Object.freeze(Object.defineProperty({__proto__:null,decode:s_,encode:qP},Symbol.toStringTag,{value:"Module"}));function WP(e){let t;if(typeof e=="string"){const r=e.split(".");(r.length===3||r.length===5)&&([t]=r)}else if(typeof e=="object"&&e)if("protected"in e)t=e.protected;else throw new TypeError("Token does not contain a Protected Header");try{if(typeof t!="string"||!t)throw new Error;const r=JSON.parse(qo.decode(s_(t)));if(!Zi(r))throw new Error;return r}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}function JP(e){if(typeof e!="string")throw new io("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:r}=e.split(".");if(r===5)throw new io("Only JWTs using Compact JWS serialization can be decoded");if(r!==3)throw new io("Invalid JWT");if(!t)throw new io("JWTs must contain a payload");let i;try{i=s_(t)}catch{throw new io("Failed to base64url decode the payload")}let a;try{a=JSON.parse(qo.decode(i))}catch{throw new io("Failed to parse the decoded payload as JSON")}if(!Zi(a))throw new io("Invalid JWT Claims Set");return a}async function YP(e,t){var r;let i,a,l;switch(e){case"HS256":case"HS384":case"HS512":i=parseInt(e.slice(-3),10),a={name:"HMAC",hash:`SHA-${i}`,length:i},l=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return i=parseInt(e.slice(-3),10),Iv(new Uint8Array(i>>3));case"A128KW":case"A192KW":case"A256KW":i=parseInt(e.slice(1,4),10),a={name:"AES-KW",length:i},l=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":i=parseInt(e.slice(1,4),10),a={name:"AES-GCM",length:i},l=["encrypt","decrypt"];break;default:throw new Br('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return mr.subtle.generateKey(a,(r=t?.extractable)!==null&&r!==void 0?r:!1,l)}function Eb(e){var t;const r=(t=e?.modulusLength)!==null&&t!==void 0?t:2048;if(typeof r!="number"||r<2048)throw new Br("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return r}async function XP(e,t){var r,i,a;let l,s;switch(e){case"PS256":case"PS384":case"PS512":l={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Eb(t)},s=["sign","verify"];break;case"RS256":case"RS384":case"RS512":l={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Eb(t)},s=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":l={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Eb(t)},s=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":l={name:"ECDSA",namedCurve:"P-256"},s=["sign","verify"];break;case"ES384":l={name:"ECDSA",namedCurve:"P-384"},s=["sign","verify"];break;case"ES512":l={name:"ECDSA",namedCurve:"P-521"},s=["sign","verify"];break;case"EdDSA":s=["sign","verify"];const u=(r=t?.crv)!==null&&r!==void 0?r:"Ed25519";switch(u){case"Ed25519":case"Ed448":l={name:u};break;default:throw new Br("Invalid or unsupported crv option provided")}break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{s=["deriveKey","deriveBits"];const d=(i=t?.crv)!==null&&i!==void 0?i:"P-256";switch(d){case"P-256":case"P-384":case"P-521":{l={name:"ECDH",namedCurve:d};break}case"X25519":case"X448":l={name:d};break;default:throw new Br("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new Br('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return mr.subtle.generateKey(l,(a=t?.extractable)!==null&&a!==void 0?a:!1,s)}async function qR(e,t){return XP(e,t)}async function QP(e,t){return YP(e,t)}const ZP="WebCryptoAPI",eN=Object.freeze(Object.defineProperty({__proto__:null,CompactEncrypt:BR,CompactSign:HR,EmbeddedJWK:LP,EncryptJWT:DP,FlattenedEncrypt:ev,FlattenedSign:a_,GeneralEncrypt:EP,GeneralSign:FP,SignJWT:VR,UnsecuredJWT:GP,base64url:zP,calculateJwkThumbprint:$R,calculateJwkThumbprintUri:MP,compactDecrypt:PR,compactVerify:LR,createLocalJWKSet:BP,createRemoteJWKSet:KP,cryptoRuntime:ZP,decodeJwt:JP,decodeProtectedHeader:WP,errors:jI,exportJWK:t_,exportPKCS8:_P,exportSPKI:wP,flattenedDecrypt:e_,flattenedVerify:n_,generalDecrypt:vP,generalVerify:xP,generateKeyPair:qR,generateSecret:QP,importJWK:mm,importPKCS8:cP,importSPKI:lP,importX509:uP,jwtDecrypt:IP,jwtVerify:jR},Symbol.toStringTag,{value:"Module"})),tN=bv(eN);var V1;function nN(){if(V1)return cr;V1=1;var e=qf(),t=Vw(),r=tN,i=Ww();const a="solidClientAuthn:",l=["ES256","RS256"],s={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},u=5,m=["openid","offline_access","webid"].join(" "),w=(Qe,We)=>({get(Fe,dt,X){if(!Object.getOwnPropertyNames(e.EventEmitter).includes(dt)&&Object.getOwnPropertyNames(Qe).includes(dt))throw new Error(`${We}: [${dt}] is not supported`);return Reflect.get(Fe,dt,X)}});class S{constructor(We){this.handleables=We,this.handleables=We}async getProperHandler(We){const Fe=await Promise.all(this.handleables.map(dt=>dt.canHandle(...We)));for(let dt=0;dt<Fe.length;dt+=1)if(Fe[dt])return this.handleables[dt];return null}async canHandle(...We){return await this.getProperHandler(We)!==null}async handle(...We){const Fe=await this.getProperHandler(We);if(Fe)return Fe.handle(...We);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${We.map(dt=>{try{return JSON.stringify(dt)}catch{return dt.toString()}}).join(", ")}`)}}async function C(Qe,We){const Fe=await t.fetch.call(globalThis,Qe);if(Fe.status!==200)throw new Error(`Could not fetch JWKS for [${We}] at [${Qe}]: ${Fe.status} ${Fe.statusText}`);let dt;try{dt=(await Fe.json()).keys[0]}catch(X){throw new Error(`Malformed JWKS for [${We}] at [${Qe}]: ${X.message}`)}return dt}async function R(Qe,We,Fe,dt){const X=await C(We,Fe);let j;try{const{payload:G}=await r.jwtVerify(Qe,await r.importJWK(X),{issuer:Fe,audience:dt});j=G}catch(G){throw new Error(`Token verification failed: ${G.stack}`)}if(typeof j.webid=="string")return j.webid;if(typeof j.sub!="string")throw new Error(`The token ${JSON.stringify(j)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(j.sub),j.sub}catch(G){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${j.sub}] is invalid as a URL - error [${G}].`)}}function T(Qe){try{const We=new URL(Qe),Fe=!We.searchParams.has("code")&&!We.searchParams.has("state"),dt=We.hash==="";return Fe&&dt}catch{return!1}}function E(Qe){const We=new URL(Qe);return We.searchParams.delete("state"),We.searchParams.delete("code"),We.searchParams.delete("error"),We.searchParams.delete("error_description"),We.searchParams.delete("iss"),We}class N{constructor(We,Fe){this.storageUtility=We,this.redirector=Fe,this.storageUtility=We,this.redirector=Fe}async canHandle(We){return!!(We.issuerConfiguration.grantTypesSupported&&We.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1)}async handleRedirect({oidcLoginOptions:We,state:Fe,codeVerifier:dt,targetUrl:X}){await Promise.all([this.storageUtility.setForUser(Fe,{sessionId:We.sessionId}),this.storageUtility.setForUser(We.sessionId,{codeVerifier:dt,issuer:We.issuer.toString(),redirectUrl:We.redirectUrl,dpop:We.dpop?"true":"false"})]),this.redirector.redirect(X,{handleRedirect:We.handleRedirect})}}class O{constructor(We){this.sessionInfoManager=We,this.sessionInfoManager=We}async canHandle(){return!0}async handle(We){await this.sessionInfoManager.clear(We)}}class V{constructor(We){this.redirector=We,this.redirector=We}async canHandle(We,Fe){return Fe?.logoutType==="idp"}async handle(We,Fe){if(Fe?.logoutType!=="idp")throw new Error("Attempting to call idp logout handler to perform app logout");if(Fe.toLogoutUrl===void 0)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(Fe.toLogoutUrl(Fe),{handleRedirect:Fe.handleRedirect})}}class L{constructor(We,Fe){this.handlers=[new O(We),new V(Fe)]}async canHandle(){return!0}async handle(We,Fe){for(const dt of this.handlers)await dt.canHandle(We,Fe)&&await dt.handle(We,Fe)}}function z(){return{isLoggedIn:!1,sessionId:i.v4(),fetch:(...Qe)=>t.fetch.call(globalThis,...Qe)}}async function W(Qe,We){await Promise.all([We.deleteAllUserData(Qe,{secure:!1}),We.deleteAllUserData(Qe,{secure:!0})])}class ${constructor(We){this.storageUtility=We,this.storageUtility=We}update(We,Fe){throw new Error("Not Implemented")}get(We){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(We){return W(We,this.storageUtility)}async register(We){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}}function Ce({endSessionEndpoint:Qe,idTokenHint:We,postLogoutRedirectUri:Fe,state:dt}){const X=new URL(Qe);return We!==void 0&&X.searchParams.append("id_token_hint",We),Fe!==void 0&&(X.searchParams.append("post_logout_redirect_uri",Fe),dt!==void 0&&X.searchParams.append("state",dt)),X.toString()}function K({endSessionEndpoint:Qe,idTokenHint:We}){if(Qe!==void 0)return function({state:dt,postLogoutUrl:X}){return Ce({endSessionEndpoint:Qe,idTokenHint:We,state:dt,postLogoutRedirectUri:X})}}function re(Qe){return typeof Qe=="string"&&["DPoP","Bearer"].includes(Qe)}const pe="solidClientAuthenticationUser";function _e(Qe){try{return new URL(Qe),!0}catch{return!1}}function et(Qe,We){var Fe;return(Fe=We.find(dt=>Qe.includes(dt)))!==null&&Fe!==void 0?Fe:null}function rt(Qe,We){return Qe.clientId!==void 0&&!_e(Qe.clientId)?"static":We.scopesSupported.includes("webid")&&Qe.clientId!==void 0&&_e(Qe.clientId)?"solid-oidc":"dynamic"}async function xe(Qe,We,Fe,dt){const X=rt(Qe,We);return X==="dynamic"?dt.getClient({sessionId:Qe.sessionId,clientName:Qe.clientName,redirectUrl:Qe.redirectUrl},We):(await Fe.setForUser(Qe.sessionId,{clientId:Qe.clientId}),Qe.clientSecret&&await Fe.setForUser(Qe.sessionId,{clientSecret:Qe.clientSecret}),Qe.clientName&&await Fe.setForUser(Qe.sessionId,{clientName:Qe.clientName}),{clientId:Qe.clientId,clientSecret:Qe.clientSecret,clientName:Qe.clientName,clientType:X})}const lt=(Qe,We)=>t.fetch.call(globalThis,Qe,We);class he{constructor(We,Fe,dt,X,j){this.loginHandler=We,this.redirectHandler=Fe,this.logoutHandler=dt,this.sessionInfoManager=X,this.issuerConfigFetcher=j,this.fetch=lt,this.logout=async(G,H)=>{await this.logoutHandler.handle(G,H?.logoutType==="idp"?{...H,toLogoutUrl:this.boundLogout}:H),this.fetch=lt,delete this.boundLogout},this.getSessionInfo=async G=>this.sessionInfoManager.get(G),this.getAllSessionInfo=async()=>this.sessionInfoManager.getAll(),this.loginHandler=We,this.redirectHandler=Fe,this.logoutHandler=dt,this.sessionInfoManager=X,this.issuerConfigFetcher=j}}async function nt(Qe,We){return Qe.getForUser(We,"sessionId")}async function Y(Qe,We,Fe){try{const[dt,X,j,G]=await Promise.all([We.getForUser(Qe,"issuer",{errorIfNull:!0}),We.getForUser(Qe,"codeVerifier"),We.getForUser(Qe,"redirectUrl"),We.getForUser(Qe,"dpop",{errorIfNull:!0})]);await We.deleteForUser(Qe,"codeVerifier");const H=await Fe.fetchConfig(dt);return{codeVerifier:X,redirectUrl:j,issuerConfig:H,dpop:G==="true"}}catch(dt){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${Qe}]: ${dt}`)}}async function Re(Qe,We,Fe,dt,X,j,G){X!==void 0&&await Qe.setForUser(We,{refreshToken:X},{secure:j}),Fe!==void 0&&await Qe.setForUser(We,{webId:Fe},{secure:j}),dt!==void 0&&await Qe.setForUser(We,{isLoggedIn:dt},{secure:j}),G!==void 0&&await Qe.setForUser(We,{publicKey:JSON.stringify(G.publicKey),privateKey:JSON.stringify(await r.exportJWK(G.privateKey))},{secure:j})}class Ke{constructor(We,Fe){this.secureStorage=We,this.insecureStorage=Fe,this.secureStorage=We,this.insecureStorage=Fe}getKey(We){return`solidClientAuthenticationUser:${We}`}async getUserData(We,Fe){const dt=await(Fe?this.secureStorage:this.insecureStorage).get(this.getKey(We));if(dt===void 0)return{};try{return JSON.parse(dt)}catch{throw new Error(`Data for user [${We}] in [${Fe?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${dt}`)}}async setUserData(We,Fe,dt){await(dt?this.secureStorage:this.insecureStorage).set(this.getKey(We),JSON.stringify(Fe))}async get(We,Fe){const dt=await(Fe?.secure?this.secureStorage:this.insecureStorage).get(We);if(dt===void 0&&Fe?.errorIfNull)throw new Error(`[${We}] is not stored`);return dt}async set(We,Fe,dt){return(dt?.secure?this.secureStorage:this.insecureStorage).set(We,Fe)}async delete(We,Fe){return(Fe?.secure?this.secureStorage:this.insecureStorage).delete(We)}async getForUser(We,Fe,dt){const X=await this.getUserData(We,dt?.secure);let j;if((!X||!X[Fe])&&(j=void 0),j=X[Fe],j===void 0&&dt?.errorIfNull)throw new Error(`Field [${Fe}] for user [${We}] is not stored`);return j||void 0}async setForUser(We,Fe,dt){let X;try{X=await this.getUserData(We,dt?.secure)}catch{X={}}await this.setUserData(We,{...X,...Fe},dt?.secure)}async deleteForUser(We,Fe,dt){const X=await this.getUserData(We,dt?.secure);delete X[Fe],await this.setUserData(We,X,dt?.secure)}async deleteAllUserData(We,Fe){await(Fe?.secure?this.secureStorage:this.insecureStorage).delete(this.getKey(We))}}class Ue{constructor(){this.map={}}async get(We){return this.map[We]||void 0}async set(We,Fe){this.map[We]=Fe}async delete(We){delete this.map[We]}}class at extends Error{constructor(We){super(We)}}class It extends Error{constructor(We){super(`[${We}] is not implemented`)}}class Nt extends Error{constructor(We){super(`Invalid response from OIDC provider: missing fields ${We}`),this.missingFields=We}}class Me extends Error{constructor(We,Fe,dt){super(We),this.error=Fe,this.errorDescription=dt}}function ue(Qe){const We=new URL(Qe);return new URL(We.pathname,We.origin).toString()}async function Ie(Qe,We,Fe){return new r.SignJWT({htu:ue(Qe),htm:We.toUpperCase(),jti:i.v4()}).setProtectedHeader({alg:l[0],jwk:Fe.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(Fe.privateKey,{})}async function Ye(){const{privateKey:Qe,publicKey:We}=await r.generateKeyPair(l[0]),Fe={privateKey:Qe,publicKey:await r.exportJWK(We)};return[Fe.publicKey.alg]=l,Fe}const se=600;function k(Qe){return[401,403].includes(Qe)}async function D(Qe,We,Fe,dt){var X;const j=new t.Headers(dt?.headers);return j.set("Authorization",`DPoP ${We}`),j.set("DPoP",await Ie(Qe,(X=dt?.method)!==null&&X!==void 0?X:"get",Fe)),{...dt,headers:j}}async function q(Qe,We,Fe,dt){if(Fe!==void 0)return D(Qe,We,Fe,dt);const X=new t.Headers(dt?.headers);return X.set("Authorization",`Bearer ${We}`),{...dt,headers:X}}async function ne(Qe,We,Fe,dt,X){return Qe(Fe,await q(Fe.toString(),We,X,dt))}async function Ee(Qe,We,Fe){var dt;const X=await Qe.tokenRefresher.refresh(Qe.sessionId,Qe.refreshToken,We);return Fe?.emit(s.SESSION_EXTENDED,(dt=X.expiresIn)!==null&&dt!==void 0?dt:se),typeof X.refreshToken=="string"&&Fe?.emit(s.NEW_REFRESH_TOKEN,X.refreshToken),{accessToken:X.accessToken,refreshToken:X.refreshToken,expiresIn:X.expiresIn}}const Ne=Qe=>Qe!==void 0?Qe-u>0?Qe-u:Qe:se;async function ct(Qe,We,Fe){var dt;let X=We,j;const G=Fe?.refreshOptions;if(G!==void 0){const H=async()=>{var Je,it,Xe,Yt;try{const{accessToken:Vn,refreshToken:Gn,expiresIn:sn}=await Ee(G,Fe.dpopKey,Fe.eventEmitter);X=Vn,Gn!==void 0&&(G.refreshToken=Gn),clearTimeout(j),j=setTimeout(H,Ne(sn)*1e3),(Je=Fe.eventEmitter)===null||Je===void 0||Je.emit(s.TIMEOUT_SET,j)}catch(Vn){Vn instanceof Me&&((it=Fe?.eventEmitter)===null||it===void 0||it.emit(s.ERROR,Vn.error,Vn.errorDescription),(Xe=Fe?.eventEmitter)===null||Xe===void 0||Xe.emit(s.SESSION_EXPIRED)),Vn instanceof Nt&&Vn.missingFields.includes("access_token")&&((Yt=Fe?.eventEmitter)===null||Yt===void 0||Yt.emit(s.SESSION_EXPIRED))}};j=setTimeout(H,Ne(Fe.expiresIn)*1e3),(dt=Fe.eventEmitter)===null||dt===void 0||dt.emit(s.TIMEOUT_SET,j)}else if(Fe!==void 0&&Fe.eventEmitter!==void 0){const H=setTimeout(()=>{Fe.eventEmitter.emit(s.SESSION_EXPIRED)},Ne(Fe.expiresIn)*1e3);Fe.eventEmitter.emit(s.TIMEOUT_SET,H)}return async(H,Je)=>{let it=await ne(Qe,X,H,Je,Fe?.dpopKey);const Xe=!it.ok&&!k(it.status);return it.ok||Xe||it.url!==H&&Fe?.dpopKey!==void 0&&(it=await ne(Qe,X,it.url,Je,Fe.dpopKey)),it}}const Pe="getResponse",mt={get:async(Qe,We)=>Pe,set:async(Qe,We)=>{},delete:async Qe=>{},getForUser:async(Qe,We,Fe)=>Pe,setForUser:async(Qe,We,Fe)=>{},deleteForUser:async(Qe,We,Fe)=>{},deleteAllUserData:async(Qe,We)=>{}},Ot=Qe=>{const We=Qe;return{get:async Fe=>{if(We[Fe]!==void 0)return typeof We[Fe]=="string"?We[Fe]:JSON.stringify(We[Fe])},set:async(Fe,dt)=>{We[Fe]=dt},delete:async Fe=>{delete We[Fe]}}},wt=(Qe,We=!1)=>We?new Ke(Ot(Qe),Ot({})):new Ke(Ot({}),Ot(Qe));return cr.AggregateHandler=S,cr.AuthorizationCodeWithPkceOidcHandlerBase=N,cr.ClientAuthentication=he,cr.ConfigurationError=at,cr.DEFAULT_SCOPES=m,cr.EVENTS=s,cr.GeneralLogoutHandler=O,cr.IRpLogoutHandler=V,cr.IWaterfallLogoutHandler=L,cr.InMemoryStorage=Ue,cr.InvalidResponseError=Nt,cr.NotImplementedError=It,cr.OidcProviderError=Me,cr.PREFERRED_SIGNING_ALG=l,cr.REFRESH_BEFORE_EXPIRATION_SECONDS=u,cr.SOLID_CLIENT_AUTHN_KEY_PREFIX=a,cr.SessionInfoManagerBase=$,cr.StorageUtility=Ke,cr.StorageUtilityGetResponse=Pe,cr.StorageUtilityMock=mt,cr.USER_SESSION_PREFIX=pe,cr.buildAuthenticatedFetch=ct,cr.buildProxyHandler=w,cr.clear=W,cr.createDpopHeader=Ie,cr.determineSigningAlg=et,cr.fetchJwks=C,cr.generateDpopKeyPair=Ye,cr.getEndSessionUrl=Ce,cr.getSessionIdFromOauthState=nt,cr.getUnauthenticatedSession=z,cr.getWebidFromTokenPayload=R,cr.handleRegistration=xe,cr.isSupportedTokenType=re,cr.isValidRedirectUrl=T,cr.loadOidcContextFromStorage=Y,cr.maybeBuildRpInitiatedLogout=K,cr.mockStorage=Ot,cr.mockStorageUtility=wt,cr.removeOpenIdParams=E,cr.saveSessionInfoToStorage=Re,cr}var Vy={exports:{}},rN=Vy.exports,$1;function iN(){return $1||($1=1,function(e,t){(function(i,a){e.exports=a()})(rN,function(){return function(r){var i={};function a(l){if(i[l])return i[l].exports;var s=i[l]={i:l,l:!1,exports:{}};return r[l].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=r,a.c=i,a.d=function(l,s,u){a.o(l,s)||Object.defineProperty(l,s,{enumerable:!0,get:u})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,s){if(1&s&&(l=a(l)),8&s||4&s&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),2&s&&typeof l!="string")for(var d in l)a.d(u,d,(function(c){return l[c]}).bind(null,d));return u},a.n=function(l){var s=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(s,"a",s),s},a.o=function(l,s){return Object.prototype.hasOwnProperty.call(l,s)},a.p="",a(a.s=22)}([function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function c(p,m){for(var w=0;w<m.length;w++){var S=m[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}return function(p,m,w){return m&&c(p.prototype,m),w&&c(p,w),p}}(),s={debug:function(){},info:function(){},warn:function(){},error:function(){}},u=void 0,d=void 0;(i.Log=function(){function c(){(function(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")})(this,c)}return c.reset=function(){d=3,u=s},c.debug=function(){if(d>=4){for(var m=arguments.length,w=Array(m),S=0;S<m;S++)w[S]=arguments[S];u.debug.apply(u,Array.from(w))}},c.info=function(){if(d>=3){for(var m=arguments.length,w=Array(m),S=0;S<m;S++)w[S]=arguments[S];u.info.apply(u,Array.from(w))}},c.warn=function(){if(d>=2){for(var m=arguments.length,w=Array(m),S=0;S<m;S++)w[S]=arguments[S];u.warn.apply(u,Array.from(w))}},c.error=function(){if(d>=1){for(var m=arguments.length,w=Array(m),S=0;S<m;S++)w[S]=arguments[S];u.error.apply(u,Array.from(w))}},l(c,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return d},set:function(m){if(!(0<=m&&m<=4))throw new Error("Invalid log level");d=m}},{key:"logger",get:function(){return u},set:function(m){if(!m.debug&&m.info&&(m.debug=m.info),!(m.debug&&m.info&&m.warn&&m.error))throw new Error("Invalid logger");u=m}}]),c}()).reset()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function c(p,m){for(var w=0;w<m.length;w++){var S=m[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}return function(p,m,w){return m&&c(p.prototype,m),w&&c(p,w),p}}(),s={setInterval:function(c){function p(m,w){return c.apply(this,arguments)}return p.toString=function(){return c.toString()},p}(function(c,p){return setInterval(c,p)}),clearInterval:function(c){function p(m){return c.apply(this,arguments)}return p.toString=function(){return c.toString()},p}(function(c){return clearInterval(c)})},u=!1,d=null;i.Global=function(){function c(){(function(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")})(this,c)}return c._testing=function(){u=!0},c.setXMLHttpRequest=function(m){d=m},l(c,null,[{key:"location",get:function(){if(!u)return location}},{key:"localStorage",get:function(){if(!u&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!u&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!u&&typeof window<"u")return d||XMLHttpRequest}},{key:"timer",get:function(){if(!u)return s}}]),c}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.MetadataService=void 0;var l=function(){function p(m,w){for(var S=0;S<w.length;S++){var C=w[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(m,C.key,C)}}return function(m,w,S){return w&&p(m.prototype,w),S&&p(m,S),m}}(),s=a(0),u=a(7);function d(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}var c=".well-known/openid-configuration";i.MetadataService=function(){function p(m){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.JsonService;if(d(this,p),!m)throw s.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=m,this._jsonService=new w(["application/jwk-set+json"])}return p.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},p.prototype.getMetadata=function(){var w=this;return this._settings.metadata?(s.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(s.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(S){s.Log.debug("MetadataService.getMetadata: json received");var C=w._settings.metadataSeed||{};return w._settings.metadata=Object.assign({},C,S),w._settings.metadata})):(s.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},p.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},p.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},p.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},p.prototype.getTokenEndpoint=function(){var w=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",w)},p.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},p.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},p.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},p.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},p.prototype._getMetadataProperty=function(w){var S=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return s.Log.debug("MetadataService.getMetadataProperty for: "+w),this.getMetadata().then(function(C){if(s.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),C[w]===void 0){if(S===!0)return void s.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+w);throw s.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+w),new Error("Metadata does not contain property "+w)}return C[w]})},p.prototype.getSigningKeys=function(){var w=this;return this._settings.signingKeys?(s.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(S){return s.Log.debug("MetadataService.getSigningKeys: jwks_uri received",S),w._jsonService.getJson(S).then(function(C){if(s.Log.debug("MetadataService.getSigningKeys: key set received",C),!C.keys)throw s.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return w._settings.signingKeys=C.keys,w._settings.signingKeys})})},l(p,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(c)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=c))),this._metadataUrl}}]),p}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.UrlUtility=void 0;var l=a(0),s=a(1);i.UrlUtility=function(){function u(){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.addQueryParam=function(c,p,m){return c.indexOf("?")<0&&(c+="?"),c[c.length-1]!=="?"&&(c+="&"),c+=encodeURIComponent(p),c+="=",c+=encodeURIComponent(m)},u.parseUrlFragment=function(c){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.Global;typeof c!="string"&&(c=m.location.href);var w=c.lastIndexOf(p);w>=0&&(c=c.substr(w+1)),p==="?"&&(w=c.indexOf("#"))>=0&&(c=c.substr(0,w));for(var S,C={},R=/([^&=]+)=([^&]*)/g,T=0;S=R.exec(c);)if(C[decodeURIComponent(S[1])]=decodeURIComponent(S[2].replace(/\+/g," ")),T++>50)return l.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",c),{error:"Response exceeded expected number of parameters"};for(var E in C)return C;return{}},u}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.JoseUtil=void 0;var l=a(26),s=function(d){return d&&d.__esModule?d:{default:d}}(a(33));i.JoseUtil=(0,s.default)({jws:l.jws,KeyUtil:l.KeyUtil,X509:l.X509,crypto:l.crypto,hextob64u:l.hextob64u,b64tohex:l.b64tohex,AllowedSigningAlgs:l.AllowedSigningAlgs})},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.OidcClientSettings=void 0;var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},s=function(){function E(N,O){for(var V=0;V<O.length;V++){var L=O[V];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(N,L.key,L)}}return function(N,O,V){return O&&E(N.prototype,O),V&&E(N,V),N}}(),u=a(0),d=a(23),c=a(6),p=a(24),m=a(2);function w(E,N){if(!(E instanceof N))throw new TypeError("Cannot call a class as a function")}var S=".well-known/openid-configuration",C="id_token",R="openid",T="client_secret_post";i.OidcClientSettings=function(){function E(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=N.authority,V=N.metadataUrl,L=N.metadata,z=N.signingKeys,W=N.metadataSeed,$=N.client_id,Ce=N.client_secret,K=N.response_type,re=K===void 0?C:K,pe=N.scope,_e=pe===void 0?R:pe,et=N.redirect_uri,rt=N.post_logout_redirect_uri,xe=N.client_authentication,lt=xe===void 0?T:xe,he=N.prompt,nt=N.display,Y=N.max_age,Re=N.ui_locales,Ke=N.acr_values,Ue=N.resource,at=N.response_mode,It=N.filterProtocolClaims,Nt=It===void 0||It,Me=N.loadUserInfo,ue=Me===void 0||Me,Ie=N.staleStateAge,Ye=Ie===void 0?900:Ie,se=N.clockSkew,k=se===void 0?300:se,D=N.clockService,q=D===void 0?new d.ClockService:D,ne=N.userInfoJwtIssuer,Ee=ne===void 0?"OP":ne,Ne=N.mergeClaims,ct=Ne!==void 0&&Ne,Pe=N.stateStore,mt=Pe===void 0?new c.WebStorageStateStore:Pe,Ot=N.ResponseValidatorCtor,wt=Ot===void 0?p.ResponseValidator:Ot,Qe=N.MetadataServiceCtor,We=Qe===void 0?m.MetadataService:Qe,Fe=N.extraQueryParams,dt=Fe===void 0?{}:Fe,X=N.extraTokenParams,j=X===void 0?{}:X;w(this,E),this._authority=O,this._metadataUrl=V,this._metadata=L,this._metadataSeed=W,this._signingKeys=z,this._client_id=$,this._client_secret=Ce,this._response_type=re,this._scope=_e,this._redirect_uri=et,this._post_logout_redirect_uri=rt,this._client_authentication=lt,this._prompt=he,this._display=nt,this._max_age=Y,this._ui_locales=Re,this._acr_values=Ke,this._resource=Ue,this._response_mode=at,this._filterProtocolClaims=!!Nt,this._loadUserInfo=!!ue,this._staleStateAge=Ye,this._clockSkew=k,this._clockService=q,this._userInfoJwtIssuer=Ee,this._mergeClaims=!!ct,this._stateStore=mt,this._validator=new wt(this),this._metadataService=new We(this),this._extraQueryParams=(dt===void 0?"undefined":l(dt))==="object"?dt:{},this._extraTokenParams=(j===void 0?"undefined":l(j))==="object"?j:{}}return E.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},s(E,[{key:"client_id",get:function(){return this._client_id},set:function(O){if(this._client_id)throw u.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=O}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(O){if(this._authority)throw u.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=O}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(S)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=S)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(O){this._metadata=O}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(O){this._metadataSeed=O}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(O){this._signingKeys=O}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(O){(O===void 0?"undefined":l(O))==="object"?this._extraQueryParams=O:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(O){(O===void 0?"undefined":l(O))==="object"?this._extraTokenParams=O:this._extraTokenParams={}}}]),E}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.WebStorageStateStore=void 0;var l=a(0),s=a(1);function u(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}i.WebStorageStateStore=function(){function d(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=c.prefix,m=p===void 0?"oidc.":p,w=c.store,S=w===void 0?s.Global.localStorage:w;u(this,d),this._store=S,this._prefix=m}return d.prototype.set=function(p,m){return l.Log.debug("WebStorageStateStore.set",p),p=this._prefix+p,this._store.setItem(p,m),Promise.resolve()},d.prototype.get=function(p){l.Log.debug("WebStorageStateStore.get",p),p=this._prefix+p;var m=this._store.getItem(p);return Promise.resolve(m)},d.prototype.remove=function(p){l.Log.debug("WebStorageStateStore.remove",p),p=this._prefix+p;var m=this._store.getItem(p);return this._store.removeItem(p),Promise.resolve(m)},d.prototype.getAllKeys=function(){l.Log.debug("WebStorageStateStore.getAllKeys");for(var p=[],m=0;m<this._store.length;m++){var w=this._store.key(m);w.indexOf(this._prefix)===0&&p.push(w.substr(this._prefix.length))}return Promise.resolve(p)},d}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.JsonService=void 0;var l=a(0),s=a(1);function u(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}i.JsonService=function(){function d(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.XMLHttpRequest,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;u(this,d),c&&Array.isArray(c)?this._contentTypes=c.slice():this._contentTypes=[],this._contentTypes.push("application/json"),m&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=p,this._jwtHandler=m}return d.prototype.getJson=function(p,m){var w=this;if(!p)throw l.Log.error("JsonService.getJson: No url passed"),new Error("url");return l.Log.debug("JsonService.getJson, url: ",p),new Promise(function(S,C){var R=new w._XMLHttpRequest;R.open("GET",p);var T=w._contentTypes,E=w._jwtHandler;R.onload=function(){if(l.Log.debug("JsonService.getJson: HTTP response received, status",R.status),R.status===200){var N=R.getResponseHeader("Content-Type");if(N){var O=T.find(function(V){if(N.startsWith(V))return!0});if(O=="application/jwt")return void E(R).then(S,C);if(O)try{return void S(JSON.parse(R.responseText))}catch(V){return l.Log.error("JsonService.getJson: Error parsing JSON response",V.message),void C(V)}}C(Error("Invalid response Content-Type: "+N+", from URL: "+p))}else C(Error(R.statusText+" ("+R.status+")"))},R.onerror=function(){l.Log.error("JsonService.getJson: network error"),C(Error("Network Error"))},m&&(l.Log.debug("JsonService.getJson: token passed, setting Authorization header"),R.setRequestHeader("Authorization","Bearer "+m)),R.send()})},d.prototype.postForm=function(p,m,w){var S=this;if(!p)throw l.Log.error("JsonService.postForm: No url passed"),new Error("url");return l.Log.debug("JsonService.postForm, url: ",p),new Promise(function(C,R){var T=new S._XMLHttpRequest;T.open("POST",p);var E=S._contentTypes;T.onload=function(){if(l.Log.debug("JsonService.postForm: HTTP response received, status",T.status),T.status!==200){if(T.status===400&&(z=T.getResponseHeader("Content-Type"))&&E.find(function(W){if(z.startsWith(W))return!0}))try{var L=JSON.parse(T.responseText);if(L&&L.error)return l.Log.error("JsonService.postForm: Error from server: ",L.error),void R(new Error(L.error))}catch(W){return l.Log.error("JsonService.postForm: Error parsing JSON response",W.message),void R(W)}R(Error(T.statusText+" ("+T.status+")"))}else{var z;if((z=T.getResponseHeader("Content-Type"))&&E.find(function(W){if(z.startsWith(W))return!0}))try{return void C(JSON.parse(T.responseText))}catch(W){return l.Log.error("JsonService.postForm: Error parsing JSON response",W.message),void R(W)}R(Error("Invalid response Content-Type: "+z+", from URL: "+p))}},T.onerror=function(){l.Log.error("JsonService.postForm: network error"),R(Error("Network Error"))};var N="";for(var O in m){var V=m[O];V&&(N.length>0&&(N+="&"),N+=encodeURIComponent(O),N+="=",N+=encodeURIComponent(V))}T.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),w!==void 0&&T.setRequestHeader("Authorization","Basic "+btoa(w)),T.send(N)})},d}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.SigninRequest=void 0;var l=a(0),s=a(3),u=a(13);i.SigninRequest=function(){function d(c){var p=c.url,m=c.client_id,w=c.redirect_uri,S=c.response_type,C=c.scope,R=c.authority,T=c.data,E=c.prompt,N=c.display,O=c.max_age,V=c.ui_locales,L=c.id_token_hint,z=c.login_hint,W=c.acr_values,$=c.resource,Ce=c.response_mode,K=c.request,re=c.request_uri,pe=c.extraQueryParams,_e=c.request_type,et=c.client_secret,rt=c.extraTokenParams,xe=c.skipUserInfo;if(function(Ue,at){if(!(Ue instanceof at))throw new TypeError("Cannot call a class as a function")}(this,d),!p)throw l.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!m)throw l.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!w)throw l.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!S)throw l.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!C)throw l.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!R)throw l.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var lt=d.isOidc(S),he=d.isCode(S);Ce||(Ce=d.isCode(S)?"query":null),this.state=new u.SigninState({nonce:lt,data:T,client_id:m,authority:R,redirect_uri:w,code_verifier:he,request_type:_e,response_mode:Ce,client_secret:et,scope:C,extraTokenParams:rt,skipUserInfo:xe}),p=s.UrlUtility.addQueryParam(p,"client_id",m),p=s.UrlUtility.addQueryParam(p,"redirect_uri",w),p=s.UrlUtility.addQueryParam(p,"response_type",S),p=s.UrlUtility.addQueryParam(p,"scope",C),p=s.UrlUtility.addQueryParam(p,"state",this.state.id),lt&&(p=s.UrlUtility.addQueryParam(p,"nonce",this.state.nonce)),he&&(p=s.UrlUtility.addQueryParam(p,"code_challenge",this.state.code_challenge),p=s.UrlUtility.addQueryParam(p,"code_challenge_method","S256"));var nt={prompt:E,display:N,max_age:O,ui_locales:V,id_token_hint:L,login_hint:z,acr_values:W,resource:$,request:K,request_uri:re,response_mode:Ce};for(var Y in nt)nt[Y]&&(p=s.UrlUtility.addQueryParam(p,Y,nt[Y]));for(var Re in pe)p=s.UrlUtility.addQueryParam(p,Re,pe[Re]);this.url=p}return d.isOidc=function(p){return!!p.split(/\s+/g).filter(function(m){return m==="id_token"})[0]},d.isOAuth=function(p){return!!p.split(/\s+/g).filter(function(m){return m==="token"})[0]},d.isCode=function(p){return!!p.split(/\s+/g).filter(function(m){return m==="code"})[0]},d}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.State=void 0;var l=function(){function c(p,m){for(var w=0;w<m.length;w++){var S=m[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}return function(p,m,w){return m&&c(p.prototype,m),w&&c(p,w),p}}(),s=a(0),u=function(p){return p&&p.__esModule?p:{default:p}}(a(14));function d(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}i.State=function(){function c(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=p.id,w=p.data,S=p.created,C=p.request_type;d(this,c),this._id=m||(0,u.default)(),this._data=w,this._created=typeof S=="number"&&S>0?S:parseInt(Date.now()/1e3),this._request_type=C}return c.prototype.toStorageString=function(){return s.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},c.fromStorageString=function(m){return s.Log.debug("State.fromStorageString"),new c(JSON.parse(m))},c.clearStaleState=function(m,w){var S=Date.now()/1e3-w;return m.getAllKeys().then(function(C){s.Log.debug("State.clearStaleState: got keys",C);for(var R=[],T=function(V){var L=C[V];N=m.get(L).then(function(z){var W=!1;if(z)try{var $=c.fromStorageString(z);s.Log.debug("State.clearStaleState: got item from key: ",L,$.created),$.created<=S&&(W=!0)}catch(Ce){s.Log.error("State.clearStaleState: Error parsing state for key",L,Ce.message),W=!0}else s.Log.debug("State.clearStaleState: no item in storage for key: ",L),W=!0;if(W)return s.Log.debug("State.clearStaleState: removed item for key: ",L),m.remove(L)}),R.push(N)},E=0;E<C.length;E++){var N;T(E)}return s.Log.debug("State.clearStaleState: waiting on promise count:",R.length),Promise.all(R)})},l(c,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),c}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.OidcClient=void 0;var l=function(){function T(E,N){for(var O=0;O<N.length;O++){var V=N[O];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}}return function(E,N,O){return N&&T(E.prototype,N),O&&T(E,O),E}}(),s=a(0),u=a(5),d=a(12),c=a(8),p=a(34),m=a(35),w=a(36),S=a(13),C=a(9);function R(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}i.OidcClient=function(){function T(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};R(this,T),E instanceof u.OidcClientSettings?this._settings=E:this._settings=new u.OidcClientSettings(E)}return T.prototype.createSigninRequest=function(){var N=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=O.response_type,L=O.scope,z=O.redirect_uri,W=O.data,$=O.state,Ce=O.prompt,K=O.display,re=O.max_age,pe=O.ui_locales,_e=O.id_token_hint,et=O.login_hint,rt=O.acr_values,xe=O.resource,lt=O.request,he=O.request_uri,nt=O.response_mode,Y=O.extraQueryParams,Re=O.extraTokenParams,Ke=O.request_type,Ue=O.skipUserInfo,at=arguments[1];s.Log.debug("OidcClient.createSigninRequest");var It=this._settings.client_id;V=V||this._settings.response_type,L=L||this._settings.scope,z=z||this._settings.redirect_uri,Ce=Ce||this._settings.prompt,K=K||this._settings.display,re=re||this._settings.max_age,pe=pe||this._settings.ui_locales,rt=rt||this._settings.acr_values,xe=xe||this._settings.resource,nt=nt||this._settings.response_mode,Y=Y||this._settings.extraQueryParams,Re=Re||this._settings.extraTokenParams;var Nt=this._settings.authority;return c.SigninRequest.isCode(V)&&V!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(Me){s.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",Me);var ue=new c.SigninRequest({url:Me,client_id:It,redirect_uri:z,response_type:V,scope:L,data:W||$,authority:Nt,prompt:Ce,display:K,max_age:re,ui_locales:pe,id_token_hint:_e,login_hint:et,acr_values:rt,resource:xe,request:lt,request_uri:he,extraQueryParams:Y,extraTokenParams:Re,request_type:Ke,response_mode:nt,client_secret:N._settings.client_secret,skipUserInfo:Ue}),Ie=ue.state;return(at=at||N._stateStore).set(Ie.id,Ie.toStorageString()).then(function(){return ue})})},T.prototype.readSigninResponseState=function(N,O){var V=arguments.length>2&&arguments[2]!==void 0&&arguments[2];s.Log.debug("OidcClient.readSigninResponseState");var L=this._settings.response_mode==="query"||!this._settings.response_mode&&c.SigninRequest.isCode(this._settings.response_type),z=L?"?":"#",W=new p.SigninResponse(N,z);if(!W.state)return s.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));O=O||this._stateStore;var $=V?O.remove.bind(O):O.get.bind(O);return $(W.state).then(function(Ce){if(!Ce)throw s.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:S.SigninState.fromStorageString(Ce),response:W}})},T.prototype.processSigninResponse=function(N,O){var V=this;return s.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(N,O,!0).then(function(L){var z=L.state,W=L.response;return s.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),V._validator.validateSigninResponse(z,W)})},T.prototype.createSignoutRequest=function(){var N=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=O.id_token_hint,L=O.data,z=O.state,W=O.post_logout_redirect_uri,$=O.extraQueryParams,Ce=O.request_type,K=arguments[1];return s.Log.debug("OidcClient.createSignoutRequest"),W=W||this._settings.post_logout_redirect_uri,$=$||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(re){if(!re)throw s.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");s.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",re);var pe=new m.SignoutRequest({url:re,id_token_hint:V,post_logout_redirect_uri:W,data:L||z,extraQueryParams:$,request_type:Ce}),_e=pe.state;return _e&&(s.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(K=K||N._stateStore).set(_e.id,_e.toStorageString())),pe})},T.prototype.readSignoutResponseState=function(N,O){var V=arguments.length>2&&arguments[2]!==void 0&&arguments[2];s.Log.debug("OidcClient.readSignoutResponseState");var L=new w.SignoutResponse(N);if(!L.state)return s.Log.debug("OidcClient.readSignoutResponseState: No state in response"),L.error?(s.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",L.error),Promise.reject(new d.ErrorResponse(L))):Promise.resolve({state:void 0,response:L});var z=L.state;O=O||this._stateStore;var W=V?O.remove.bind(O):O.get.bind(O);return W(z).then(function($){if(!$)throw s.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:C.State.fromStorageString($),response:L}})},T.prototype.processSignoutResponse=function(N,O){var V=this;return s.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(N,O,!0).then(function(L){var z=L.state,W=L.response;return z?(s.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),V._validator.validateSignoutResponse(z,W)):(s.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),W)})},T.prototype.clearStaleState=function(N){return s.Log.debug("OidcClient.clearStaleState"),N=N||this._stateStore,C.State.clearStaleState(N,this.settings.staleStateAge)},l(T,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),T}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.TokenClient=void 0;var l=a(7),s=a(2),u=a(0);function d(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}i.TokenClient=function(){function c(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.JsonService,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.MetadataService;if(d(this,c),!p)throw u.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=p,this._jsonService=new m,this._metadataService=new w(this._settings)}return c.prototype.exchangeCode=function(){var m=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(w=Object.assign({},w)).grant_type=w.grant_type||"authorization_code",w.client_id=w.client_id||this._settings.client_id,w.client_secret=w.client_secret||this._settings.client_secret,w.redirect_uri=w.redirect_uri||this._settings.redirect_uri;var S=void 0,C=w._client_authentication||this._settings._client_authentication;return delete w._client_authentication,w.code?w.redirect_uri?w.code_verifier?w.client_id?w.client_secret||C!="client_secret_basic"?(C=="client_secret_basic"&&(S=w.client_id+":"+w.client_secret,delete w.client_id,delete w.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(R){return u.Log.debug("TokenClient.exchangeCode: Received token endpoint"),m._jsonService.postForm(R,w,S).then(function(T){return u.Log.debug("TokenClient.exchangeCode: response received"),T})})):(u.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(u.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(u.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(u.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(u.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},c.prototype.exchangeRefreshToken=function(){var m=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(w=Object.assign({},w)).grant_type=w.grant_type||"refresh_token",w.client_id=w.client_id||this._settings.client_id,w.client_secret=w.client_secret||this._settings.client_secret;var S=void 0,C=w._client_authentication||this._settings._client_authentication;return delete w._client_authentication,w.refresh_token?w.client_id?(C=="client_secret_basic"&&(S=w.client_id+":"+w.client_secret,delete w.client_id,delete w.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(R){return u.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),m._jsonService.postForm(R,w,S).then(function(T){return u.Log.debug("TokenClient.exchangeRefreshToken: response received"),T})})):(u.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(u.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},c}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.ErrorResponse=void 0;var l=a(0);function s(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}function u(d,c){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?d:c}i.ErrorResponse=function(d){function c(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=p.error,w=p.error_description,S=p.error_uri,C=p.state,R=p.session_state;if(s(this,c),!m)throw l.Log.error("No error passed to ErrorResponse"),new Error("error");var T=u(this,d.call(this,w||m));return T.name="ErrorResponse",T.error=m,T.error_description=w,T.error_uri=S,T.state=C,T.session_state=R,T}return function(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}(c,d),c}(Error)},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.SigninState=void 0;var l=function(){function w(S,C){for(var R=0;R<C.length;R++){var T=C[R];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(S,T.key,T)}}return function(S,C,R){return C&&w(S.prototype,C),R&&w(S,R),S}}(),s=a(0),u=a(9),d=a(4),c=function(S){return S&&S.__esModule?S:{default:S}}(a(14));function p(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function m(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?w:S}i.SigninState=function(w){function S(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=C.nonce,T=C.authority,E=C.client_id,N=C.redirect_uri,O=C.code_verifier,V=C.response_mode,L=C.client_secret,z=C.scope,W=C.extraTokenParams,$=C.skipUserInfo;p(this,S);var Ce=m(this,w.call(this,arguments[0]));if(R===!0?Ce._nonce=(0,c.default)():R&&(Ce._nonce=R),O===!0?Ce._code_verifier=(0,c.default)()+(0,c.default)()+(0,c.default)():O&&(Ce._code_verifier=O),Ce.code_verifier){var K=d.JoseUtil.hashString(Ce.code_verifier,"SHA256");Ce._code_challenge=d.JoseUtil.hexToBase64Url(K)}return Ce._redirect_uri=N,Ce._authority=T,Ce._client_id=E,Ce._response_mode=V,Ce._client_secret=L,Ce._scope=z,Ce._extraTokenParams=W,Ce._skipUserInfo=$,Ce}return function(R,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);R.prototype=Object.create(T&&T.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(R,T):R.__proto__=T)}(S,w),S.prototype.toStorageString=function(){return s.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},S.fromStorageString=function(R){return s.Log.debug("SigninState.fromStorageString"),new S(JSON.parse(R))},l(S,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),S}(u.State)},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){return(l!="undefined"&&l!==null&&l.getRandomValues!==void 0?s:u)().replace(/-/g,"")};var l=typeof window<"u"?window.crypto||window.msCrypto:null;function s(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(d){return(d^l.getRandomValues(new Uint8Array(1))[0]&15>>d/4).toString(16)})}function u(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(d){return(d^16*Math.random()>>d/4).toString(16)})}r.exports=i.default},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.User=void 0;var l=function(){function u(d,c){for(var p=0;p<c.length;p++){var m=c[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,c,p){return c&&u(d.prototype,c),p&&u(d,p),d}}(),s=a(0);i.User=function(){function u(d){var c=d.id_token,p=d.session_state,m=d.access_token,w=d.refresh_token,S=d.token_type,C=d.scope,R=d.profile,T=d.expires_at,E=d.state;(function(O,V){if(!(O instanceof V))throw new TypeError("Cannot call a class as a function")})(this,u),this.id_token=c,this.session_state=p,this.access_token=m,this.refresh_token=w,this.token_type=S,this.scope=C,this.profile=R,this.expires_at=T,this.state=E}return u.prototype.toStorageString=function(){return s.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},u.fromStorageString=function(c){return s.Log.debug("User.fromStorageString"),new u(JSON.parse(c))},l(u,[{key:"expires_in",get:function(){if(this.expires_at){var c=parseInt(Date.now()/1e3);return this.expires_at-c}},set:function(c){var p=parseInt(c);if(typeof p=="number"&&p>0){var m=parseInt(Date.now()/1e3);this.expires_at=m+p}}},{key:"expired",get:function(){var c=this.expires_in;if(c!==void 0)return c<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),u}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.AccessTokenEvents=void 0;var l=a(0),s=a(46);function u(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}i.AccessTokenEvents=function(){function d(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=c.accessTokenExpiringNotificationTime,m=p===void 0?60:p,w=c.accessTokenExpiringTimer,S=w===void 0?new s.Timer("Access token expiring"):w,C=c.accessTokenExpiredTimer,R=C===void 0?new s.Timer("Access token expired"):C;u(this,d),this._accessTokenExpiringNotificationTime=m,this._accessTokenExpiring=S,this._accessTokenExpired=R}return d.prototype.load=function(p){if(p.access_token&&p.expires_in!==void 0){var m=p.expires_in;if(l.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",m),m>0){var w=m-this._accessTokenExpiringNotificationTime;w<=0&&(w=1),l.Log.debug("AccessTokenEvents.load: registering expiring timer in:",w),this._accessTokenExpiring.init(w)}else l.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var S=m+1;l.Log.debug("AccessTokenEvents.load: registering expired timer in:",S),this._accessTokenExpired.init(S)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},d.prototype.unload=function(){l.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},d.prototype.addAccessTokenExpiring=function(p){this._accessTokenExpiring.addHandler(p)},d.prototype.removeAccessTokenExpiring=function(p){this._accessTokenExpiring.removeHandler(p)},d.prototype.addAccessTokenExpired=function(p){this._accessTokenExpired.addHandler(p)},d.prototype.removeAccessTokenExpired=function(p){this._accessTokenExpired.removeHandler(p)},d}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.Event=void 0;var l=a(0);i.Event=function(){function s(u){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,s),this._name=u,this._callbacks=[]}return s.prototype.addHandler=function(d){this._callbacks.push(d)},s.prototype.removeHandler=function(d){var c=this._callbacks.findIndex(function(p){return p===d});c>=0&&this._callbacks.splice(c,1)},s.prototype.raise=function(){l.Log.debug("Event: Raising event: "+this._name);for(var d=0;d<this._callbacks.length;d++){var c;(c=this._callbacks)[d].apply(c,arguments)}},s}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.SessionMonitor=void 0;var l=function(){function p(m,w){for(var S=0;S<w.length;S++){var C=w[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(m,C.key,C)}}return function(m,w,S){return w&&p(m.prototype,w),S&&p(m,S),m}}(),s=a(0),u=a(19),d=a(1);function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}i.SessionMonitor=function(){function p(m){var w=this,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.CheckSessionIFrame,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.Global.timer;if(c(this,p),!m)throw s.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=m,this._CheckSessionIFrameCtor=S,this._timer=C,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(R){R?w._start(R):w._settings.monitorAnonymousSession&&w._userManager.querySessionStatus().then(function(T){var E={session_state:T.session_state};T.sub&&T.sid&&(E.profile={sub:T.sub,sid:T.sid}),w._start(E)}).catch(function(T){s.Log.error("SessionMonitor ctor: error from querySessionStatus:",T.message)})}).catch(function(R){s.Log.error("SessionMonitor ctor: error from getUser:",R.message)}))}return p.prototype._start=function(w){var S=this,C=w.session_state;C&&(w.profile?(this._sub=w.profile.sub,this._sid=w.profile.sid,s.Log.debug("SessionMonitor._start: session_state:",C,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,s.Log.debug("SessionMonitor._start: session_state:",C,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(C):this._metadataService.getCheckSessionIframe().then(function(R){if(R){s.Log.debug("SessionMonitor._start: Initializing check session iframe");var T=S._client_id,E=S._checkSessionInterval,N=S._stopCheckSessionOnError;S._checkSessionIFrame=new S._CheckSessionIFrameCtor(S._callback.bind(S),T,R,E,N),S._checkSessionIFrame.load().then(function(){S._checkSessionIFrame.start(C)})}else s.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(R){s.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",R.message)}))},p.prototype._stop=function(){var w=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(s.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var S=this._timer.setInterval(function(){w._timer.clearInterval(S),w._userManager.querySessionStatus().then(function(C){var R={session_state:C.session_state};C.sub&&C.sid&&(R.profile={sub:C.sub,sid:C.sid}),w._start(R)}).catch(function(C){s.Log.error("SessionMonitor: error from querySessionStatus:",C.message)})},1e3)},p.prototype._callback=function(){var w=this;this._userManager.querySessionStatus().then(function(S){var C=!0;S?S.sub===w._sub?(C=!1,w._checkSessionIFrame.start(S.session_state),S.sid===w._sid?s.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",S.session_state):(s.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",S.session_state),w._userManager.events._raiseUserSessionChanged())):s.Log.debug("SessionMonitor._callback: Different subject signed into OP:",S.sub):s.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),C&&(w._sub?(s.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),w._userManager.events._raiseUserSignedOut()):(s.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),w._userManager.events._raiseUserSignedIn()))}).catch(function(S){w._sub&&(s.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",S.message),w._userManager.events._raiseUserSignedOut())})},l(p,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),p}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.CheckSessionIFrame=void 0;var l=a(0);function s(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}i.CheckSessionIFrame=function(){function u(d,c,p,m){var w=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];s(this,u),this._callback=d,this._client_id=c,this._url=p,this._interval=m||2e3,this._stopOnError=w;var S=p.indexOf("/",p.indexOf("//")+2);this._frame_origin=p.substr(0,S),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=p}return u.prototype.load=function(){var c=this;return new Promise(function(p){c._frame.onload=function(){p()},window.document.body.appendChild(c._frame),c._boundMessageEvent=c._message.bind(c),window.addEventListener("message",c._boundMessageEvent,!1)})},u.prototype._message=function(c){c.origin===this._frame_origin&&c.source===this._frame.contentWindow&&(c.data==="error"?(l.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):c.data==="changed"?(l.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):l.Log.debug("CheckSessionIFrame: "+c.data+" message from check session op iframe"))},u.prototype.start=function(c){var p=this;if(this._session_state!==c){l.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=c;var m=function(){p._frame.contentWindow.postMessage(p._client_id+" "+p._session_state,p._frame_origin)};m(),this._timer=window.setInterval(m,this._interval)}},u.prototype.stop=function(){this._session_state=null,this._timer&&(l.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},u}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.TokenRevocationClient=void 0;var l=a(0),s=a(2),u=a(1);function d(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}var c="access_token",p="refresh_token";i.TokenRevocationClient=function(){function m(w){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.Global.XMLHttpRequest,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.MetadataService;if(d(this,m),!w)throw l.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=w,this._XMLHttpRequestCtor=S,this._metadataService=new C(this._settings)}return m.prototype.revoke=function(S,C){var R=this,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!S)throw l.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(T!==c&&T!=p)throw l.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(E){if(E){l.Log.debug("TokenRevocationClient.revoke: Revoking "+T);var N=R._settings.client_id,O=R._settings.client_secret;return R._revoke(E,N,O,S,T)}if(C)throw l.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},m.prototype._revoke=function(S,C,R,T,E){var N=this;return new Promise(function(O,V){var L=new N._XMLHttpRequestCtor;L.open("POST",S),L.onload=function(){l.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",L.status),L.status===200?O():V(Error(L.statusText+" ("+L.status+")"))},L.onerror=function(){l.Log.debug("TokenRevocationClient.revoke: Network Error."),V("Network Error")};var z="client_id="+encodeURIComponent(C);R&&(z+="&client_secret="+encodeURIComponent(R)),z+="&token_type_hint="+encodeURIComponent(E),z+="&token="+encodeURIComponent(T),L.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),L.send(z)})},m}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.CordovaPopupWindow=void 0;var l=function(){function u(d,c){for(var p=0;p<c.length;p++){var m=c[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,c,p){return c&&u(d.prototype,c),p&&u(d,p),d}}(),s=a(0);i.CordovaPopupWindow=function(){function u(d){var c=this;(function(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")})(this,u),this._promise=new Promise(function(p,m){c._resolve=p,c._reject=m}),this.features=d.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=d.popupWindowTarget||"_blank",this.redirect_uri=d.startUrl,s.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return u.prototype._isInAppBrowserInstalled=function(c){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(p){return c.hasOwnProperty(p)})},u.prototype.navigate=function(c){if(c&&c.url){if(!window.cordova)return this._error("cordova is undefined");var p=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(p)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(c.url,this.target,this.features),this._popup?(s.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},u.prototype._loadStartCallback=function(c){c.url.indexOf(this.redirect_uri)===0&&this._success({url:c.url})},u.prototype._exitCallback=function(c){this._error(c)},u.prototype._success=function(c){this._cleanup(),s.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(c)},u.prototype._error=function(c){this._cleanup(),s.Log.error(c),this._reject(new Error(c))},u.prototype.close=function(){this._cleanup()},u.prototype._cleanup=function(){this._popup&&(s.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},l(u,[{key:"promise",get:function(){return this._promise}}]),u}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0});var l=a(0),s=a(10),u=a(5),d=a(6),c=a(37),p=a(38),m=a(16),w=a(2),S=a(48),C=a(49),R=a(19),T=a(20),E=a(18),N=a(1),O=a(15),V=a(50);i.default={Version:V.Version,Log:l.Log,OidcClient:s.OidcClient,OidcClientSettings:u.OidcClientSettings,WebStorageStateStore:d.WebStorageStateStore,InMemoryWebStorage:c.InMemoryWebStorage,UserManager:p.UserManager,AccessTokenEvents:m.AccessTokenEvents,MetadataService:w.MetadataService,CordovaPopupNavigator:S.CordovaPopupNavigator,CordovaIFrameNavigator:C.CordovaIFrameNavigator,CheckSessionIFrame:R.CheckSessionIFrame,TokenRevocationClient:T.TokenRevocationClient,SessionMonitor:E.SessionMonitor,Global:N.Global,User:O.User},r.exports=i.default},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.ClockService=function(){function l(){(function(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l)}return l.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},l}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.ResponseValidator=void 0;var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},s=a(0),u=a(2),d=a(25),c=a(11),p=a(12),m=a(4);function w(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")}var S=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];i.ResponseValidator=function(){function C(R){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.MetadataService,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.UserInfoService,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:m.JoseUtil,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:c.TokenClient;if(w(this,C),!R)throw s.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=R,this._metadataService=new T(this._settings),this._userInfoService=new E(this._settings),this._joseUtil=N,this._tokenClient=new O(this._settings)}return C.prototype.validateSigninResponse=function(T,E){var N=this;return s.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(T,E).then(function(O){return s.Log.debug("ResponseValidator.validateSigninResponse: state processed"),N._validateTokens(T,O).then(function(V){return s.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),N._processClaims(T,V).then(function(L){return s.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),L})})})},C.prototype.validateSignoutResponse=function(T,E){return T.id!==E.state?(s.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(s.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),E.state=T.data,E.error?(s.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",E.error),Promise.reject(new p.ErrorResponse(E))):Promise.resolve(E))},C.prototype._processSigninParams=function(T,E){if(T.id!==E.state)return s.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!T.client_id)return s.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!T.authority)return s.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==T.authority)return s.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=T.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==T.client_id)return s.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=T.client_id;return s.Log.debug("ResponseValidator._processSigninParams: state validated"),E.state=T.data,E.error?(s.Log.warn("ResponseValidator._processSigninParams: Response was error",E.error),Promise.reject(new p.ErrorResponse(E))):T.nonce&&!E.id_token?(s.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!T.nonce&&E.id_token?(s.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):T.code_verifier&&!E.code?(s.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!T.code_verifier&&E.code?(s.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(E.scope||(E.scope=T.scope),Promise.resolve(E))},C.prototype._processClaims=function(T,E){var N=this;if(E.isOpenIdConnect){if(s.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),E.profile=this._filterProtocolClaims(E.profile),T.skipUserInfo!==!0&&this._settings.loadUserInfo&&E.access_token)return s.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(E.access_token).then(function(O){return s.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),O.sub!==E.profile.sub?(s.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(E.profile=N._mergeClaims(E.profile,O),s.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",E.profile),E)});s.Log.debug("ResponseValidator._processClaims: not loading user info")}else s.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(E)},C.prototype._mergeClaims=function(T,E){var N=Object.assign({},T);for(var O in E){var V=E[O];Array.isArray(V)||(V=[V]);for(var L=0;L<V.length;L++){var z=V[L];N[O]?Array.isArray(N[O])?N[O].indexOf(z)<0&&N[O].push(z):N[O]!==z&&((z===void 0?"undefined":l(z))==="object"&&this._settings.mergeClaims?N[O]=this._mergeClaims(N[O],z):N[O]=[N[O],z]):N[O]=z}}return N},C.prototype._filterProtocolClaims=function(T){s.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",T);var E=Object.assign({},T);return this._settings._filterProtocolClaims?(S.forEach(function(N){delete E[N]}),s.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",E)):s.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),E},C.prototype._validateTokens=function(T,E){return E.code?(s.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(T,E)):E.id_token?E.access_token?(s.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(T,E)):(s.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(T,E)):(s.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(E))},C.prototype._processCode=function(T,E){var N=this,O={client_id:T.client_id,client_secret:T.client_secret,code:E.code,redirect_uri:T.redirect_uri,code_verifier:T.code_verifier};return T.extraTokenParams&&l(T.extraTokenParams)==="object"&&Object.assign(O,T.extraTokenParams),this._tokenClient.exchangeCode(O).then(function(V){for(var L in V)E[L]=V[L];return E.id_token?(s.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),N._validateIdTokenAttributes(T,E)):(s.Log.debug("ResponseValidator._processCode: token response successful, returning response"),E)})},C.prototype._validateIdTokenAttributes=function(T,E){var N=this;return this._metadataService.getIssuer().then(function(O){var V=T.client_id,L=N._settings.clockSkew;return s.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",L),N._settings.getEpochTime().then(function(z){return N._joseUtil.validateJwtAttributes(E.id_token,O,V,L,z).then(function(W){return T.nonce&&T.nonce!==W.nonce?(s.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):W.sub?(E.profile=W,E):(s.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},C.prototype._validateIdTokenAndAccessToken=function(T,E){var N=this;return this._validateIdToken(T,E).then(function(O){return N._validateAccessToken(O)})},C.prototype._getSigningKeyForJwt=function(T){var E=this;return this._metadataService.getSigningKeys().then(function(N){var O=T.header.kid;if(!N)return s.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));s.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var V=void 0;if(O)V=N.filter(function(L){return L.kid===O})[0];else{if((N=E._filterByAlg(N,T.header.alg)).length>1)return s.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));V=N[0]}return Promise.resolve(V)})},C.prototype._getSigningKeyForJwtWithSingleRetry=function(T){var E=this;return this._getSigningKeyForJwt(T).then(function(N){return N?Promise.resolve(N):(E._metadataService.resetSigningKeys(),E._getSigningKeyForJwt(T))})},C.prototype._validateIdToken=function(T,E){var N=this;if(!T.nonce)return s.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var O=this._joseUtil.parseJwt(E.id_token);return O&&O.header&&O.payload?T.nonce!==O.payload.nonce?(s.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(V){return s.Log.debug("ResponseValidator._validateIdToken: Received issuer"),N._getSigningKeyForJwtWithSingleRetry(O).then(function(L){if(!L)return s.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var z=T.client_id,W=N._settings.clockSkew;return s.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",W),N._joseUtil.validateJwt(E.id_token,L,V,z,W).then(function(){return s.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),O.payload.sub?(E.profile=O.payload,E):(s.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(s.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",O),Promise.reject(new Error("Failed to parse id_token")))},C.prototype._filterByAlg=function(T,E){var N=null;if(E.startsWith("RS"))N="RSA";else if(E.startsWith("PS"))N="PS";else{if(!E.startsWith("ES"))return s.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",E),[];N="EC"}return s.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",N),T=T.filter(function(O){return O.kty===N}),s.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",N,T.length),T},C.prototype._validateAccessToken=function(T){if(!T.profile)return s.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!T.profile.at_hash)return s.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!T.id_token)return s.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var E=this._joseUtil.parseJwt(T.id_token);if(!E||!E.header)return s.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",E),Promise.reject(new Error("Failed to parse id_token"));var N=E.header.alg;if(!N||N.length!==5)return s.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",N),Promise.reject(new Error("Unsupported alg: "+N));var O=N.substr(2,3);if(!O)return s.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",N,O),Promise.reject(new Error("Unsupported alg: "+N));if((O=parseInt(O))!==256&&O!==384&&O!==512)return s.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",N,O),Promise.reject(new Error("Unsupported alg: "+N));var V="sha"+O,L=this._joseUtil.hashString(T.access_token,V);if(!L)return s.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",V),Promise.reject(new Error("Failed to validate at_hash"));var z=L.substr(0,L.length/2),W=this._joseUtil.hexToBase64Url(z);return W!==T.profile.at_hash?(s.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",W,T.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(s.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(T))},C}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.UserInfoService=void 0;var l=a(7),s=a(2),u=a(0),d=a(4);function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}i.UserInfoService=function(){function p(m){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.JsonService,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.MetadataService,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d.JoseUtil;if(c(this,p),!m)throw u.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=m,this._jsonService=new w(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new S(this._settings),this._joseUtil=C}return p.prototype.getClaims=function(w){var S=this;return w?this._metadataService.getUserInfoEndpoint().then(function(C){return u.Log.debug("UserInfoService.getClaims: received userinfo url",C),S._jsonService.getJson(C,w).then(function(R){return u.Log.debug("UserInfoService.getClaims: claims received",R),R})}):(u.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},p.prototype._getClaimsFromJwt=function(w){var S=this;try{var C=this._joseUtil.parseJwt(w.responseText);if(!C||!C.header||!C.payload)return u.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",C),Promise.reject(new Error("Failed to parse id_token"));var R=C.header.kid,T=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":T=this._metadataService.getIssuer();break;case"ANY":T=Promise.resolve(C.payload.iss);break;default:T=Promise.resolve(this._settings.userInfoJwtIssuer)}return T.then(function(E){return u.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+E),S._metadataService.getSigningKeys().then(function(N){if(!N)return u.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));u.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var O=void 0;if(R)O=N.filter(function(z){return z.kid===R})[0];else{if((N=S._filterByAlg(N,C.header.alg)).length>1)return u.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));O=N[0]}if(!O)return u.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var V=S._settings.client_id,L=S._settings.clockSkew;return u.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",L),S._joseUtil.validateJwt(w.responseText,O,E,V,L,void 0,!0).then(function(){return u.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),C.payload})})})}catch(E){return u.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",E.message),void reject(E)}},p.prototype._filterByAlg=function(w,S){var C=null;if(S.startsWith("RS"))C="RSA";else if(S.startsWith("PS"))C="PS";else{if(!S.startsWith("ES"))return u.Log.debug("UserInfoService._filterByAlg: alg not supported: ",S),[];C="EC"}return u.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",C),w=w.filter(function(R){return R.kty===C}),u.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",C,w.length),w},p}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.AllowedSigningAlgs=i.b64tohex=i.hextob64u=i.crypto=i.X509=i.KeyUtil=i.jws=void 0;var l=a(27);i.jws=l.jws,i.KeyUtil=l.KEYUTIL,i.X509=l.X509,i.crypto=l.crypto,i.hextob64u=l.hextob64u,i.b64tohex=l.b64tohex,i.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(r,i,a){(function(l){Object.defineProperty(i,"__esModule",{value:!0});var s,u,d,c,p,m,w,S,C,R,T,E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},N={},O={},V=V||(s=Math,d=(u={}).lib={},c=d.Base=function(){function b(){}return{extend:function(A){b.prototype=this;var I=new b;return A&&I.mixIn(A),I.hasOwnProperty("init")||(I.init=function(){I.$super.init.apply(this,arguments)}),I.init.prototype=I,I.$super=this,I},create:function(){var A=this.extend();return A.init.apply(A,arguments),A},init:function(){},mixIn:function(A){for(var I in A)A.hasOwnProperty(I)&&(this[I]=A[I]);A.hasOwnProperty("toString")&&(this.toString=A.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),p=d.WordArray=c.extend({init:function(v,A){v=this.words=v||[],this.sigBytes=A??4*v.length},toString:function(v){return(v||w).stringify(this)},concat:function(v){var A=this.words,I=v.words,B=this.sigBytes,Q=v.sigBytes;if(this.clamp(),B%4)for(var le=0;le<Q;le++){var Se=I[le>>>2]>>>24-le%4*8&255;A[B+le>>>2]|=Se<<24-(B+le)%4*8}else for(le=0;le<Q;le+=4)A[B+le>>>2]=I[le>>>2];return this.sigBytes+=Q,this},clamp:function(){var v=this.words,A=this.sigBytes;v[A>>>2]&=4294967295<<32-A%4*8,v.length=s.ceil(A/4)},clone:function(){var v=c.clone.call(this);return v.words=this.words.slice(0),v},random:function(v){for(var A=[],I=0;I<v;I+=4)A.push(4294967296*s.random()|0);return new p.init(A,v)}}),m=u.enc={},w=m.Hex={stringify:function(v){for(var A=v.words,I=v.sigBytes,B=[],Q=0;Q<I;Q++){var le=A[Q>>>2]>>>24-Q%4*8&255;B.push((le>>>4).toString(16)),B.push((15&le).toString(16))}return B.join("")},parse:function(v){for(var A=v.length,I=[],B=0;B<A;B+=2)I[B>>>3]|=parseInt(v.substr(B,2),16)<<24-B%8*4;return new p.init(I,A/2)}},S=m.Latin1={stringify:function(v){for(var A=v.words,I=v.sigBytes,B=[],Q=0;Q<I;Q++){var le=A[Q>>>2]>>>24-Q%4*8&255;B.push(String.fromCharCode(le))}return B.join("")},parse:function(v){for(var A=v.length,I=[],B=0;B<A;B++)I[B>>>2]|=(255&v.charCodeAt(B))<<24-B%4*8;return new p.init(I,A)}},C=m.Utf8={stringify:function(v){try{return decodeURIComponent(escape(S.stringify(v)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(v){return S.parse(unescape(encodeURIComponent(v)))}},R=d.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new p.init,this._nDataBytes=0},_append:function(v){typeof v=="string"&&(v=C.parse(v)),this._data.concat(v),this._nDataBytes+=v.sigBytes},_process:function(v){var A=this._data,I=A.words,B=A.sigBytes,Q=this.blockSize,le=B/(4*Q),Se=(le=v?s.ceil(le):s.max((0|le)-this._minBufferSize,0))*Q,ye=s.min(4*Se,B);if(Se){for(var we=0;we<Se;we+=Q)this._doProcessBlock(I,we);var Te=I.splice(0,Se);A.sigBytes-=ye}return new p.init(Te,ye)},clone:function(){var v=c.clone.call(this);return v._data=this._data.clone(),v},_minBufferSize:0}),d.Hasher=R.extend({cfg:c.extend(),init:function(v){this.cfg=this.cfg.extend(v),this.reset()},reset:function(){R.reset.call(this),this._doReset()},update:function(v){return this._append(v),this._process(),this},finalize:function(v){return v&&this._append(v),this._doFinalize()},blockSize:16,_createHelper:function(v){return function(A,I){return new v.init(I).finalize(A)}},_createHmacHelper:function(v){return function(A,I){return new T.HMAC.init(v,I).finalize(A)}}}),T=u.algo={},u);(function(b){var v,A=(v=V).lib,I=A.Base,B=A.WordArray;(v=v.x64={}).Word=I.extend({init:function(le,Se){this.high=le,this.low=Se}}),v.WordArray=I.extend({init:function(le,Se){le=this.words=le||[],this.sigBytes=Se??8*le.length},toX32:function(){for(var le=this.words,Se=le.length,ye=[],we=0;we<Se;we++){var Te=le[we];ye.push(Te.high),ye.push(Te.low)}return B.create(ye,this.sigBytes)},clone:function(){for(var le=I.clone.call(this),Se=le.words=this.words.slice(0),ye=Se.length,we=0;we<ye;we++)Se[we]=Se[we].clone();return le}})})(),function(){var b=V,v=b.lib.WordArray;b.enc.Base64={stringify:function(I){var B=I.words,Q=I.sigBytes,le=this._map;I.clamp(),I=[];for(var Se=0;Se<Q;Se+=3)for(var ye=(B[Se>>>2]>>>24-Se%4*8&255)<<16|(B[Se+1>>>2]>>>24-(Se+1)%4*8&255)<<8|B[Se+2>>>2]>>>24-(Se+2)%4*8&255,we=0;4>we&&Se+.75*we<Q;we++)I.push(le.charAt(ye>>>6*(3-we)&63));if(B=le.charAt(64))for(;I.length%4;)I.push(B);return I.join("")},parse:function(I){var B=I.length,Q=this._map;(le=Q.charAt(64))&&(le=I.indexOf(le))!=-1&&(B=le);for(var le=[],Se=0,ye=0;ye<B;ye++)if(ye%4){var we=Q.indexOf(I.charAt(ye-1))<<ye%4*2,Te=Q.indexOf(I.charAt(ye))>>>6-ye%4*2;le[Se>>>2]|=(we|Te)<<24-Se%4*8,Se++}return v.create(le,Se)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(b){for(var v=V,A=(B=v.lib).WordArray,I=B.Hasher,B=v.algo,Q=[],le=[],Se=function(yt){return 4294967296*(yt-(0|yt))|0},ye=2,we=0;64>we;){var Te;e:{Te=ye;for(var Oe=b.sqrt(Te),ke=2;ke<=Oe;ke++)if(!(Te%ke)){Te=!1;break e}Te=!0}Te&&(8>we&&(Q[we]=Se(b.pow(ye,.5))),le[we]=Se(b.pow(ye,1/3)),we++),ye++}var ze=[];B=B.SHA256=I.extend({_doReset:function(){this._hash=new A.init(Q.slice(0))},_doProcessBlock:function(yt,Et){for(var oe=this._hash.words,Ae=oe[0],De=oe[1],Le=oe[2],ht=oe[3],At=oe[4],dn=oe[5],Bt=oe[6],Yn=oe[7],un=0;64>un;un++){if(16>un)ze[un]=0|yt[Et+un];else{var gn=ze[un-15],ar=ze[un-2];ze[un]=((gn<<25|gn>>>7)^(gn<<14|gn>>>18)^gn>>>3)+ze[un-7]+((ar<<15|ar>>>17)^(ar<<13|ar>>>19)^ar>>>10)+ze[un-16]}gn=Yn+((At<<26|At>>>6)^(At<<21|At>>>11)^(At<<7|At>>>25))+(At&dn^~At&Bt)+le[un]+ze[un],ar=((Ae<<30|Ae>>>2)^(Ae<<19|Ae>>>13)^(Ae<<10|Ae>>>22))+(Ae&De^Ae&Le^De&Le),Yn=Bt,Bt=dn,dn=At,At=ht+gn|0,ht=Le,Le=De,De=Ae,Ae=gn+ar|0}oe[0]=oe[0]+Ae|0,oe[1]=oe[1]+De|0,oe[2]=oe[2]+Le|0,oe[3]=oe[3]+ht|0,oe[4]=oe[4]+At|0,oe[5]=oe[5]+dn|0,oe[6]=oe[6]+Bt|0,oe[7]=oe[7]+Yn|0},_doFinalize:function(){var yt=this._data,Et=yt.words,oe=8*this._nDataBytes,Ae=8*yt.sigBytes;return Et[Ae>>>5]|=128<<24-Ae%32,Et[14+(Ae+64>>>9<<4)]=b.floor(oe/4294967296),Et[15+(Ae+64>>>9<<4)]=oe,yt.sigBytes=4*Et.length,this._process(),this._hash},clone:function(){var yt=I.clone.call(this);return yt._hash=this._hash.clone(),yt}}),v.SHA256=I._createHelper(B),v.HmacSHA256=I._createHmacHelper(B)}(Math),function(){function b(){return I.create.apply(I,arguments)}for(var v=V,A=v.lib.Hasher,I=(Q=v.x64).Word,B=Q.WordArray,Q=v.algo,le=[b(1116352408,3609767458),b(1899447441,602891725),b(3049323471,3964484399),b(3921009573,2173295548),b(961987163,4081628472),b(1508970993,3053834265),b(2453635748,2937671579),b(2870763221,3664609560),b(3624381080,2734883394),b(310598401,1164996542),b(607225278,1323610764),b(1426881987,3590304994),b(1925078388,4068182383),b(2162078206,991336113),b(2614888103,633803317),b(3248222580,3479774868),b(3835390401,2666613458),b(4022224774,944711139),b(264347078,2341262773),b(604807628,2007800933),b(770255983,1495990901),b(1249150122,1856431235),b(1555081692,3175218132),b(1996064986,2198950837),b(2554220882,3999719339),b(2821834349,766784016),b(2952996808,2566594879),b(3210313671,3203337956),b(3336571891,1034457026),b(3584528711,2466948901),b(113926993,3758326383),b(338241895,168717936),b(666307205,1188179964),b(773529912,1546045734),b(1294757372,1522805485),b(1396182291,2643833823),b(1695183700,2343527390),b(1986661051,1014477480),b(2177026350,1206759142),b(2456956037,344077627),b(2730485921,1290863460),b(2820302411,3158454273),b(3259730800,3505952657),b(3345764771,106217008),b(3516065817,3606008344),b(3600352804,1432725776),b(4094571909,1467031594),b(275423344,851169720),b(430227734,3100823752),b(506948616,1363258195),b(659060556,3750685593),b(883997877,3785050280),b(958139571,3318307427),b(1322822218,3812723403),b(1537002063,2003034995),b(1747873779,3602036899),b(1955562222,1575990012),b(2024104815,1125592928),b(2227730452,2716904306),b(2361852424,442776044),b(2428436474,593698344),b(2756734187,3733110249),b(3204031479,2999351573),b(3329325298,3815920427),b(3391569614,3928383900),b(3515267271,566280711),b(3940187606,3454069534),b(4118630271,4000239992),b(116418474,1914138554),b(174292421,2731055270),b(289380356,3203993006),b(460393269,320620315),b(685471733,587496836),b(852142971,1086792851),b(1017036298,365543100),b(1126000580,2618297676),b(1288033470,3409855158),b(1501505948,4234509866),b(1607167915,987167468),b(1816402316,1246189591)],Se=[],ye=0;80>ye;ye++)Se[ye]=b();Q=Q.SHA512=A.extend({_doReset:function(){this._hash=new B.init([new I.init(1779033703,4089235720),new I.init(3144134277,2227873595),new I.init(1013904242,4271175723),new I.init(2773480762,1595750129),new I.init(1359893119,2917565137),new I.init(2600822924,725511199),new I.init(528734635,4215389547),new I.init(1541459225,327033209)])},_doProcessBlock:function(Te,Oe){for(var ke=(De=this._hash.words)[0],ze=De[1],st=De[2],yt=De[3],Et=De[4],oe=De[5],Ae=De[6],De=De[7],Le=ke.high,ht=ke.low,At=ze.high,dn=ze.low,Bt=st.high,Yn=st.low,un=yt.high,gn=yt.low,ar=Et.high,hn=Et.low,or=oe.high,rr=oe.low,Dr=Ae.high,tr=Ae.low,ir=De.high,Er=De.low,Cn=Le,Yr=ht,Mi=At,ha=dn,Mr=Bt,na=Yn,lo=un,Co=gn,Or=ar,ei=hn,Va=or,ti=rr,ms=Dr,xa=tr,M=ir,te=Er,ae=0;80>ae;ae++){var de=Se[ae];if(16>ae)var je=de.high=0|Te[Oe+2*ae],be=de.low=0|Te[Oe+2*ae+1];else{je=((be=(je=Se[ae-15]).high)>>>1|($e=je.low)<<31)^(be>>>8|$e<<24)^be>>>7;var $e=($e>>>1|be<<31)^($e>>>8|be<<24)^($e>>>7|be<<25),Rt=((be=(Rt=Se[ae-2]).high)>>>19|(_t=Rt.low)<<13)^(be<<3|_t>>>29)^be>>>6,_t=(_t>>>19|be<<13)^(_t<<3|be>>>29)^(_t>>>6|be<<26),Pt=(be=Se[ae-7]).high,qt=(Vt=Se[ae-16]).high,Vt=Vt.low;je=(je=(je=je+Pt+((be=$e+be.low)>>>0<$e>>>0?1:0))+Rt+((be=be+_t)>>>0<_t>>>0?1:0))+qt+((be=be+Vt)>>>0<Vt>>>0?1:0),de.high=je,de.low=be}Pt=Or&Va^~Or&ms,Vt=ei&ti^~ei&xa,de=Cn&Mi^Cn&Mr^Mi&Mr;var Wt=Yr&ha^Yr&na^ha&na,Lt=($e=(Cn>>>28|Yr<<4)^(Cn<<30|Yr>>>2)^(Cn<<25|Yr>>>7),Rt=(Yr>>>28|Cn<<4)^(Yr<<30|Cn>>>2)^(Yr<<25|Cn>>>7),(_t=le[ae]).high),Jt=_t.low;qt=M+((Or>>>14|ei<<18)^(Or>>>18|ei<<14)^(Or<<23|ei>>>9))+((_t=te+((ei>>>14|Or<<18)^(ei>>>18|Or<<14)^(ei<<23|Or>>>9)))>>>0<te>>>0?1:0),M=ms,te=xa,ms=Va,xa=ti,Va=Or,ti=ei,Or=lo+(qt=(qt=(qt=qt+Pt+((_t=_t+Vt)>>>0<Vt>>>0?1:0))+Lt+((_t=_t+Jt)>>>0<Jt>>>0?1:0))+je+((_t=_t+be)>>>0<be>>>0?1:0))+((ei=Co+_t|0)>>>0<Co>>>0?1:0)|0,lo=Mr,Co=na,Mr=Mi,na=ha,Mi=Cn,ha=Yr,Cn=qt+(de=$e+de+((be=Rt+Wt)>>>0<Rt>>>0?1:0))+((Yr=_t+be|0)>>>0<_t>>>0?1:0)|0}ht=ke.low=ht+Yr,ke.high=Le+Cn+(ht>>>0<Yr>>>0?1:0),dn=ze.low=dn+ha,ze.high=At+Mi+(dn>>>0<ha>>>0?1:0),Yn=st.low=Yn+na,st.high=Bt+Mr+(Yn>>>0<na>>>0?1:0),gn=yt.low=gn+Co,yt.high=un+lo+(gn>>>0<Co>>>0?1:0),hn=Et.low=hn+ei,Et.high=ar+Or+(hn>>>0<ei>>>0?1:0),rr=oe.low=rr+ti,oe.high=or+Va+(rr>>>0<ti>>>0?1:0),tr=Ae.low=tr+xa,Ae.high=Dr+ms+(tr>>>0<xa>>>0?1:0),Er=De.low=Er+te,De.high=ir+M+(Er>>>0<te>>>0?1:0)},_doFinalize:function(){var Te=this._data,Oe=Te.words,ke=8*this._nDataBytes,ze=8*Te.sigBytes;return Oe[ze>>>5]|=128<<24-ze%32,Oe[30+(ze+128>>>10<<5)]=Math.floor(ke/4294967296),Oe[31+(ze+128>>>10<<5)]=ke,Te.sigBytes=4*Oe.length,this._process(),this._hash.toX32()},clone:function(){var Te=A.clone.call(this);return Te._hash=this._hash.clone(),Te},blockSize:32}),v.SHA512=A._createHelper(Q),v.HmacSHA512=A._createHmacHelper(Q)}(),function(){var b=V,v=(B=b.x64).Word,A=B.WordArray,I=(B=b.algo).SHA512,B=B.SHA384=I.extend({_doReset:function(){this._hash=new A.init([new v.init(3418070365,3238371032),new v.init(1654270250,914150663),new v.init(2438529370,812702999),new v.init(355462360,4144912697),new v.init(1731405415,4290775857),new v.init(2394180231,1750603025),new v.init(3675008525,1694076839),new v.init(1203062813,3204075428)])},_doFinalize:function(){var le=I._doFinalize.call(this);return le.sigBytes-=16,le}});b.SHA384=I._createHelper(B),b.HmacSHA384=I._createHmacHelper(B)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var L,z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function W(b){var v,A,I="";for(v=0;v+3<=b.length;v+=3)A=parseInt(b.substring(v,v+3),16),I+=z.charAt(A>>6)+z.charAt(63&A);for(v+1==b.length?(A=parseInt(b.substring(v,v+1),16),I+=z.charAt(A<<2)):v+2==b.length&&(A=parseInt(b.substring(v,v+2),16),I+=z.charAt(A>>2)+z.charAt((3&A)<<4)),"=";(3&I.length)>0;)I+="=";return I}function $(b){var v,A,I,B="",Q=0;for(v=0;v<b.length&&b.charAt(v)!="=";++v)(I=z.indexOf(b.charAt(v)))<0||(Q==0?(B+=rt(I>>2),A=3&I,Q=1):Q==1?(B+=rt(A<<2|I>>4),A=15&I,Q=2):Q==2?(B+=rt(A),B+=rt(I>>2),A=3&I,Q=3):(B+=rt(A<<2|I>>4),B+=rt(15&I),Q=0));return Q==1&&(B+=rt(A<<2)),B}function Ce(b){var v,A=$(b),I=new Array;for(v=0;2*v<A.length;++v)I[v]=parseInt(A.substring(2*v,2*v+2),16);return I}function K(b,v,A){b!=null&&(typeof b=="number"?this.fromNumber(b,v,A):v==null&&typeof b!="string"?this.fromString(b,256):this.fromString(b,v))}function re(){return new K(null)}N.appName=="Microsoft Internet Explorer"?(K.prototype.am=function(v,A,I,B,Q,le){for(var Se=32767&A,ye=A>>15;--le>=0;){var we=32767&this[v],Te=this[v++]>>15,Oe=ye*we+Te*Se;Q=((we=Se*we+((32767&Oe)<<15)+I[B]+(1073741823&Q))>>>30)+(Oe>>>15)+ye*Te+(Q>>>30),I[B++]=1073741823&we}return Q},L=30):N.appName!="Netscape"?(K.prototype.am=function(v,A,I,B,Q,le){for(;--le>=0;){var Se=A*this[v++]+I[B]+Q;Q=Math.floor(Se/67108864),I[B++]=67108863&Se}return Q},L=26):(K.prototype.am=function(v,A,I,B,Q,le){for(var Se=16383&A,ye=A>>14;--le>=0;){var we=16383&this[v],Te=this[v++]>>14,Oe=ye*we+Te*Se;Q=((we=Se*we+((16383&Oe)<<14)+I[B]+Q)>>28)+(Oe>>14)+ye*Te,I[B++]=268435455&we}return Q},L=28),K.prototype.DB=L,K.prototype.DM=(1<<L)-1,K.prototype.DV=1<<L,K.prototype.FV=Math.pow(2,52),K.prototype.F1=52-L,K.prototype.F2=2*L-52;var pe,_e,et=new Array;for(pe=48,_e=0;_e<=9;++_e)et[pe++]=_e;for(pe=97,_e=10;_e<36;++_e)et[pe++]=_e;for(pe=65,_e=10;_e<36;++_e)et[pe++]=_e;function rt(b){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(b)}function xe(b,v){var A=et[b.charCodeAt(v)];return A??-1}function lt(b){var v=re();return v.fromInt(b),v}function he(b){var v,A=1;return(v=b>>>16)!=0&&(b=v,A+=16),(v=b>>8)!=0&&(b=v,A+=8),(v=b>>4)!=0&&(b=v,A+=4),(v=b>>2)!=0&&(b=v,A+=2),(v=b>>1)!=0&&(b=v,A+=1),A}function nt(b){this.m=b}function Y(b){this.m=b,this.mp=b.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<b.DB-15)-1,this.mt2=2*b.t}function Re(b,v){return b&v}function Ke(b,v){return b|v}function Ue(b,v){return b^v}function at(b,v){return b&~v}function It(b){if(b==0)return-1;var v=0;return(65535&b)==0&&(b>>=16,v+=16),(255&b)==0&&(b>>=8,v+=8),(15&b)==0&&(b>>=4,v+=4),(3&b)==0&&(b>>=2,v+=2),(1&b)==0&&++v,v}function Nt(b){for(var v=0;b!=0;)b&=b-1,++v;return v}function Me(){}function ue(b){return b}function Ie(b){this.r2=re(),this.q3=re(),K.ONE.dlShiftTo(2*b.t,this.r2),this.mu=this.r2.divide(b),this.m=b}nt.prototype.convert=function(v){return v.s<0||v.compareTo(this.m)>=0?v.mod(this.m):v},nt.prototype.revert=function(v){return v},nt.prototype.reduce=function(v){v.divRemTo(this.m,null,v)},nt.prototype.mulTo=function(v,A,I){v.multiplyTo(A,I),this.reduce(I)},nt.prototype.sqrTo=function(v,A){v.squareTo(A),this.reduce(A)},Y.prototype.convert=function(v){var A=re();return v.abs().dlShiftTo(this.m.t,A),A.divRemTo(this.m,null,A),v.s<0&&A.compareTo(K.ZERO)>0&&this.m.subTo(A,A),A},Y.prototype.revert=function(v){var A=re();return v.copyTo(A),this.reduce(A),A},Y.prototype.reduce=function(v){for(;v.t<=this.mt2;)v[v.t++]=0;for(var A=0;A<this.m.t;++A){var I=32767&v[A],B=I*this.mpl+((I*this.mph+(v[A]>>15)*this.mpl&this.um)<<15)&v.DM;for(v[I=A+this.m.t]+=this.m.am(0,B,v,A,0,this.m.t);v[I]>=v.DV;)v[I]-=v.DV,v[++I]++}v.clamp(),v.drShiftTo(this.m.t,v),v.compareTo(this.m)>=0&&v.subTo(this.m,v)},Y.prototype.mulTo=function(v,A,I){v.multiplyTo(A,I),this.reduce(I)},Y.prototype.sqrTo=function(v,A){v.squareTo(A),this.reduce(A)},K.prototype.copyTo=function(v){for(var A=this.t-1;A>=0;--A)v[A]=this[A];v.t=this.t,v.s=this.s},K.prototype.fromInt=function(v){this.t=1,this.s=v<0?-1:0,v>0?this[0]=v:v<-1?this[0]=v+this.DV:this.t=0},K.prototype.fromString=function(v,A){var I;if(A==16)I=4;else if(A==8)I=3;else if(A==256)I=8;else if(A==2)I=1;else if(A==32)I=5;else{if(A!=4)return void this.fromRadix(v,A);I=2}this.t=0,this.s=0;for(var B=v.length,Q=!1,le=0;--B>=0;){var Se=I==8?255&v[B]:xe(v,B);Se<0?v.charAt(B)=="-"&&(Q=!0):(Q=!1,le==0?this[this.t++]=Se:le+I>this.DB?(this[this.t-1]|=(Se&(1<<this.DB-le)-1)<<le,this[this.t++]=Se>>this.DB-le):this[this.t-1]|=Se<<le,(le+=I)>=this.DB&&(le-=this.DB))}I==8&&(128&v[0])!=0&&(this.s=-1,le>0&&(this[this.t-1]|=(1<<this.DB-le)-1<<le)),this.clamp(),Q&&K.ZERO.subTo(this,this)},K.prototype.clamp=function(){for(var v=this.s&this.DM;this.t>0&&this[this.t-1]==v;)--this.t},K.prototype.dlShiftTo=function(v,A){var I;for(I=this.t-1;I>=0;--I)A[I+v]=this[I];for(I=v-1;I>=0;--I)A[I]=0;A.t=this.t+v,A.s=this.s},K.prototype.drShiftTo=function(v,A){for(var I=v;I<this.t;++I)A[I-v]=this[I];A.t=Math.max(this.t-v,0),A.s=this.s},K.prototype.lShiftTo=function(v,A){var I,B=v%this.DB,Q=this.DB-B,le=(1<<Q)-1,Se=Math.floor(v/this.DB),ye=this.s<<B&this.DM;for(I=this.t-1;I>=0;--I)A[I+Se+1]=this[I]>>Q|ye,ye=(this[I]&le)<<B;for(I=Se-1;I>=0;--I)A[I]=0;A[Se]=ye,A.t=this.t+Se+1,A.s=this.s,A.clamp()},K.prototype.rShiftTo=function(v,A){A.s=this.s;var I=Math.floor(v/this.DB);if(I>=this.t)A.t=0;else{var B=v%this.DB,Q=this.DB-B,le=(1<<B)-1;A[0]=this[I]>>B;for(var Se=I+1;Se<this.t;++Se)A[Se-I-1]|=(this[Se]&le)<<Q,A[Se-I]=this[Se]>>B;B>0&&(A[this.t-I-1]|=(this.s&le)<<Q),A.t=this.t-I,A.clamp()}},K.prototype.subTo=function(v,A){for(var I=0,B=0,Q=Math.min(v.t,this.t);I<Q;)B+=this[I]-v[I],A[I++]=B&this.DM,B>>=this.DB;if(v.t<this.t){for(B-=v.s;I<this.t;)B+=this[I],A[I++]=B&this.DM,B>>=this.DB;B+=this.s}else{for(B+=this.s;I<v.t;)B-=v[I],A[I++]=B&this.DM,B>>=this.DB;B-=v.s}A.s=B<0?-1:0,B<-1?A[I++]=this.DV+B:B>0&&(A[I++]=B),A.t=I,A.clamp()},K.prototype.multiplyTo=function(v,A){var I=this.abs(),B=v.abs(),Q=I.t;for(A.t=Q+B.t;--Q>=0;)A[Q]=0;for(Q=0;Q<B.t;++Q)A[Q+I.t]=I.am(0,B[Q],A,Q,0,I.t);A.s=0,A.clamp(),this.s!=v.s&&K.ZERO.subTo(A,A)},K.prototype.squareTo=function(v){for(var A=this.abs(),I=v.t=2*A.t;--I>=0;)v[I]=0;for(I=0;I<A.t-1;++I){var B=A.am(I,A[I],v,2*I,0,1);(v[I+A.t]+=A.am(I+1,2*A[I],v,2*I+1,B,A.t-I-1))>=A.DV&&(v[I+A.t]-=A.DV,v[I+A.t+1]=1)}v.t>0&&(v[v.t-1]+=A.am(I,A[I],v,2*I,0,1)),v.s=0,v.clamp()},K.prototype.divRemTo=function(v,A,I){var B=v.abs();if(!(B.t<=0)){var Q=this.abs();if(Q.t<B.t)return A?.fromInt(0),void(I!=null&&this.copyTo(I));I==null&&(I=re());var le=re(),Se=this.s,ye=v.s,we=this.DB-he(B[B.t-1]);we>0?(B.lShiftTo(we,le),Q.lShiftTo(we,I)):(B.copyTo(le),Q.copyTo(I));var Te=le.t,Oe=le[Te-1];if(Oe!=0){var ke=Oe*(1<<this.F1)+(Te>1?le[Te-2]>>this.F2:0),ze=this.FV/ke,st=(1<<this.F1)/ke,yt=1<<this.F2,Et=I.t,oe=Et-Te,Ae=A??re();for(le.dlShiftTo(oe,Ae),I.compareTo(Ae)>=0&&(I[I.t++]=1,I.subTo(Ae,I)),K.ONE.dlShiftTo(Te,Ae),Ae.subTo(le,le);le.t<Te;)le[le.t++]=0;for(;--oe>=0;){var De=I[--Et]==Oe?this.DM:Math.floor(I[Et]*ze+(I[Et-1]+yt)*st);if((I[Et]+=le.am(0,De,I,oe,0,Te))<De)for(le.dlShiftTo(oe,Ae),I.subTo(Ae,I);I[Et]<--De;)I.subTo(Ae,I)}A!=null&&(I.drShiftTo(Te,A),Se!=ye&&K.ZERO.subTo(A,A)),I.t=Te,I.clamp(),we>0&&I.rShiftTo(we,I),Se<0&&K.ZERO.subTo(I,I)}}},K.prototype.invDigit=function(){if(this.t<1)return 0;var v=this[0];if((1&v)==0)return 0;var A=3&v;return(A=(A=(A=(A=A*(2-(15&v)*A)&15)*(2-(255&v)*A)&255)*(2-((65535&v)*A&65535))&65535)*(2-v*A%this.DV)%this.DV)>0?this.DV-A:-A},K.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},K.prototype.exp=function(v,A){if(v>4294967295||v<1)return K.ONE;var I=re(),B=re(),Q=A.convert(this),le=he(v)-1;for(Q.copyTo(I);--le>=0;)if(A.sqrTo(I,B),(v&1<<le)>0)A.mulTo(B,Q,I);else{var Se=I;I=B,B=Se}return A.revert(I)},K.prototype.toString=function(v){if(this.s<0)return"-"+this.negate().toString(v);var A;if(v==16)A=4;else if(v==8)A=3;else if(v==2)A=1;else if(v==32)A=5;else{if(v!=4)return this.toRadix(v);A=2}var I,B=(1<<A)-1,Q=!1,le="",Se=this.t,ye=this.DB-Se*this.DB%A;if(Se-- >0)for(ye<this.DB&&(I=this[Se]>>ye)>0&&(Q=!0,le=rt(I));Se>=0;)ye<A?(I=(this[Se]&(1<<ye)-1)<<A-ye,I|=this[--Se]>>(ye+=this.DB-A)):(I=this[Se]>>(ye-=A)&B,ye<=0&&(ye+=this.DB,--Se)),I>0&&(Q=!0),Q&&(le+=rt(I));return Q?le:"0"},K.prototype.negate=function(){var v=re();return K.ZERO.subTo(this,v),v},K.prototype.abs=function(){return this.s<0?this.negate():this},K.prototype.compareTo=function(v){var A=this.s-v.s;if(A!=0)return A;var I=this.t;if((A=I-v.t)!=0)return this.s<0?-A:A;for(;--I>=0;)if((A=this[I]-v[I])!=0)return A;return 0},K.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+he(this[this.t-1]^this.s&this.DM)},K.prototype.mod=function(v){var A=re();return this.abs().divRemTo(v,null,A),this.s<0&&A.compareTo(K.ZERO)>0&&v.subTo(A,A),A},K.prototype.modPowInt=function(v,A){var I;return I=v<256||A.isEven()?new nt(A):new Y(A),this.exp(v,I)},K.ZERO=lt(0),K.ONE=lt(1),Me.prototype.convert=ue,Me.prototype.revert=ue,Me.prototype.mulTo=function(v,A,I){v.multiplyTo(A,I)},Me.prototype.sqrTo=function(v,A){v.squareTo(A)},Ie.prototype.convert=function(v){if(v.s<0||v.t>2*this.m.t)return v.mod(this.m);if(v.compareTo(this.m)<0)return v;var A=re();return v.copyTo(A),this.reduce(A),A},Ie.prototype.revert=function(v){return v},Ie.prototype.reduce=function(v){for(v.drShiftTo(this.m.t-1,this.r2),v.t>this.m.t+1&&(v.t=this.m.t+1,v.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);v.compareTo(this.r2)<0;)v.dAddOffset(1,this.m.t+1);for(v.subTo(this.r2,v);v.compareTo(this.m)>=0;)v.subTo(this.m,v)},Ie.prototype.mulTo=function(v,A,I){v.multiplyTo(A,I),this.reduce(I)},Ie.prototype.sqrTo=function(v,A){v.squareTo(A),this.reduce(A)};var Ye=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],se=(1<<26)/Ye[Ye.length-1];/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function k(){this.i=0,this.j=0,this.S=new Array}K.prototype.chunkSize=function(v){return Math.floor(Math.LN2*this.DB/Math.log(v))},K.prototype.toRadix=function(v){if(v==null&&(v=10),this.signum()==0||v<2||v>36)return"0";var A=this.chunkSize(v),I=Math.pow(v,A),B=lt(I),Q=re(),le=re(),Se="";for(this.divRemTo(B,Q,le);Q.signum()>0;)Se=(I+le.intValue()).toString(v).substr(1)+Se,Q.divRemTo(B,Q,le);return le.intValue().toString(v)+Se},K.prototype.fromRadix=function(v,A){this.fromInt(0),A==null&&(A=10);for(var I=this.chunkSize(A),B=Math.pow(A,I),Q=!1,le=0,Se=0,ye=0;ye<v.length;++ye){var we=xe(v,ye);we<0?v.charAt(ye)=="-"&&this.signum()==0&&(Q=!0):(Se=A*Se+we,++le>=I&&(this.dMultiply(B),this.dAddOffset(Se,0),le=0,Se=0))}le>0&&(this.dMultiply(Math.pow(A,le)),this.dAddOffset(Se,0)),Q&&K.ZERO.subTo(this,this)},K.prototype.fromNumber=function(v,A,I){if(typeof A=="number")if(v<2)this.fromInt(1);else for(this.fromNumber(v,I),this.testBit(v-1)||this.bitwiseTo(K.ONE.shiftLeft(v-1),Ke,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(A);)this.dAddOffset(2,0),this.bitLength()>v&&this.subTo(K.ONE.shiftLeft(v-1),this);else{var B=new Array,Q=7&v;B.length=1+(v>>3),A.nextBytes(B),Q>0?B[0]&=(1<<Q)-1:B[0]=0,this.fromString(B,256)}},K.prototype.bitwiseTo=function(v,A,I){var B,Q,le=Math.min(v.t,this.t);for(B=0;B<le;++B)I[B]=A(this[B],v[B]);if(v.t<this.t){for(Q=v.s&this.DM,B=le;B<this.t;++B)I[B]=A(this[B],Q);I.t=this.t}else{for(Q=this.s&this.DM,B=le;B<v.t;++B)I[B]=A(Q,v[B]);I.t=v.t}I.s=A(this.s,v.s),I.clamp()},K.prototype.changeBit=function(v,A){var I=K.ONE.shiftLeft(v);return this.bitwiseTo(I,A,I),I},K.prototype.addTo=function(v,A){for(var I=0,B=0,Q=Math.min(v.t,this.t);I<Q;)B+=this[I]+v[I],A[I++]=B&this.DM,B>>=this.DB;if(v.t<this.t){for(B+=v.s;I<this.t;)B+=this[I],A[I++]=B&this.DM,B>>=this.DB;B+=this.s}else{for(B+=this.s;I<v.t;)B+=v[I],A[I++]=B&this.DM,B>>=this.DB;B+=v.s}A.s=B<0?-1:0,B>0?A[I++]=B:B<-1&&(A[I++]=this.DV+B),A.t=I,A.clamp()},K.prototype.dMultiply=function(v){this[this.t]=this.am(0,v-1,this,0,0,this.t),++this.t,this.clamp()},K.prototype.dAddOffset=function(v,A){if(v!=0){for(;this.t<=A;)this[this.t++]=0;for(this[A]+=v;this[A]>=this.DV;)this[A]-=this.DV,++A>=this.t&&(this[this.t++]=0),++this[A]}},K.prototype.multiplyLowerTo=function(v,A,I){var B,Q=Math.min(this.t+v.t,A);for(I.s=0,I.t=Q;Q>0;)I[--Q]=0;for(B=I.t-this.t;Q<B;++Q)I[Q+this.t]=this.am(0,v[Q],I,Q,0,this.t);for(B=Math.min(v.t,A);Q<B;++Q)this.am(0,v[Q],I,Q,0,A-Q);I.clamp()},K.prototype.multiplyUpperTo=function(v,A,I){--A;var B=I.t=this.t+v.t-A;for(I.s=0;--B>=0;)I[B]=0;for(B=Math.max(A-this.t,0);B<v.t;++B)I[this.t+B-A]=this.am(A-B,v[B],I,0,0,this.t+B-A);I.clamp(),I.drShiftTo(1,I)},K.prototype.modInt=function(v){if(v<=0)return 0;var A=this.DV%v,I=this.s<0?v-1:0;if(this.t>0)if(A==0)I=this[0]%v;else for(var B=this.t-1;B>=0;--B)I=(A*I+this[B])%v;return I},K.prototype.millerRabin=function(v){var A=this.subtract(K.ONE),I=A.getLowestSetBit();if(I<=0)return!1;var B=A.shiftRight(I);(v=v+1>>1)>Ye.length&&(v=Ye.length);for(var Q=re(),le=0;le<v;++le){Q.fromInt(Ye[Math.floor(Math.random()*Ye.length)]);var Se=Q.modPow(B,this);if(Se.compareTo(K.ONE)!=0&&Se.compareTo(A)!=0){for(var ye=1;ye++<I&&Se.compareTo(A)!=0;)if((Se=Se.modPowInt(2,this)).compareTo(K.ONE)==0)return!1;if(Se.compareTo(A)!=0)return!1}}return!0},K.prototype.clone=function(){var v=re();return this.copyTo(v),v},K.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},K.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},K.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},K.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},K.prototype.toByteArray=function(){var v=this.t,A=new Array;A[0]=this.s;var I,B=this.DB-v*this.DB%8,Q=0;if(v-- >0)for(B<this.DB&&(I=this[v]>>B)!=(this.s&this.DM)>>B&&(A[Q++]=I|this.s<<this.DB-B);v>=0;)B<8?(I=(this[v]&(1<<B)-1)<<8-B,I|=this[--v]>>(B+=this.DB-8)):(I=this[v]>>(B-=8)&255,B<=0&&(B+=this.DB,--v)),(128&I)!=0&&(I|=-256),Q==0&&(128&this.s)!=(128&I)&&++Q,(Q>0||I!=this.s)&&(A[Q++]=I);return A},K.prototype.equals=function(v){return this.compareTo(v)==0},K.prototype.min=function(v){return this.compareTo(v)<0?this:v},K.prototype.max=function(v){return this.compareTo(v)>0?this:v},K.prototype.and=function(v){var A=re();return this.bitwiseTo(v,Re,A),A},K.prototype.or=function(v){var A=re();return this.bitwiseTo(v,Ke,A),A},K.prototype.xor=function(v){var A=re();return this.bitwiseTo(v,Ue,A),A},K.prototype.andNot=function(v){var A=re();return this.bitwiseTo(v,at,A),A},K.prototype.not=function(){for(var v=re(),A=0;A<this.t;++A)v[A]=this.DM&~this[A];return v.t=this.t,v.s=~this.s,v},K.prototype.shiftLeft=function(v){var A=re();return v<0?this.rShiftTo(-v,A):this.lShiftTo(v,A),A},K.prototype.shiftRight=function(v){var A=re();return v<0?this.lShiftTo(-v,A):this.rShiftTo(v,A),A},K.prototype.getLowestSetBit=function(){for(var v=0;v<this.t;++v)if(this[v]!=0)return v*this.DB+It(this[v]);return this.s<0?this.t*this.DB:-1},K.prototype.bitCount=function(){for(var v=0,A=this.s&this.DM,I=0;I<this.t;++I)v+=Nt(this[I]^A);return v},K.prototype.testBit=function(v){var A=Math.floor(v/this.DB);return A>=this.t?this.s!=0:(this[A]&1<<v%this.DB)!=0},K.prototype.setBit=function(v){return this.changeBit(v,Ke)},K.prototype.clearBit=function(v){return this.changeBit(v,at)},K.prototype.flipBit=function(v){return this.changeBit(v,Ue)},K.prototype.add=function(v){var A=re();return this.addTo(v,A),A},K.prototype.subtract=function(v){var A=re();return this.subTo(v,A),A},K.prototype.multiply=function(v){var A=re();return this.multiplyTo(v,A),A},K.prototype.divide=function(v){var A=re();return this.divRemTo(v,A,null),A},K.prototype.remainder=function(v){var A=re();return this.divRemTo(v,null,A),A},K.prototype.divideAndRemainder=function(v){var A=re(),I=re();return this.divRemTo(v,A,I),new Array(A,I)},K.prototype.modPow=function(v,A){var I,B,Q=v.bitLength(),le=lt(1);if(Q<=0)return le;I=Q<18?1:Q<48?3:Q<144?4:Q<768?5:6,B=Q<8?new nt(A):A.isEven()?new Ie(A):new Y(A);var Se=new Array,ye=3,we=I-1,Te=(1<<I)-1;if(Se[1]=B.convert(this),I>1){var Oe=re();for(B.sqrTo(Se[1],Oe);ye<=Te;)Se[ye]=re(),B.mulTo(Oe,Se[ye-2],Se[ye]),ye+=2}var ke,ze,st=v.t-1,yt=!0,Et=re();for(Q=he(v[st])-1;st>=0;){for(Q>=we?ke=v[st]>>Q-we&Te:(ke=(v[st]&(1<<Q+1)-1)<<we-Q,st>0&&(ke|=v[st-1]>>this.DB+Q-we)),ye=I;(1&ke)==0;)ke>>=1,--ye;if((Q-=ye)<0&&(Q+=this.DB,--st),yt)Se[ke].copyTo(le),yt=!1;else{for(;ye>1;)B.sqrTo(le,Et),B.sqrTo(Et,le),ye-=2;ye>0?B.sqrTo(le,Et):(ze=le,le=Et,Et=ze),B.mulTo(Et,Se[ke],le)}for(;st>=0&&(v[st]&1<<Q)==0;)B.sqrTo(le,Et),ze=le,le=Et,Et=ze,--Q<0&&(Q=this.DB-1,--st)}return B.revert(le)},K.prototype.modInverse=function(v){var A=v.isEven();if(this.isEven()&&A||v.signum()==0)return K.ZERO;for(var I=v.clone(),B=this.clone(),Q=lt(1),le=lt(0),Se=lt(0),ye=lt(1);I.signum()!=0;){for(;I.isEven();)I.rShiftTo(1,I),A?(Q.isEven()&&le.isEven()||(Q.addTo(this,Q),le.subTo(v,le)),Q.rShiftTo(1,Q)):le.isEven()||le.subTo(v,le),le.rShiftTo(1,le);for(;B.isEven();)B.rShiftTo(1,B),A?(Se.isEven()&&ye.isEven()||(Se.addTo(this,Se),ye.subTo(v,ye)),Se.rShiftTo(1,Se)):ye.isEven()||ye.subTo(v,ye),ye.rShiftTo(1,ye);I.compareTo(B)>=0?(I.subTo(B,I),A&&Q.subTo(Se,Q),le.subTo(ye,le)):(B.subTo(I,B),A&&Se.subTo(Q,Se),ye.subTo(le,ye))}return B.compareTo(K.ONE)!=0?K.ZERO:ye.compareTo(v)>=0?ye.subtract(v):ye.signum()<0?(ye.addTo(v,ye),ye.signum()<0?ye.add(v):ye):ye},K.prototype.pow=function(v){return this.exp(v,new Me)},K.prototype.gcd=function(v){var A=this.s<0?this.negate():this.clone(),I=v.s<0?v.negate():v.clone();if(A.compareTo(I)<0){var B=A;A=I,I=B}var Q=A.getLowestSetBit(),le=I.getLowestSetBit();if(le<0)return A;for(Q<le&&(le=Q),le>0&&(A.rShiftTo(le,A),I.rShiftTo(le,I));A.signum()>0;)(Q=A.getLowestSetBit())>0&&A.rShiftTo(Q,A),(Q=I.getLowestSetBit())>0&&I.rShiftTo(Q,I),A.compareTo(I)>=0?(A.subTo(I,A),A.rShiftTo(1,A)):(I.subTo(A,I),I.rShiftTo(1,I));return le>0&&I.lShiftTo(le,I),I},K.prototype.isProbablePrime=function(v){var A,I=this.abs();if(I.t==1&&I[0]<=Ye[Ye.length-1]){for(A=0;A<Ye.length;++A)if(I[0]==Ye[A])return!0;return!1}if(I.isEven())return!1;for(A=1;A<Ye.length;){for(var B=Ye[A],Q=A+1;Q<Ye.length&&B<se;)B*=Ye[Q++];for(B=I.modInt(B);A<Q;)if(B%Ye[A++]==0)return!1}return I.millerRabin(v)},K.prototype.square=function(){var v=re();return this.squareTo(v),v},k.prototype.init=function(v){var A,I,B;for(A=0;A<256;++A)this.S[A]=A;for(I=0,A=0;A<256;++A)I=I+this.S[A]+v[A%v.length]&255,B=this.S[A],this.S[A]=this.S[I],this.S[I]=B;this.i=0,this.j=0},k.prototype.next=function(){var v;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,v=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=v,this.S[v+this.S[this.i]&255]};var D,q,ne;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Ee(){(function(v){q[ne++]^=255&v,q[ne++]^=v>>8&255,q[ne++]^=v>>16&255,q[ne++]^=v>>24&255,ne>=256&&(ne-=256)})(new Date().getTime())}if(q==null){var Ne;if(q=new Array,ne=0,O!==void 0&&(O.crypto!==void 0||O.msCrypto!==void 0)){var ct=O.crypto||O.msCrypto;if(ct.getRandomValues){var Pe=new Uint8Array(32);for(ct.getRandomValues(Pe),Ne=0;Ne<32;++Ne)q[ne++]=Pe[Ne]}else if(N.appName=="Netscape"&&N.appVersion<"5"){var mt=O.crypto.random(32);for(Ne=0;Ne<mt.length;++Ne)q[ne++]=255&mt.charCodeAt(Ne)}}for(;ne<256;)Ne=Math.floor(65536*Math.random()),q[ne++]=Ne>>>8,q[ne++]=255&Ne;ne=0,Ee()}function Ot(){if(D==null){for(Ee(),(D=function(){return new k}()).init(q),ne=0;ne<q.length;++ne)q[ne]=0;ne=0}return D.next()}function wt(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Qe(b,v){return new K(b,v)}function We(b,v,A){for(var I="",B=0;I.length<v;)I+=A(String.fromCharCode.apply(String,b.concat([(4278190080&B)>>24,(16711680&B)>>16,(65280&B)>>8,255&B]))),B+=1;return I}function Fe(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function dt(b,v){this.x=v,this.q=b}function X(b,v,A,I){this.curve=b,this.x=v,this.y=A,this.z=I??K.ONE,this.zinv=null}function j(b,v,A){this.q=b,this.a=this.fromBigInteger(v),this.b=this.fromBigInteger(A),this.infinity=new X(this,null,null)}wt.prototype.nextBytes=function(v){var A;for(A=0;A<v.length;++A)v[A]=Ot()},Fe.prototype.doPublic=function(v){return v.modPowInt(this.e,this.n)},Fe.prototype.setPublic=function(v,A){if(this.isPublic=!0,this.isPrivate=!1,typeof v!="string")this.n=v,this.e=A;else{if(!(v!=null&&A!=null&&v.length>0&&A.length>0))throw"Invalid RSA public key";this.n=Qe(v,16),this.e=parseInt(A,16)}},Fe.prototype.encrypt=function(v){var A=function(le,Se){if(Se<le.length+11)throw"Message too long for RSA";for(var ye=new Array,we=le.length-1;we>=0&&Se>0;){var Te=le.charCodeAt(we--);Te<128?ye[--Se]=Te:Te>127&&Te<2048?(ye[--Se]=63&Te|128,ye[--Se]=Te>>6|192):(ye[--Se]=63&Te|128,ye[--Se]=Te>>6&63|128,ye[--Se]=Te>>12|224)}ye[--Se]=0;for(var Oe=new wt,ke=new Array;Se>2;){for(ke[0]=0;ke[0]==0;)Oe.nextBytes(ke);ye[--Se]=ke[0]}return ye[--Se]=2,ye[--Se]=0,new K(ye)}(v,this.n.bitLength()+7>>3);if(A==null)return null;var I=this.doPublic(A);if(I==null)return null;var B=I.toString(16);return(1&B.length)==0?B:"0"+B},Fe.prototype.encryptOAEP=function(v,A,I){var B=function(ye,we,Te,Oe){var ke=H.crypto.MessageDigest,ze=H.crypto.Util,st=null;if(Te||(Te="sha1"),typeof Te=="string"&&(st=ke.getCanonicalAlgName(Te),Oe=ke.getHashLength(st),Te=function(Bt){return zt(ze.hashHex(tn(Bt),st))}),ye.length+2*Oe+2>we)throw"Message too long for RSA";var yt,Et="";for(yt=0;yt<we-ye.length-2*Oe-2;yt+=1)Et+="\0";var oe=Te("")+Et+""+ye,Ae=new Array(Oe);new wt().nextBytes(Ae);var De=We(Ae,oe.length,Te),Le=[];for(yt=0;yt<oe.length;yt+=1)Le[yt]=oe.charCodeAt(yt)^De.charCodeAt(yt);var ht=We(Le,Ae.length,Te),At=[0];for(yt=0;yt<Ae.length;yt+=1)At[yt+1]=Ae[yt]^ht.charCodeAt(yt);return new K(At.concat(Le))}(v,this.n.bitLength()+7>>3,A,I);if(B==null)return null;var Q=this.doPublic(B);if(Q==null)return null;var le=Q.toString(16);return(1&le.length)==0?le:"0"+le},Fe.prototype.type="RSA",dt.prototype.equals=function(v){return v==this||this.q.equals(v.q)&&this.x.equals(v.x)},dt.prototype.toBigInteger=function(){return this.x},dt.prototype.negate=function(){return new dt(this.q,this.x.negate().mod(this.q))},dt.prototype.add=function(v){return new dt(this.q,this.x.add(v.toBigInteger()).mod(this.q))},dt.prototype.subtract=function(v){return new dt(this.q,this.x.subtract(v.toBigInteger()).mod(this.q))},dt.prototype.multiply=function(v){return new dt(this.q,this.x.multiply(v.toBigInteger()).mod(this.q))},dt.prototype.square=function(){return new dt(this.q,this.x.square().mod(this.q))},dt.prototype.divide=function(v){return new dt(this.q,this.x.multiply(v.toBigInteger().modInverse(this.q)).mod(this.q))},X.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},X.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},X.prototype.equals=function(v){return v==this||(this.isInfinity()?v.isInfinity():v.isInfinity()?this.isInfinity():!!v.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(v.z)).mod(this.curve.q).equals(K.ZERO)&&v.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(v.z)).mod(this.curve.q).equals(K.ZERO))},X.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals(K.ZERO)&&!this.y.toBigInteger().equals(K.ZERO)},X.prototype.negate=function(){return new X(this.curve,this.x,this.y.negate(),this.z)},X.prototype.add=function(v){if(this.isInfinity())return v;if(v.isInfinity())return this;var A=v.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(v.z)).mod(this.curve.q),I=v.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(v.z)).mod(this.curve.q);if(K.ZERO.equals(I))return K.ZERO.equals(A)?this.twice():this.curve.getInfinity();var B=new K("3"),Q=this.x.toBigInteger(),le=this.y.toBigInteger(),Se=(v.x.toBigInteger(),v.y.toBigInteger(),I.square()),ye=Se.multiply(I),we=Q.multiply(Se),Te=A.square().multiply(this.z),Oe=Te.subtract(we.shiftLeft(1)).multiply(v.z).subtract(ye).multiply(I).mod(this.curve.q),ke=we.multiply(B).multiply(A).subtract(le.multiply(ye)).subtract(Te.multiply(A)).multiply(v.z).add(A.multiply(ye)).mod(this.curve.q),ze=ye.multiply(this.z).multiply(v.z).mod(this.curve.q);return new X(this.curve,this.curve.fromBigInteger(Oe),this.curve.fromBigInteger(ke),ze)},X.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var v=new K("3"),A=this.x.toBigInteger(),I=this.y.toBigInteger(),B=I.multiply(this.z),Q=B.multiply(I).mod(this.curve.q),le=this.curve.a.toBigInteger(),Se=A.square().multiply(v);K.ZERO.equals(le)||(Se=Se.add(this.z.square().multiply(le)));var ye=(Se=Se.mod(this.curve.q)).square().subtract(A.shiftLeft(3).multiply(Q)).shiftLeft(1).multiply(B).mod(this.curve.q),we=Se.multiply(v).multiply(A).subtract(Q.shiftLeft(1)).shiftLeft(2).multiply(Q).subtract(Se.square().multiply(Se)).mod(this.curve.q),Te=B.square().multiply(B).shiftLeft(3).mod(this.curve.q);return new X(this.curve,this.curve.fromBigInteger(ye),this.curve.fromBigInteger(we),Te)},X.prototype.multiply=function(v){if(this.isInfinity())return this;if(v.signum()==0)return this.curve.getInfinity();var A,I=v,B=I.multiply(new K("3")),Q=this.negate(),le=this,Se=this.curve.q.subtract(v),ye=Se.multiply(new K("3")),we=new X(this.curve,this.x,this.y),Te=we.negate();for(A=B.bitLength()-2;A>0;--A){le=le.twice();var Oe=B.testBit(A);Oe!=I.testBit(A)&&(le=le.add(Oe?this:Q))}for(A=ye.bitLength()-2;A>0;--A){we=we.twice();var ke=ye.testBit(A);ke!=Se.testBit(A)&&(we=we.add(ke?we:Te))}return le},X.prototype.multiplyTwo=function(v,A,I){var B;B=v.bitLength()>I.bitLength()?v.bitLength()-1:I.bitLength()-1;for(var Q=this.curve.getInfinity(),le=this.add(A);B>=0;)Q=Q.twice(),v.testBit(B)?Q=I.testBit(B)?Q.add(le):Q.add(this):I.testBit(B)&&(Q=Q.add(A)),--B;return Q},j.prototype.getQ=function(){return this.q},j.prototype.getA=function(){return this.a},j.prototype.getB=function(){return this.b},j.prototype.equals=function(v){return v==this||this.q.equals(v.q)&&this.a.equals(v.a)&&this.b.equals(v.b)},j.prototype.getInfinity=function(){return this.infinity},j.prototype.fromBigInteger=function(v){return new dt(this.q,v)},j.prototype.decodePointHex=function(v){switch(parseInt(v.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var A=(v.length-2)/2,I=v.substr(2,A),B=v.substr(A+2,A);return new X(this,this.fromBigInteger(new K(I,16)),this.fromBigInteger(new K(B,16)));default:return null}},dt.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},X.prototype.getEncoded=function(b){var v=function(le,Se){var ye=le.toByteArrayUnsigned();if(Se<ye.length)ye=ye.slice(ye.length-Se);else for(;Se>ye.length;)ye.unshift(0);return ye},A=this.getX().toBigInteger(),I=this.getY().toBigInteger(),B=v(A,32);return b?I.isEven()?B.unshift(2):B.unshift(3):(B.unshift(4),B=B.concat(v(I,32))),B},X.decodeFrom=function(b,v){v[0];var A=v.length-1,I=v.slice(1,1+A/2),B=v.slice(1+A/2,1+A);I.unshift(0),B.unshift(0);var Q=new K(I),le=new K(B);return new X(b,b.fromBigInteger(Q),b.fromBigInteger(le))},X.decodeFromHex=function(b,v){v.substr(0,2);var A=v.length-2,I=v.substr(2,A/2),B=v.substr(2+A/2,A/2),Q=new K(I,16),le=new K(B,16);return new X(b,b.fromBigInteger(Q),b.fromBigInteger(le))},X.prototype.add2D=function(b){if(this.isInfinity())return b;if(b.isInfinity())return this;if(this.x.equals(b.x))return this.y.equals(b.y)?this.twice():this.curve.getInfinity();var v=b.x.subtract(this.x),A=b.y.subtract(this.y).divide(v),I=A.square().subtract(this.x).subtract(b.x),B=A.multiply(this.x.subtract(I)).subtract(this.y);return new X(this.curve,I,B)},X.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var b=this.curve.fromBigInteger(K.valueOf(2)),v=this.curve.fromBigInteger(K.valueOf(3)),A=this.x.square().multiply(v).add(this.curve.a).divide(this.y.multiply(b)),I=A.square().subtract(this.x.multiply(b)),B=A.multiply(this.x.subtract(I)).subtract(this.y);return new X(this.curve,I,B)},X.prototype.multiply2D=function(b){if(this.isInfinity())return this;if(b.signum()==0)return this.curve.getInfinity();var v,A=b,I=A.multiply(new K("3")),B=this.negate(),Q=this;for(v=I.bitLength()-2;v>0;--v){Q=Q.twice();var le=I.testBit(v);le!=A.testBit(v)&&(Q=Q.add2D(le?this:B))}return Q},X.prototype.isOnCurve=function(){var b=this.getX().toBigInteger(),v=this.getY().toBigInteger(),A=this.curve.getA().toBigInteger(),I=this.curve.getB().toBigInteger(),B=this.curve.getQ(),Q=v.multiply(v).mod(B),le=b.multiply(b).multiply(b).add(A.multiply(b)).add(I).mod(B);return Q.equals(le)},X.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},X.prototype.validate=function(){var b=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var v=this.getX().toBigInteger(),A=this.getY().toBigInteger();if(v.compareTo(K.ONE)<0||v.compareTo(b.subtract(K.ONE))>0)throw new Error("x coordinate out of bounds");if(A.compareTo(K.ONE)<0||A.compareTo(b.subtract(K.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(b).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var G=function(){var b=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),v=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),A={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function I(le,Se,ye){return Se?A[Se]:String.fromCharCode(parseInt(ye,16))}var B=new String(""),Q=Object.hasOwnProperty;return function(le,Se){var ye,we,Te=le.match(b),Oe=Te[0],ke=!1;Oe==="{"?ye={}:Oe==="["?ye=[]:(ye=[],ke=!0);for(var ze=[ye],st=1-ke,yt=Te.length;st<yt;++st){var Et;switch((Oe=Te[st]).charCodeAt(0)){default:(Et=ze[0])[we||Et.length]=+Oe,we=void 0;break;case 34:if((Oe=Oe.substring(1,Oe.length-1)).indexOf("\\")!==-1&&(Oe=Oe.replace(v,I)),Et=ze[0],!we){if(!(Et instanceof Array)){we=Oe||B;break}we=Et.length}Et[we]=Oe,we=void 0;break;case 91:Et=ze[0],ze.unshift(Et[we||Et.length]=[]),we=void 0;break;case 93:ze.shift();break;case 102:(Et=ze[0])[we||Et.length]=!1,we=void 0;break;case 110:(Et=ze[0])[we||Et.length]=null,we=void 0;break;case 116:(Et=ze[0])[we||Et.length]=!0,we=void 0;break;case 123:Et=ze[0],ze.unshift(Et[we||Et.length]={}),we=void 0;break;case 125:ze.shift()}}if(ke){if(ze.length!==1)throw new Error;ye=ye[0]}else if(ze.length)throw new Error;return Se&&(ye=function oe(Ae,De){var Le=Ae[De];if(Le&&(Le===void 0?"undefined":E(Le))==="object"){var ht=null;for(var At in Le)if(Q.call(Le,At)&&Le!==Ae){var dn=oe(Le,At);dn!==void 0?Le[At]=dn:(ht||(ht=[]),ht.push(At))}if(ht)for(var Bt=ht.length;--Bt>=0;)delete Le[ht[Bt]]}return Se.call(Ae,De,Le)}({"":ye},"")),ye}}();H!==void 0&&H||(i.KJUR=H={}),H.asn1!==void 0&&H.asn1||(H.asn1={}),H.asn1.ASN1Util=new function(){this.integerToByteHex=function(b){var v=b.toString(16);return v.length%2==1&&(v="0"+v),v},this.bigIntToMinTwosComplementsHex=function(b){var v=b.toString(16);if(v.substr(0,1)!="-")v.length%2==1?v="0"+v:v.match(/^[0-7]/)||(v="00"+v);else{var A=v.substr(1).length;A%2==1?A+=1:v.match(/^[0-7]/)||(A+=2);for(var I="",B=0;B<A;B++)I+="f";v=new K(I,16).xor(b).add(K.ONE).toString(16).replace(/^-/,"")}return v},this.getPEMStringFromHex=function(b,v){return Tt(b,v)},this.newObject=function(b){var v=H.asn1,A=v.ASN1Object,I=v.DERBoolean,B=v.DERInteger,Q=v.DERBitString,le=v.DEROctetString,Se=v.DERNull,ye=v.DERObjectIdentifier,we=v.DEREnumerated,Te=v.DERUTF8String,Oe=v.DERNumericString,ke=v.DERPrintableString,ze=v.DERTeletexString,st=v.DERIA5String,yt=v.DERUTCTime,Et=v.DERGeneralizedTime,oe=v.DERVisibleString,Ae=v.DERBMPString,De=v.DERSequence,Le=v.DERSet,ht=v.DERTaggedObject,At=v.ASN1Util.newObject;if(b instanceof v.ASN1Object)return b;var dn=Object.keys(b);if(dn.length!=1)throw new Error("key of param shall be only one.");var Bt=dn[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Bt+":")==-1)throw new Error("undefined key: "+Bt);if(Bt=="bool")return new I(b[Bt]);if(Bt=="int")return new B(b[Bt]);if(Bt=="bitstr")return new Q(b[Bt]);if(Bt=="octstr")return new le(b[Bt]);if(Bt=="null")return new Se(b[Bt]);if(Bt=="oid")return new ye(b[Bt]);if(Bt=="enum")return new we(b[Bt]);if(Bt=="utf8str")return new Te(b[Bt]);if(Bt=="numstr")return new Oe(b[Bt]);if(Bt=="prnstr")return new ke(b[Bt]);if(Bt=="telstr")return new ze(b[Bt]);if(Bt=="ia5str")return new st(b[Bt]);if(Bt=="utctime")return new yt(b[Bt]);if(Bt=="gentime")return new Et(b[Bt]);if(Bt=="visstr")return new oe(b[Bt]);if(Bt=="bmpstr")return new Ae(b[Bt]);if(Bt=="asn1")return new A(b[Bt]);if(Bt=="seq"){for(var Yn=b[Bt],un=[],gn=0;gn<Yn.length;gn++){var ar=At(Yn[gn]);un.push(ar)}return new De({array:un})}if(Bt=="set"){for(Yn=b[Bt],un=[],gn=0;gn<Yn.length;gn++)ar=At(Yn[gn]),un.push(ar);return new Le({array:un})}if(Bt=="tag"){var hn=b[Bt];if(Object.prototype.toString.call(hn)==="[object Array]"&&hn.length==3){var or=At(hn[2]);return new ht({tag:hn[0],explicit:hn[1],obj:or})}return new ht(hn)}},this.jsonToASN1HEX=function(b){return this.newObject(b).getEncodedHex()}},H.asn1.ASN1Util.oidHexToInt=function(b){for(var v="",A=parseInt(b.substr(0,2),16),I=(v=Math.floor(A/40)+"."+A%40,""),B=2;B<b.length;B+=2){var Q=("00000000"+parseInt(b.substr(B,2),16).toString(2)).slice(-8);I+=Q.substr(1,7),Q.substr(0,1)=="0"&&(v=v+"."+new K(I,2).toString(10),I="")}return v},H.asn1.ASN1Util.oidIntToHex=function(b){var v=function(ye){var we=ye.toString(16);return we.length==1&&(we="0"+we),we},A=function(ye){var we="",Te=new K(ye,10).toString(2),Oe=7-Te.length%7;Oe==7&&(Oe=0);for(var ke="",ze=0;ze<Oe;ze++)ke+="0";for(Te=ke+Te,ze=0;ze<Te.length-1;ze+=7){var st=Te.substr(ze,7);ze!=Te.length-7&&(st="1"+st),we+=v(parseInt(st,2))}return we};if(!b.match(/^[0-9.]+$/))throw"malformed oid string: "+b;var I="",B=b.split("."),Q=40*parseInt(B[0])+parseInt(B[1]);I+=v(Q),B.splice(0,2);for(var le=0;le<B.length;le++)I+=A(B[le]);return I},H.asn1.ASN1Object=function(b){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var v=this.hV.length/2,A=v.toString(16);if(A.length%2==1&&(A="0"+A),v<128)return A;var I=A.length/2;if(I>15)throw"ASN.1 length too long to represent by 8x: n = "+v.toString(16);return(128+I).toString(16)+A},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(v){this.params=v},b!=null&&b.tlv!=null&&(this.hTLV=b.tlv,this.isModified=!1)},H.asn1.DERAbstractString=function(b){H.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(v){this.hTLV=null,this.isModified=!0,this.s=v,this.hV=pt(this.s).toLowerCase()},this.setStringHex=function(v){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=v},this.getFreshValueHex=function(){return this.hV},b!==void 0&&(typeof b=="string"?this.setString(b):b.str!==void 0?this.setString(b.str):b.hex!==void 0&&this.setStringHex(b.hex))},ln(H.asn1.DERAbstractString,H.asn1.ASN1Object),H.asn1.DERAbstractTime=function(b){H.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(v){var A=v.getTime()+6e4*v.getTimezoneOffset();return new Date(A)},this.formatDate=function(v,A,I){var B=this.zeroPadding,Q=this.localDateToUTC(v),le=String(Q.getFullYear());A=="utc"&&(le=le.substr(2,2));var Se=le+B(String(Q.getMonth()+1),2)+B(String(Q.getDate()),2)+B(String(Q.getHours()),2)+B(String(Q.getMinutes()),2)+B(String(Q.getSeconds()),2);if(I===!0){var ye=Q.getMilliseconds();if(ye!=0){var we=B(String(ye),3);Se=Se+"."+(we=we.replace(/[0]+$/,""))}}return Se+"Z"},this.zeroPadding=function(v,A){return v.length>=A?v:new Array(A-v.length+1).join("0")+v},this.getString=function(){return this.s},this.setString=function(v){this.hTLV=null,this.isModified=!0,this.s=v,this.hV=sn(v)},this.setByDateValue=function(v,A,I,B,Q,le){var Se=new Date(Date.UTC(v,A-1,I,B,Q,le,0));this.setByDate(Se)},this.getFreshValueHex=function(){return this.hV}},ln(H.asn1.DERAbstractTime,H.asn1.ASN1Object),H.asn1.DERAbstractStructured=function(b){H.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(v){this.hTLV=null,this.isModified=!0,this.asn1Array=v},this.appendASN1Object=function(v){this.hTLV=null,this.isModified=!0,this.asn1Array.push(v)},this.asn1Array=new Array,b!==void 0&&b.array!==void 0&&(this.asn1Array=b.array)},ln(H.asn1.DERAbstractStructured,H.asn1.ASN1Object),H.asn1.DERBoolean=function(b){H.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=b==0?"010100":"0101ff"},ln(H.asn1.DERBoolean,H.asn1.ASN1Object),H.asn1.DERInteger=function(b){H.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(v){this.hTLV=null,this.isModified=!0,this.hV=H.asn1.ASN1Util.bigIntToMinTwosComplementsHex(v)},this.setByInteger=function(v){var A=new K(String(v),10);this.setByBigInteger(A)},this.setValueHex=function(v){this.hV=v},this.getFreshValueHex=function(){return this.hV},b!==void 0&&(b.bigint!==void 0?this.setByBigInteger(b.bigint):b.int!==void 0?this.setByInteger(b.int):typeof b=="number"?this.setByInteger(b):b.hex!==void 0&&this.setValueHex(b.hex))},ln(H.asn1.DERInteger,H.asn1.ASN1Object),H.asn1.DERBitString=function(b){if(b!==void 0&&b.obj!==void 0){var v=H.asn1.ASN1Util.newObject(b.obj);b.hex="00"+v.getEncodedHex()}H.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(A){this.hTLV=null,this.isModified=!0,this.hV=A},this.setUnusedBitsAndHexValue=function(A,I){if(A<0||7<A)throw"unused bits shall be from 0 to 7: u = "+A;var B="0"+A;this.hTLV=null,this.isModified=!0,this.hV=B+I},this.setByBinaryString=function(A){var I=8-(A=A.replace(/0+$/,"")).length%8;I==8&&(I=0);for(var B=0;B<=I;B++)A+="0";var Q="";for(B=0;B<A.length-1;B+=8){var le=A.substr(B,8),Se=parseInt(le,2).toString(16);Se.length==1&&(Se="0"+Se),Q+=Se}this.hTLV=null,this.isModified=!0,this.hV="0"+I+Q},this.setByBooleanArray=function(A){for(var I="",B=0;B<A.length;B++)A[B]==1?I+="1":I+="0";this.setByBinaryString(I)},this.newFalseArray=function(A){for(var I=new Array(A),B=0;B<A;B++)I[B]=!1;return I},this.getFreshValueHex=function(){return this.hV},b!==void 0&&(typeof b=="string"&&b.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(b):b.hex!==void 0?this.setHexValueIncludingUnusedBits(b.hex):b.bin!==void 0?this.setByBinaryString(b.bin):b.array!==void 0&&this.setByBooleanArray(b.array))},ln(H.asn1.DERBitString,H.asn1.ASN1Object),H.asn1.DEROctetString=function(b){if(b!==void 0&&b.obj!==void 0){var v=H.asn1.ASN1Util.newObject(b.obj);b.hex=v.getEncodedHex()}H.asn1.DEROctetString.superclass.constructor.call(this,b),this.hT="04"},ln(H.asn1.DEROctetString,H.asn1.DERAbstractString),H.asn1.DERNull=function(){H.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},ln(H.asn1.DERNull,H.asn1.ASN1Object),H.asn1.DERObjectIdentifier=function(b){H.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(v){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=v},this.setValueOidString=function(v){var A=function(B){var Q=function(ke){var ze=ke.toString(16);return ze.length==1&&(ze="0"+ze),ze},le=function(ke){var ze="",st=parseInt(ke,10).toString(2),yt=7-st.length%7;yt==7&&(yt=0);for(var Et="",oe=0;oe<yt;oe++)Et+="0";for(st=Et+st,oe=0;oe<st.length-1;oe+=7){var Ae=st.substr(oe,7);oe!=st.length-7&&(Ae="1"+Ae),ze+=Q(parseInt(Ae,2))}return ze};try{if(!B.match(/^[0-9.]+$/))return null;var Se="",ye=B.split("."),we=40*parseInt(ye[0],10)+parseInt(ye[1],10);Se+=Q(we),ye.splice(0,2);for(var Te=0;Te<ye.length;Te++)Se+=le(ye[Te]);return Se}catch{return null}}(v);if(A==null)throw new Error("malformed oid string: "+v);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=A},this.setValueName=function(v){var A=H.asn1.x509.OID.name2oid(v);if(A==="")throw new Error("DERObjectIdentifier oidName undefined: "+v);this.setValueOidString(A)},this.setValueNameOrOid=function(v){v.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(v):this.setValueName(v)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(v){typeof v=="string"?this.setValueNameOrOid(v):v.oid!==void 0?this.setValueNameOrOid(v.oid):v.name!==void 0?this.setValueNameOrOid(v.name):v.hex!==void 0&&this.setValueHex(v.hex)},b!==void 0&&this.setByParam(b)},ln(H.asn1.DERObjectIdentifier,H.asn1.ASN1Object),H.asn1.DEREnumerated=function(b){H.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(v){this.hTLV=null,this.isModified=!0,this.hV=H.asn1.ASN1Util.bigIntToMinTwosComplementsHex(v)},this.setByInteger=function(v){var A=new K(String(v),10);this.setByBigInteger(A)},this.setValueHex=function(v){this.hV=v},this.getFreshValueHex=function(){return this.hV},b!==void 0&&(b.int!==void 0?this.setByInteger(b.int):typeof b=="number"?this.setByInteger(b):b.hex!==void 0&&this.setValueHex(b.hex))},ln(H.asn1.DEREnumerated,H.asn1.ASN1Object),H.asn1.DERUTF8String=function(b){H.asn1.DERUTF8String.superclass.constructor.call(this,b),this.hT="0c"},ln(H.asn1.DERUTF8String,H.asn1.DERAbstractString),H.asn1.DERNumericString=function(b){H.asn1.DERNumericString.superclass.constructor.call(this,b),this.hT="12"},ln(H.asn1.DERNumericString,H.asn1.DERAbstractString),H.asn1.DERPrintableString=function(b){H.asn1.DERPrintableString.superclass.constructor.call(this,b),this.hT="13"},ln(H.asn1.DERPrintableString,H.asn1.DERAbstractString),H.asn1.DERTeletexString=function(b){H.asn1.DERTeletexString.superclass.constructor.call(this,b),this.hT="14"},ln(H.asn1.DERTeletexString,H.asn1.DERAbstractString),H.asn1.DERIA5String=function(b){H.asn1.DERIA5String.superclass.constructor.call(this,b),this.hT="16"},ln(H.asn1.DERIA5String,H.asn1.DERAbstractString),H.asn1.DERVisibleString=function(b){H.asn1.DERIA5String.superclass.constructor.call(this,b),this.hT="1a"},ln(H.asn1.DERVisibleString,H.asn1.DERAbstractString),H.asn1.DERBMPString=function(b){H.asn1.DERBMPString.superclass.constructor.call(this,b),this.hT="1e"},ln(H.asn1.DERBMPString,H.asn1.DERAbstractString),H.asn1.DERUTCTime=function(b){H.asn1.DERUTCTime.superclass.constructor.call(this,b),this.hT="17",this.setByDate=function(v){this.hTLV=null,this.isModified=!0,this.date=v,this.s=this.formatDate(this.date,"utc"),this.hV=sn(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=sn(this.s)),this.hV},b!==void 0&&(b.str!==void 0?this.setString(b.str):typeof b=="string"&&b.match(/^[0-9]{12}Z$/)?this.setString(b):b.hex!==void 0?this.setStringHex(b.hex):b.date!==void 0&&this.setByDate(b.date))},ln(H.asn1.DERUTCTime,H.asn1.DERAbstractTime),H.asn1.DERGeneralizedTime=function(b){H.asn1.DERGeneralizedTime.superclass.constructor.call(this,b),this.hT="18",this.withMillis=!1,this.setByDate=function(v){this.hTLV=null,this.isModified=!0,this.date=v,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=sn(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=sn(this.s)),this.hV},b!==void 0&&(b.str!==void 0?this.setString(b.str):typeof b=="string"&&b.match(/^[0-9]{14}Z$/)?this.setString(b):b.hex!==void 0?this.setStringHex(b.hex):b.date!==void 0&&this.setByDate(b.date),b.millis===!0&&(this.withMillis=!0))},ln(H.asn1.DERGeneralizedTime,H.asn1.DERAbstractTime),H.asn1.DERSequence=function(b){H.asn1.DERSequence.superclass.constructor.call(this,b),this.hT="30",this.getFreshValueHex=function(){for(var v="",A=0;A<this.asn1Array.length;A++)v+=this.asn1Array[A].getEncodedHex();return this.hV=v,this.hV}},ln(H.asn1.DERSequence,H.asn1.DERAbstractStructured),H.asn1.DERSet=function(b){H.asn1.DERSet.superclass.constructor.call(this,b),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var v=new Array,A=0;A<this.asn1Array.length;A++){var I=this.asn1Array[A];v.push(I.getEncodedHex())}return this.sortFlag==1&&v.sort(),this.hV=v.join(""),this.hV},b!==void 0&&b.sortflag!==void 0&&b.sortflag==0&&(this.sortFlag=!1)},ln(H.asn1.DERSet,H.asn1.DERAbstractStructured),H.asn1.DERTaggedObject=function(b){H.asn1.DERTaggedObject.superclass.constructor.call(this);var v=H.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(A,I,B){this.hT=I,this.isExplicit=A,this.asn1Object=B,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=B.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,I),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(A){A.tag!=null&&(this.hT=A.tag),A.explicit!=null&&(this.isExplicit=A.explicit),A.tage!=null&&(this.hT=A.tage,this.isExplicit=!0),A.tagi!=null&&(this.hT=A.tagi,this.isExplicit=!1),A.obj!=null&&(A.obj instanceof v.ASN1Object?(this.asn1Object=A.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):E(A.obj)=="object"&&(this.asn1Object=v.ASN1Util.newObject(A.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},b!=null&&this.setByParam(b)},ln(H.asn1.DERTaggedObject,H.asn1.ASN1Object);var H,Je,it,Xe=new function(){};function Yt(b){for(var v=new Array,A=0;A<b.length;A++)v[A]=b.charCodeAt(A);return v}function Vn(b){for(var v="",A=0;A<b.length;A++)v+=String.fromCharCode(b[A]);return v}function Gn(b){for(var v="",A=0;A<b.length;A++){var I=b[A].toString(16);I.length==1&&(I="0"+I),v+=I}return v}function sn(b){return Gn(Yt(b))}function qe(b){return b=(b=(b=b.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function bt(b){return b.length%4==2?b+="==":b.length%4==3&&(b+="="),b=(b=b.replace(/-/g,"+")).replace(/_/g,"/")}function ft(b){return b.length%2==1&&(b="0"+b),qe(W(b))}function Be(b){return $(bt(b))}function pt(b){return nn(Ln(b))}function Qt(b){return decodeURIComponent(Mn(b))}function zt(b){for(var v="",A=0;A<b.length-1;A+=2)v+=String.fromCharCode(parseInt(b.substr(A,2),16));return v}function tn(b){for(var v="",A=0;A<b.length;A++)v+=("0"+b.charCodeAt(A).toString(16)).slice(-2);return v}function Ht(b){return W(b)}function ce(b){var v=Ht(b).replace(/(.{64})/g,`$1\r
`);return v=v.replace(/\r\n$/,"")}function ve(b){return $(b.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Tt(b,v){return"-----BEGIN "+v+`-----\r
`+ce(b)+`\r
-----END `+v+`-----\r
`}function Ct(b,v){if(b.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+v;return ve(b=v!==void 0?(b=b.replace(new RegExp("^[^]*-----BEGIN "+v+"-----"),"")).replace(new RegExp("-----END "+v+"-----[^]*$"),""):(b=b.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Ft(b){var v,A,I,B,Q,le,Se,ye,we,Te,Oe;if(Oe=b.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return ye=Oe[1],v=parseInt(ye),ye.length===2&&(50<=v&&v<100?v=1900+v:0<=v&&v<50&&(v=2e3+v)),A=parseInt(Oe[2])-1,I=parseInt(Oe[3]),B=parseInt(Oe[4]),Q=parseInt(Oe[5]),le=parseInt(Oe[6]),Se=0,(we=Oe[7])!==""&&(Te=(we.substr(1)+"00").substr(0,3),Se=parseInt(Te)),Date.UTC(v,A,I,B,Q,le,Se);throw"unsupported zulu format: "+b}function Zt(b){return~~(Ft(b)/1e3)}function nn(b){return b.replace(/%/g,"")}function Mn(b){return b.replace(/(..)/g,"%$1")}function $t(b){var v="malformed IPv6 address";if(!b.match(/^[0-9A-Fa-f:]+$/))throw v;var A=(b=b.toLowerCase()).split(":").length-1;if(A<2)throw v;var I=":".repeat(7-A+2),B=(b=b.replace("::",I)).split(":");if(B.length!=8)throw v;for(var Q=0;Q<8;Q++)B[Q]=("0000"+B[Q]).slice(-4);return B.join("")}function en(b){if(!b.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var v=(b=b.toLowerCase()).match(/.{1,4}/g),A=0;A<8;A++)v[A]=v[A].replace(/^0+/,""),v[A]==""&&(v[A]="0");var I=(b=":"+v.join(":")+":").match(/:(0:){2,}/g);if(I===null)return b.slice(1,-1);var B="";for(A=0;A<I.length;A++)I[A].length>B.length&&(B=I[A]);return(b=b.replace(B,"::")).slice(1,-1)}function vn(b){var v="malformed hex value";if(!b.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw v;if(b.length!=8)return b.length==32?en(b):b;try{return parseInt(b.substr(0,2),16)+"."+parseInt(b.substr(2,2),16)+"."+parseInt(b.substr(4,2),16)+"."+parseInt(b.substr(6,2),16)}catch{throw v}}function on(b){return b.match(/.{4}/g).map(function(A){var I=parseInt(A.substr(0,2),16),B=parseInt(A.substr(2),16);if(I==0&B<128)return String.fromCharCode(B);if(I<8){var Q=128|63&B;return Qt((192|(7&I)<<3|(192&B)>>6).toString(16)+Q.toString(16))}Q=128|(15&I)<<2|(192&B)>>6;var le=128|63&B;return Qt((224|(240&I)>>4).toString(16)+Q.toString(16)+le.toString(16))}).join("")}function Ln(b){for(var v=encodeURIComponent(b),A="",I=0;I<v.length;I++)v[I]=="%"?(A+=v.substr(I,3),I+=2):A=A+"%"+sn(v[I]);return A}function xn(b){return!(b.length%2!=0||!b.match(/^[0-9a-f]+$/)&&!b.match(/^[0-9A-F]+$/))}function Jn(b){return b.length%2==1?"0"+b:b.substr(0,1)>"7"?"00"+b:b}Xe.getLblen=function(b,v){if(b.substr(v+2,1)!="8")return 1;var A=parseInt(b.substr(v+3,1));return A==0?-1:0<A&&A<10?A+1:-2},Xe.getL=function(b,v){var A=Xe.getLblen(b,v);return A<1?"":b.substr(v+2,2*A)},Xe.getVblen=function(b,v){var A;return(A=Xe.getL(b,v))==""?-1:(A.substr(0,1)==="8"?new K(A.substr(2),16):new K(A,16)).intValue()},Xe.getVidx=function(b,v){var A=Xe.getLblen(b,v);return A<0?A:v+2*(A+1)},Xe.getV=function(b,v){var A=Xe.getVidx(b,v),I=Xe.getVblen(b,v);return b.substr(A,2*I)},Xe.getTLV=function(b,v){return b.substr(v,2)+Xe.getL(b,v)+Xe.getV(b,v)},Xe.getTLVblen=function(b,v){return 2+2*Xe.getLblen(b,v)+2*Xe.getVblen(b,v)},Xe.getNextSiblingIdx=function(b,v){return Xe.getVidx(b,v)+2*Xe.getVblen(b,v)},Xe.getChildIdx=function(b,v){var A,I,B,Q=Xe,le=[];A=Q.getVidx(b,v),I=2*Q.getVblen(b,v),b.substr(v,2)=="03"&&(A+=2,I-=2),B=0;for(var Se=A;B<=I;){var ye=Q.getTLVblen(b,Se);if((B+=ye)<=I&&le.push(Se),Se+=ye,B>=I)break}return le},Xe.getNthChildIdx=function(b,v,A){return Xe.getChildIdx(b,v)[A]},Xe.getIdxbyList=function(b,v,A,I){var B,Q,le=Xe;return A.length==0?I!==void 0&&b.substr(v,2)!==I?-1:v:(B=A.shift())>=(Q=le.getChildIdx(b,v)).length?-1:le.getIdxbyList(b,Q[B],A,I)},Xe.getIdxbyListEx=function(b,v,A,I){var B,Q,le=Xe;if(A.length==0)return I!==void 0&&b.substr(v,2)!==I?-1:v;B=A.shift(),Q=le.getChildIdx(b,v);for(var Se=0,ye=0;ye<Q.length;ye++){var we=b.substr(Q[ye],2);if(typeof B=="number"&&!le.isContextTag(we)&&Se==B||typeof B=="string"&&le.isContextTag(we,B))return le.getIdxbyListEx(b,Q[ye],A,I);le.isContextTag(we)||Se++}return-1},Xe.getTLVbyList=function(b,v,A,I){var B=Xe,Q=B.getIdxbyList(b,v,A,I);return Q==-1||Q>=b.length?null:B.getTLV(b,Q)},Xe.getTLVbyListEx=function(b,v,A,I){var B=Xe,Q=B.getIdxbyListEx(b,v,A,I);return Q==-1?null:B.getTLV(b,Q)},Xe.getVbyList=function(b,v,A,I,B){var Q,le,Se=Xe;return(Q=Se.getIdxbyList(b,v,A,I))==-1||Q>=b.length?null:(le=Se.getV(b,Q),B===!0&&(le=le.substr(2)),le)},Xe.getVbyListEx=function(b,v,A,I,B){var Q,le,Se=Xe;return(Q=Se.getIdxbyListEx(b,v,A,I))==-1?null:(le=Se.getV(b,Q),b.substr(Q,2)=="03"&&B!==!1&&(le=le.substr(2)),le)},Xe.getInt=function(b,v,A){A==null&&(A=-1);try{var I=b.substr(v,2);if(I!="02"&&I!="03")return A;var B=Xe.getV(b,v);return I=="02"?parseInt(B,16):function(le){try{var Se=le.substr(0,2);if(Se=="00")return parseInt(le.substr(2),16);var ye=parseInt(Se,16),we=le.substr(2),Te=parseInt(we,16).toString(2);return Te=="0"&&(Te="00000000"),Te=Te.slice(0,0-ye),parseInt(Te,2)}catch{return-1}}(B)}catch{return A}},Xe.getOID=function(b,v,A){A==null&&(A=null);try{return b.substr(v,2)!="06"?A:function(B){if(!xn(B))return null;try{var Q=[],le=B.substr(0,2),Se=parseInt(le,16);Q[0]=new String(Math.floor(Se/40)),Q[1]=new String(Se%40);for(var ye=B.substr(2),we=[],Te=0;Te<ye.length/2;Te++)we.push(parseInt(ye.substr(2*Te,2),16));var Oe=[],ke="";for(Te=0;Te<we.length;Te++)128&we[Te]?ke+=mn((127&we[Te]).toString(2),7):(ke+=mn((127&we[Te]).toString(2),7),Oe.push(new String(parseInt(ke,2))),ke="");var ze=Q.join(".");return Oe.length>0&&(ze=ze+"."+Oe.join(".")),ze}catch{return null}}(Xe.getV(b,v))}catch{return A}},Xe.getOIDName=function(b,v,A){A==null&&(A=null);try{var I=Xe.getOID(b,v,A);if(I==A)return A;var B=H.asn1.x509.OID.oid2name(I);return B==""?I:B}catch{return A}},Xe.getString=function(b,v,A){A==null&&(A=null);try{return zt(Xe.getV(b,v))}catch{return A}},Xe.hextooidstr=function(b){var v=function(ke,ze){return ke.length>=ze?ke:new Array(ze-ke.length+1).join("0")+ke},A=[],I=b.substr(0,2),B=parseInt(I,16);A[0]=new String(Math.floor(B/40)),A[1]=new String(B%40);for(var Q=b.substr(2),le=[],Se=0;Se<Q.length/2;Se++)le.push(parseInt(Q.substr(2*Se,2),16));var ye=[],we="";for(Se=0;Se<le.length;Se++)128&le[Se]?we+=v((127&le[Se]).toString(2),7):(we+=v((127&le[Se]).toString(2),7),ye.push(new String(parseInt(we,2))),we="");var Te=A.join(".");return ye.length>0&&(Te=Te+"."+ye.join(".")),Te},Xe.dump=function(b,v,A,I){var B=Xe,Q=B.getV,le=B.dump,Se=B.getChildIdx,ye=b;b instanceof H.asn1.ASN1Object&&(ye=b.getEncodedHex());var we=function(Bt,Yn){return Bt.length<=2*Yn?Bt:Bt.substr(0,Yn)+"..(total "+Bt.length/2+"bytes).."+Bt.substr(Bt.length-Yn,Yn)};v===void 0&&(v={ommit_long_octet:32}),A===void 0&&(A=0),I===void 0&&(I="");var Te,Oe=v.ommit_long_octet;if((Te=ye.substr(A,2))=="01")return(ke=Q(ye,A))=="00"?I+`BOOLEAN FALSE
`:I+`BOOLEAN TRUE
`;if(Te=="02")return I+"INTEGER "+we(ke=Q(ye,A),Oe)+`
`;if(Te=="03"){var ke=Q(ye,A);if(B.isASN1HEX(ke.substr(2))){var ze=I+`BITSTRING, encapsulates
`;return ze+=le(ke.substr(2),v,0,I+"  ")}return I+"BITSTRING "+we(ke,Oe)+`
`}if(Te=="04")return ke=Q(ye,A),B.isASN1HEX(ke)?(ze=I+`OCTETSTRING, encapsulates
`,ze+=le(ke,v,0,I+"  ")):I+"OCTETSTRING "+we(ke,Oe)+`
`;if(Te=="05")return I+`NULL
`;if(Te=="06"){var st=Q(ye,A),yt=H.asn1.ASN1Util.oidHexToInt(st),Et=H.asn1.x509.OID.oid2name(yt),oe=yt.replace(/\./g," ");return Et!=""?I+"ObjectIdentifier "+Et+" ("+oe+`)
`:I+"ObjectIdentifier ("+oe+`)
`}if(Te=="0a")return I+"ENUMERATED "+parseInt(Q(ye,A))+`
`;if(Te=="0c")return I+"UTF8String '"+Qt(Q(ye,A))+`'
`;if(Te=="13")return I+"PrintableString '"+Qt(Q(ye,A))+`'
`;if(Te=="14")return I+"TeletexString '"+Qt(Q(ye,A))+`'
`;if(Te=="16")return I+"IA5String '"+Qt(Q(ye,A))+`'
`;if(Te=="17")return I+"UTCTime "+Qt(Q(ye,A))+`
`;if(Te=="18")return I+"GeneralizedTime "+Qt(Q(ye,A))+`
`;if(Te=="1a")return I+"VisualString '"+Qt(Q(ye,A))+`'
`;if(Te=="1e")return I+"BMPString '"+on(Q(ye,A))+`'
`;if(Te=="30"){if(ye.substr(A,4)=="3000")return I+`SEQUENCE {}
`;ze=I+`SEQUENCE
`;var Ae=v;if(((ht=Se(ye,A)).length==2||ht.length==3)&&ye.substr(ht[0],2)=="06"&&ye.substr(ht[ht.length-1],2)=="04"){Et=B.oidname(Q(ye,ht[0]));var De=JSON.parse(JSON.stringify(v));De.x509ExtName=Et,Ae=De}for(var Le=0;Le<ht.length;Le++)ze+=le(ye,Ae,ht[Le],I+"  ");return ze}if(Te=="31"){ze=I+`SET
`;var ht=Se(ye,A);for(Le=0;Le<ht.length;Le++)ze+=le(ye,v,ht[Le],I+"  ");return ze}if((128&(Te=parseInt(Te,16)))!=0){var At=31&Te;if((32&Te)!=0){for(ze=I+"["+At+`]
`,ht=Se(ye,A),Le=0;Le<ht.length;Le++)ze+=le(ye,v,ht[Le],I+"  ");return ze}if(ke=Q(ye,A),Xe.isASN1HEX(ke)){var ze=I+"["+At+`]
`;return ze+=le(ke,v,0,I+"  ")}return(ke.substr(0,8)=="68747470"||v.x509ExtName==="subjectAltName"&&At==2)&&(ke=Qt(ke)),ze=I+"["+At+"] "+ke+`
`}return I+"UNKNOWN("+Te+") "+Q(ye,A)+`
`},Xe.isContextTag=function(b,v){var A,I;b=b.toLowerCase();try{A=parseInt(b,16)}catch{return-1}if(v===void 0)return(192&A)==128;try{return v.match(/^\[[0-9]+\]$/)!=null&&!((I=parseInt(v.substr(1,v.length-1),10))>31)&&(192&A)==128&&(31&A)==I}catch{return!1}},Xe.isASN1HEX=function(b){var v=Xe;if(b.length%2==1)return!1;var A=v.getVblen(b,0),I=b.substr(0,2),B=v.getL(b,0);return b.length-I.length-B.length==2*A},Xe.checkStrictDER=function(b,v,A,I,B){var Q=Xe;if(A===void 0){if(typeof b!="string")throw new Error("not hex string");if(b=b.toLowerCase(),!H.lang.String.isHex(b))throw new Error("not hex string");A=b.length,B=(I=b.length/2)<128?1:Math.ceil(I.toString(16))+1}if(Q.getL(b,v).length>2*B)throw new Error("L of TLV too long: idx="+v);var le=Q.getVblen(b,v);if(le>I)throw new Error("value of L too long than hex: idx="+v);var Se=Q.getTLV(b,v),ye=Se.length-2-Q.getL(b,v).length;if(ye!==2*le)throw new Error("V string length and L's value not the same:"+ye+"/"+2*le);if(v===0&&b.length!=Se.length)throw new Error("total length and TLV length unmatch:"+b.length+"!="+Se.length);var we=b.substr(v,2);if(we==="02"){var Te=Q.getVidx(b,v);if(b.substr(Te,2)=="00"&&b.charCodeAt(Te+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(we,16)){for(var Oe=Q.getVblen(b,v),ke=0,ze=Q.getChildIdx(b,v),st=0;st<ze.length;st++)ke+=Q.getTLV(b,ze[st]).length,Q.checkStrictDER(b,ze[st],A,I,B);if(2*Oe!=ke)throw new Error("sum of children's TLV length and L unmatch: "+2*Oe+"!="+ke)}},Xe.oidname=function(b){var v=H.asn1;H.lang.String.isHex(b)&&(b=v.ASN1Util.oidHexToInt(b));var A=v.x509.OID.oid2name(b);return A===""&&(A=b),A},H!==void 0&&H||(i.KJUR=H={}),H.lang!==void 0&&H.lang||(H.lang={}),H.lang.String=function(){},typeof l=="function"?(i.utf8tob64u=Je=function(v){return qe(l.from(v,"utf8").toString("base64"))},i.b64utoutf8=it=function(v){return l.from(bt(v),"base64").toString("utf8")}):(i.utf8tob64u=Je=function(v){return ft(nn(Ln(v)))},i.b64utoutf8=it=function(v){return decodeURIComponent(Mn(Be(v)))}),H.lang.String.isInteger=function(b){return!!b.match(/^[0-9]+$/)||!!b.match(/^-[0-9]+$/)},H.lang.String.isHex=function(b){return xn(b)},H.lang.String.isBase64=function(b){return!(!(b=b.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||b.length%4!=0)},H.lang.String.isBase64URL=function(b){return!b.match(/[+/=]/)&&(b=bt(b),H.lang.String.isBase64(b))},H.lang.String.isIntegerArray=function(b){return!!(b=b.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},H.lang.String.isPrintable=function(b){return b.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},H.lang.String.isIA5=function(b){return b.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},H.lang.String.isMail=function(b){return b.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var mn=function(v,A,I){return I==null&&(I="0"),v.length>=A?v:new Array(A-v.length+1).join(I)+v};function ln(b,v){var A=function(){};A.prototype=v.prototype,b.prototype=new A,b.prototype.constructor=b,b.superclass=v.prototype,v.prototype.constructor==Object.prototype.constructor&&(v.prototype.constructor=v)}H!==void 0&&H||(i.KJUR=H={}),H.crypto!==void 0&&H.crypto||(H.crypto={}),H.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:V.algo.MD5,sha1:V.algo.SHA1,sha224:V.algo.SHA224,sha256:V.algo.SHA256,sha384:V.algo.SHA384,sha512:V.algo.SHA512,ripemd160:V.algo.RIPEMD160},this.getDigestInfoHex=function(b,v){if(this.DIGESTINFOHEAD[v]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+v;return this.DIGESTINFOHEAD[v]+b},this.getPaddedDigestInfoHex=function(b,v,A){var I=this.getDigestInfoHex(b,v),B=A/4;if(I.length+22>B)throw"key is too short for SigAlg: keylen="+A+","+v;for(var Q="0001",le="00"+I,Se="",ye=B-Q.length-le.length,we=0;we<ye;we+=2)Se+="ff";return Q+Se+le},this.hashString=function(b,v){return new H.crypto.MessageDigest({alg:v}).digestString(b)},this.hashHex=function(b,v){return new H.crypto.MessageDigest({alg:v}).digestHex(b)},this.sha1=function(b){return this.hashString(b,"sha1")},this.sha256=function(b){return this.hashString(b,"sha256")},this.sha256Hex=function(b){return this.hashHex(b,"sha256")},this.sha512=function(b){return this.hashString(b,"sha512")},this.sha512Hex=function(b){return this.hashHex(b,"sha512")},this.isKey=function(b){return b instanceof Fe||b instanceof H.crypto.DSA||b instanceof H.crypto.ECDSA}},H.crypto.Util.md5=function(b){return new H.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(b)},H.crypto.Util.ripemd160=function(b){return new H.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(b)},H.crypto.Util.SECURERANDOMGEN=new wt,H.crypto.Util.getRandomHexOfNbytes=function(b){var v=new Array(b);return H.crypto.Util.SECURERANDOMGEN.nextBytes(v),Gn(v)},H.crypto.Util.getRandomBigIntegerOfNbytes=function(b){return new K(H.crypto.Util.getRandomHexOfNbytes(b),16)},H.crypto.Util.getRandomHexOfNbits=function(b){var v=b%8,A=new Array((b-v)/8+1);return H.crypto.Util.SECURERANDOMGEN.nextBytes(A),A[0]=(255<<v&255^255)&A[0],Gn(A)},H.crypto.Util.getRandomBigIntegerOfNbits=function(b){return new K(H.crypto.Util.getRandomHexOfNbits(b),16)},H.crypto.Util.getRandomBigIntegerZeroToMax=function(b){for(var v=b.bitLength();;){var A=H.crypto.Util.getRandomBigIntegerOfNbits(v);if(b.compareTo(A)!=-1)return A}},H.crypto.Util.getRandomBigIntegerMinToMax=function(b,v){var A=b.compareTo(v);if(A==1)throw"biMin is greater than biMax";if(A==0)return b;var I=v.subtract(b);return H.crypto.Util.getRandomBigIntegerZeroToMax(I).add(b)},H.crypto.MessageDigest=function(b){this.setAlgAndProvider=function(v,A){if((v=H.crypto.MessageDigest.getCanonicalAlgName(v))!==null&&A===void 0&&(A=H.crypto.Util.DEFAULTPROVIDER[v]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(v)!=-1&&A=="cryptojs"){try{this.md=H.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[v].create()}catch(I){throw"setAlgAndProvider hash alg set fail alg="+v+"/"+I}this.updateString=function(I){this.md.update(I)},this.updateHex=function(I){var B=V.enc.Hex.parse(I);this.md.update(B)},this.digest=function(){return this.md.finalize().toString(V.enc.Hex)},this.digestString=function(I){return this.updateString(I),this.digest()},this.digestHex=function(I){return this.updateHex(I),this.digest()}}if(":sha256:".indexOf(v)!=-1&&A=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(I){throw"setAlgAndProvider hash alg set fail alg="+v+"/"+I}this.updateString=function(I){this.md.update(I)},this.updateHex=function(I){var B=sjcl.codec.hex.toBits(I);this.md.update(B)},this.digest=function(){var I=this.md.finalize();return sjcl.codec.hex.fromBits(I)},this.digestString=function(I){return this.updateString(I),this.digest()},this.digestHex=function(I){return this.updateHex(I),this.digest()}}},this.updateString=function(v){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(v){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(v){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(v){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},b!==void 0&&b.alg!==void 0&&(this.algName=b.alg,b.prov===void 0&&(this.provName=H.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},H.crypto.MessageDigest.getCanonicalAlgName=function(b){return typeof b=="string"&&(b=(b=b.toLowerCase()).replace(/-/,"")),b},H.crypto.MessageDigest.getHashLength=function(b){var v=H.crypto.MessageDigest,A=v.getCanonicalAlgName(b);if(v.HASHLENGTH[A]===void 0)throw"not supported algorithm: "+b;return v.HASHLENGTH[A]},H.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},H.crypto.Mac=function(b){this.setAlgAndProvider=function(v,A){if((v=v.toLowerCase())==null&&(v="hmacsha1"),(v=v.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+v;A===void 0&&(A=H.crypto.Util.DEFAULTPROVIDER[v]),this.algProv=v+"/"+A;var I=v.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(I)!=-1&&A=="cryptojs"){try{var B=H.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[I];this.mac=V.algo.HMAC.create(B,this.pass)}catch(Q){throw"setAlgAndProvider hash alg set fail hashAlg="+I+"/"+Q}this.updateString=function(Q){this.mac.update(Q)},this.updateHex=function(Q){var le=V.enc.Hex.parse(Q);this.mac.update(le)},this.doFinal=function(){return this.mac.finalize().toString(V.enc.Hex)},this.doFinalString=function(Q){return this.updateString(Q),this.doFinal()},this.doFinalHex=function(Q){return this.updateHex(Q),this.doFinal()}}},this.updateString=function(v){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(v){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(v){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(v){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(v){if(typeof v=="string"){var A=v;return v.length%2!=1&&v.match(/^[0-9A-Fa-f]+$/)||(A=tn(v)),void(this.pass=V.enc.Hex.parse(A))}if((v===void 0?"undefined":E(v))!="object")throw"KJUR.crypto.Mac unsupported password type: "+v;if(A=null,v.hex!==void 0){if(v.hex.length%2!=0||!v.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+v.hex;A=v.hex}if(v.utf8!==void 0&&(A=pt(v.utf8)),v.rstr!==void 0&&(A=tn(v.rstr)),v.b64!==void 0&&(A=$(v.b64)),v.b64u!==void 0&&(A=Be(v.b64u)),A==null)throw"KJUR.crypto.Mac unsupported password type: "+v;this.pass=V.enc.Hex.parse(A)},b!==void 0&&(b.pass!==void 0&&this.setPassword(b.pass),b.alg!==void 0&&(this.algName=b.alg,b.prov===void 0&&(this.provName=H.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},H.crypto.Signature=function(b){var v=null;if(this._setAlgNames=function(){var A=this.algName.match(/^(.+)with(.+)$/);A&&(this.mdAlgName=A[1].toLowerCase(),this.pubkeyAlgName=A[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(A,I){for(var B="",Q=I/4-A.length,le=0;le<Q;le++)B+="0";return B+A},this.setAlgAndProvider=function(A,I){if(this._setAlgNames(),I!="cryptojs/jsrsa")throw new Error("provider not supported: "+I);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new H.crypto.MessageDigest({alg:this.mdAlgName})}catch(B){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+B)}this.init=function(B,Q){var le=null;try{le=Q===void 0?Gt.getKey(B):Gt.getKey(B,Q)}catch(Se){throw"init failed:"+Se}if(le.isPrivate===!0)this.prvKey=le,this.state="SIGN";else{if(le.isPublic!==!0)throw"init failed.:"+le;this.pubKey=le,this.state="VERIFY"}},this.updateString=function(B){this.md.updateString(B)},this.updateHex=function(B){this.md.updateHex(B)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&H.crypto.ECDSA!==void 0&&(this.prvKey=new H.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Fe&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Fe&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof H.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof H.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(B){return this.updateString(B),this.sign()},this.signHex=function(B){return this.updateHex(B),this.sign()},this.verify=function(B){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&H.crypto.ECDSA!==void 0&&(this.pubKey=new H.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Fe&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,B,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Fe&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,B);if(H.crypto.ECDSA!==void 0&&this.pubKey instanceof H.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,B);if(H.crypto.DSA!==void 0&&this.pubKey instanceof H.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,B);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(A,I){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(A){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(A){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(A){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(A){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(A){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=b,b!==void 0&&(b.alg!==void 0&&(this.algName=b.alg,b.prov===void 0?this.provName=H.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=b.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),b.psssaltlen!==void 0&&(this.pssSaltLen=b.psssaltlen),b.prvkeypem!==void 0)){if(b.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{v=Gt.getKey(b.prvkeypem),this.init(v)}catch(A){throw"fatal error to load pem private key: "+A}}},H.crypto.Cipher=function(b){},H.crypto.Cipher.encrypt=function(b,v,A){if(v instanceof Fe&&v.isPublic){var I=H.crypto.Cipher.getAlgByKeyAndName(v,A);if(I==="RSA")return v.encrypt(b);if(I==="RSAOAEP")return v.encryptOAEP(b,"sha1");var B=I.match(/^RSAOAEP(\d+)$/);if(B!==null)return v.encryptOAEP(b,"sha"+B[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+A}throw"Cipher.encrypt: unsupported key or algorithm"},H.crypto.Cipher.decrypt=function(b,v,A){if(v instanceof Fe&&v.isPrivate){var I=H.crypto.Cipher.getAlgByKeyAndName(v,A);if(I==="RSA")return v.decrypt(b);if(I==="RSAOAEP")return v.decryptOAEP(b,"sha1");var B=I.match(/^RSAOAEP(\d+)$/);if(B!==null)return v.decryptOAEP(b,"sha"+B[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+A}throw"Cipher.decrypt: unsupported key or algorithm"},H.crypto.Cipher.getAlgByKeyAndName=function(b,v){if(b instanceof Fe){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(v)!=-1)return v;if(v==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+v}throw"getAlgByKeyAndName: not supported algorithm name: "+v},H.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},H!==void 0&&H||(i.KJUR=H={}),H.crypto!==void 0&&H.crypto||(H.crypto={}),H.crypto.ECDSA=function(b){var v=Error,A=K,I=X,B=H.crypto.ECDSA,Q=H.crypto.ECParameterDB,le=B.getName,Se=Xe,ye=Se.getVbyListEx,we=Se.isASN1HEX,Te=new wt;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(Oe){return new A(Oe.bitLength(),Te).mod(Oe.subtract(A.ONE)).add(A.ONE)},this.setNamedCurve=function(Oe){this.ecparams=Q.getByName(Oe),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=Oe},this.setPrivateKeyHex=function(Oe){this.isPrivate=!0,this.prvKeyHex=Oe},this.setPublicKeyHex=function(Oe){this.isPublic=!0,this.pubKeyHex=Oe},this.getPublicKeyXYHex=function(){var Oe=this.pubKeyHex;if(Oe.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var ke=this.ecparams.keylen/4;if(Oe.length!==2+2*ke)throw"malformed public key hex length";var ze={};return ze.x=Oe.substr(2,ke),ze.y=Oe.substr(2+ke),ze},this.getShortNISTPCurveName=function(){var Oe=this.curveName;return Oe==="secp256r1"||Oe==="NIST P-256"||Oe==="P-256"||Oe==="prime256v1"?"P-256":Oe==="secp384r1"||Oe==="NIST P-384"||Oe==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var Oe=this.ecparams.n,ke=this.getBigRandom(Oe),ze=this.ecparams.G.multiply(ke),st=ze.getX().toBigInteger(),yt=ze.getY().toBigInteger(),Et=this.ecparams.keylen/4,oe=("0000000000"+ke.toString(16)).slice(-Et),Ae="04"+("0000000000"+st.toString(16)).slice(-Et)+("0000000000"+yt.toString(16)).slice(-Et);return this.setPrivateKeyHex(oe),this.setPublicKeyHex(Ae),{ecprvhex:oe,ecpubhex:Ae}},this.signWithMessageHash=function(Oe){return this.signHex(Oe,this.prvKeyHex)},this.signHex=function(Oe,ke){var ze=new A(ke,16),st=this.ecparams.n,yt=new A(Oe.substring(0,this.ecparams.keylen/4),16);do var Et=this.getBigRandom(st),oe=this.ecparams.G.multiply(Et).getX().toBigInteger().mod(st);while(oe.compareTo(A.ZERO)<=0);var Ae=Et.modInverse(st).multiply(yt.add(ze.multiply(oe))).mod(st);return B.biRSSigToASN1Sig(oe,Ae)},this.sign=function(Oe,ke){var ze=ke,st=this.ecparams.n,yt=A.fromByteArrayUnsigned(Oe);do var Et=this.getBigRandom(st),oe=this.ecparams.G.multiply(Et).getX().toBigInteger().mod(st);while(oe.compareTo(K.ZERO)<=0);var Ae=Et.modInverse(st).multiply(yt.add(ze.multiply(oe))).mod(st);return this.serializeSig(oe,Ae)},this.verifyWithMessageHash=function(Oe,ke){return this.verifyHex(Oe,ke,this.pubKeyHex)},this.verifyHex=function(Oe,ke,ze){try{var st,yt,Et=B.parseSigHex(ke);st=Et.r,yt=Et.s;var oe=I.decodeFromHex(this.ecparams.curve,ze),Ae=new A(Oe.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(Ae,st,yt,oe)}catch{return!1}},this.verify=function(Oe,ke,ze){var st,yt,Et;if(Bitcoin.Util.isArray(ke)){var oe=this.parseSig(ke);st=oe.r,yt=oe.s}else{if((ke===void 0?"undefined":E(ke))!=="object"||!ke.r||!ke.s)throw"Invalid value for signature";st=ke.r,yt=ke.s}if(ze instanceof X)Et=ze;else{if(!Bitcoin.Util.isArray(ze))throw"Invalid format for pubkey value, must be byte array or ECPointFp";Et=I.decodeFrom(this.ecparams.curve,ze)}var Ae=A.fromByteArrayUnsigned(Oe);return this.verifyRaw(Ae,st,yt,Et)},this.verifyRaw=function(Oe,ke,ze,st){var yt=this.ecparams.n,Et=this.ecparams.G;if(ke.compareTo(A.ONE)<0||ke.compareTo(yt)>=0||ze.compareTo(A.ONE)<0||ze.compareTo(yt)>=0)return!1;var oe=ze.modInverse(yt),Ae=Oe.multiply(oe).mod(yt),De=ke.multiply(oe).mod(yt);return Et.multiply(Ae).add(st.multiply(De)).getX().toBigInteger().mod(yt).equals(ke)},this.serializeSig=function(Oe,ke){var ze=Oe.toByteArraySigned(),st=ke.toByteArraySigned(),yt=[];return yt.push(2),yt.push(ze.length),(yt=yt.concat(ze)).push(2),yt.push(st.length),(yt=yt.concat(st)).unshift(yt.length),yt.unshift(48),yt},this.parseSig=function(Oe){var ke;if(Oe[0]!=48)throw new Error("Signature not a valid DERSequence");if(Oe[ke=2]!=2)throw new Error("First element in signature must be a DERInteger");var ze=Oe.slice(ke+2,ke+2+Oe[ke+1]);if(Oe[ke+=2+Oe[ke+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var st=Oe.slice(ke+2,ke+2+Oe[ke+1]);return ke+=2+Oe[ke+1],{r:A.fromByteArrayUnsigned(ze),s:A.fromByteArrayUnsigned(st)}},this.parseSigCompact=function(Oe){if(Oe.length!==65)throw"Signature has the wrong length";var ke=Oe[0]-27;if(ke<0||ke>7)throw"Invalid signature type";var ze=this.ecparams.n;return{r:A.fromByteArrayUnsigned(Oe.slice(1,33)).mod(ze),s:A.fromByteArrayUnsigned(Oe.slice(33,65)).mod(ze),i:ke}},this.readPKCS5PrvKeyHex=function(Oe){if(we(Oe)===!1)throw new Error("not ASN.1 hex string");var ke,ze,st;try{ke=ye(Oe,0,["[0]",0],"06"),ze=ye(Oe,0,[1],"04");try{st=ye(Oe,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=le(ke),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(st),this.setPrivateKeyHex(ze),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(Oe){if(we(Oe)===!1)throw new v("not ASN.1 hex string");var ke,ze,st;try{ye(Oe,0,[1,0],"06"),ke=ye(Oe,0,[1,1],"06"),ze=ye(Oe,0,[2,0,1],"04");try{st=ye(Oe,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new v("malformed PKCS#8 plain ECC private key")}if(this.curveName=le(ke),this.curveName===void 0)throw new v("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(st),this.setPrivateKeyHex(ze),this.isPublic=!1},this.readPKCS8PubKeyHex=function(Oe){if(we(Oe)===!1)throw new v("not ASN.1 hex string");var ke,ze;try{ye(Oe,0,[0,0],"06"),ke=ye(Oe,0,[0,1],"06"),ze=ye(Oe,0,[1],"03")}catch{throw new v("malformed PKCS#8 ECC public key")}if(this.curveName=le(ke),this.curveName===null)throw new v("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ze)},this.readCertPubKeyHex=function(Oe,ke){if(we(Oe)===!1)throw new v("not ASN.1 hex string");var ze,st;try{ze=ye(Oe,0,[0,5,0,1],"06"),st=ye(Oe,0,[0,5,1],"03")}catch{throw new v("malformed X.509 certificate ECC public key")}if(this.curveName=le(ze),this.curveName===null)throw new v("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(st)},b!==void 0&&b.curve!==void 0&&(this.curveName=b.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),b!==void 0&&(b.prv!==void 0&&this.setPrivateKeyHex(b.prv),b.pub!==void 0&&this.setPublicKeyHex(b.pub))},H.crypto.ECDSA.parseSigHex=function(b){var v=H.crypto.ECDSA.parseSigHexInHexRS(b);return{r:new K(v.r,16),s:new K(v.s,16)}},H.crypto.ECDSA.parseSigHexInHexRS=function(b){var v=Xe,A=v.getChildIdx,I=v.getV;if(v.checkStrictDER(b,0),b.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var B=A(b,0);if(B.length!=2)throw new Error("signature shall have two elements");var Q=B[0],le=B[1];if(b.substr(Q,2)!="02")throw new Error("1st item not ASN.1 integer");if(b.substr(le,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:I(b,Q),s:I(b,le)}},H.crypto.ECDSA.asn1SigToConcatSig=function(b){var v=H.crypto.ECDSA.parseSigHexInHexRS(b),A=v.r,I=v.s;if(A.substr(0,2)=="00"&&A.length%32==2&&(A=A.substr(2)),I.substr(0,2)=="00"&&I.length%32==2&&(I=I.substr(2)),A.length%32==30&&(A="00"+A),I.length%32==30&&(I="00"+I),A.length%32!=0)throw"unknown ECDSA sig r length error";if(I.length%32!=0)throw"unknown ECDSA sig s length error";return A+I},H.crypto.ECDSA.concatSigToASN1Sig=function(b){if(b.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var v=b.substr(0,b.length/2),A=b.substr(b.length/2);return H.crypto.ECDSA.hexRSSigToASN1Sig(v,A)},H.crypto.ECDSA.hexRSSigToASN1Sig=function(b,v){var A=new K(b,16),I=new K(v,16);return H.crypto.ECDSA.biRSSigToASN1Sig(A,I)},H.crypto.ECDSA.biRSSigToASN1Sig=function(b,v){var A=H.asn1,I=new A.DERInteger({bigint:b}),B=new A.DERInteger({bigint:v});return new A.DERSequence({array:[I,B]}).getEncodedHex()},H.crypto.ECDSA.getName=function(b){return b==="2b8104001f"?"secp192k1":b==="2a8648ce3d030107"?"secp256r1":b==="2b8104000a"?"secp256k1":b==="2b81040021"?"secp224r1":b==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(b)!==-1?"secp256r1":"|secp256k1|".indexOf(b)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(b)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(b)!==-1?"secp384r1":null},H!==void 0&&H||(i.KJUR=H={}),H.crypto!==void 0&&H.crypto||(H.crypto={}),H.crypto.ECParameterDB=new function(){var b={},v={};function A(I){return new K(I,16)}this.getByName=function(I){var B=I;if(v[B]!==void 0&&(B=v[I]),b[B]!==void 0)return b[B];throw"unregistered EC curve name: "+B},this.regist=function(I,B,Q,le,Se,ye,we,Te,Oe,ke,ze,st){b[I]={};var yt=A(Q),Et=A(le),oe=A(Se),Ae=A(ye),De=A(we),Le=new j(yt,Et,oe),ht=Le.decodePointHex("04"+Te+Oe);b[I].name=I,b[I].keylen=B,b[I].curve=Le,b[I].G=ht,b[I].n=Ae,b[I].h=De,b[I].oid=ze,b[I].info=st;for(var At=0;At<ke.length;At++)v[ke[At]]=I}},H.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),H.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),H.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),H.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),H.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),H.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),H.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),H.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),H.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),H.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var Gt=function(){var b=function(we,Te,Oe){return v(V.AES,we,Te,Oe)},v=function(we,Te,Oe,ke){var ze=V.enc.Hex.parse(Te),st=V.enc.Hex.parse(Oe),yt=V.enc.Hex.parse(ke),Et={};Et.key=st,Et.iv=yt,Et.ciphertext=ze;var oe=we.decrypt(Et,st,{iv:yt});return V.enc.Hex.stringify(oe)},A=function(we,Te,Oe){return I(V.AES,we,Te,Oe)},I=function(we,Te,Oe,ke){var ze=V.enc.Hex.parse(Te),st=V.enc.Hex.parse(Oe),yt=V.enc.Hex.parse(ke),Et=we.encrypt(ze,st,{iv:yt}),oe=V.enc.Hex.parse(Et.toString());return V.enc.Base64.stringify(oe)},B={"AES-256-CBC":{proc:b,eproc:A,keylen:32,ivlen:16},"AES-192-CBC":{proc:b,eproc:A,keylen:24,ivlen:16},"AES-128-CBC":{proc:b,eproc:A,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(we,Te,Oe){return v(V.TripleDES,we,Te,Oe)},eproc:function(we,Te,Oe){return I(V.TripleDES,we,Te,Oe)},keylen:24,ivlen:8},"DES-CBC":{proc:function(we,Te,Oe){return v(V.DES,we,Te,Oe)},eproc:function(we,Te,Oe){return I(V.DES,we,Te,Oe)},keylen:8,ivlen:8}},Q=function(we){var Te={},Oe=we.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));Oe&&(Te.cipher=Oe[1],Te.ivsalt=Oe[2]);var ke=we.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));ke&&(Te.type=ke[1]);var ze=-1,st=0;we.indexOf(`\r
\r
`)!=-1&&(ze=we.indexOf(`\r
\r
`),st=2),we.indexOf(`

`)!=-1&&(ze=we.indexOf(`

`),st=1);var yt=we.indexOf("-----END");if(ze!=-1&&yt!=-1){var Et=we.substring(ze+2*st,yt-st);Et=Et.replace(/\s+/g,""),Te.data=Et}return Te},le=function(we,Te,Oe){for(var ke=Oe.substring(0,16),ze=V.enc.Hex.parse(ke),st=V.enc.Utf8.parse(Te),yt=B[we].keylen+B[we].ivlen,Et="",oe=null;;){var Ae=V.algo.MD5.create();if(oe!=null&&Ae.update(oe),Ae.update(st),Ae.update(ze),oe=Ae.finalize(),(Et+=V.enc.Hex.stringify(oe)).length>=2*yt)break}var De={};return De.keyhex=Et.substr(0,2*B[we].keylen),De.ivhex=Et.substr(2*B[we].keylen,2*B[we].ivlen),De},Se=function(we,Te,Oe,ke){var ze=V.enc.Base64.parse(we),st=V.enc.Hex.stringify(ze);return(0,B[Te].proc)(st,Oe,ke)};return{version:"1.0.0",parsePKCS5PEM:function(we){return Q(we)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(we,Te,Oe){return le(we,Te,Oe)},decryptKeyB64:function(we,Te,Oe,ke){return Se(we,Te,Oe,ke)},getDecryptedKeyHex:function(we,Te){var Oe=Q(we),ke=(Oe.type,Oe.cipher),ze=Oe.ivsalt,st=Oe.data,yt=le(ke,Te,ze).keyhex;return Se(st,ke,yt,ze)},getEncryptedPKCS5PEMFromPrvKeyHex:function(we,Te,Oe,ke,ze){var st="";if(ke!==void 0&&ke!=null||(ke="AES-256-CBC"),B[ke]===void 0)throw new Error("KEYUTIL unsupported algorithm: "+ke);ze!==void 0&&ze!=null||(ze=function(oe){var Ae=V.lib.WordArray.random(oe);return V.enc.Hex.stringify(Ae)}(B[ke].ivlen).toUpperCase());var yt=function(oe,Ae,De,Le){return(0,B[Ae].eproc)(oe,De,Le)}(Te,ke,le(ke,Oe,ze).keyhex,ze);return st="-----BEGIN "+we+` PRIVATE KEY-----\r
`,st+=`Proc-Type: 4,ENCRYPTED\r
`,st+="DEK-Info: "+ke+","+ze+`\r
`,st+=`\r
`,st+=yt.replace(/(.{64})/g,`$1\r
`),st+=`\r
-----END `+we+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(we){var Te=Xe,Oe=Te.getChildIdx,ke=Te.getV,ze={},st=Oe(we,0);if(st.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+st.length);ze.ciphertext=ke(we,st[1]);var yt=Oe(we,st[0]);if(yt.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+yt.length);if(ke(we,yt[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var Et=Oe(we,yt[1]);if(yt.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+Et.length);var oe=Oe(we,Et[1]);if(oe.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+oe.length);if(ke(we,oe[0])!="2a864886f70d0307")throw"this only supports TripleDES";ze.encryptionSchemeAlg="TripleDES",ze.encryptionSchemeIV=ke(we,oe[1]);var Ae=Oe(we,Et[0]);if(Ae.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+Ae.length);if(ke(we,Ae[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var De=Oe(we,Ae[1]);if(De.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+De.length);ze.pbkdf2Salt=ke(we,De[0]);var Le=ke(we,De[1]);try{ze.pbkdf2Iter=parseInt(Le,16)}catch{throw new Error("malformed format pbkdf2Iter: "+Le)}return ze},getPBKDF2KeyHexFromParam:function(we,Te){var Oe=V.enc.Hex.parse(we.pbkdf2Salt),ke=we.pbkdf2Iter,ze=V.PBKDF2(Te,Oe,{keySize:6,iterations:ke});return V.enc.Hex.stringify(ze)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(we,Te){var Oe=Ct(we,"ENCRYPTED PRIVATE KEY"),ke=this.parseHexOfEncryptedPKCS8(Oe),ze=Gt.getPBKDF2KeyHexFromParam(ke,Te),st={};st.ciphertext=V.enc.Hex.parse(ke.ciphertext);var yt=V.enc.Hex.parse(ze),Et=V.enc.Hex.parse(ke.encryptionSchemeIV),oe=V.TripleDES.decrypt(st,yt,{iv:Et});return V.enc.Hex.stringify(oe)},getKeyFromEncryptedPKCS8PEM:function(we,Te){var Oe=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(we,Te);return this.getKeyFromPlainPrivatePKCS8Hex(Oe)},parsePlainPrivatePKCS8Hex:function(we){var Te=Xe,Oe=Te.getChildIdx,ke=Te.getV,ze={algparam:null};if(we.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var st=Oe(we,0);if(st.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(we.substr(st[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var yt=Oe(we,st[1]);if(yt.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(we.substr(yt[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(ze.algoid=ke(we,yt[0]),we.substr(yt[1],2)=="06"&&(ze.algparam=ke(we,yt[1])),we.substr(st[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return ze.keyidx=Te.getVidx(we,st[2]),ze},getKeyFromPlainPrivatePKCS8PEM:function(we){var Te=Ct(we,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Te)},getKeyFromPlainPrivatePKCS8Hex:function(we){var Te,Oe=this.parsePlainPrivatePKCS8Hex(we);if(Oe.algoid=="2a864886f70d010101")Te=new Fe;else if(Oe.algoid=="2a8648ce380401")Te=new H.crypto.DSA;else{if(Oe.algoid!="2a8648ce3d0201")throw new Error("unsupported private key algorithm");Te=new H.crypto.ECDSA}return Te.readPKCS8PrvKeyHex(we),Te},_getKeyFromPublicPKCS8Hex:function(we){var Te,Oe=Xe.getVbyList(we,0,[0,0],"06");if(Oe==="2a864886f70d010101")Te=new Fe;else if(Oe==="2a8648ce380401")Te=new H.crypto.DSA;else{if(Oe!=="2a8648ce3d0201")throw new Error("unsupported PKCS#8 public key hex");Te=new H.crypto.ECDSA}return Te.readPKCS8PubKeyHex(we),Te},parsePublicRawRSAKeyHex:function(we){var Te=Xe,Oe=Te.getChildIdx,ke=Te.getV,ze={};if(we.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var st=Oe(we,0);if(st.length!=2)throw new Error("malformed RSA key(code:002)");if(we.substr(st[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(ze.n=ke(we,st[0]),we.substr(st[1],2)!="02")throw new Error("malformed RSA key(code:004)");return ze.e=ke(we,st[1]),ze},parsePublicPKCS8Hex:function(we){var Te=Xe,Oe=Te.getChildIdx,ke=Te.getV,ze={algparam:null},st=Oe(we,0);if(st.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+st.length);var yt=st[0];if(we.substr(yt,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var Et=Oe(we,yt);if(Et.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(we.substr(Et[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(ze.algoid=ke(we,Et[0]),we.substr(Et[1],2)=="06"?ze.algparam=ke(we,Et[1]):we.substr(Et[1],2)=="30"&&(ze.algparam={},ze.algparam.p=Te.getVbyList(we,Et[1],[0],"02"),ze.algparam.q=Te.getVbyList(we,Et[1],[1],"02"),ze.algparam.g=Te.getVbyList(we,Et[1],[2],"02")),we.substr(st[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return ze.key=ke(we,st[1]).substr(2),ze}}}();Gt.getKey=function(b,v,A){var I=(Et=Xe).getChildIdx,B=(Et.getV,Et.getVbyList),Q=H.crypto,le=Q.ECDSA,Se=Q.DSA,ye=Fe,we=Ct,Te=Gt;if(ye!==void 0&&b instanceof ye||le!==void 0&&b instanceof le||Se!==void 0&&b instanceof Se)return b;if(b.curve!==void 0&&b.xy!==void 0&&b.d===void 0)return new le({pub:b.xy,curve:b.curve});if(b.curve!==void 0&&b.d!==void 0)return new le({prv:b.d,curve:b.curve});if(b.kty===void 0&&b.n!==void 0&&b.e!==void 0&&b.d===void 0)return(gn=new ye).setPublic(b.n,b.e),gn;if(b.kty===void 0&&b.n!==void 0&&b.e!==void 0&&b.d!==void 0&&b.p!==void 0&&b.q!==void 0&&b.dp!==void 0&&b.dq!==void 0&&b.co!==void 0&&b.qi===void 0)return(gn=new ye).setPrivateEx(b.n,b.e,b.d,b.p,b.q,b.dp,b.dq,b.co),gn;if(b.kty===void 0&&b.n!==void 0&&b.e!==void 0&&b.d!==void 0&&b.p===void 0)return(gn=new ye).setPrivate(b.n,b.e,b.d),gn;if(b.p!==void 0&&b.q!==void 0&&b.g!==void 0&&b.y!==void 0&&b.x===void 0)return(gn=new Se).setPublic(b.p,b.q,b.g,b.y),gn;if(b.p!==void 0&&b.q!==void 0&&b.g!==void 0&&b.y!==void 0&&b.x!==void 0)return(gn=new Se).setPrivate(b.p,b.q,b.g,b.y,b.x),gn;if(b.kty==="RSA"&&b.n!==void 0&&b.e!==void 0&&b.d===void 0)return(gn=new ye).setPublic(Be(b.n),Be(b.e)),gn;if(b.kty==="RSA"&&b.n!==void 0&&b.e!==void 0&&b.d!==void 0&&b.p!==void 0&&b.q!==void 0&&b.dp!==void 0&&b.dq!==void 0&&b.qi!==void 0)return(gn=new ye).setPrivateEx(Be(b.n),Be(b.e),Be(b.d),Be(b.p),Be(b.q),Be(b.dp),Be(b.dq),Be(b.qi)),gn;if(b.kty==="RSA"&&b.n!==void 0&&b.e!==void 0&&b.d!==void 0)return(gn=new ye).setPrivate(Be(b.n),Be(b.e),Be(b.d)),gn;if(b.kty==="EC"&&b.crv!==void 0&&b.x!==void 0&&b.y!==void 0&&b.d===void 0){var Oe=(un=new le({curve:b.crv})).ecparams.keylen/4,ke="04"+("0000000000"+Be(b.x)).slice(-Oe)+("0000000000"+Be(b.y)).slice(-Oe);return un.setPublicKeyHex(ke),un}if(b.kty==="EC"&&b.crv!==void 0&&b.x!==void 0&&b.y!==void 0&&b.d!==void 0){Oe=(un=new le({curve:b.crv})).ecparams.keylen/4,ke="04"+("0000000000"+Be(b.x)).slice(-Oe)+("0000000000"+Be(b.y)).slice(-Oe);var ze=("0000000000"+Be(b.d)).slice(-Oe);return un.setPublicKeyHex(ke),un.setPrivateKeyHex(ze),un}if(A==="pkcs5prv"){var st,yt=b,Et=Xe;if((st=I(yt,0)).length===9)(gn=new ye).readPKCS5PrvKeyHex(yt);else if(st.length===6)(gn=new Se).readPKCS5PrvKeyHex(yt);else{if(!(st.length>2&&yt.substr(st[1],2)==="04"))throw new Error("unsupported PKCS#1/5 hexadecimal key");(gn=new le).readPKCS5PrvKeyHex(yt)}return gn}if(A==="pkcs8prv")return gn=Te.getKeyFromPlainPrivatePKCS8Hex(b);if(A==="pkcs8pub")return Te._getKeyFromPublicPKCS8Hex(b);if(A==="x509pub")return Un.getPublicKeyFromCertHex(b);if(b.indexOf("-END CERTIFICATE-",0)!=-1||b.indexOf("-END X509 CERTIFICATE-",0)!=-1||b.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Un.getPublicKeyFromCertPEM(b);if(b.indexOf("-END PUBLIC KEY-")!=-1){var oe=Ct(b,"PUBLIC KEY");return Te._getKeyFromPublicPKCS8Hex(oe)}if(b.indexOf("-END RSA PRIVATE KEY-")!=-1&&b.indexOf("4,ENCRYPTED")==-1){var Ae=we(b,"RSA PRIVATE KEY");return Te.getKey(Ae,null,"pkcs5prv")}if(b.indexOf("-END DSA PRIVATE KEY-")!=-1&&b.indexOf("4,ENCRYPTED")==-1){var De=B(or=we(b,"DSA PRIVATE KEY"),0,[1],"02"),Le=B(or,0,[2],"02"),ht=B(or,0,[3],"02"),At=B(or,0,[4],"02"),dn=B(or,0,[5],"02");return(gn=new Se).setPrivate(new K(De,16),new K(Le,16),new K(ht,16),new K(At,16),new K(dn,16)),gn}if(b.indexOf("-END EC PRIVATE KEY-")!=-1&&b.indexOf("4,ENCRYPTED")==-1)return Ae=we(b,"EC PRIVATE KEY"),Te.getKey(Ae,null,"pkcs5prv");if(b.indexOf("-END PRIVATE KEY-")!=-1)return Te.getKeyFromPlainPrivatePKCS8PEM(b);if(b.indexOf("-END RSA PRIVATE KEY-")!=-1&&b.indexOf("4,ENCRYPTED")!=-1){var Bt=Te.getDecryptedKeyHex(b,v),Yn=new Fe;return Yn.readPKCS5PrvKeyHex(Bt),Yn}if(b.indexOf("-END EC PRIVATE KEY-")!=-1&&b.indexOf("4,ENCRYPTED")!=-1){var un,gn=B(or=Te.getDecryptedKeyHex(b,v),0,[1],"04"),ar=B(or,0,[2,0],"06"),hn=B(or,0,[3,0],"03").substr(2);if(H.crypto.OID.oidhex2name[ar]===void 0)throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+ar);return(un=new le({curve:H.crypto.OID.oidhex2name[ar]})).setPublicKeyHex(hn),un.setPrivateKeyHex(gn),un.isPublic=!1,un}if(b.indexOf("-END DSA PRIVATE KEY-")!=-1&&b.indexOf("4,ENCRYPTED")!=-1){var or;return De=B(or=Te.getDecryptedKeyHex(b,v),0,[1],"02"),Le=B(or,0,[2],"02"),ht=B(or,0,[3],"02"),At=B(or,0,[4],"02"),dn=B(or,0,[5],"02"),(gn=new Se).setPrivate(new K(De,16),new K(Le,16),new K(ht,16),new K(At,16),new K(dn,16)),gn}if(b.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return Te.getKeyFromEncryptedPKCS8PEM(b,v);throw new Error("not supported argument")},Gt.generateKeypair=function(b,v){if(b=="RSA"){var A=v;(le=new Fe).generate(A,"10001"),le.isPrivate=!0,le.isPublic=!0;var I=new Fe,B=le.n.toString(16),Q=le.e.toString(16);return I.setPublic(B,Q),I.isPrivate=!1,I.isPublic=!0,(Se={}).prvKeyObj=le,Se.pubKeyObj=I,Se}if(b=="EC"){var le,Se,ye=v,we=new H.crypto.ECDSA({curve:ye}).generateKeyPairHex();return(le=new H.crypto.ECDSA({curve:ye})).setPublicKeyHex(we.ecpubhex),le.setPrivateKeyHex(we.ecprvhex),le.isPrivate=!0,le.isPublic=!1,(I=new H.crypto.ECDSA({curve:ye})).setPublicKeyHex(we.ecpubhex),I.isPrivate=!1,I.isPublic=!0,(Se={}).prvKeyObj=le,Se.pubKeyObj=I,Se}throw new Error("unknown algorithm: "+b)},Gt.getPEM=function(b,v,A,I,B,Q){var le=H,Se=le.asn1,ye=Se.DERObjectIdentifier,we=Se.DERInteger,Te=Se.ASN1Util.newObject,Oe=Se.x509.SubjectPublicKeyInfo,ke=le.crypto,ze=ke.DSA,st=ke.ECDSA,yt=Fe;function Et(un){return Te({seq:[{int:0},{int:{bigint:un.n}},{int:un.e},{int:{bigint:un.d}},{int:{bigint:un.p}},{int:{bigint:un.q}},{int:{bigint:un.dmp1}},{int:{bigint:un.dmq1}},{int:{bigint:un.coeff}}]})}function oe(un){return Te({seq:[{int:1},{octstr:{hex:un.prvKeyHex}},{tag:["a0",!0,{oid:{name:un.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+un.pubKeyHex}}]}]})}function Ae(un){return Te({seq:[{int:0},{int:{bigint:un.p}},{int:{bigint:un.q}},{int:{bigint:un.g}},{int:{bigint:un.y}},{int:{bigint:un.x}}]})}if((yt!==void 0&&b instanceof yt||ze!==void 0&&b instanceof ze||st!==void 0&&b instanceof st)&&b.isPublic==1&&(v===void 0||v=="PKCS8PUB"))return Tt(At=new Oe(b).getEncodedHex(),"PUBLIC KEY");if(v=="PKCS1PRV"&&yt!==void 0&&b instanceof yt&&(A===void 0||A==null)&&b.isPrivate==1)return Tt(At=Et(b).getEncodedHex(),"RSA PRIVATE KEY");if(v=="PKCS1PRV"&&st!==void 0&&b instanceof st&&(A===void 0||A==null)&&b.isPrivate==1){var De=new ye({name:b.curveName}).getEncodedHex(),Le=oe(b).getEncodedHex(),ht="";return ht+=Tt(De,"EC PARAMETERS"),ht+=Tt(Le,"EC PRIVATE KEY")}if(v=="PKCS1PRV"&&ze!==void 0&&b instanceof ze&&(A===void 0||A==null)&&b.isPrivate==1)return Tt(At=Ae(b).getEncodedHex(),"DSA PRIVATE KEY");if(v=="PKCS5PRV"&&yt!==void 0&&b instanceof yt&&A!==void 0&&A!=null&&b.isPrivate==1){var At=Et(b).getEncodedHex();return I===void 0&&(I="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",At,A,I,Q)}if(v=="PKCS5PRV"&&st!==void 0&&b instanceof st&&A!==void 0&&A!=null&&b.isPrivate==1)return At=oe(b).getEncodedHex(),I===void 0&&(I="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",At,A,I,Q);if(v=="PKCS5PRV"&&ze!==void 0&&b instanceof ze&&A!==void 0&&A!=null&&b.isPrivate==1)return At=Ae(b).getEncodedHex(),I===void 0&&(I="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",At,A,I,Q);var dn=function(gn,ar){var hn=Bt(gn,ar);return new Te({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:hn.pbkdf2Salt}},{int:hn.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:hn.encryptionSchemeIV}}]}]}]},{octstr:{hex:hn.ciphertext}}]}).getEncodedHex()},Bt=function(gn,ar){var hn=V.lib.WordArray.random(8),or=V.lib.WordArray.random(8),rr=V.PBKDF2(ar,hn,{keySize:6,iterations:100}),Dr=V.enc.Hex.parse(gn),tr=V.TripleDES.encrypt(Dr,rr,{iv:or})+"",ir={};return ir.ciphertext=tr,ir.pbkdf2Salt=V.enc.Hex.stringify(hn),ir.pbkdf2Iter=100,ir.encryptionSchemeAlg="DES-EDE3-CBC",ir.encryptionSchemeIV=V.enc.Hex.stringify(or),ir};if(v=="PKCS8PRV"&&yt!=null&&b instanceof yt&&b.isPrivate==1){var Yn=Et(b).getEncodedHex();return At=Te({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:Yn}}]}).getEncodedHex(),A===void 0||A==null?Tt(At,"PRIVATE KEY"):Tt(Le=dn(At,A),"ENCRYPTED PRIVATE KEY")}if(v=="PKCS8PRV"&&st!==void 0&&b instanceof st&&b.isPrivate==1)return Yn=new Te({seq:[{int:1},{octstr:{hex:b.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+b.pubKeyHex}}]}]}).getEncodedHex(),At=Te({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:b.curveName}}]},{octstr:{hex:Yn}}]}).getEncodedHex(),A===void 0||A==null?Tt(At,"PRIVATE KEY"):Tt(Le=dn(At,A),"ENCRYPTED PRIVATE KEY");if(v=="PKCS8PRV"&&ze!==void 0&&b instanceof ze&&b.isPrivate==1)return Yn=new we({bigint:b.x}).getEncodedHex(),At=Te({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:b.p}},{int:{bigint:b.q}},{int:{bigint:b.g}}]}]},{octstr:{hex:Yn}}]}).getEncodedHex(),A===void 0||A==null?Tt(At,"PRIVATE KEY"):Tt(Le=dn(At,A),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},Gt.getKeyFromCSRPEM=function(b){var v=Ct(b,"CERTIFICATE REQUEST");return Gt.getKeyFromCSRHex(v)},Gt.getKeyFromCSRHex=function(b){var v=Gt.parseCSRHex(b);return Gt.getKey(v.p8pubkeyhex,null,"pkcs8pub")},Gt.parseCSRHex=function(b){var v=Xe,A=v.getChildIdx,I=v.getTLV,B={},Q=b;if(Q.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var le=A(Q,0);if(le.length<1)throw new Error("malformed CSR(code:002)");if(Q.substr(le[0],2)!="30")throw new Error("malformed CSR(code:003)");var Se=A(Q,le[0]);if(Se.length<3)throw new Error("malformed CSR(code:004)");return B.p8pubkeyhex=I(Q,Se[2]),B},Gt.getKeyID=function(b){var v=Gt,A=Xe;typeof b=="string"&&b.indexOf("BEGIN ")!=-1&&(b=v.getKey(b));var I=Ct(v.getPEM(b)),B=A.getIdxbyList(I,0,[1]),Q=A.getV(I,B).substring(2);return H.crypto.Util.hashHex(Q,"sha1")},Gt.getJWKFromKey=function(b){var v={};if(b instanceof Fe&&b.isPrivate)return v.kty="RSA",v.n=ft(b.n.toString(16)),v.e=ft(b.e.toString(16)),v.d=ft(b.d.toString(16)),v.p=ft(b.p.toString(16)),v.q=ft(b.q.toString(16)),v.dp=ft(b.dmp1.toString(16)),v.dq=ft(b.dmq1.toString(16)),v.qi=ft(b.coeff.toString(16)),v;if(b instanceof Fe&&b.isPublic)return v.kty="RSA",v.n=ft(b.n.toString(16)),v.e=ft(b.e.toString(16)),v;if(b instanceof H.crypto.ECDSA&&b.isPrivate){if((I=b.getShortNISTPCurveName())!=="P-256"&&I!=="P-384")throw new Error("unsupported curve name for JWT: "+I);var A=b.getPublicKeyXYHex();return v.kty="EC",v.crv=I,v.x=ft(A.x),v.y=ft(A.y),v.d=ft(b.prvKeyHex),v}if(b instanceof H.crypto.ECDSA&&b.isPublic){var I;if((I=b.getShortNISTPCurveName())!=="P-256"&&I!=="P-384")throw new Error("unsupported curve name for JWT: "+I);return A=b.getPublicKeyXYHex(),v.kty="EC",v.crv=I,v.x=ft(A.x),v.y=ft(A.y),v}throw new Error("not supported key object")},Fe.getPosArrayOfChildrenFromHex=function(b){return Xe.getChildIdx(b,0)},Fe.getHexValueArrayOfChildrenFromHex=function(b){var v,A=Xe.getV,I=A(b,(v=Fe.getPosArrayOfChildrenFromHex(b))[0]),B=A(b,v[1]),Q=A(b,v[2]),le=A(b,v[3]),Se=A(b,v[4]),ye=A(b,v[5]),we=A(b,v[6]),Te=A(b,v[7]),Oe=A(b,v[8]);return(v=new Array).push(I,B,Q,le,Se,ye,we,Te,Oe),v},Fe.prototype.readPrivateKeyFromPEMString=function(b){var v=Ct(b),A=Fe.getHexValueArrayOfChildrenFromHex(v);this.setPrivateEx(A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8])},Fe.prototype.readPKCS5PrvKeyHex=function(b){var v=Fe.getHexValueArrayOfChildrenFromHex(b);this.setPrivateEx(v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8])},Fe.prototype.readPKCS8PrvKeyHex=function(b){var v,A,I,B,Q,le,Se,ye,we=Xe,Te=we.getVbyListEx;if(we.isASN1HEX(b)===!1)throw new Error("not ASN.1 hex string");try{v=Te(b,0,[2,0,1],"02"),A=Te(b,0,[2,0,2],"02"),I=Te(b,0,[2,0,3],"02"),B=Te(b,0,[2,0,4],"02"),Q=Te(b,0,[2,0,5],"02"),le=Te(b,0,[2,0,6],"02"),Se=Te(b,0,[2,0,7],"02"),ye=Te(b,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(v,A,I,B,Q,le,Se,ye)},Fe.prototype.readPKCS5PubKeyHex=function(b){var v=Xe,A=v.getV;if(v.isASN1HEX(b)===!1)throw new Error("keyHex is not ASN.1 hex string");var I=v.getChildIdx(b,0);if(I.length!==2||b.substr(I[0],2)!=="02"||b.substr(I[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var B=A(b,I[0]),Q=A(b,I[1]);this.setPublic(B,Q)},Fe.prototype.readPKCS8PubKeyHex=function(b){var v=Xe;if(v.isASN1HEX(b)===!1)throw new Error("not ASN.1 hex string");if(v.getTLVbyListEx(b,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var A=v.getTLVbyListEx(b,0,[1,0]);this.readPKCS5PubKeyHex(A)},Fe.prototype.readCertPubKeyHex=function(b,v){var A,I;(A=new Un).readCertHex(b),I=A.getPublicKeyHex(),this.readPKCS8PubKeyHex(I)};function er(b,v){for(var A="",I=v/4-b.length,B=0;B<I;B++)A+="0";return A+b}function Fr(b,v,A){for(var I="",B=0;I.length<v;)I+=zt(A(tn(b+String.fromCharCode.apply(String,[(4278190080&B)>>24,(16711680&B)>>16,(65280&B)>>8,255&B])))),B+=1;return I}function pr(b){for(var v in H.crypto.Util.DIGESTINFOHEAD){var A=H.crypto.Util.DIGESTINFOHEAD[v],I=A.length;if(b.substring(0,I)==A)return[v,b.substring(I)]}return[]}function Un(b){var v,A=Xe,I=A.getChildIdx,B=A.getV,Q=A.getTLV,le=A.getVbyList,Se=A.getVbyListEx,ye=A.getTLVbyList,we=A.getTLVbyListEx,Te=A.getIdxbyList,Oe=A.getIdxbyListEx,ke=A.getVidx,ze=A.getInt,st=A.oidname,yt=A.hextooidstr,Et=Ct;try{v=H.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var oe=ye(this.hex,0,[0,0]);if(oe.substr(0,2)=="a0"){var Ae=ye(oe,0,[0]),De=ze(Ae,0);if(De<0||2<De)throw new Error("malformed version field");return this.version=De+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return Se(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var oe=we(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(oe)},this.getAlgorithmIdentifierName=function(oe){for(var Ae in v)if(oe===v[Ae])return Ae;return st(Se(oe,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return ye(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return ye(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var oe=le(this.hex,0,[0,4+this.foffset,0]);return oe=oe.replace(/(..)/g,"%$1"),oe=decodeURIComponent(oe)},this.getNotAfter=function(){var oe=le(this.hex,0,[0,4+this.foffset,1]);return oe=oe.replace(/(..)/g,"%$1"),oe=decodeURIComponent(oe)},this.getPublicKeyHex=function(){return A.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Te(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var oe=this.getPublicKeyIdx();return Te(this.hex,oe,[1,0],"30")},this.getPublicKey=function(){return Gt.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var oe=ye(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(oe)},this.getSignatureValueHex=function(){return le(this.hex,0,[2],"03",!0)},this.verifySignature=function(oe){var Ae=this.getSignatureAlgorithmField(),De=this.getSignatureValueHex(),Le=ye(this.hex,0,[0],"30"),ht=new H.crypto.Signature({alg:Ae});return ht.init(oe),ht.updateHex(Le),ht.verify(De)},this.parseExt=function(oe){var Ae,De,Le;if(oe===void 0){if(Le=this.hex,this.version!==3)return-1;Ae=Te(Le,0,[0,7,0],"30"),De=I(Le,Ae)}else{Le=Ct(oe);var ht=Te(Le,0,[0,3,0,0],"06");if(B(Le,ht)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);Ae=Te(Le,0,[0,3,0,1,0],"30"),De=I(Le,Ae),this.hex=Le}this.aExtInfo=new Array;for(var At=0;At<De.length;At++){var dn={critical:!1},Bt=0;I(Le,De[At]).length===3&&(dn.critical=!0,Bt=1),dn.oid=A.hextooidstr(le(Le,De[At],[0],"06"));var Yn=Te(Le,De[At],[1+Bt]);dn.vidx=ke(Le,Yn),this.aExtInfo.push(dn)}},this.getExtInfo=function(oe){var Ae=this.aExtInfo,De=oe;if(oe.match(/^[0-9.]+$/)||(De=H.asn1.x509.OID.name2oid(oe)),De!==""){for(var Le=0;Le<Ae.length;Le++)if(Ae[Le].oid===De)return Ae[Le]}},this.getExtBasicConstraints=function(oe,Ae){if(oe===void 0&&Ae===void 0){var De=this.getExtInfo("basicConstraints");if(De===void 0)return;oe=Q(this.hex,De.vidx),Ae=De.critical}var Le={extname:"basicConstraints"};if(Ae&&(Le.critical=!0),oe==="3000")return Le;if(oe==="30030101ff")return Le.cA=!0,Le;if(oe.substr(0,12)==="30060101ff02"){var ht=B(oe,10),At=parseInt(ht,16);return Le.cA=!0,Le.pathLen=At,Le}throw new Error("hExtV parse error: "+oe)},this.getExtKeyUsage=function(oe,Ae){if(oe===void 0&&Ae===void 0){var De=this.getExtInfo("keyUsage");if(De===void 0)return;oe=Q(this.hex,De.vidx),Ae=De.critical}var Le={extname:"keyUsage"};return Ae&&(Le.critical=!0),Le.names=this.getExtKeyUsageString(oe).split(","),Le},this.getExtKeyUsageBin=function(oe){if(oe===void 0){var Ae=this.getExtInfo("keyUsage");if(Ae===void 0)return"";oe=Q(this.hex,Ae.vidx)}if(oe.length!=8&&oe.length!=10)throw new Error("malformed key usage value: "+oe);var De="000000000000000"+parseInt(oe.substr(6),16).toString(2);return oe.length==8&&(De=De.slice(-8)),oe.length==10&&(De=De.slice(-16)),(De=De.replace(/0+$/,""))==""&&(De="0"),De},this.getExtKeyUsageString=function(oe){for(var Ae=this.getExtKeyUsageBin(oe),De=new Array,Le=0;Le<Ae.length;Le++)Ae.substr(Le,1)=="1"&&De.push(Un.KEYUSAGE_NAME[Le]);return De.join(",")},this.getExtSubjectKeyIdentifier=function(oe,Ae){if(oe===void 0&&Ae===void 0){var De=this.getExtInfo("subjectKeyIdentifier");if(De===void 0)return;oe=Q(this.hex,De.vidx),Ae=De.critical}var Le={extname:"subjectKeyIdentifier"};Ae&&(Le.critical=!0);var ht=B(oe,0);return Le.kid={hex:ht},Le},this.getExtAuthorityKeyIdentifier=function(oe,Ae){if(oe===void 0&&Ae===void 0){var De=this.getExtInfo("authorityKeyIdentifier");if(De===void 0)return;oe=Q(this.hex,De.vidx),Ae=De.critical}var Le={extname:"authorityKeyIdentifier"};Ae&&(Le.critical=!0);for(var ht=I(oe,0),At=0;At<ht.length;At++){var dn=oe.substr(ht[At],2);if(dn==="80"&&(Le.kid={hex:B(oe,ht[At])}),dn==="a1"){var Bt=Q(oe,ht[At]),Yn=this.getGeneralNames(Bt);Le.issuer=Yn[0].dn}dn==="82"&&(Le.sn={hex:B(oe,ht[At])})}return Le},this.getExtExtKeyUsage=function(oe,Ae){if(oe===void 0&&Ae===void 0){var De=this.getExtInfo("extKeyUsage");if(De===void 0)return;oe=Q(this.hex,De.vidx),Ae=De.critical}var Le={extname:"extKeyUsage",array:[]};Ae&&(Le.critical=!0);for(var ht=I(oe,0),At=0;At<ht.length;At++)Le.array.push(st(B(oe,ht[At])));return Le},this.getExtExtKeyUsageName=function(){var oe=this.getExtInfo("extKeyUsage");if(oe===void 0)return oe;var Ae=new Array,De=Q(this.hex,oe.vidx);if(De==="")return Ae;for(var Le=I(De,0),ht=0;ht<Le.length;ht++)Ae.push(st(B(De,Le[ht])));return Ae},this.getExtSubjectAltName=function(oe,Ae){if(oe===void 0&&Ae===void 0){var De=this.getExtInfo("subjectAltName");if(De===void 0)return;oe=Q(this.hex,De.vidx),Ae=De.critical}var Le={extname:"subjectAltName",array:[]};return Ae&&(Le.critical=!0),Le.array=this.getGeneralNames(oe),Le},this.getExtIssuerAltName=function(oe,Ae){if(oe===void 0&&Ae===void 0){var De=this.getExtInfo("issuerAltName");if(De===void 0)return;oe=Q(this.hex,De.vidx),Ae=De.critical}var Le={extname:"issuerAltName",array:[]};return Ae&&(Le.critical=!0),Le.array=this.getGeneralNames(oe),Le},this.getGeneralNames=function(oe){for(var Ae=I(oe,0),De=[],Le=0;Le<Ae.length;Le++){var ht=this.getGeneralName(Q(oe,Ae[Le]));ht!==void 0&&De.push(ht)}return De},this.getGeneralName=function(oe){var Ae=oe.substr(0,2),De=B(oe,0),Le=zt(De);return Ae=="81"?{rfc822:Le}:Ae=="82"?{dns:Le}:Ae=="86"?{uri:Le}:Ae=="87"?{ip:vn(De)}:Ae=="a4"?{dn:this.getX500Name(De)}:void 0},this.getExtSubjectAltName2=function(){var oe,Ae,De,Le=this.getExtInfo("subjectAltName");if(Le===void 0)return Le;for(var ht=new Array,At=Q(this.hex,Le.vidx),dn=I(At,0),Bt=0;Bt<dn.length;Bt++)De=At.substr(dn[Bt],2),oe=B(At,dn[Bt]),De==="81"&&(Ae=Qt(oe),ht.push(["MAIL",Ae])),De==="82"&&(Ae=Qt(oe),ht.push(["DNS",Ae])),De==="84"&&(Ae=Un.hex2dn(oe,0),ht.push(["DN",Ae])),De==="86"&&(Ae=Qt(oe),ht.push(["URI",Ae])),De==="87"&&(Ae=vn(oe),ht.push(["IP",Ae]));return ht},this.getExtCRLDistributionPoints=function(oe,Ae){if(oe===void 0&&Ae===void 0){var De=this.getExtInfo("cRLDistributionPoints");if(De===void 0)return;oe=Q(this.hex,De.vidx),Ae=De.critical}var Le={extname:"cRLDistributionPoints",array:[]};Ae&&(Le.critical=!0);for(var ht=I(oe,0),At=0;At<ht.length;At++){var dn=Q(oe,ht[At]);Le.array.push(this.getDistributionPoint(dn))}return Le},this.getDistributionPoint=function(oe){for(var Ae={},De=I(oe,0),Le=0;Le<De.length;Le++){var ht=oe.substr(De[Le],2),At=Q(oe,De[Le]);ht=="a0"&&(Ae.dpname=this.getDistributionPointName(At))}return Ae},this.getDistributionPointName=function(oe){for(var Ae={},De=I(oe,0),Le=0;Le<De.length;Le++){var ht=oe.substr(De[Le],2),At=Q(oe,De[Le]);ht=="a0"&&(Ae.full=this.getGeneralNames(At))}return Ae},this.getExtCRLDistributionPointsURI=function(){var oe=this.getExtInfo("cRLDistributionPoints");if(oe===void 0)return oe;for(var Ae=new Array,De=I(this.hex,oe.vidx),Le=0;Le<De.length;Le++)try{var ht=Qt(le(this.hex,De[Le],[0,0,0],"86"));Ae.push(ht)}catch{}return Ae},this.getExtAIAInfo=function(){var oe=this.getExtInfo("authorityInfoAccess");if(oe===void 0)return oe;for(var Ae={ocsp:[],caissuer:[]},De=I(this.hex,oe.vidx),Le=0;Le<De.length;Le++){var ht=le(this.hex,De[Le],[0],"06"),At=le(this.hex,De[Le],[1],"86");ht==="2b06010505073001"&&Ae.ocsp.push(Qt(At)),ht==="2b06010505073002"&&Ae.caissuer.push(Qt(At))}return Ae},this.getExtAuthorityInfoAccess=function(oe,Ae){if(oe===void 0&&Ae===void 0){var De=this.getExtInfo("authorityInfoAccess");if(De===void 0)return;oe=Q(this.hex,De.vidx),Ae=De.critical}var Le={extname:"authorityInfoAccess",array:[]};Ae&&(Le.critical=!0);for(var ht=I(oe,0),At=0;At<ht.length;At++){var dn=Se(oe,ht[At],[0],"06"),Bt=Qt(le(oe,ht[At],[1],"86"));if(dn=="2b06010505073001")Le.array.push({ocsp:Bt});else{if(dn!="2b06010505073002")throw new Error("unknown method: "+dn);Le.array.push({caissuer:Bt})}}return Le},this.getExtCertificatePolicies=function(oe,Ae){if(oe===void 0&&Ae===void 0){var De=this.getExtInfo("certificatePolicies");if(De===void 0)return;oe=Q(this.hex,De.vidx),Ae=De.critical}var Le={extname:"certificatePolicies",array:[]};Ae&&(Le.critical=!0);for(var ht=I(oe,0),At=0;At<ht.length;At++){var dn=Q(oe,ht[At]),Bt=this.getPolicyInformation(dn);Le.array.push(Bt)}return Le},this.getPolicyInformation=function(oe){var Ae={},De=le(oe,0,[0],"06");Ae.policyoid=st(De);var Le=Oe(oe,0,[1],"30");if(Le!=-1){Ae.array=[];for(var ht=I(oe,Le),At=0;At<ht.length;At++){var dn=Q(oe,ht[At]),Bt=this.getPolicyQualifierInfo(dn);Ae.array.push(Bt)}}return Ae},this.getPolicyQualifierInfo=function(oe){var Ae={},De=le(oe,0,[0],"06");if(De==="2b06010505070201"){var Le=Se(oe,0,[1],"16");Ae.cps=zt(Le)}else if(De==="2b06010505070202"){var ht=ye(oe,0,[1],"30");Ae.unotice=this.getUserNotice(ht)}return Ae},this.getUserNotice=function(oe){for(var Ae={},De=I(oe,0),Le=0;Le<De.length;Le++){var ht=Q(oe,De[Le]);ht.substr(0,2)!="30"&&(Ae.exptext=this.getDisplayText(ht))}return Ae},this.getDisplayText=function(oe){var Ae={};return Ae.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[oe.substr(0,2)],Ae.str=zt(B(oe,0)),Ae},this.getExtCRLNumber=function(oe,Ae){var De={extname:"cRLNumber"};if(Ae&&(De.critical=!0),oe.substr(0,2)=="02")return De.num={hex:B(oe,0)},De;throw new Error("hExtV parse error: "+oe)},this.getExtCRLReason=function(oe,Ae){var De={extname:"cRLReason"};if(Ae&&(De.critical=!0),oe.substr(0,2)=="0a")return De.code=parseInt(B(oe,0),16),De;throw new Error("hExtV parse error: "+oe)},this.getExtOcspNonce=function(oe,Ae){var De={extname:"ocspNonce"};Ae&&(De.critical=!0);var Le=B(oe,0);return De.hex=Le,De},this.getExtOcspNoCheck=function(oe,Ae){var De={extname:"ocspNoCheck"};return Ae&&(De.critical=!0),De},this.getExtAdobeTimeStamp=function(oe,Ae){if(oe===void 0&&Ae===void 0){var De=this.getExtInfo("adobeTimeStamp");if(De===void 0)return;oe=Q(this.hex,De.vidx),Ae=De.critical}var Le={extname:"adobeTimeStamp"};Ae&&(Le.critical=!0);var ht=I(oe,0);if(ht.length>1){var At=Q(oe,ht[1]),dn=this.getGeneralName(At);dn.uri!=null&&(Le.uri=dn.uri)}if(ht.length>2){var Bt=Q(oe,ht[2]);Bt=="0101ff"&&(Le.reqauth=!0),Bt=="010100"&&(Le.reqauth=!1)}return Le},this.getX500NameRule=function(oe){for(var Ae=null,De=[],Le=0;Le<oe.length;Le++)for(var ht=oe[Le],At=0;At<ht.length;At++)De.push(ht[At]);for(Le=0;Le<De.length;Le++){var dn=De[Le],Bt=dn.ds,Yn=dn.value,un=dn.type;if(Bt!="prn"&&Bt!="utf8"&&Bt!="ia5")return"mixed";if(Bt=="ia5"){if(un!="CN")return"mixed";if(H.lang.String.isMail(Yn))continue;return"mixed"}if(un=="C"){if(Bt=="prn")continue;return"mixed"}if(Ae==null)Ae=Bt;else if(Ae!==Bt)return"mixed"}return Ae??"prn"},this.getX500Name=function(oe){var Ae=this.getX500NameArray(oe);return{array:Ae,str:this.dnarraytostr(Ae)}},this.getX500NameArray=function(oe){for(var Ae=[],De=I(oe,0),Le=0;Le<De.length;Le++)Ae.push(this.getRDN(Q(oe,De[Le])));return Ae},this.getRDN=function(oe){for(var Ae=[],De=I(oe,0),Le=0;Le<De.length;Le++)Ae.push(this.getAttrTypeAndValue(Q(oe,De[Le])));return Ae},this.getAttrTypeAndValue=function(oe){var Ae={type:null,value:null,ds:null},De=I(oe,0),Le=le(oe,De[0],[],"06"),ht=le(oe,De[1],[]),At=H.asn1.ASN1Util.oidHexToInt(Le);return Ae.type=H.asn1.x509.OID.oid2atype(At),Ae.ds=this.HEX2STAG[oe.substr(De[1],2)],Ae.ds!="bmp"?Ae.value=Qt(ht):Ae.value=on(ht),Ae},this.readCertPEM=function(oe){this.readCertHex(Et(oe))},this.readCertHex=function(oe){this.hex=oe,this.getVersion();try{Te(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var oe={};return oe.version=this.getVersion(),oe.serial={hex:this.getSerialNumberHex()},oe.sigalg=this.getSignatureAlgorithmField(),oe.issuer=this.getIssuer(),oe.notbefore=this.getNotBefore(),oe.notafter=this.getNotAfter(),oe.subject=this.getSubject(),oe.sbjpubkey=Tt(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(oe.ext=this.getExtParamArray()),oe.sighex=this.getSignatureValueHex(),oe},this.getExtParamArray=function(oe){oe==null&&Oe(this.hex,0,[0,"[3]"])!=-1&&(oe=we(this.hex,0,[0,"[3]",0],"30"));for(var Ae=[],De=I(oe,0),Le=0;Le<De.length;Le++){var ht=Q(oe,De[Le]),At=this.getExtParam(ht);At!=null&&Ae.push(At)}return Ae},this.getExtParam=function(oe){var Ae=I(oe,0).length;if(Ae!=2&&Ae!=3)throw new Error("wrong number elements in Extension: "+Ae+" "+oe);var De=yt(le(oe,0,[0],"06")),Le=!1;Ae==3&&ye(oe,0,[1])=="0101ff"&&(Le=!0);var ht=ye(oe,0,[Ae-1,0]),At=void 0;if(De=="2.5.29.14"?At=this.getExtSubjectKeyIdentifier(ht,Le):De=="2.5.29.15"?At=this.getExtKeyUsage(ht,Le):De=="2.5.29.17"?At=this.getExtSubjectAltName(ht,Le):De=="2.5.29.18"?At=this.getExtIssuerAltName(ht,Le):De=="2.5.29.19"?At=this.getExtBasicConstraints(ht,Le):De=="2.5.29.31"?At=this.getExtCRLDistributionPoints(ht,Le):De=="2.5.29.32"?At=this.getExtCertificatePolicies(ht,Le):De=="2.5.29.35"?At=this.getExtAuthorityKeyIdentifier(ht,Le):De=="2.5.29.37"?At=this.getExtExtKeyUsage(ht,Le):De=="1.3.6.1.5.5.7.1.1"?At=this.getExtAuthorityInfoAccess(ht,Le):De=="2.5.29.20"?At=this.getExtCRLNumber(ht,Le):De=="2.5.29.21"?At=this.getExtCRLReason(ht,Le):De=="1.3.6.1.5.5.7.48.1.2"?At=this.getExtOcspNonce(ht,Le):De=="1.3.6.1.5.5.7.48.1.5"?At=this.getExtOcspNoCheck(ht,Le):De=="1.2.840.113583.1.1.9.1"&&(At=this.getExtAdobeTimeStamp(ht,Le)),At!=null)return At;var dn={extname:De,extn:ht};return Le&&(dn.critical=!0),dn},this.findExt=function(oe,Ae){for(var De=0;De<oe.length;De++)if(oe[De].extname==Ae)return oe[De];return null},this.updateExtCDPFullURI=function(oe,Ae){var De=this.findExt(oe,"cRLDistributionPoints");if(De!=null&&De.array!=null){for(var Le=De.array,ht=0;ht<Le.length;ht++)if(Le[ht].dpname!=null&&Le[ht].dpname.full!=null)for(var At=Le[ht].dpname.full,dn=0;dn<At.length;dn++){var Bt=At[ht];Bt.uri!=null&&(Bt.uri=Ae)}}},this.updateExtAIAOCSP=function(oe,Ae){var De=this.findExt(oe,"authorityInfoAccess");if(De!=null&&De.array!=null)for(var Le=De.array,ht=0;ht<Le.length;ht++)Le[ht].ocsp!=null&&(Le[ht].ocsp=Ae)},this.updateExtAIACAIssuer=function(oe,Ae){var De=this.findExt(oe,"authorityInfoAccess");if(De!=null&&De.array!=null)for(var Le=De.array,ht=0;ht<Le.length;ht++)Le[ht].caissuer!=null&&(Le[ht].caissuer=Ae)},this.dnarraytostr=function(oe){return"/"+oe.map(function(Ae){return function(Le){return Le.map(function(ht){return function(dn){return dn.type+"="+dn.value}(ht).replace(/\+/,"\\+")}).join("+")}(Ae).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var oe,Ae,De,Le=function(rr){return JSON.stringify(rr.array).replace(/[\[\]\{\}\"]/g,"")},ht=function(rr){for(var Dr="",tr=rr.array,ir=0;ir<tr.length;ir++){var Er=tr[ir];if(Dr+="    policy oid: "+Er.policyoid+`
`,Er.array!==void 0)for(var Cn=0;Cn<Er.array.length;Cn++){var Yr=Er.array[Cn];Yr.cps!==void 0&&(Dr+="    cps: "+Yr.cps+`
`)}}return Dr},At=function(rr){for(var Dr="",tr=rr.array,ir=0;ir<tr.length;ir++){var Er=tr[ir];try{Er.dpname.full[0].uri!==void 0&&(Dr+="    "+Er.dpname.full[0].uri+`
`)}catch{}try{Er.dname.full[0].dn.hex!==void 0&&(Dr+="    "+Un.hex2dn(Er.dpname.full[0].dn.hex)+`
`)}catch{}}return Dr},dn=function(rr){for(var Dr="",tr=rr.array,ir=0;ir<tr.length;ir++){var Er=tr[ir];Er.caissuer!==void 0&&(Dr+="    caissuer: "+Er.caissuer+`
`),Er.ocsp!==void 0&&(Dr+="    ocsp: "+Er.ocsp+`
`)}return Dr};if(oe=`Basic Fields
`,oe+="  serial number: "+this.getSerialNumberHex()+`
`,oe+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,oe+="  issuer: "+this.getIssuerString()+`
`,oe+="  notBefore: "+this.getNotBefore()+`
`,oe+="  notAfter: "+this.getNotAfter()+`
`,oe+="  subject: "+this.getSubjectString()+`
`,oe+=`  subject public key info: 
`,oe+="    key algorithm: "+(Ae=this.getPublicKey()).type+`
`,Ae.type==="RSA"&&(oe+="    n="+Jn(Ae.n.toString(16)).substr(0,16)+`...
`,oe+="    e="+Jn(Ae.e.toString(16))+`
`),(De=this.aExtInfo)!=null){oe+=`X509v3 Extensions:
`;for(var Bt=0;Bt<De.length;Bt++){var Yn=De[Bt],un=H.asn1.x509.OID.oid2name(Yn.oid);un===""&&(un=Yn.oid);var gn="";if(Yn.critical===!0&&(gn="CRITICAL"),oe+="  "+un+" "+gn+`:
`,un==="basicConstraints"){var ar=this.getExtBasicConstraints();ar.cA===void 0?oe+=`    {}
`:(oe+="    cA=true",ar.pathLen!==void 0&&(oe+=", pathLen="+ar.pathLen),oe+=`
`)}else if(un==="keyUsage")oe+="    "+this.getExtKeyUsageString()+`
`;else if(un==="subjectKeyIdentifier")oe+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(un==="authorityKeyIdentifier"){var hn=this.getExtAuthorityKeyIdentifier();hn.kid!==void 0&&(oe+="    kid="+hn.kid.hex+`
`)}else un==="extKeyUsage"?oe+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:un==="subjectAltName"?oe+="    "+Le(this.getExtSubjectAltName())+`
`:un==="cRLDistributionPoints"?oe+=At(this.getExtCRLDistributionPoints()):un==="authorityInfoAccess"?oe+=dn(this.getExtAuthorityInfoAccess()):un==="certificatePolicies"&&(oe+=ht(this.getExtCertificatePolicies()))}}return oe+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,oe+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof b=="string"&&(b.indexOf("-----BEGIN")!=-1?this.readCertPEM(b):H.lang.String.isHex(b)&&this.readCertHex(b))}Fe.prototype.sign=function(b,v){var A=function(B){return H.crypto.Util.hashString(B,v)}(b);return this.signWithMessageHash(A,v)},Fe.prototype.signWithMessageHash=function(b,v){var A=Qe(H.crypto.Util.getPaddedDigestInfoHex(b,v,this.n.bitLength()),16);return er(this.doPrivate(A).toString(16),this.n.bitLength())},Fe.prototype.signPSS=function(b,v,A){var I=function(Q){return H.crypto.Util.hashHex(Q,v)}(tn(b));return A===void 0&&(A=-1),this.signWithMessageHashPSS(I,v,A)},Fe.prototype.signWithMessageHashPSS=function(b,v,A){var I,B=zt(b),Q=B.length,le=this.n.bitLength()-1,Se=Math.ceil(le/8),ye=function(oe){return H.crypto.Util.hashHex(oe,v)};if(A===-1||A===void 0)A=Q;else if(A===-2)A=Se-Q-2;else if(A<-2)throw new Error("invalid salt length");if(Se<Q+A+2)throw new Error("data too long");var we="";A>0&&(we=new Array(A),new wt().nextBytes(we),we=String.fromCharCode.apply(String,we));var Te=zt(ye(tn("\0\0\0\0\0\0\0\0"+B+we))),Oe=[];for(I=0;I<Se-A-Q-2;I+=1)Oe[I]=0;var ke=String.fromCharCode.apply(String,Oe)+""+we,ze=Fr(Te,ke.length,ye),st=[];for(I=0;I<ke.length;I+=1)st[I]=ke.charCodeAt(I)^ze.charCodeAt(I);var yt=65280>>8*Se-le&255;for(st[0]&=~yt,I=0;I<Q;I++)st.push(Te.charCodeAt(I));return st.push(188),er(this.doPrivate(new K(st)).toString(16),this.n.bitLength())},Fe.prototype.verify=function(b,v){if((v=v.toLowerCase()).match(/^[0-9a-f]+$/)==null)return!1;var A=Qe(v,16),I=this.n.bitLength();if(A.bitLength()>I)return!1;var B=this.doPublic(A).toString(16);if(B.length+3!=I/4)return!1;var Q=pr(B.replace(/^1f+00/,""));if(Q.length==0)return!1;var le=Q[0];return Q[1]==function(ye){return H.crypto.Util.hashString(ye,le)}(b)},Fe.prototype.verifyWithMessageHash=function(b,v){if(v.length!=Math.ceil(this.n.bitLength()/4))return!1;var A=Qe(v,16);if(A.bitLength()>this.n.bitLength())return 0;var I=pr(this.doPublic(A).toString(16).replace(/^1f+00/,""));return I.length==0?!1:(I[0],I[1]==b)},Fe.prototype.verifyPSS=function(b,v,A,I){var B=function(le){return H.crypto.Util.hashHex(le,A)}(tn(b));return I===void 0&&(I=-1),this.verifyWithMessageHashPSS(B,v,A,I)},Fe.prototype.verifyWithMessageHashPSS=function(b,v,A,I){if(v.length!=Math.ceil(this.n.bitLength()/4))return!1;var B,Q=new K(v,16),le=function(De){return H.crypto.Util.hashHex(De,A)},Se=zt(b),ye=Se.length,we=this.n.bitLength()-1,Te=Math.ceil(we/8);if(I===-1||I===void 0)I=ye;else if(I===-2)I=Te-ye-2;else if(I<-2)throw new Error("invalid salt length");if(Te<ye+I+2)throw new Error("data too long");var Oe=this.doPublic(Q).toByteArray();for(B=0;B<Oe.length;B+=1)Oe[B]&=255;for(;Oe.length<Te;)Oe.unshift(0);if(Oe[Te-1]!==188)throw new Error("encoded message does not end in 0xbc");var ke=(Oe=String.fromCharCode.apply(String,Oe)).substr(0,Te-ye-1),ze=Oe.substr(ke.length,ye),st=65280>>8*Te-we&255;if((ke.charCodeAt(0)&st)!=0)throw new Error("bits beyond keysize not zero");var yt=Fr(ze,ke.length,le),Et=[];for(B=0;B<ke.length;B+=1)Et[B]=ke.charCodeAt(B)^yt.charCodeAt(B);Et[0]&=~st;var oe=Te-ye-I-2;for(B=0;B<oe;B+=1)if(Et[B]!==0)throw new Error("leftmost octets not zero");if(Et[oe]!==1)throw new Error("0x01 marker not found");return ze===zt(le(tn("\0\0\0\0\0\0\0\0"+Se+String.fromCharCode.apply(String,Et.slice(-I)))))},Fe.SALT_LEN_HLEN=-1,Fe.SALT_LEN_MAX=-2,Fe.SALT_LEN_RECOVER=-2,Un.hex2dn=function(b,v){v===void 0&&(v=0);var A=new Un;return Xe.getTLV(b,v),A.getX500Name(b).str},Un.hex2rdn=function(b,v){if(v===void 0&&(v=0),b.substr(v,2)!=="31")throw new Error("malformed RDN");for(var A=new Array,I=Xe.getChildIdx(b,v),B=0;B<I.length;B++)A.push(Un.hex2attrTypeValue(b,I[B]));return(A=A.map(function(Q){return Q.replace("+","\\+")})).join("+")},Un.hex2attrTypeValue=function(b,v){var A=Xe,I=A.getV;if(v===void 0&&(v=0),b.substr(v,2)!=="30")throw new Error("malformed attribute type and value");var B=A.getChildIdx(b,v);B.length!==2||b.substr(B[0],2);var Q=I(b,B[0]),le=H.asn1.ASN1Util.oidHexToInt(Q);return H.asn1.x509.OID.oid2atype(le)+"="+zt(I(b,B[1]))},Un.getPublicKeyFromCertHex=function(b){var v=new Un;return v.readCertHex(b),v.getPublicKey()},Un.getPublicKeyFromCertPEM=function(b){var v=new Un;return v.readCertPEM(b),v.getPublicKey()},Un.getPublicKeyInfoPropOfCertPEM=function(b){var v,A,I=Xe.getVbyList,B={};return B.algparam=null,(v=new Un).readCertPEM(b),A=v.getPublicKeyHex(),B.keyhex=I(A,0,[1],"03").substr(2),B.algoid=I(A,0,[0,0],"06"),B.algoid==="2a8648ce3d0201"&&(B.algparam=I(A,0,[0,1],"06")),B},Un.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],H!==void 0&&H||(i.KJUR=H={}),H.jws!==void 0&&H.jws||(H.jws={}),H.jws.JWS=function(){var b=H.jws.JWS.isSafeJSONString;this.parseJWS=function(v,A){if(this.parsedJWS===void 0||!A&&this.parsedJWS.sigvalH===void 0){var I=v.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(I==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var B=I[1],Q=I[2],le=I[3],Se=B+"."+Q;if(this.parsedJWS={},this.parsedJWS.headB64U=B,this.parsedJWS.payloadB64U=Q,this.parsedJWS.sigvalB64U=le,this.parsedJWS.si=Se,!A){var ye=Be(le),we=Qe(ye,16);this.parsedJWS.sigvalH=ye,this.parsedJWS.sigvalBI=we}var Te=it(B),Oe=it(Q);if(this.parsedJWS.headS=Te,this.parsedJWS.payloadS=Oe,!b(Te,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Te}}},H.jws.JWS.sign=function(b,v,A,I,B){var Q,le,Se,ye=H,we=ye.jws.JWS,Te=we.readSafeJSONString,Oe=we.isSafeJSONString,ke=ye.crypto,ze=(ke.ECDSA,ke.Mac),st=ke.Signature,yt=JSON;if(typeof v!="string"&&(v===void 0?"undefined":E(v))!="object")throw"spHeader must be JSON string or object: "+v;if((v===void 0?"undefined":E(v))=="object"&&(le=v,Q=yt.stringify(le)),typeof v=="string"){if(!Oe(Q=v))throw"JWS Head is not safe JSON string: "+Q;le=Te(Q)}if(Se=A,(A===void 0?"undefined":E(A))=="object"&&(Se=yt.stringify(A)),b!=""&&b!=null||le.alg===void 0||(b=le.alg),b!=""&&b!=null&&le.alg===void 0&&(le.alg=b,Q=yt.stringify(le)),b!==le.alg)throw"alg and sHeader.alg doesn't match: "+b+"!="+le.alg;var Et=null;if(we.jwsalg2sigalg[b]===void 0)throw"unsupported alg name: "+b;Et=we.jwsalg2sigalg[b];var oe=Je(Q)+"."+Je(Se),Ae="";if(Et.substr(0,4)=="Hmac"){if(I===void 0)throw"mac key shall be specified for HS* alg";var De=new ze({alg:Et,prov:"cryptojs",pass:I});De.updateString(oe),Ae=De.doFinal()}else if(Et.indexOf("withECDSA")!=-1){(ht=new st({alg:Et})).init(I,B),ht.updateString(oe);var Le=ht.sign();Ae=H.crypto.ECDSA.asn1SigToConcatSig(Le)}else{var ht;Et!="none"&&((ht=new st({alg:Et})).init(I,B),ht.updateString(oe),Ae=ht.sign())}return oe+"."+ft(Ae)},H.jws.JWS.verify=function(b,v,A){var I,B=H,Q=B.jws.JWS,le=Q.readSafeJSONString,Se=B.crypto,ye=Se.ECDSA,we=Se.Mac,Te=Se.Signature;E(Fe)!==void 0&&(I=Fe);var Oe=b.split(".");if(Oe.length!==3)return!1;var ke=Oe[0]+"."+Oe[1],ze=Be(Oe[2]),st=le(it(Oe[0])),yt=null,Et=null;if(st.alg===void 0)throw"algorithm not specified in header";if(Et=(yt=st.alg).substr(0,2),A!=null&&Object.prototype.toString.call(A)==="[object Array]"&&A.length>0&&(":"+A.join(":")+":").indexOf(":"+yt+":")==-1)throw"algorithm '"+yt+"' not accepted in the list";if(yt!="none"&&v===null)throw"key shall be specified to verify.";if(typeof v=="string"&&v.indexOf("-----BEGIN ")!=-1&&(v=Gt.getKey(v)),!(Et!="RS"&&Et!="PS"||v instanceof I))throw"key shall be a RSAKey obj for RS* and PS* algs";if(Et=="ES"&&!(v instanceof ye))throw"key shall be a ECDSA obj for ES* algs";var oe=null;if(Q.jwsalg2sigalg[st.alg]===void 0)throw"unsupported alg name: "+yt;if((oe=Q.jwsalg2sigalg[yt])=="none")throw"not supported";if(oe.substr(0,4)=="Hmac"){if(v===void 0)throw"hexadecimal key shall be specified for HMAC";var Ae=new we({alg:oe,pass:v});return Ae.updateString(ke),ze==Ae.doFinal()}if(oe.indexOf("withECDSA")!=-1){var De,Le=null;try{Le=ye.concatSigToASN1Sig(ze)}catch{return!1}return(De=new Te({alg:oe})).init(v),De.updateString(ke),De.verify(Le)}return(De=new Te({alg:oe})).init(v),De.updateString(ke),De.verify(ze)},H.jws.JWS.parse=function(b){var v,A,I,B=b.split("."),Q={};if(B.length!=2&&B.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return v=B[0],A=B[1],B.length==3&&(I=B[2]),Q.headerObj=H.jws.JWS.readSafeJSONString(it(v)),Q.payloadObj=H.jws.JWS.readSafeJSONString(it(A)),Q.headerPP=JSON.stringify(Q.headerObj,null,"  "),Q.payloadObj==null?Q.payloadPP=it(A):Q.payloadPP=JSON.stringify(Q.payloadObj,null,"  "),I!==void 0&&(Q.sigHex=Be(I)),Q},H.jws.JWS.verifyJWT=function(b,v,A){var I=H.jws,B=I.JWS,Q=B.readSafeJSONString,le=B.inArray,Se=B.includedArray,ye=b.split("."),we=ye[0],Te=ye[1],Oe=(Be(ye[2]),Q(it(we))),ke=Q(it(Te));if(Oe.alg===void 0)return!1;if(A.alg===void 0)throw"acceptField.alg shall be specified";if(!le(Oe.alg,A.alg)||ke.iss!==void 0&&E(A.iss)==="object"&&!le(ke.iss,A.iss)||ke.sub!==void 0&&E(A.sub)==="object"&&!le(ke.sub,A.sub))return!1;if(ke.aud!==void 0&&E(A.aud)==="object"){if(typeof ke.aud=="string"){if(!le(ke.aud,A.aud))return!1}else if(E(ke.aud)=="object"&&!Se(ke.aud,A.aud))return!1}var ze=I.IntDate.getNow();return A.verifyAt!==void 0&&typeof A.verifyAt=="number"&&(ze=A.verifyAt),A.gracePeriod!==void 0&&typeof A.gracePeriod=="number"||(A.gracePeriod=0),!(ke.exp!==void 0&&typeof ke.exp=="number"&&ke.exp+A.gracePeriod<ze)&&!(ke.nbf!==void 0&&typeof ke.nbf=="number"&&ze<ke.nbf-A.gracePeriod)&&!(ke.iat!==void 0&&typeof ke.iat=="number"&&ze<ke.iat-A.gracePeriod)&&(ke.jti===void 0||A.jti===void 0||ke.jti===A.jti)&&!!B.verify(b,v,A.alg)},H.jws.JWS.includedArray=function(b,v){var A=H.jws.JWS.inArray;if(b===null||(b===void 0?"undefined":E(b))!=="object"||typeof b.length!="number")return!1;for(var I=0;I<b.length;I++)if(!A(b[I],v))return!1;return!0},H.jws.JWS.inArray=function(b,v){if(v===null||(v===void 0?"undefined":E(v))!=="object"||typeof v.length!="number")return!1;for(var A=0;A<v.length;A++)if(v[A]==b)return!0;return!1},H.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},H.jws.JWS.isSafeJSONString=function(b,v,A){var I=null;try{return((I=G(b))===void 0?"undefined":E(I))!="object"||I.constructor===Array?0:(v&&(v[A]=I),1)}catch{return 0}},H.jws.JWS.readSafeJSONString=function(b){var v=null;try{return((v=G(b))===void 0?"undefined":E(v))!="object"||v.constructor===Array?null:v}catch{return null}},H.jws.JWS.getEncodedSignatureValueFromJWS=function(b){var v=b.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(v==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return v[1]},H.jws.JWS.getJWKthumbprint=function(b){if(b.kty!=="RSA"&&b.kty!=="EC"&&b.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var v="{";if(b.kty==="RSA"){if(typeof b.n!="string"||typeof b.e!="string")throw"wrong n and e value for RSA key";v+='"e":"'+b.e+'",',v+='"kty":"'+b.kty+'",',v+='"n":"'+b.n+'"}'}else if(b.kty==="EC"){if(typeof b.crv!="string"||typeof b.x!="string"||typeof b.y!="string")throw"wrong crv, x and y value for EC key";v+='"crv":"'+b.crv+'",',v+='"kty":"'+b.kty+'",',v+='"x":"'+b.x+'",',v+='"y":"'+b.y+'"}'}else if(b.kty==="oct"){if(typeof b.k!="string")throw"wrong k value for oct(symmetric) key";v+='"kty":"'+b.kty+'",',v+='"k":"'+b.k+'"}'}var A=tn(v);return ft(H.crypto.Util.hashHex(A,"sha256"))},H.jws.IntDate={},H.jws.IntDate.get=function(b){var v=H.jws.IntDate,A=v.getNow,I=v.getZulu;if(b=="now")return A();if(b=="now + 1hour")return A()+3600;if(b=="now + 1day")return A()+86400;if(b=="now + 1month")return A()+2592e3;if(b=="now + 1year")return A()+31536e3;if(b.match(/Z$/))return I(b);if(b.match(/^[0-9]+$/))return parseInt(b);throw"unsupported format: "+b},H.jws.IntDate.getZulu=function(b){return Zt(b)},H.jws.IntDate.getNow=function(){return~~(new Date/1e3)},H.jws.IntDate.intDate2UTCString=function(b){return new Date(1e3*b).toUTCString()},H.jws.IntDate.intDate2Zulu=function(b){var v=new Date(1e3*b);return("0000"+v.getUTCFullYear()).slice(-4)+("00"+(v.getUTCMonth()+1)).slice(-2)+("00"+v.getUTCDate()).slice(-2)+("00"+v.getUTCHours()).slice(-2)+("00"+v.getUTCMinutes()).slice(-2)+("00"+v.getUTCSeconds()).slice(-2)+"Z"},i.SecureRandom=wt,i.rng_seed_time=Ee,i.BigInteger=K,i.RSAKey=Fe;var Cr=H.crypto.EDSA;i.EDSA=Cr;var Hr=H.crypto.DSA;i.DSA=Hr;var cn=H.crypto.Signature;i.Signature=cn;var bi=H.crypto.MessageDigest;i.MessageDigest=bi;var Pr=H.crypto.Mac;i.Mac=Pr;var ta=H.crypto.Cipher;i.Cipher=ta,i.KEYUTIL=Gt,i.ASN1HEX=Xe,i.X509=Un,i.CryptoJS=V,i.b64tohex=$,i.b64toBA=Ce,i.stoBA=Yt,i.BAtos=Vn,i.BAtohex=Gn,i.stohex=sn,i.stob64=function(v){return W(sn(v))},i.stob64u=function(v){return qe(W(sn(v)))},i.b64utos=function(v){return Vn(Ce(bt(v)))},i.b64tob64u=qe,i.b64utob64=bt,i.hex2b64=W,i.hextob64u=ft,i.b64utohex=Be,i.utf8tob64u=Je,i.b64utoutf8=it,i.utf8tob64=function(v){return W(nn(Ln(v)))},i.b64toutf8=function(v){return decodeURIComponent(Mn($(v)))},i.utf8tohex=pt,i.hextoutf8=Qt,i.hextorstr=zt,i.rstrtohex=tn,i.hextob64=Ht,i.hextob64nl=ce,i.b64nltohex=ve,i.hextopem=Tt,i.pemtohex=Ct,i.hextoArrayBuffer=function(v){if(v.length%2!=0)throw"input is not even length";if(v.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var A=new ArrayBuffer(v.length/2),I=new DataView(A),B=0;B<v.length/2;B++)I.setUint8(B,parseInt(v.substr(2*B,2),16));return A},i.ArrayBuffertohex=function(v){for(var A="",I=new DataView(v),B=0;B<v.byteLength;B++)A+=("00"+I.getUint8(B).toString(16)).slice(-2);return A},i.zulutomsec=Ft,i.zulutosec=Zt,i.zulutodate=function(v){return new Date(Ft(v))},i.datetozulu=function(v,A,I){var B,Q=v.getUTCFullYear();if(A){if(Q<1950||2049<Q)throw"not proper year for UTCTime: "+Q;B=(""+Q).slice(-2)}else B=("000"+Q).slice(-4);if(B+=("0"+(v.getUTCMonth()+1)).slice(-2),B+=("0"+v.getUTCDate()).slice(-2),B+=("0"+v.getUTCHours()).slice(-2),B+=("0"+v.getUTCMinutes()).slice(-2),B+=("0"+v.getUTCSeconds()).slice(-2),I){var le=v.getUTCMilliseconds();le!==0&&(B+="."+(le=(le=("00"+le).slice(-3)).replace(/0+$/g,"")))}return B+="Z"},i.uricmptohex=nn,i.hextouricmp=Mn,i.ipv6tohex=$t,i.hextoipv6=en,i.hextoip=vn,i.iptohex=function(v){var A="malformed IP address";if(!(v=v.toLowerCase(v)).match(/^[0-9.]+$/)){if(v.match(/^[0-9a-f:]+$/)&&v.indexOf(":")!==-1)return $t(v);throw A}var I=v.split(".");if(I.length!==4)throw A;var B="";try{for(var Q=0;Q<4;Q++)B+=("0"+parseInt(I[Q]).toString(16)).slice(-2);return B}catch{throw A}},i.encodeURIComponentAll=Ln,i.newline_toUnix=function(v){return v=v.replace(/\r\n/gm,`
`)},i.newline_toDos=function(v){return v=(v=v.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},i.hextoposhex=Jn,i.intarystrtohex=function(v){v=(v=(v=v.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return v.split(/,/).map(function(A,I,B){var Q=parseInt(A);if(Q<0||255<Q)throw"integer not in range 0-255";return("00"+Q.toString(16)).slice(-2)}).join("")}catch(A){throw"malformed integer array string: "+A}},i.strdiffidx=function(v,A){var I=v.length;v.length>A.length&&(I=A.length);for(var B=0;B<I;B++)if(v.charCodeAt(B)!=A.charCodeAt(B))return B;return v.length!=A.length?I:-1},i.KJUR=H;var wi=H.crypto;i.crypto=wi;var Ha=H.asn1;i.asn1=Ha;var da=H.jws;i.jws=da;var _i=H.lang;i.lang=_i}).call(this,a(28).Buffer)},function(r,i,a){(function(l){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var s=a(30),u=a(31),d=a(32);function c(){return m.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function p(se,k){if(c()<k)throw new RangeError("Invalid typed array length");return m.TYPED_ARRAY_SUPPORT?(se=new Uint8Array(k)).__proto__=m.prototype:(se===null&&(se=new m(k)),se.length=k),se}function m(se,k,D){if(!(m.TYPED_ARRAY_SUPPORT||this instanceof m))return new m(se,k,D);if(typeof se=="number"){if(typeof k=="string")throw new Error("If encoding is specified then the first argument must be a string");return C(this,se)}return w(this,se,k,D)}function w(se,k,D,q){if(typeof k=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&k instanceof ArrayBuffer?function(Ee,Ne,ct,Pe){if(Ne.byteLength,ct<0||Ne.byteLength<ct)throw new RangeError("'offset' is out of bounds");if(Ne.byteLength<ct+(Pe||0))throw new RangeError("'length' is out of bounds");return Ne=ct===void 0&&Pe===void 0?new Uint8Array(Ne):Pe===void 0?new Uint8Array(Ne,ct):new Uint8Array(Ne,ct,Pe),m.TYPED_ARRAY_SUPPORT?(Ee=Ne).__proto__=m.prototype:Ee=R(Ee,Ne),Ee}(se,k,D,q):typeof k=="string"?function(Ee,Ne,ct){if(typeof ct=="string"&&ct!==""||(ct="utf8"),!m.isEncoding(ct))throw new TypeError('"encoding" must be a valid string encoding');var Pe=0|E(Ne,ct),mt=(Ee=p(Ee,Pe)).write(Ne,ct);return mt!==Pe&&(Ee=Ee.slice(0,mt)),Ee}(se,k,D):function(Ee,Ne){if(m.isBuffer(Ne)){var ct=0|T(Ne.length);return(Ee=p(Ee,ct)).length===0||Ne.copy(Ee,0,0,ct),Ee}if(Ne){if(typeof ArrayBuffer<"u"&&Ne.buffer instanceof ArrayBuffer||"length"in Ne)return typeof Ne.length!="number"||function(mt){return mt!=mt}(Ne.length)?p(Ee,0):R(Ee,Ne);if(Ne.type==="Buffer"&&d(Ne.data))return R(Ee,Ne.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(se,k)}function S(se){if(typeof se!="number")throw new TypeError('"size" argument must be a number');if(se<0)throw new RangeError('"size" argument must not be negative')}function C(se,k){if(S(k),se=p(se,k<0?0:0|T(k)),!m.TYPED_ARRAY_SUPPORT)for(var D=0;D<k;++D)se[D]=0;return se}function R(se,k){var D=k.length<0?0:0|T(k.length);se=p(se,D);for(var q=0;q<D;q+=1)se[q]=255&k[q];return se}function T(se){if(se>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|se}function E(se,k){if(m.isBuffer(se))return se.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(se)||se instanceof ArrayBuffer))return se.byteLength;typeof se!="string"&&(se=""+se);var D=se.length;if(D===0)return 0;for(var q=!1;;)switch(k){case"ascii":case"latin1":case"binary":return D;case"utf8":case"utf-8":case void 0:return ue(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*D;case"hex":return D>>>1;case"base64":return Ie(se).length;default:if(q)return ue(se).length;k=(""+k).toLowerCase(),q=!0}}function N(se,k,D){var q=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((D===void 0||D>this.length)&&(D=this.length),D<=0)||(D>>>=0)<=(k>>>=0))return"";for(se||(se="utf8");;)switch(se){case"hex":return lt(this,k,D);case"utf8":case"utf-8":return _e(this,k,D);case"ascii":return rt(this,k,D);case"latin1":case"binary":return xe(this,k,D);case"base64":return pe(this,k,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,k,D);default:if(q)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),q=!0}}function O(se,k,D){var q=se[k];se[k]=se[D],se[D]=q}function V(se,k,D,q,ne){if(se.length===0)return-1;if(typeof D=="string"?(q=D,D=0):D>2147483647?D=2147483647:D<-2147483648&&(D=-2147483648),D=+D,isNaN(D)&&(D=ne?0:se.length-1),D<0&&(D=se.length+D),D>=se.length){if(ne)return-1;D=se.length-1}else if(D<0){if(!ne)return-1;D=0}if(typeof k=="string"&&(k=m.from(k,q)),m.isBuffer(k))return k.length===0?-1:L(se,k,D,q,ne);if(typeof k=="number")return k&=255,m.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?ne?Uint8Array.prototype.indexOf.call(se,k,D):Uint8Array.prototype.lastIndexOf.call(se,k,D):L(se,[k],D,q,ne);throw new TypeError("val must be string, number or Buffer")}function L(se,k,D,q,ne){var Ee,Ne=1,ct=se.length,Pe=k.length;if(q!==void 0&&((q=String(q).toLowerCase())==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(se.length<2||k.length<2)return-1;Ne=2,ct/=2,Pe/=2,D/=2}function mt(We,Fe){return Ne===1?We[Fe]:We.readUInt16BE(Fe*Ne)}if(ne){var Ot=-1;for(Ee=D;Ee<ct;Ee++)if(mt(se,Ee)===mt(k,Ot===-1?0:Ee-Ot)){if(Ot===-1&&(Ot=Ee),Ee-Ot+1===Pe)return Ot*Ne}else Ot!==-1&&(Ee-=Ee-Ot),Ot=-1}else for(D+Pe>ct&&(D=ct-Pe),Ee=D;Ee>=0;Ee--){for(var wt=!0,Qe=0;Qe<Pe;Qe++)if(mt(se,Ee+Qe)!==mt(k,Qe)){wt=!1;break}if(wt)return Ee}return-1}function z(se,k,D,q){D=Number(D)||0;var ne=se.length-D;q?(q=Number(q))>ne&&(q=ne):q=ne;var Ee=k.length;if(Ee%2!=0)throw new TypeError("Invalid hex string");q>Ee/2&&(q=Ee/2);for(var Ne=0;Ne<q;++Ne){var ct=parseInt(k.substr(2*Ne,2),16);if(isNaN(ct))return Ne;se[D+Ne]=ct}return Ne}function W(se,k,D,q){return Ye(ue(k,se.length-D),se,D,q)}function $(se,k,D,q){return Ye(function(Ee){for(var Ne=[],ct=0;ct<Ee.length;++ct)Ne.push(255&Ee.charCodeAt(ct));return Ne}(k),se,D,q)}function Ce(se,k,D,q){return $(se,k,D,q)}function K(se,k,D,q){return Ye(Ie(k),se,D,q)}function re(se,k,D,q){return Ye(function(Ee,Ne){for(var ct,Pe,mt,Ot=[],wt=0;wt<Ee.length&&!((Ne-=2)<0);++wt)Pe=(ct=Ee.charCodeAt(wt))>>8,mt=ct%256,Ot.push(mt),Ot.push(Pe);return Ot}(k,se.length-D),se,D,q)}function pe(se,k,D){return k===0&&D===se.length?s.fromByteArray(se):s.fromByteArray(se.slice(k,D))}function _e(se,k,D){D=Math.min(se.length,D);for(var q=[],ne=k;ne<D;){var Ee,Ne,ct,Pe,mt=se[ne],Ot=null,wt=mt>239?4:mt>223?3:mt>191?2:1;if(ne+wt<=D)switch(wt){case 1:mt<128&&(Ot=mt);break;case 2:(192&(Ee=se[ne+1]))==128&&(Pe=(31&mt)<<6|63&Ee)>127&&(Ot=Pe);break;case 3:Ee=se[ne+1],Ne=se[ne+2],(192&Ee)==128&&(192&Ne)==128&&(Pe=(15&mt)<<12|(63&Ee)<<6|63&Ne)>2047&&(Pe<55296||Pe>57343)&&(Ot=Pe);break;case 4:Ee=se[ne+1],Ne=se[ne+2],ct=se[ne+3],(192&Ee)==128&&(192&Ne)==128&&(192&ct)==128&&(Pe=(15&mt)<<18|(63&Ee)<<12|(63&Ne)<<6|63&ct)>65535&&Pe<1114112&&(Ot=Pe)}Ot===null?(Ot=65533,wt=1):Ot>65535&&(Ot-=65536,q.push(Ot>>>10&1023|55296),Ot=56320|1023&Ot),q.push(Ot),ne+=wt}return function(We){var Fe=We.length;if(Fe<=et)return String.fromCharCode.apply(String,We);for(var dt="",X=0;X<Fe;)dt+=String.fromCharCode.apply(String,We.slice(X,X+=et));return dt}(q)}i.Buffer=m,i.SlowBuffer=function(k){return+k!=k&&(k=0),m.alloc(+k)},i.INSPECT_MAX_BYTES=50,m.TYPED_ARRAY_SUPPORT=l.TYPED_ARRAY_SUPPORT!==void 0?l.TYPED_ARRAY_SUPPORT:function(){try{var k=new Uint8Array(1);return k.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},k.foo()===42&&typeof k.subarray=="function"&&k.subarray(1,1).byteLength===0}catch{return!1}}(),i.kMaxLength=c(),m.poolSize=8192,m._augment=function(se){return se.__proto__=m.prototype,se},m.from=function(se,k,D){return w(null,se,k,D)},m.TYPED_ARRAY_SUPPORT&&(m.prototype.__proto__=Uint8Array.prototype,m.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&m[Symbol.species]===m&&Object.defineProperty(m,Symbol.species,{value:null,configurable:!0})),m.alloc=function(se,k,D){return function(ne,Ee,Ne,ct){return S(Ee),Ee<=0?p(ne,Ee):Ne!==void 0?typeof ct=="string"?p(ne,Ee).fill(Ne,ct):p(ne,Ee).fill(Ne):p(ne,Ee)}(null,se,k,D)},m.allocUnsafe=function(se){return C(null,se)},m.allocUnsafeSlow=function(se){return C(null,se)},m.isBuffer=function(k){return!(k==null||!k._isBuffer)},m.compare=function(k,D){if(!m.isBuffer(k)||!m.isBuffer(D))throw new TypeError("Arguments must be Buffers");if(k===D)return 0;for(var q=k.length,ne=D.length,Ee=0,Ne=Math.min(q,ne);Ee<Ne;++Ee)if(k[Ee]!==D[Ee]){q=k[Ee],ne=D[Ee];break}return q<ne?-1:ne<q?1:0},m.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(k,D){if(!d(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return m.alloc(0);var q;if(D===void 0)for(D=0,q=0;q<k.length;++q)D+=k[q].length;var ne=m.allocUnsafe(D),Ee=0;for(q=0;q<k.length;++q){var Ne=k[q];if(!m.isBuffer(Ne))throw new TypeError('"list" argument must be an Array of Buffers');Ne.copy(ne,Ee),Ee+=Ne.length}return ne},m.byteLength=E,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var k=this.length;if(k%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<k;D+=2)O(this,D,D+1);return this},m.prototype.swap32=function(){var k=this.length;if(k%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<k;D+=4)O(this,D,D+3),O(this,D+1,D+2);return this},m.prototype.swap64=function(){var k=this.length;if(k%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<k;D+=8)O(this,D,D+7),O(this,D+1,D+6),O(this,D+2,D+5),O(this,D+3,D+4);return this},m.prototype.toString=function(){var k=0|this.length;return k===0?"":arguments.length===0?_e(this,0,k):N.apply(this,arguments)},m.prototype.equals=function(k){if(!m.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k||m.compare(this,k)===0},m.prototype.inspect=function(){var k="",D=i.INSPECT_MAX_BYTES;return this.length>0&&(k=this.toString("hex",0,D).match(/.{2}/g).join(" "),this.length>D&&(k+=" ... ")),"<Buffer "+k+">"},m.prototype.compare=function(k,D,q,ne,Ee){if(!m.isBuffer(k))throw new TypeError("Argument must be a Buffer");if(D===void 0&&(D=0),q===void 0&&(q=k?k.length:0),ne===void 0&&(ne=0),Ee===void 0&&(Ee=this.length),D<0||q>k.length||ne<0||Ee>this.length)throw new RangeError("out of range index");if(ne>=Ee&&D>=q)return 0;if(ne>=Ee)return-1;if(D>=q)return 1;if(this===k)return 0;for(var Ne=(Ee>>>=0)-(ne>>>=0),ct=(q>>>=0)-(D>>>=0),Pe=Math.min(Ne,ct),mt=this.slice(ne,Ee),Ot=k.slice(D,q),wt=0;wt<Pe;++wt)if(mt[wt]!==Ot[wt]){Ne=mt[wt],ct=Ot[wt];break}return Ne<ct?-1:ct<Ne?1:0},m.prototype.includes=function(k,D,q){return this.indexOf(k,D,q)!==-1},m.prototype.indexOf=function(k,D,q){return V(this,k,D,q,!0)},m.prototype.lastIndexOf=function(k,D,q){return V(this,k,D,q,!1)},m.prototype.write=function(k,D,q,ne){if(D===void 0)ne="utf8",q=this.length,D=0;else if(q===void 0&&typeof D=="string")ne=D,q=this.length,D=0;else{if(!isFinite(D))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");D|=0,isFinite(q)?(q|=0,ne===void 0&&(ne="utf8")):(ne=q,q=void 0)}var Ee=this.length-D;if((q===void 0||q>Ee)&&(q=Ee),k.length>0&&(q<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");for(var Ne=!1;;)switch(ne){case"hex":return z(this,k,D,q);case"utf8":case"utf-8":return W(this,k,D,q);case"ascii":return $(this,k,D,q);case"latin1":case"binary":return Ce(this,k,D,q);case"base64":return K(this,k,D,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,k,D,q);default:if(Ne)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),Ne=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var et=4096;function rt(se,k,D){var q="";D=Math.min(se.length,D);for(var ne=k;ne<D;++ne)q+=String.fromCharCode(127&se[ne]);return q}function xe(se,k,D){var q="";D=Math.min(se.length,D);for(var ne=k;ne<D;++ne)q+=String.fromCharCode(se[ne]);return q}function lt(se,k,D){var q=se.length;(!k||k<0)&&(k=0),(!D||D<0||D>q)&&(D=q);for(var ne="",Ee=k;Ee<D;++Ee)ne+=Me(se[Ee]);return ne}function he(se,k,D){for(var q=se.slice(k,D),ne="",Ee=0;Ee<q.length;Ee+=2)ne+=String.fromCharCode(q[Ee]+256*q[Ee+1]);return ne}function nt(se,k,D){if(se%1!=0||se<0)throw new RangeError("offset is not uint");if(se+k>D)throw new RangeError("Trying to access beyond buffer length")}function Y(se,k,D,q,ne,Ee){if(!m.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>ne||k<Ee)throw new RangeError('"value" argument is out of bounds');if(D+q>se.length)throw new RangeError("Index out of range")}function Re(se,k,D,q){k<0&&(k=65535+k+1);for(var ne=0,Ee=Math.min(se.length-D,2);ne<Ee;++ne)se[D+ne]=(k&255<<8*(q?ne:1-ne))>>>8*(q?ne:1-ne)}function Ke(se,k,D,q){k<0&&(k=4294967295+k+1);for(var ne=0,Ee=Math.min(se.length-D,4);ne<Ee;++ne)se[D+ne]=k>>>8*(q?ne:3-ne)&255}function Ue(se,k,D,q,ne,Ee){if(D+q>se.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("Index out of range")}function at(se,k,D,q,ne){return ne||Ue(se,0,D,4),u.write(se,k,D,q,23,4),D+4}function It(se,k,D,q,ne){return ne||Ue(se,0,D,8),u.write(se,k,D,q,52,8),D+8}m.prototype.slice=function(k,D){var q,ne=this.length;if((k=~~k)<0?(k+=ne)<0&&(k=0):k>ne&&(k=ne),(D=D===void 0?ne:~~D)<0?(D+=ne)<0&&(D=0):D>ne&&(D=ne),D<k&&(D=k),m.TYPED_ARRAY_SUPPORT)(q=this.subarray(k,D)).__proto__=m.prototype;else{var Ee=D-k;q=new m(Ee,void 0);for(var Ne=0;Ne<Ee;++Ne)q[Ne]=this[Ne+k]}return q},m.prototype.readUIntLE=function(k,D,q){k|=0,D|=0,q||nt(k,D,this.length);for(var ne=this[k],Ee=1,Ne=0;++Ne<D&&(Ee*=256);)ne+=this[k+Ne]*Ee;return ne},m.prototype.readUIntBE=function(k,D,q){k|=0,D|=0,q||nt(k,D,this.length);for(var ne=this[k+--D],Ee=1;D>0&&(Ee*=256);)ne+=this[k+--D]*Ee;return ne},m.prototype.readUInt8=function(k,D){return D||nt(k,1,this.length),this[k]},m.prototype.readUInt16LE=function(k,D){return D||nt(k,2,this.length),this[k]|this[k+1]<<8},m.prototype.readUInt16BE=function(k,D){return D||nt(k,2,this.length),this[k]<<8|this[k+1]},m.prototype.readUInt32LE=function(k,D){return D||nt(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+16777216*this[k+3]},m.prototype.readUInt32BE=function(k,D){return D||nt(k,4,this.length),16777216*this[k]+(this[k+1]<<16|this[k+2]<<8|this[k+3])},m.prototype.readIntLE=function(k,D,q){k|=0,D|=0,q||nt(k,D,this.length);for(var ne=this[k],Ee=1,Ne=0;++Ne<D&&(Ee*=256);)ne+=this[k+Ne]*Ee;return ne>=(Ee*=128)&&(ne-=Math.pow(2,8*D)),ne},m.prototype.readIntBE=function(k,D,q){k|=0,D|=0,q||nt(k,D,this.length);for(var ne=D,Ee=1,Ne=this[k+--ne];ne>0&&(Ee*=256);)Ne+=this[k+--ne]*Ee;return Ne>=(Ee*=128)&&(Ne-=Math.pow(2,8*D)),Ne},m.prototype.readInt8=function(k,D){return D||nt(k,1,this.length),128&this[k]?-1*(255-this[k]+1):this[k]},m.prototype.readInt16LE=function(k,D){D||nt(k,2,this.length);var q=this[k]|this[k+1]<<8;return 32768&q?4294901760|q:q},m.prototype.readInt16BE=function(k,D){D||nt(k,2,this.length);var q=this[k+1]|this[k]<<8;return 32768&q?4294901760|q:q},m.prototype.readInt32LE=function(k,D){return D||nt(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},m.prototype.readInt32BE=function(k,D){return D||nt(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},m.prototype.readFloatLE=function(k,D){return D||nt(k,4,this.length),u.read(this,k,!0,23,4)},m.prototype.readFloatBE=function(k,D){return D||nt(k,4,this.length),u.read(this,k,!1,23,4)},m.prototype.readDoubleLE=function(k,D){return D||nt(k,8,this.length),u.read(this,k,!0,52,8)},m.prototype.readDoubleBE=function(k,D){return D||nt(k,8,this.length),u.read(this,k,!1,52,8)},m.prototype.writeUIntLE=function(k,D,q,ne){k=+k,D|=0,q|=0,ne||Y(this,k,D,q,Math.pow(2,8*q)-1,0);var Ee=1,Ne=0;for(this[D]=255&k;++Ne<q&&(Ee*=256);)this[D+Ne]=k/Ee&255;return D+q},m.prototype.writeUIntBE=function(k,D,q,ne){k=+k,D|=0,q|=0,ne||Y(this,k,D,q,Math.pow(2,8*q)-1,0);var Ee=q-1,Ne=1;for(this[D+Ee]=255&k;--Ee>=0&&(Ne*=256);)this[D+Ee]=k/Ne&255;return D+q},m.prototype.writeUInt8=function(k,D,q){return k=+k,D|=0,q||Y(this,k,D,1,255,0),m.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),this[D]=255&k,D+1},m.prototype.writeUInt16LE=function(k,D,q){return k=+k,D|=0,q||Y(this,k,D,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[D]=255&k,this[D+1]=k>>>8):Re(this,k,D,!0),D+2},m.prototype.writeUInt16BE=function(k,D,q){return k=+k,D|=0,q||Y(this,k,D,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[D]=k>>>8,this[D+1]=255&k):Re(this,k,D,!1),D+2},m.prototype.writeUInt32LE=function(k,D,q){return k=+k,D|=0,q||Y(this,k,D,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[D+3]=k>>>24,this[D+2]=k>>>16,this[D+1]=k>>>8,this[D]=255&k):Ke(this,k,D,!0),D+4},m.prototype.writeUInt32BE=function(k,D,q){return k=+k,D|=0,q||Y(this,k,D,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[D]=k>>>24,this[D+1]=k>>>16,this[D+2]=k>>>8,this[D+3]=255&k):Ke(this,k,D,!1),D+4},m.prototype.writeIntLE=function(k,D,q,ne){if(k=+k,D|=0,!ne){var Ee=Math.pow(2,8*q-1);Y(this,k,D,q,Ee-1,-Ee)}var Ne=0,ct=1,Pe=0;for(this[D]=255&k;++Ne<q&&(ct*=256);)k<0&&Pe===0&&this[D+Ne-1]!==0&&(Pe=1),this[D+Ne]=(k/ct>>0)-Pe&255;return D+q},m.prototype.writeIntBE=function(k,D,q,ne){if(k=+k,D|=0,!ne){var Ee=Math.pow(2,8*q-1);Y(this,k,D,q,Ee-1,-Ee)}var Ne=q-1,ct=1,Pe=0;for(this[D+Ne]=255&k;--Ne>=0&&(ct*=256);)k<0&&Pe===0&&this[D+Ne+1]!==0&&(Pe=1),this[D+Ne]=(k/ct>>0)-Pe&255;return D+q},m.prototype.writeInt8=function(k,D,q){return k=+k,D|=0,q||Y(this,k,D,1,127,-128),m.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),k<0&&(k=255+k+1),this[D]=255&k,D+1},m.prototype.writeInt16LE=function(k,D,q){return k=+k,D|=0,q||Y(this,k,D,2,32767,-32768),m.TYPED_ARRAY_SUPPORT?(this[D]=255&k,this[D+1]=k>>>8):Re(this,k,D,!0),D+2},m.prototype.writeInt16BE=function(k,D,q){return k=+k,D|=0,q||Y(this,k,D,2,32767,-32768),m.TYPED_ARRAY_SUPPORT?(this[D]=k>>>8,this[D+1]=255&k):Re(this,k,D,!1),D+2},m.prototype.writeInt32LE=function(k,D,q){return k=+k,D|=0,q||Y(this,k,D,4,2147483647,-2147483648),m.TYPED_ARRAY_SUPPORT?(this[D]=255&k,this[D+1]=k>>>8,this[D+2]=k>>>16,this[D+3]=k>>>24):Ke(this,k,D,!0),D+4},m.prototype.writeInt32BE=function(k,D,q){return k=+k,D|=0,q||Y(this,k,D,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),m.TYPED_ARRAY_SUPPORT?(this[D]=k>>>24,this[D+1]=k>>>16,this[D+2]=k>>>8,this[D+3]=255&k):Ke(this,k,D,!1),D+4},m.prototype.writeFloatLE=function(k,D,q){return at(this,k,D,!0,q)},m.prototype.writeFloatBE=function(k,D,q){return at(this,k,D,!1,q)},m.prototype.writeDoubleLE=function(k,D,q){return It(this,k,D,!0,q)},m.prototype.writeDoubleBE=function(k,D,q){return It(this,k,D,!1,q)},m.prototype.copy=function(k,D,q,ne){if(q||(q=0),ne||ne===0||(ne=this.length),D>=k.length&&(D=k.length),D||(D=0),ne>0&&ne<q&&(ne=q),ne===q||k.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("sourceStart out of bounds");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),k.length-D<ne-q&&(ne=k.length-D+q);var Ee,Ne=ne-q;if(this===k&&q<D&&D<ne)for(Ee=Ne-1;Ee>=0;--Ee)k[Ee+D]=this[Ee+q];else if(Ne<1e3||!m.TYPED_ARRAY_SUPPORT)for(Ee=0;Ee<Ne;++Ee)k[Ee+D]=this[Ee+q];else Uint8Array.prototype.set.call(k,this.subarray(q,q+Ne),D);return Ne},m.prototype.fill=function(k,D,q,ne){if(typeof k=="string"){if(typeof D=="string"?(ne=D,D=0,q=this.length):typeof q=="string"&&(ne=q,q=this.length),k.length===1){var Ee=k.charCodeAt(0);Ee<256&&(k=Ee)}if(ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!m.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne)}else typeof k=="number"&&(k&=255);if(D<0||this.length<D||this.length<q)throw new RangeError("Out of range index");if(q<=D)return this;var Ne;if(D>>>=0,q=q===void 0?this.length:q>>>0,k||(k=0),typeof k=="number")for(Ne=D;Ne<q;++Ne)this[Ne]=k;else{var ct=m.isBuffer(k)?k:ue(new m(k,ne).toString()),Pe=ct.length;for(Ne=0;Ne<q-D;++Ne)this[Ne+D]=ct[Ne%Pe]}return this};var Nt=/[^+\/0-9A-Za-z-_]/g;function Me(se){return se<16?"0"+se.toString(16):se.toString(16)}function ue(se,k){var D;k=k||1/0;for(var q=se.length,ne=null,Ee=[],Ne=0;Ne<q;++Ne){if((D=se.charCodeAt(Ne))>55295&&D<57344){if(!ne){if(D>56319){(k-=3)>-1&&Ee.push(239,191,189);continue}if(Ne+1===q){(k-=3)>-1&&Ee.push(239,191,189);continue}ne=D;continue}if(D<56320){(k-=3)>-1&&Ee.push(239,191,189),ne=D;continue}D=65536+(ne-55296<<10|D-56320)}else ne&&(k-=3)>-1&&Ee.push(239,191,189);if(ne=null,D<128){if((k-=1)<0)break;Ee.push(D)}else if(D<2048){if((k-=2)<0)break;Ee.push(D>>6|192,63&D|128)}else if(D<65536){if((k-=3)<0)break;Ee.push(D>>12|224,D>>6&63|128,63&D|128)}else{if(!(D<1114112))throw new Error("Invalid code point");if((k-=4)<0)break;Ee.push(D>>18|240,D>>12&63|128,D>>6&63|128,63&D|128)}}return Ee}function Ie(se){return s.toByteArray(function(D){if((D=function(ne){return ne.trim?ne.trim():ne.replace(/^\s+|\s+$/g,"")}(D).replace(Nt,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D}(se))}function Ye(se,k,D,q){for(var ne=0;ne<q&&!(ne+D>=k.length||ne>=se.length);++ne)k[ne+D]=se[ne];return ne}}).call(this,a(29))},function(r,i){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}r.exports=a},function(r,i,a){i.byteLength=function(C){var R=m(C),T=R[0],E=R[1];return 3*(T+E)/4-E},i.toByteArray=function(C){var R,T,E=m(C),N=E[0],O=E[1],V=new u(function($,Ce,K){return 3*(Ce+K)/4-K}(0,N,O)),L=0,z=O>0?N-4:N;for(T=0;T<z;T+=4)R=s[C.charCodeAt(T)]<<18|s[C.charCodeAt(T+1)]<<12|s[C.charCodeAt(T+2)]<<6|s[C.charCodeAt(T+3)],V[L++]=R>>16&255,V[L++]=R>>8&255,V[L++]=255&R;return O===2&&(R=s[C.charCodeAt(T)]<<2|s[C.charCodeAt(T+1)]>>4,V[L++]=255&R),O===1&&(R=s[C.charCodeAt(T)]<<10|s[C.charCodeAt(T+1)]<<4|s[C.charCodeAt(T+2)]>>2,V[L++]=R>>8&255,V[L++]=255&R),V},i.fromByteArray=function(C){for(var R,T=C.length,E=T%3,N=[],O=16383,V=0,L=T-E;V<L;V+=O)N.push(w(C,V,V+O>L?L:V+O));return E===1?(R=C[T-1],N.push(l[R>>2]+l[R<<4&63]+"==")):E===2&&(R=(C[T-2]<<8)+C[T-1],N.push(l[R>>10]+l[R>>4&63]+l[R<<2&63]+"=")),N.join("")};for(var l=[],s=[],u=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,p=d.length;c<p;++c)l[c]=d[c],s[d.charCodeAt(c)]=c;function m(S){var C=S.length;if(C%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=S.indexOf("=");return R===-1&&(R=C),[R,R===C?0:4-R%4]}function w(S,C,R){for(var T,E,N=[],O=C;O<R;O+=3)T=(S[O]<<16&16711680)+(S[O+1]<<8&65280)+(255&S[O+2]),N.push(l[(E=T)>>18&63]+l[E>>12&63]+l[E>>6&63]+l[63&E]);return N.join("")}s[45]=62,s[95]=63},function(r,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(a,l,s,u,d){var c,p,m=8*d-u-1,w=(1<<m)-1,S=w>>1,C=-7,R=s?d-1:0,T=s?-1:1,E=a[l+R];for(R+=T,c=E&(1<<-C)-1,E>>=-C,C+=m;C>0;c=256*c+a[l+R],R+=T,C-=8);for(p=c&(1<<-C)-1,c>>=-C,C+=u;C>0;p=256*p+a[l+R],R+=T,C-=8);if(c===0)c=1-S;else{if(c===w)return p?NaN:1/0*(E?-1:1);p+=Math.pow(2,u),c-=S}return(E?-1:1)*p*Math.pow(2,c-u)},i.write=function(a,l,s,u,d,c){var p,m,w,S=8*c-d-1,C=(1<<S)-1,R=C>>1,T=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=u?0:c-1,N=u?1:-1,O=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(m=isNaN(l)?1:0,p=C):(p=Math.floor(Math.log(l)/Math.LN2),l*(w=Math.pow(2,-p))<1&&(p--,w*=2),(l+=p+R>=1?T/w:T*Math.pow(2,1-R))*w>=2&&(p++,w/=2),p+R>=C?(m=0,p=C):p+R>=1?(m=(l*w-1)*Math.pow(2,d),p+=R):(m=l*Math.pow(2,R-1)*Math.pow(2,d),p=0));d>=8;a[s+E]=255&m,E+=N,m/=256,d-=8);for(p=p<<d|m,S+=d;S>0;a[s+E]=255&p,E+=N,p/=256,S-=8);a[s+E-N]|=128*O}},function(r,i){var a={}.toString;r.exports=Array.isArray||function(l){return a.call(l)=="[object Array]"}},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(u){var d=u.jws,c=u.KeyUtil,p=u.X509,m=u.crypto,w=u.hextob64u,S=u.b64tohex,C=u.AllowedSigningAlgs;return function(){function R(){(function(E,N){if(!(E instanceof N))throw new TypeError("Cannot call a class as a function")})(this,R)}return R.parseJwt=function(E){l.Log.debug("JoseUtil.parseJwt");try{var N=d.JWS.parse(E);return{header:N.headerObj,payload:N.payloadObj}}catch(O){l.Log.error(O)}},R.validateJwt=function(E,N,O,V,L,z,W){l.Log.debug("JoseUtil.validateJwt");try{if(N.kty==="RSA")if(N.e&&N.n)N=c.getKey(N);else{if(!N.x5c||!N.x5c.length)return l.Log.error("JoseUtil.validateJwt: RSA key missing key material",N),Promise.reject(new Error("RSA key missing key material"));var $=S(N.x5c[0]);N=p.getPublicKeyFromCertHex($)}else{if(N.kty!=="EC")return l.Log.error("JoseUtil.validateJwt: Unsupported key type",N&&N.kty),Promise.reject(new Error(N.kty));if(!(N.crv&&N.x&&N.y))return l.Log.error("JoseUtil.validateJwt: EC key missing key material",N),Promise.reject(new Error("EC key missing key material"));N=c.getKey(N)}return R._validateJwt(E,N,O,V,L,z,W)}catch(Ce){return l.Log.error(Ce&&Ce.message||Ce),Promise.reject("JWT validation failed")}},R.validateJwtAttributes=function(E,N,O,V,L,z){V||(V=0),L||(L=parseInt(Date.now()/1e3));var W=R.parseJwt(E).payload;if(!W.iss)return l.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(W.iss!==N)return l.Log.error("JoseUtil._validateJwt: Invalid issuer in token",W.iss),Promise.reject(new Error("Invalid issuer in token: "+W.iss));if(!W.aud)return l.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(W.aud===O||Array.isArray(W.aud)&&W.aud.indexOf(O)>=0))return l.Log.error("JoseUtil._validateJwt: Invalid audience in token",W.aud),Promise.reject(new Error("Invalid audience in token: "+W.aud));if(W.azp&&W.azp!==O)return l.Log.error("JoseUtil._validateJwt: Invalid azp in token",W.azp),Promise.reject(new Error("Invalid azp in token: "+W.azp));if(!z){var $=L+V,Ce=L-V;if(!W.iat)return l.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if($<W.iat)return l.Log.error("JoseUtil._validateJwt: iat is in the future",W.iat),Promise.reject(new Error("iat is in the future: "+W.iat));if(W.nbf&&$<W.nbf)return l.Log.error("JoseUtil._validateJwt: nbf is in the future",W.nbf),Promise.reject(new Error("nbf is in the future: "+W.nbf));if(!W.exp)return l.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(W.exp<Ce)return l.Log.error("JoseUtil._validateJwt: exp is in the past",W.exp),Promise.reject(new Error("exp is in the past:"+W.exp))}return Promise.resolve(W)},R._validateJwt=function(E,N,O,V,L,z,W){return R.validateJwtAttributes(E,O,V,L,z,W).then(function($){try{return d.JWS.verify(E,N,C)?$:(l.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(Ce){return l.Log.error(Ce&&Ce.message||Ce),Promise.reject(new Error("signature validation failed"))}})},R.hashString=function(E,N){try{return m.Util.hashString(E,N)}catch(O){l.Log.error(O)}},R.hexToBase64Url=function(E){try{return w(E)}catch(N){l.Log.error(N)}},R}()};var l=a(0);r.exports=i.default},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.SigninResponse=void 0;var l=function(){function d(c,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,p,m){return p&&d(c.prototype,p),m&&d(c,m),c}}(),s=a(3);function u(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}i.SigninResponse=function(){function d(c){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";u(this,d);var m=s.UrlUtility.parseUrlFragment(c,p);this.error=m.error,this.error_description=m.error_description,this.error_uri=m.error_uri,this.code=m.code,this.state=m.state,this.id_token=m.id_token,this.session_state=m.session_state,this.access_token=m.access_token,this.token_type=m.token_type,this.scope=m.scope,this.profile=void 0,this.expires_in=m.expires_in}return l(d,[{key:"expires_in",get:function(){if(this.expires_at){var p=parseInt(Date.now()/1e3);return this.expires_at-p}},set:function(p){var m=parseInt(p);if(typeof m=="number"&&m>0){var w=parseInt(Date.now()/1e3);this.expires_at=w+m}}},{key:"expired",get:function(){var p=this.expires_in;if(p!==void 0)return p<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),d}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.SignoutRequest=void 0;var l=a(0),s=a(3),u=a(9);i.SignoutRequest=function d(c){var p=c.url,m=c.id_token_hint,w=c.post_logout_redirect_uri,S=c.data,C=c.extraQueryParams,R=c.request_type;if(function(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")}(this,d),!p)throw l.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var T in m&&(p=s.UrlUtility.addQueryParam(p,"id_token_hint",m)),w&&(p=s.UrlUtility.addQueryParam(p,"post_logout_redirect_uri",w),S&&(this.state=new u.State({data:S,request_type:R}),p=s.UrlUtility.addQueryParam(p,"state",this.state.id))),C)p=s.UrlUtility.addQueryParam(p,T,C[T]);this.url=p}},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.SignoutResponse=void 0;var l=a(3);i.SignoutResponse=function s(u){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,s);var d=l.UrlUtility.parseUrlFragment(u,"?");this.error=d.error,this.error_description=d.error_description,this.error_uri=d.error_uri,this.state=d.state}},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.InMemoryWebStorage=void 0;var l=function(){function u(d,c){for(var p=0;p<c.length;p++){var m=c[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,c,p){return c&&u(d.prototype,c),p&&u(d,p),d}}(),s=a(0);i.InMemoryWebStorage=function(){function u(){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u),this._data={}}return u.prototype.getItem=function(c){return s.Log.debug("InMemoryWebStorage.getItem",c),this._data[c]},u.prototype.setItem=function(c,p){s.Log.debug("InMemoryWebStorage.setItem",c),this._data[c]=p},u.prototype.removeItem=function(c){s.Log.debug("InMemoryWebStorage.removeItem",c),delete this._data[c]},u.prototype.key=function(c){return Object.getOwnPropertyNames(this._data)[c]},l(u,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),u}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.UserManager=void 0;var l=function(){function O(V,L){for(var z=0;z<L.length;z++){var W=L[z];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(V,W.key,W)}}return function(V,L,z){return L&&O(V.prototype,L),z&&O(V,z),V}}(),s=a(0),u=a(10),d=a(39),c=a(15),p=a(45),m=a(47),w=a(18),S=a(8),C=a(20),R=a(11),T=a(4);function E(O,V){if(!(O instanceof V))throw new TypeError("Cannot call a class as a function")}function N(O,V){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||typeof V!="object"&&typeof V!="function"?O:V}i.UserManager=function(O){function V(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.SilentRenewService,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.SessionMonitor,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:C.TokenRevocationClient,Ce=arguments.length>4&&arguments[4]!==void 0?arguments[4]:R.TokenClient,K=arguments.length>5&&arguments[5]!==void 0?arguments[5]:T.JoseUtil;E(this,V),L instanceof d.UserManagerSettings||(L=new d.UserManagerSettings(L));var re=N(this,O.call(this,L));return re._events=new p.UserManagerEvents(L),re._silentRenewService=new z(re),re.settings.automaticSilentRenew&&(s.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),re.startSilentRenew()),re.settings.monitorSession&&(s.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),re._sessionMonitor=new W(re)),re._tokenRevocationClient=new $(re._settings),re._tokenClient=new Ce(re._settings),re._joseUtil=K,re}return function(z,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);z.prototype=Object.create(W&&W.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(z,W):z.__proto__=W)}(V,O),V.prototype.getUser=function(){var z=this;return this._loadUser().then(function(W){return W?(s.Log.info("UserManager.getUser: user loaded"),z._events.load(W,!1),W):(s.Log.info("UserManager.getUser: user not found in storage"),null)})},V.prototype.removeUser=function(){var z=this;return this.storeUser(null).then(function(){s.Log.info("UserManager.removeUser: user removed from storage"),z._events.unload()})},V.prototype.signinRedirect=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(z=Object.assign({},z)).request_type="si:r";var W={useReplaceToNavigate:z.useReplaceToNavigate};return this._signinStart(z,this._redirectNavigator,W).then(function(){s.Log.info("UserManager.signinRedirect: successful")})},V.prototype.signinRedirectCallback=function(z){return this._signinEnd(z||this._redirectNavigator.url).then(function(W){return W.profile&&W.profile.sub?s.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",W.profile.sub):s.Log.info("UserManager.signinRedirectCallback: no sub"),W})},V.prototype.signinPopup=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(z=Object.assign({},z)).request_type="si:p";var W=z.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return W?(z.redirect_uri=W,z.display="popup",this._signin(z,this._popupNavigator,{startUrl:W,popupWindowFeatures:z.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:z.popupWindowTarget||this.settings.popupWindowTarget}).then(function($){return $&&($.profile&&$.profile.sub?s.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",$.profile.sub):s.Log.info("UserManager.signinPopup: no sub")),$})):(s.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},V.prototype.signinPopupCallback=function(z){return this._signinCallback(z,this._popupNavigator).then(function(W){return W&&(W.profile&&W.profile.sub?s.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",W.profile.sub):s.Log.info("UserManager.signinPopupCallback: no sub")),W}).catch(function(W){s.Log.error(W.message)})},V.prototype.signinSilent=function(){var z=this,W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return W=Object.assign({},W),this._loadUser().then(function($){return $&&$.refresh_token?(W.refresh_token=$.refresh_token,z._useRefreshToken(W)):(W.request_type="si:s",W.id_token_hint=W.id_token_hint||z.settings.includeIdTokenInSilentRenew&&$&&$.id_token,$&&z._settings.validateSubOnSilentRenew&&(s.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",$.profile.sub),W.current_sub=$.profile.sub),z._signinSilentIframe(W))})},V.prototype._useRefreshToken=function(){var z=this,W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(W).then(function($){return $?$.access_token?z._loadUser().then(function(Ce){if(Ce){var K=Promise.resolve();return $.id_token&&(K=z._validateIdTokenFromTokenRefreshToken(Ce.profile,$.id_token)),K.then(function(){return s.Log.debug("UserManager._useRefreshToken: refresh token response success"),Ce.id_token=$.id_token||Ce.id_token,Ce.access_token=$.access_token,Ce.refresh_token=$.refresh_token||Ce.refresh_token,Ce.expires_in=$.expires_in,z.storeUser(Ce).then(function(){return z._events.load(Ce),Ce})})}return null}):(s.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(s.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},V.prototype._validateIdTokenFromTokenRefreshToken=function(z,W){var $=this;return this._metadataService.getIssuer().then(function(Ce){return $.settings.getEpochTime().then(function(K){return $._joseUtil.validateJwtAttributes(W,Ce,$._settings.client_id,$._settings.clockSkew,K).then(function(re){return re?re.sub!==z.sub?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):re.auth_time&&re.auth_time!==z.auth_time?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):re.azp&&re.azp!==z.azp?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!re.azp&&z.azp?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},V.prototype._signinSilentIframe=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=z.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return W?(z.redirect_uri=W,z.prompt=z.prompt||"none",this._signin(z,this._iframeNavigator,{startUrl:W,silentRequestTimeout:z.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function($){return $&&($.profile&&$.profile.sub?s.Log.info("UserManager.signinSilent: successful, signed in sub: ",$.profile.sub):s.Log.info("UserManager.signinSilent: no sub")),$})):(s.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},V.prototype.signinSilentCallback=function(z){return this._signinCallback(z,this._iframeNavigator).then(function(W){return W&&(W.profile&&W.profile.sub?s.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",W.profile.sub):s.Log.info("UserManager.signinSilentCallback: no sub")),W})},V.prototype.signinCallback=function(z){var W=this;return this.readSigninResponseState(z).then(function($){var Ce=$.state;return $.response,Ce.request_type==="si:r"?W.signinRedirectCallback(z):Ce.request_type==="si:p"?W.signinPopupCallback(z):Ce.request_type==="si:s"?W.signinSilentCallback(z):Promise.reject(new Error("invalid response_type in state"))})},V.prototype.signoutCallback=function(z,W){var $=this;return this.readSignoutResponseState(z).then(function(Ce){var K=Ce.state,re=Ce.response;return K?K.request_type==="so:r"?$.signoutRedirectCallback(z):K.request_type==="so:p"?$.signoutPopupCallback(z,W):Promise.reject(new Error("invalid response_type in state")):re})},V.prototype.querySessionStatus=function(){var z=this,W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(W=Object.assign({},W)).request_type="si:s";var $=W.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return $?(W.redirect_uri=$,W.prompt="none",W.response_type=W.response_type||this.settings.query_status_response_type,W.scope=W.scope||"openid",W.skipUserInfo=!0,this._signinStart(W,this._iframeNavigator,{startUrl:$,silentRequestTimeout:W.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Ce){return z.processSigninResponse(Ce.url).then(function(K){if(s.Log.debug("UserManager.querySessionStatus: got signin response"),K.session_state&&K.profile.sub)return s.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",K.profile.sub),{session_state:K.session_state,sub:K.profile.sub,sid:K.profile.sid};s.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(K){if(K.session_state&&z.settings.monitorAnonymousSession&&(K.message=="login_required"||K.message=="consent_required"||K.message=="interaction_required"||K.message=="account_selection_required"))return s.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:K.session_state};throw K})})):(s.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},V.prototype._signin=function(z,W){var $=this,Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(z,W,Ce).then(function(K){return $._signinEnd(K.url,z)})},V.prototype._signinStart=function(z,W){var $=this,Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return W.prepare(Ce).then(function(K){return s.Log.debug("UserManager._signinStart: got navigator window handle"),$.createSigninRequest(z).then(function(re){return s.Log.debug("UserManager._signinStart: got signin request"),Ce.url=re.url,Ce.id=re.state.id,K.navigate(Ce)}).catch(function(re){throw K.close&&(s.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),K.close()),re})})},V.prototype._signinEnd=function(z){var W=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(z).then(function(Ce){s.Log.debug("UserManager._signinEnd: got signin response");var K=new c.User(Ce);if($.current_sub){if($.current_sub!==K.profile.sub)return s.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",K.profile.sub),Promise.reject(new Error("login_required"));s.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return W.storeUser(K).then(function(){return s.Log.debug("UserManager._signinEnd: user stored"),W._events.load(K),K})})},V.prototype._signinCallback=function(z,W){s.Log.debug("UserManager._signinCallback");var $=this._settings.response_mode==="query"||!this._settings.response_mode&&S.SigninRequest.isCode(this._settings.response_type)?"?":"#";return W.callback(z,void 0,$)},V.prototype.signoutRedirect=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(z=Object.assign({},z)).request_type="so:r";var W=z.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;W&&(z.post_logout_redirect_uri=W);var $={useReplaceToNavigate:z.useReplaceToNavigate};return this._signoutStart(z,this._redirectNavigator,$).then(function(){s.Log.info("UserManager.signoutRedirect: successful")})},V.prototype.signoutRedirectCallback=function(z){return this._signoutEnd(z||this._redirectNavigator.url).then(function(W){return s.Log.info("UserManager.signoutRedirectCallback: successful"),W})},V.prototype.signoutPopup=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(z=Object.assign({},z)).request_type="so:p";var W=z.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return z.post_logout_redirect_uri=W,z.display="popup",z.post_logout_redirect_uri&&(z.state=z.state||{}),this._signout(z,this._popupNavigator,{startUrl:W,popupWindowFeatures:z.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:z.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){s.Log.info("UserManager.signoutPopup: successful")})},V.prototype.signoutPopupCallback=function(z,W){return W===void 0&&typeof z=="boolean"&&(W=z,z=null),this._popupNavigator.callback(z,W,"?").then(function(){s.Log.info("UserManager.signoutPopupCallback: successful")})},V.prototype._signout=function(z,W){var $=this,Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(z,W,Ce).then(function(K){return $._signoutEnd(K.url)})},V.prototype._signoutStart=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=this,$=arguments[1],Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $.prepare(Ce).then(function(K){return s.Log.debug("UserManager._signoutStart: got navigator window handle"),W._loadUser().then(function(re){return s.Log.debug("UserManager._signoutStart: loaded current user from storage"),(W._settings.revokeAccessTokenOnSignout?W._revokeInternal(re):Promise.resolve()).then(function(){var pe=z.id_token_hint||re&&re.id_token;return pe&&(s.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),z.id_token_hint=pe),W.removeUser().then(function(){return s.Log.debug("UserManager._signoutStart: user removed, creating signout request"),W.createSignoutRequest(z).then(function(_e){return s.Log.debug("UserManager._signoutStart: got signout request"),Ce.url=_e.url,_e.state&&(Ce.id=_e.state.id),K.navigate(Ce)})})})}).catch(function(re){throw K.close&&(s.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),K.close()),re})})},V.prototype._signoutEnd=function(z){return this.processSignoutResponse(z).then(function(W){return s.Log.debug("UserManager._signoutEnd: got signout response"),W})},V.prototype.revokeAccessToken=function(){var z=this;return this._loadUser().then(function(W){return z._revokeInternal(W,!0).then(function($){if($)return s.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),W.access_token=null,W.refresh_token=null,W.expires_at=null,W.token_type=null,z.storeUser(W).then(function(){s.Log.debug("UserManager.revokeAccessToken: user stored"),z._events.load(W)})})}).then(function(){s.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},V.prototype._revokeInternal=function(z,W){var $=this;if(z){var Ce=z.access_token,K=z.refresh_token;return this._revokeAccessTokenInternal(Ce,W).then(function(re){return $._revokeRefreshTokenInternal(K,W).then(function(pe){return re||pe||s.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),re||pe})})}return Promise.resolve(!1)},V.prototype._revokeAccessTokenInternal=function(z,W){return!z||z.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(z,W).then(function(){return!0})},V.prototype._revokeRefreshTokenInternal=function(z,W){return z?this._tokenRevocationClient.revoke(z,W,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},V.prototype.startSilentRenew=function(){this._silentRenewService.start()},V.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},V.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(z){return z?(s.Log.debug("UserManager._loadUser: user storageString loaded"),c.User.fromStorageString(z)):(s.Log.debug("UserManager._loadUser: no user storageString"),null)})},V.prototype.storeUser=function(z){if(z){s.Log.debug("UserManager.storeUser: storing user");var W=z.toStorageString();return this._userStore.set(this._userStoreKey,W)}return s.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},l(V,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),V}(u.OidcClient)},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.UserManagerSettings=void 0;var l=function(){function R(T,E){for(var N=0;N<E.length;N++){var O=E[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(T,O.key,O)}}return function(T,E,N){return E&&R(T.prototype,E),N&&R(T,N),T}}(),s=(a(0),a(5)),u=a(40),d=a(41),c=a(43),p=a(6),m=a(1),w=a(8);function S(R,T){if(!(R instanceof T))throw new TypeError("Cannot call a class as a function")}function C(R,T){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||typeof T!="object"&&typeof T!="function"?R:T}i.UserManagerSettings=function(R){function T(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=E.popup_redirect_uri,O=E.popup_post_logout_redirect_uri,V=E.popupWindowFeatures,L=E.popupWindowTarget,z=E.silent_redirect_uri,W=E.silentRequestTimeout,$=E.automaticSilentRenew,Ce=$!==void 0&&$,K=E.validateSubOnSilentRenew,re=K!==void 0&&K,pe=E.includeIdTokenInSilentRenew,_e=pe===void 0||pe,et=E.monitorSession,rt=et===void 0||et,xe=E.monitorAnonymousSession,lt=xe!==void 0&&xe,he=E.checkSessionInterval,nt=he===void 0?2e3:he,Y=E.stopCheckSessionOnError,Re=Y===void 0||Y,Ke=E.query_status_response_type,Ue=E.revokeAccessTokenOnSignout,at=Ue!==void 0&&Ue,It=E.accessTokenExpiringNotificationTime,Nt=It===void 0?60:It,Me=E.redirectNavigator,ue=Me===void 0?new u.RedirectNavigator:Me,Ie=E.popupNavigator,Ye=Ie===void 0?new d.PopupNavigator:Ie,se=E.iframeNavigator,k=se===void 0?new c.IFrameNavigator:se,D=E.userStore,q=D===void 0?new p.WebStorageStateStore({store:m.Global.sessionStorage}):D;S(this,T);var ne=C(this,R.call(this,arguments[0]));return ne._popup_redirect_uri=N,ne._popup_post_logout_redirect_uri=O,ne._popupWindowFeatures=V,ne._popupWindowTarget=L,ne._silent_redirect_uri=z,ne._silentRequestTimeout=W,ne._automaticSilentRenew=Ce,ne._validateSubOnSilentRenew=re,ne._includeIdTokenInSilentRenew=_e,ne._accessTokenExpiringNotificationTime=Nt,ne._monitorSession=rt,ne._monitorAnonymousSession=lt,ne._checkSessionInterval=nt,ne._stopCheckSessionOnError=Re,Ke?ne._query_status_response_type=Ke:arguments[0]&&arguments[0].response_type?ne._query_status_response_type=w.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":ne._query_status_response_type="id_token",ne._revokeAccessTokenOnSignout=at,ne._redirectNavigator=ue,ne._popupNavigator=Ye,ne._iframeNavigator=k,ne._userStore=q,ne}return function(N,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);N.prototype=Object.create(O&&O.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(N,O):N.__proto__=O)}(T,R),l(T,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),T}(s.OidcClientSettings)},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.RedirectNavigator=void 0;var l=function(){function u(d,c){for(var p=0;p<c.length;p++){var m=c[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,c,p){return c&&u(d.prototype,c),p&&u(d,p),d}}(),s=a(0);i.RedirectNavigator=function(){function u(){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.prototype.prepare=function(){return Promise.resolve(this)},u.prototype.navigate=function(c){return c&&c.url?(c.useReplaceToNavigate?window.location.replace(c.url):window.location=c.url,Promise.resolve()):(s.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},l(u,[{key:"url",get:function(){return window.location.href}}]),u}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.PopupNavigator=void 0;var l=a(0),s=a(42);i.PopupNavigator=function(){function u(){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.prototype.prepare=function(c){var p=new s.PopupWindow(c);return Promise.resolve(p)},u.prototype.callback=function(c,p,m){l.Log.debug("PopupNavigator.callback");try{return s.PopupWindow.notifyOpener(c,p,m),Promise.resolve()}catch(w){return Promise.reject(w)}},u}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.PopupWindow=void 0;var l=function(){function d(c,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,p,m){return p&&d(c.prototype,p),m&&d(c,m),c}}(),s=a(0),u=a(3);i.PopupWindow=function(){function d(c){var p=this;(function(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")})(this,d),this._promise=new Promise(function(S,C){p._resolve=S,p._reject=C});var m=c.popupWindowTarget||"_blank",w=c.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",m,w),this._popup&&(s.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return d.prototype.navigate=function(p){return this._popup?p&&p.url?(s.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=p.id,this._id&&(window["popupCallback_"+p.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=p.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},d.prototype._success=function(p){s.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(p)},d.prototype._error=function(p){s.Log.error("PopupWindow.error: ",p),this._cleanup(),this._reject(new Error(p))},d.prototype.close=function(){this._cleanup(!1)},d.prototype._cleanup=function(p){s.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!p&&this._popup.close(),this._popup=null},d.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},d.prototype._callback=function(p,m){this._cleanup(m),p?(s.Log.debug("PopupWindow.callback success"),this._success({url:p})):(s.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},d.notifyOpener=function(p,m,w){if(window.opener){if(p=p||window.location.href){var S=u.UrlUtility.parseUrlFragment(p,w);if(S.state){var C="popupCallback_"+S.state,R=window.opener[C];R?(s.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),R(p,m)):s.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else s.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else s.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},l(d,[{key:"promise",get:function(){return this._promise}}]),d}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.IFrameNavigator=void 0;var l=a(0),s=a(44);i.IFrameNavigator=function(){function u(){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.prototype.prepare=function(c){var p=new s.IFrameWindow(c);return Promise.resolve(p)},u.prototype.callback=function(c){l.Log.debug("IFrameNavigator.callback");try{return s.IFrameWindow.notifyParent(c),Promise.resolve()}catch(p){return Promise.reject(p)}},u}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.IFrameWindow=void 0;var l=function(){function u(d,c){for(var p=0;p<c.length;p++){var m=c[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,c,p){return c&&u(d.prototype,c),p&&u(d,p),d}}(),s=a(0);i.IFrameWindow=function(){function u(d){var c=this;(function(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")})(this,u),this._promise=new Promise(function(p,m){c._resolve=p,c._reject=m}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return u.prototype.navigate=function(c){if(c&&c.url){var p=c.silentRequestTimeout||1e4;s.Log.debug("IFrameWindow.navigate: Using timeout of:",p),this._timer=window.setTimeout(this._timeout.bind(this),p),this._frame.src=c.url}else this._error("No url provided");return this.promise},u.prototype._success=function(c){this._cleanup(),s.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(c)},u.prototype._error=function(c){this._cleanup(),s.Log.error(c),this._reject(new Error(c))},u.prototype.close=function(){this._cleanup()},u.prototype._cleanup=function(){this._frame&&(s.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},u.prototype._timeout=function(){s.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},u.prototype._message=function(c){if(s.Log.debug("IFrameWindow.message"),this._timer&&c.origin===this._origin&&c.source===this._frame.contentWindow&&typeof c.data=="string"&&(c.data.startsWith("http://")||c.data.startsWith("https://"))){var p=c.data;p?this._success({url:p}):this._error("Invalid response from frame")}},u.notifyParent=function(c){s.Log.debug("IFrameWindow.notifyParent"),(c=c||window.location.href)&&(s.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(c,location.protocol+"//"+location.host))},l(u,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),u}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.UserManagerEvents=void 0;var l=a(0),s=a(16),u=a(17);i.UserManagerEvents=function(d){function c(p){(function(S,C){if(!(S instanceof C))throw new TypeError("Cannot call a class as a function")})(this,c);var m=function(S,C){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||typeof C!="object"&&typeof C!="function"?S:C}(this,d.call(this,p));return m._userLoaded=new u.Event("User loaded"),m._userUnloaded=new u.Event("User unloaded"),m._silentRenewError=new u.Event("Silent renew error"),m._userSignedIn=new u.Event("User signed in"),m._userSignedOut=new u.Event("User signed out"),m._userSessionChanged=new u.Event("User session changed"),m}return function(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}(c,d),c.prototype.load=function(m){var w=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];l.Log.debug("UserManagerEvents.load"),d.prototype.load.call(this,m),w&&this._userLoaded.raise(m)},c.prototype.unload=function(){l.Log.debug("UserManagerEvents.unload"),d.prototype.unload.call(this),this._userUnloaded.raise()},c.prototype.addUserLoaded=function(m){this._userLoaded.addHandler(m)},c.prototype.removeUserLoaded=function(m){this._userLoaded.removeHandler(m)},c.prototype.addUserUnloaded=function(m){this._userUnloaded.addHandler(m)},c.prototype.removeUserUnloaded=function(m){this._userUnloaded.removeHandler(m)},c.prototype.addSilentRenewError=function(m){this._silentRenewError.addHandler(m)},c.prototype.removeSilentRenewError=function(m){this._silentRenewError.removeHandler(m)},c.prototype._raiseSilentRenewError=function(m){l.Log.debug("UserManagerEvents._raiseSilentRenewError",m.message),this._silentRenewError.raise(m)},c.prototype.addUserSignedIn=function(m){this._userSignedIn.addHandler(m)},c.prototype.removeUserSignedIn=function(m){this._userSignedIn.removeHandler(m)},c.prototype._raiseUserSignedIn=function(){l.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},c.prototype.addUserSignedOut=function(m){this._userSignedOut.addHandler(m)},c.prototype.removeUserSignedOut=function(m){this._userSignedOut.removeHandler(m)},c.prototype._raiseUserSignedOut=function(){l.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},c.prototype.addUserSessionChanged=function(m){this._userSessionChanged.addHandler(m)},c.prototype.removeUserSessionChanged=function(m){this._userSessionChanged.removeHandler(m)},c.prototype._raiseUserSessionChanged=function(){l.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},c}(s.AccessTokenEvents)},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.Timer=void 0;var l=function(){function m(w,S){for(var C=0;C<S.length;C++){var R=S[C];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(w,R.key,R)}}return function(w,S,C){return S&&m(w.prototype,S),C&&m(w,C),w}}(),s=a(0),u=a(1),d=a(17);function c(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}function p(m,w){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?m:w}i.Timer=function(m){function w(S){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.Global.timer,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;c(this,w);var T=p(this,m.call(this,S));return T._timer=C,T._nowFunc=R||function(){return Date.now()/1e3},T}return function(C,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);C.prototype=Object.create(R&&R.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(C,R):C.__proto__=R)}(w,m),w.prototype.init=function(C){C<=0&&(C=1),C=parseInt(C);var R=this.now+C;if(this.expiration===R&&this._timerHandle)s.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),s.Log.debug("Timer.init timer "+this._name+" for duration:",C),this._expiration=R;var T=5;C<T&&(T=C),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*T)}},w.prototype.cancel=function(){this._timerHandle&&(s.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},w.prototype._callback=function(){var C=this._expiration-this.now;s.Log.debug("Timer.callback; "+this._name+" timer expires in:",C),this._expiration<=this.now&&(this.cancel(),m.prototype.raise.call(this))},l(w,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),w}(d.Event)},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.SilentRenewService=void 0;var l=a(0);i.SilentRenewService=function(){function s(u){(function(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")})(this,s),this._userManager=u}return s.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(d){}).catch(function(d){l.Log.error("SilentRenewService.start: Error from getUser:",d.message)}))},s.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},s.prototype._tokenExpiring=function(){var d=this;this._userManager.signinSilent().then(function(c){l.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(c){l.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",c.message),d._userManager.events._raiseSilentRenewError(c)})},s}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.CordovaPopupNavigator=void 0;var l=a(21);i.CordovaPopupNavigator=function(){function s(){(function(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(d){var c=new l.CordovaPopupWindow(d);return Promise.resolve(c)},s}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.CordovaIFrameNavigator=void 0;var l=a(21);i.CordovaIFrameNavigator=function(){function s(){(function(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(d){d.popupWindowFeatures="hidden=yes";var c=new l.CordovaPopupWindow(d);return Promise.resolve(c)},s}()},function(r,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.Version="1.11.6"}])})}(Vy)),Vy.exports}var Ao=iN();qf();const{fetch:l_}=globalThis;let xy;const aN=new Uint8Array(16);function oN(){if(!xy&&(xy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xy(aN)}const la=[];for(let e=0;e<256;++e)la.push((e+256).toString(16).slice(1));function sN(e,t=0){return la[e[t+0]]+la[e[t+1]]+la[e[t+2]]+la[e[t+3]]+"-"+la[e[t+4]]+la[e[t+5]]+"-"+la[e[t+6]]+la[e[t+7]]+"-"+la[e[t+8]]+la[e[t+9]]+"-"+la[e[t+10]]+la[e[t+11]]+la[e[t+12]]+la[e[t+13]]+la[e[t+14]]+la[e[t+15]]}const lN=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),K1={randomUUID:lN};function uN(e,t,r){if(K1.randomUUID&&!e)return K1.randomUUID();e=e||{};const i=e.random||(e.rng||oN)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,sN(i)}const nv=["ES256","RS256"],cN="openid",fN="offline_access",dN="webid",hN=[cN,fN,dN].join(" ");async function pN(e,t){const r=await l_.call(globalThis,e);if(r.status!==200)throw new Error(`Could not fetch JWKS for [${t}] at [${e}]: ${r.status} ${r.statusText}`);let i;try{i=(await r.json()).keys[0]}catch(a){throw new Error(`Malformed JWKS for [${t}] at [${e}]: ${a.message}`)}return i}async function u_(e,t,r,i){const a=await pN(t,r);let l;try{const{payload:s}=await jR(e,await mm(a),{issuer:r,audience:i});l=s}catch(s){throw new Error(`Token verification failed: ${s.stack}`)}if(typeof l.webid=="string")return l.webid;if(typeof l.sub!="string")throw new Error(`The token ${JSON.stringify(l)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(l.sub),l.sub}catch(s){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${l.sub}] is invalid as a URL - error [${s}].`)}}function gN(e){const t=new URL(e);return t.searchParams.delete("state"),t.searchParams.delete("code"),t.searchParams.delete("error"),t.searchParams.delete("error_description"),t.searchParams.delete("iss"),t}function mN(e,t){var r;return(r=t.find(i=>e.includes(i)))!==null&&r!==void 0?r:null}class Ry extends Error{constructor(t){super(`Invalid response from OIDC provider: missing fields ${t}`),this.missingFields=t}}class yN extends Error{constructor(t,r,i){super(t),this.error=r,this.errorDescription=i}}function vN(e){const t=new URL(e);return new URL(t.pathname,t.origin).toString()}async function zR(e,t,r){return new VR({htu:vN(e),htm:t.toUpperCase(),jti:uN()}).setProtectedHeader({alg:nv[0],jwk:r.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(r.privateKey,{})}async function bN(){const{privateKey:e,publicKey:t}=await qR(nv[0]),r={privateKey:e,publicKey:await t_(t)};return[r.publicKey.alg]=nv,r}function wN(e,t){var r,i,a,l;throw e.error==="invalid_redirect_uri"?new Error(`Dynamic client registration failed: the provided redirect uri [${(r=t.redirectUrl)===null||r===void 0?void 0:r.toString()}] is invalid - ${(i=e.error_description)!==null&&i!==void 0?i:""}`):e.error==="invalid_client_metadata"?new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(t)} is invalid - ${(a=e.error_description)!==null&&a!==void 0?a:""}`):new Error(`Dynamic client registration failed: ${e.error} - ${(l=e.error_description)!==null&&l!==void 0?l:""}`)}function _N(e,t){if(e.client_id===void 0)throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(e)}`);if(t.redirectUrl&&(e.redirect_uris===void 0||e.redirect_uris[0]!==t.redirectUrl.toString()))throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(e.redirect_uris)} don't match the provided ${JSON.stringify([t.redirectUrl.toString()])}`)}async function SN(e,t){var r;if(!t.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(t.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const i=mN(t.idTokenSigningAlgValuesSupported,nv),a={client_name:e.clientName,application_type:"web",redirect_uris:[(r=e.redirectUrl)===null||r===void 0?void 0:r.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:i,grant_types:["authorization_code","refresh_token"]},l={"Content-Type":"application/json"},s=await fetch(t.registrationEndpoint.toString(),{method:"POST",headers:l,body:JSON.stringify(a)});if(s.ok){const u=await s.json();return _N(u,e),{clientId:u.client_id,clientSecret:u.client_secret,idTokenSignedResponseAlg:u.id_token_signed_response_alg,clientType:"dynamic"}}throw s.status===400&&wN(await s.json(),e),new Error(`Dynamic client registration failed: the server returned ${s.status} ${s.statusText} - ${await s.text()}`)}function EN(e){return e.error!==void 0&&typeof e.error=="string"}function G1(e){return e.error_description!==void 0&&typeof e.error_description=="string"}function AN(e){return e.error_uri!==void 0&&typeof e.error_uri=="string"}function xN(e){return e.access_token!==void 0&&typeof e.access_token=="string"}function RN(e){return e.id_token!==void 0&&typeof e.id_token=="string"}function CN(e){return e.refresh_token!==void 0&&typeof e.refresh_token=="string"}function TN(e){return e.token_type!==void 0&&typeof e.token_type=="string"}function ON(e){return e.expires_in===void 0||typeof e.expires_in=="number"}function IN(e,t){if(t.grantType&&(!e.grantTypesSupported||!e.grantTypesSupported.includes(t.grantType)))throw new Error(`The issuer [${e.issuer}] does not support the [${t.grantType}] grant`);if(!e.tokenEndpoint)throw new Error(`This issuer [${e.issuer}] does not have a token endpoint`)}function WR(e,t){if(EN(e))throw new yN(`Token endpoint returned error [${e.error}]${G1(e)?`: ${e.error_description}`:""}${AN(e)?` (see ${e.error_uri})`:""}`,e.error,G1(e)?e.error_description:void 0);if(!xN(e))throw new Ry(["access_token"]);if(!RN(e))throw new Ry(["id_token"]);if(!TN(e))throw new Ry(["token_type"]);if(!ON(e))throw new Ry(["expires_in"]);if(!t&&e.token_type.toLowerCase()!=="bearer")throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${e.token_type}].`);return e}async function PN(e,t,r,i){IN(e,r);const a={"content-type":"application/x-www-form-urlencoded"};let l;l=await bN(),a.DPoP=await zR(e.tokenEndpoint,"POST",l),t.clientSecret&&(a.Authorization=`Basic ${btoa(`${t.clientId}:${t.clientSecret}`)}`);const s={grant_type:r.grantType,redirect_uri:r.redirectUrl,code:r.code,code_verifier:r.codeVerifier,client_id:t.clientId},u={method:"POST",headers:a,body:new URLSearchParams(s).toString()},c=await(await l_(e.tokenEndpoint,u)).json(),p=WR(c,i),m=await u_(p.id_token,e.jwksUri,e.issuer,t.clientId);return{accessToken:p.access_token,idToken:p.id_token,refreshToken:CN(p)?p.refresh_token:void 0,webId:m,dpopKey:l,expiresIn:p.expires_in}}async function NN(e){let t;try{const r=new Ao.OidcClient({response_mode:"query",loadUserInfo:!1});if(t=await r.processSigninResponse(e),r.settings.metadata===void 0)throw new Error("Cannot retrieve issuer metadata from client information in storage.");if(r.settings.metadata.jwks_uri===void 0)throw new Error("Missing some issuer metadata from client information in storage: 'jwks_uri' is undefined");if(r.settings.metadata.issuer===void 0)throw new Error("Missing some issuer metadata from client information in storage: 'issuer' is undefined");if(r.settings.client_id===void 0)throw new Error("Missing some client information in storage: 'client_id' is undefined");const i=await u_(t.id_token,r.settings.metadata.jwks_uri,r.settings.metadata.issuer,r.settings.client_id);return{accessToken:t.access_token,idToken:t.id_token,webId:i,refreshToken:t.refresh_token}}catch(r){throw new Error(`Problem handling Auth Code Grant (Flow) redirect - URL [${e}]: ${r}`)}}async function FN(e,t,r){return PN(e,t,r,!0)}const DN=e=>{try{return new URL(e),!0}catch{return!1}};async function MN(e,t,r,i){if(r.clientId===void 0)throw new Error("No client ID available when trying to refresh the access token.");const a={grant_type:"refresh_token",refresh_token:e,scope:hN};let l={};i!==void 0&&(l={DPoP:await zR(t.tokenEndpoint,"POST",i)});let s={};r.clientSecret!==void 0?s={Authorization:`Basic ${btoa(`${r.clientId}:${r.clientSecret}`)}`}:DN(r.clientId)&&(a.client_id=r.clientId);const u=await l_(t.tokenEndpoint,{method:"POST",body:new URLSearchParams(a).toString(),headers:{...l,...s,"Content-Type":"application/x-www-form-urlencoded"}});let d;try{d=await u.json()}catch{throw new Error(`The token endpoint of issuer ${t.issuer} returned a malformed response.`)}const c=WR(d,i!==void 0),p=await u_(c.id_token,t.jwksUri,t.issuer,r.clientId);return{accessToken:c.access_token,idToken:c.id_token,refreshToken:typeof c.refresh_token=="string"?c.refresh_token:void 0,webId:p,dpopKey:i,expiresIn:c.expires_in}}function LN(e){const t=gN(e);return t.hash="",e.includes(`${t.origin}/`)?t.href:`${t.origin}${t.href.substring(t.origin.length+1)}`}async function UN(){await new Ao.OidcClient({response_mode:"query"}).clearStaleState(new Ao.WebStorageStateStore({}));const t=window.localStorage,r=[];for(let i=0;i<=t.length;i+=1){const a=t.key(i);a&&(a.match(/^oidc\..+$/)||a.match(/^solidClientAuthenticationUser:.+$/))&&r.push(a)}r.forEach(i=>t.removeItem(i))}const kN=Object.freeze(Object.defineProperty({__proto__:null,CordovaIFrameNavigator:Ao.CordovaIFrameNavigator,CordovaPopupNavigator:Ao.CordovaPopupNavigator,InMemoryWebStorage:Ao.InMemoryWebStorage,Log:Ao.Log,OidcClient:Ao.OidcClient,SessionMonitor:Ao.SessionMonitor,User:Ao.User,UserManager:Ao.UserManager,Version:Ao.Version,WebStorageStateStore:Ao.WebStorageStateStore,clearOidcPersistentStorage:UN,getBearerToken:NN,getDpopToken:FN,normalizeCallbackUrl:LN,refresh:MN,registerClient:SN},Symbol.toStringTag,{value:"Module"})),jN=bv(kN);var q1;function BN(){return q1||(q1=1,function(e){var t=nN(),r=Ww(),i=qf(),a=jN,l=Vw();class s extends t.StorageUtility{constructor(ue,Ie){super(ue,Ie)}}class u extends t.ClientAuthentication{constructor(){super(...arguments),this.login=async(ue,Ie)=>{var Ye,se;await this.sessionInfoManager.clear(ue.sessionId);const k=(Ye=ue.redirectUrl)!==null&&Ye!==void 0?Ye:a.normalizeCallbackUrl(window.location.href);if(!t.isValidRedirectUrl(k))throw new Error(`${k} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...ue,redirectUrl:k,clientName:(se=ue.clientName)!==null&&se!==void 0?se:ue.clientId,eventEmitter:Ie})},this.validateCurrentSession=async ue=>{const Ie=await this.sessionInfoManager.get(ue);return Ie===void 0||Ie.clientAppId===void 0||Ie.issuer===void 0?null:Ie},this.handleIncomingRedirect=async(ue,Ie)=>{try{const Ye=await this.redirectHandler.handle(ue,Ie);return this.fetch=Ye.fetch.bind(window),this.boundLogout=Ye.getLogoutUrl,await this.cleanUrlAfterRedirect(ue),{isLoggedIn:Ye.isLoggedIn,webId:Ye.webId,sessionId:Ye.sessionId,expirationDate:Ye.expirationDate}}catch(Ye){await this.cleanUrlAfterRedirect(ue),Ie.emit(t.EVENTS.ERROR,"redirect",Ye);return}}}async cleanUrlAfterRedirect(ue){const Ie=t.removeOpenIdParams(ue).href;for(window.history.replaceState(null,"",Ie);window.location.href!==Ie;)await new Promise(Ye=>{setTimeout(()=>Ye(),1)})}}function d(Me){return typeof Me.oidcIssuer=="string"}function c(Me){return typeof Me.redirectUrl=="string"}class p{constructor(ue,Ie,Ye,se){this.storageUtility=ue,this.oidcHandler=Ie,this.issuerConfigFetcher=Ye,this.clientRegistrar=se,this.storageUtility=ue,this.oidcHandler=Ie,this.issuerConfigFetcher=Ye,this.clientRegistrar=se}async canHandle(ue){return d(ue)&&c(ue)}async handle(ue){if(!d(ue))throw new t.ConfigurationError(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(ue)}`);if(!c(ue))throw new t.ConfigurationError(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(ue)}`);const Ie=await this.issuerConfigFetcher.fetchConfig(ue.oidcIssuer),Ye=await t.handleRegistration(ue,Ie,this.storageUtility,this.clientRegistrar),se={issuer:Ie.issuer,dpop:ue.tokenType.toLowerCase()==="dpop",...ue,issuerConfiguration:Ie,client:Ye};return this.oidcHandler.handle(se)}}class m extends t.AuthorizationCodeWithPkceOidcHandlerBase{async handle(ue){var Ie;const Ye={authority:ue.issuer.toString(),client_id:ue.client.clientId,client_secret:ue.client.clientSecret,redirect_uri:ue.redirectUrl.toString(),post_logout_redirect_uri:ue.redirectUrl.toString(),response_type:"code",scope:t.DEFAULT_SCOPES,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:(Ie=ue.prompt)!==null&&Ie!==void 0?Ie:"consent"},se=new a.OidcClient(Ye);try{const k=await se.createSigninRequest();return await this.handleRedirect({oidcLoginOptions:ue,state:k.state._id,codeVerifier:k.state._code_verifier,targetUrl:k.url.toString()})}catch(k){console.error(k)}}}const w=".well-known/openid-configuration",S={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};function C(Me){const ue={};return Object.keys(Me).forEach(Ie=>{S[Ie]&&(ue[S[Ie].toKey]=Me[Ie])}),Array.isArray(ue.scopesSupported)||(ue.scopesSupported=["openid"]),ue}class R{constructor(ue){this.storageUtility=ue,this.storageUtility=ue}static getLocalStorageKey(ue){return`issuerConfig:${ue}`}async fetchConfig(ue){let Ie;const Ye=new URL(w,ue.endsWith("/")?ue:`${ue}/`).href,se=await l.fetch.call(globalThis,Ye);try{Ie=C(await se.json())}catch(k){throw new t.ConfigurationError(`[${ue.toString()}] has an invalid configuration: ${k.message}`)}return await this.storageUtility.set(R.getLocalStorageKey(ue),JSON.stringify(Ie)),Ie}}async function T(Me,ue){await t.clear(Me,ue),await a.clearOidcPersistentStorage()}class E extends t.SessionInfoManagerBase{async get(ue){const[Ie,Ye,se,k,D,q,ne,Ee]=await Promise.all([this.storageUtility.getForUser(ue,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(ue,"webId",{secure:!0}),this.storageUtility.getForUser(ue,"clientId",{secure:!1}),this.storageUtility.getForUser(ue,"clientSecret",{secure:!1}),this.storageUtility.getForUser(ue,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(ue,"refreshToken",{secure:!0}),this.storageUtility.getForUser(ue,"issuer",{secure:!1}),this.storageUtility.getForUser(ue,"tokenType",{secure:!1})]);if(typeof D=="string"&&!t.isValidRedirectUrl(D)){await Promise.all([this.storageUtility.deleteAllUserData(ue,{secure:!1}),this.storageUtility.deleteAllUserData(ue,{secure:!0})]);return}if(Ee!==void 0&&!t.isSupportedTokenType(Ee))throw new Error(`Tokens of type [${Ee}] are not supported.`);if(!(se===void 0&&Ie===void 0&&Ye===void 0&&q===void 0))return{sessionId:ue,webId:Ye,isLoggedIn:Ie==="true",redirectUrl:D,refreshToken:q,issuer:ne,clientAppId:se,clientAppSecret:k,tokenType:Ee??"DPoP"}}async clear(ue){return T(ue,this.storageUtility)}}class N{async canHandle(ue){try{return new URL(ue),!0}catch(Ie){throw new Error(`[${ue}] is not a valid URL, and cannot be used as a redirect URL: ${Ie}`)}}async handle(ue){return t.getUnauthenticatedSession()}}const O=(...Me)=>l.fetch.call(globalThis,...Me);class V{constructor(ue,Ie,Ye,se,k){this.storageUtility=ue,this.sessionInfoManager=Ie,this.issuerConfigFetcher=Ye,this.clientRegistrar=se,this.tokerRefresher=k,this.storageUtility=ue,this.sessionInfoManager=Ie,this.issuerConfigFetcher=Ye,this.clientRegistrar=se,this.tokerRefresher=k}async canHandle(ue){try{const Ie=new URL(ue);return Ie.searchParams.get("code")!==null&&Ie.searchParams.get("state")!==null}catch(Ie){throw new Error(`[${ue}] is not a valid URL, and cannot be used as a redirect URL: ${Ie}`)}}async handle(ue,Ie){if(!await this.canHandle(ue))throw new Error(`AuthCodeRedirectHandler cannot handle [${ue}]: it is missing one of [code, state].`);const Ye=new URL(ue),se=Ye.searchParams.get("state"),k=await this.storageUtility.getForUser(se,"sessionId",{errorIfNull:!0}),{issuerConfig:D,codeVerifier:q,redirectUrl:ne,dpop:Ee}=await t.loadOidcContextFromStorage(k,this.storageUtility,this.issuerConfigFetcher),Ne=Ye.searchParams.get("iss");if(typeof Ne=="string"&&Ne!==D.issuer)throw new Error(`The value of the iss parameter (${Ne}) does not match the issuer identifier of the authorization server (${D.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(q===void 0)throw new Error(`The code verifier for session ${k} is missing from storage.`);if(ne===void 0)throw new Error(`The redirect URL for session ${k} is missing from storage.`);const ct=await this.clientRegistrar.getClient({sessionId:k},D);let Pe;const mt=Date.now();Ee?(Pe=await a.getDpopToken(D,ct,{grantType:"authorization_code",code:Ye.searchParams.get("code"),codeVerifier:q,redirectUrl:ne}),window.localStorage.removeItem(`oidc.${se}`)):Pe=await a.getBearerToken(Ye.toString());let Ot;Pe.refreshToken!==void 0&&(Ot={sessionId:k,refreshToken:Pe.refreshToken,tokenRefresher:this.tokerRefresher});const wt=await t.buildAuthenticatedFetch(O,Pe.accessToken,{dpopKey:Pe.dpopKey,refreshOptions:Ot,eventEmitter:Ie,expiresIn:Pe.expiresIn});await this.storageUtility.setForUser(k,{webId:Pe.webId,isLoggedIn:"true"},{secure:!0});const Qe=await this.sessionInfoManager.get(k);if(!Qe)throw new Error(`Could not retrieve session: [${k}].`);return Object.assign(Qe,{fetch:wt,getLogoutUrl:t.maybeBuildRpInitiatedLogout({idTokenHint:Pe.idToken,endSessionEndpoint:D.endSessionEndpoint}),expirationDate:typeof Pe.expiresIn=="number"?mt+Pe.expiresIn*1e3:void 0})}}class L extends t.AggregateHandler{constructor(ue){super(ue)}}class z{get storage(){return window.localStorage}async get(ue){return this.storage.getItem(ue)||void 0}async set(ue,Ie){this.storage.setItem(ue,Ie)}async delete(ue){this.storage.removeItem(ue)}}class W{redirect(ue,Ie){Ie&&Ie.handleRedirect?Ie.handleRedirect(ue):Ie&&Ie.redirectByReplacingState?window.history.replaceState({},"",ue):window.location.href=ue}}class ${constructor(ue){this.storageUtility=ue,this.storageUtility=ue}async getClient(ue,Ie){const[Ye,se]=await Promise.all([this.storageUtility.getForUser(ue.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(ue.sessionId,"clientSecret",{secure:!1})]);if(Ye)return{clientId:Ye,clientSecret:se,clientType:"dynamic"};try{const k=await a.registerClient(ue,Ie),D={clientId:k.clientId};return k.clientSecret&&(D.clientSecret=k.clientSecret),k.idTokenSignedResponseAlg&&(D.idTokenSignedResponseAlg=k.idTokenSignedResponseAlg),await this.storageUtility.setForUser(ue.sessionId,D,{secure:!1}),k}catch(k){throw new Error(`Client registration failed: [${k}]`)}}}class Ce{async canHandle(ue){try{return new URL(ue).searchParams.has("error")}catch(Ie){throw new Error(`[${ue}] is not a valid URL, and cannot be used as a redirect URL: ${Ie}`)}}async handle(ue,Ie){if(Ie!==void 0){const Ye=new URL(ue),se=Ye.searchParams.get("error"),k=Ye.searchParams.get("error_description");Ie.emit(t.EVENTS.ERROR,se,k)}return t.getUnauthenticatedSession()}}class K{constructor(ue,Ie,Ye){this.storageUtility=ue,this.issuerConfigFetcher=Ie,this.clientRegistrar=Ye,this.storageUtility=ue,this.issuerConfigFetcher=Ie,this.clientRegistrar=Ye}async refresh(ue,Ie,Ye,se){const k=await t.loadOidcContextFromStorage(ue,this.storageUtility,this.issuerConfigFetcher),D=await this.clientRegistrar.getClient({sessionId:ue},k.issuerConfig);if(Ie===void 0)throw new Error(`Session [${ue}] has no refresh token to allow it to refresh its access token.`);if(k.dpop&&Ye===void 0)throw new Error(`For session [${ue}], the key bound to the DPoP access token must be provided to refresh said access token.`);const q=await a.refresh(Ie,k.issuerConfig,D,Ye);return q.refreshToken!==void 0&&(se?.emit(t.EVENTS.NEW_REFRESH_TOKEN,q.refreshToken),await this.storageUtility.setForUser(ue,{refreshToken:q.refreshToken})),q}}function re(Me){const ue=new t.InMemoryStorage,Ie=Me.secureStorage||ue,Ye=Me.insecureStorage||new z,se=new s(Ie,Ye),k=new R(se),D=new $(se),q=new E(se),ne=new K(se,k,D),Ee=new W,Ne=new p(se,new m(se,Ee),k,D),ct=new L([new Ce,new V(se,q,k,D,ne),new N]);return new u(Ne,ct,new t.IWaterfallLogoutHandler(q,Ee),q,k)}const pe=`${t.SOLID_CLIENT_AUTHN_KEY_PREFIX}currentSession`,_e=`${t.SOLID_CLIENT_AUTHN_KEY_PREFIX}currentUrl`;async function et(Me,ue,Ie){var Ye;const se=await ue.validateCurrentSession(Me);return se!==null?(window.localStorage.setItem(_e,window.location.href),await ue.login({sessionId:Me,prompt:"none",oidcIssuer:se.issuer,redirectUrl:se.redirectUrl,clientId:se.clientAppId,clientSecret:se.clientAppSecret,tokenType:(Ye=se.tokenType)!==null&&Ye!==void 0?Ye:"DPoP"},Ie.events),!0):!1}function rt(Me){return!!Me?.isLoggedIn}class xe extends i{constructor(ue={},Ie=void 0){super(),this.tokenRequestInProgress=!1,this.login=async Ye=>{var se;return await this.clientAuthentication.login({sessionId:this.info.sessionId,...Ye,tokenType:(se=Ye.tokenType)!==null&&se!==void 0?se:"DPoP"},this.events),new Promise(()=>{})},this.fetch=(Ye,se)=>this.clientAuthentication.fetch(Ye,se),this.internalLogout=async(Ye,se)=>{window.localStorage.removeItem(pe),await this.clientAuthentication.logout(this.info.sessionId,se),this.info.isLoggedIn=!1,Ye&&this.events.emit(t.EVENTS.LOGOUT)},this.logout=async Ye=>this.internalLogout(!0,Ye),this.handleIncomingRedirect=async(Ye={})=>{var se;if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const k=typeof Ye=="string"?{url:Ye}:Ye,D=(se=k.url)!==null&&se!==void 0?se:window.location.href;this.tokenRequestInProgress=!0;const q=await this.clientAuthentication.handleIncomingRedirect(D,this.events);if(rt(q)){this.setSessionInfo(q);const ne=window.localStorage.getItem(_e);ne===null?this.events.emit(t.EVENTS.LOGIN):(window.localStorage.removeItem(_e),this.events.emit(t.EVENTS.SESSION_RESTORED,ne))}else if(k.restorePreviousSession===!0){const ne=window.localStorage.getItem(pe);if(ne!==null&&await et(ne,this.clientAuthentication,this))return new Promise(()=>{})}return this.tokenRequestInProgress=!1,q},this.events=new Proxy(this,t.buildProxyHandler(xe.prototype,"events only implements ISessionEventListener")),ue.clientAuthentication?this.clientAuthentication=ue.clientAuthentication:ue.secureStorage&&ue.insecureStorage?this.clientAuthentication=re({secureStorage:ue.secureStorage,insecureStorage:ue.insecureStorage}):this.clientAuthentication=re({}),ue.sessionInfo?this.info={sessionId:ue.sessionInfo.sessionId,isLoggedIn:!1,webId:ue.sessionInfo.webId}:this.info={sessionId:Ie??r.v4(),isLoggedIn:!1},this.events.on(t.EVENTS.LOGIN,()=>window.localStorage.setItem(pe,this.info.sessionId)),this.events.on(t.EVENTS.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.events.on(t.EVENTS.ERROR,()=>this.internalLogout(!1))}onLogin(ue){this.events.on(t.EVENTS.LOGIN,ue)}onLogout(ue){this.events.on(t.EVENTS.LOGOUT,ue)}onError(ue){this.events.on(t.EVENTS.ERROR,ue)}onSessionRestore(ue){this.events.on(t.EVENTS.SESSION_RESTORED,ue)}onSessionExpiration(ue){this.events.on(t.EVENTS.SESSION_EXPIRED,ue)}setSessionInfo(ue){this.info.isLoggedIn=ue.isLoggedIn,this.info.webId=ue.webId,this.info.sessionId=ue.sessionId,this.info.expirationDate=ue.expirationDate,this.events.on(t.EVENTS.SESSION_EXTENDED,Ie=>{this.info.expirationDate=Date.now()+Ie*1e3})}}let lt;function he(){return typeof lt>"u"&&(lt=new xe),lt}const nt=(...Me)=>he().fetch(...Me),Y=(...Me)=>he().login(...Me),Re=(...Me)=>he().logout(...Me),Ke=(...Me)=>he().handleIncomingRedirect(...Me),Ue=(...Me)=>he().onLogin(...Me),at=(...Me)=>he().onLogout(...Me),It=(...Me)=>he().onSessionRestore(...Me),Nt=()=>he().events;Object.defineProperty(e,"ConfigurationError",{enumerable:!0,get:function(){return t.ConfigurationError}}),Object.defineProperty(e,"EVENTS",{enumerable:!0,get:function(){return t.EVENTS}}),Object.defineProperty(e,"InMemoryStorage",{enumerable:!0,get:function(){return t.InMemoryStorage}}),Object.defineProperty(e,"NotImplementedError",{enumerable:!0,get:function(){return t.NotImplementedError}}),e.Session=xe,e.events=Nt,e.fetch=nt,e.getClientAuthenticationWithDependencies=re,e.getDefaultSession=he,e.handleIncomingRedirect=Ke,e.login=Y,e.logout=Re,e.onLogin=Ue,e.onLogout=at,e.onSessionRestore=It}(_b)),_b}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function JR(e,t,r,i){function a(l){return l instanceof r?l:new r(function(s){s(l)})}return new(r||(r=Promise))(function(l,s){function u(p){try{c(i.next(p))}catch(m){s(m)}}function d(p){try{c(i.throw(p))}catch(m){s(m)}}function c(p){p.done?l(p.value):a(p.value).then(u,d)}c((i=i.apply(e,[])).next())})}function YR(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(c){return function(p){return d([c,p])}}function d(c){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,a&&(l=c[0]&2?a.return:c[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,c[1])).done)return l;switch(a=0,l&&(c=[c[0]&2,l.value]),c[0]){case 0:case 1:l=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!l||c[1]>l[0]&&c[1]<l[3])){r.label=c[1];break}if(c[0]===6&&r.label<l[1]){r.label=l[1],l=c;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(c);break}l[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(p){c=[6,p],a=0}finally{i=l=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var zs=function(){},Ea=zs(),Yg=Object,Ua=function(e){return e===Ea},cc=function(e){return typeof e=="function"},ru=function(e,t){return Yg.assign({},e,t)},c_="undefined",f_=function(){return typeof window!=c_},HN=function(){return typeof document!=c_},VN=function(){return f_()&&typeof window.requestAnimationFrame!=c_},Cy=new WeakMap,$N=0,nm=function(e){var t=typeof e,r=e&&e.constructor,i=r==Date,a,l;if(Yg(e)===e&&!i&&r!=RegExp){if(a=Cy.get(e),a)return a;if(a=++$N+"~",Cy.set(e,a),r==Array){for(a="@",l=0;l<e.length;l++)a+=nm(e[l])+",";Cy.set(e,a)}if(r==Yg){a="#";for(var s=Yg.keys(e).sort();!Ua(l=s.pop());)Ua(e[l])||(a+=l+":"+nm(e[l])+",");Cy.set(e,a)}}else a=i?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return a},aw=!0,KN=function(){return aw},XR=f_(),d_=HN(),ow=XR&&window.addEventListener?window.addEventListener.bind(window):zs,GN=d_?document.addEventListener.bind(document):zs,sw=XR&&window.removeEventListener?window.removeEventListener.bind(window):zs,qN=d_?document.removeEventListener.bind(document):zs,zN=function(){var e=d_&&document.visibilityState;return Ua(e)||e!=="hidden"},WN=function(e){return GN("visibilitychange",e),ow("focus",e),function(){qN("visibilitychange",e),sw("focus",e)}},JN=function(e){var t=function(){aw=!0,e()},r=function(){aw=!1};return ow("online",t),ow("offline",r),function(){sw("online",t),sw("offline",r)}},YN={isOnline:KN,isVisible:zN},XN={initFocus:WN,initReconnect:JN},Dv=!f_()||"Deno"in window,QN=function(e){return VN()?window.requestAnimationFrame(e):setTimeout(e,1)},Xg=Dv?ie.useEffect:ie.useLayoutEffect,Ab=typeof navigator<"u"&&navigator.connection,z1=!Dv&&Ab&&(["slow-2g","2g"].includes(Ab.effectiveType)||Ab.saveData),h_=function(e){if(cc(e))try{e=e()}catch{e=""}var t=[].concat(e);e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?nm(e):"";var r=e?"$swr$"+e:"";return[e,t,r]},$f=new WeakMap,QR=0,ZR=1,eC=2,Qg=function(e,t,r,i,a,l,s){s===void 0&&(s=!0);var u=$f.get(e),d=u[0],c=u[1],p=u[3],m=d[t],w=c[t];if(s&&w)for(var S=0;S<w.length;++S)w[S](r,i,a);return l&&(delete p[t],m&&m[0])?m[0](eC).then(function(){return e.get(t)}):e.get(t)},ZN=0,lw=function(){return++ZN},tC=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return JR(void 0,void 0,void 0,function(){var r,i,a,l,s,u,d,c,p,m,w,S,C,R,T,E,N,O,V,L,z;return YR(this,function(W){switch(W.label){case 0:if(r=e[0],i=e[1],a=e[2],l=e[3],s=typeof l=="boolean"?{revalidate:l}:l||{},u=Ua(s.populateCache)?!0:s.populateCache,d=s.revalidate!==!1,c=s.rollbackOnError!==!1,p=s.optimisticData,m=h_(i),w=m[0],S=m[2],!w)return[2];if(C=$f.get(r),R=C[2],e.length<3)return[2,Qg(r,w,r.get(w),Ea,Ea,d,!0)];if(T=a,N=lw(),R[w]=[N,0],O=!Ua(p),V=r.get(w),O&&(L=cc(p)?p(V):p,r.set(w,L),Qg(r,w,L)),cc(T))try{T=T(r.get(w))}catch($){E=$}return T&&cc(T.then)?[4,T.catch(function($){E=$})]:[3,2];case 1:if(T=W.sent(),N!==R[w][0]){if(E)throw E;return[2,T]}else E&&O&&c&&(u=!0,T=V,r.set(w,V));W.label=2;case 2:return u&&(E||(cc(u)&&(T=u(T,V)),r.set(w,T)),r.set(S,ru(r.get(S),{error:E}))),R[w][1]=lw(),[4,Qg(r,w,T,E,Ea,d,!!u)];case 3:if(z=W.sent(),E)throw E;return[2,u?z:T]}})})},W1=function(e,t){for(var r in e)e[r][0]&&e[r][0](t)},nC=function(e,t){if(!$f.has(e)){var r=ru(XN,t),i={},a=tC.bind(Ea,e),l=zs;if($f.set(e,[i,{},{},{},a]),!Dv){var s=r.initFocus(setTimeout.bind(Ea,W1.bind(Ea,i,QR))),u=r.initReconnect(setTimeout.bind(Ea,W1.bind(Ea,i,ZR)));l=function(){s&&s(),u&&u(),$f.delete(e)}}return[e,a,l]}return[e,$f.get(e)[4]]},eF=function(e,t,r,i,a){var l=r.errorRetryCount,s=a.retryCount,u=~~((Math.random()+.5)*(1<<(s<8?s:8)))*r.errorRetryInterval;!Ua(l)&&s>l||setTimeout(i,u,a)},rC=nC(new Map),iC=rC[0],aC=rC[1],oC=ru({onLoadingSlow:zs,onSuccess:zs,onError:zs,onErrorRetry:eF,onDiscarded:zs,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:z1?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:z1?5e3:3e3,compare:function(e,t){return nm(e)==nm(t)},isPaused:function(){return!1},cache:iC,mutate:aC,fallback:{}},YN),sC=function(e,t){var r=ru(e,t);if(t){var i=e.use,a=e.fallback,l=t.use,s=t.fallback;i&&l&&(r.use=i.concat(l)),a&&s&&(r.fallback=ru(a,s))}return r},uw=ie.createContext({}),tF=function(e){var t=e.value,r=sC(ie.useContext(uw),t),i=t&&t.provider,a=ie.useState(function(){return i?nC(i(r.cache||iC),t):Ea})[0];return a&&(r.cache=a[0],r.mutate=a[1]),Xg(function(){return a?a[2]:Ea},[]),ie.createElement(uw.Provider,ru(e,{value:r}))},nF=function(e,t){var r=ie.useState({})[1],i=ie.useRef(e),a=ie.useRef({data:!1,error:!1,isValidating:!1}),l=ie.useCallback(function(s){var u=!1,d=i.current;for(var c in s){var p=c;d[p]!==s[p]&&(d[p]=s[p],a.current[p]&&(u=!0))}u&&!t.current&&r({})},[]);return Xg(function(){i.current=e}),[i,a.current,l]},rF=function(e){return cc(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}]},lC=function(){return ru(oC,ie.useContext(uw))},iF=function(e){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=lC(),l=rF(r),s=l[0],u=l[1],d=l[2],c=sC(a,d),p=e,m=c.use;if(m)for(var w=m.length;w-- >0;)p=m[w](p);return p(s,u||c.fetcher,c)}},J1=function(e,t,r){var i=t[e]||(t[e]=[]);return i.push(r),function(){var a=i.indexOf(r);a>=0&&(i[a]=i[i.length-1],i.pop())}},xb={dedupe:!0},aF=function(e,t,r){var i=r.cache,a=r.compare,l=r.fallbackData,s=r.suspense,u=r.revalidateOnMount,d=r.refreshInterval,c=r.refreshWhenHidden,p=r.refreshWhenOffline,m=$f.get(i),w=m[0],S=m[1],C=m[2],R=m[3],T=h_(e),E=T[0],N=T[1],O=T[2],V=ie.useRef(!1),L=ie.useRef(!1),z=ie.useRef(E),W=ie.useRef(t),$=ie.useRef(r),Ce=function(){return $.current},K=function(){return Ce().isVisible()&&Ce().isOnline()},re=function(Me){return i.set(O,ru(i.get(O),Me))},pe=i.get(E),_e=Ua(l)?r.fallback[E]:l,et=Ua(pe)?_e:pe,rt=i.get(O)||{},xe=rt.error,lt=!V.current,he=function(){return lt&&!Ua(u)?u:Ce().isPaused()?!1:s?Ua(et)?!1:r.revalidateIfStale:Ua(et)||r.revalidateIfStale},nt=function(){return!E||!t?!1:rt.isValidating?!0:lt&&he()},Y=nt(),Re=nF({data:et,error:xe,isValidating:Y},L),Ke=Re[0],Ue=Re[1],at=Re[2],It=ie.useCallback(function(Me){return JR(void 0,void 0,void 0,function(){var ue,Ie,Ye,se,k,D,q,ne,Ee,Ne,ct,Pe,mt;return YR(this,function(Ot){switch(Ot.label){case 0:if(ue=W.current,!E||!ue||L.current||Ce().isPaused())return[2,!1];se=!0,k=Me||{},D=!R[E]||!k.dedupe,q=function(){return!L.current&&E===z.current&&V.current},ne=function(){var wt=R[E];wt&&wt[1]===Ye&&delete R[E]},Ee={isValidating:!1},Ne=function(){re({isValidating:!1}),q()&&at(Ee)},re({isValidating:!0}),at({isValidating:!0}),Ot.label=1;case 1:return Ot.trys.push([1,3,,4]),D&&(Qg(i,E,Ke.current.data,Ke.current.error,!0),r.loadingTimeout&&!i.get(E)&&setTimeout(function(){se&&q()&&Ce().onLoadingSlow(E,r)},r.loadingTimeout),R[E]=[ue.apply(void 0,N),lw()]),mt=R[E],Ie=mt[0],Ye=mt[1],[4,Ie];case 2:return Ie=Ot.sent(),D&&setTimeout(ne,r.dedupingInterval),!R[E]||R[E][1]!==Ye?(D&&q()&&Ce().onDiscarded(E),[2,!1]):(re({error:Ea}),Ee.error=Ea,ct=C[E],!Ua(ct)&&(Ye<=ct[0]||Ye<=ct[1]||ct[1]===0)?(Ne(),D&&q()&&Ce().onDiscarded(E),[2,!1]):(a(Ke.current.data,Ie)?Ee.data=Ke.current.data:Ee.data=Ie,a(i.get(E),Ie)||i.set(E,Ie),D&&q()&&Ce().onSuccess(Ie,E,r),[3,4]));case 3:return Pe=Ot.sent(),ne(),Ce().isPaused()||(re({error:Pe}),Ee.error=Pe,D&&q()&&(Ce().onError(Pe,E,r),(typeof r.shouldRetryOnError=="boolean"&&r.shouldRetryOnError||cc(r.shouldRetryOnError)&&r.shouldRetryOnError(Pe))&&K()&&Ce().onErrorRetry(Pe,E,r,It,{retryCount:(k.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return se=!1,Ne(),q()&&D&&Qg(i,E,Ee.data,Ee.error,!1),[2,!0]}})})},[E]),Nt=ie.useCallback(tC.bind(Ea,i,function(){return z.current}),[]);if(Xg(function(){W.current=t,$.current=r}),Xg(function(){if(E){var Me=E!==z.current,ue=It.bind(Ea,xb),Ie=function(q,ne,Ee){at(ru({error:ne,isValidating:Ee},a(Ke.current.data,q)?Ea:{data:q}))},Ye=0,se=function(q){if(q==QR){var ne=Date.now();Ce().revalidateOnFocus&&ne>Ye&&K()&&(Ye=ne+Ce().focusThrottleInterval,ue())}else if(q==ZR)Ce().revalidateOnReconnect&&K()&&ue();else if(q==eC)return It()},k=J1(E,S,Ie),D=J1(E,w,se);return L.current=!1,z.current=E,V.current=!0,Me&&at({data:et,error:xe,isValidating:Y}),he()&&(Ua(et)||Dv?ue():QN(ue)),function(){L.current=!0,k(),D()}}},[E,It]),Xg(function(){var Me;function ue(){var Ye=cc(d)?d(et):d;Ye&&Me!==-1&&(Me=setTimeout(Ie,Ye))}function Ie(){!Ke.current.error&&(c||Ce().isVisible())&&(p||Ce().isOnline())?It(xb).then(ue):ue()}return ue(),function(){Me&&(clearTimeout(Me),Me=-1)}},[d,c,p,It]),ie.useDebugValue(et),s&&Ua(et)&&E)throw W.current=t,$.current=r,L.current=!1,Ua(xe)?It(xb):xe;return{mutate:Nt,get data(){return Ue.data=!0,et},get error(){return Ue.error=!0,xe},get isValidating(){return Ue.isValidating=!0,Y}}},oF=Yg.defineProperty(tF,"default",{value:oC}),sF=function(e){return h_(e)[0]},lF=iF(aF);const uF=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:oF,default:lF,mutate:aC,unstable_serialize:sF,useSWRConfig:lC},Symbol.toStringTag,{value:"Module"})),cF=bv(uF);var Rb={exports:{}},qg={exports:{}},fF=qg.exports,Y1;function dF(){return Y1||(Y1=1,function(e,t){(function(r,i){i(t,cm())})(fF,function(r,i){function a(M,te,ae,de,je,be,$e){try{var Rt=M[be]($e),_t=Rt.value}catch(Pt){return void ae(Pt)}Rt.done?te(_t):Promise.resolve(_t).then(de,je)}function l(M){return function(){var te=this,ae=arguments;return new Promise(function(de,je){var be=M.apply(te,ae);function $e(_t){a(be,de,je,$e,Rt,"next",_t)}function Rt(_t){a(be,de,je,$e,Rt,"throw",_t)}$e(void 0)})}}function s(){return(s=Object.assign||function(M){for(var te=1;te<arguments.length;te++){var ae=arguments[te];for(var de in ae)Object.prototype.hasOwnProperty.call(ae,de)&&(M[de]=ae[de])}return M}).apply(this,arguments)}function u(M,te){if(M==null)return{};var ae,de,je={},be=Object.keys(M);for(de=0;de<be.length;de++)ae=be[de],te.indexOf(ae)>=0||(je[ae]=M[ae]);return je}function d(M){var te=function(ae,de){if(typeof ae!="object"||ae===null)return ae;var je=ae[Symbol.toPrimitive];if(je!==void 0){var be=je.call(ae,de);if(typeof be!="object")return be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ae)}(M,"string");return typeof te=="symbol"?te:String(te)}i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;var c={init:"init"},p=function(M){var te=M.value;return te===void 0?"":te},m=function(){return i.createElement(i.Fragment,null,"")},w={Cell:p,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function S(){for(var M=arguments.length,te=new Array(M),ae=0;ae<M;ae++)te[ae]=arguments[ae];return te.reduce(function(de,je){var be=je.style,$e=je.className;return de=s({},de,{},u(je,["style","className"])),be&&(de.style=de.style?s({},de.style||{},{},be||{}):be),$e&&(de.className=de.className?de.className+" "+$e:$e),de.className===""&&delete de.className,de},{})}var C=function(M,te){return te===void 0&&(te={}),function(ae){return ae===void 0&&(ae={}),[].concat(M,[ae]).reduce(function(de,je){return function be($e,Rt,_t){return typeof Rt=="function"?be({},Rt($e,_t)):Array.isArray(Rt)?S.apply(void 0,[$e].concat(Rt)):S($e,Rt)}(de,je,s({},te,{userProps:ae}))},{})}},R=function(M,te,ae,de){return ae===void 0&&(ae={}),M.reduce(function(je,be){return be(je,ae)},te)},T=function(M,te,ae){return ae===void 0&&(ae={}),M.forEach(function(de){de(te,ae)})};function E(M,te,ae,de){M.findIndex(function(je){return je.pluginName===ae}),te.forEach(function(je){M.findIndex(function(be){return be.pluginName===je})})}function N(M,te){return typeof M=="function"?M(te):M}function O(M){var te=i.useRef();return te.current=M,i.useCallback(function(){return te.current},[])}var V=typeof document<"u"?i.useLayoutEffect:i.useEffect;function L(M,te){var ae=i.useRef(!1);V(function(){ae.current&&M(),ae.current=!0},te)}function z(M,te,ae){return ae===void 0&&(ae={}),function(de,je){je===void 0&&(je={});var be=typeof de=="string"?te[de]:de;if(be===void 0)throw console.info(te),new Error("Renderer Error ");return W(be,s({},M,{column:te},ae,{},je))}}function W(M,te){return function(de){return typeof de=="function"&&(je=Object.getPrototypeOf(de)).prototype&&je.prototype.isReactComponent;var je}(ae=M)||typeof ae=="function"||function(de){return typeof de=="object"&&typeof de.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(de.$$typeof.description)}(ae)?i.createElement(M,te):M;var ae}function $(M,te,ae){return ae===void 0&&(ae=0),M.map(function(de){return K(de=s({},de,{parent:te,depth:ae})),de.columns&&(de.columns=$(de.columns,de,ae+1)),de})}function Ce(M){return xe(M,"columns")}function K(M){var te=M.id,ae=M.accessor,de=M.Header;if(typeof ae=="string"){te=te||ae;var je=ae.split(".");ae=function(be){return function($e,Rt,_t){if(!Rt)return $e;var Pt,qt=typeof Rt=="function"?Rt:JSON.stringify(Rt),Vt=_e.get(qt)||function(){var Wt=function(Lt){return function Jt(an,fn){if(fn===void 0&&(fn=[]),Array.isArray(an))for(var wn=0;wn<an.length;wn+=1)Jt(an[wn],fn);else fn.push(an);return fn}(Lt).map(function(Jt){return String(Jt).replace(".","_")}).join(".").replace(Ke,".").replace(Ue,"").split(".")}(Rt);return _e.set(qt,Wt),Wt}();try{Pt=Vt.reduce(function(Wt,Lt){return Wt[Lt]},$e)}catch{}return Pt!==void 0?Pt:_t}(be,je)}}if(!te&&typeof de=="string"&&de&&(te=de),!te&&M.columns)throw console.error(M),new Error('A column ID (or unique "Header" value) is required!');if(!te)throw console.error(M),new Error("A column ID (or string accessor) is required!");return Object.assign(M,{id:te,accessor:ae}),M}function re(M,te){if(!te)throw new Error;return Object.assign(M,s({Header:m,Footer:m},w,{},te,{},M)),Object.assign(M,{originalWidth:M.width}),M}function pe(M,te,ae){ae===void 0&&(ae=function(){return{}});for(var de=[],je=M,be=0,$e=function(){return be++},Rt=function(){var _t={headers:[]},Pt=[],qt=je.some(function(Vt){return Vt.parent});je.forEach(function(Vt){var Wt,Lt=[].concat(Pt).reverse()[0];qt&&(Vt.parent?Wt=s({},Vt.parent,{originalId:Vt.parent.id,id:Vt.parent.id+"_"+$e(),headers:[Vt]},ae(Vt)):Wt=re(s({originalId:Vt.id+"_placeholder",id:Vt.id+"_placeholder_"+$e(),placeholderOf:Vt,headers:[Vt]},ae(Vt)),te),Lt&&Lt.originalId===Wt.originalId?Lt.headers.push(Vt):Pt.push(Wt)),_t.headers.push(Vt)}),de.push(_t),je=Pt};je.length;)Rt();return de.reverse()}var _e=new Map;function et(){for(var M=arguments.length,te=new Array(M),ae=0;ae<M;ae++)te[ae]=arguments[ae];for(var de=0;de<te.length;de+=1)if(te[de]!==void 0)return te[de]}function rt(M){if(typeof M=="function")return M}function xe(M,te){var ae=[];return function de(je){je.forEach(function(be){be[te]?de(be[te]):ae.push(be)})}(M),ae}function lt(M,te){var ae=te.manualExpandedKey,de=te.expanded,je=te.expandSubRows,be=je===void 0||je,$e=[];return M.forEach(function(Rt){return function _t(Pt,qt){qt===void 0&&(qt=!0),Pt.isExpanded=Pt.original&&Pt.original[ae]||de[Pt.id],Pt.canExpand=Pt.subRows&&!!Pt.subRows.length,qt&&$e.push(Pt),Pt.subRows&&Pt.subRows.length&&Pt.isExpanded&&Pt.subRows.forEach(function(Vt){return _t(Vt,be)})}(Rt)}),$e}function he(M,te,ae){return rt(M)||te[M]||ae[M]||ae.text}function nt(M,te,ae){return M?M(te,ae):te===void 0}function Y(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var Re=null,Ke=/\[/g,Ue=/\]/g,at=function(M){return s({role:"table"},M)},It=function(M){return s({role:"rowgroup"},M)},Nt=function(M,te){var ae=te.column;return s({key:"header_"+ae.id,colSpan:ae.totalVisibleHeaderCount,role:"columnheader"},M)},Me=function(M,te){var ae=te.column;return s({key:"footer_"+ae.id,colSpan:ae.totalVisibleHeaderCount},M)},ue=function(M,te){return s({key:"headerGroup_"+te.index,role:"row"},M)},Ie=function(M,te){return s({key:"footerGroup_"+te.index},M)},Ye=function(M,te){return s({key:"row_"+te.row.id,role:"row"},M)},se=function(M,te){var ae=te.cell;return s({key:"cell_"+ae.row.id+"_"+ae.column.id,role:"cell"},M)};function k(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[at],getTableBodyProps:[It],getHeaderGroupProps:[ue],getFooterGroupProps:[Ie],getHeaderProps:[Nt],getFooterProps:[Me],getRowProps:[Ye],getCellProps:[se],useFinalInstance:[]}}c.resetHiddenColumns="resetHiddenColumns",c.toggleHideColumn="toggleHideColumn",c.setHiddenColumns="setHiddenColumns",c.toggleHideAllColumns="toggleHideAllColumns";var D=function(M){M.getToggleHiddenProps=[q],M.getToggleHideAllColumnsProps=[ne],M.stateReducers.push(Ee),M.useInstanceBeforeDimensions.push(Ne),M.headerGroupsDeps.push(function(te,ae){var de=ae.instance;return[].concat(te,[de.state.hiddenColumns])}),M.useInstance.push(ct)};D.pluginName="useColumnVisibility";var q=function(M,te){var ae=te.column;return[M,{onChange:function(de){ae.toggleHidden(!de.target.checked)},style:{cursor:"pointer"},checked:ae.isVisible,title:"Toggle Column Visible"}]},ne=function(M,te){var ae=te.instance;return[M,{onChange:function(de){ae.toggleHideAllColumns(!de.target.checked)},style:{cursor:"pointer"},checked:!ae.allColumnsHidden&&!ae.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!ae.allColumnsHidden&&ae.state.hiddenColumns.length}]};function Ee(M,te,ae,de){if(te.type===c.init)return s({hiddenColumns:[]},M);if(te.type===c.resetHiddenColumns)return s({},M,{hiddenColumns:de.initialState.hiddenColumns||[]});if(te.type===c.toggleHideColumn){var je=(te.value!==void 0?te.value:!M.hiddenColumns.includes(te.columnId))?[].concat(M.hiddenColumns,[te.columnId]):M.hiddenColumns.filter(function(be){return be!==te.columnId});return s({},M,{hiddenColumns:je})}return te.type===c.setHiddenColumns?s({},M,{hiddenColumns:N(te.value,M.hiddenColumns)}):te.type===c.toggleHideAllColumns?s({},M,{hiddenColumns:(te.value!==void 0?te.value:!M.hiddenColumns.length)?de.allColumns.map(function(be){return be.id}):[]}):void 0}function Ne(M){var te=M.headers,ae=M.state.hiddenColumns;i.useRef(!1).current;var de=0;te.forEach(function(je){return de+=function be($e,Rt){$e.isVisible=Rt&&!ae.includes($e.id);var _t=0;return $e.headers&&$e.headers.length?$e.headers.forEach(function(Pt){return _t+=be(Pt,$e.isVisible)}):_t=$e.isVisible?1:0,$e.totalVisibleHeaderCount=_t,_t}(je,!0)})}function ct(M){var te=M.columns,ae=M.flatHeaders,de=M.dispatch,je=M.allColumns,be=M.getHooks,$e=M.state.hiddenColumns,Rt=M.autoResetHiddenColumns,_t=Rt===void 0||Rt,Pt=O(M),qt=je.length===$e.length,Vt=i.useCallback(function(fn,wn){return de({type:c.toggleHideColumn,columnId:fn,value:wn})},[de]),Wt=i.useCallback(function(fn){return de({type:c.setHiddenColumns,value:fn})},[de]),Lt=i.useCallback(function(fn){return de({type:c.toggleHideAllColumns,value:fn})},[de]),Jt=C(be().getToggleHideAllColumnsProps,{instance:Pt()});ae.forEach(function(fn){fn.toggleHidden=function(wn){de({type:c.toggleHideColumn,columnId:fn.id,value:wn})},fn.getToggleHiddenProps=C(be().getToggleHiddenProps,{instance:Pt(),column:fn})});var an=O(_t);L(function(){an()&&de({type:c.resetHiddenColumns})},[de,te]),Object.assign(M,{allColumnsHidden:qt,toggleHideColumn:Vt,setHiddenColumns:Wt,toggleHideAllColumns:Lt,getToggleHideAllColumnsProps:Jt})}var Pe={},mt={},Ot=function(M,te,ae){return M},wt=function(M,te){return M.subRows||[]},Qe=function(M,te,ae){return""+(ae?[ae.id,te].join("."):te)},We=function(M){return M};function Fe(M){var te=M.initialState,ae=te===void 0?Pe:te,de=M.defaultColumn,je=de===void 0?mt:de,be=M.getSubRows,$e=be===void 0?wt:be,Rt=M.getRowId,_t=Rt===void 0?Qe:Rt,Pt=M.stateReducer,qt=Pt===void 0?Ot:Pt,Vt=M.useControlledState,Wt=Vt===void 0?We:Vt;return s({},u(M,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:ae,defaultColumn:je,getSubRows:$e,getRowId:_t,stateReducer:qt,useControlledState:Wt})}function dt(M,te){te===void 0&&(te=0);var ae=0,de=0,je=0,be=0;return M.forEach(function($e){var Rt=$e.headers;if($e.totalLeft=te,Rt&&Rt.length){var _t=dt(Rt,te),Pt=_t[0],qt=_t[1],Vt=_t[2],Wt=_t[3];$e.totalMinWidth=Pt,$e.totalWidth=qt,$e.totalMaxWidth=Vt,$e.totalFlexWidth=Wt}else $e.totalMinWidth=$e.minWidth,$e.totalWidth=Math.min(Math.max($e.minWidth,$e.width),$e.maxWidth),$e.totalMaxWidth=$e.maxWidth,$e.totalFlexWidth=$e.canResize?$e.totalWidth:0;$e.isVisible&&(te+=$e.totalWidth,ae+=$e.totalMinWidth,de+=$e.totalWidth,je+=$e.totalMaxWidth,be+=$e.totalFlexWidth)}),[ae,de,je,be]}function X(M){var te=M.data,ae=M.rows,de=M.flatRows,je=M.rowsById,be=M.column,$e=M.getRowId,Rt=M.getSubRows,_t=M.accessValueHooks,Pt=M.getInstance;te.forEach(function(qt,Vt){return function Wt(Lt,Jt,an,fn,wn){an===void 0&&(an=0);var Wn=Lt,_n=$e(Lt,Jt,fn),Xt=je[_n];if(Xt)Xt.subRows&&Xt.originalSubRows.forEach(function(pn,jn){return Wt(pn,jn,an+1,Xt)});else if((Xt={id:_n,original:Wn,index:Jt,depth:an,cells:[{}]}).cells.map=Y,Xt.cells.filter=Y,Xt.cells.forEach=Y,Xt.cells[0].getCellProps=Y,Xt.values={},wn.push(Xt),de.push(Xt),je[_n]=Xt,Xt.originalSubRows=Rt(Lt,Jt),Xt.originalSubRows){var Bn=[];Xt.originalSubRows.forEach(function(pn,jn){return Wt(pn,jn,an+1,Xt,Bn)}),Xt.subRows=Bn}be.accessor&&(Xt.values[be.id]=be.accessor(Lt,Jt,Xt,wn,te)),Xt.values[be.id]=R(_t,Xt.values[be.id],{row:Xt,column:be,instance:Pt()})}(qt,Vt,0,void 0,ae)})}c.resetExpanded="resetExpanded",c.toggleRowExpanded="toggleRowExpanded",c.toggleAllRowsExpanded="toggleAllRowsExpanded";var j=function(M){M.getToggleAllRowsExpandedProps=[G],M.getToggleRowExpandedProps=[H],M.stateReducers.push(Je),M.useInstance.push(it),M.prepareRow.push(Xe)};j.pluginName="useExpanded";var G=function(M,te){var ae=te.instance;return[M,{onClick:function(de){ae.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},H=function(M,te){var ae=te.row;return[M,{onClick:function(){ae.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function Je(M,te,ae,de){if(te.type===c.init)return s({expanded:{}},M);if(te.type===c.resetExpanded)return s({},M,{expanded:de.initialState.expanded||{}});if(te.type===c.toggleAllRowsExpanded){var je=te.value,be=de.rowsById,$e=Object.keys(be).length===Object.keys(M.expanded).length;if(je!==void 0?je:!$e){var Rt={};return Object.keys(be).forEach(function(Jt){Rt[Jt]=!0}),s({},M,{expanded:Rt})}return s({},M,{expanded:{}})}if(te.type===c.toggleRowExpanded){var _t,Pt=te.id,qt=te.value,Vt=M.expanded[Pt],Wt=qt!==void 0?qt:!Vt;if(!Vt&&Wt)return s({},M,{expanded:s({},M.expanded,(_t={},_t[Pt]=!0,_t))});if(Vt&&!Wt){var Lt=M.expanded;return Lt[Pt],s({},M,{expanded:u(Lt,[Pt].map(d))})}return M}}function it(M){var te=M.data,ae=M.rows,de=M.rowsById,je=M.manualExpandedKey,be=je===void 0?"expanded":je,$e=M.paginateExpandedRows,Rt=$e===void 0||$e,_t=M.expandSubRows,Pt=_t===void 0||_t,qt=M.autoResetExpanded,Vt=qt===void 0||qt,Wt=M.getHooks,Lt=M.plugins,Jt=M.state.expanded,an=M.dispatch;E(Lt,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var fn=O(Vt),wn=!!(Object.keys(de).length&&Object.keys(Jt).length);wn&&Object.keys(de).some(function(Qn){return!Jt[Qn]})&&(wn=!1),L(function(){fn()&&an({type:c.resetExpanded})},[an,te]);var Wn=i.useCallback(function(Qn,Mt){an({type:c.toggleRowExpanded,id:Qn,value:Mt})},[an]),_n=i.useCallback(function(Qn){return an({type:c.toggleAllRowsExpanded,value:Qn})},[an]),Xt=i.useMemo(function(){return Rt?lt(ae,{manualExpandedKey:be,expanded:Jt,expandSubRows:Pt}):ae},[Rt,ae,be,Jt,Pt]),Bn=i.useMemo(function(){return function(Qn){var Mt=0;return Object.keys(Qn).forEach(function(Pn){var _r=Pn.split(".");Mt=Math.max(Mt,_r.length)}),Mt}(Jt)},[Jt]),pn=O(M),jn=C(Wt().getToggleAllRowsExpandedProps,{instance:pn()});Object.assign(M,{preExpandedRows:ae,expandedRows:Xt,rows:Xt,expandedDepth:Bn,isAllRowsExpanded:wn,toggleRowExpanded:Wn,toggleAllRowsExpanded:_n,getToggleAllRowsExpandedProps:jn})}function Xe(M,te){var ae=te.instance.getHooks,de=te.instance;M.toggleRowExpanded=function(je){return de.toggleRowExpanded(M.id,je)},M.getToggleRowExpandedProps=C(ae().getToggleRowExpandedProps,{instance:de,row:M})}var Yt=function(M,te,ae){return M=M.filter(function(de){return te.some(function(je){var be=de.values[je];return String(be).toLowerCase().includes(String(ae).toLowerCase())})})};Yt.autoRemove=function(M){return!M};var Vn=function(M,te,ae){return M.filter(function(de){return te.some(function(je){var be=de.values[je];return be===void 0||String(be).toLowerCase()===String(ae).toLowerCase()})})};Vn.autoRemove=function(M){return!M};var Gn=function(M,te,ae){return M.filter(function(de){return te.some(function(je){var be=de.values[je];return be===void 0||String(be)===String(ae)})})};Gn.autoRemove=function(M){return!M};var sn=function(M,te,ae){return M.filter(function(de){return te.some(function(je){return de.values[je].includes(ae)})})};sn.autoRemove=function(M){return!M||!M.length};var qe=function(M,te,ae){return M.filter(function(de){return te.some(function(je){var be=de.values[je];return be&&be.length&&ae.every(function($e){return be.includes($e)})})})};qe.autoRemove=function(M){return!M||!M.length};var bt=function(M,te,ae){return M.filter(function(de){return te.some(function(je){var be=de.values[je];return be&&be.length&&ae.some(function($e){return be.includes($e)})})})};bt.autoRemove=function(M){return!M||!M.length};var ft=function(M,te,ae){return M.filter(function(de){return te.some(function(je){var be=de.values[je];return ae.includes(be)})})};ft.autoRemove=function(M){return!M||!M.length};var Be=function(M,te,ae){return M.filter(function(de){return te.some(function(je){return de.values[je]===ae})})};Be.autoRemove=function(M){return M===void 0};var pt=function(M,te,ae){return M.filter(function(de){return te.some(function(je){return de.values[je]==ae})})};pt.autoRemove=function(M){return M==null};var Qt=function(M,te,ae){var de=ae||[],je=de[0],be=de[1];if((je=typeof je=="number"?je:-1/0)>(be=typeof be=="number"?be:1/0)){var $e=je;je=be,be=$e}return M.filter(function(Rt){return te.some(function(_t){var Pt=Rt.values[_t];return Pt>=je&&Pt<=be})})};Qt.autoRemove=function(M){return!M||typeof M[0]!="number"&&typeof M[1]!="number"};var zt=Object.freeze({__proto__:null,text:Yt,exactText:Vn,exactTextCase:Gn,includes:sn,includesAll:qe,includesSome:bt,includesValue:ft,exact:Be,equals:pt,between:Qt});c.resetFilters="resetFilters",c.setFilter="setFilter",c.setAllFilters="setAllFilters";var tn=function(M){M.stateReducers.push(Ht),M.useInstance.push(ce)};function Ht(M,te,ae,de){if(te.type===c.init)return s({filters:[]},M);if(te.type===c.resetFilters)return s({},M,{filters:de.initialState.filters||[]});if(te.type===c.setFilter){var je=te.columnId,be=te.filterValue,$e=de.allColumns,Rt=de.filterTypes,_t=$e.find(function(an){return an.id===je});if(!_t)throw new Error("React-Table: Could not find a column with id: "+je);var Pt=he(_t.filter,Rt||{},zt),qt=M.filters.find(function(an){return an.id===je}),Vt=N(be,qt&&qt.value);return nt(Pt.autoRemove,Vt,_t)?s({},M,{filters:M.filters.filter(function(an){return an.id!==je})}):s({},M,qt?{filters:M.filters.map(function(an){return an.id===je?{id:je,value:Vt}:an})}:{filters:[].concat(M.filters,[{id:je,value:Vt}])})}if(te.type===c.setAllFilters){var Wt=te.filters,Lt=de.allColumns,Jt=de.filterTypes;return s({},M,{filters:N(Wt,M.filters).filter(function(an){var fn=Lt.find(function(wn){return wn.id===an.id});return!nt(he(fn.filter,Jt||{},zt).autoRemove,an.value,fn)})})}}function ce(M){var te=M.data,ae=M.rows,de=M.flatRows,je=M.rowsById,be=M.allColumns,$e=M.filterTypes,Rt=M.manualFilters,_t=M.defaultCanFilter,Pt=_t!==void 0&&_t,qt=M.disableFilters,Vt=M.state.filters,Wt=M.dispatch,Lt=M.autoResetFilters,Jt=Lt===void 0||Lt,an=i.useCallback(function(pn,jn){Wt({type:c.setFilter,columnId:pn,filterValue:jn})},[Wt]),fn=i.useCallback(function(pn){Wt({type:c.setAllFilters,filters:pn})},[Wt]);be.forEach(function(pn){var jn=pn.id,Qn=pn.accessor,Mt=pn.defaultCanFilter,Pn=pn.disableFilters;pn.canFilter=Qn?et(Pn!==!0&&void 0,qt!==!0&&void 0,!0):et(Mt,Pt,!1),pn.setFilter=function(kn){return an(pn.id,kn)};var _r=Vt.find(function(kn){return kn.id===jn});pn.filterValue=_r&&_r.value});var wn=i.useMemo(function(){if(Rt||!Vt.length)return[ae,de,je];var pn=[],jn={};return[function Qn(Mt,Pn){Pn===void 0&&(Pn=0);var _r=Mt;return(_r=Vt.reduce(function(kn,yr){var fr=yr.id,Lr=yr.value,Sn=be.find(function(ni){return ni.id===fr});if(!Sn)return kn;Pn===0&&(Sn.preFilteredRows=kn);var qn=he(Sn.filter,$e||{},zt);return qn?(Sn.filteredRows=qn(kn,[fr],Lr),Sn.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+Sn.id+"."),kn)},Mt)).forEach(function(kn){pn.push(kn),jn[kn.id]=kn,kn.subRows&&(kn.subRows=kn.subRows&&kn.subRows.length>0?Qn(kn.subRows,Pn+1):kn.subRows)}),_r}(ae),pn,jn]},[Rt,Vt,ae,de,je,be,$e]),Wn=wn[0],_n=wn[1],Xt=wn[2];i.useMemo(function(){be.filter(function(pn){return!Vt.find(function(jn){return jn.id===pn.id})}).forEach(function(pn){pn.preFilteredRows=Wn,pn.filteredRows=Wn})},[Wn,Vt,be]);var Bn=O(Jt);L(function(){Bn()&&Wt({type:c.resetFilters})},[Wt,Rt?null:te]),Object.assign(M,{preFilteredRows:ae,preFilteredFlatRows:de,preFilteredRowsById:je,filteredRows:Wn,filteredFlatRows:_n,filteredRowsById:Xt,rows:Wn,flatRows:_n,rowsById:Xt,setFilter:an,setAllFilters:fn})}tn.pluginName="useFilters",c.resetGlobalFilter="resetGlobalFilter",c.setGlobalFilter="setGlobalFilter";var ve=function(M){M.stateReducers.push(Tt),M.useInstance.push(Ct)};function Tt(M,te,ae,de){if(te.type===c.resetGlobalFilter)return s({},M,{globalFilter:de.initialState.globalFilter||void 0});if(te.type===c.setGlobalFilter){var je=te.filterValue,be=de.userFilterTypes,$e=he(de.globalFilter,be||{},zt),Rt=N(je,M.globalFilter);return nt($e.autoRemove,Rt)?(M.globalFilter,u(M,["globalFilter"])):s({},M,{globalFilter:Rt})}}function Ct(M){var te=M.data,ae=M.rows,de=M.flatRows,je=M.rowsById,be=M.allColumns,$e=M.filterTypes,Rt=M.globalFilter,_t=M.manualGlobalFilter,Pt=M.state.globalFilter,qt=M.dispatch,Vt=M.autoResetGlobalFilter,Wt=Vt===void 0||Vt,Lt=M.disableGlobalFilter,Jt=i.useCallback(function(Xt){qt({type:c.setGlobalFilter,filterValue:Xt})},[qt]),an=i.useMemo(function(){if(_t||Pt===void 0)return[ae,de,je];var Xt=[],Bn={},pn=he(Rt,$e||{},zt);if(!pn)return console.warn("Could not find a valid 'globalFilter' option."),ae;be.forEach(function(Qn){var Mt=Qn.disableGlobalFilter;Qn.canFilter=et(Mt!==!0&&void 0,Lt!==!0&&void 0,!0)});var jn=be.filter(function(Qn){return Qn.canFilter===!0});return[function Qn(Mt){return(Mt=pn(Mt,jn.map(function(Pn){return Pn.id}),Pt)).forEach(function(Pn){Xt.push(Pn),Bn[Pn.id]=Pn,Pn.subRows=Pn.subRows&&Pn.subRows.length?Qn(Pn.subRows):Pn.subRows}),Mt}(ae),Xt,Bn]},[_t,Pt,Rt,$e,be,ae,de,je,Lt]),fn=an[0],wn=an[1],Wn=an[2],_n=O(Wt);L(function(){_n()&&qt({type:c.resetGlobalFilter})},[qt,_t?null:te]),Object.assign(M,{preGlobalFilteredRows:ae,preGlobalFilteredFlatRows:de,preGlobalFilteredRowsById:je,globalFilteredRows:fn,globalFilteredFlatRows:wn,globalFilteredRowsById:Wn,rows:fn,flatRows:wn,rowsById:Wn,setGlobalFilter:Jt,disableGlobalFilter:Lt})}function Ft(M,te){return te.reduce(function(ae,de){return ae+(typeof de=="number"?de:0)},0)}ve.pluginName="useGlobalFilter";var Zt=Object.freeze({__proto__:null,sum:Ft,min:function(M){var te=M[0]||0;return M.forEach(function(ae){typeof ae=="number"&&(te=Math.min(te,ae))}),te},max:function(M){var te=M[0]||0;return M.forEach(function(ae){typeof ae=="number"&&(te=Math.max(te,ae))}),te},minMax:function(M){var te=M[0]||0,ae=M[0]||0;return M.forEach(function(de){typeof de=="number"&&(te=Math.min(te,de),ae=Math.max(ae,de))}),te+".."+ae},average:function(M){return Ft(0,M)/M.length},median:function(M){if(!M.length)return null;var te=Math.floor(M.length/2),ae=[].concat(M).sort(function(de,je){return de-je});return M.length%2!=0?ae[te]:(ae[te-1]+ae[te])/2},unique:function(M){return Array.from(new Set(M).values())},uniqueCount:function(M){return new Set(M).size},count:function(M){return M.length}}),nn=[],Mn={};c.resetGroupBy="resetGroupBy",c.setGroupBy="setGroupBy",c.toggleGroupBy="toggleGroupBy";var $t=function(M){M.getGroupByToggleProps=[en],M.stateReducers.push(vn),M.visibleColumnsDeps.push(function(te,ae){var de=ae.instance;return[].concat(te,[de.state.groupBy])}),M.visibleColumns.push(on),M.useInstance.push(xn),M.prepareRow.push(Jn)};$t.pluginName="useGroupBy";var en=function(M,te){var ae=te.header;return[M,{onClick:ae.canGroupBy?function(de){de.persist(),ae.toggleGroupBy()}:void 0,style:{cursor:ae.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function vn(M,te,ae,de){if(te.type===c.init)return s({groupBy:[]},M);if(te.type===c.resetGroupBy)return s({},M,{groupBy:de.initialState.groupBy||[]});if(te.type===c.setGroupBy)return s({},M,{groupBy:te.value});if(te.type===c.toggleGroupBy){var je=te.columnId,be=te.value,$e=be!==void 0?be:!M.groupBy.includes(je);return s({},M,$e?{groupBy:[].concat(M.groupBy,[je])}:{groupBy:M.groupBy.filter(function(Rt){return Rt!==je})})}}function on(M,te){var ae=te.instance.state.groupBy,de=ae.map(function(be){return M.find(function($e){return $e.id===be})}).filter(Boolean),je=M.filter(function(be){return!ae.includes(be.id)});return(M=[].concat(de,je)).forEach(function(be){be.isGrouped=ae.includes(be.id),be.groupedIndex=ae.indexOf(be.id)}),M}var Ln={};function xn(M){var te=M.data,ae=M.rows,de=M.flatRows,je=M.rowsById,be=M.allColumns,$e=M.flatHeaders,Rt=M.groupByFn,_t=Rt===void 0?mn:Rt,Pt=M.manualGroupBy,qt=M.aggregations,Vt=qt===void 0?Ln:qt,Wt=M.plugins,Lt=M.state.groupBy,Jt=M.dispatch,an=M.autoResetGroupBy,fn=an===void 0||an,wn=M.disableGroupBy,Wn=M.defaultCanGroupBy,_n=M.getHooks;E(Wt,["useColumnOrder","useFilters"],"useGroupBy");var Xt=O(M);be.forEach(function(Sn){var qn=Sn.accessor,ni=Sn.defaultGroupBy,Ei=Sn.disableGroupBy;Sn.canGroupBy=qn?et(Sn.canGroupBy,Ei!==!0&&void 0,wn!==!0&&void 0,!0):et(Sn.canGroupBy,ni,Wn,!1),Sn.canGroupBy&&(Sn.toggleGroupBy=function(){return M.toggleGroupBy(Sn.id)}),Sn.Aggregated=Sn.Aggregated||Sn.Cell});var Bn=i.useCallback(function(Sn,qn){Jt({type:c.toggleGroupBy,columnId:Sn,value:qn})},[Jt]),pn=i.useCallback(function(Sn){Jt({type:c.setGroupBy,value:Sn})},[Jt]);$e.forEach(function(Sn){Sn.getGroupByToggleProps=C(_n().getGroupByToggleProps,{instance:Xt(),header:Sn})});var jn=i.useMemo(function(){if(Pt||!Lt.length)return[ae,de,je,nn,Mn,de,je];var Sn=Lt.filter(function(Xr){return be.find(function(sr){return sr.id===Xr})}),qn=[],ni={},Ei=[],Tn={},Gr=[],Vr={},nr=function Xr(sr,$a,vc){if($a===void 0&&($a=0),$a===Sn.length)return sr.map(function(uo){return s({},uo,{depth:$a})});var el=Sn[$a],bc=_t(sr,el);return Object.entries(bc).map(function(uo,ys){var Yf=uo[0],Ra=uo[1],Jo=el+":"+Yf,cu=Xr(Ra,$a+1,Jo=vc?vc+">"+Jo:Jo),tl=$a?xe(Ra,"leafRows"):Ra,co=function(vr,nl,Xf){var rl={};return be.forEach(function(di){if(Sn.includes(di.id))rl[di.id]=nl[0]?nl[0].values[di.id]:null;else{var wc=typeof di.aggregate=="function"?di.aggregate:Vt[di.aggregate]||Zt[di.aggregate];if(wc){var Qf=nl.map(function(fo){return fo.values[di.id]}),Hi=vr.map(function(fo){var il=fo.values[di.id];if(!Xf&&di.aggregateValue){var fu=typeof di.aggregateValue=="function"?di.aggregateValue:Vt[di.aggregateValue]||Zt[di.aggregateValue];if(!fu)throw console.info({column:di}),new Error("React Table: Invalid column.aggregateValue option for column listed above");il=fu(il,fo,di)}return il});rl[di.id]=wc(Hi,Qf)}else{if(di.aggregate)throw console.info({column:di}),new Error("React Table: Invalid column.aggregate option for column listed above");rl[di.id]=null}}}),rl}(tl,Ra,$a),Ka={id:Jo,isGrouped:!0,groupByID:el,groupByVal:Yf,values:co,subRows:cu,leafRows:tl,depth:$a,index:ys};return cu.forEach(function(vr){qn.push(vr),ni[vr.id]=vr,vr.isGrouped?(Ei.push(vr),Tn[vr.id]=vr):(Gr.push(vr),Vr[vr.id]=vr)}),Ka})}(ae);return nr.forEach(function(Xr){qn.push(Xr),ni[Xr.id]=Xr,Xr.isGrouped?(Ei.push(Xr),Tn[Xr.id]=Xr):(Gr.push(Xr),Vr[Xr.id]=Xr)}),[nr,qn,ni,Ei,Tn,Gr,Vr]},[Pt,Lt,ae,de,je,be,Vt,_t]),Qn=jn[0],Mt=jn[1],Pn=jn[2],_r=jn[3],kn=jn[4],yr=jn[5],fr=jn[6],Lr=O(fn);L(function(){Lr()&&Jt({type:c.resetGroupBy})},[Jt,Pt?null:te]),Object.assign(M,{preGroupedRows:ae,preGroupedFlatRow:de,preGroupedRowsById:je,groupedRows:Qn,groupedFlatRows:Mt,groupedRowsById:Pn,onlyGroupedFlatRows:_r,onlyGroupedRowsById:kn,nonGroupedFlatRows:yr,nonGroupedRowsById:fr,rows:Qn,flatRows:Mt,rowsById:Pn,toggleGroupBy:Bn,setGroupBy:pn})}function Jn(M){M.allCells.forEach(function(te){var ae;te.isGrouped=te.column.isGrouped&&te.column.id===M.groupByID,te.isPlaceholder=!te.isGrouped&&te.column.isGrouped,te.isAggregated=!te.isGrouped&&!te.isPlaceholder&&((ae=M.subRows)==null?void 0:ae.length)})}function mn(M,te){return M.reduce(function(ae,de,je){var be=""+de.values[te];return ae[be]=Array.isArray(ae[be])?ae[be]:[],ae[be].push(de),ae},{})}var ln=/([0-9]+)/gm;function Gt(M,te){return M===te?0:M>te?1:-1}function er(M,te,ae){return[M.values[ae],te.values[ae]]}function Fr(M){return typeof M=="number"?isNaN(M)||M===1/0||M===-1/0?"":String(M):typeof M=="string"?M:""}var pr=Object.freeze({__proto__:null,alphanumeric:function(M,te,ae){var de=er(M,te,ae),je=de[0],be=de[1];for(je=Fr(je),be=Fr(be),je=je.split(ln).filter(Boolean),be=be.split(ln).filter(Boolean);je.length&&be.length;){var $e=je.shift(),Rt=be.shift(),_t=parseInt($e,10),Pt=parseInt(Rt,10),qt=[_t,Pt].sort();if(isNaN(qt[0])){if($e>Rt)return 1;if(Rt>$e)return-1}else{if(isNaN(qt[1]))return isNaN(_t)?-1:1;if(_t>Pt)return 1;if(Pt>_t)return-1}}return je.length-be.length},datetime:function(M,te,ae){var de=er(M,te,ae),je=de[0],be=de[1];return Gt(je=je.getTime(),be=be.getTime())},basic:function(M,te,ae){var de=er(M,te,ae);return Gt(de[0],de[1])},string:function(M,te,ae){var de=er(M,te,ae),je=de[0],be=de[1];for(je=je.split("").filter(Boolean),be=be.split("").filter(Boolean);je.length&&be.length;){var $e=je.shift(),Rt=be.shift(),_t=$e.toLowerCase(),Pt=Rt.toLowerCase();if(_t>Pt)return 1;if(Pt>_t)return-1;if($e>Rt)return 1;if(Rt>$e)return-1}return je.length-be.length},number:function(M,te,ae){var de=er(M,te,ae),je=de[0],be=de[1],$e=/[^0-9.]/gi;return Gt(je=Number(String(je).replace($e,"")),be=Number(String(be).replace($e,"")))}});c.resetSortBy="resetSortBy",c.setSortBy="setSortBy",c.toggleSortBy="toggleSortBy",c.clearSortBy="clearSortBy",w.sortType="alphanumeric",w.sortDescFirst=!1;var Un=function(M){M.getSortByToggleProps=[Cr],M.stateReducers.push(Hr),M.useInstance.push(cn)};Un.pluginName="useSortBy";var Cr=function(M,te){var ae=te.instance,de=te.column,je=ae.isMultiSortEvent,be=je===void 0?function($e){return $e.shiftKey}:je;return[M,{onClick:de.canSort?function($e){$e.persist(),de.toggleSortBy(void 0,!ae.disableMultiSort&&be($e))}:void 0,style:{cursor:de.canSort?"pointer":void 0},title:de.canSort?"Toggle SortBy":void 0}]};function Hr(M,te,ae,de){if(te.type===c.init)return s({sortBy:[]},M);if(te.type===c.resetSortBy)return s({},M,{sortBy:de.initialState.sortBy||[]});if(te.type===c.clearSortBy)return s({},M,{sortBy:M.sortBy.filter(function(Xt){return Xt.id!==te.columnId})});if(te.type===c.setSortBy)return s({},M,{sortBy:te.sortBy});if(te.type===c.toggleSortBy){var je,be=te.columnId,$e=te.desc,Rt=te.multi,_t=de.allColumns,Pt=de.disableMultiSort,qt=de.disableSortRemove,Vt=de.disableMultiRemove,Wt=de.maxMultiSortColCount,Lt=Wt===void 0?Number.MAX_SAFE_INTEGER:Wt,Jt=M.sortBy,an=_t.find(function(Xt){return Xt.id===be}).sortDescFirst,fn=Jt.find(function(Xt){return Xt.id===be}),wn=Jt.findIndex(function(Xt){return Xt.id===be}),Wn=$e!=null,_n=[];return(je=!Pt&&Rt?fn?"toggle":"add":wn!==Jt.length-1||Jt.length!==1?"replace":fn?"toggle":"replace")!="toggle"||qt||Wn||Rt&&Vt||!(fn&&fn.desc&&!an||!fn.desc&&an)||(je="remove"),je==="replace"?_n=[{id:be,desc:Wn?$e:an}]:je==="add"?(_n=[].concat(Jt,[{id:be,desc:Wn?$e:an}])).splice(0,_n.length-Lt):je==="toggle"?_n=Jt.map(function(Xt){return Xt.id===be?s({},Xt,{desc:Wn?$e:!fn.desc}):Xt}):je==="remove"&&(_n=Jt.filter(function(Xt){return Xt.id!==be})),s({},M,{sortBy:_n})}}function cn(M){var te=M.data,ae=M.rows,de=M.flatRows,je=M.allColumns,be=M.orderByFn,$e=be===void 0?bi:be,Rt=M.sortTypes,_t=M.manualSortBy,Pt=M.defaultCanSort,qt=M.disableSortBy,Vt=M.flatHeaders,Wt=M.state.sortBy,Lt=M.dispatch,Jt=M.plugins,an=M.getHooks,fn=M.autoResetSortBy,wn=fn===void 0||fn;E(Jt,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var Wn=i.useCallback(function(Mt){Lt({type:c.setSortBy,sortBy:Mt})},[Lt]),_n=i.useCallback(function(Mt,Pn,_r){Lt({type:c.toggleSortBy,columnId:Mt,desc:Pn,multi:_r})},[Lt]),Xt=O(M);Vt.forEach(function(Mt){var Pn=Mt.accessor,_r=Mt.canSort,kn=Mt.disableSortBy,yr=Mt.id,fr=Pn?et(kn!==!0&&void 0,qt!==!0&&void 0,!0):et(Pt,_r,!1);Mt.canSort=fr,Mt.canSort&&(Mt.toggleSortBy=function(Sn,qn){return _n(Mt.id,Sn,qn)},Mt.clearSortBy=function(){Lt({type:c.clearSortBy,columnId:Mt.id})}),Mt.getSortByToggleProps=C(an().getSortByToggleProps,{instance:Xt(),column:Mt});var Lr=Wt.find(function(Sn){return Sn.id===yr});Mt.isSorted=!!Lr,Mt.sortedIndex=Wt.findIndex(function(Sn){return Sn.id===yr}),Mt.isSortedDesc=Mt.isSorted?Lr.desc:void 0});var Bn=i.useMemo(function(){if(_t||!Wt.length)return[ae,de];var Mt=[],Pn=Wt.filter(function(_r){return je.find(function(kn){return kn.id===_r.id})});return[function _r(kn){var yr=$e(kn,Pn.map(function(fr){var Lr=je.find(function(ni){return ni.id===fr.id});if(!Lr)throw new Error("React-Table: Could not find a column with id: "+fr.id+" while sorting");var Sn=Lr.sortType,qn=rt(Sn)||(Rt||{})[Sn]||pr[Sn];if(!qn)throw new Error("React-Table: Could not find a valid sortType of '"+Sn+"' for column '"+fr.id+"'.");return function(ni,Ei){return qn(ni,Ei,fr.id,fr.desc)}}),Pn.map(function(fr){var Lr=je.find(function(Sn){return Sn.id===fr.id});return Lr&&Lr.sortInverted?fr.desc:!fr.desc}));return yr.forEach(function(fr){Mt.push(fr),fr.subRows&&fr.subRows.length!==0&&(fr.subRows=_r(fr.subRows))}),yr}(ae),Mt]},[_t,Wt,ae,de,je,$e,Rt]),pn=Bn[0],jn=Bn[1],Qn=O(wn);L(function(){Qn()&&Lt({type:c.resetSortBy})},[_t?null:te]),Object.assign(M,{preSortedRows:ae,preSortedFlatRows:de,sortedRows:pn,sortedFlatRows:jn,rows:pn,flatRows:jn,setSortBy:Wn,toggleSortBy:_n})}function bi(M,te,ae){return[].concat(M).sort(function(de,je){for(var be=0;be<te.length;be+=1){var $e=te[be],Rt=ae[be]===!1||ae[be]==="desc",_t=$e(de,je);if(_t!==0)return Rt?-_t:_t}return ae[0]?de.index-je.index:je.index-de.index})}c.resetPage="resetPage",c.gotoPage="gotoPage",c.setPageSize="setPageSize";var Pr=function(M){M.stateReducers.push(ta),M.useInstance.push(wi)};function ta(M,te,ae,de){if(te.type===c.init)return s({pageSize:10,pageIndex:0},M);if(te.type===c.resetPage)return s({},M,{pageIndex:de.initialState.pageIndex||0});if(te.type===c.gotoPage){var je=de.pageCount,be=de.page,$e=N(te.pageIndex,M.pageIndex),Rt=!1;return $e>M.pageIndex?Rt=je===-1?be.length>=M.pageSize:$e<je:$e<M.pageIndex&&(Rt=$e>-1),Rt?s({},M,{pageIndex:$e}):M}if(te.type===c.setPageSize){var _t=te.pageSize,Pt=M.pageSize*M.pageIndex;return s({},M,{pageIndex:Math.floor(Pt/_t),pageSize:_t})}}function wi(M){var te=M.rows,ae=M.autoResetPage,de=ae===void 0||ae,je=M.manualExpandedKey,be=je===void 0?"expanded":je,$e=M.plugins,Rt=M.pageCount,_t=M.paginateExpandedRows,Pt=_t===void 0||_t,qt=M.expandSubRows,Vt=qt===void 0||qt,Wt=M.state,Lt=Wt.pageSize,Jt=Wt.pageIndex,an=Wt.expanded,fn=Wt.globalFilter,wn=Wt.filters,Wn=Wt.groupBy,_n=Wt.sortBy,Xt=M.dispatch,Bn=M.data,pn=M.manualPagination;E($e,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var jn=O(de);L(function(){jn()&&Xt({type:c.resetPage})},[Xt,pn?null:Bn,fn,wn,Wn,_n]);var Qn=pn?Rt:Math.ceil(te.length/Lt),Mt=i.useMemo(function(){return Qn>0?[].concat(new Array(Qn)).fill(null).map(function(qn,ni){return ni}):[]},[Qn]),Pn=i.useMemo(function(){var qn;if(pn)qn=te;else{var ni=Lt*Jt,Ei=ni+Lt;qn=te.slice(ni,Ei)}return Pt?qn:lt(qn,{manualExpandedKey:be,expanded:an,expandSubRows:Vt})},[Vt,an,be,pn,Jt,Lt,Pt,te]),_r=Jt>0,kn=Qn===-1?Pn.length>=Lt:Jt<Qn-1,yr=i.useCallback(function(qn){Xt({type:c.gotoPage,pageIndex:qn})},[Xt]),fr=i.useCallback(function(){return yr(function(qn){return qn-1})},[yr]),Lr=i.useCallback(function(){return yr(function(qn){return qn+1})},[yr]),Sn=i.useCallback(function(qn){Xt({type:c.setPageSize,pageSize:qn})},[Xt]);Object.assign(M,{pageOptions:Mt,pageCount:Qn,page:Pn,canPreviousPage:_r,canNextPage:kn,gotoPage:yr,previousPage:fr,nextPage:Lr,setPageSize:Sn})}Pr.pluginName="usePagination",c.resetPivot="resetPivot",c.togglePivot="togglePivot";var Ha=function(M){M.getPivotToggleProps=[_i],M.stateReducers.push(b),M.useInstanceAfterData.push(v),M.allColumns.push(A),M.accessValue.push(I),M.materializedColumns.push(B),M.materializedColumnsDeps.push(Q),M.visibleColumns.push(le),M.visibleColumnsDeps.push(Se),M.useInstance.push(ye),M.prepareRow.push(we)};Ha.pluginName="usePivotColumns";var da=[],_i=function(M,te){var ae=te.header;return[M,{onClick:ae.canPivot?function(de){de.persist(),ae.togglePivot()}:void 0,style:{cursor:ae.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function b(M,te,ae,de){if(te.type===c.init)return s({pivotColumns:da},M);if(te.type===c.resetPivot)return s({},M,{pivotColumns:de.initialState.pivotColumns||da});if(te.type===c.togglePivot){var je=te.columnId,be=te.value,$e=be!==void 0?be:!M.pivotColumns.includes(je);return s({},M,$e?{pivotColumns:[].concat(M.pivotColumns,[je])}:{pivotColumns:M.pivotColumns.filter(function(Rt){return Rt!==je})})}}function v(M){M.allColumns.forEach(function(te){te.isPivotSource=M.state.pivotColumns.includes(te.id)})}function A(M,te){var ae=te.instance;return M.forEach(function(de){de.isPivotSource=ae.state.pivotColumns.includes(de.id),de.uniqueValues=new Set}),M}function I(M,te){var ae=te.column;return ae.uniqueValues&&M!==void 0&&ae.uniqueValues.add(M),M}function B(M,te){var ae=te.instance,de=ae.allColumns,je=ae.state;if(!je.pivotColumns.length||!je.groupBy||!je.groupBy.length)return M;var be=je.pivotColumns.map(function(_t){return de.find(function(Pt){return Pt.id===_t})}).filter(Boolean),$e=de.filter(function(_t){return!_t.isPivotSource&&!je.groupBy.includes(_t.id)&&!je.pivotColumns.includes(_t.id)}),Rt=Ce(function _t(Pt,qt,Vt){Pt===void 0&&(Pt=0),Vt===void 0&&(Vt=[]);var Wt=be[Pt];return Wt?Array.from(Wt.uniqueValues).sort().map(function(Lt){var Jt=s({},Wt,{Header:Wt.PivotHeader||typeof Wt.header=="string"?Wt.Header+": "+Lt:Lt,isPivotGroup:!0,parent:qt,depth:Pt,id:qt?qt.id+"."+Wt.id+"."+Lt:Wt.id+"."+Lt,pivotValue:Lt});return Jt.columns=_t(Pt+1,Jt,[].concat(Vt,[function(an){return an.values[Wt.id]===Lt}])),Jt}):$e.map(function(Lt){return s({},Lt,{canPivot:!1,isPivoted:!0,parent:qt,depth:Pt,id:""+(qt?qt.id+"."+Lt.id:Lt.id),accessor:function(Jt,an,fn){if(Vt.every(function(wn){return wn(fn)}))return fn.values[Lt.id]}})})}());return[].concat(M,Rt)}function Q(M,te){var ae=te.instance.state,de=ae.pivotColumns,je=ae.groupBy;return[].concat(M,[de,je])}function le(M,te){var ae=te.instance.state;return M=M.filter(function(de){return!de.isPivotSource}),ae.pivotColumns.length&&ae.groupBy&&ae.groupBy.length&&(M=M.filter(function(de){return de.isGrouped||de.isPivoted})),M}function Se(M,te){var ae=te.instance;return[].concat(M,[ae.state.pivotColumns,ae.state.groupBy])}function ye(M){var te=M.columns,ae=M.allColumns,de=M.flatHeaders,je=M.getHooks,be=M.plugins,$e=M.dispatch,Rt=M.autoResetPivot,_t=Rt===void 0||Rt,Pt=M.manaulPivot,qt=M.disablePivot,Vt=M.defaultCanPivot;E(be,["useGroupBy"],"usePivotColumns");var Wt=O(M);ae.forEach(function(Jt){var an=Jt.accessor,fn=Jt.defaultPivot,wn=Jt.disablePivot;Jt.canPivot=an?et(Jt.canPivot,wn!==!0&&void 0,qt!==!0&&void 0,!0):et(Jt.canPivot,fn,Vt,!1),Jt.canPivot&&(Jt.togglePivot=function(){return M.togglePivot(Jt.id)}),Jt.Aggregated=Jt.Aggregated||Jt.Cell}),de.forEach(function(Jt){Jt.getPivotToggleProps=C(je().getPivotToggleProps,{instance:Wt(),header:Jt})});var Lt=O(_t);L(function(){Lt()&&$e({type:c.resetPivot})},[$e,Pt?null:te]),Object.assign(M,{togglePivot:function(Jt,an){$e({type:c.togglePivot,columnId:Jt,value:an})}})}function we(M){M.allCells.forEach(function(te){te.isPivoted=te.column.isPivoted})}c.resetSelectedRows="resetSelectedRows",c.toggleAllRowsSelected="toggleAllRowsSelected",c.toggleRowSelected="toggleRowSelected",c.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var Te=function(M){M.getToggleRowSelectedProps=[Oe],M.getToggleAllRowsSelectedProps=[ke],M.getToggleAllPageRowsSelectedProps=[ze],M.stateReducers.push(st),M.useInstance.push(yt),M.prepareRow.push(Et)};Te.pluginName="useRowSelect";var Oe=function(M,te){var ae=te.instance,de=te.row,je=ae.manualRowSelectedKey,be=je===void 0?"isSelected":je;return[M,{onChange:function($e){de.toggleRowSelected($e.target.checked)},style:{cursor:"pointer"},checked:!(!de.original||!de.original[be])||de.isSelected,title:"Toggle Row Selected",indeterminate:de.isSomeSelected}]},ke=function(M,te){var ae=te.instance;return[M,{onChange:function(de){ae.toggleAllRowsSelected(de.target.checked)},style:{cursor:"pointer"},checked:ae.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:!!(!ae.isAllRowsSelected&&Object.keys(ae.state.selectedRowIds).length)}]},ze=function(M,te){var ae=te.instance;return[M,{onChange:function(de){ae.toggleAllPageRowsSelected(de.target.checked)},style:{cursor:"pointer"},checked:ae.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:!!(!ae.isAllPageRowsSelected&&ae.page.some(function(de){var je=de.id;return ae.state.selectedRowIds[je]}))}]};function st(M,te,ae,de){if(te.type===c.init)return s({selectedRowIds:{}},M);if(te.type===c.resetSelectedRows)return s({},M,{selectedRowIds:de.initialState.selectedRowIds||{}});if(te.type===c.toggleAllRowsSelected){var je=te.value,be=de.isAllRowsSelected,$e=de.rowsById,Rt=de.nonGroupedRowsById,_t=Rt===void 0?$e:Rt,Pt=je!==void 0?je:!be,qt=Object.assign({},M.selectedRowIds);return Pt?Object.keys(_t).forEach(function(yr){qt[yr]=!0}):Object.keys(_t).forEach(function(yr){delete qt[yr]}),s({},M,{selectedRowIds:qt})}if(te.type===c.toggleRowSelected){var Vt=te.id,Wt=te.value,Lt=de.rowsById,Jt=de.selectSubRows,an=Jt===void 0||Jt,fn=de.getSubRows,wn=M.selectedRowIds[Vt],Wn=Wt!==void 0?Wt:!wn;if(wn===Wn)return M;var _n=s({},M.selectedRowIds);return function yr(fr){var Lr=Lt[fr];if(Lr&&(Lr.isGrouped||(Wn?_n[fr]=!0:delete _n[fr]),an&&fn(Lr)))return fn(Lr).forEach(function(Sn){return yr(Sn.id)})}(Vt),s({},M,{selectedRowIds:_n})}if(te.type===c.toggleAllPageRowsSelected){var Xt=te.value,Bn=de.page,pn=de.rowsById,jn=de.selectSubRows,Qn=jn===void 0||jn,Mt=de.isAllPageRowsSelected,Pn=de.getSubRows,_r=Xt!==void 0?Xt:!Mt,kn=s({},M.selectedRowIds);return Bn.forEach(function(yr){return function fr(Lr){var Sn=pn[Lr];if(Sn.isGrouped||(_r?kn[Lr]=!0:delete kn[Lr]),Qn&&Pn(Sn))return Pn(Sn).forEach(function(qn){return fr(qn.id)})}(yr.id)}),s({},M,{selectedRowIds:kn})}return M}function yt(M){var te=M.data,ae=M.rows,de=M.getHooks,je=M.plugins,be=M.rowsById,$e=M.nonGroupedRowsById,Rt=$e===void 0?be:$e,_t=M.autoResetSelectedRows,Pt=_t===void 0||_t,qt=M.state.selectedRowIds,Vt=M.selectSubRows,Wt=Vt===void 0||Vt,Lt=M.dispatch,Jt=M.page,an=M.getSubRows;E(je,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var fn=i.useMemo(function(){var Pn=[];return ae.forEach(function(_r){var kn=Wt?function yr(fr,Lr,Sn){if(Lr[fr.id])return!0;var qn=Sn(fr);if(qn&&qn.length){var ni=!0,Ei=!1;return qn.forEach(function(Tn){Ei&&!ni||(yr(Tn,Lr,Sn)?Ei=!0:ni=!1)}),!!ni||!!Ei&&null}return!1}(_r,qt,an):!!qt[_r.id];_r.isSelected=!!kn,_r.isSomeSelected=kn===null,kn&&Pn.push(_r)}),Pn},[ae,Wt,qt,an]),wn=!!(Object.keys(Rt).length&&Object.keys(qt).length),Wn=wn;wn&&Object.keys(Rt).some(function(Pn){return!qt[Pn]})&&(wn=!1),wn||Jt&&Jt.length&&Jt.some(function(Pn){var _r=Pn.id;return!qt[_r]})&&(Wn=!1);var _n=O(Pt);L(function(){_n()&&Lt({type:c.resetSelectedRows})},[Lt,te]);var Xt=i.useCallback(function(Pn){return Lt({type:c.toggleAllRowsSelected,value:Pn})},[Lt]),Bn=i.useCallback(function(Pn){return Lt({type:c.toggleAllPageRowsSelected,value:Pn})},[Lt]),pn=i.useCallback(function(Pn,_r){return Lt({type:c.toggleRowSelected,id:Pn,value:_r})},[Lt]),jn=O(M),Qn=C(de().getToggleAllRowsSelectedProps,{instance:jn()}),Mt=C(de().getToggleAllPageRowsSelectedProps,{instance:jn()});Object.assign(M,{selectedFlatRows:fn,isAllRowsSelected:wn,isAllPageRowsSelected:Wn,toggleRowSelected:pn,toggleAllRowsSelected:Xt,getToggleAllRowsSelectedProps:Qn,getToggleAllPageRowsSelectedProps:Mt,toggleAllPageRowsSelected:Bn})}function Et(M,te){var ae=te.instance;M.toggleRowSelected=function(de){return ae.toggleRowSelected(M.id,de)},M.getToggleRowSelectedProps=C(ae.getHooks().getToggleRowSelectedProps,{instance:ae,row:M})}var oe=function(M){return{}},Ae=function(M){return{}};c.setRowState="setRowState",c.setCellState="setCellState",c.resetRowState="resetRowState";var De=function(M){M.stateReducers.push(Le),M.useInstance.push(ht),M.prepareRow.push(At)};function Le(M,te,ae,de){var je=de.initialRowStateAccessor,be=je===void 0?oe:je,$e=de.initialCellStateAccessor,Rt=$e===void 0?Ae:$e,_t=de.rowsById;if(te.type===c.init)return s({rowState:{}},M);if(te.type===c.resetRowState)return s({},M,{rowState:de.initialState.rowState||{}});if(te.type===c.setRowState){var Pt,qt=te.rowId,Vt=te.value,Wt=M.rowState[qt]!==void 0?M.rowState[qt]:be(_t[qt]);return s({},M,{rowState:s({},M.rowState,(Pt={},Pt[qt]=N(Vt,Wt),Pt))})}if(te.type===c.setCellState){var Lt,Jt,an,fn,wn,Wn=te.rowId,_n=te.columnId,Xt=te.value,Bn=M.rowState[Wn]!==void 0?M.rowState[Wn]:be(_t[Wn]),pn=(Bn==null||(Lt=Bn.cellState)==null?void 0:Lt[_n])!==void 0?Bn.cellState[_n]:Rt((Jt=_t[Wn])==null||(an=Jt.cells)==null?void 0:an.find(function(jn){return jn.column.id===_n}));return s({},M,{rowState:s({},M.rowState,(wn={},wn[Wn]=s({},Bn,{cellState:s({},Bn.cellState||{},(fn={},fn[_n]=N(Xt,pn),fn))}),wn))})}}function ht(M){var te=M.autoResetRowState,ae=te===void 0||te,de=M.data,je=M.dispatch,be=i.useCallback(function(_t,Pt){return je({type:c.setRowState,rowId:_t,value:Pt})},[je]),$e=i.useCallback(function(_t,Pt,qt){return je({type:c.setCellState,rowId:_t,columnId:Pt,value:qt})},[je]),Rt=O(ae);L(function(){Rt()&&je({type:c.resetRowState})},[de]),Object.assign(M,{setRowState:be,setCellState:$e})}function At(M,te){var ae=te.instance,de=ae.initialRowStateAccessor,je=de===void 0?oe:de,be=ae.initialCellStateAccessor,$e=be===void 0?Ae:be,Rt=ae.state.rowState;M&&(M.state=Rt[M.id]!==void 0?Rt[M.id]:je(M),M.setState=function(_t){return ae.setRowState(M.id,_t)},M.cells.forEach(function(_t){M.state.cellState||(M.state.cellState={}),_t.state=M.state.cellState[_t.column.id]!==void 0?M.state.cellState[_t.column.id]:$e(_t),_t.setState=function(Pt){return ae.setCellState(M.id,_t.column.id,Pt)}}))}De.pluginName="useRowState",c.resetColumnOrder="resetColumnOrder",c.setColumnOrder="setColumnOrder";var dn=function(M){M.stateReducers.push(Bt),M.visibleColumnsDeps.push(function(te,ae){var de=ae.instance;return[].concat(te,[de.state.columnOrder])}),M.visibleColumns.push(Yn),M.useInstance.push(un)};function Bt(M,te,ae,de){return te.type===c.init?s({columnOrder:[]},M):te.type===c.resetColumnOrder?s({},M,{columnOrder:de.initialState.columnOrder||[]}):te.type===c.setColumnOrder?s({},M,{columnOrder:N(te.columnOrder,M.columnOrder)}):void 0}function Yn(M,te){var ae=te.instance.state.columnOrder;if(!ae||!ae.length)return M;for(var de=[].concat(ae),je=[].concat(M),be=[],$e=function(){var Rt=de.shift(),_t=je.findIndex(function(Pt){return Pt.id===Rt});_t>-1&&be.push(je.splice(_t,1)[0])};je.length&&de.length;)$e();return[].concat(be,je)}function un(M){var te=M.dispatch;M.setColumnOrder=i.useCallback(function(ae){return te({type:c.setColumnOrder,columnOrder:ae})},[te])}dn.pluginName="useColumnOrder",w.canResize=!0,c.columnStartResizing="columnStartResizing",c.columnResizing="columnResizing",c.columnDoneResizing="columnDoneResizing",c.resetResize="resetResize";var gn=function(M){M.getResizerProps=[ar],M.getHeaderProps.push({style:{position:"relative"}}),M.stateReducers.push(hn),M.useInstance.push(rr),M.useInstanceBeforeDimensions.push(or)},ar=function(M,te){var ae=te.instance,de=te.header,je=ae.dispatch,be=function($e,Rt){var _t=!1;if($e.type==="touchstart"){if($e.touches&&$e.touches.length>1)return;_t=!0}var Pt,qt,Vt=function(_n){var Xt=[];return function Bn(pn){pn.columns&&pn.columns.length&&pn.columns.map(Bn),Xt.push(pn)}(_n),Xt}(Rt).map(function(_n){return[_n.id,_n.totalWidth]}),Wt=_t?Math.round($e.touches[0].clientX):$e.clientX,Lt=function(){window.cancelAnimationFrame(Pt),Pt=null,je({type:c.columnDoneResizing})},Jt=function(){window.cancelAnimationFrame(Pt),Pt=null,je({type:c.columnResizing,clientX:qt})},an=function(_n){qt=_n,Pt||(Pt=window.requestAnimationFrame(Jt))},fn={mouse:{moveEvent:"mousemove",moveHandler:function(_n){return an(_n.clientX)},upEvent:"mouseup",upHandler:function(_n){document.removeEventListener("mousemove",fn.mouse.moveHandler),document.removeEventListener("mouseup",fn.mouse.upHandler),Lt()}},touch:{moveEvent:"touchmove",moveHandler:function(_n){return _n.cancelable&&(_n.preventDefault(),_n.stopPropagation()),an(_n.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(_n){document.removeEventListener(fn.touch.moveEvent,fn.touch.moveHandler),document.removeEventListener(fn.touch.upEvent,fn.touch.moveHandler),Lt()}}},wn=_t?fn.touch:fn.mouse,Wn=!!function(){if(typeof Re=="boolean")return Re;var _n=!1;try{var Xt={get passive(){return _n=!0,!1}};window.addEventListener("test",null,Xt),window.removeEventListener("test",null,Xt)}catch{_n=!1}return Re=_n}()&&{passive:!1};document.addEventListener(wn.moveEvent,wn.moveHandler,Wn),document.addEventListener(wn.upEvent,wn.upHandler,Wn),je({type:c.columnStartResizing,columnId:Rt.id,columnWidth:Rt.totalWidth,headerIdWidths:Vt,clientX:Wt})};return[M,{onMouseDown:function($e){return $e.persist()||be($e,de)},onTouchStart:function($e){return $e.persist()||be($e,de)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function hn(M,te){if(te.type===c.init)return s({columnResizing:{columnWidths:{}}},M);if(te.type===c.resetResize)return s({},M,{columnResizing:{columnWidths:{}}});if(te.type===c.columnStartResizing){var ae=te.clientX,de=te.columnId,je=te.columnWidth,be=te.headerIdWidths;return s({},M,{columnResizing:s({},M.columnResizing,{startX:ae,headerIdWidths:be,columnWidth:je,isResizingColumn:de})})}if(te.type===c.columnResizing){var $e=te.clientX,Rt=M.columnResizing,_t=Rt.startX,Pt=Rt.columnWidth,qt=Rt.headerIdWidths,Vt=($e-_t)/Pt,Wt={};return(qt===void 0?[]:qt).forEach(function(Lt){var Jt=Lt[0],an=Lt[1];Wt[Jt]=Math.max(an+an*Vt,0)}),s({},M,{columnResizing:s({},M.columnResizing,{columnWidths:s({},M.columnResizing.columnWidths,{},Wt)})})}return te.type===c.columnDoneResizing?s({},M,{columnResizing:s({},M.columnResizing,{startX:null,isResizingColumn:null})}):void 0}gn.pluginName="useResizeColumns";var or=function(M){var te=M.flatHeaders,ae=M.disableResizing,de=M.getHooks,je=M.state.columnResizing,be=O(M);te.forEach(function($e){var Rt=et($e.disableResizing!==!0&&void 0,ae!==!0&&void 0,!0);$e.canResize=Rt,$e.width=je.columnWidths[$e.id]||$e.originalWidth||$e.width,$e.isResizing=je.isResizingColumn===$e.id,Rt&&($e.getResizerProps=C(de().getResizerProps,{instance:be(),header:$e}))})};function rr(M){var te=M.plugins,ae=M.dispatch,de=M.autoResetResize,je=de===void 0||de,be=M.columns;E(te,["useAbsoluteLayout"],"useResizeColumns");var $e=O(je);L(function(){$e()&&ae({type:c.resetResize})},[be]);var Rt=i.useCallback(function(){return ae({type:c.resetResize})},[ae]);Object.assign(M,{resetResizing:Rt})}var Dr={position:"absolute",top:0},tr=function(M){M.getTableBodyProps.push(ir),M.getRowProps.push(ir),M.getHeaderGroupProps.push(ir),M.getFooterGroupProps.push(ir),M.getHeaderProps.push(function(te,ae){var de=ae.column;return[te,{style:s({},Dr,{left:de.totalLeft+"px",width:de.totalWidth+"px"})}]}),M.getCellProps.push(function(te,ae){var de=ae.cell;return[te,{style:s({},Dr,{left:de.column.totalLeft+"px",width:de.column.totalWidth+"px"})}]}),M.getFooterProps.push(function(te,ae){var de=ae.column;return[te,{style:s({},Dr,{left:de.totalLeft+"px",width:de.totalWidth+"px"})}]})};tr.pluginName="useAbsoluteLayout";var ir=function(M,te){return[M,{style:{position:"relative",width:te.instance.totalColumnsWidth+"px"}}]},Er={display:"inline-block",boxSizing:"border-box"},Cn=function(M,te){return[M,{style:{display:"flex",width:te.instance.totalColumnsWidth+"px"}}]},Yr=function(M){M.getRowProps.push(Cn),M.getHeaderGroupProps.push(Cn),M.getFooterGroupProps.push(Cn),M.getHeaderProps.push(function(te,ae){var de=ae.column;return[te,{style:s({},Er,{width:de.totalWidth+"px"})}]}),M.getCellProps.push(function(te,ae){var de=ae.cell;return[te,{style:s({},Er,{width:de.column.totalWidth+"px"})}]}),M.getFooterProps.push(function(te,ae){var de=ae.column;return[te,{style:s({},Er,{width:de.totalWidth+"px"})}]})};function Mi(M){M.getTableProps.push(ha),M.getRowProps.push(Mr),M.getHeaderGroupProps.push(Mr),M.getFooterGroupProps.push(Mr),M.getHeaderProps.push(na),M.getCellProps.push(lo),M.getFooterProps.push(Co)}Yr.pluginName="useBlockLayout",Mi.pluginName="useFlexLayout";var ha=function(M,te){return[M,{style:{minWidth:te.instance.totalColumnsMinWidth+"px"}}]},Mr=function(M,te){return[M,{style:{display:"flex",flex:"1 0 auto",minWidth:te.instance.totalColumnsMinWidth+"px"}}]},na=function(M,te){var ae=te.column;return[M,{style:{boxSizing:"border-box",flex:ae.totalFlexWidth?ae.totalFlexWidth+" 0 auto":void 0,minWidth:ae.totalMinWidth+"px",width:ae.totalWidth+"px"}}]},lo=function(M,te){var ae=te.cell;return[M,{style:{boxSizing:"border-box",flex:ae.column.totalFlexWidth+" 0 auto",minWidth:ae.column.totalMinWidth+"px",width:ae.column.totalWidth+"px"}}]},Co=function(M,te){var ae=te.column;return[M,{style:{boxSizing:"border-box",flex:ae.totalFlexWidth?ae.totalFlexWidth+" 0 auto":void 0,minWidth:ae.totalMinWidth+"px",width:ae.totalWidth+"px"}}]};function Or(M){M.stateReducers.push(ms),M.getTableProps.push(ei),M.getHeaderProps.push(Va),M.getRowProps.push(ti)}c.columnStartResizing="columnStartResizing",c.columnResizing="columnResizing",c.columnDoneResizing="columnDoneResizing",c.resetResize="resetResize",Or.pluginName="useGridLayout";var ei=function(M,te){var ae=te.instance;return[M,{style:{display:"grid",gridTemplateColumns:ae.visibleColumns.map(function(de){var je;return ae.state.gridLayout.columnWidths[de.id]?ae.state.gridLayout.columnWidths[de.id]+"px":(je=ae.state.columnResizing)!=null&&je.isResizingColumn?ae.state.gridLayout.startWidths[de.id]+"px":typeof de.width=="number"?de.width+"px":de.width}).join(" ")}}]},Va=function(M,te){var ae=te.column;return[M,{id:"header-cell-"+ae.id,style:{position:"sticky",gridColumn:"span "+ae.totalVisibleHeaderCount}}]},ti=function(M,te){var ae=te.row;return ae.isExpanded?[M,{style:{gridColumn:"1 / "+(ae.cells.length+1)}}]:[M,{}]};function ms(M,te,ae,de){if(te.type===c.init)return s({gridLayout:{columnWidths:{}}},M);if(te.type===c.resetResize)return s({},M,{gridLayout:{columnWidths:{}}});if(te.type===c.columnStartResizing){var je=te.columnId,be=te.headerIdWidths,$e=xa(je);if($e!==void 0){var Rt=de.visibleColumns.reduce(function(Xt,Bn){var pn;return s({},Xt,((pn={})[Bn.id]=xa(Bn.id),pn))},{}),_t=de.visibleColumns.reduce(function(Xt,Bn){var pn;return s({},Xt,((pn={})[Bn.id]=Bn.minWidth,pn))},{}),Pt=de.visibleColumns.reduce(function(Xt,Bn){var pn;return s({},Xt,((pn={})[Bn.id]=Bn.maxWidth,pn))},{}),qt=be.map(function(Xt){var Bn=Xt[0];return[Bn,xa(Bn)]});return s({},M,{gridLayout:s({},M.gridLayout,{startWidths:Rt,minWidths:_t,maxWidths:Pt,headerIdGridWidths:qt,columnWidth:$e})})}return M}if(te.type===c.columnResizing){var Vt=te.clientX,Wt=M.columnResizing.startX,Lt=M.gridLayout,Jt=Lt.columnWidth,an=Lt.minWidths,fn=Lt.maxWidths,wn=Lt.headerIdGridWidths,Wn=(Vt-Wt)/Jt,_n={};return(wn===void 0?[]:wn).forEach(function(Xt){var Bn=Xt[0],pn=Xt[1];_n[Bn]=Math.min(Math.max(an[Bn],pn+pn*Wn),fn[Bn])}),s({},M,{gridLayout:s({},M.gridLayout,{columnWidths:s({},M.gridLayout.columnWidths,{},_n)})})}return te.type===c.columnDoneResizing?s({},M,{gridLayout:s({},M.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function xa(M){var te,ae=(te=document.getElementById("header-cell-"+M))==null?void 0:te.offsetWidth;if(ae!==void 0)return ae}r._UNSTABLE_usePivotColumns=Ha,r.actions=c,r.defaultColumn=w,r.defaultGroupByFn=mn,r.defaultOrderByFn=bi,r.defaultRenderer=p,r.emptyRenderer=m,r.ensurePluginOrder=E,r.flexRender=W,r.functionalUpdate=N,r.loopHooks=T,r.makePropGetter=C,r.makeRenderer=z,r.reduceHooks=R,r.safeUseLayoutEffect=V,r.useAbsoluteLayout=tr,r.useAsyncDebounce=function(M,te){te===void 0&&(te=0);var ae=i.useRef({}),de=O(M),je=O(te);return i.useCallback(function(){var be=l(regeneratorRuntime.mark(function $e(){var Rt,_t,Pt,qt=arguments;return regeneratorRuntime.wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:for(Rt=qt.length,_t=new Array(Rt),Pt=0;Pt<Rt;Pt++)_t[Pt]=qt[Pt];return ae.current.promise||(ae.current.promise=new Promise(function(Wt,Lt){ae.current.resolve=Wt,ae.current.reject=Lt})),ae.current.timeout&&clearTimeout(ae.current.timeout),ae.current.timeout=setTimeout(l(regeneratorRuntime.mark(function Wt(){return regeneratorRuntime.wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return delete ae.current.timeout,Lt.prev=1,Lt.t0=ae.current,Lt.next=5,de().apply(void 0,_t);case 5:Lt.t1=Lt.sent,Lt.t0.resolve.call(Lt.t0,Lt.t1),Lt.next=12;break;case 9:Lt.prev=9,Lt.t2=Lt.catch(1),ae.current.reject(Lt.t2);case 12:return Lt.prev=12,delete ae.current.promise,Lt.finish(12);case 15:case"end":return Lt.stop()}},Wt,null,[[1,9,12,15]])})),je()),Vt.abrupt("return",ae.current.promise);case 5:case"end":return Vt.stop()}},$e)}));return function(){return be.apply(this,arguments)}}(),[de,je])},r.useBlockLayout=Yr,r.useColumnOrder=dn,r.useExpanded=j,r.useFilters=tn,r.useFlexLayout=Mi,r.useGetLatest=O,r.useGlobalFilter=ve,r.useGridLayout=Or,r.useGroupBy=$t,r.useMountedLayoutEffect=L,r.usePagination=Pr,r.useResizeColumns=gn,r.useRowSelect=Te,r.useRowState=De,r.useSortBy=Un,r.useTable=function(M){for(var te=arguments.length,ae=new Array(te>1?te-1:0),de=1;de<te;de++)ae[de-1]=arguments[de];M=Fe(M),ae=[D].concat(ae);var je=i.useRef({}),be=O(je.current);Object.assign(be(),s({},M,{plugins:ae,hooks:k()})),ae.filter(Boolean).forEach(function(Tn){Tn(be().hooks)});var $e=O(be().hooks);be().getHooks=$e,delete be().hooks,Object.assign(be(),R($e().useOptions,Fe(M)));var Rt=be(),_t=Rt.data,Pt=Rt.columns,qt=Rt.initialState,Vt=Rt.defaultColumn,Wt=Rt.getSubRows,Lt=Rt.getRowId,Jt=Rt.stateReducer,an=Rt.useControlledState,fn=O(Jt),wn=i.useCallback(function(Tn,Gr){if(!Gr.type)throw console.info({action:Gr}),new Error("Unknown Action ");return[].concat($e().stateReducers,Array.isArray(fn())?fn():[fn()]).reduce(function(Vr,nr){return nr(Vr,Gr,Tn,be())||Vr},Tn)},[$e,fn,be]),Wn=i.useReducer(wn,void 0,function(){return wn(qt,{type:c.init})}),_n=Wn[0],Xt=Wn[1],Bn=R([].concat($e().useControlledState,[an]),_n,{instance:be()});Object.assign(be(),{state:Bn,dispatch:Xt});var pn=i.useMemo(function(){return $(R($e().columns,Pt,{instance:be()}))},[$e,be,Pt].concat(R($e().columnsDeps,[],{instance:be()})));be().columns=pn;var jn=i.useMemo(function(){return R($e().allColumns,Ce(pn),{instance:be()}).map(K)},[pn,$e,be].concat(R($e().allColumnsDeps,[],{instance:be()})));be().allColumns=jn;var Qn=i.useMemo(function(){for(var Tn=[],Gr=[],Vr={},nr=[].concat(jn);nr.length;){var Xr=nr.shift();X({data:_t,rows:Tn,flatRows:Gr,rowsById:Vr,column:Xr,getRowId:Lt,getSubRows:Wt,accessValueHooks:$e().accessValue,getInstance:be})}return[Tn,Gr,Vr]},[jn,_t,Lt,Wt,$e,be]),Mt=Qn[0],Pn=Qn[1],_r=Qn[2];Object.assign(be(),{rows:Mt,initialRows:[].concat(Mt),flatRows:Pn,rowsById:_r}),T($e().useInstanceAfterData,be());var kn=i.useMemo(function(){return R($e().visibleColumns,jn,{instance:be()}).map(function(Tn){return re(Tn,Vt)})},[$e,jn,be,Vt].concat(R($e().visibleColumnsDeps,[],{instance:be()})));jn=i.useMemo(function(){var Tn=[].concat(kn);return jn.forEach(function(Gr){Tn.find(function(Vr){return Vr.id===Gr.id})||Tn.push(Gr)}),Tn},[jn,kn]),be().allColumns=jn;var yr=i.useMemo(function(){return R($e().headerGroups,pe(kn,Vt),be())},[$e,kn,Vt,be].concat(R($e().headerGroupsDeps,[],{instance:be()})));be().headerGroups=yr;var fr=i.useMemo(function(){return yr.length?yr[0].headers:[]},[yr]);be().headers=fr,be().flatHeaders=yr.reduce(function(Tn,Gr){return[].concat(Tn,Gr.headers)},[]),T($e().useInstanceBeforeDimensions,be());var Lr=kn.filter(function(Tn){return Tn.isVisible}).map(function(Tn){return Tn.id}).sort().join("_");kn=i.useMemo(function(){return kn.filter(function(Tn){return Tn.isVisible})},[kn,Lr]),be().visibleColumns=kn;var Sn=dt(fr),qn=Sn[0],ni=Sn[1],Ei=Sn[2];return be().totalColumnsMinWidth=qn,be().totalColumnsWidth=ni,be().totalColumnsMaxWidth=Ei,T($e().useInstance,be()),[].concat(be().flatHeaders,be().allColumns).forEach(function(Tn){Tn.render=z(be(),Tn),Tn.getHeaderProps=C($e().getHeaderProps,{instance:be(),column:Tn}),Tn.getFooterProps=C($e().getFooterProps,{instance:be(),column:Tn})}),be().headerGroups=i.useMemo(function(){return yr.filter(function(Tn,Gr){return Tn.headers=Tn.headers.filter(function(Vr){return Vr.headers?function nr(Xr){return Xr.filter(function(sr){return sr.headers?nr(sr.headers):sr.isVisible}).length}(Vr.headers):Vr.isVisible}),!!Tn.headers.length&&(Tn.getHeaderGroupProps=C($e().getHeaderGroupProps,{instance:be(),headerGroup:Tn,index:Gr}),Tn.getFooterGroupProps=C($e().getFooterGroupProps,{instance:be(),headerGroup:Tn,index:Gr}),!0)})},[yr,be,$e]),be().footerGroups=[].concat(be().headerGroups).reverse(),be().prepareRow=i.useCallback(function(Tn){Tn.getRowProps=C($e().getRowProps,{instance:be(),row:Tn}),Tn.allCells=jn.map(function(Gr){var Vr=Tn.values[Gr.id],nr={column:Gr,row:Tn,value:Vr};return nr.getCellProps=C($e().getCellProps,{instance:be(),cell:nr}),nr.render=z(be(),Gr,{row:Tn,cell:nr,value:Vr}),nr}),Tn.cells=kn.map(function(Gr){return Tn.allCells.find(function(Vr){return Vr.column.id===Gr.id})}),T($e().prepareRow,Tn,{instance:be()})},[$e,be,jn,kn]),be().getTableProps=C($e().getTableProps,{instance:be()}),be().getTableBodyProps=C($e().getTableBodyProps,{instance:be()}),T($e().useFinalInstance,be()),be()},Object.defineProperty(r,"__esModule",{value:!0})})}(qg,qg.exports)),qg.exports}var X1;function hF(){return X1||(X1=1,Rb.exports=dF()),Rb.exports}var pF=ky.exports,Q1;function gF(){return Q1||(Q1=1,function(e,t){(function(i,a){e.exports=a(cm(),MI(),BN(),cF,hF())})(pF,(r,i,a,l,s)=>(()=>{var u={577:m=>{m.exports=i},606:m=>{m.exports=a},156:m=>{m.exports=r},767:m=>{m.exports=s},928:m=>{m.exports=l}},d={};function c(m){var w=d[m];if(w!==void 0)return w.exports;var S=d[m]={exports:{}};return u[m](S,S.exports,c),S.exports}c.n=m=>{var w=m&&m.__esModule?()=>m.default:()=>m;return c.d(w,{a:w}),w},c.d=(m,w)=>{for(var S in w)c.o(w,S)&&!c.o(m,S)&&Object.defineProperty(m,S,{enumerable:!0,get:w[S]})},c.o=(m,w)=>Object.prototype.hasOwnProperty.call(m,w),c.r=m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})};var p={};return(()=>{c.r(p),c.d(p,{CombinedDataProvider:()=>j,DatasetContext:()=>z,DatasetProvider:()=>W,FileUpload:()=>E,Image:()=>Re,Link:()=>Qe,LoginButton:()=>We,LogoutButton:()=>Fe,SessionContext:()=>R,SessionProvider:()=>T,Table:()=>Je,TableColumn:()=>H,Text:()=>Xe,ThingContext:()=>Ce,ThingProvider:()=>K,Value:()=>Ot,Video:()=>Vn,useDataset:()=>V,useFile:()=>nt,useSession:()=>Gn,useThing:()=>sn});var m=c(156),w=c.n(m),S=c(577),C=c(606);const R=(0,m.createContext)({login:C.login,logout:C.logout,fetch:C.fetch,session:(0,C.getDefaultSession)(),sessionRequestInProgress:!0,profile:void 0}),T=({sessionId:qe,children:bt,onError:ft,sessionRequestInProgress:Be,restorePreviousSession:pt,skipLoadingProfile:Qt,onSessionRestore:zt})=>{const tn=pt||typeof zt<"u",[Ht,ce]=(0,m.useState)((0,C.getDefaultSession)()),[ve,Tt]=(0,m.useState)();(0,m.useEffect)(()=>{zt!==void 0&&(0,C.onSessionRestore)(zt)},[zt]);const Ct=typeof Be>"u"?!Ht.info.isLoggedIn:Be,[Ft,Zt]=(0,m.useState)(Ct);let nn;typeof window<"u"&&(nn=window.location),(0,m.useEffect)(()=>{(0,C.handleIncomingRedirect)({url:window.location.href,restorePreviousSession:tn}).then(async en=>{if(Qt!==!0&&en?.webId!==void 0){const vn=await(0,S.getProfileAll)(en?.webId,{fetch:Ht.fetch});Tt(vn)}}).catch(en=>{if(ft)ft(en);else throw en}).finally(()=>{Zt(!1)}),(0,C.getDefaultSession)().on("logout",()=>{ce((0,C.getDefaultSession)())})},[Ht,qe,ft,nn,tn,Qt]);const Mn=async en=>{Zt(!0);try{await(0,C.login)(en)}catch(vn){if(ft)ft(vn);else throw vn}finally{Zt(!1)}},$t=async()=>{try{await(0,C.logout)(),Tt(void 0)}catch(en){if(ft)ft(en);else throw en}};return w().createElement(R.Provider,{value:{session:Ht,login:Mn,logout:$t,sessionRequestInProgress:Ft,setSessionRequestInProgress:Zt,fetch:C.fetch,profile:ve}},bt)};function E({saveLocation:qe,onError:bt,onSave:ft,inputProps:Be,autosave:pt}){const{fetch:Qt}=(0,m.useContext)(R),zt=async tn=>{const Ht=tn.target;if(Ht.files&&pt)try{const ce=await(0,S.saveFileInContainer)(qe,Ht.files[0],{slug:Ht.files[0].name?Ht.files[0].name:void 0,fetch:Qt});ft&&ft(ce)}catch(ce){bt&&bt(ce)}};return w().createElement(w().Fragment,null,w().createElement("input",Object.assign({type:"file"},Be,{onChange:tn=>zt(tn),"data-testid":"form-input"})))}var N=c(928),O=c.n(N);function V(qe,bt){const{fetch:ft}=(0,m.useContext)(R),{solidDataset:Be}=(0,m.useContext)(z),{data:pt,error:Qt}=O()(qe?[qe,bt,ft]:null,()=>{const tn=Object.assign({fetch:ft},bt);return(0,S.getSolidDataset)(qe,tn)});return{dataset:qe?pt:Be,error:Qt}}const L=(0,m.createContext)({solidDataset:void 0,setDataset:()=>{}}),z=L,W=({children:qe,onError:bt,solidDataset:ft,datasetUrl:Be,loading:pt,loadingComponent:Qt})=>{const{dataset:zt,error:tn}=V(Be);tn&&bt&&bt(tn);const Ht=ft??zt,[ce,ve]=(0,m.useState)(Ht);(0,m.useEffect)(()=>{ve(Ht)},[Ht]);let Tt=Qt&&w().createElement(Qt,null)||pt||w().createElement("span",null,"Fetching data...");return Qt===null&&(Tt=null),w().createElement(L.Provider,{value:{solidDataset:ce,setDataset:ve}},ce?qe:Tt)},$=(0,m.createContext)({thing:null,setThing:()=>{}}),Ce=$,K=({children:qe,thing:bt,thingUrl:ft})=>{const{solidDataset:Be}=(0,m.useContext)(z);let pt=bt;Be&&ft&&(pt=(0,S.getThing)(Be,ft));const[Qt,zt]=(0,m.useState)(pt||null);return(0,m.useEffect)(()=>{Be&&ft?zt((0,S.getThing)(Be,ft)):bt&&zt(bt)},[Be,ft,bt]),w().createElement($.Provider,{value:{thing:Qt,setThing:zt}},qe)},re=async(qe,bt,ft,Be,pt,Qt,zt)=>{try{return pt!==void 0&&bt.size>pt*1024?(ft.setCustomValidity(`The selected file must not be larger than ${pt}kB`),ft.reportValidity(),null):(ft.setCustomValidity(""),await(0,S.overwriteFile)(qe,bt,{fetch:Be}),Qt&&Qt(),URL.createObjectURL(bt))}catch(tn){return zt&&zt(tn),null}},pe=async(qe,bt)=>await(0,S.getFile)(qe,{fetch:bt});function _e(qe,bt,ft,Be){switch(qe){case"boolean":return(0,S.getBoolean)(bt,ft);case"datetime":return(0,S.getDatetime)(bt,ft);case"decimal":return(0,S.getDecimal)(bt,ft);case"integer":return(0,S.getInteger)(bt,ft);case"url":return(0,S.getUrl)(bt,ft);default:return Be?(0,S.getStringWithLocale)(bt,ft,Be):(0,S.getStringNoLocale)(bt,ft)}}function et(qe,bt,ft,Be){switch(qe){case"boolean":return(0,S.getBooleanAll)(bt,ft);case"datetime":return(0,S.getDatetimeAll)(bt,ft);case"decimal":return(0,S.getDecimalAll)(bt,ft);case"integer":return(0,S.getIntegerAll)(bt,ft);case"url":return(0,S.getUrlAll)(bt,ft);default:return Be?(0,S.getStringWithLocaleAll)(bt,ft,Be):(0,S.getStringNoLocaleAll)(bt,ft)}}function rt(qe,bt,ft,Be,pt){return Be.find(Qt=>qe(bt,ft,Qt,pt))||Be[0]}function xe(qe){const{dataset:bt,thing:ft,properties:Be,property:pt,type:Qt,locale:zt}=qe,{solidDataset:tn,setDataset:Ht=()=>{}}=(0,m.useContext)(z),ce=bt||tn,{thing:ve,setThing:Tt=()=>{}}=(0,m.useContext)(Ce),Ct=ft||ve||void 0;let Ft;Ct||(Ft=new Error("Thing not found as property or in context"));const Zt=Ct&&Be?rt(_e,Qt,Ct,Be,zt)||Be[0]:pt;if(!Zt)throw new Error("No property provided");const nn=Ct&&Zt?_e(Qt,Ct,Zt,zt):null;return{dataset:ce,thing:Ct,property:Zt,error:Ft,value:nn,setDataset:Ht,setThing:Tt}}function lt(){const[qe,bt]=(0,m.useState)(null);return(0,m.useEffect)(()=>{const ft=document.createElement("input");ft.type="datetime-local",bt(ft.type!=="text")},[]),qe}async function he(qe,bt){const ft=await(0,S.getSolidDataset)(qe);bt(ft)}function nt(qe){const[bt,ft]=(0,m.useState)(),[Be,pt]=(0,m.useState)(!1),[Qt,zt]=(0,m.useState)(),{fetch:tn}=(0,m.useContext)(R);return(0,m.useEffect)(()=>{qe&&(pt(!0),pe(qe,tn).then(Ht=>{zt(Ht),pt(!1)}).catch(Ht=>{ft(Ht),pt(!1)}))},[qe,tn]),{error:bt,inProgress:Be,data:Qt}}var Y=function(qe,bt){var ft={};for(var Be in qe)Object.prototype.hasOwnProperty.call(qe,Be)&&bt.indexOf(Be)<0&&(ft[Be]=qe[Be]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(qe);pt<Be.length;pt++)bt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(qe,Be[pt])&&(ft[Be[pt]]=qe[Be[pt]]);return ft};function Re(qe){var{thing:bt,property:ft,properties:Be,edit:pt,autosave:Qt,allowDelete:zt,onSave:tn,onError:Ht,maxSize:ce,alt:ve,inputProps:Tt,errorComponent:Ct,loadingComponent:Ft,deleteComponent:Zt,saveLocation:nn,solidDataset:Mn}=qe,$t=Y(qe,["thing","property","properties","edit","autosave","allowDelete","onSave","onError","maxSize","alt","inputProps","errorComponent","loadingComponent","deleteComponent","saveLocation","solidDataset"]);const{fetch:en}=(0,m.useContext)(R),vn=xe({thing:bt,property:ft,properties:Be,type:"url"}),{value:on,thing:Ln,error:xn}=vn;let Jn;on||(Jn=new Error("No value found for property."));const mn=!Ln&&!xn,[ln,Gt]=(0,m.useState)(xn??Jn);(0,m.useEffect)(()=>{ln&&Ht&&Ht(ln)},[ln,Ht,Ct]);const[er,Fr]=(0,m.useState)(),{data:pr,error:Un,inProgress:Cr}=nt(on);(0,m.useEffect)(()=>{if(Cr)return;if(Un){Gt(Un);return}const Pr=pr&&URL.createObjectURL(pr);Pr&&Fr(Pr)},[pr,Cr,Un]);const Hr=async()=>{if(!(!bt||!Mn||!ft||typeof on!="string"||!Qt))try{const Pr=(0,S.removeUrl)(bt,ft,on),ta=(0,S.setThing)(Mn,Pr),wi=(0,S.getSourceUrl)(Mn);if(!wi)return;await(0,S.saveSolidDatasetAt)(wi,ta,{fetch:en})}catch(Pr){Gt(Pr)}},cn=async Pr=>{const ta=Pr.files;if(Qt&&ta&&ta.length>0){if(on){const wi=await re(on,ta[0],Pr,en,ce,tn,Ht);wi&&Fr(wi)}else if(!on&&nn){const wi=await(0,S.saveFileInContainer)(nn,ta[0],{fetch:en}),Ha=(0,S.getSourceUrl)(wi);if(Ha&&bt&&ft&&Mn){Fr(Ha);try{const da=(0,S.addUrl)(bt,ft,Ha),_i=(0,S.setThing)(Mn,da),b=(0,S.getSourceUrl)(Mn);if(!b)return;await(0,S.saveSolidDatasetAt)(b,_i,{fetch:en})}catch(da){Gt(da)}}}}};let bi=null;if(mn||Cr){let Pr=Ft&&w().createElement(Ft,null)||w().createElement("span",null,"fetching data in progress");return Ft===null&&(Pr=null),Pr}return ln?bi=Ct?w().createElement(Ct,{error:ln}):w().createElement("span",null,ln.toString()):on&&(bi=w().createElement("img",Object.assign({src:er,alt:ve??""},$t))),w().createElement(w().Fragment,null,bi,pt&&w().createElement("input",Object.assign({},Tt,{type:"file",accept:"image/*",onChange:Pr=>cn(Pr.target)})),zt&&(Zt?w().createElement(Zt,{onClick:Hr}):w().createElement("button",{type:"button",onClick:Hr},"Delete")))}var Ke=function(qe,bt){var ft={};for(var Be in qe)Object.prototype.hasOwnProperty.call(qe,Be)&&bt.indexOf(Be)<0&&(ft[Be]=qe[Be]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(qe);pt<Be.length;pt++)bt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(qe,Be[pt])&&(ft[Be[pt]]=qe[Be[pt]]);return ft};const Ue=qe=>{var bt;const{thing:ft,solidDataset:Be,property:pt,properties:Qt,saveDatasetTo:zt,onSave:tn,onError:Ht,edit:ce,autosave:ve,inputProps:Tt}=qe,Ct=Ke(qe,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:Ft}=(0,m.useContext)(R),{value:Zt,thing:nn,property:Mn,dataset:$t,setDataset:en,error:vn}=xe({dataset:Be,thing:ft,type:"datetime",property:pt,properties:Qt}),on=lt();(0,m.useEffect)(()=>{vn&&Ht&&Ht(vn)},[vn,Ht]);const Ln=Zt?Zt.toISOString().substring(0,Zt.toISOString().length-5):null,[xn,Jn]=(0,m.useState)(Ln);let mn="";on||(mn=xn?.split(/T(.+)/)[0].toString());let ln="00:00";on||(ln=(bt=xn?.split(/T(.+)/)[1])===null||bt===void 0?void 0:bt.toString());const[Gt,er]=(0,m.useState)(ln),[Fr,pr]=(0,m.useState)(mn);(0,m.useEffect)(()=>{!Gt&&!Fr||on||Jn(`${Fr??""}T${Gt??"00:00"}`)},[Gt,Fr,on]);const Un=async Hr=>{if(Ln!==xn&&nn&&$t&&Hr.target.reportValidity()){const cn=xn,bi=(0,S.setDatetime)(nn,Mn,new Date(`${cn}Z`));try{let Pr;zt?(Pr=await(0,S.saveSolidDatasetAt)(zt,(0,S.setThing)($t,bi),{fetch:Ft}),await he(zt,en)):(0,S.hasResourceInfo)($t)?(Pr=await(0,S.saveSolidDatasetAt)((0,S.getSourceUrl)($t),(0,S.setThing)($t,bi),{fetch:Ft}),await he((0,S.getSourceUrl)($t),en)):Ht&&Ht(new Error("Please provide saveDatasetTo location for new data")),!vn&&tn&&tn(Pr,bi)}catch(Pr){Ht&&Ht(Pr)}}};let Cr;return on?Cr="datetime-local":Cr="datetime-workaround",w().createElement(w().Fragment,null,!ce&&$t&&nn&&w().createElement("span",Object.assign({},Ct),`${xn}`),ce&&$t&&nn&&Cr==="datetime-local"&&w().createElement("input",Object.assign({type:Cr,"aria-label":"Date and Time",step:"any"},Tt,{onChange:Hr=>{Jn(Hr.target.value)},onBlur:Hr=>ve&&Un(Hr),value:xn,pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}",placeholder:"yyyy-mm-ddThh:mm"})),ce&&$t&&nn&&Cr==="datetime-workaround"&&w().createElement(w().Fragment,null,w().createElement("input",Object.assign({type:"date","aria-label":"Date",step:"any"},Tt,{onChange:Hr=>{pr(Hr.target.value)},onBlur:Hr=>ve&&Un(Hr),value:Fr,pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}",placeholder:"yyyy-mm-dd"})),w().createElement("input",{type:"time","aria-label":"Time",value:Gt,onChange:Hr=>er(Hr.target.value),onBlur:Hr=>ve&&Un(Hr),pattern:"[0-9]{2}:[0-9]{2}"})))};Ue.defaultProps={autosave:!1,edit:!1};const at=Ue;var It=function(qe,bt){var ft={};for(var Be in qe)Object.prototype.hasOwnProperty.call(qe,Be)&&bt.indexOf(Be)<0&&(ft[Be]=qe[Be]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(qe);pt<Be.length;pt++)bt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(qe,Be[pt])&&(ft[Be[pt]]=qe[Be[pt]]);return ft};const Nt=qe=>{var bt;const{thing:ft,solidDataset:Be,property:pt,properties:Qt,saveDatasetTo:zt,locale:tn,onSave:Ht,onError:ce,edit:ve,autosave:Tt,inputProps:Ct}=qe,Ft=It(qe,["thing","solidDataset","property","properties","saveDatasetTo","locale","onSave","onError","edit","autosave","inputProps"]),{fetch:Zt}=(0,m.useContext)(R),{value:nn,thing:Mn,property:$t,dataset:en,setDataset:vn,error:on}=xe({dataset:Be,thing:ft,type:"string",property:pt,properties:Qt,locale:tn});(0,m.useEffect)(()=>{on&&ce&&ce(on)},[on,ce]);const Ln=(bt=nn?.toString())!==null&&bt!==void 0?bt:"",[xn,Jn]=(0,m.useState)(Ln),mn=async ln=>{if(Ln!==xn&&Mn&&en&&ln.target.reportValidity()){let Gt;tn?Gt=(0,S.setStringWithLocale)(Mn,$t,xn,tn):Gt=(0,S.setStringNoLocale)(Mn,$t,xn);try{let er;zt?(er=await(0,S.saveSolidDatasetAt)(zt,(0,S.setThing)(en,Gt),{fetch:Zt}),await he(zt,vn)):(0,S.hasResourceInfo)(en)?(er=await(0,S.saveSolidDatasetAt)((0,S.getSourceUrl)(en),(0,S.setThing)(en,Gt),{fetch:Zt}),await he((0,S.getSourceUrl)(en),vn)):ce&&ce(new Error("Please provide saveDatasetTo location for new data")),!on&&Ht&&Ht(er,Gt)}catch(er){ce&&ce(er)}}};return w().createElement(w().Fragment,null,!ve&&en&&Mn&&w().createElement("span",Object.assign({},Ft),xn),ve&&en&&Mn&&w().createElement("input",Object.assign({type:"text"},Ct,{onChange:ln=>{Jn(ln.target.value)},onBlur:ln=>Tt&&mn(ln),value:xn})))};Nt.defaultProps={autosave:!1,edit:!1};const Me=Nt;var ue=function(qe,bt){var ft={};for(var Be in qe)Object.prototype.hasOwnProperty.call(qe,Be)&&bt.indexOf(Be)<0&&(ft[Be]=qe[Be]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(qe);pt<Be.length;pt++)bt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(qe,Be[pt])&&(ft[Be[pt]]=qe[Be[pt]]);return ft};const Ie=qe=>{var bt;const{thing:ft,solidDataset:Be,property:pt,properties:Qt,saveDatasetTo:zt,onSave:tn,onError:Ht,edit:ce,autosave:ve,inputProps:Tt}=qe,Ct=ue(qe,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:Ft}=(0,m.useContext)(R),{value:Zt,thing:nn,property:Mn,dataset:$t,setDataset:en,error:vn}=xe({dataset:Be,thing:ft,type:"boolean",property:pt,properties:Qt});(0,m.useEffect)(()=>{vn&&Ht&&Ht(vn)},[vn,Ht]);let on=Zt,Ln=!1;Ln=(bt=Zt)!==null&&bt!==void 0?bt:!1,on=Ln.toString();const[xn,Jn]=(0,m.useState)(on),[mn,ln]=(0,m.useState)(Ln);(0,m.useEffect)(()=>{Jn(mn.toString())},[mn]);const Gt=async er=>{if(on!==xn&&nn&&$t&&er.target.reportValidity()){const Fr=(0,S.setBoolean)(nn,Mn,mn);try{let pr;zt?(pr=await(0,S.saveSolidDatasetAt)(zt,(0,S.setThing)($t,Fr),{fetch:Ft}),await he(zt,en)):(0,S.hasResourceInfo)($t)?(pr=await(0,S.saveSolidDatasetAt)((0,S.getSourceUrl)($t),(0,S.setThing)($t,Fr),{fetch:Ft}),await he((0,S.getSourceUrl)($t),en)):Ht&&Ht(new Error("Please provide saveDatasetTo location for new data")),!vn&&tn&&tn(pr,Fr)}catch(pr){Ht&&Ht(pr)}}};return w().createElement(w().Fragment,null,!ce&&$t&&nn&&w().createElement("span",Object.assign({},Ct),`${xn}`),ce&&$t&&nn&&w().createElement("input",Object.assign({type:"checkbox",checked:mn},Tt,{onChange:er=>{ln(er.target.checked)},onBlur:er=>ve&&Gt(er),value:xn})))};Ie.defaultProps={autosave:!1,edit:!1};const Ye=Ie;var se=function(qe,bt){var ft={};for(var Be in qe)Object.prototype.hasOwnProperty.call(qe,Be)&&bt.indexOf(Be)<0&&(ft[Be]=qe[Be]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(qe);pt<Be.length;pt++)bt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(qe,Be[pt])&&(ft[Be[pt]]=qe[Be[pt]]);return ft};const k=qe=>{var bt;const{thing:ft,solidDataset:Be,property:pt,properties:Qt,saveDatasetTo:zt,onSave:tn,onError:Ht,edit:ce,autosave:ve,inputProps:Tt}=qe,Ct=se(qe,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:Ft}=(0,m.useContext)(R),{value:Zt,thing:nn,property:Mn,dataset:$t,setDataset:en,error:vn}=xe({dataset:Be,thing:ft,type:"url",property:pt,properties:Qt});(0,m.useEffect)(()=>{vn&&Ht&&Ht(vn)},[vn,Ht]);const on=(bt=Zt?.toString())!==null&&bt!==void 0?bt:"",[Ln,xn]=(0,m.useState)(on),Jn=async mn=>{if(on!==Ln&&nn&&$t&&mn.target.reportValidity()){const ln=(0,S.setUrl)(nn,Mn,Ln);try{let Gt;zt?(Gt=await(0,S.saveSolidDatasetAt)(zt,(0,S.setThing)($t,ln),{fetch:Ft}),await he(zt,en)):(0,S.hasResourceInfo)($t)?(Gt=await(0,S.saveSolidDatasetAt)((0,S.getSourceUrl)($t),(0,S.setThing)($t,ln),{fetch:Ft}),await he((0,S.getSourceUrl)($t),en)):Ht&&Ht(new Error("Please provide saveDatasetTo location for new data")),!vn&&tn&&tn(Gt,ln)}catch(Gt){Ht&&Ht(Gt)}}};return w().createElement(w().Fragment,null,!ce&&$t&&nn&&w().createElement("span",Object.assign({},Ct),`${Ln}`),ce&&$t&&nn&&w().createElement("input",Object.assign({type:"url"},Tt,{onChange:mn=>{xn(mn.target.value)},onBlur:mn=>ve&&Jn(mn),value:Ln})))};k.defaultProps={autosave:!1,edit:!1};const D=k;var q=function(qe,bt){var ft={};for(var Be in qe)Object.prototype.hasOwnProperty.call(qe,Be)&&bt.indexOf(Be)<0&&(ft[Be]=qe[Be]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(qe);pt<Be.length;pt++)bt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(qe,Be[pt])&&(ft[Be[pt]]=qe[Be[pt]]);return ft};const ne=qe=>{var bt;const{thing:ft,solidDataset:Be,property:pt,properties:Qt,saveDatasetTo:zt,onSave:tn,onError:Ht,edit:ce,autosave:ve,inputProps:Tt}=qe,Ct=q(qe,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:Ft}=(0,m.useContext)(R),{value:Zt,thing:nn,property:Mn,dataset:$t,setDataset:en,error:vn}=xe({dataset:Be,thing:ft,type:"integer",property:pt,properties:Qt});(0,m.useEffect)(()=>{vn&&Ht&&Ht(vn)},[vn,Ht]);const on=(bt=Zt?.toString())!==null&&bt!==void 0?bt:"",[Ln,xn]=(0,m.useState)(on),Jn=async mn=>{if(on!==Ln&&nn&&$t&&mn.target.reportValidity()){const ln=(0,S.setInteger)(nn,Mn,parseInt(Ln,10));try{let Gt;zt?(Gt=await(0,S.saveSolidDatasetAt)(zt,(0,S.setThing)($t,ln),{fetch:Ft}),await he(zt,en)):(0,S.hasResourceInfo)($t)?(Gt=await(0,S.saveSolidDatasetAt)((0,S.getSourceUrl)($t),(0,S.setThing)($t,ln),{fetch:Ft}),await he((0,S.getSourceUrl)($t),en)):Ht&&Ht(new Error("Please provide saveDatasetTo location for new data")),!vn&&tn&&tn(Gt,ln)}catch(Gt){Ht&&Ht(Gt)}}};return w().createElement(w().Fragment,null,!ce&&$t&&nn&&w().createElement("span",Object.assign({},Ct),`${Ln}`),ce&&$t&&nn&&w().createElement("input",Object.assign({type:"number",step:"any"},Tt,{onChange:mn=>{xn(mn.target.value)},onBlur:mn=>ve&&Jn(mn),value:Ln})))};ne.defaultProps={autosave:!1,edit:!1};const Ee=ne;var Ne=function(qe,bt){var ft={};for(var Be in qe)Object.prototype.hasOwnProperty.call(qe,Be)&&bt.indexOf(Be)<0&&(ft[Be]=qe[Be]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(qe);pt<Be.length;pt++)bt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(qe,Be[pt])&&(ft[Be[pt]]=qe[Be[pt]]);return ft};const ct=qe=>{var bt;const{thing:ft,solidDataset:Be,property:pt,properties:Qt,saveDatasetTo:zt,onSave:tn,onError:Ht,edit:ce,autosave:ve,inputProps:Tt}=qe,Ct=Ne(qe,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:Ft}=(0,m.useContext)(R),{value:Zt,thing:nn,property:Mn,dataset:$t,setDataset:en,error:vn}=xe({dataset:Be,thing:ft,type:"decimal",property:pt,properties:Qt});(0,m.useEffect)(()=>{vn&&Ht&&Ht(vn)},[vn,Ht]);const on=(bt=Zt?.toString())!==null&&bt!==void 0?bt:"",[Ln,xn]=(0,m.useState)(on),Jn=async mn=>{if(on!==Ln&&nn&&$t&&mn.target.reportValidity()){const ln=(0,S.setDecimal)(nn,Mn,parseFloat(Ln));try{let Gt;zt?(Gt=await(0,S.saveSolidDatasetAt)(zt,(0,S.setThing)($t,ln),{fetch:Ft}),await he(zt,en)):(0,S.hasResourceInfo)($t)?(Gt=await(0,S.saveSolidDatasetAt)((0,S.getSourceUrl)($t),(0,S.setThing)($t,ln),{fetch:Ft}),await he((0,S.getSourceUrl)($t),en)):Ht&&Ht(new Error("Please provide saveDatasetTo location for new data")),!vn&&tn&&tn(Gt,ln)}catch(Gt){Ht&&Ht(Gt)}}};return w().createElement(w().Fragment,null,!ce&&$t&&nn&&w().createElement("span",Object.assign({},Ct),`${Ln}`),ce&&$t&&nn&&w().createElement("input",Object.assign({type:"number",step:"any"},Tt,{onChange:mn=>{xn(mn.target.value)},onBlur:mn=>ve&&Jn(mn),value:Ln})))};ct.defaultProps={autosave:!1,edit:!1};const Pe=ct;var mt=function(qe,bt){var ft={};for(var Be in qe)Object.prototype.hasOwnProperty.call(qe,Be)&&bt.indexOf(Be)<0&&(ft[Be]=qe[Be]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(qe);pt<Be.length;pt++)bt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(qe,Be[pt])&&(ft[Be[pt]]=qe[Be[pt]]);return ft};function Ot(qe){const bt=qe,{dataType:ft}=bt,Be=mt(bt,["dataType"]),{thing:pt,solidDataset:Qt,property:zt,properties:tn,edit:Ht,loadingComponent:ce,errorComponent:ve,locale:Tt}=Be,{thing:Ct,value:Ft,error:Zt}=xe({dataset:Qt,thing:pt,property:zt,properties:tn,type:ft,locale:Tt});let nn;!Ht&&!Ft&&ft!=="boolean"&&(nn=new Error("No value found for property."));const Mn=!Ct&&!Zt,[$t]=(0,m.useState)(Zt??nn);if(Mn){let vn=ce&&w().createElement(ce,null)||w().createElement("span",null,"fetching data in progress");return ce===null&&(vn=null),vn}if($t)return ve?w().createElement(ve,{error:$t}):w().createElement("span",null,$t.toString());let en=Me;switch(ft){case"boolean":en=Ye;break;case"datetime":en=at;break;case"decimal":en=Pe;break;case"integer":en=Ee;break;case"url":en=D;break;default:en=Me}return w().createElement(en,Object.assign({},Be))}Ot.defaultProps={autosave:!1,edit:!1};var wt=function(qe,bt){var ft={};for(var Be in qe)Object.prototype.hasOwnProperty.call(qe,Be)&&bt.indexOf(Be)<0&&(ft[Be]=qe[Be]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(qe);pt<Be.length;pt++)bt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(qe,Be[pt])&&(ft[Be[pt]]=qe[Be[pt]]);return ft};function Qe(qe){var{children:bt,property:ft,properties:Be,thing:pt,solidDataset:Qt,autosave:zt,rel:tn,target:Ht,edit:ce,loadingComponent:ve,errorComponent:Tt,onSave:Ct,onError:Ft}=qe,Zt=wt(qe,["children","property","properties","thing","solidDataset","autosave","rel","target","edit","loadingComponent","errorComponent","onSave","onError"]);const{value:nn,thing:Mn,property:$t,dataset:en,error:vn}=xe({dataset:Qt,thing:pt,property:ft,properties:Be,type:"url"});let on;!ce&&!nn&&(on=new Error("URL not found for given property"));const Ln=!Mn&&!vn,[xn]=(0,m.useState)(vn??on);if(Ln){let mn=ve&&w().createElement(ve,null)||w().createElement("span",null,"fetching data in progress");return ve===null&&(mn=null),mn}if(xn)return Tt?w().createElement(Tt,{error:xn}):w().createElement("span",null,xn.toString());const Jn=tn||(Ht==="_blank"?"noopener noreferrer":"nofollow");return ce?w().createElement(Ot,{dataType:"url",solidDataset:en,thing:Mn,property:$t,autosave:zt,onSave:Ct,onError:Ft,edit:!0}):w().createElement("a",Object.assign({href:nn,rel:Jn,target:Ht},Zt),bt??nn)}const We=({oidcIssuer:qe,redirectUrl:bt,children:ft,authOptions:Be,onError:pt})=>{const Qt=Object.assign({redirectUrl:bt,oidcIssuer:qe},Be),{login:zt,setSessionRequestInProgress:tn}=(0,m.useContext)(R);async function Ht(){tn(!0);try{await zt(Qt),tn(!1)}catch(ve){tn(!1),pt&&pt(ve)}}function ce(ve){return ve.preventDefault(),ve.key==="Enter"?Ht():Promise.resolve()}return ft?w().createElement("div",{role:"button",tabIndex:0,onClick:Ht,onKeyDown:ce},ft):w().createElement("button",{type:"button",onClick:Ht,onKeyDown:ce},"Log In")},Fe=({children:qe,onLogout:bt,onError:ft})=>{const{logout:Be}=(0,m.useContext)(R);async function pt(){try{await Be(),bt&&bt()}catch(zt){ft&&ft(zt)}}function Qt(zt){return zt.preventDefault(),zt.key==="Enter"?pt():Promise.resolve()}return qe?w().createElement("div",{role:"button",tabIndex:0,onClick:pt,onKeyDown:Qt},qe):w().createElement("button",{type:"button",onClick:pt,onKeyDown:Qt},"Log Out")};var dt=c(767);function X(qe){const{children:bt,solidDataset:ft,datasetUrl:Be,thing:pt,thingUrl:Qt,onError:zt,loadingComponent:tn}=qe;return w().createElement(W,{onError:zt,solidDataset:ft,datasetUrl:Be,loadingComponent:tn},w().createElement(K,{thing:pt,thingUrl:Qt},bt))}const j=X;var G=function(qe,bt){var ft={};for(var Be in qe)Object.prototype.hasOwnProperty.call(qe,Be)&&bt.indexOf(Be)<0&&(ft[Be]=qe[Be]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(qe);pt<Be.length;pt++)bt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(qe,Be[pt])&&(ft[Be[pt]]=qe[Be[pt]]);return ft};function H(qe){throw new Error("Can't use TableColumn outside a Table.")}function Je(qe){var{children:bt,emptyStateComponent:ft,things:Be,filter:pt,ascIndicator:Qt,descIndicator:zt,getRowProps:tn}=qe,Ht=G(qe,["children","emptyStateComponent","things","filter","ascIndicator","descIndicator","getRowProps"]);const{columns:ce,data:ve}=(0,m.useMemo)(()=>{const $t=[],en=Be.map(()=>({}));return m.Children.forEach(bt,(vn,on)=>{if(vn){const{property:Ln,header:xn,body:Jn,dataType:mn="string",locale:ln,multiple:Gt=!1,sortable:er,sortFn:Fr,filterable:pr}=vn.props;if($t.push({Header:xn??`${Ln}`,accessor:`col${on}`,disableGlobalFilter:!pr,disableSortBy:!er,Cell:Jn??(({value:Un})=>Un!=null?`${Un}`:"")}),Fr){const Un=(Cr,Hr,cn)=>{const bi=Cr.values[cn],Pr=Hr.values[cn];return Fr(bi,Pr)};$t[on].sortType=Un}else mn==="string"&&($t[on].sortType=mn),(mn==="integer"||mn==="decimal")&&($t[on].sortType="number");Be.forEach((Un,Cr)=>{en[Cr][`col${on}`]=Gt?et(mn,Un.thing,Ln,ln):_e(mn,Un.thing,Ln,ln)})}}),{columns:$t,data:en}},[bt,Be]),Tt=(0,dt.useTable)({columns:ce,data:ve,initialState:{globalFilter:pt||void 0}},dt.useGlobalFilter,dt.useSortBy),{getTableProps:Ct,getTableBodyProps:Ft,headerGroups:Zt,rows:nn,prepareRow:Mn}=Tt;return nn.length?w().createElement("table",Object.assign({},Ct(),Ht),w().createElement("thead",null,Zt.map($t=>w().createElement("tr",Object.assign({},$t.getHeaderGroupProps()),$t.headers.map(en=>w().createElement("th",Object.assign({},en.getHeaderProps(en.getSortByToggleProps())),en.render("Header"),en.isSorted&&(en.isSortedDesc?zt:Qt)))))),w().createElement("tbody",Object.assign({},Ft()),nn.map($t=>{Mn($t);const en=Be[$t.index].dataset,vn=Be[$t.index].thing;return w().createElement("tr",Object.assign({},$t.getRowProps(tn($t,vn,en))),w().createElement(j,{solidDataset:en,thing:vn},$t.cells.map(on=>w().createElement("td",Object.assign({},on.getCellProps()),on.render("Cell")))))}))):ft?w().createElement(ft,null):null}Je.defaultProps={filter:void 0,ascIndicator:w().createElement("span",{role:"img","aria-label":"Sorted in ascending order"}," ",""),descIndicator:w().createElement("span",{role:"img","aria-label":"Sorted in descending order"}," ",""),getRowProps:()=>({})};var it=function(qe,bt){var ft={};for(var Be in qe)Object.prototype.hasOwnProperty.call(qe,Be)&&bt.indexOf(Be)<0&&(ft[Be]=qe[Be]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(qe);pt<Be.length;pt++)bt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(qe,Be[pt])&&(ft[Be[pt]]=qe[Be[pt]]);return ft};function Xe(qe){var{thing:bt,solidDataset:ft,property:Be,properties:pt,saveDatasetTo:Qt,locale:zt,onSave:tn,onError:Ht,inputProps:ce,errorComponent:ve,loadingComponent:Tt,edit:Ct=!1,autosave:Ft=!1}=qe,Zt=it(qe,["thing","solidDataset","property","properties","saveDatasetTo","locale","onSave","onError","inputProps","errorComponent","loadingComponent","edit","autosave"]);const{fetch:nn}=(0,m.useContext)(R),{error:Mn,value:$t,thing:en,property:vn,dataset:on,setDataset:Ln}=xe({dataset:ft,thing:bt,property:Be,properties:pt,type:"string",locale:zt});let xn;!Ct&&!$t&&(xn=new Error("No value found for property."));const Jn=!en&&!Mn,[mn]=(0,m.useState)(Mn??xn);(0,m.useEffect)(()=>{mn&&Ht&&Ht(mn)},[mn,Ht]);const[ln,Gt]=(0,m.useState)($t),[,er]=(0,m.useState)(),[Fr,pr]=(0,m.useState)($t),Un=async Cr=>{if(Fr!==Cr.target.value&&en&&on){const Hr=Cr.target.value;let cn;zt?cn=(0,S.setStringWithLocale)(en,vn,Hr,zt):cn=(0,S.setStringNoLocale)(en,vn,Hr);try{let bi;Qt?(bi=await(0,S.saveSolidDatasetAt)(Qt,(0,S.setThing)(on,cn),{fetch:nn}),await he(Qt,Ln)):(0,S.hasResourceInfo)(on)?(bi=await(0,S.saveSolidDatasetAt)((0,S.getSourceUrl)(on),(0,S.setThing)(on,cn),{fetch:nn}),await he((0,S.getSourceUrl)(on),Ln)):er(()=>{throw new Error("Please provide saveDatasetTo location for new data")}),tn&&tn(bi,cn)}catch(bi){Ht&&Ht(bi)}}};if(Jn){let Cr=Tt&&w().createElement(Tt,null)||w().createElement("span",null,"fetching data in progress");return Tt===null&&(Cr=null),Cr}return mn?ve?w().createElement(ve,{error:mn}):w().createElement("span",null,mn.toString()):w().createElement(w().Fragment,null,!Ct&&on&&en&&w().createElement("span",Object.assign({},Zt),ln),Ct&&on&&en&&w().createElement("input",Object.assign({type:ce&&ce.type?ce.type:"text"},ce,{onFocus:Cr=>pr(Cr.target.value),onChange:Cr=>Gt(Cr.target.value),onBlur:Cr=>Ft&&Un(Cr),value:ln||""})))}var Yt=function(qe,bt){var ft={};for(var Be in qe)Object.prototype.hasOwnProperty.call(qe,Be)&&bt.indexOf(Be)<0&&(ft[Be]=qe[Be]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Be=Object.getOwnPropertySymbols(qe);pt<Be.length;pt++)bt.indexOf(Be[pt])<0&&Object.prototype.propertyIsEnumerable.call(qe,Be[pt])&&(ft[Be[pt]]=qe[Be[pt]]);return ft};function Vn(qe){var{property:bt,properties:ft,thing:Be,edit:pt,autosave:Qt,onSave:zt,onError:tn,maxSize:Ht,inputProps:ce,errorComponent:ve,loadingComponent:Tt}=qe,Ct=Yt(qe,["property","properties","thing","edit","autosave","onSave","onError","maxSize","inputProps","errorComponent","loadingComponent"]);const{fetch:Ft}=(0,m.useContext)(R),Zt=xe({thing:Be,property:bt,properties:ft,type:"url"}),{value:nn,thing:Mn,error:$t}=Zt;let en;!pt&&!nn&&(en=new Error("No value found for property."));const vn=!Mn&&!$t,[on,Ln]=(0,m.useState)($t??en);(0,m.useEffect)(()=>{on&&tn&&tn(on)},[on,tn,ve]);const[xn,Jn]=(0,m.useState)(""),{data:mn,error:ln,inProgress:Gt}=nt(nn);(0,m.useEffect)(()=>{if(Gt)return;if(ln){Ln(ln);return}const pr=mn&&URL.createObjectURL(mn);pr&&Jn(pr)},[mn,Gt,ln]);const er=async pr=>{const Un=pr.files;if(Qt&&Un&&Un.length>0&&nn){const Cr=await re(nn,Un[0],pr,Ft,Ht,zt,tn);Cr&&Jn(Cr)}};let Fr=null;if(vn||Gt){let pr=Tt&&w().createElement(Tt,null)||w().createElement("span",null,"fetching data in progress");return Tt===null&&(pr=null),pr}return on?Fr=ve?w().createElement(ve,{error:on}):w().createElement("span",null,on.toString()):nn&&(Fr=w().createElement("video",Object.assign({src:xn||nn,controls:!0},Ct))),w().createElement(w().Fragment,null,Fr,pt&&w().createElement("input",Object.assign({},ce,{type:"file",accept:"video/*",onChange:pr=>er(pr.target)})))}function Gn(){const{session:qe,sessionRequestInProgress:bt,fetch:ft,login:Be,logout:pt}=(0,m.useContext)(R);return{session:qe,sessionRequestInProgress:bt,fetch:ft,login:Be,logout:pt}}function sn(qe,bt,ft){const{dataset:Be,error:pt}=V(qe,ft),{thing:Qt}=(0,m.useContext)(Ce);return bt?Be?{thing:(0,S.getThing)(Be,bt),error:pt}:{thing:null,error:pt}:{thing:Qt||void 0,error:pt}}})(),p})())}(ky)),ky.exports}var mF=gF(),cw=function(e,t){return cw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},cw(e,t)};function zo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");cw(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Rn=function(){return Rn=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},Rn.apply(this,arguments)};function gh(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(r[i[a]]=e[i[a]]);return r}function Ks(e,t,r){if(r||arguments.length===2)for(var i=0,a=t.length,l;i<a;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))}function Vs(e,t){var r=t&&t.cache?t.cache:EF,i=t&&t.serializer?t.serializer:_F,a=t&&t.strategy?t.strategy:bF;return a(e,{cache:r,serializer:i})}function yF(e){return e==null||typeof e=="number"||typeof e=="boolean"}function vF(e,t,r,i){var a=yF(i)?i:r(i),l=t.get(a);return typeof l>"u"&&(l=e.call(this,i),t.set(a,l)),l}function uC(e,t,r){var i=Array.prototype.slice.call(arguments,3),a=r(i),l=t.get(a);return typeof l>"u"&&(l=e.apply(this,i),t.set(a,l)),l}function cC(e,t,r,i,a){return r.bind(t,e,i,a)}function bF(e,t){var r=e.length===1?vF:uC;return cC(e,this,r,t.cache.create(),t.serializer)}function wF(e,t){return cC(e,this,uC,t.cache.create(),t.serializer)}var _F=function(){return JSON.stringify(arguments)},SF=function(){function e(){this.cache=Object.create(null)}return e.prototype.get=function(t){return this.cache[t]},e.prototype.set=function(t,r){this.cache[t]=r},e}(),EF={create:function(){return new SF}},$s={variadic:wF},Nr;(function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(Nr||(Nr={}));var vi;(function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"})(vi||(vi={}));var mh;(function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"})(mh||(mh={}));function Z1(e){return e.type===vi.literal}function AF(e){return e.type===vi.argument}function fC(e){return e.type===vi.number}function dC(e){return e.type===vi.date}function hC(e){return e.type===vi.time}function pC(e){return e.type===vi.select}function gC(e){return e.type===vi.plural}function xF(e){return e.type===vi.pound}function mC(e){return e.type===vi.tag}function yC(e){return!!(e&&typeof e=="object"&&e.type===mh.number)}function fw(e){return!!(e&&typeof e=="object"&&e.type===mh.dateTime)}var vC=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,RF=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function CF(e){var t={};return e.replace(RF,function(r){var i=r.length;switch(r[0]){case"G":t.era=i===4?"long":i===5?"narrow":"short";break;case"y":t.year=i===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][i-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][i-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=i===4?"long":i===5?"narrow":"short";break;case"e":if(i<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][i-4];break;case"c":if(i<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][i-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][i-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][i-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][i-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][i-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][i-1];break;case"s":t.second=["numeric","2-digit"][i-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=i<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),t}var TF=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function OF(e){if(e.length===0)throw new Error("Number skeleton cannot be empty");for(var t=e.split(TF).filter(function(w){return w.length>0}),r=[],i=0,a=t;i<a.length;i++){var l=a[i],s=l.split("/");if(s.length===0)throw new Error("Invalid number skeleton");for(var u=s[0],d=s.slice(1),c=0,p=d;c<p.length;c++){var m=p[c];if(m.length===0)throw new Error("Invalid number skeleton")}r.push({stem:u,options:d})}return r}function IF(e){return e.replace(/^(.*?)-/,"")}var eA=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,bC=/^(@+)?(\+|#+)?[rs]?$/g,PF=/(\*)(0+)|(#+)(0+)|(0+)/g,wC=/^(0+)$/;function tA(e){var t={};return e[e.length-1]==="r"?t.roundingPriority="morePrecision":e[e.length-1]==="s"&&(t.roundingPriority="lessPrecision"),e.replace(bC,function(r,i,a){return typeof a!="string"?(t.minimumSignificantDigits=i.length,t.maximumSignificantDigits=i.length):a==="+"?t.minimumSignificantDigits=i.length:i[0]==="#"?t.maximumSignificantDigits=i.length:(t.minimumSignificantDigits=i.length,t.maximumSignificantDigits=i.length+(typeof a=="string"?a.length:0)),""}),t}function _C(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function NF(e){var t;if(e[0]==="E"&&e[1]==="E"?(t={notation:"engineering"},e=e.slice(2)):e[0]==="E"&&(t={notation:"scientific"},e=e.slice(1)),t){var r=e.slice(0,2);if(r==="+!"?(t.signDisplay="always",e=e.slice(2)):r==="+?"&&(t.signDisplay="exceptZero",e=e.slice(2)),!wC.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function nA(e){var t={},r=_C(e);return r||t}function FF(e){for(var t={},r=0,i=e;r<i.length;r++){var a=i[r];switch(a.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=a.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=IF(a.options[0]);continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=Rn(Rn(Rn({},t),{notation:"scientific"}),a.options.reduce(function(d,c){return Rn(Rn({},d),nA(c))},{}));continue;case"engineering":t=Rn(Rn(Rn({},t),{notation:"engineering"}),a.options.reduce(function(d,c){return Rn(Rn({},d),nA(c))},{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(a.options[0]);continue;case"rounding-mode-floor":t.roundingMode="floor";continue;case"rounding-mode-ceiling":t.roundingMode="ceil";continue;case"rounding-mode-down":t.roundingMode="trunc";continue;case"rounding-mode-up":t.roundingMode="expand";continue;case"rounding-mode-half-even":t.roundingMode="halfEven";continue;case"rounding-mode-half-down":t.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":t.roundingMode="halfExpand";continue;case"integer-width":if(a.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");a.options[0].replace(PF,function(d,c,p,m,w,S){if(c)t.minimumIntegerDigits=p.length;else{if(m&&w)throw new Error("We currently do not support maximum integer digits");if(S)throw new Error("We currently do not support exact integer digits")}return""});continue}if(wC.test(a.stem)){t.minimumIntegerDigits=a.stem.length;continue}if(eA.test(a.stem)){if(a.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");a.stem.replace(eA,function(d,c,p,m,w,S){return p==="*"?t.minimumFractionDigits=c.length:m&&m[0]==="#"?t.maximumFractionDigits=m.length:w&&S?(t.minimumFractionDigits=w.length,t.maximumFractionDigits=w.length+S.length):(t.minimumFractionDigits=c.length,t.maximumFractionDigits=c.length),""});var l=a.options[0];l==="w"?t=Rn(Rn({},t),{trailingZeroDisplay:"stripIfInteger"}):l&&(t=Rn(Rn({},t),tA(l)));continue}if(bC.test(a.stem)){t=Rn(Rn({},t),tA(a.stem));continue}var s=_C(a.stem);s&&(t=Rn(Rn({},t),s));var u=NF(a.stem);u&&(t=Rn(Rn({},t),u))}return t}var Ty={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"en-HK":["h","hb","H","hB"],"en-IL":["H","h","hb","hB"],"en-MY":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function DF(e,t){for(var r="",i=0;i<e.length;i++){var a=e.charAt(i);if(a==="j"){for(var l=0;i+1<e.length&&e.charAt(i+1)===a;)l++,i++;var s=1+(l&1),u=l<2?1:3+(l>>1),d="a",c=MF(t);for((c=="H"||c=="k")&&(u=0);u-- >0;)r+=d;for(;s-- >0;)r=c+r}else a==="J"?r+="H":r+=a}return r}function MF(e){var t=e.hourCycle;if(t===void 0&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var r=e.language,i;r!=="root"&&(i=e.maximize().region);var a=Ty[i||""]||Ty[r||""]||Ty["".concat(r,"-001")]||Ty["001"];return a[0]}var Cb,LF=new RegExp("^".concat(vC.source,"*")),UF=new RegExp("".concat(vC.source,"*$"));function jr(e,t){return{start:e,end:t}}var kF=!!String.prototype.startsWith&&"_a".startsWith("a",1),jF=!!String.fromCodePoint,BF=!!Object.fromEntries,HF=!!String.prototype.codePointAt,VF=!!String.prototype.trimStart,$F=!!String.prototype.trimEnd,KF=!!Number.isSafeInteger,GF=KF?Number.isSafeInteger:function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},dw=!0;try{var qF=EC("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");dw=((Cb=qF.exec("a"))===null||Cb===void 0?void 0:Cb[0])==="a"}catch{dw=!1}var rA=kF?function(t,r,i){return t.startsWith(r,i)}:function(t,r,i){return t.slice(i,i+r.length)===r},hw=jF?String.fromCodePoint:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var i="",a=t.length,l=0,s;a>l;){if(s=t[l++],s>1114111)throw RangeError(s+" is not a valid code point");i+=s<65536?String.fromCharCode(s):String.fromCharCode(((s-=65536)>>10)+55296,s%1024+56320)}return i},iA=BF?Object.fromEntries:function(t){for(var r={},i=0,a=t;i<a.length;i++){var l=a[i],s=l[0],u=l[1];r[s]=u}return r},SC=HF?function(t,r){return t.codePointAt(r)}:function(t,r){var i=t.length;if(!(r<0||r>=i)){var a=t.charCodeAt(r),l;return a<55296||a>56319||r+1===i||(l=t.charCodeAt(r+1))<56320||l>57343?a:(a-55296<<10)+(l-56320)+65536}},zF=VF?function(t){return t.trimStart()}:function(t){return t.replace(LF,"")},WF=$F?function(t){return t.trimEnd()}:function(t){return t.replace(UF,"")};function EC(e,t){return new RegExp(e,t)}var pw;if(dw){var aA=EC("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");pw=function(t,r){var i;aA.lastIndex=r;var a=aA.exec(t);return(i=a[1])!==null&&i!==void 0?i:""}}else pw=function(t,r){for(var i=[];;){var a=SC(t,r);if(a===void 0||AC(a)||QF(a))break;i.push(a),r+=a>=65536?2:1}return hw.apply(void 0,i)};var JF=function(){function e(t,r){r===void 0&&(r={}),this.message=t,this.position={offset:0,line:1,column:1},this.ignoreTag=!!r.ignoreTag,this.locale=r.locale,this.requiresOtherClause=!!r.requiresOtherClause,this.shouldParseSkeletons=!!r.shouldParseSkeletons}return e.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(t,r,i){for(var a=[];!this.isEOF();){var l=this.char();if(l===123){var s=this.parseArgument(t,i);if(s.err)return s;a.push(s.val)}else{if(l===125&&t>0)break;if(l===35&&(r==="plural"||r==="selectordinal")){var u=this.clonePosition();this.bump(),a.push({type:vi.pound,location:jr(u,this.clonePosition())})}else if(l===60&&!this.ignoreTag&&this.peek()===47){if(i)break;return this.error(Nr.UNMATCHED_CLOSING_TAG,jr(this.clonePosition(),this.clonePosition()))}else if(l===60&&!this.ignoreTag&&gw(this.peek()||0)){var s=this.parseTag(t,r);if(s.err)return s;a.push(s.val)}else{var s=this.parseLiteral(t,r);if(s.err)return s;a.push(s.val)}}}return{val:a,err:null}},e.prototype.parseTag=function(t,r){var i=this.clonePosition();this.bump();var a=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:vi.literal,value:"<".concat(a,"/>"),location:jr(i,this.clonePosition())},err:null};if(this.bumpIf(">")){var l=this.parseMessage(t+1,r,!0);if(l.err)return l;var s=l.val,u=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!gw(this.char()))return this.error(Nr.INVALID_TAG,jr(u,this.clonePosition()));var d=this.clonePosition(),c=this.parseTagName();return a!==c?this.error(Nr.UNMATCHED_CLOSING_TAG,jr(d,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:vi.tag,value:a,children:s,location:jr(i,this.clonePosition())},err:null}:this.error(Nr.INVALID_TAG,jr(u,this.clonePosition())))}else return this.error(Nr.UNCLOSED_TAG,jr(i,this.clonePosition()))}else return this.error(Nr.INVALID_TAG,jr(i,this.clonePosition()))},e.prototype.parseTagName=function(){var t=this.offset();for(this.bump();!this.isEOF()&&XF(this.char());)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(t,r){for(var i=this.clonePosition(),a="";;){var l=this.tryParseQuote(r);if(l){a+=l;continue}var s=this.tryParseUnquoted(t,r);if(s){a+=s;continue}var u=this.tryParseLeftAngleBracket();if(u){a+=u;continue}break}var d=jr(i,this.clonePosition());return{val:{type:vi.literal,value:a,location:d},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!YF(this.peek()||0))?(this.bump(),"<"):null},e.prototype.tryParseQuote=function(t){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(t==="plural"||t==="selectordinal")break;return null;default:return null}this.bump();var r=[this.char()];for(this.bump();!this.isEOF();){var i=this.char();if(i===39)if(this.peek()===39)r.push(39),this.bump();else{this.bump();break}else r.push(i);this.bump()}return hw.apply(void 0,r)},e.prototype.tryParseUnquoted=function(t,r){if(this.isEOF())return null;var i=this.char();return i===60||i===123||i===35&&(r==="plural"||r==="selectordinal")||i===125&&t>0?null:(this.bump(),hw(i))},e.prototype.parseArgument=function(t,r){var i=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Nr.EXPECT_ARGUMENT_CLOSING_BRACE,jr(i,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(Nr.EMPTY_ARGUMENT,jr(i,this.clonePosition()));var a=this.parseIdentifierIfPossible().value;if(!a)return this.error(Nr.MALFORMED_ARGUMENT,jr(i,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Nr.EXPECT_ARGUMENT_CLOSING_BRACE,jr(i,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:vi.argument,value:a,location:jr(i,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Nr.EXPECT_ARGUMENT_CLOSING_BRACE,jr(i,this.clonePosition())):this.parseArgumentOptions(t,r,a,i);default:return this.error(Nr.MALFORMED_ARGUMENT,jr(i,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var t=this.clonePosition(),r=this.offset(),i=pw(this.message,r),a=r+i.length;this.bumpTo(a);var l=this.clonePosition(),s=jr(t,l);return{value:i,location:s}},e.prototype.parseArgumentOptions=function(t,r,i,a){var l,s=this.clonePosition(),u=this.parseIdentifierIfPossible().value,d=this.clonePosition();switch(u){case"":return this.error(Nr.EXPECT_ARGUMENT_TYPE,jr(s,d));case"number":case"date":case"time":{this.bumpSpace();var c=null;if(this.bumpIf(",")){this.bumpSpace();var p=this.clonePosition(),m=this.parseSimpleArgStyleIfPossible();if(m.err)return m;var w=WF(m.val);if(w.length===0)return this.error(Nr.EXPECT_ARGUMENT_STYLE,jr(this.clonePosition(),this.clonePosition()));var S=jr(p,this.clonePosition());c={style:w,styleLocation:S}}var C=this.tryParseArgumentClose(a);if(C.err)return C;var R=jr(a,this.clonePosition());if(c&&rA(c?.style,"::",0)){var T=zF(c.style.slice(2));if(u==="number"){var m=this.parseNumberSkeletonFromString(T,c.styleLocation);return m.err?m:{val:{type:vi.number,value:i,location:R,style:m.val},err:null}}else{if(T.length===0)return this.error(Nr.EXPECT_DATE_TIME_SKELETON,R);var E=T;this.locale&&(E=DF(T,this.locale));var w={type:mh.dateTime,pattern:E,location:c.styleLocation,parsedOptions:this.shouldParseSkeletons?CF(E):{}},N=u==="date"?vi.date:vi.time;return{val:{type:N,value:i,location:R,style:w},err:null}}}return{val:{type:u==="number"?vi.number:u==="date"?vi.date:vi.time,value:i,location:R,style:(l=c?.style)!==null&&l!==void 0?l:null},err:null}}case"plural":case"selectordinal":case"select":{var O=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Nr.EXPECT_SELECT_ARGUMENT_OPTIONS,jr(O,Rn({},O)));this.bumpSpace();var V=this.parseIdentifierIfPossible(),L=0;if(u!=="select"&&V.value==="offset"){if(!this.bumpIf(":"))return this.error(Nr.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,jr(this.clonePosition(),this.clonePosition()));this.bumpSpace();var m=this.tryParseDecimalInteger(Nr.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Nr.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(m.err)return m;this.bumpSpace(),V=this.parseIdentifierIfPossible(),L=m.val}var z=this.tryParsePluralOrSelectOptions(t,u,r,V);if(z.err)return z;var C=this.tryParseArgumentClose(a);if(C.err)return C;var W=jr(a,this.clonePosition());return u==="select"?{val:{type:vi.select,value:i,options:iA(z.val),location:W},err:null}:{val:{type:vi.plural,value:i,options:iA(z.val),offset:L,pluralType:u==="plural"?"cardinal":"ordinal",location:W},err:null}}default:return this.error(Nr.INVALID_ARGUMENT_TYPE,jr(s,d))}},e.prototype.tryParseArgumentClose=function(t){return this.isEOF()||this.char()!==125?this.error(Nr.EXPECT_ARGUMENT_CLOSING_BRACE,jr(t,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var t=0,r=this.clonePosition();!this.isEOF();){var i=this.char();switch(i){case 39:{this.bump();var a=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Nr.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,jr(a,this.clonePosition()));this.bump();break}case 123:{t+=1,this.bump();break}case 125:{if(t>0)t-=1;else return{val:this.message.slice(r.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(r.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(t,r){var i=[];try{i=OF(t)}catch{return this.error(Nr.INVALID_NUMBER_SKELETON,r)}return{val:{type:mh.number,tokens:i,location:r,parsedOptions:this.shouldParseSkeletons?FF(i):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(t,r,i,a){for(var l,s=!1,u=[],d=new Set,c=a.value,p=a.location;;){if(c.length===0){var m=this.clonePosition();if(r!=="select"&&this.bumpIf("=")){var w=this.tryParseDecimalInteger(Nr.EXPECT_PLURAL_ARGUMENT_SELECTOR,Nr.INVALID_PLURAL_ARGUMENT_SELECTOR);if(w.err)return w;p=jr(m,this.clonePosition()),c=this.message.slice(m.offset,this.offset())}else break}if(d.has(c))return this.error(r==="select"?Nr.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Nr.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,p);c==="other"&&(s=!0),this.bumpSpace();var S=this.clonePosition();if(!this.bumpIf("{"))return this.error(r==="select"?Nr.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Nr.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,jr(this.clonePosition(),this.clonePosition()));var C=this.parseMessage(t+1,r,i);if(C.err)return C;var R=this.tryParseArgumentClose(S);if(R.err)return R;u.push([c,{value:C.val,location:jr(S,this.clonePosition())}]),d.add(c),this.bumpSpace(),l=this.parseIdentifierIfPossible(),c=l.value,p=l.location}return u.length===0?this.error(r==="select"?Nr.EXPECT_SELECT_ARGUMENT_SELECTOR:Nr.EXPECT_PLURAL_ARGUMENT_SELECTOR,jr(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(Nr.MISSING_OTHER_CLAUSE,jr(this.clonePosition(),this.clonePosition())):{val:u,err:null}},e.prototype.tryParseDecimalInteger=function(t,r){var i=1,a=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(i=-1);for(var l=!1,s=0;!this.isEOF();){var u=this.char();if(u>=48&&u<=57)l=!0,s=s*10+(u-48),this.bump();else break}var d=jr(a,this.clonePosition());return l?(s*=i,GF(s)?{val:s,err:null}:this.error(r,d)):this.error(t,d)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var t=this.position.offset;if(t>=this.message.length)throw Error("out of bound");var r=SC(this.message,t);if(r===void 0)throw Error("Offset ".concat(t," is at invalid UTF-16 code unit boundary"));return r},e.prototype.error=function(t,r){return{val:null,err:{kind:t,message:this.message,location:r}}},e.prototype.bump=function(){if(!this.isEOF()){var t=this.char();t===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=t<65536?1:2)}},e.prototype.bumpIf=function(t){if(rA(this.message,t,this.offset())){for(var r=0;r<t.length;r++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(t){var r=this.offset(),i=this.message.indexOf(t,r);return i>=0?(this.bumpTo(i),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(t){if(this.offset()>t)throw Error("targetOffset ".concat(t," must be greater than or equal to the current offset ").concat(this.offset()));for(t=Math.min(t,this.message.length);;){var r=this.offset();if(r===t)break;if(r>t)throw Error("targetOffset ".concat(t," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&AC(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var t=this.char(),r=this.offset(),i=this.message.charCodeAt(r+(t>=65536?2:1));return i??null},e}();function gw(e){return e>=97&&e<=122||e>=65&&e<=90}function YF(e){return gw(e)||e===47}function XF(e){return e===45||e===46||e>=48&&e<=57||e===95||e>=97&&e<=122||e>=65&&e<=90||e==183||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function AC(e){return e>=9&&e<=13||e===32||e===133||e>=8206&&e<=8207||e===8232||e===8233}function QF(e){return e>=33&&e<=35||e===36||e>=37&&e<=39||e===40||e===41||e===42||e===43||e===44||e===45||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||e===91||e===92||e===93||e===94||e===96||e===123||e===124||e===125||e===126||e===161||e>=162&&e<=165||e===166||e===167||e===169||e===171||e===172||e===174||e===176||e===177||e===182||e===187||e===191||e===215||e===247||e>=8208&&e<=8213||e>=8214&&e<=8215||e===8216||e===8217||e===8218||e>=8219&&e<=8220||e===8221||e===8222||e===8223||e>=8224&&e<=8231||e>=8240&&e<=8248||e===8249||e===8250||e>=8251&&e<=8254||e>=8257&&e<=8259||e===8260||e===8261||e===8262||e>=8263&&e<=8273||e===8274||e===8275||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||e===8608||e>=8609&&e<=8610||e===8611||e>=8612&&e<=8613||e===8614||e>=8615&&e<=8621||e===8622||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||e===8658||e===8659||e===8660||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||e===8968||e===8969||e===8970||e===8971||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||e===9001||e===9002||e>=9003&&e<=9083||e===9084||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||e===9655||e>=9656&&e<=9664||e===9665||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||e===9839||e>=9840&&e<=10087||e===10088||e===10089||e===10090||e===10091||e===10092||e===10093||e===10094||e===10095||e===10096||e===10097||e===10098||e===10099||e===10100||e===10101||e>=10132&&e<=10175||e>=10176&&e<=10180||e===10181||e===10182||e>=10183&&e<=10213||e===10214||e===10215||e===10216||e===10217||e===10218||e===10219||e===10220||e===10221||e===10222||e===10223||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||e===10627||e===10628||e===10629||e===10630||e===10631||e===10632||e===10633||e===10634||e===10635||e===10636||e===10637||e===10638||e===10639||e===10640||e===10641||e===10642||e===10643||e===10644||e===10645||e===10646||e===10647||e===10648||e>=10649&&e<=10711||e===10712||e===10713||e===10714||e===10715||e>=10716&&e<=10747||e===10748||e===10749||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||e===11158||e>=11159&&e<=11263||e>=11776&&e<=11777||e===11778||e===11779||e===11780||e===11781||e>=11782&&e<=11784||e===11785||e===11786||e===11787||e===11788||e===11789||e>=11790&&e<=11798||e===11799||e>=11800&&e<=11801||e===11802||e===11803||e===11804||e===11805||e>=11806&&e<=11807||e===11808||e===11809||e===11810||e===11811||e===11812||e===11813||e===11814||e===11815||e===11816||e===11817||e>=11818&&e<=11822||e===11823||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||e===11840||e===11841||e===11842||e>=11843&&e<=11855||e>=11856&&e<=11857||e===11858||e>=11859&&e<=11903||e>=12289&&e<=12291||e===12296||e===12297||e===12298||e===12299||e===12300||e===12301||e===12302||e===12303||e===12304||e===12305||e>=12306&&e<=12307||e===12308||e===12309||e===12310||e===12311||e===12312||e===12313||e===12314||e===12315||e===12316||e===12317||e>=12318&&e<=12319||e===12320||e===12336||e===64830||e===64831||e>=65093&&e<=65094}function mw(e){e.forEach(function(t){if(delete t.location,pC(t)||gC(t))for(var r in t.options)delete t.options[r].location,mw(t.options[r].value);else fC(t)&&yC(t.style)||(dC(t)||hC(t))&&fw(t.style)?delete t.style.location:mC(t)&&mw(t.children)})}function ZF(e,t){t===void 0&&(t={}),t=Rn({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var r=new JF(e,t).parse();if(r.err){var i=SyntaxError(Nr[r.err.kind]);throw i.location=r.err.location,i.originalMessage=r.err.message,i}return t?.captureLocation||mw(r.val),r.val}var Ys;(function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"})(Ys||(Ys={}));var mc=function(e){zo(t,e);function t(r,i,a){var l=e.call(this,r)||this;return l.code=i,l.originalMessage=a,l}return t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),oA=function(e){zo(t,e);function t(r,i,a,l){return e.call(this,'Invalid values for "'.concat(r,'": "').concat(i,'". Options are "').concat(Object.keys(a).join('", "'),'"'),Ys.INVALID_VALUE,l)||this}return t}(mc),eD=function(e){zo(t,e);function t(r,i,a){return e.call(this,'Value for "'.concat(r,'" must be of type ').concat(i),Ys.INVALID_VALUE,a)||this}return t}(mc),tD=function(e){zo(t,e);function t(r,i){return e.call(this,'The intl string context variable "'.concat(r,'" was not provided to the string "').concat(i,'"'),Ys.MISSING_VALUE,i)||this}return t}(mc),La;(function(e){e[e.literal=0]="literal",e[e.object=1]="object"})(La||(La={}));function nD(e){return e.length<2?e:e.reduce(function(t,r){var i=t[t.length-1];return!i||i.type!==La.literal||r.type!==La.literal?t.push(r):i.value+=r.value,t},[])}function xC(e){return typeof e=="function"}function $y(e,t,r,i,a,l,s){if(e.length===1&&Z1(e[0]))return[{type:La.literal,value:e[0].value}];for(var u=[],d=0,c=e;d<c.length;d++){var p=c[d];if(Z1(p)){u.push({type:La.literal,value:p.value});continue}if(xF(p)){typeof l=="number"&&u.push({type:La.literal,value:r.getNumberFormat(t).format(l)});continue}var m=p.value;if(!(a&&m in a))throw new tD(m,s);var w=a[m];if(AF(p)){(!w||typeof w=="string"||typeof w=="number")&&(w=typeof w=="string"||typeof w=="number"?String(w):""),u.push({type:typeof w=="string"?La.literal:La.object,value:w});continue}if(dC(p)){var S=typeof p.style=="string"?i.date[p.style]:fw(p.style)?p.style.parsedOptions:void 0;u.push({type:La.literal,value:r.getDateTimeFormat(t,S).format(w)});continue}if(hC(p)){var S=typeof p.style=="string"?i.time[p.style]:fw(p.style)?p.style.parsedOptions:i.time.medium;u.push({type:La.literal,value:r.getDateTimeFormat(t,S).format(w)});continue}if(fC(p)){var S=typeof p.style=="string"?i.number[p.style]:yC(p.style)?p.style.parsedOptions:void 0;S&&S.scale&&(w=w*(S.scale||1)),u.push({type:La.literal,value:r.getNumberFormat(t,S).format(w)});continue}if(mC(p)){var C=p.children,R=p.value,T=a[R];if(!xC(T))throw new eD(R,"function",s);var E=$y(C,t,r,i,a,l),N=T(E.map(function(L){return L.value}));Array.isArray(N)||(N=[N]),u.push.apply(u,N.map(function(L){return{type:typeof L=="string"?La.literal:La.object,value:L}}))}if(pC(p)){var O=p.options[w]||p.options.other;if(!O)throw new oA(p.value,w,Object.keys(p.options),s);u.push.apply(u,$y(O.value,t,r,i,a));continue}if(gC(p)){var O=p.options["=".concat(w)];if(!O){if(!Intl.PluralRules)throw new mc(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Ys.MISSING_INTL_API,s);var V=r.getPluralRules(t,{type:p.pluralType}).select(w-(p.offset||0));O=p.options[V]||p.options.other}if(!O)throw new oA(p.value,w,Object.keys(p.options),s);u.push.apply(u,$y(O.value,t,r,i,a,w-(p.offset||0)));continue}}return nD(u)}function rD(e,t){return t?Rn(Rn(Rn({},e||{}),t||{}),Object.keys(e).reduce(function(r,i){return r[i]=Rn(Rn({},e[i]),t[i]||{}),r},{})):e}function iD(e,t){return t?Object.keys(e).reduce(function(r,i){return r[i]=rD(e[i],t[i]),r},Rn({},e)):e}function Tb(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}function aD(e){return e===void 0&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Vs(function(){for(var t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new((t=Intl.NumberFormat).bind.apply(t,Ks([void 0],r,!1)))},{cache:Tb(e.number),strategy:$s.variadic}),getDateTimeFormat:Vs(function(){for(var t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new((t=Intl.DateTimeFormat).bind.apply(t,Ks([void 0],r,!1)))},{cache:Tb(e.dateTime),strategy:$s.variadic}),getPluralRules:Vs(function(){for(var t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new((t=Intl.PluralRules).bind.apply(t,Ks([void 0],r,!1)))},{cache:Tb(e.pluralRules),strategy:$s.variadic})}}var RC=function(){function e(t,r,i,a){r===void 0&&(r=e.defaultLocale);var l=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(d){var c=l.formatToParts(d);if(c.length===1)return c[0].value;var p=c.reduce(function(m,w){return!m.length||w.type!==La.literal||typeof m[m.length-1]!="string"?m.push(w.value):m[m.length-1]+=w.value,m},[]);return p.length<=1?p[0]||"":p},this.formatToParts=function(d){return $y(l.ast,l.locales,l.formatters,l.formats,d,void 0,l.message)},this.resolvedOptions=function(){var d;return{locale:((d=l.resolvedLocale)===null||d===void 0?void 0:d.toString())||Intl.NumberFormat.supportedLocalesOf(l.locales)[0]}},this.getAst=function(){return l.ast},this.locales=r,this.resolvedLocale=e.resolveLocale(r),typeof t=="string"){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var s=a||{};s.formatters;var u=gh(s,["formatters"]);this.ast=e.__parse(t,Rn(Rn({},u),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=iD(e.formats,i),this.formatters=a&&a.formatters||aD(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(t){if(!(typeof Intl.Locale>"u")){var r=Intl.NumberFormat.supportedLocalesOf(t);return r.length>0?new Intl.Locale(r[0]):new Intl.Locale(typeof t=="string"?t:t[0])}},e.__parse=ZF,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}(),Kf;(function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"})(Kf||(Kf={}));var vm=function(e){zo(t,e);function t(r,i,a){var l=this,s=a?a instanceof Error?a:new Error(String(a)):void 0;return l=e.call(this,"[@formatjs/intl Error ".concat(r,"] ").concat(i,`
`).concat(s?`
`.concat(s.message,`
`).concat(s.stack):""))||this,l.code=r,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(l,t),l}return t}(Error),oD=function(e){zo(t,e);function t(r,i){return e.call(this,Kf.UNSUPPORTED_FORMATTER,r,i)||this}return t}(vm),sD=function(e){zo(t,e);function t(r,i){return e.call(this,Kf.INVALID_CONFIG,r,i)||this}return t}(vm),sA=function(e){zo(t,e);function t(r,i){return e.call(this,Kf.MISSING_DATA,r,i)||this}return t}(vm),Wo=function(e){zo(t,e);function t(r,i,a){var l=e.call(this,Kf.FORMAT_ERROR,"".concat(r,`
Locale: `).concat(i,`
`),a)||this;return l.locale=i,l}return t}(vm),Ob=function(e){zo(t,e);function t(r,i,a,l){var s=e.call(this,"".concat(r,`
MessageID: `).concat(a?.id,`
Default Message: `).concat(a?.defaultMessage,`
Description: `).concat(a?.description,`
`),i,l)||this;return s.descriptor=a,s.locale=i,s}return t}(Wo),lD=function(e){zo(t,e);function t(r,i){var a=e.call(this,Kf.MISSING_TRANSLATION,'Missing message: "'.concat(r.id,'" for locale "').concat(i,'", using ').concat(r.defaultMessage?"default message (".concat(typeof r.defaultMessage=="string"?r.defaultMessage:r.defaultMessage.map(function(l){var s;return(s=l.value)!==null&&s!==void 0?s:JSON.stringify(l)}).join(),")"):"id"," as fallback."))||this;return a.descriptor=r,a}return t}(vm);function uD(e,t,r){if(r===void 0&&(r=Error),!e)throw new r(t)}function wh(e,t,r){return r===void 0&&(r={}),t.reduce(function(i,a){return a in e?i[a]=e[a]:a in r&&(i[a]=r[a]),i},{})}var cD=function(e){},fD=function(e){},CC={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:cD,onWarn:fD};function TC(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function Lf(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}function dD(e){e===void 0&&(e=TC());var t=Intl.RelativeTimeFormat,r=Intl.ListFormat,i=Intl.DisplayNames,a=Vs(function(){for(var u,d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];return new((u=Intl.DateTimeFormat).bind.apply(u,Ks([void 0],d,!1)))},{cache:Lf(e.dateTime),strategy:$s.variadic}),l=Vs(function(){for(var u,d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];return new((u=Intl.NumberFormat).bind.apply(u,Ks([void 0],d,!1)))},{cache:Lf(e.number),strategy:$s.variadic}),s=Vs(function(){for(var u,d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];return new((u=Intl.PluralRules).bind.apply(u,Ks([void 0],d,!1)))},{cache:Lf(e.pluralRules),strategy:$s.variadic});return{getDateTimeFormat:a,getNumberFormat:l,getMessageFormat:Vs(function(u,d,c,p){return new RC(u,d,c,Rn({formatters:{getNumberFormat:l,getDateTimeFormat:a,getPluralRules:s}},p||{}))},{cache:Lf(e.message),strategy:$s.variadic}),getRelativeTimeFormat:Vs(function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return new(t.bind.apply(t,Ks([void 0],u,!1)))},{cache:Lf(e.relativeTime),strategy:$s.variadic}),getPluralRules:s,getListFormat:Vs(function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return new(r.bind.apply(r,Ks([void 0],u,!1)))},{cache:Lf(e.list),strategy:$s.variadic}),getDisplayNames:Vs(function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return new(i.bind.apply(i,Ks([void 0],u,!1)))},{cache:Lf(e.displayNames),strategy:$s.variadic})}}function p_(e,t,r,i){var a=e&&e[t],l;if(a&&(l=a[r]),l)return l;i(new oD("No ".concat(t," format named: ").concat(r)))}function Oy(e,t){return Object.keys(e).reduce(function(r,i){return r[i]=Rn({timeZone:t},e[i]),r},{})}function lA(e,t){var r=Object.keys(Rn(Rn({},e),t));return r.reduce(function(i,a){return i[a]=Rn(Rn({},e[a]||{}),t[a]||{}),i},{})}function uA(e,t){if(!t)return e;var r=RC.formats;return Rn(Rn(Rn({},r),e),{date:lA(Oy(r.date,t),Oy(e.date||{},t)),time:lA(Oy(r.time,t),Oy(e.time||{},t))})}var yw=function(e,t,r,i,a){var l=e.locale,s=e.formats,u=e.messages,d=e.defaultLocale,c=e.defaultFormats,p=e.fallbackOnEmptyString,m=e.onError,w=e.timeZone,S=e.defaultRichTextElements;r===void 0&&(r={id:""});var C=r.id,R=r.defaultMessage;uD(!!C,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.github.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.github.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.github.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var T=String(C),E=u&&Object.prototype.hasOwnProperty.call(u,T)&&u[T];if(Array.isArray(E)&&E.length===1&&E[0].type===vi.literal)return E[0].value;if(!i&&E&&typeof E=="string"&&!S)return E.replace(/'\{(.*?)\}'/gi,"{$1}");if(i=Rn(Rn({},S),i||{}),s=uA(s,w),c=uA(c,w),!E){if(p===!1&&E==="")return E;if((!R||l&&l.toLowerCase()!==d.toLowerCase())&&m(new lD(r,l)),R)try{var N=t.getMessageFormat(R,d,c,a);return N.format(i)}catch(O){return m(new Ob('Error formatting default message for: "'.concat(T,'", rendering default message verbatim'),l,r,O)),typeof R=="string"?R:T}return T}try{var N=t.getMessageFormat(E,l,s,Rn({formatters:t},a||{}));return N.format(i)}catch(O){m(new Ob('Error formatting message: "'.concat(T,'", using ').concat(R?"default message":"id"," as fallback."),l,r,O))}if(R)try{var N=t.getMessageFormat(R,d,c,a);return N.format(i)}catch(O){m(new Ob('Error formatting the default message for: "'.concat(T,'", rendering message verbatim'),l,r,O))}return typeof E=="string"?E:typeof R=="string"?R:T},hD=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function bm(e,t,r,i){var a=e.locale,l=e.formats,s=e.onError,u=e.timeZone;i===void 0&&(i={});var d=i.format,c=Rn(Rn({},u&&{timeZone:u}),d&&p_(l,t,d,s)),p=wh(i,hD,c);return t==="time"&&!p.hour&&!p.minute&&!p.second&&!p.timeStyle&&!p.dateStyle&&(p=Rn(Rn({},p),{hour:"numeric",minute:"numeric"})),r(a,p)}function pD(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=r[0],l=r[1],s=l===void 0?{}:l,u=typeof a=="string"?new Date(a||0):a;try{return bm(e,"date",t,s).format(u)}catch(d){e.onError(new Wo("Error formatting date.",e.locale,d))}return String(u)}function gD(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=r[0],l=r[1],s=l===void 0?{}:l,u=typeof a=="string"?new Date(a||0):a;try{return bm(e,"time",t,s).format(u)}catch(d){e.onError(new Wo("Error formatting time.",e.locale,d))}return String(u)}function mD(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=r[0],l=r[1],s=r[2],u=s===void 0?{}:s,d=typeof a=="string"?new Date(a||0):a,c=typeof l=="string"?new Date(l||0):l;try{return bm(e,"dateTimeRange",t,u).formatRange(d,c)}catch(p){e.onError(new Wo("Error formatting date time range.",e.locale,p))}return String(d)}function yD(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=r[0],l=r[1],s=l===void 0?{}:l,u=typeof a=="string"?new Date(a||0):a;try{return bm(e,"date",t,s).formatToParts(u)}catch(d){e.onError(new Wo("Error formatting date.",e.locale,d))}return[]}function vD(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=r[0],l=r[1],s=l===void 0?{}:l,u=typeof a=="string"?new Date(a||0):a;try{return bm(e,"time",t,s).formatToParts(u)}catch(d){e.onError(new Wo("Error formatting time.",e.locale,d))}return[]}var bD=["style","type","fallback","languageDisplay"];function wD(e,t,r,i){var a=e.locale,l=e.onError,s=Intl.DisplayNames;s||l(new mc(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,Ys.MISSING_INTL_API));var u=wh(i,bD);try{return t(a,u).of(r)}catch(d){l(new Wo("Error formatting display name.",a,d))}}var _D=["type","style"],cA=Date.now();function SD(e){return"".concat(cA,"_").concat(e,"_").concat(cA)}function ED(e,t,r,i){i===void 0&&(i={});var a=OC(e,t,r,i).reduce(function(l,s){var u=s.value;return typeof u!="string"?l.push(u):typeof l[l.length-1]=="string"?l[l.length-1]+=u:l.push(u),l},[]);return a.length===1?a[0]:a.length===0?"":a}function OC(e,t,r,i){var a=e.locale,l=e.onError;i===void 0&&(i={});var s=Intl.ListFormat;s||l(new mc(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,Ys.MISSING_INTL_API));var u=wh(i,_D);try{var d={},c=r.map(function(p,m){if(typeof p=="object"){var w=SD(m);return d[w]=p,w}return String(p)});return t(a,u).formatToParts(c).map(function(p){return p.type==="literal"?p:Rn(Rn({},p),{value:d[p.value]||p.value})})}catch(p){l(new Wo("Error formatting list.",a,p))}return r}var AD=["type"];function xD(e,t,r,i){var a=e.locale,l=e.onError;i===void 0&&(i={}),Intl.PluralRules||l(new mc(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Ys.MISSING_INTL_API));var s=wh(i,AD);try{return t(a,s).select(r)}catch(u){l(new Wo("Error formatting plural.",a,u))}return"other"}var RD=["numeric","style"];function CD(e,t,r){var i=e.locale,a=e.formats,l=e.onError;r===void 0&&(r={});var s=r.format,u=!!s&&p_(a,"relative",s,l)||{},d=wh(r,RD,u);return t(i,d)}function TD(e,t,r,i,a){a===void 0&&(a={}),i||(i="second");var l=Intl.RelativeTimeFormat;l||e.onError(new mc(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,Ys.MISSING_INTL_API));try{return CD(e,t,a).format(r,i)}catch(s){e.onError(new Wo("Error formatting relative time.",e.locale,s))}return String(r)}var OD=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function IC(e,t,r){var i=e.locale,a=e.formats,l=e.onError;r===void 0&&(r={});var s=r.format,u=s&&p_(a,"number",s,l)||{},d=wh(r,OD,u);return t(i,d)}function ID(e,t,r,i){i===void 0&&(i={});try{return IC(e,t,i).format(r)}catch(a){e.onError(new Wo("Error formatting number.",e.locale,a))}return String(r)}function PD(e,t,r,i){i===void 0&&(i={});try{return IC(e,t,i).formatToParts(r)}catch(a){e.onError(new Wo("Error formatting number.",e.locale,a))}return[]}function ND(e){var t=e?e[Object.keys(e)[0]]:void 0;return typeof t=="string"}function FD(e){e.onWarn&&e.defaultRichTextElements&&ND(e.messages||{})&&e.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.github.io/docs/getting-started/message-distribution`)}function DD(e,t){var r=dD(t),i=Rn(Rn({},CC),e),a=i.locale,l=i.defaultLocale,s=i.onError;return a?!Intl.NumberFormat.supportedLocalesOf(a).length&&s?s(new sA('Missing locale data for locale: "'.concat(a,'" in Intl.NumberFormat. Using default locale: "').concat(l,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(a).length&&s&&s(new sA('Missing locale data for locale: "'.concat(a,'" in Intl.DateTimeFormat. Using default locale: "').concat(l,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):(s&&s(new sD('"locale" was not configured, using "'.concat(l,'" as fallback. See https://formatjs.github.io/docs/react-intl/api#intlshape for more details'))),i.locale=i.defaultLocale||"en"),FD(i),Rn(Rn({},i),{formatters:r,formatNumber:ID.bind(null,i,r.getNumberFormat),formatNumberToParts:PD.bind(null,i,r.getNumberFormat),formatRelativeTime:TD.bind(null,i,r.getRelativeTimeFormat),formatDate:pD.bind(null,i,r.getDateTimeFormat),formatDateToParts:yD.bind(null,i,r.getDateTimeFormat),formatTime:gD.bind(null,i,r.getDateTimeFormat),formatDateTimeRange:mD.bind(null,i,r.getDateTimeFormat),formatTimeToParts:vD.bind(null,i,r.getDateTimeFormat),formatPlural:xD.bind(null,i,r.getPluralRules),formatMessage:yw.bind(null,i,r),$t:yw.bind(null,i,r),formatList:ED.bind(null,i,r.getListFormat),formatListToParts:OC.bind(null,i,r.getListFormat),formatDisplayName:wD.bind(null,i,r.getDisplayNames)})}function MD(e,t,r){if(r===void 0&&(r=Error),!e)throw new r(t)}function PC(e){MD(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var NC=Rn(Rn({},CC),{textComponent:ie.Fragment}),LD={key:42},UD=function(e){return ie.isValidElement(e)?ie.createElement(ie.Fragment,LD,e):e},kD=function(e){var t;return(t=ie.Children.map(e,UD))!==null&&t!==void 0?t:[]};function jD(e){return function(t){return e(ie.Children.toArray(t))}}function vw(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=Object.keys(e),i=Object.keys(t),a=r.length;if(i.length!==a)return!1;for(var l=0;l<a;l++){var s=r[l];if(e[s]!==t[s]||!Object.prototype.hasOwnProperty.call(t,s))return!1}return!0}var Ib={exports:{}},Zr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA;function BD(){if(fA)return Zr;fA=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,i=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,l=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,p=e?Symbol.for("react.forward_ref"):60112,m=e?Symbol.for("react.suspense"):60113,w=e?Symbol.for("react.suspense_list"):60120,S=e?Symbol.for("react.memo"):60115,C=e?Symbol.for("react.lazy"):60116,R=e?Symbol.for("react.block"):60121,T=e?Symbol.for("react.fundamental"):60117,E=e?Symbol.for("react.responder"):60118,N=e?Symbol.for("react.scope"):60119;function O(L){if(typeof L=="object"&&L!==null){var z=L.$$typeof;switch(z){case t:switch(L=L.type,L){case d:case c:case i:case l:case a:case m:return L;default:switch(L=L&&L.$$typeof,L){case u:case p:case C:case S:case s:return L;default:return z}}case r:return z}}}function V(L){return O(L)===c}return Zr.AsyncMode=d,Zr.ConcurrentMode=c,Zr.ContextConsumer=u,Zr.ContextProvider=s,Zr.Element=t,Zr.ForwardRef=p,Zr.Fragment=i,Zr.Lazy=C,Zr.Memo=S,Zr.Portal=r,Zr.Profiler=l,Zr.StrictMode=a,Zr.Suspense=m,Zr.isAsyncMode=function(L){return V(L)||O(L)===d},Zr.isConcurrentMode=V,Zr.isContextConsumer=function(L){return O(L)===u},Zr.isContextProvider=function(L){return O(L)===s},Zr.isElement=function(L){return typeof L=="object"&&L!==null&&L.$$typeof===t},Zr.isForwardRef=function(L){return O(L)===p},Zr.isFragment=function(L){return O(L)===i},Zr.isLazy=function(L){return O(L)===C},Zr.isMemo=function(L){return O(L)===S},Zr.isPortal=function(L){return O(L)===r},Zr.isProfiler=function(L){return O(L)===l},Zr.isStrictMode=function(L){return O(L)===a},Zr.isSuspense=function(L){return O(L)===m},Zr.isValidElementType=function(L){return typeof L=="string"||typeof L=="function"||L===i||L===c||L===l||L===a||L===m||L===w||typeof L=="object"&&L!==null&&(L.$$typeof===C||L.$$typeof===S||L.$$typeof===s||L.$$typeof===u||L.$$typeof===p||L.$$typeof===T||L.$$typeof===E||L.$$typeof===N||L.$$typeof===R)},Zr.typeOf=O,Zr}var dA;function HD(){return dA||(dA=1,Ib.exports=BD()),Ib.exports}var Pb,hA;function VD(){if(hA)return Pb;hA=1;var e=HD(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[e.ForwardRef]=i,l[e.Memo]=a;function s(C){return e.isMemo(C)?a:l[C.$$typeof]||t}var u=Object.defineProperty,d=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,w=Object.prototype;function S(C,R,T){if(typeof R!="string"){if(w){var E=m(R);E&&E!==w&&S(C,E,T)}var N=d(R);c&&(N=N.concat(c(R)));for(var O=s(C),V=s(R),L=0;L<N.length;++L){var z=N[L];if(!r[z]&&!(T&&T[z])&&!(V&&V[z])&&!(O&&O[z])){var W=p(R,z);try{u(C,z,W)}catch{}}}}return C}return Pb=S,Pb}VD();var g_=typeof window<"u"&&!window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=ie.createContext(null)):ie.createContext(null);g_.Consumer;var $D=g_.Provider,KD=$D,GD=g_;function Jf(){var e=ie.useContext(GD);return PC(e),e}var bw;(function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"})(bw||(bw={}));var ww;(function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"})(ww||(ww={}));function FC(e){var t=function(r){var i=Jf(),a=r.value,l=r.children,s=gh(r,["value","children"]),u=typeof a=="string"?new Date(a||0):a,d=e==="formatDate"?i.formatDateToParts(u,s):i.formatTimeToParts(u,s);return l(d)};return t.displayName=ww[e],t}function wm(e){var t=function(r){var i=Jf(),a=r.value,l=r.children,s=gh(r,["value","children"]),u=i[e](a,s);if(typeof l=="function")return l(u);var d=i.textComponent||ie.Fragment;return ie.createElement(d,null,u)};return t.displayName=bw[e],t}function DC(e){return e&&Object.keys(e).reduce(function(t,r){var i=e[r];return t[r]=xC(i)?jD(i):i,t},{})}var pA=function(e,t,r,i){for(var a=[],l=4;l<arguments.length;l++)a[l-4]=arguments[l];var s=DC(i),u=yw.apply(void 0,Ks([e,t,r,s],a,!1));return Array.isArray(u)?kD(u):u},gA=function(e,t){var r=e.defaultRichTextElements,i=gh(e,["defaultRichTextElements"]),a=DC(r),l=DD(Rn(Rn(Rn({},NC),i),{defaultRichTextElements:a}),t),s={locale:l.locale,timeZone:l.timeZone,fallbackOnEmptyString:l.fallbackOnEmptyString,formats:l.formats,defaultLocale:l.defaultLocale,defaultFormats:l.defaultFormats,messages:l.messages,onError:l.onError,defaultRichTextElements:a};return Rn(Rn({},l),{formatMessage:pA.bind(null,s,l.formatters),$t:pA.bind(null,s,l.formatters)})};function qD(e,t){var r=e.values,i=gh(e,["values"]),a=t.values,l=gh(t,["values"]);return vw(a,r)&&vw(i,l)}function MC(e){var t=Jf(),r=t.formatMessage,i=t.textComponent,a=i===void 0?ie.Fragment:i,l=e.id,s=e.description,u=e.defaultMessage,d=e.values,c=e.children,p=e.tagName,m=p===void 0?a:p,w=e.ignoreTag,S={id:l,description:s,defaultMessage:u},C=r(S,d,{ignoreTag:w});return typeof c=="function"?c(Array.isArray(C)?C:[C]):m?ie.createElement(m,null,C):ie.createElement(ie.Fragment,null,C)}MC.displayName="FormattedMessage";var ui=ie.memo(MC,qD);ui.displayName="MemoizedFormattedMessage";function Nb(e){return{locale:e.locale,timeZone:e.timeZone,fallbackOnEmptyString:e.fallbackOnEmptyString,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError,onWarn:e.onWarn,wrapRichTextChunksInFragment:e.wrapRichTextChunksInFragment,defaultRichTextElements:e.defaultRichTextElements}}var zD=function(e){zo(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.cache=TC(),r.state={cache:r.cache,intl:gA(Nb(r.props),r.cache),prevConfig:Nb(r.props)},r}return t.getDerivedStateFromProps=function(r,i){var a=i.prevConfig,l=i.cache,s=Nb(r);return vw(a,s)?null:{intl:gA(s,l),prevConfig:s}},t.prototype.render=function(){return PC(this.state.intl),ie.createElement(KD,{value:this.state.intl},this.props.children)},t.displayName="IntlProvider",t.defaultProps=NC,t}(ie.PureComponent);wm("formatDate");wm("formatTime");wm("formatNumber");wm("formatList");wm("formatDisplayName");FC("formatDate");FC("formatTime");const WD=ds.createContext({selectedLanguage:"",setSelectedLanguage:()=>{}}),JD={manageYourProfileLoginScreenHeading:"Spravujte svoje jedlne preferencie",selectSignInMethod:"Vyberte spsob prihlsenia",signInWithSolid:"Solid",whatIsSolid:"o je to Solid?",signInDivider:"alebo",signInWithFacebook:"Facebook",signInWithGoogle:"Google",redirectToProvider:"Prejs na poskytovatea",welcomeToTheApplication:"Vitajte v editore vho ditneho profilu!",aboutTheApplication:"O aplikcii",sourceCode:"Zdrojov kd",createdBy:"Vytvoril",editProfile:"Upravi profil",importProfile:"Importova profil",downloadProfile:"Stiahnu profil",userManual:"Pouvatesk prruka",signOut:"Odhlsi sa",allergicTo:"Ste alergick na: ",diets:"Dity",onDiets:"Vae dity s: ",tastePreferencesHeading:"Preferencie chut",worldCuisines:"Obben svetov kuchyne",tasteOfDesserts:"Preferovan chu zkuskov",tasteSpiciness:"rove tipavosti",whatAreYouAllergicTo:"Na o mte alergiu?",nextStep:"al krok: ",saveProfile:"Uloi profil",whichDietsAreYouOn:"Ktor dity dodriavate?",showLessDietOptions:"Zobrazi menej monost",showMoreDietOptions:"Zobrazi viac monost",isYourDietNotListed:"Chba vaa dita v zozname?",searchForMoreDiets:"Hada alie dity...",specifyYourTastePreferences:"pecifikujte vae chuov preferencie",whichWorldCuisinesDoYouLike:"Ktor svetov kuchyne mte radi?",loadingData:"Natavam dta",searchForMoreWorldCuisines:"Hada alie svetov kuchyne...",whichTasteOfDessertsDoYouPrefer:"Ak zkusky mte radej?",doesNotMatter:"Nezle",sweet:"Sladk",savory:"Slan",yes:"no",no:"Nie",howSpicyShouldItBe:"Ako vemi pliv by malo by?",mild:"Jemne",medium:"Stredne",hot:"Vemi",selectASolidProvider:"Vyberte poskytovatea Solid",typeInProviderUrlHeading:"Alebo vlote poskytovateovu URL",providerUrlPlaceholder:"Zadajte URL poskytovatea",chooseSolidProvider:"Zvote Solid poskytovatea",goBack:"Sp",loginSolidErrorMessage:`Mon dvody s:
      1. Nie ste pripojen na internet.
      2. Zadan URL poskytovatea je nesprvna.
      3. Problm je na strane zvolenho Solid poskytovatea.
    `,emptyUrlAlert:"Vyberte poskytovatea alebo zadajte poskytovateovu URL.",solidDescription:`
    <b>Solid</b> vm umouje ma kontrolu nad tm kde s vae dta uloen a kto k nim m prstup. Na zaiatok si budete musie u poskytovatea Solid zaobstara vae WebID. Taktie sa mete prihlsi pod vam Google alebo Facebook tom, priom vae dta bud uloen na serveroch tchto poskytovateov. Solid mete zaa pouva aj neskr a vae dta si v rmci aplikcie prenies. Viac sa dozviete na <a>oficilnej strnke</a> projektu Solid.
  `,closeModal:"Zavrie",firebaseLoginErrorMessageFacebook:"Prihlsenie zlyhalo z dvodu chyby v prihlasovacej slube.",firebaseLoginErrorMessageGoogle:"Prihlsenie zlyhalo pretoe bu nemte prstup na internet alebo z dvodu chyby v prihlasovacej slube.",loginFailed:"Prihlsenie bolo nespen",aboutApplicationTitle:"O aplikcii",aboutApplicationBody:"<b>Editor ditneho profilu</b> sli pre ud ktor radi jedia v retaurcich a s obmedzovan alergiami alebo maj in jedlne preferencie. Aplikcia vm umouje uloi a spravova v ditny profil. Vnimon je v tom, e umouje poui technolgiu <b>Solid</b>, a tm pdom bud vae dta uloen decentralizovanm spsobom a budete ma kontrolu nad tm kto ich me vidie, o zaru vyiu mieru skromia.",emailAndPassword:"Email a heslo",loginWithEmail:"Prihlste sa pomocou emailu",password:"Heslo",signIn:"Prihlsi sa",newAccount:"Ak ste nov, je taktie mon",createAccount:"Vytvori et",createYourAccount:"Zalote si et",signUp:"Zaregistrova sa",provideValidEmail:"Zadajte platn emailov adresu",passwordMustContain:"Heslo mus obsahova",atLeastEightChars:"Aspo 8 znakov",lowerCaseLetter:"Mal psmeno",upperCaseLetter:"Vek psmeno",number:"slo",close:"Zatvori",signUpFailed:"Chyba pri vytvran tu",singUpDefaultErrorMessage:"et sa nepodarilo vytvori. Skontrolujte prosm vae internetov pripojenie a skste to znovu.",signUpEmailInUse:"Pre zadan emailov adresu u existuje et. Zvote prosm in adresu alebo sa prihlste.",emailOrPasswordInvalid:"Zadan email alebo heslo s nesprvne. Skontrolujte si prosm daje a skste to znovu.",loginCredentialsNotValid:"Buto je zadan email v nesprvnom formte alebo ste nezadali heslo. Skontrolujte prosm vae prihlasovacie daje a skste to znovu.",emailLoginErrorMessage:"Prihlsenie bolo nespen kvli nesprvnym prihlasovacm dajom.",profileOverviewHeading:"Vae jedlne preferencie",gluten:"Lepok",crustaceans:"Krovce",eggs:"Vajcia",fish:"Ryby",peanuts:"Araidy",soya:"Sja",milk:"Mlieko",nuts:"Orechy",celery:"Zeler",mustard:"Horica",sesame:"Sezam",sulphites:"Siriitany",lupin:"Vl bb",molluscs:"Mkke",dietPreferencesHeading:"Dity",whichDietsDoYouFollow:"Ktor dity dodriavate?",calorieTrackingGoal:"V prpade e si potate kalrie, ak je v denn prjem?",tastesAndFoodPreparation:"Preferencie chut",favoriteWorldCuisines:"Ak s vae obben svetov kuchyne?",foodIngredientsLikeOrDislike:"Ktor ingrediencie mte radi a ktor naopak nie?",doYouLikeSpicyFood:"Mte radi pliv jedl?",notSpecified:"Nepecifikovan",notAtAll:"Vbec",yesIDo:"no, mm",howSpicyShouldFoodBe:"Zvote rove ostrosti",whichCookingMethodsDoYouPrefer:"Ktor spsoby prpravy jedla uprednostujete?",dailyCalorieIntakeGoal:"V denn prjem kalri je: ",yourFavoriteCuisines:"Vae obben svetov kuchyne s: ",likedIngredients:"Obben ingrediencie: ",dislikedIngredients:"Neobben ingrediencie: ",howSpicyYouLikeYourFood:"Preferovan rove plivosti jedla: ",preferredCookingMethods:"Uprednostovan spsoby prpravy jedla",finish:"Uloi",allergenPreferencesHeading:"Alergny",deleteProfile:"Zmaza profil",searchMoreDiets:"Vyhadajte alie dity",next:"alej",vegetarianDiet:"Vegetarinstvo",mediterraneanDiet:"Stredomorsk strava",lowCarbDiet:"Nzkosacharidov dita",veganDiet:"Veganstvo",ketoDiet:"Ketognna dita",atkinsDiet:"Atkinsonova dita",paleoDiet:"Paleo dita",error:"Chyba",fetchingDietsFailed:"Natanie dit bolo nespen",italianCuisine:"Talianska",greekCuisine:"Grcka",mexicanCuisine:"Mexick",chineseCuisine:"nska",turkishCuisine:"Tureck",spanishCuisine:"panielska",japaneseCuisine:"Japonsk",frenchCuisine:"Franczska",searchMoreCuisines:"Vyhadajte alie svetov kuchyne",fetchingCuisinesFailed:"Natanie svetovch kuch bolo nespen",fetchingIngredientsFailed:"Natanie ingredienci bolo nespen",whatILike:"Mm rd",searchIngredients:"Vyhadajte ingrediencie",whatIDontLike:"Nemm rd",extraHot:"Extra",bakingMethod:"Peenie",grillingMethod:"Grilovanie",boilingMethod:"Varenie",deepFryingMethod:"Vypranie",steamingMethod:"Naparovanie",sauteingMethod:"Restovanie",fetchingCookingMethodsFailed:"Natanie spsobov prpravy jedla bolo nespen",searchMoreCookingMethods:"Vyhadajte spsoby prpravy",emptyProfileText:"Profil je przdny, kliknite na tlaidlo editcie profilu.",preferredCookingMethodsOverview:"Preferovan spsoby prpravy jedla: ",profileSavedSuccessfully:"Profil bol spene uloen",profileDeletion:"Zmazanie profilu",profileDeletionConfirm:"Naozaj chcete zmaza v ditny profil?",delete:"Zmaza",profileDeletionSuccessMessage:"Profil bol spene zmazan",profileDeletionNotFoundMessage:"Profil nebol njden",profileDeletionErrorMessage:"Profil sa nepodarilo zmaza",saveProfileModalTitle:"Uloenie profilu",profileSaveError:"Profil sa nepodarilo uloi",profileLoading:"Natanie profilu",loadingProfileError:"Natanie profilu sa skonilo chybou",menuOverviewHeading:"Prehad menu",editMenu:"Upravi",visible:"Viditen",scheduleMenu:"Rozvrh",addCategory:"Prida kategriu",currency:"Mena",shareMenu:"Zdiea",menuDescription:"Popis",addMenuItem:"Nov poloka",editMenuItem:"Upravi",cancel:"Zrui",save:"Uloi",addImage:"Prida obrzok",removeImage:"Odstrni obrzok",allergens:"Alergny",suitableForDiets:"Vhodn pre dity",ingredients:"Ingrediencie",servingSize:"Vekos porcie",calories:"Kalrie",nationalCuisines:"Nrodn kuchyne",cookingMethods:"Spsoby prpravy",spicinessLevel:"rove ostrosti"},YD=e=>{const[t,r]=ie.useState("en"),i={selectedLanguage:t,setSelectedLanguage:r};function a(l){return l==="sk"?JD:{}}return ge.jsx(WD.Provider,{value:i,children:ge.jsx(zD,{messages:a(t),locale:t,children:e.children})})};var Bg={},mA;function XD(){if(mA)return Bg;mA=1,Object.defineProperty(Bg,"__esModule",{value:!0}),Bg.parse=s,Bg.serialize=c;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function s(w,S){const C=new l,R=w.length;if(R<2)return C;const T=S?.decode||p;let E=0;do{const N=w.indexOf("=",E);if(N===-1)break;const O=w.indexOf(";",E),V=O===-1?R:O;if(N>V){E=w.lastIndexOf(";",N-1)+1;continue}const L=u(w,E,N),z=d(w,N,L),W=w.slice(L,z);if(C[W]===void 0){let $=u(w,N+1,V),Ce=d(w,V,$);const K=T(w.slice($,Ce));C[W]=K}E=V+1}while(E<R);return C}function u(w,S,C){do{const R=w.charCodeAt(S);if(R!==32&&R!==9)return S}while(++S<C);return C}function d(w,S,C){for(;S>C;){const R=w.charCodeAt(--S);if(R!==32&&R!==9)return S+1}return C}function c(w,S,C){const R=C?.encode||encodeURIComponent;if(!e.test(w))throw new TypeError(`argument name is invalid: ${w}`);const T=R(S);if(!t.test(T))throw new TypeError(`argument val is invalid: ${S}`);let E=w+"="+T;if(!C)return E;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);E+="; Max-Age="+C.maxAge}if(C.domain){if(!r.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);E+="; Domain="+C.domain}if(C.path){if(!i.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);E+="; Path="+C.path}if(C.expires){if(!m(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);E+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(E+="; HttpOnly"),C.secure&&(E+="; Secure"),C.partitioned&&(E+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return E}function p(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function m(w){return a.call(w)==="[object Date]"}return Bg}XD();var yA="popstate";function QD(e={}){function t(i,a){let{pathname:l,search:s,hash:u}=i.location;return _w("",{pathname:l,search:s,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){return typeof a=="string"?a:rm(a)}return eM(t,r,null,e)}function Si(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ps(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZD(){return Math.random().toString(36).substring(2,10)}function vA(e,t){return{usr:e.state,key:e.key,idx:t}}function _w(e,t,r=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?_h(t):t,state:r,key:t&&t.key||i||ZD()}}function rm({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _h(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function eM(e,t,r,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,s=a.history,u="POP",d=null,c=p();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function p(){return(s.state||{idx:null}).idx}function m(){u="POP";let T=p(),E=T==null?null:T-c;c=T,d&&d({action:u,location:R.location,delta:E})}function w(T,E){u="PUSH";let N=_w(R.location,T,E);c=p()+1;let O=vA(N,c),V=R.createHref(N);try{s.pushState(O,"",V)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;a.location.assign(V)}l&&d&&d({action:u,location:R.location,delta:1})}function S(T,E){u="REPLACE";let N=_w(R.location,T,E);c=p();let O=vA(N,c),V=R.createHref(N);s.replaceState(O,"",V),l&&d&&d({action:u,location:R.location,delta:0})}function C(T){return tM(T)}let R={get action(){return u},get location(){return e(a,s)},listen(T){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(yA,m),d=T,()=>{a.removeEventListener(yA,m),d=null}},createHref(T){return t(a,T)},createURL:C,encodeLocation(T){let E=C(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:w,replace:S,go(T){return s.go(T)}};return R}function tM(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Si(r,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:rm(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function LC(e,t,r="/"){return nM(e,t,r,!1)}function nM(e,t,r,i){let a=typeof t=="string"?_h(t):t,l=iu(a.pathname||"/",r);if(l==null)return null;let s=UC(e);rM(s);let u=null;for(let d=0;u==null&&d<s.length;++d){let c=pM(l);u=dM(s[d],c,i)}return u}function UC(e,t=[],r=[],i=""){let a=(l,s,u)=>{let d={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:s,route:l};d.relativePath.startsWith("/")&&(Si(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let c=Ql([i,d.relativePath]),p=r.concat(d);l.children&&l.children.length>0&&(Si(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),UC(l.children,t,p,c)),!(l.path==null&&!l.index)&&t.push({path:c,score:cM(c,l.index),routesMeta:p})};return e.forEach((l,s)=>{if(l.path===""||!l.path?.includes("?"))a(l,s);else for(let u of kC(l.path))a(l,s,u)}),t}function kC(e){let t=e.split("/");if(t.length===0)return[];let[r,...i]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let s=kC(i.join("/")),u=[];return u.push(...s.map(d=>d===""?l:[l,d].join("/"))),a&&u.push(...s),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function rM(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fM(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var iM=/^:[\w-]+$/,aM=3,oM=2,sM=1,lM=10,uM=-2,bA=e=>e==="*";function cM(e,t){let r=e.split("/"),i=r.length;return r.some(bA)&&(i+=uM),t&&(i+=oM),r.filter(a=>!bA(a)).reduce((a,l)=>a+(iM.test(l)?aM:l===""?sM:lM),i)}function fM(e,t){return e.length===t.length&&e.slice(0,-1).every((i,a)=>i===t[a])?e[e.length-1]-t[t.length-1]:0}function dM(e,t,r=!1){let{routesMeta:i}=e,a={},l="/",s=[];for(let u=0;u<i.length;++u){let d=i[u],c=u===i.length-1,p=l==="/"?t:t.slice(l.length)||"/",m=rv({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},p),w=d.route;if(!m&&c&&r&&!i[i.length-1].route.index&&(m=rv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(a,m.params),s.push({params:a,pathname:Ql([l,m.pathname]),pathnameBase:vM(Ql([l,m.pathnameBase])),route:w}),m.pathnameBase!=="/"&&(l=Ql([l,m.pathnameBase]))}return s}function rv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=hM(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],s=l.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:i.reduce((c,{paramName:p,isOptional:m},w)=>{if(p==="*"){let C=u[w]||"";s=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const S=u[w];return m&&!S?c[p]=void 0:c[p]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:l,pathnameBase:s,pattern:e}}function hM(e,t=!1,r=!0){ps(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,d)=>(i.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function pM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ps(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function iu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function gM(e,t="/"){let{pathname:r,search:i="",hash:a=""}=typeof e=="string"?_h(e):e;return{pathname:r?r.startsWith("/")?r:mM(r,t):t,search:bM(i),hash:wM(a)}}function mM(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Fb(e,t,r,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yM(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function m_(e){let t=yM(e);return t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase)}function y_(e,t,r,i=!1){let a;typeof e=="string"?a=_h(e):(a={...e},Si(!a.pathname||!a.pathname.includes("?"),Fb("?","pathname","search",a)),Si(!a.pathname||!a.pathname.includes("#"),Fb("#","pathname","hash",a)),Si(!a.search||!a.search.includes("#"),Fb("#","search","hash",a)));let l=e===""||a.pathname==="",s=l?"/":a.pathname,u;if(s==null)u=r;else{let m=t.length-1;if(!i&&s.startsWith("..")){let w=s.split("/");for(;w[0]==="..";)w.shift(),m-=1;a.pathname=w.join("/")}u=m>=0?t[m]:"/"}let d=gM(a,u),c=s&&s!=="/"&&s.endsWith("/"),p=(l||s===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(c||p)&&(d.pathname+="/"),d}var Ql=e=>e.join("/").replace(/\/\/+/g,"/"),vM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _M(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var jC=["POST","PUT","PATCH","DELETE"];new Set(jC);var SM=["GET",...jC];new Set(SM);var Sh=ie.createContext(null);Sh.displayName="DataRouter";var Mv=ie.createContext(null);Mv.displayName="DataRouterState";var BC=ie.createContext({isTransitioning:!1});BC.displayName="ViewTransition";var EM=ie.createContext(new Map);EM.displayName="Fetchers";var AM=ie.createContext(null);AM.displayName="Await";var gs=ie.createContext(null);gs.displayName="Navigation";var _m=ie.createContext(null);_m.displayName="Location";var Zs=ie.createContext({outlet:null,matches:[],isDataRoute:!1});Zs.displayName="Route";var v_=ie.createContext(null);v_.displayName="RouteError";function xM(e,{relative:t}={}){Si(Eh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=ie.useContext(gs),{hash:a,pathname:l,search:s}=Sm(e,{relative:t}),u=l;return r!=="/"&&(u=l==="/"?r:Ql([r,l])),i.createHref({pathname:u,search:s,hash:a})}function Eh(){return ie.useContext(_m)!=null}function yc(){return Si(Eh(),"useLocation() may be used only in the context of a <Router> component."),ie.useContext(_m).location}var HC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VC(e){ie.useContext(gs).static||ie.useLayoutEffect(e)}function $C(){let{isDataRoute:e}=ie.useContext(Zs);return e?kM():RM()}function RM(){Si(Eh(),"useNavigate() may be used only in the context of a <Router> component.");let e=ie.useContext(Sh),{basename:t,navigator:r}=ie.useContext(gs),{matches:i}=ie.useContext(Zs),{pathname:a}=yc(),l=JSON.stringify(m_(i)),s=ie.useRef(!1);return VC(()=>{s.current=!0}),ie.useCallback((d,c={})=>{if(ps(s.current,HC),!s.current)return;if(typeof d=="number"){r.go(d);return}let p=y_(d,JSON.parse(l),a,c.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Ql([t,p.pathname])),(c.replace?r.replace:r.push)(p,c.state,c)},[t,r,l,a,e])}ie.createContext(null);function Sm(e,{relative:t}={}){let{matches:r}=ie.useContext(Zs),{pathname:i}=yc(),a=JSON.stringify(m_(r));return ie.useMemo(()=>y_(e,JSON.parse(a),i,t==="path"),[e,a,i,t])}function CM(e,t){return KC(e,t)}function KC(e,t,r,i){Si(Eh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=ie.useContext(gs),{matches:l}=ie.useContext(Zs),s=l[l.length-1],u=s?s.params:{},d=s?s.pathname:"/",c=s?s.pathnameBase:"/",p=s&&s.route;{let E=p&&p.path||"";GC(d,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let m=yc(),w;if(t){let E=typeof t=="string"?_h(t):t;Si(c==="/"||E.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${E.pathname}" was given in the \`location\` prop.`),w=E}else w=m;let S=w.pathname||"/",C=S;if(c!=="/"){let E=c.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(E.length).join("/")}let R=LC(e,{pathname:C});ps(p||R!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ps(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=NM(R&&R.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Ql([c,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:Ql([c,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),l,r,i);return t&&T?ie.createElement(_m.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},T):T}function TM(){let e=UM(),t=_M(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=ie.createElement(ie.Fragment,null,ie.createElement("p",null," Hey developer "),ie.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ie.createElement("code",{style:l},"ErrorBoundary")," or"," ",ie.createElement("code",{style:l},"errorElement")," prop on your route.")),ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},t),r?ie.createElement("pre",{style:a},r):null,s)}var OM=ie.createElement(TM,null),IM=class extends ie.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ie.createElement(Zs.Provider,{value:this.props.routeContext},ie.createElement(v_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PM({routeContext:e,match:t,children:r}){let i=ie.useContext(Sh);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),ie.createElement(Zs.Provider,{value:e},r)}function NM(e,t=[],r=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=r?.errors;if(l!=null){let d=a.findIndex(c=>c.route.id&&l?.[c.route.id]!==void 0);Si(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let s=!1,u=-1;if(r)for(let d=0;d<a.length;d++){let c=a[d];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=d),c.route.id){let{loaderData:p,errors:m}=r,w=c.route.loader&&!p.hasOwnProperty(c.route.id)&&(!m||m[c.route.id]===void 0);if(c.route.lazy||w){s=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,c,p)=>{let m,w=!1,S=null,C=null;r&&(m=l&&c.route.id?l[c.route.id]:void 0,S=c.route.errorElement||OM,s&&(u<0&&p===0?(GC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):u===p&&(w=!0,C=c.route.hydrateFallbackElement||null)));let R=t.concat(a.slice(0,p+1)),T=()=>{let E;return m?E=S:w?E=C:c.route.Component?E=ie.createElement(c.route.Component,null):c.route.element?E=c.route.element:E=d,ie.createElement(PM,{match:c,routeContext:{outlet:d,matches:R,isDataRoute:r!=null},children:E})};return r&&(c.route.ErrorBoundary||c.route.errorElement||p===0)?ie.createElement(IM,{location:r.location,revalidation:r.revalidation,component:S,error:m,children:T(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):T()},null)}function b_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FM(e){let t=ie.useContext(Sh);return Si(t,b_(e)),t}function DM(e){let t=ie.useContext(Mv);return Si(t,b_(e)),t}function MM(e){let t=ie.useContext(Zs);return Si(t,b_(e)),t}function w_(e){let t=MM(e),r=t.matches[t.matches.length-1];return Si(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function LM(){return w_("useRouteId")}function UM(){let e=ie.useContext(v_),t=DM("useRouteError"),r=w_("useRouteError");return e!==void 0?e:t.errors?.[r]}function kM(){let{router:e}=FM("useNavigate"),t=w_("useNavigate"),r=ie.useRef(!1);return VC(()=>{r.current=!0}),ie.useCallback(async(a,l={})=>{ps(r.current,HC),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var wA={};function GC(e,t,r){!t&&!wA[e]&&(wA[e]=!0,ps(!1,r))}ie.memo(jM);function jM({routes:e,future:t,state:r}){return KC(e,void 0,r,t)}function BM({to:e,replace:t,state:r,relative:i}){Si(Eh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=ie.useContext(gs);ps(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=ie.useContext(Zs),{pathname:s}=yc(),u=$C(),d=y_(e,m_(l),s,i==="path"),c=JSON.stringify(d);return ie.useEffect(()=>{u(JSON.parse(c),{replace:t,state:r,relative:i})},[u,c,i,t,r]),null}function kf(e){Si(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HM({basename:e="/",children:t=null,location:r,navigationType:i="POP",navigator:a,static:l=!1}){Si(!Eh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),u=ie.useMemo(()=>({basename:s,navigator:a,static:l,future:{}}),[s,a,l]);typeof r=="string"&&(r=_h(r));let{pathname:d="/",search:c="",hash:p="",state:m=null,key:w="default"}=r,S=ie.useMemo(()=>{let C=iu(d,s);return C==null?null:{location:{pathname:C,search:c,hash:p,state:m,key:w},navigationType:i}},[s,d,c,p,m,w,i]);return ps(S!=null,`<Router basename="${s}"> is not able to match the URL "${d}${c}${p}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:ie.createElement(gs.Provider,{value:u},ie.createElement(_m.Provider,{children:t,value:S}))}function VM({children:e,location:t}){return CM(Sw(e),t)}function Sw(e,t=[]){let r=[];return ie.Children.forEach(e,(i,a)=>{if(!ie.isValidElement(i))return;let l=[...t,a];if(i.type===ie.Fragment){r.push.apply(r,Sw(i.props.children,l));return}Si(i.type===kf,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Si(!i.props.index||!i.props.children,"An index route cannot have child routes.");let s={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=Sw(i.props.children,l)),r.push(s)}),r}var Ky="get",Gy="application/x-www-form-urlencoded";function Lv(e){return e!=null&&typeof e.tagName=="string"}function $M(e){return Lv(e)&&e.tagName.toLowerCase()==="button"}function KM(e){return Lv(e)&&e.tagName.toLowerCase()==="form"}function GM(e){return Lv(e)&&e.tagName.toLowerCase()==="input"}function qM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zM(e,t){return e.button===0&&(!t||t==="_self")&&!qM(e)}var Iy=null;function WM(){if(Iy===null)try{new FormData(document.createElement("form"),0),Iy=!1}catch{Iy=!0}return Iy}var JM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Db(e){return e!=null&&!JM.has(e)?(ps(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gy}"`),null):e}function YM(e,t){let r,i,a,l,s;if(KM(e)){let u=e.getAttribute("action");i=u?iu(u,t):null,r=e.getAttribute("method")||Ky,a=Db(e.getAttribute("enctype"))||Gy,l=new FormData(e)}else if($M(e)||GM(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(i=d?iu(d,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||Ky,a=Db(e.getAttribute("formenctype"))||Db(u.getAttribute("enctype"))||Gy,l=new FormData(u,e),!WM()){let{name:c,type:p,value:m}=e;if(p==="image"){let w=c?`${c}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else c&&l.append(c,m)}}else{if(Lv(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ky,i=null,a=Gy,s=e}return l&&a==="text/plain"&&(s=l,l=void 0),{action:i,method:r.toLowerCase(),encType:a,formData:l,body:s}}function __(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function XM(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function ZM(e,t,r){let i=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let s=await XM(l,r);return s.links?s.links():[]}return[]}));return rL(i.flat(1).filter(QM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function _A(e,t,r,i,a,l){let s=(d,c)=>r[c]?d.route.id!==r[c].route.id:!0,u=(d,c)=>r[c].pathname!==d.pathname||r[c].route.path?.endsWith("*")&&r[c].params["*"]!==d.params["*"];return l==="assets"?t.filter((d,c)=>s(d,c)||u(d,c)):l==="data"?t.filter((d,c)=>{let p=i.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(s(d,c)||u(d,c))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function eL(e,t,{includeHydrateFallback:r}={}){return tL(e.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function tL(e){return[...new Set(e)]}function nL(e){let t={},r=Object.keys(e).sort();for(let i of r)t[i]=e[i];return t}function rL(e,t){let r=new Set;return new Set(t),e.reduce((i,a)=>{let l=JSON.stringify(nL(a));return r.has(l)||(r.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iL=new Set([100,101,204,205]);function aL(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&iu(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function qC(){let e=ie.useContext(Sh);return __(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function oL(){let e=ie.useContext(Mv);return __(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var S_=ie.createContext(void 0);S_.displayName="FrameworkContext";function zC(){let e=ie.useContext(S_);return __(e,"You must render this element inside a <HydratedRouter> element"),e}function sL(e,t){let r=ie.useContext(S_),[i,a]=ie.useState(!1),[l,s]=ie.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:c,onMouseLeave:p,onTouchStart:m}=t,w=ie.useRef(null);ie.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let R=E=>{E.forEach(N=>{s(N.isIntersecting)})},T=new IntersectionObserver(R,{threshold:.5});return w.current&&T.observe(w.current),()=>{T.disconnect()}}},[e]),ie.useEffect(()=>{if(i){let R=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(R)}}},[i]);let S=()=>{a(!0)},C=()=>{a(!1),s(!1)};return r?e!=="intent"?[l,w,{}]:[l,w,{onFocus:Hg(u,S),onBlur:Hg(d,C),onMouseEnter:Hg(c,S),onMouseLeave:Hg(p,C),onTouchStart:Hg(m,S)}]:[!1,w,{}]}function Hg(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function lL({page:e,...t}){let{router:r}=qC(),i=ie.useMemo(()=>LC(r.routes,e,r.basename),[r.routes,e,r.basename]);return i?ie.createElement(cL,{page:e,matches:i,...t}):null}function uL(e){let{manifest:t,routeModules:r}=zC(),[i,a]=ie.useState([]);return ie.useEffect(()=>{let l=!1;return ZM(e,t,r).then(s=>{l||a(s)}),()=>{l=!0}},[e,t,r]),i}function cL({page:e,matches:t,...r}){let i=yc(),{manifest:a,routeModules:l}=zC(),{basename:s}=qC(),{loaderData:u,matches:d}=oL(),c=ie.useMemo(()=>_A(e,t,d,a,i,"data"),[e,t,d,a,i]),p=ie.useMemo(()=>_A(e,t,d,a,i,"assets"),[e,t,d,a,i]),m=ie.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let C=new Set,R=!1;if(t.forEach(E=>{let N=a.routes[E.route.id];!N||!N.hasLoader||(!c.some(O=>O.route.id===E.route.id)&&E.route.id in u&&l[E.route.id]?.shouldRevalidate||N.hasClientLoader?R=!0:C.add(E.route.id))}),C.size===0)return[];let T=aL(e,s);return R&&C.size>0&&T.searchParams.set("_routes",t.filter(E=>C.has(E.route.id)).map(E=>E.route.id).join(",")),[T.pathname+T.search]},[s,u,i,a,c,t,e,l]),w=ie.useMemo(()=>eL(p,a),[p,a]),S=uL(p);return ie.createElement(ie.Fragment,null,m.map(C=>ie.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...r})),w.map(C=>ie.createElement("link",{key:C,rel:"modulepreload",href:C,...r})),S.map(({key:C,link:R})=>ie.createElement("link",{key:C,...R})))}function fL(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var WC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WC&&(window.__reactRouterVersion="7.6.3")}catch{}function dL({basename:e,children:t,window:r}){let i=ie.useRef();i.current==null&&(i.current=QD({window:r,v5Compat:!0}));let a=i.current,[l,s]=ie.useState({action:a.action,location:a.location}),u=ie.useCallback(d=>{ie.startTransition(()=>s(d))},[s]);return ie.useLayoutEffect(()=>a.listen(u),[a,u]),ie.createElement(HM,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var JC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YC=ie.forwardRef(function({onClick:t,discover:r="render",prefetch:i="none",relative:a,reloadDocument:l,replace:s,state:u,target:d,to:c,preventScrollReset:p,viewTransition:m,...w},S){let{basename:C}=ie.useContext(gs),R=typeof c=="string"&&JC.test(c),T,E=!1;if(typeof c=="string"&&R&&(T=c,WC))try{let Ce=new URL(window.location.href),K=c.startsWith("//")?new URL(Ce.protocol+c):new URL(c),re=iu(K.pathname,C);K.origin===Ce.origin&&re!=null?c=re+K.search+K.hash:E=!0}catch{ps(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=xM(c,{relative:a}),[O,V,L]=sL(i,w),z=mL(c,{replace:s,state:u,target:d,preventScrollReset:p,relative:a,viewTransition:m});function W(Ce){t&&t(Ce),Ce.defaultPrevented||z(Ce)}let $=ie.createElement("a",{...w,...L,href:T||N,onClick:E||l?t:W,ref:fL(S,V),target:d,"data-discover":!R&&r==="render"?"true":void 0});return O&&!R?ie.createElement(ie.Fragment,null,$,ie.createElement(lL,{page:N})):$});YC.displayName="Link";var hL=ie.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:i="",end:a=!1,style:l,to:s,viewTransition:u,children:d,...c},p){let m=Sm(s,{relative:c.relative}),w=yc(),S=ie.useContext(Mv),{navigator:C,basename:R}=ie.useContext(gs),T=S!=null&&_L(m)&&u===!0,E=C.encodeLocation?C.encodeLocation(m).pathname:m.pathname,N=w.pathname,O=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;r||(N=N.toLowerCase(),O=O?O.toLowerCase():null,E=E.toLowerCase()),O&&R&&(O=iu(O,R)||O);const V=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let L=N===E||!a&&N.startsWith(E)&&N.charAt(V)==="/",z=O!=null&&(O===E||!a&&O.startsWith(E)&&O.charAt(E.length)==="/"),W={isActive:L,isPending:z,isTransitioning:T},$=L?t:void 0,Ce;typeof i=="function"?Ce=i(W):Ce=[i,L?"active":null,z?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let K=typeof l=="function"?l(W):l;return ie.createElement(YC,{...c,"aria-current":$,className:Ce,ref:p,style:K,to:s,viewTransition:u},typeof d=="function"?d(W):d)});hL.displayName="NavLink";var pL=ie.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:i,replace:a,state:l,method:s=Ky,action:u,onSubmit:d,relative:c,preventScrollReset:p,viewTransition:m,...w},S)=>{let C=bL(),R=wL(u,{relative:c}),T=s.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&JC.test(u),N=O=>{if(d&&d(O),O.defaultPrevented)return;O.preventDefault();let V=O.nativeEvent.submitter,L=V?.getAttribute("formmethod")||s;C(V||O.currentTarget,{fetcherKey:t,method:L,navigate:r,replace:a,state:l,relative:c,preventScrollReset:p,viewTransition:m})};return ie.createElement("form",{ref:S,method:T,action:R,onSubmit:i?d:N,...w,"data-discover":!E&&e==="render"?"true":void 0})});pL.displayName="Form";function gL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XC(e){let t=ie.useContext(Sh);return Si(t,gL(e)),t}function mL(e,{target:t,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:s}={}){let u=$C(),d=yc(),c=Sm(e,{relative:l});return ie.useCallback(p=>{if(zM(p,t)){p.preventDefault();let m=r!==void 0?r:rm(d)===rm(c);u(e,{replace:m,state:i,preventScrollReset:a,relative:l,viewTransition:s})}},[d,u,c,r,i,t,e,a,l,s])}var yL=0,vL=()=>`__${String(++yL)}__`;function bL(){let{router:e}=XC("useSubmit"),{basename:t}=ie.useContext(gs),r=LM();return ie.useCallback(async(i,a={})=>{let{action:l,method:s,encType:u,formData:d,body:c}=YM(i,t);if(a.navigate===!1){let p=a.fetcherKey||vL();await e.fetch(p,r,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:c,formMethod:a.method||s,formEncType:a.encType||u,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:c,formMethod:a.method||s,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function wL(e,{relative:t}={}){let{basename:r}=ie.useContext(gs),i=ie.useContext(Zs);Si(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Sm(e||".",{relative:t})},s=yc();if(e==null){l.search=s.search;let u=new URLSearchParams(l.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();l.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Ql([r,l.pathname])),rm(l)}function _L(e,t={}){let r=ie.useContext(BC);Si(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=XC("useViewTransitionState"),a=Sm(e,{relative:t.relative});if(!r.isTransitioning)return!1;let l=iu(r.currentLocation.pathname,i)||r.currentLocation.pathname,s=iu(r.nextLocation.pathname,i)||r.nextLocation.pathname;return rv(a.pathname,s)!=null||rv(a.pathname,l)!=null}[...iL];var Uv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kv=typeof window>"u"||"Deno"in globalThis;function cs(){}function SL(e,t){return typeof e=="function"?e(t):e}function EL(e){return typeof e=="number"&&e>=0&&e!==1/0}function AL(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ew(e,t){return typeof e=="function"?e(t):e}function xL(e,t){return typeof e=="function"?e(t):e}function SA(e,t){const{type:r="all",exact:i,fetchStatus:a,predicate:l,queryKey:s,stale:u}=e;if(s){if(i){if(t.queryHash!==E_(s,t.options))return!1}else if(!am(t.queryKey,s))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||a&&a!==t.state.fetchStatus||l&&!l(t))}function EA(e,t){const{exact:r,status:i,predicate:a,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(r){if(im(t.options.mutationKey)!==im(l))return!1}else if(!am(t.options.mutationKey,l))return!1}return!(i&&t.state.status!==i||a&&!a(t))}function E_(e,t){return(t?.queryKeyHashFn||im)(e)}function im(e){return JSON.stringify(e,(t,r)=>Aw(r)?Object.keys(r).sort().reduce((i,a)=>(i[a]=r[a],i),{}):r)}function am(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>am(e[r],t[r])):!1}function QC(e,t){if(e===t)return e;const r=AA(e)&&AA(t);if(r||Aw(e)&&Aw(t)){const i=r?e:Object.keys(e),a=i.length,l=r?t:Object.keys(t),s=l.length,u=r?[]:{},d=new Set(i);let c=0;for(let p=0;p<s;p++){const m=r?p:l[p];(!r&&d.has(m)||r)&&e[m]===void 0&&t[m]===void 0?(u[m]=void 0,c++):(u[m]=QC(e[m],t[m]),u[m]===e[m]&&e[m]!==void 0&&c++)}return a===s&&c===a?e:u}return t}function AA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Aw(e){if(!xA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!xA(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function xA(e){return Object.prototype.toString.call(e)==="[object Object]"}function RL(e){return new Promise(t=>{setTimeout(t,e)})}function CL(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?QC(e,t):t}function TL(e,t,r=0){const i=[...e,t];return r&&i.length>r?i.slice(1):i}function OL(e,t,r=0){const i=[t,...e];return r&&i.length>r?i.slice(0,-1):i}var A_=Symbol();function ZC(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===A_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var IL=class extends Uv{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!kv&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},eT=new IL,PL=class extends Uv{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!kv&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},iv=new PL;function NL(){let e,t;const r=new Promise((a,l)=>{e=a,t=l});r.status="pending",r.catch(()=>{});function i(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{i({status:"fulfilled",value:a}),e(a)},r.reject=a=>{i({status:"rejected",reason:a}),t(a)},r}function FL(e){return Math.min(1e3*2**e,3e4)}function tT(e){return(e??"online")==="online"?iv.isOnline():!0}var nT=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Mb(e){return e instanceof nT}function rT(e){let t=!1,r=0,i=!1,a;const l=NL(),s=R=>{i||(w(new nT(R)),e.abort?.())},u=()=>{t=!0},d=()=>{t=!1},c=()=>eT.isFocused()&&(e.networkMode==="always"||iv.isOnline())&&e.canRun(),p=()=>tT(e.networkMode)&&e.canRun(),m=R=>{i||(i=!0,e.onSuccess?.(R),a?.(),l.resolve(R))},w=R=>{i||(i=!0,e.onError?.(R),a?.(),l.reject(R))},S=()=>new Promise(R=>{a=T=>{(i||c())&&R(T)},e.onPause?.()}).then(()=>{a=void 0,i||e.onContinue?.()}),C=()=>{if(i)return;let R;const T=r===0?e.initialPromise:void 0;try{R=T??e.fn()}catch(E){R=Promise.reject(E)}Promise.resolve(R).then(m).catch(E=>{if(i)return;const N=e.retry??(kv?0:3),O=e.retryDelay??FL,V=typeof O=="function"?O(r,E):O,L=N===!0||typeof N=="number"&&r<N||typeof N=="function"&&N(r,E);if(t||!L){w(E);return}r++,e.onFail?.(r,E),RL(V).then(()=>c()?void 0:S()).then(()=>{t?w(E):C()})})};return{promise:l,cancel:s,continue:()=>(a?.(),l),cancelRetry:u,continueRetry:d,canStart:p,start:()=>(p()?C():S().then(C),l)}}var DL=e=>setTimeout(e,0);function ML(){let e=[],t=0,r=u=>{u()},i=u=>{u()},a=DL;const l=u=>{t?e.push(u):a(()=>{r(u)})},s=()=>{const u=e;e=[],u.length&&a(()=>{i(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||s()}return d},batchCalls:u=>(...d)=>{l(()=>{u(...d)})},schedule:l,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{i=u},setScheduler:u=>{a=u}}}var ka=ML(),iT=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),EL(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(kv?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},LL=class extends iT{#e;#t;#n;#i;#r;#o;#s;constructor(e){super(),this.#s=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=kL(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=CL(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(cs).catch(cs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>xL(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===A_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ew(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!AL(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(c=>c.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},a=()=>{const d=ZC(this.options,t),p=(()=>{const m={client:this.#i,queryKey:this.queryKey,meta:this.meta};return i(m),m})();return this.#s=!1,this.options.persister?this.options.persister(d,p,this):d(p)},s=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:a};return i(d),d})();this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#a({type:"fetch",meta:s.fetchOptions?.meta});const u=d=>{Mb(d)&&d.silent||this.#a({type:"error",error:d}),Mb(d)||(this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#r=rT({initialPromise:t?.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{if(d===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(c){u(c);return}this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:u,onFail:(d,c)=>{this.#a({type:"failed",failureCount:d,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#r.start()}#a(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...UL(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#t=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Mb(i)&&i.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),ka.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function UL(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tT(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function kL(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,i=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var jL=class extends Uv{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const i=t.queryKey,a=t.queryHash??E_(i,t);let l=this.get(a);return l||(l=new LL({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(l)),l}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ka.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>SA(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>SA(e,r)):t}notify(e){ka.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ka.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ka.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},BL=class extends iT{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||HL(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#i({type:"continue"})};this.#n=rT({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,l)=>{this.#i({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const r=this.state.status==="pending",i=!this.#n.canStart();try{if(r)t();else{this.#i({type:"pending",variables:e,isPaused:i}),await this.#t.config.onMutate?.(e,this);const l=await this.options.onMutate?.(e);l!==this.state.context&&this.#i({type:"pending",context:l,variables:e,isPaused:i})}const a=await this.#n.start();return await this.#t.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#i({type:"success",data:a}),a}catch(a){try{throw await this.#t.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#t.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#i({type:"error",error:a})}}finally{this.#t.runNext(this)}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ka.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function HL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var VL=class extends Uv{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,r){const i=new BL({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){this.#e.add(e);const t=Py(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Py(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Py(e);if(typeof t=="string"){const i=this.#t.get(t)?.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){const t=Py(e);return typeof t=="string"?this.#t.get(t)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ka.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>EA(t,r))}findAll(e={}){return this.getAll().filter(t=>EA(e,t))}notify(e){ka.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ka.batch(()=>Promise.all(e.map(t=>t.continue().catch(cs))))}};function Py(e){return e.options.scope?.id}function RA(e){return{onFetch:(t,r)=>{const i=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let u={pages:[],pageParams:[]},d=0;const c=async()=>{let p=!1;const m=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},w=ZC(t.options,t.fetchOptions),S=async(C,R,T)=>{if(p)return Promise.reject();if(R==null&&C.pages.length)return Promise.resolve(C);const N=(()=>{const z={client:t.client,queryKey:t.queryKey,pageParam:R,direction:T?"backward":"forward",meta:t.options.meta};return m(z),z})(),O=await w(N),{maxPages:V}=t.options,L=T?OL:TL;return{pages:L(C.pages,O,V),pageParams:L(C.pageParams,R,V)}};if(a&&l.length){const C=a==="backward",R=C?$L:CA,T={pages:l,pageParams:s},E=R(i,T);u=await S(T,E,C)}else{const C=e??l.length;do{const R=d===0?s[0]??i.initialPageParam:CA(i,u);if(d>0&&R==null)break;u=await S(u,R),d++}while(d<C)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function CA(e,{pages:t,pageParams:r}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,r[i],r):void 0}function $L(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var KL=class{#e;#t;#n;#i;#r;#o;#s;#a;constructor(e={}){this.#e=e.queryCache||new jL,this.#t=e.mutationCache||new VL,this.#n=e.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=eT.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=iv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),i=r.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ew(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const i=r.data;return[t,i]})}setQueryData(e,t,r){const i=this.defaultQueryOptions({queryKey:e}),l=this.#e.get(i.queryHash)?.state.data,s=SL(t,l);if(s!==void 0)return this.#e.build(this,i).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return ka.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;ka.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return ka.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},i=ka.batch(()=>this.#e.findAll(e).map(a=>a.cancel(r)));return Promise.all(i).then(cs).catch(cs)}invalidateQueries(e,t={}){return ka.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},i=ka.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,r);return r.throwOnError||(l=l.catch(cs)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(cs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(Ew(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(cs).catch(cs)}fetchInfiniteQuery(e){return e.behavior=RA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(cs).catch(cs)}ensureInfiniteQueryData(e){return e.behavior=RA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return iv.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(im(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],r={};return t.forEach(i=>{am(e,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(e,t){this.#r.set(im(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],r={};return t.forEach(i=>{am(e,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=E_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===A_&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},GL=ie.createContext(void 0),qL=({client:e,children:t})=>(ie.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),ge.jsx(GL.Provider,{value:e,children:t})),Lb={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var TA;function zL(){return TA||(TA=1,function(e){(function(){var t={}.hasOwnProperty;function r(){for(var l="",s=0;s<arguments.length;s++){var u=arguments[s];u&&(l=a(l,i(u)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return r.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var s="";for(var u in l)t.call(l,u)&&l[u]&&(s=a(s,u));return s}function a(l,s){return s?l?l+" "+s:l+s:l}e.exports?(r.default=r,e.exports=r):window.classNames=r})()}(Lb)),Lb.exports}var WL=zL();const hr=vv(WL),aT=["xxl","xl","lg","md","sm","xs"],oT="xs",jv=ie.createContext({prefixes:{},breakpoints:aT,minBreakpoint:oT}),{Consumer:VH,Provider:$H}=jv;function Ir(e,t){const{prefixes:r}=ie.useContext(jv);return e||r[t]||t}function x_(){const{breakpoints:e}=ie.useContext(jv);return e}function R_(){const{minBreakpoint:e}=ie.useContext(jv);return e}const C_=ie.forwardRef(({className:e,bsPrefix:t,as:r="div",...i},a)=>(t=Ir(t,"card-body"),ge.jsx(r,{ref:a,className:hr(e,t),...i})));C_.displayName="CardBody";const sT=ie.forwardRef(({className:e,bsPrefix:t,as:r="div",...i},a)=>(t=Ir(t,"card-footer"),ge.jsx(r,{ref:a,className:hr(e,t),...i})));sT.displayName="CardFooter";const lT=ie.createContext(null);lT.displayName="CardHeaderContext";const uT=ie.forwardRef(({bsPrefix:e,className:t,as:r="div",...i},a)=>{const l=Ir(e,"card-header"),s=ie.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return ge.jsx(lT.Provider,{value:s,children:ge.jsx(r,{ref:a,...i,className:hr(t,l)})})});uT.displayName="CardHeader";const cT=ie.forwardRef(({bsPrefix:e,className:t,variant:r,as:i="img",...a},l)=>{const s=Ir(e,"card-img");return ge.jsx(i,{ref:l,className:hr(r?`${s}-${r}`:s,t),...a})});cT.displayName="CardImg";const fT=ie.forwardRef(({className:e,bsPrefix:t,as:r="div",...i},a)=>(t=Ir(t,"card-img-overlay"),ge.jsx(r,{ref:a,className:hr(e,t),...i})));fT.displayName="CardImgOverlay";const dT=ie.forwardRef(({className:e,bsPrefix:t,as:r="a",...i},a)=>(t=Ir(t,"card-link"),ge.jsx(r,{ref:a,className:hr(e,t),...i})));dT.displayName="CardLink";const T_=e=>ie.forwardRef((t,r)=>ge.jsx("div",{...t,ref:r,className:hr(t.className,e)})),JL=T_("h6"),hT=ie.forwardRef(({className:e,bsPrefix:t,as:r=JL,...i},a)=>(t=Ir(t,"card-subtitle"),ge.jsx(r,{ref:a,className:hr(e,t),...i})));hT.displayName="CardSubtitle";const pT=ie.forwardRef(({className:e,bsPrefix:t,as:r="p",...i},a)=>(t=Ir(t,"card-text"),ge.jsx(r,{ref:a,className:hr(e,t),...i})));pT.displayName="CardText";const YL=T_("h5"),gT=ie.forwardRef(({className:e,bsPrefix:t,as:r=YL,...i},a)=>(t=Ir(t,"card-title"),ge.jsx(r,{ref:a,className:hr(e,t),...i})));gT.displayName="CardTitle";const mT=ie.forwardRef(({bsPrefix:e,className:t,bg:r,text:i,border:a,body:l=!1,children:s,as:u="div",...d},c)=>{const p=Ir(e,"card");return ge.jsx(u,{ref:c,...d,className:hr(t,p,r&&`bg-${r}`,i&&`text-${i}`,a&&`border-${a}`),children:l?ge.jsx(C_,{children:s}):s})});mT.displayName="Card";const Yl=Object.assign(mT,{Img:cT,Title:gT,Subtitle:hT,Body:C_,Link:dT,Text:pT,Header:uT,Footer:sT,ImgOverlay:fT});var Ub={exports:{}},kb,OA;function XL(){if(OA)return kb;OA=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kb=e,kb}var jb,IA;function QL(){if(IA)return jb;IA=1;var e=XL();function t(){}function r(){}return r.resetWarningCache=t,jb=function(){function i(s,u,d,c,p,m){if(m!==e){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return l.PropTypes=l,l},jb}var PA;function ZL(){return PA||(PA=1,Ub.exports=QL()()),Ub.exports}var eU=ZL();const Zl=vv(eU);function tU(e,t=aT,r=oT){const i=[];return Object.entries(e).forEach(([a,l])=>{l!=null&&(typeof l=="object"?t.forEach(s=>{const u=l[s];if(u!=null){const d=s!==r?`-${s}`:"";i.push(`${a}${d}-${u}`)}}):i.push(`${a}-${l}`))}),i}const Ws=ie.forwardRef(({as:e="div",bsPrefix:t,className:r,direction:i,gap:a,...l},s)=>{t=Ir(t,i==="horizontal"?"hstack":"vstack");const u=x_(),d=R_();return ge.jsx(e,{...l,ref:s,className:hr(r,t,...tU({gap:a},u,d))})});Ws.displayName="Stack";const nU={type:Zl.string,tooltip:Zl.bool,as:Zl.elementType},Bv=ie.forwardRef(({as:e="div",className:t,type:r="valid",tooltip:i=!1,...a},l)=>ge.jsx(e,{...a,ref:l,className:hr(t,`${r}-${i?"tooltip":"feedback"}`)}));Bv.displayName="Feedback";Bv.propTypes=nU;const au=ie.createContext({}),O_=ie.forwardRef(({id:e,bsPrefix:t,className:r,type:i="checkbox",isValid:a=!1,isInvalid:l=!1,as:s="input",...u},d)=>{const{controlId:c}=ie.useContext(au);return t=Ir(t,"form-check-input"),ge.jsx(s,{...u,ref:d,type:i,id:e||c,className:hr(r,t,a&&"is-valid",l&&"is-invalid")})});O_.displayName="FormCheckInput";const av=ie.forwardRef(({bsPrefix:e,className:t,htmlFor:r,...i},a)=>{const{controlId:l}=ie.useContext(au);return e=Ir(e,"form-check-label"),ge.jsx("label",{...i,ref:a,htmlFor:r||l,className:hr(t,e)})});av.displayName="FormCheckLabel";function rU(e,t){return ie.Children.toArray(e).some(r=>ie.isValidElement(r)&&r.type===t)}const yT=ie.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:r,inline:i=!1,reverse:a=!1,disabled:l=!1,isValid:s=!1,isInvalid:u=!1,feedbackTooltip:d=!1,feedback:c,feedbackType:p,className:m,style:w,title:S="",type:C="checkbox",label:R,children:T,as:E="input",...N},O)=>{t=Ir(t,"form-check"),r=Ir(r,"form-switch");const{controlId:V}=ie.useContext(au),L=ie.useMemo(()=>({controlId:e||V}),[V,e]),z=!T&&R!=null&&R!==!1||rU(T,av),W=ge.jsx(O_,{...N,type:C==="switch"?"checkbox":C,ref:O,isValid:s,isInvalid:u,disabled:l,as:E});return ge.jsx(au.Provider,{value:L,children:ge.jsx("div",{style:w,className:hr(m,z&&t,i&&`${t}-inline`,a&&`${t}-reverse`,C==="switch"&&r),children:T||ge.jsxs(ge.Fragment,{children:[W,z&&ge.jsx(av,{title:S,children:R}),c&&ge.jsx(Bv,{type:p,tooltip:d,children:c})]})})})});yT.displayName="FormCheck";const ov=Object.assign(yT,{Input:O_,Label:av}),vT=ie.forwardRef(({bsPrefix:e,type:t,size:r,htmlSize:i,id:a,className:l,isValid:s=!1,isInvalid:u=!1,plaintext:d,readOnly:c,as:p="input",...m},w)=>{const{controlId:S}=ie.useContext(au);return e=Ir(e,"form-control"),ge.jsx(p,{...m,type:t,size:i,ref:w,readOnly:c,id:a||S,className:hr(l,d?`${e}-plaintext`:e,r&&`${e}-${r}`,t==="color"&&`${e}-color`,s&&"is-valid",u&&"is-invalid")})});vT.displayName="FormControl";const iU=Object.assign(vT,{Feedback:Bv}),bT=ie.forwardRef(({className:e,bsPrefix:t,as:r="div",...i},a)=>(t=Ir(t,"form-floating"),ge.jsx(r,{ref:a,className:hr(e,t),...i})));bT.displayName="FormFloating";const I_=ie.forwardRef(({controlId:e,as:t="div",...r},i)=>{const a=ie.useMemo(()=>({controlId:e}),[e]);return ge.jsx(au.Provider,{value:a,children:ge.jsx(t,{...r,ref:i})})});I_.displayName="FormGroup";function aU({as:e,bsPrefix:t,className:r,...i}){t=Ir(t,"col");const a=x_(),l=R_(),s=[],u=[];return a.forEach(d=>{const c=i[d];delete i[d];let p,m,w;typeof c=="object"&&c!=null?{span:p,offset:m,order:w}=c:p=c;const S=d!==l?`-${d}`:"";p&&s.push(p===!0?`${t}${S}`:`${t}${S}-${p}`),w!=null&&u.push(`order${S}-${w}`),m!=null&&u.push(`offset${S}-${m}`)}),[{...i,className:hr(r,...s,...u)},{as:e,bsPrefix:t,spans:s}]}const Tr=ie.forwardRef((e,t)=>{const[{className:r,...i},{as:a="div",bsPrefix:l,spans:s}]=aU(e);return ge.jsx(a,{...i,ref:t,className:hr(r,!s.length&&l)})});Tr.displayName="Col";const wT=ie.forwardRef(({as:e="label",bsPrefix:t,column:r=!1,visuallyHidden:i=!1,className:a,htmlFor:l,...s},u)=>{const{controlId:d}=ie.useContext(au);t=Ir(t,"form-label");let c="col-form-label";typeof r=="string"&&(c=`${c} ${c}-${r}`);const p=hr(a,t,i&&"visually-hidden",r&&c);return l=l||d,r?ge.jsx(Tr,{ref:u,as:"label",className:p,htmlFor:l,...s}):ge.jsx(e,{ref:u,className:p,htmlFor:l,...s})});wT.displayName="FormLabel";const _T=ie.forwardRef(({bsPrefix:e,className:t,id:r,...i},a)=>{const{controlId:l}=ie.useContext(au);return e=Ir(e,"form-range"),ge.jsx("input",{...i,type:"range",ref:a,className:hr(t,e),id:r||l})});_T.displayName="FormRange";const ST=ie.forwardRef(({bsPrefix:e,size:t,htmlSize:r,className:i,isValid:a=!1,isInvalid:l=!1,id:s,...u},d)=>{const{controlId:c}=ie.useContext(au);return e=Ir(e,"form-select"),ge.jsx("select",{...u,size:r,ref:d,className:hr(i,e,t&&`${e}-${t}`,a&&"is-valid",l&&"is-invalid"),id:s||c})});ST.displayName="FormSelect";const ET=ie.forwardRef(({bsPrefix:e,className:t,as:r="small",muted:i,...a},l)=>(e=Ir(e,"form-text"),ge.jsx(r,{...a,ref:l,className:hr(t,e,i&&"text-muted")})));ET.displayName="FormText";const AT=ie.forwardRef((e,t)=>ge.jsx(ov,{...e,ref:t,type:"switch"}));AT.displayName="Switch";const oU=Object.assign(AT,{Input:ov.Input,Label:ov.Label}),xT=ie.forwardRef(({bsPrefix:e,className:t,children:r,controlId:i,label:a,...l},s)=>(e=Ir(e,"form-floating"),ge.jsxs(I_,{ref:s,className:hr(t,e),controlId:i,...l,children:[r,ge.jsx("label",{htmlFor:i,children:a})]})));xT.displayName="FloatingLabel";const sU={_ref:Zl.any,validated:Zl.bool,as:Zl.elementType},P_=ie.forwardRef(({className:e,validated:t,as:r="form",...i},a)=>ge.jsx(r,{...i,ref:a,className:hr(e,t&&"was-validated")}));P_.displayName="Form";P_.propTypes=sU;const ci=Object.assign(P_,{Group:I_,Control:iU,Floating:bT,Check:ov,Switch:oU,Label:wT,Text:ET,Range:_T,Select:ST,FloatingLabel:xT}),lU=["as","disabled"];function uU(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}function cU(e){return!e||e.trim()==="#"}function RT({tagName:e,disabled:t,href:r,target:i,rel:a,role:l,onClick:s,tabIndex:u=0,type:d}){e||(r!=null||i!=null||a!=null?e="a":e="button");const c={tagName:e};if(e==="button")return[{type:d||"button",disabled:t},c];const p=w=>{if((t||e==="a"&&cU(r))&&w.preventDefault(),t){w.stopPropagation();return}s?.(w)},m=w=>{w.key===" "&&(w.preventDefault(),p(w))};return e==="a"&&(r||(r="#"),t&&(r=void 0)),[{role:l??"button",disabled:void 0,tabIndex:t?void 0:u,href:r,target:e==="a"?i:void 0,"aria-disabled":t||void 0,rel:e==="a"?a:void 0,onClick:p,onKeyDown:m},c]}const fU=ie.forwardRef((e,t)=>{let{as:r,disabled:i}=e,a=uU(e,lU);const[l,{tagName:s}]=RT(Object.assign({tagName:r,disabled:i},a));return ge.jsx(s,Object.assign({},a,l,{ref:t}))});fU.displayName="Button";const ki=ie.forwardRef(({as:e,bsPrefix:t,variant:r="primary",size:i,active:a=!1,disabled:l=!1,className:s,...u},d)=>{const c=Ir(t,"btn"),[p,{tagName:m}]=RT({tagName:e,disabled:l,...u}),w=m;return ge.jsx(w,{...p,...u,ref:d,disabled:l,className:hr(s,c,a&&"active",r&&`${c}-${r}`,i&&`${c}-${i}`,u.href&&l&&"disabled")})});ki.displayName="Button";const dU={"Inrupt Pod Spaces":"https://login.inrupt.com/","Data Pod":"https://datapod.igrant.io/","solidcommunity.net":"https://solidcommunity.net/","solidweb.org":"https://solidweb.org/","redpencil.io":"https://solid.redpencil.io/"},hU=()=>{const e=Jf();return ge.jsxs(ge.Fragment,{children:[ge.jsx(Yl,{className:"position-absolute top-50 start-50 translate-middle text-center pb-4 pt-3 ps-4 pe-4",children:ge.jsx(Yl.Body,{children:ge.jsxs(Ws,{gap:3,style:{width:"250px"},children:[ge.jsx("span",{style:{fontSize:"large",fontWeight:500},children:ge.jsx(ui,{id:"selectASolidProvider",defaultMessage:"Select a Solid provider"})}),ge.jsxs(ci.Select,{style:{borderColor:"#cccccc",height:"45px"},children:[ge.jsx("option",{hidden:!0,children:e.formatMessage({id:"chooseSolidProvider",defaultMessage:"Choose a Solid provider"})},"defaultOption"),Object.keys(dU).map(t=>ge.jsx("option",{children:t},t))]}),ge.jsx(ui,{id:"typeInProviderUrlHeading",defaultMessage:"Or type in a provider URL"}),ge.jsx(ci.Control,{type:"text",placeholder:e.formatMessage({id:"providerUrlPlaceholder",defaultMessage:"Place a provider URL"}),style:{borderColor:"#cccccc",height:"45px"}}),ge.jsx(ki,{className:"solid-button mt-2 w-100",children:ge.jsx(ui,{id:"redirectToProvider",defaultMessage:"Redirect to provider"})})]})})}),ge.jsx("div",{className:"position-absolute bottom-0 start-0 ms-3 mb-3",children:ge.jsxs(ci.Select,{style:{borderColor:"#cccccc",height:"45px"},tabIndex:1,children:[ge.jsx("option",{children:"English"},"en"),ge.jsx("option",{children:"Slovensky"},"sk")]})})]})},Ui=ie.forwardRef(({bsPrefix:e,className:t,as:r="div",...i},a)=>{const l=Ir(e,"row"),s=x_(),u=R_(),d=`${l}-cols`,c=[];return s.forEach(p=>{const m=i[p];delete i[p];let w;m!=null&&typeof m=="object"?{cols:w}=m:w=m;const S=p!==u?`-${p}`:"";w!=null&&c.push(`${d}${S}-${w}`)}),ge.jsx(r,{ref:a,...i,className:hr(t,l,...c)})});Ui.displayName="Row";const dc=ie.forwardRef(({bsPrefix:e,fluid:t=!1,as:r="div",className:i,...a},l)=>{const s=Ir(e,"container"),u=typeof t=="string"?`-${t}`:"-fluid";return ge.jsx(r,{ref:l,...a,className:hr(i,t?`${s}${u}`:s)})});dc.displayName="Container";const pU=()=>{const e=Jf();return ge.jsxs("div",{style:{height:"100dvh",backgroundColor:"#FAFAFA"},children:[ge.jsx(dc,{fluid:!0,children:ge.jsxs(Ui,{className:"sticky-top align-items-center",style:{backgroundColor:"#7C4DFF",height:"86px"},children:[ge.jsx(Tr,{className:"ms-3",xs:8,children:ge.jsx("span",{style:{color:"white",fontSize:"x-large",fontWeight:500},children:ge.jsx(ui,{id:"menuOverviewHeading",defaultMessage:"Menu overview"})})}),ge.jsx(Tr,{className:"text-end",children:ge.jsx("button",{style:{background:"none",border:"none"},"aria-label":"Open offcanvas",children:ge.jsx("img",{src:"images/list.svg",alt:"Hamburger icon",style:{width:"40px"}})})})]})}),ge.jsxs(Ws,{gap:3,className:"ps-3 pe-3 mt-3",children:[ge.jsx(Yl,{style:{maxWidth:"470px",height:"160px"},children:ge.jsx(Yl.Body,{children:ge.jsxs(Ui,{children:[ge.jsxs(Tr,{xs:9,children:[ge.jsx("div",{style:{fontSize:"large",fontWeight:700},children:"A la Carte Menu"}),ge.jsxs("div",{className:"mt-2",children:[ge.jsx("img",{src:"images/calendar-week.svg",alt:"Calendar icon",style:{width:"22px"}}),ge.jsx("span",{className:"text-muted ms-3",style:{fontWeight:500},children:"Monday - Friday"})]}),ge.jsx(ki,{variant:"secondary",className:"mt-4",children:ge.jsx(ui,{id:"editMenu",defaultMessage:"Edit"})})]}),ge.jsxs(Tr,{xs:3,className:"text-end",children:[ge.jsx(ci.Switch,{reverse:!0,label:e.formatMessage({id:"visible",defaultMessage:"Visible"})}),ge.jsx(ki,{variant:"secondary",style:{marginTop:"43pt",marginRight:"4pt"},children:e.formatMessage({id:"scheduleMenu",defaultMessage:"Schedule"})})]})]})})}),ge.jsx(Yl,{style:{maxWidth:"470px",height:"160px"},children:ge.jsx(Yl.Body,{children:ge.jsxs(Ui,{children:[ge.jsxs(Tr,{xs:9,children:[ge.jsx("div",{style:{fontSize:"large",fontWeight:700},children:"Weekend Menu"}),ge.jsxs("div",{className:"mt-2",children:[ge.jsx("img",{src:"images/calendar-week.svg",alt:"Calendar icon",style:{width:"22px"}}),ge.jsx("span",{className:"text-muted ms-3",style:{fontWeight:500},children:"Saturday, Sunday"})]}),ge.jsx(ki,{variant:"secondary",className:"mt-4",children:ge.jsx(ui,{id:"editMenu",defaultMessage:"Edit"})})]}),ge.jsxs(Tr,{xs:3,className:"text-end",children:[ge.jsx(ci.Switch,{reverse:!0,label:e.formatMessage({id:"visible",defaultMessage:"Visible"})}),ge.jsx(ki,{variant:"secondary",style:{marginTop:"43pt",marginRight:"4pt"},children:e.formatMessage({id:"scheduleMenu",defaultMessage:"Schedule"})})]})]})})}),ge.jsx(Yl,{style:{maxWidth:"470px",height:"160px"},children:ge.jsx(Yl.Body,{children:ge.jsxs(Ui,{children:[ge.jsxs(Tr,{xs:9,children:[ge.jsx("div",{style:{fontSize:"large",fontWeight:700},children:"Lunch Menu"}),ge.jsxs("div",{className:"mt-2",children:[ge.jsx("img",{src:"images/calendar-week.svg",alt:"Calendar icon",style:{width:"22px"}}),ge.jsx("span",{className:"text-muted ms-3",style:{fontWeight:500},children:"Daily, 11:00 AM - 3:00 PM"})]}),ge.jsx(ki,{variant:"secondary",className:"mt-4",children:ge.jsx(ui,{id:"editMenu",defaultMessage:"Edit"})})]}),ge.jsxs(Tr,{xs:3,className:"text-end",children:[ge.jsx(ci.Switch,{reverse:!0,label:e.formatMessage({id:"visible",defaultMessage:"Visible"})}),ge.jsx(ki,{variant:"secondary",style:{marginTop:"43pt",marginRight:"4pt"},children:e.formatMessage({id:"scheduleMenu",defaultMessage:"Schedule"})})]})]})})})]}),ge.jsx(ki,{className:"position-absolute position-fixed bottom-0 end-0 mb-4 me-4 add-menu-round-button shadow",children:ge.jsx("img",{src:"images/plus.svg",alt:"Add menu icon",className:"edit-profile-round-icon",style:{width:"36px"}})})]})},gU=ie.createContext(null);function Kn(){return Kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Kn.apply(null,arguments)}function N_(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;r[i]=e[i]}return r}function NA(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function mU(e){var t=yU(e,"string");return typeof t=="symbol"?t:String(t)}function yU(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vU(e,t,r){var i=ie.useRef(e!==void 0),a=ie.useState(t),l=a[0],s=a[1],u=e!==void 0,d=i.current;return i.current=u,!u&&d&&l!==t&&s(t),[u?e:l,ie.useCallback(function(c){for(var p=arguments.length,m=new Array(p>1?p-1:0),w=1;w<p;w++)m[w-1]=arguments[w];r&&r.apply(void 0,[c].concat(m)),s(c)},[r])]}function bU(e,t){return Object.keys(t).reduce(function(r,i){var a,l=r,s=l[NA(i)],u=l[i],d=N_(l,[NA(i),i].map(mU)),c=t[i],p=vU(u,s,e[c]),m=p[0],w=p[1];return Kn({},d,(a={},a[i]=m,a[c]=w,a))},e)}function sv(e,t){return sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sv(e,t)}function wU(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,sv(e,t)}const CT=ie.forwardRef(({bsPrefix:e,className:t,as:r,...i},a)=>{e=Ir(e,"navbar-brand");const l=r||(i.href?"a":"span");return ge.jsx(l,{...i,ref:a,className:hr(t,e)})});CT.displayName="NavbarBrand";function F_(e){return e&&e.ownerDocument||document}function _U(e){var t=F_(e);return t&&t.defaultView||window}function SU(e,t){return _U(e).getComputedStyle(e,t)}var EU=/([A-Z])/g;function AU(e){return e.replace(EU,"-$1").toLowerCase()}var xU=/^ms-/;function Ny(e){return AU(e).replace(xU,"-ms-")}var RU=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function CU(e){return!!(e&&RU.test(e))}function eu(e,t){var r="",i="";if(typeof t=="string")return e.style.getPropertyValue(Ny(t))||SU(e).getPropertyValue(Ny(t));Object.keys(t).forEach(function(a){var l=t[a];!l&&l!==0?e.style.removeProperty(Ny(a)):CU(a)?i+=a+"("+l+") ":r+=Ny(a)+": "+l+";"}),i&&(r+="transform: "+i+";"),e.style.cssText+=";"+r}var TT=yx();const dh=vv(TT),FA={disabled:!1},OT=ds.createContext(null);var TU=function(t){return t.scrollTop},zg="unmounted",sc="exited",fs="entering",Xl="entered",om="exiting",lu=function(e){wU(t,e);function t(i,a){var l;l=e.call(this,i,a)||this;var s=a,u=s&&!s.isMounting?i.enter:i.appear,d;return l.appearStatus=null,i.in?u?(d=sc,l.appearStatus=fs):d=Xl:i.unmountOnExit||i.mountOnEnter?d=zg:d=sc,l.state={status:d},l.nextCallback=null,l}t.getDerivedStateFromProps=function(a,l){var s=a.in;return s&&l.status===zg?{status:sc}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(a){var l=null;if(a!==this.props){var s=this.state.status;this.props.in?s!==fs&&s!==Xl&&(l=fs):(s===fs||s===Xl)&&(l=om)}this.updateStatus(!1,l)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var a=this.props.timeout,l,s,u;return l=s=u=a,a!=null&&typeof a!="number"&&(l=a.exit,s=a.enter,u=a.appear!==void 0?a.appear:s),{exit:l,enter:s,appear:u}},r.updateStatus=function(a,l){if(a===void 0&&(a=!1),l!==null)if(this.cancelNextCallback(),l===fs){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:dh.findDOMNode(this);s&&TU(s)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===sc&&this.setState({status:zg})},r.performEnter=function(a){var l=this,s=this.props.enter,u=this.context?this.context.isMounting:a,d=this.props.nodeRef?[u]:[dh.findDOMNode(this),u],c=d[0],p=d[1],m=this.getTimeouts(),w=u?m.appear:m.enter;if(!a&&!s||FA.disabled){this.safeSetState({status:Xl},function(){l.props.onEntered(c)});return}this.props.onEnter(c,p),this.safeSetState({status:fs},function(){l.props.onEntering(c,p),l.onTransitionEnd(w,function(){l.safeSetState({status:Xl},function(){l.props.onEntered(c,p)})})})},r.performExit=function(){var a=this,l=this.props.exit,s=this.getTimeouts(),u=this.props.nodeRef?void 0:dh.findDOMNode(this);if(!l||FA.disabled){this.safeSetState({status:sc},function(){a.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:om},function(){a.props.onExiting(u),a.onTransitionEnd(s.exit,function(){a.safeSetState({status:sc},function(){a.props.onExited(u)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(a,l){l=this.setNextCallback(l),this.setState(a,l)},r.setNextCallback=function(a){var l=this,s=!0;return this.nextCallback=function(u){s&&(s=!1,l.nextCallback=null,a(u))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(a,l){this.setNextCallback(l);var s=this.props.nodeRef?this.props.nodeRef.current:dh.findDOMNode(this),u=a==null&&!this.props.addEndListener;if(!s||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=d[0],p=d[1];this.props.addEndListener(c,p)}a!=null&&setTimeout(this.nextCallback,a)},r.render=function(){var a=this.state.status;if(a===zg)return null;var l=this.props,s=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var u=N_(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ds.createElement(OT.Provider,{value:null},typeof s=="function"?s(a,u):ds.cloneElement(ds.Children.only(s),u))},t}(ds.Component);lu.contextType=OT;lu.propTypes={};function oh(){}lu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:oh,onEntering:oh,onEntered:oh,onExit:oh,onExiting:oh,onExited:oh};lu.UNMOUNTED=zg;lu.EXITED=sc;lu.ENTERING=fs;lu.ENTERED=Xl;lu.EXITING=om;function OU(e){return e.code==="Escape"||e.keyCode===27}function IU(){const e=ie.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function Ah(e){if(!e||typeof e=="function")return null;const{major:t}=IU();return t>=19?e.props.ref:e.ref}const Hv=!!(typeof window<"u"&&window.document&&window.document.createElement);var xw=!1,Rw=!1;try{var Bb={get passive(){return xw=!0},get once(){return Rw=xw=!0}};Hv&&(window.addEventListener("test",Bb,Bb),window.removeEventListener("test",Bb,!0))}catch{}function PU(e,t,r,i){if(i&&typeof i!="boolean"&&!Rw){var a=i.once,l=i.capture,s=r;!Rw&&a&&(s=r.__once||function u(d){this.removeEventListener(t,u,l),r.call(this,d)},r.__once=s),e.addEventListener(t,s,xw?i:l)}e.addEventListener(t,r,i)}function NU(e,t,r,i){var a=i&&typeof i!="boolean"?i.capture:i;e.removeEventListener(t,r,a),r.__once&&e.removeEventListener(t,r.__once,a)}function lv(e,t,r,i){return PU(e,t,r,i),function(){NU(e,t,r,i)}}function FU(e,t,r,i){if(i===void 0&&(i=!0),e){var a=document.createEvent("HTMLEvents");a.initEvent(t,r,i),e.dispatchEvent(a)}}function DU(e){var t=eu(e,"transitionDuration")||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function MU(e,t,r){r===void 0&&(r=5);var i=!1,a=setTimeout(function(){i||FU(e,"transitionend",!0)},t+r),l=lv(e,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(a),l()}}function LU(e,t,r,i){r==null&&(r=DU(e)||0);var a=MU(e,r,i),l=lv(e,"transitionend",t);return function(){a(),l()}}function DA(e,t){const r=eu(e,t)||"",i=r.indexOf("ms")===-1?1e3:1;return parseFloat(r)*i}function D_(e,t){const r=DA(e,"transitionDuration"),i=DA(e,"transitionDelay"),a=LU(e,l=>{l.target===e&&(a(),t(l))},r+i)}function Vg(...e){return e.filter(t=>t!=null).reduce((t,r)=>{if(typeof r!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?r:function(...a){t.apply(this,a),r.apply(this,a)}},null)}function IT(e){e.offsetHeight}const MA=e=>!e||typeof e=="function"?e:t=>{e.current=t};function UU(e,t){const r=MA(e),i=MA(t);return a=>{r&&r(a),i&&i(a)}}function kU(e,t){return ie.useMemo(()=>UU(e,t),[e,t])}function jU(e){return e&&"setState"in e?dh.findDOMNode(e):e??null}const Vv=ds.forwardRef(({onEnter:e,onEntering:t,onEntered:r,onExit:i,onExiting:a,onExited:l,addEndListener:s,children:u,childRef:d,...c},p)=>{const m=ie.useRef(null),w=kU(m,d),S=z=>{w(jU(z))},C=z=>W=>{z&&m.current&&z(m.current,W)},R=ie.useCallback(C(e),[e]),T=ie.useCallback(C(t),[t]),E=ie.useCallback(C(r),[r]),N=ie.useCallback(C(i),[i]),O=ie.useCallback(C(a),[a]),V=ie.useCallback(C(l),[l]),L=ie.useCallback(C(s),[s]);return ge.jsx(lu,{ref:p,...c,onEnter:R,onEntered:E,onEntering:T,onExit:N,onExited:V,onExiting:O,addEndListener:L,nodeRef:m,children:typeof u=="function"?(z,W)=>u(z,{...W,ref:S}):ds.cloneElement(u,{ref:S})})});Vv.displayName="TransitionWrapper";const BU={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function HU(e,t){const r=`offset${e[0].toUpperCase()}${e.slice(1)}`,i=t[r],a=BU[e];return i+parseInt(eu(t,a[0]),10)+parseInt(eu(t,a[1]),10)}const VU={[sc]:"collapse",[om]:"collapsing",[fs]:"collapsing",[Xl]:"collapse show"},PT=ds.forwardRef(({onEnter:e,onEntering:t,onEntered:r,onExit:i,onExiting:a,className:l,children:s,dimension:u="height",in:d=!1,timeout:c=300,mountOnEnter:p=!1,unmountOnExit:m=!1,appear:w=!1,getDimensionValue:S=HU,...C},R)=>{const T=typeof u=="function"?u():u,E=ie.useMemo(()=>Vg(z=>{z.style[T]="0"},e),[T,e]),N=ie.useMemo(()=>Vg(z=>{const W=`scroll${T[0].toUpperCase()}${T.slice(1)}`;z.style[T]=`${z[W]}px`},t),[T,t]),O=ie.useMemo(()=>Vg(z=>{z.style[T]=null},r),[T,r]),V=ie.useMemo(()=>Vg(z=>{z.style[T]=`${S(T,z)}px`,IT(z)},i),[i,S,T]),L=ie.useMemo(()=>Vg(z=>{z.style[T]=null},a),[T,a]);return ge.jsx(Vv,{ref:R,addEndListener:D_,...C,"aria-expanded":C.role?d:null,onEnter:E,onEntering:N,onEntered:O,onExit:V,onExiting:L,childRef:Ah(s),in:d,timeout:c,mountOnEnter:p,unmountOnExit:m,appear:w,children:(z,W)=>ds.cloneElement(s,{...W,className:hr(l,s.props.className,VU[z],T==="width"&&"collapse-horizontal")})})});PT.displayName="Collapse";const Em=ie.createContext(null);Em.displayName="NavbarContext";const NT=ie.forwardRef(({children:e,bsPrefix:t,...r},i)=>{t=Ir(t,"navbar-collapse");const a=ie.useContext(Em);return ge.jsx(PT,{in:!!(a&&a.expanded),...r,children:ge.jsx("div",{ref:i,className:t,children:e})})});NT.displayName="NavbarCollapse";function $U(e){const t=ie.useRef(e);return ie.useEffect(()=>{t.current=e},[e]),t}function $v(e){const t=$U(e);return ie.useCallback(function(...r){return t.current&&t.current(...r)},[t])}const FT=ie.forwardRef(({bsPrefix:e,className:t,children:r,label:i="Toggle navigation",as:a="button",onClick:l,...s},u)=>{e=Ir(e,"navbar-toggler");const{onToggle:d,expanded:c}=ie.useContext(Em)||{},p=$v(m=>{l&&l(m),d&&d()});return a==="button"&&(s.type="button"),ge.jsx(a,{...s,ref:u,onClick:p,"aria-label":i,className:hr(t,e,!c&&"collapsed"),children:r||ge.jsx("span",{className:`${e}-icon`})})});FT.displayName="NavbarToggle";const KU=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",GU=typeof document<"u",qU=GU||KU?ie.useLayoutEffect:ie.useEffect,Cw=new WeakMap,LA=(e,t)=>{if(!e||!t)return;const r=Cw.get(t)||new Map;Cw.set(t,r);let i=r.get(e);return i||(i=t.matchMedia(e),i.refCount=0,r.set(i.media,i)),i};function zU(e,t=typeof window>"u"?void 0:window){const r=LA(e,t),[i,a]=ie.useState(()=>r?r.matches:!1);return qU(()=>{let l=LA(e,t);if(!l)return a(!1);let s=Cw.get(t);const u=()=>{a(l.matches)};return l.refCount++,l.addListener(u),u(),()=>{l.removeListener(u),l.refCount--,l.refCount<=0&&s?.delete(l.media),l=void 0}},[e]),i}function WU(e){const t=Object.keys(e);function r(u,d){return u===d?d:u?`${u} and ${d}`:d}function i(u){return t[Math.min(t.indexOf(u)+1,t.length-1)]}function a(u){const d=i(u);let c=e[d];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function l(u){let d=e[u];return typeof d=="number"&&(d=`${d}px`),`(min-width: ${d})`}function s(u,d,c){let p;typeof u=="object"?(p=u,c=d,d=!0):(d=d||!0,p={[u]:d});let m=ie.useMemo(()=>Object.entries(p).reduce((w,[S,C])=>((C==="up"||C===!0)&&(w=r(w,l(S))),(C==="down"||C===!0)&&(w=r(w,a(S))),w),""),[JSON.stringify(p)]);return zU(m,c)}return s}const JU=WU({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Hb(e){e===void 0&&(e=F_());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function UA(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function YU(){const e=ie.useRef(!0),t=ie.useRef(()=>e.current);return ie.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function XU(e){const t=ie.useRef(e);return t.current=e,t}function QU(e){const t=XU(e);ie.useEffect(()=>()=>t.current(),[])}function ZU(e){const t=ie.useRef(null);return ie.useEffect(()=>{t.current=e}),t.current}function ek(e){const t=ie.useRef(e);return ie.useEffect(()=>{t.current=e},[e]),t}function Hf(e){const t=ek(e);return ie.useCallback(function(...r){return t.current&&t.current(...r)},[t])}const tk="data-rr-ui-";function nk(e){return`${tk}${e}`}function rk(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const kA=nk("modal-open");class M_{constructor({ownerDocument:t,handleContainerOverflow:r=!0,isRTL:i=!1}={}){this.handleContainerOverflow=r,this.isRTL=i,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return rk(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const r={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();t.style={overflow:a.style.overflow,[i]:a.style[i]},t.scrollBarWidth&&(r[i]=`${parseInt(eu(a,i)||"0",10)+t.scrollBarWidth}px`),a.setAttribute(kA,""),eu(a,r)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const r=this.getElement();r.removeAttribute(kA),Object.assign(r.style,t.style)}add(t){let r=this.modals.indexOf(t);return r!==-1||(r=this.modals.length,this.modals.push(t),this.setModalAttributes(t),r!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),r}remove(t){const r=this.modals.indexOf(t);r!==-1&&(this.modals.splice(r,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const DT=ie.createContext(Hv?window:void 0);DT.Provider;function L_(){return ie.useContext(DT)}const Vb=(e,t)=>Hv?e==null?(t||F_()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function ik(e,t){const r=L_(),[i,a]=ie.useState(()=>Vb(e,r?.document));if(!i){const l=Vb(e);l&&a(l)}return ie.useEffect(()=>{},[t,i]),ie.useEffect(()=>{const l=Vb(e);l!==i&&a(l)},[e,i]),i}const jA=e=>!e||typeof e=="function"?e:t=>{e.current=t};function ak(e,t){const r=jA(e),i=jA(t);return a=>{r&&r(a),i&&i(a)}}function U_(e,t){return ie.useMemo(()=>ak(e,t),[e,t])}const ok=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",sk=typeof document<"u",BA=sk||ok?ie.useLayoutEffect:ie.useEffect;function lk({children:e,in:t,onExited:r,mountOnEnter:i,unmountOnExit:a}){const l=ie.useRef(null),s=ie.useRef(t),u=Hf(r);ie.useEffect(()=>{t?s.current=!0:u(l.current)},[t,u]);const d=U_(l,Ah(e)),c=ie.cloneElement(e,{ref:d});return t?c:a||!s.current&&i?null:c}const uk=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function ck(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}function fk(e){let{onEnter:t,onEntering:r,onEntered:i,onExit:a,onExiting:l,onExited:s,addEndListener:u,children:d}=e,c=ck(e,uk);const p=ie.useRef(null),m=U_(p,Ah(d)),w=V=>L=>{V&&p.current&&V(p.current,L)},S=ie.useCallback(w(t),[t]),C=ie.useCallback(w(r),[r]),R=ie.useCallback(w(i),[i]),T=ie.useCallback(w(a),[a]),E=ie.useCallback(w(l),[l]),N=ie.useCallback(w(s),[s]),O=ie.useCallback(w(u),[u]);return Object.assign({},c,{nodeRef:p},t&&{onEnter:S},r&&{onEntering:C},i&&{onEntered:R},a&&{onExit:T},l&&{onExiting:E},s&&{onExited:N},u&&{addEndListener:O},{children:typeof d=="function"?(V,L)=>d(V,Object.assign({},L,{ref:m})):ie.cloneElement(d,{ref:m})})}const dk=["component"];function hk(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}const pk=ie.forwardRef((e,t)=>{let{component:r}=e,i=hk(e,dk);const a=fk(i);return ge.jsx(r,Object.assign({ref:t},a))});function gk({in:e,onTransition:t}){const r=ie.useRef(null),i=ie.useRef(!0),a=Hf(t);return BA(()=>{if(!r.current)return;let l=!1;return a({in:e,element:r.current,initial:i.current,isStale:()=>l}),()=>{l=!0}},[e,a]),BA(()=>(i.current=!1,()=>{i.current=!0}),[]),r}function mk({children:e,in:t,onExited:r,onEntered:i,transition:a}){const[l,s]=ie.useState(!t);t&&l&&s(!1);const u=gk({in:!!t,onTransition:c=>{const p=()=>{c.isStale()||(c.in?i?.(c.element,c.initial):(s(!0),r?.(c.element)))};Promise.resolve(a(c)).then(p,m=>{throw c.in||s(!0),m})}}),d=U_(u,Ah(e));return l&&!t?null:ie.cloneElement(e,{ref:d})}function HA(e,t,r){return e?ge.jsx(pk,Object.assign({},r,{component:e})):t?ge.jsx(mk,Object.assign({},r,{transition:t})):ge.jsx(lk,Object.assign({},r))}const yk=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function vk(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}let $b;function bk(e){return $b||($b=new M_({ownerDocument:e?.document})),$b}function wk(e){const t=L_(),r=e||bk(t),i=ie.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>r.add(i.current),remove:()=>r.remove(i.current),isTopModal:()=>r.isTopModal(i.current),setDialogRef:ie.useCallback(a=>{i.current.dialog=a},[]),setBackdropRef:ie.useCallback(a=>{i.current.backdrop=a},[])})}const MT=ie.forwardRef((e,t)=>{let{show:r=!1,role:i="dialog",className:a,style:l,children:s,backdrop:u=!0,keyboard:d=!0,onBackdropClick:c,onEscapeKeyDown:p,transition:m,runTransition:w,backdropTransition:S,runBackdropTransition:C,autoFocus:R=!0,enforceFocus:T=!0,restoreFocus:E=!0,restoreFocusOptions:N,renderDialog:O,renderBackdrop:V=ne=>ge.jsx("div",Object.assign({},ne)),manager:L,container:z,onShow:W,onHide:$=()=>{},onExit:Ce,onExited:K,onExiting:re,onEnter:pe,onEntering:_e,onEntered:et}=e,rt=vk(e,yk);const xe=L_(),lt=ik(z),he=wk(L),nt=YU(),Y=ZU(r),[Re,Ke]=ie.useState(!r),Ue=ie.useRef(null);ie.useImperativeHandle(t,()=>he,[he]),Hv&&!Y&&r&&(Ue.current=Hb(xe?.document)),r&&Re&&Ke(!1);const at=Hf(()=>{if(he.add(),Ye.current=lv(document,"keydown",ue),Ie.current=lv(document,"focus",()=>setTimeout(Nt),!0),W&&W(),R){var ne,Ee;const Ne=Hb((ne=(Ee=he.dialog)==null?void 0:Ee.ownerDocument)!=null?ne:xe?.document);he.dialog&&Ne&&!UA(he.dialog,Ne)&&(Ue.current=Ne,he.dialog.focus())}}),It=Hf(()=>{if(he.remove(),Ye.current==null||Ye.current(),Ie.current==null||Ie.current(),E){var ne;(ne=Ue.current)==null||ne.focus==null||ne.focus(N),Ue.current=null}});ie.useEffect(()=>{!r||!lt||at()},[r,lt,at]),ie.useEffect(()=>{Re&&It()},[Re,It]),QU(()=>{It()});const Nt=Hf(()=>{if(!T||!nt()||!he.isTopModal())return;const ne=Hb(xe?.document);he.dialog&&ne&&!UA(he.dialog,ne)&&he.dialog.focus()}),Me=Hf(ne=>{ne.target===ne.currentTarget&&(c?.(ne),u===!0&&$())}),ue=Hf(ne=>{d&&OU(ne)&&he.isTopModal()&&(p?.(ne),ne.defaultPrevented||$())}),Ie=ie.useRef(),Ye=ie.useRef(),se=(...ne)=>{Ke(!0),K?.(...ne)};if(!lt)return null;const k=Object.assign({role:i,ref:he.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},rt,{style:l,className:a,tabIndex:-1});let D=O?O(k):ge.jsx("div",Object.assign({},k,{children:ie.cloneElement(s,{role:"document"})}));D=HA(m,w,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:Ce,onExiting:re,onExited:se,onEnter:pe,onEntering:_e,onEntered:et,children:D});let q=null;return u&&(q=V({ref:he.setBackdropRef,onClick:Me}),q=HA(S,C,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:q})),ge.jsx(ge.Fragment,{children:dh.createPortal(ge.jsxs(ge.Fragment,{children:[q,D]}),lt)})});MT.displayName="Modal";const _k=Object.assign(MT,{Manager:M_}),Sk={[fs]:"show",[Xl]:"show"},LT=ie.forwardRef(({className:e,children:t,transitionClasses:r={},onEnter:i,...a},l)=>{const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},u=ie.useCallback((d,c)=>{IT(d),i?.(d,c)},[i]);return ge.jsx(Vv,{ref:l,addEndListener:D_,...s,onEnter:u,childRef:Ah(t),children:(d,c)=>ie.cloneElement(t,{...c,className:hr("fade",e,t.props.className,Sk[d],r[d])})})});LT.displayName="Fade";const UT=ie.forwardRef(({className:e,bsPrefix:t,as:r="div",...i},a)=>(t=Ir(t,"offcanvas-body"),ge.jsx(r,{ref:a,className:hr(e,t),...i})));UT.displayName="OffcanvasBody";const Ek={[fs]:"show",[Xl]:"show"},kT=ie.forwardRef(({bsPrefix:e,className:t,children:r,in:i=!1,mountOnEnter:a=!1,unmountOnExit:l=!1,appear:s=!1,...u},d)=>(e=Ir(e,"offcanvas"),ge.jsx(Vv,{ref:d,addEndListener:D_,in:i,mountOnEnter:a,unmountOnExit:l,appear:s,...u,childRef:Ah(r),children:(c,p)=>ie.cloneElement(r,{...p,className:hr(t,r.props.className,(c===fs||c===om)&&`${e}-toggling`,Ek[c])})})));kT.displayName="OffcanvasToggling";const jT=ie.createContext({onHide(){}}),Ak={"aria-label":Zl.string,onClick:Zl.func,variant:Zl.oneOf(["white"])},k_=ie.forwardRef(({className:e,variant:t,"aria-label":r="Close",...i},a)=>ge.jsx("button",{ref:a,type:"button",className:hr("btn-close",t&&`btn-close-${t}`,e),"aria-label":r,...i}));k_.displayName="CloseButton";k_.propTypes=Ak;const BT=ie.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:r=!1,onHide:i,children:a,...l},s)=>{const u=ie.useContext(jT),d=$v(()=>{u?.onHide(),i?.()});return ge.jsxs("div",{ref:s,...l,children:[a,r&&ge.jsx(k_,{"aria-label":e,variant:t,onClick:d})]})});BT.displayName="AbstractModalHeader";const HT=ie.forwardRef(({bsPrefix:e,className:t,closeLabel:r="Close",closeButton:i=!1,...a},l)=>(e=Ir(e,"offcanvas-header"),ge.jsx(BT,{ref:l,...a,className:hr(t,e),closeLabel:r,closeButton:i})));HT.displayName="OffcanvasHeader";const xk=T_("h5"),VT=ie.forwardRef(({className:e,bsPrefix:t,as:r=xk,...i},a)=>(t=Ir(t,"offcanvas-title"),ge.jsx(r,{ref:a,className:hr(e,t),...i})));VT.displayName="OffcanvasTitle";function Rk(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Ck(e,t){e.classList?e.classList.add(t):Rk(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}var Tk=Function.prototype.bind.call(Function.prototype.call,[].slice);function sh(e,t){return Tk(e.querySelectorAll(t))}function VA(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ok(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=VA(e.className,t):e.setAttribute("class",VA(e.className&&e.className.baseVal||"",t))}const lh={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class $T extends M_{adjustAndStore(t,r,i){const a=r.style[t];r.dataset[t]=a,eu(r,{[t]:`${parseFloat(eu(r,t))+i}px`})}restore(t,r){const i=r.dataset[t];i!==void 0&&(delete r.dataset[t],eu(r,{[t]:i}))}setContainerStyle(t){super.setContainerStyle(t);const r=this.getElement();if(Ck(r,"modal-open"),!t.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";sh(r,lh.FIXED_CONTENT).forEach(l=>this.adjustAndStore(i,l,t.scrollBarWidth)),sh(r,lh.STICKY_CONTENT).forEach(l=>this.adjustAndStore(a,l,-t.scrollBarWidth)),sh(r,lh.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(a,l,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const r=this.getElement();Ok(r,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";sh(r,lh.FIXED_CONTENT).forEach(l=>this.restore(i,l)),sh(r,lh.STICKY_CONTENT).forEach(l=>this.restore(a,l)),sh(r,lh.NAVBAR_TOGGLER).forEach(l=>this.restore(a,l))}}let Kb;function Ik(e){return Kb||(Kb=new $T(e)),Kb}function Pk(e){return ge.jsx(kT,{...e})}function Nk(e){return ge.jsx(LT,{...e})}const KT=ie.forwardRef(({bsPrefix:e,className:t,children:r,"aria-labelledby":i,placement:a="start",responsive:l,show:s=!1,backdrop:u=!0,keyboard:d=!0,scroll:c=!1,onEscapeKeyDown:p,onShow:m,onHide:w,container:S,autoFocus:C=!0,enforceFocus:R=!0,restoreFocus:T=!0,restoreFocusOptions:E,onEntered:N,onExit:O,onExiting:V,onEnter:L,onEntering:z,onExited:W,backdropClassName:$,manager:Ce,renderStaticNode:K=!1,...re},pe)=>{const _e=ie.useRef();e=Ir(e,"offcanvas");const[et,rt]=ie.useState(!1),xe=$v(w),lt=JU(l||"xs","up");ie.useEffect(()=>{rt(l?s&&!lt:s)},[s,l,lt]);const he=ie.useMemo(()=>({onHide:xe}),[xe]);function nt(){return Ce||(c?(_e.current||(_e.current=new $T({handleContainerOverflow:!1})),_e.current):Ik())}const Y=(at,...It)=>{at&&(at.style.visibility="visible"),L?.(at,...It)},Re=(at,...It)=>{at&&(at.style.visibility=""),W?.(...It)},Ke=ie.useCallback(at=>ge.jsx("div",{...at,className:hr(`${e}-backdrop`,$)}),[$,e]),Ue=at=>ge.jsx("div",{...at,...re,className:hr(t,l?`${e}-${l}`:e,`${e}-${a}`),"aria-labelledby":i,children:r});return ge.jsxs(ge.Fragment,{children:[!et&&(l||K)&&Ue({}),ge.jsx(jT.Provider,{value:he,children:ge.jsx(_k,{show:et,ref:pe,backdrop:u,container:S,keyboard:d,autoFocus:C,enforceFocus:R&&!c,restoreFocus:T,restoreFocusOptions:E,onEscapeKeyDown:p,onShow:m,onHide:xe,onEnter:Y,onEntering:z,onEntered:N,onExit:O,onExiting:V,onExited:Re,manager:nt(),transition:Pk,backdropTransition:Nk,renderBackdrop:Ke,renderDialog:Ue})})]})});KT.displayName="Offcanvas";const Fk=Object.assign(KT,{Body:UT,Header:HT,Title:VT}),GT=ie.forwardRef(({onHide:e,...t},r)=>{const i=ie.useContext(Em),a=$v(()=>{i==null||i.onToggle==null||i.onToggle(),e?.()});return ge.jsx(Fk,{ref:r,show:!!(i!=null&&i.expanded),...t,renderStaticNode:!0,onHide:a})});GT.displayName="NavbarOffcanvas";const qT=ie.forwardRef(({className:e,bsPrefix:t,as:r="span",...i},a)=>(t=Ir(t,"navbar-text"),ge.jsx(r,{ref:a,className:hr(e,t),...i})));qT.displayName="NavbarText";const zT=ie.forwardRef((e,t)=>{const{bsPrefix:r,expand:i=!0,variant:a="light",bg:l,fixed:s,sticky:u,className:d,as:c="nav",expanded:p,onToggle:m,onSelect:w,collapseOnSelect:S=!1,...C}=bU(e,{expanded:"onToggle"}),R=Ir(r,"navbar"),T=ie.useCallback((...O)=>{w?.(...O),S&&p&&m?.(!1)},[w,S,p,m]);C.role===void 0&&c!=="nav"&&(C.role="navigation");let E=`${R}-expand`;typeof i=="string"&&(E=`${E}-${i}`);const N=ie.useMemo(()=>({onToggle:()=>m?.(!p),bsPrefix:R,expanded:!!p,expand:i}),[R,p,i,m]);return ge.jsx(Em.Provider,{value:N,children:ge.jsx(gU.Provider,{value:T,children:ge.jsx(c,{ref:t,...C,className:hr(d,R,i&&E,a&&`${R}-${a}`,l&&`bg-${l}`,u&&`sticky-${u}`,s&&`fixed-${s}`)})})})});zT.displayName="Navbar";const uv=Object.assign(zT,{Brand:CT,Collapse:NT,Offcanvas:GT,Text:qT,Toggle:FT}),Dk=()=>{const e=()=>{const t=Jf();return ge.jsxs(ge.Fragment,{children:[ge.jsxs(dc,{fluid:!0,children:[ge.jsxs(Ui,{style:{maxWidth:"700px",marginTop:"15px"},children:[ge.jsx(Tr,{xs:6,children:ge.jsxs(Ws,{style:{width:"150px"},gap:3,children:[ge.jsx(ci.Control,{value:"Lunch Menu"}),ge.jsx(ki,{variant:"secondary",children:t.formatMessage({id:"scheduleMenu",defaultMessage:"Schedule"})}),ge.jsx(ki,{variant:"secondary",children:t.formatMessage({id:"addCategory",defaultMessage:"Add category"})})]})}),ge.jsx(Tr,{xs:6,children:ge.jsxs(Ws,{gap:3,style:{marginTop:"10px",maxWidth:"200px"},children:[ge.jsx(ci.Switch,{reverse:!0,label:t.formatMessage({id:"visible",defaultMessage:"Visible"})}),ge.jsxs(ci.Group,{as:Ui,controlId:"menuCurrencyTextInput",children:[ge.jsx(ci.Label,{column:!0,xs:"6",className:"text-end",children:ge.jsx(ui,{id:"currency",defaultMessage:"Currency"})}),ge.jsx(Tr,{xs:"6",children:ge.jsxs(ci.Select,{style:{width:"70px"},"aria-label":"Currency select",children:[ge.jsx("option",{value:"1",children:""}),ge.jsx("option",{value:"2",children:"$"}),ge.jsx("option",{value:"3",children:""})]})})]}),ge.jsx(ki,{variant:"secondary",style:{width:"150px",marginLeft:"30px"},children:ge.jsx(ui,{id:"shareMenu",defaultMessage:"Share"})})]})})]}),ge.jsxs(ci.Group,{as:Ui,controlId:"menuDescriptionTextInput",style:{maxWidth:"560px",marginTop:"20px"},children:[ge.jsx(ci.Label,{column:!0,xs:"3",children:ge.jsx(ui,{id:"menuDescription",defaultMessage:"Description"})}),ge.jsx(Tr,{xs:"9",children:ge.jsx(ci.Control,{})})]})]}),ge.jsx("hr",{}),ge.jsxs(dc,{fluid:!0,children:[ge.jsxs(Ui,{style:{maxWidth:"700px"},children:[ge.jsx(Tr,{xs:4,children:ge.jsx(ci.Control,{value:"Main Courses"})}),ge.jsx(Tr,{xs:8,children:ge.jsxs(Ws,{direction:"horizontal",gap:2,children:[ge.jsx(ki,{variant:"secondary",className:"ms-auto",children:ge.jsx(ui,{id:"addMenuItem",defaultMessage:"Add item"})}),ge.jsx("button",{style:{background:"none",border:"none"},"aria-label":"Move category up",children:ge.jsx("img",{src:"images/arrow-up.svg",alt:"Arrow up",style:{width:"30px"}})}),ge.jsx("button",{style:{background:"none",border:"none"},"aria-label":"Move category down",children:ge.jsx("img",{src:"images/arrow-down.svg",alt:"Arrow down",style:{width:"30px"}})}),ge.jsx("button",{style:{background:"none",border:"none"},"aria-label":"Delete category",children:ge.jsx("img",{src:"images/trash.svg",alt:"Trash",style:{width:"30px"}})})]})})]}),ge.jsxs(Ui,{style:{maxWidth:"700px"},className:"align-items-center mt-2",children:[ge.jsx(Tr,{xs:4,children:ge.jsx(ci.Control,{value:"Carbonara"})}),ge.jsx(Tr,{xs:8,children:ge.jsxs(Ws,{direction:"horizontal",gap:2,children:[ge.jsx(ki,{variant:"secondary",className:"ms-auto",children:ge.jsx(ui,{id:"editMenuItem",defaultMessage:"Edit"})}),ge.jsx("button",{style:{background:"none",border:"none"},"aria-label":"Move menu item up",children:ge.jsx("img",{src:"images/arrow-up.svg",alt:"Arrow up",style:{width:"30px"}})}),ge.jsx("button",{style:{background:"none",border:"none"},"aria-label":"Move menu item down",children:ge.jsx("img",{src:"images/arrow-down.svg",alt:"Arrow down",style:{width:"30px"}})}),ge.jsx("button",{style:{background:"none",border:"none",marginRight:"38px"},"aria-label":"Delete menu item",children:ge.jsx("img",{src:"images/trash.svg",alt:"Trash",style:{width:"30px"}})})]})})]})]}),ge.jsx(uv,{fixed:"bottom",children:ge.jsxs(dc,{children:[ge.jsx(ki,{variant:"secondary",children:ge.jsx(ui,{id:"cancel",defaultMessage:"Cancel"})}),ge.jsx(uv.Collapse,{className:"justify-content-end",children:ge.jsx(ki,{children:ge.jsx(ui,{id:"save",defaultMessage:"Save"})})})]})})]})};return ge.jsxs(ge.Fragment,{children:[ge.jsx("div",{className:"d-none d-lg-flex",style:{height:"100dvh",backgroundColor:"#FAFAFA"},children:ge.jsx(Yl,{className:"position-absolute top-50 start-50 translate-middle shadow-sm",style:{width:"700px",height:"90dvh"},children:ge.jsx(e,{})})}),ge.jsx("div",{className:"d-lg-none",children:ge.jsx(e,{})})]})};function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function Mk(e,t){if(Gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(Gf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WT(e){var t=Mk(e,"string");return Gf(t)=="symbol"?t:t+""}function Wg(e,t,r){return(t=WT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,i)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(r),!0).forEach(function(i){Wg(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$A(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Lk(e){if(Array.isArray(e))return e}function Uk(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,a,l,s,u=[],d=!0,c=!1;try{if(l=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(i=l.call(r)).done)&&(u.push(i.value),u.length!==t);d=!0);}catch(p){c=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return u}}function Tw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function JT(e,t){if(e){if(typeof e=="string")return Tw(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tw(e,t):void 0}}function kk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tu(e,t){return Lk(e)||Uk(e,t)||JT(e,t)||kk()}function uu(e,t){if(e==null)return{};var r,i,a=N_(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)r=l[i],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var jk=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Bk(e){var t=e.defaultInputValue,r=t===void 0?"":t,i=e.defaultMenuIsOpen,a=i===void 0?!1:i,l=e.defaultValue,s=l===void 0?null:l,u=e.inputValue,d=e.menuIsOpen,c=e.onChange,p=e.onInputChange,m=e.onMenuClose,w=e.onMenuOpen,S=e.value,C=uu(e,jk),R=ie.useState(u!==void 0?u:r),T=tu(R,2),E=T[0],N=T[1],O=ie.useState(d!==void 0?d:a),V=tu(O,2),L=V[0],z=V[1],W=ie.useState(S!==void 0?S:s),$=tu(W,2),Ce=$[0],K=$[1],re=ie.useCallback(function(he,nt){typeof c=="function"&&c(he,nt),K(he)},[c]),pe=ie.useCallback(function(he,nt){var Y;typeof p=="function"&&(Y=p(he,nt)),N(Y!==void 0?Y:he)},[p]),_e=ie.useCallback(function(){typeof w=="function"&&w(),z(!0)},[w]),et=ie.useCallback(function(){typeof m=="function"&&m(),z(!1)},[m]),rt=u!==void 0?u:E,xe=d!==void 0?d:L,lt=S!==void 0?S:Ce;return Hn(Hn({},C),{},{inputValue:rt,menuIsOpen:xe,onChange:re,onInputChange:pe,onMenuClose:et,onMenuOpen:_e,value:lt})}function Hk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KA(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,WT(i.key),i)}}function Vk(e,t,r){return t&&KA(e.prototype,t),r&&KA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $k(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sv(e,t)}function cv(e){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cv(e)}function YT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YT=function(){return!!e})()}function Kk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gk(e,t){if(t&&(Gf(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kk(e)}function qk(e){var t=YT();return function(){var r,i=cv(e);if(t){var a=cv(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return Gk(this,r)}}function zk(e){if(Array.isArray(e))return Tw(e)}function Wk(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j_(e){return zk(e)||Wk(e)||JT(e)||Jk()}function Yk(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Xk(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Qk=function(){function e(r){var i=this;this._insertTag=function(a){var l;i.tags.length===0?i.insertionPoint?l=i.insertionPoint.nextSibling:i.prepend?l=i.container.firstChild:l=i.before:l=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(a,l),i.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(i){i.forEach(this._insertTag)},t.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Xk(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var l=Yk(a);try{l.insertRule(i,l.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){var a;return(a=i.parentNode)==null?void 0:a.removeChild(i)}),this.tags=[],this.ctr=0},e}(),_a="-ms-",fv="-moz-",Wr="-webkit-",XT="comm",B_="rule",H_="decl",Zk="@import",QT="@keyframes",e3="@layer",t3=Math.abs,Kv=String.fromCharCode,n3=Object.assign;function r3(e,t){return fa(e,0)^45?(((t<<2^fa(e,0))<<2^fa(e,1))<<2^fa(e,2))<<2^fa(e,3):0}function ZT(e){return e.trim()}function i3(e,t){return(e=t.exec(e))?e[0]:e}function Jr(e,t,r){return e.replace(t,r)}function Ow(e,t){return e.indexOf(t)}function fa(e,t){return e.charCodeAt(t)|0}function sm(e,t,r){return e.slice(t,r)}function Gs(e){return e.length}function V_(e){return e.length}function Fy(e,t){return t.push(e),e}function a3(e,t){return e.map(t).join("")}var Gv=1,yh=1,e2=0,so=0,Bi=0,xh="";function qv(e,t,r,i,a,l,s){return{value:e,root:t,parent:r,type:i,props:a,children:l,line:Gv,column:yh,length:s,return:""}}function $g(e,t){return n3(qv("",null,null,"",null,null,0),e,{length:-e.length},t)}function o3(){return Bi}function s3(){return Bi=so>0?fa(xh,--so):0,yh--,Bi===10&&(yh=1,Gv--),Bi}function xo(){return Bi=so<e2?fa(xh,so++):0,yh++,Bi===10&&(yh=1,Gv++),Bi}function Js(){return fa(xh,so)}function qy(){return so}function Am(e,t){return sm(xh,e,t)}function lm(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function t2(e){return Gv=yh=1,e2=Gs(xh=e),so=0,[]}function n2(e){return xh="",e}function zy(e){return ZT(Am(so-1,Iw(e===91?e+2:e===40?e+1:e)))}function l3(e){for(;(Bi=Js())&&Bi<33;)xo();return lm(e)>2||lm(Bi)>3?"":" "}function u3(e,t){for(;--t&&xo()&&!(Bi<48||Bi>102||Bi>57&&Bi<65||Bi>70&&Bi<97););return Am(e,qy()+(t<6&&Js()==32&&xo()==32))}function Iw(e){for(;xo();)switch(Bi){case e:return so;case 34:case 39:e!==34&&e!==39&&Iw(Bi);break;case 40:e===41&&Iw(e);break;case 92:xo();break}return so}function c3(e,t){for(;xo()&&e+Bi!==57;)if(e+Bi===84&&Js()===47)break;return"/*"+Am(t,so-1)+"*"+Kv(e===47?e:xo())}function f3(e){for(;!lm(Js());)xo();return Am(e,so)}function d3(e){return n2(Wy("",null,null,null,[""],e=t2(e),0,[0],e))}function Wy(e,t,r,i,a,l,s,u,d){for(var c=0,p=0,m=s,w=0,S=0,C=0,R=1,T=1,E=1,N=0,O="",V=a,L=l,z=i,W=O;T;)switch(C=N,N=xo()){case 40:if(C!=108&&fa(W,m-1)==58){Ow(W+=Jr(zy(N),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:W+=zy(N);break;case 9:case 10:case 13:case 32:W+=l3(C);break;case 92:W+=u3(qy()-1,7);continue;case 47:switch(Js()){case 42:case 47:Fy(h3(c3(xo(),qy()),t,r),d);break;default:W+="/"}break;case 123*R:u[c++]=Gs(W)*E;case 125*R:case 59:case 0:switch(N){case 0:case 125:T=0;case 59+p:E==-1&&(W=Jr(W,/\f/g,"")),S>0&&Gs(W)-m&&Fy(S>32?qA(W+";",i,r,m-1):qA(Jr(W," ","")+";",i,r,m-2),d);break;case 59:W+=";";default:if(Fy(z=GA(W,t,r,c,p,a,u,O,V=[],L=[],m),l),N===123)if(p===0)Wy(W,t,z,z,V,l,m,u,L);else switch(w===99&&fa(W,3)===110?100:w){case 100:case 108:case 109:case 115:Wy(e,z,z,i&&Fy(GA(e,z,z,0,0,a,u,O,a,V=[],m),L),a,L,m,u,i?V:L);break;default:Wy(W,z,z,z,[""],L,0,u,L)}}c=p=S=0,R=E=1,O=W="",m=s;break;case 58:m=1+Gs(W),S=C;default:if(R<1){if(N==123)--R;else if(N==125&&R++==0&&s3()==125)continue}switch(W+=Kv(N),N*R){case 38:E=p>0?1:(W+="\f",-1);break;case 44:u[c++]=(Gs(W)-1)*E,E=1;break;case 64:Js()===45&&(W+=zy(xo())),w=Js(),p=m=Gs(O=W+=f3(qy())),N++;break;case 45:C===45&&Gs(W)==2&&(R=0)}}return l}function GA(e,t,r,i,a,l,s,u,d,c,p){for(var m=a-1,w=a===0?l:[""],S=V_(w),C=0,R=0,T=0;C<i;++C)for(var E=0,N=sm(e,m+1,m=t3(R=s[C])),O=e;E<S;++E)(O=ZT(R>0?w[E]+" "+N:Jr(N,/&\f/g,w[E])))&&(d[T++]=O);return qv(e,t,r,a===0?B_:u,d,c,p)}function h3(e,t,r){return qv(e,t,r,XT,Kv(o3()),sm(e,2,-2),0)}function qA(e,t,r,i){return qv(e,t,r,H_,sm(e,0,i),sm(e,i+1,-1),i)}function hh(e,t){for(var r="",i=V_(e),a=0;a<i;a++)r+=t(e[a],a,e,t)||"";return r}function p3(e,t,r,i){switch(e.type){case e3:if(e.children.length)break;case Zk:case H_:return e.return=e.return||e.value;case XT:return"";case QT:return e.return=e.value+"{"+hh(e.children,i)+"}";case B_:e.value=e.props.join(",")}return Gs(r=hh(e.children,i))?e.return=e.value+"{"+r+"}":""}function g3(e){var t=V_(e);return function(r,i,a,l){for(var s="",u=0;u<t;u++)s+=e[u](r,i,a,l)||"";return s}}function m3(e){return function(t){t.root||(t=t.return)&&e(t)}}function y3(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var v3=function(t,r,i){for(var a=0,l=0;a=l,l=Js(),a===38&&l===12&&(r[i]=1),!lm(l);)xo();return Am(t,so)},b3=function(t,r){var i=-1,a=44;do switch(lm(a)){case 0:a===38&&Js()===12&&(r[i]=1),t[i]+=v3(so-1,r,i);break;case 2:t[i]+=zy(a);break;case 4:if(a===44){t[++i]=Js()===58?"&\f":"",r[i]=t[i].length;break}default:t[i]+=Kv(a)}while(a=xo());return t},w3=function(t,r){return n2(b3(t2(t),r))},zA=new WeakMap,_3=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,i=t.parent,a=t.column===i.column&&t.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!zA.get(i))&&!a){zA.set(t,!0);for(var l=[],s=w3(r,l),u=i.props,d=0,c=0;d<s.length;d++)for(var p=0;p<u.length;p++,c++)t.props[c]=l[d]?s[d].replace(/&\f/g,u[p]):u[p]+" "+s[d]}}},S3=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function r2(e,t){switch(r3(e,t)){case 5103:return Wr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Wr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Wr+e+fv+e+_a+e+e;case 6828:case 4268:return Wr+e+_a+e+e;case 6165:return Wr+e+_a+"flex-"+e+e;case 5187:return Wr+e+Jr(e,/(\w+).+(:[^]+)/,Wr+"box-$1$2"+_a+"flex-$1$2")+e;case 5443:return Wr+e+_a+"flex-item-"+Jr(e,/flex-|-self/,"")+e;case 4675:return Wr+e+_a+"flex-line-pack"+Jr(e,/align-content|flex-|-self/,"")+e;case 5548:return Wr+e+_a+Jr(e,"shrink","negative")+e;case 5292:return Wr+e+_a+Jr(e,"basis","preferred-size")+e;case 6060:return Wr+"box-"+Jr(e,"-grow","")+Wr+e+_a+Jr(e,"grow","positive")+e;case 4554:return Wr+Jr(e,/([^-])(transform)/g,"$1"+Wr+"$2")+e;case 6187:return Jr(Jr(Jr(e,/(zoom-|grab)/,Wr+"$1"),/(image-set)/,Wr+"$1"),e,"")+e;case 5495:case 3959:return Jr(e,/(image-set\([^]*)/,Wr+"$1$`$1");case 4968:return Jr(Jr(e,/(.+:)(flex-)?(.*)/,Wr+"box-pack:$3"+_a+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Wr+e+e;case 4095:case 3583:case 4068:case 2532:return Jr(e,/(.+)-inline(.+)/,Wr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gs(e)-1-t>6)switch(fa(e,t+1)){case 109:if(fa(e,t+4)!==45)break;case 102:return Jr(e,/(.+:)(.+)-([^]+)/,"$1"+Wr+"$2-$3$1"+fv+(fa(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Ow(e,"stretch")?r2(Jr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(fa(e,t+1)!==115)break;case 6444:switch(fa(e,Gs(e)-3-(~Ow(e,"!important")&&10))){case 107:return Jr(e,":",":"+Wr)+e;case 101:return Jr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Wr+(fa(e,14)===45?"inline-":"")+"box$3$1"+Wr+"$2$3$1"+_a+"$2box$3")+e}break;case 5936:switch(fa(e,t+11)){case 114:return Wr+e+_a+Jr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Wr+e+_a+Jr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Wr+e+_a+Jr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Wr+e+_a+e+e}return e}var E3=function(t,r,i,a){if(t.length>-1&&!t.return)switch(t.type){case H_:t.return=r2(t.value,t.length);break;case QT:return hh([$g(t,{value:Jr(t.value,"@","@"+Wr)})],a);case B_:if(t.length)return a3(t.props,function(l){switch(i3(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hh([$g(t,{props:[Jr(l,/:(read-\w+)/,":"+fv+"$1")]})],a);case"::placeholder":return hh([$g(t,{props:[Jr(l,/:(plac\w+)/,":"+Wr+"input-$1")]}),$g(t,{props:[Jr(l,/:(plac\w+)/,":"+fv+"$1")]}),$g(t,{props:[Jr(l,/:(plac\w+)/,_a+"input-$1")]})],a)}return""})}},A3=[E3],x3=function(t){var r=t.key;if(r==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(R){var T=R.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var a=t.stylisPlugins||A3,l={},s,u=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(R){for(var T=R.getAttribute("data-emotion").split(" "),E=1;E<T.length;E++)l[T[E]]=!0;u.push(R)});var d,c=[_3,S3];{var p,m=[p3,m3(function(R){p.insert(R)})],w=g3(c.concat(a,m)),S=function(T){return hh(d3(T),w)};d=function(T,E,N,O){p=N,S(T?T+"{"+E.styles+"}":E.styles),O&&(C.inserted[E.name]=!0)}}var C={key:r,sheet:new Qk({key:r,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:l,registered:{},insert:d};return C.sheet.hydrate(u),C},R3=!0;function C3(e,t,r){var i="";return r.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):a&&(i+=a+" ")}),i}var i2=function(t,r,i){var a=t.key+"-"+r.name;(i===!1||R3===!1)&&t.registered[a]===void 0&&(t.registered[a]=r.styles)},T3=function(t,r,i){i2(t,r,i);var a=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var l=r;do t.insert(r===l?"."+a:"",l,t.sheet,!0),l=l.next;while(l!==void 0)}};function O3(e){for(var t=0,r,i=0,a=e.length;a>=4;++i,a-=4)r=e.charCodeAt(i)&255|(e.charCodeAt(++i)&255)<<8|(e.charCodeAt(++i)&255)<<16|(e.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(i+2)&255)<<16;case 2:t^=(e.charCodeAt(i+1)&255)<<8;case 1:t^=e.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var I3={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},P3=/[A-Z]|^ms/g,N3=/_EMO_([^_]+?)_([^]*?)_EMO_/g,a2=function(t){return t.charCodeAt(1)===45},WA=function(t){return t!=null&&typeof t!="boolean"},Gb=y3(function(e){return a2(e)?e:e.replace(P3,"-$&").toLowerCase()}),JA=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(N3,function(i,a,l){return qs={name:a,styles:l,next:qs},a})}return I3[t]!==1&&!a2(t)&&typeof r=="number"&&r!==0?r+"px":r};function um(e,t,r){if(r==null)return"";var i=r;if(i.__emotion_styles!==void 0)return i;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return qs={name:a.name,styles:a.styles,next:qs},a.name;var l=r;if(l.styles!==void 0){var s=l.next;if(s!==void 0)for(;s!==void 0;)qs={name:s.name,styles:s.styles,next:qs},s=s.next;var u=l.styles+";";return u}return F3(e,t,r)}case"function":{if(e!==void 0){var d=qs,c=r(e);return qs=d,um(e,t,c)}break}}var p=r;return p}function F3(e,t,r){var i="";if(Array.isArray(r))for(var a=0;a<r.length;a++)i+=um(e,t,r[a])+";";else for(var l in r){var s=r[l];if(typeof s!="object"){var u=s;WA(u)&&(i+=Gb(l)+":"+JA(l,u)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&t==null)for(var d=0;d<s.length;d++)WA(s[d])&&(i+=Gb(l)+":"+JA(l,s[d])+";");else{var c=um(e,t,s);switch(l){case"animation":case"animationName":{i+=Gb(l)+":"+c+";";break}default:i+=l+"{"+c+"}"}}}return i}var YA=/label:\s*([^\s;{]+)\s*(;|$)/g,qs;function o2(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";qs=void 0;var l=e[0];if(l==null||l.raw===void 0)i=!1,a+=um(r,t,l);else{var s=l;a+=s[0]}for(var u=1;u<e.length;u++)if(a+=um(r,t,e[u]),i){var d=l;a+=d[u]}YA.lastIndex=0;for(var c="",p;(p=YA.exec(a))!==null;)c+="-"+p[1];var m=O3(a)+c;return{name:m,styles:a,next:qs}}var D3=function(t){return t()},M3=ES.useInsertionEffect?ES.useInsertionEffect:!1,L3=M3||D3,s2=ie.createContext(typeof HTMLElement<"u"?x3({key:"css"}):null);s2.Provider;var U3=function(t){return ie.forwardRef(function(r,i){var a=ie.useContext(s2);return t(r,a,i)})},k3=ie.createContext({}),$_={}.hasOwnProperty,Pw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",j3=function(t,r){var i={};for(var a in r)$_.call(r,a)&&(i[a]=r[a]);return i[Pw]=t,i},B3=function(t){var r=t.cache,i=t.serialized,a=t.isStringTag;return i2(r,i,a),L3(function(){return T3(r,i,a)}),null},H3=U3(function(e,t,r){var i=e.css;typeof i=="string"&&t.registered[i]!==void 0&&(i=t.registered[i]);var a=e[Pw],l=[i],s="";typeof e.className=="string"?s=C3(t.registered,l,e.className):e.className!=null&&(s=e.className+" ");var u=o2(l,void 0,ie.useContext(k3));s+=t.key+"-"+u.name;var d={};for(var c in e)$_.call(e,c)&&c!=="css"&&c!==Pw&&(d[c]=e[c]);return d.className=s,r&&(d.ref=r),ie.createElement(ie.Fragment,null,ie.createElement(B3,{cache:t,serialized:u,isStringTag:typeof a=="string"}),ie.createElement(a,d))}),V3=H3,Dn=function(t,r){var i=arguments;if(r==null||!$_.call(r,"css"))return ie.createElement.apply(void 0,i);var a=i.length,l=new Array(a);l[0]=V3,l[1]=j3(t,r);for(var s=2;s<a;s++)l[s]=i[s];return ie.createElement.apply(null,l)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(Dn||(Dn={}));function K_(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o2(t)}function $3(){var e=K_.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function K3(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const G3=Math.min,q3=Math.max,dv=Math.round,Dy=Math.floor,hv=e=>({x:e,y:e});function z3(e){const{x:t,y:r,width:i,height:a}=e;return{width:i,height:a,top:r,left:t,right:t+i,bottom:r+a,x:t,y:r}}function zv(){return typeof window<"u"}function l2(e){return c2(e)?(e.nodeName||"").toLowerCase():"#document"}function ou(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function u2(e){var t;return(t=(c2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function c2(e){return zv()?e instanceof Node||e instanceof ou(e).Node:!1}function W3(e){return zv()?e instanceof Element||e instanceof ou(e).Element:!1}function G_(e){return zv()?e instanceof HTMLElement||e instanceof ou(e).HTMLElement:!1}function XA(e){return!zv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ou(e).ShadowRoot}const J3=new Set(["inline","contents"]);function f2(e){const{overflow:t,overflowX:r,overflowY:i,display:a}=q_(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!J3.has(a)}function Y3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const X3=new Set(["html","body","#document"]);function Q3(e){return X3.has(l2(e))}function q_(e){return ou(e).getComputedStyle(e)}function Z3(e){if(l2(e)==="html")return e;const t=e.assignedSlot||e.parentNode||XA(e)&&e.host||u2(e);return XA(t)?t.host:t}function d2(e){const t=Z3(e);return Q3(t)?e.ownerDocument?e.ownerDocument.body:e.body:G_(t)&&f2(t)?t:d2(t)}function pv(e,t,r){var i;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=d2(e),l=a===((i=e.ownerDocument)==null?void 0:i.body),s=ou(a);if(l){const u=Nw(s);return t.concat(s,s.visualViewport||[],f2(a)?a:[],u&&r?pv(u):[])}return t.concat(a,pv(a,[],r))}function Nw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ej(e){const t=q_(e);let r=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const a=G_(e),l=a?e.offsetWidth:r,s=a?e.offsetHeight:i,u=dv(r)!==l||dv(i)!==s;return u&&(r=l,i=s),{width:r,height:i,$:u}}function z_(e){return W3(e)?e:e.contextElement}function QA(e){const t=z_(e);if(!G_(t))return hv(1);const r=t.getBoundingClientRect(),{width:i,height:a,$:l}=ej(t);let s=(l?dv(r.width):r.width)/i,u=(l?dv(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!u||!Number.isFinite(u))&&(u=1),{x:s,y:u}}const tj=hv(0);function nj(e){const t=ou(e);return!Y3()||!t.visualViewport?tj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function rj(e,t,r){return!1}function ZA(e,t,r,i){t===void 0&&(t=!1);const a=e.getBoundingClientRect(),l=z_(e);let s=hv(1);t&&(s=QA(e));const u=rj()?nj(l):hv(0);let d=(a.left+u.x)/s.x,c=(a.top+u.y)/s.y,p=a.width/s.x,m=a.height/s.y;if(l){const w=ou(l),S=i;let C=w,R=Nw(C);for(;R&&i&&S!==C;){const T=QA(R),E=R.getBoundingClientRect(),N=q_(R),O=E.left+(R.clientLeft+parseFloat(N.paddingLeft))*T.x,V=E.top+(R.clientTop+parseFloat(N.paddingTop))*T.y;d*=T.x,c*=T.y,p*=T.x,m*=T.y,d+=O,c+=V,C=ou(R),R=Nw(C)}}return z3({width:p,height:m,x:d,y:c})}function h2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ij(e,t){let r=null,i;const a=u2(e);function l(){var u;clearTimeout(i),(u=r)==null||u.disconnect(),r=null}function s(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),l();const c=e.getBoundingClientRect(),{left:p,top:m,width:w,height:S}=c;if(u||t(),!w||!S)return;const C=Dy(m),R=Dy(a.clientWidth-(p+w)),T=Dy(a.clientHeight-(m+S)),E=Dy(p),O={rootMargin:-C+"px "+-R+"px "+-T+"px "+-E+"px",threshold:q3(0,G3(1,d))||1};let V=!0;function L(z){const W=z[0].intersectionRatio;if(W!==d){if(!V)return s();W?s(!1,W):i=setTimeout(()=>{s(!1,1e-7)},1e3)}W===1&&!h2(c,e.getBoundingClientRect())&&s(),V=!1}try{r=new IntersectionObserver(L,{...O,root:a.ownerDocument})}catch{r=new IntersectionObserver(L,O)}r.observe(e)}return s(!0),l}function aj(e,t,r,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,c=z_(e),p=a||l?[...c?pv(c):[],...pv(t)]:[];p.forEach(E=>{a&&E.addEventListener("scroll",r,{passive:!0}),l&&E.addEventListener("resize",r)});const m=c&&u?ij(c,r):null;let w=-1,S=null;s&&(S=new ResizeObserver(E=>{let[N]=E;N&&N.target===c&&S&&(S.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var O;(O=S)==null||O.observe(t)})),r()}),c&&!d&&S.observe(c),S.observe(t));let C,R=d?ZA(e):null;d&&T();function T(){const E=ZA(e);R&&!h2(R,E)&&r(),R=E,C=requestAnimationFrame(T)}return r(),()=>{var E;p.forEach(N=>{a&&N.removeEventListener("scroll",r),l&&N.removeEventListener("resize",r)}),m?.(),(E=S)==null||E.disconnect(),S=null,d&&cancelAnimationFrame(C)}}var Fw=ie.useLayoutEffect,oj=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],gv=function(){};function sj(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function lj(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];var l=[].concat(i);if(t&&e)for(var s in t)t.hasOwnProperty(s)&&t[s]&&l.push("".concat(sj(e,s)));return l.filter(function(u){return u}).map(function(u){return String(u).trim()}).join(" ")}var ex=function(t){return yj(t)?t.filter(Boolean):Gf(t)==="object"&&t!==null?[t]:[]},p2=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var r=uu(t,oj);return Hn({},r)},Ii=function(t,r,i){var a=t.cx,l=t.getStyles,s=t.getClassNames,u=t.className;return{css:l(r,t),className:a(i??{},s(r,t),u)}};function Wv(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function uj(e){return Wv(e)?window.innerHeight:e.clientHeight}function g2(e){return Wv(e)?window.pageYOffset:e.scrollTop}function mv(e,t){if(Wv(e)){window.scrollTo(0,t);return}e.scrollTop=t}function cj(e){var t=getComputedStyle(e),r=t.position==="absolute",i=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),!(r&&t.position==="static")&&i.test(t.overflow+t.overflowY+t.overflowX))return a;return document.documentElement}function fj(e,t,r,i){return r*((e=e/i-1)*e*e+1)+t}function My(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:gv,a=g2(e),l=t-a,s=10,u=0;function d(){u+=s;var c=fj(u,a,l,r);mv(e,c),u<r?window.requestAnimationFrame(d):i(e)}d()}function tx(e,t){var r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),a=t.offsetHeight/3;i.bottom+a>r.bottom?mv(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+a,e.scrollHeight)):i.top-a<r.top&&mv(e,Math.max(t.offsetTop-a,0))}function dj(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function nx(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function hj(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var m2=!1,pj={get passive(){return m2=!0}},Ly=typeof window<"u"?window:{};Ly.addEventListener&&Ly.removeEventListener&&(Ly.addEventListener("p",gv,pj),Ly.removeEventListener("p",gv,!1));var gj=m2;function mj(e){return e!=null}function yj(e){return Array.isArray(e)}function Uy(e,t,r){return e?t:r}var vj=function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var l=Object.entries(t).filter(function(s){var u=tu(s,1),d=u[0];return!i.includes(d)});return l.reduce(function(s,u){var d=tu(u,2),c=d[0],p=d[1];return s[c]=p,s},{})},bj=["children","innerProps"],wj=["children","innerProps"];function _j(e){var t=e.maxHeight,r=e.menuEl,i=e.minHeight,a=e.placement,l=e.shouldScroll,s=e.isFixedPosition,u=e.controlHeight,d=cj(r),c={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return c;var p=d.getBoundingClientRect(),m=p.height,w=r.getBoundingClientRect(),S=w.bottom,C=w.height,R=w.top,T=r.offsetParent.getBoundingClientRect(),E=T.top,N=s?window.innerHeight:uj(d),O=g2(d),V=parseInt(getComputedStyle(r).marginBottom,10),L=parseInt(getComputedStyle(r).marginTop,10),z=E-L,W=N-R,$=z+O,Ce=m-O-R,K=S-N+O+V,re=O+R-L,pe=160;switch(a){case"auto":case"bottom":if(W>=C)return{placement:"bottom",maxHeight:t};if(Ce>=C&&!s)return l&&My(d,K,pe),{placement:"bottom",maxHeight:t};if(!s&&Ce>=i||s&&W>=i){l&&My(d,K,pe);var _e=s?W-V:Ce-V;return{placement:"bottom",maxHeight:_e}}if(a==="auto"||s){var et=t,rt=s?z:$;return rt>=i&&(et=Math.min(rt-V-u,t)),{placement:"top",maxHeight:et}}if(a==="bottom")return l&&mv(d,K),{placement:"bottom",maxHeight:t};break;case"top":if(z>=C)return{placement:"top",maxHeight:t};if($>=C&&!s)return l&&My(d,re,pe),{placement:"top",maxHeight:t};if(!s&&$>=i||s&&z>=i){var xe=t;return(!s&&$>=i||s&&z>=i)&&(xe=s?z-L:$-L),l&&My(d,re,pe),{placement:"top",maxHeight:xe}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return c}function Sj(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var y2=function(t){return t==="auto"?"bottom":t},Ej=function(t,r){var i,a=t.placement,l=t.theme,s=l.borderRadius,u=l.spacing,d=l.colors;return Hn((i={label:"menu"},Wg(i,Sj(a),"100%"),Wg(i,"position","absolute"),Wg(i,"width","100%"),Wg(i,"zIndex",1),i),r?{}:{backgroundColor:d.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:u.menuGutter,marginTop:u.menuGutter})},v2=ie.createContext(null),Aj=function(t){var r=t.children,i=t.minMenuHeight,a=t.maxMenuHeight,l=t.menuPlacement,s=t.menuPosition,u=t.menuShouldScrollIntoView,d=t.theme,c=ie.useContext(v2)||{},p=c.setPortalPlacement,m=ie.useRef(null),w=ie.useState(a),S=tu(w,2),C=S[0],R=S[1],T=ie.useState(null),E=tu(T,2),N=E[0],O=E[1],V=d.spacing.controlHeight;return Fw(function(){var L=m.current;if(L){var z=s==="fixed",W=u&&!z,$=_j({maxHeight:a,menuEl:L,minHeight:i,placement:l,shouldScroll:W,isFixedPosition:z,controlHeight:V});R($.maxHeight),O($.placement),p?.($.placement)}},[a,l,s,u,i,p,V]),r({ref:m,placerProps:Hn(Hn({},t),{},{placement:N||y2(l),maxHeight:C})})},xj=function(t){var r=t.children,i=t.innerRef,a=t.innerProps;return Dn("div",Kn({},Ii(t,"menu",{menu:!0}),{ref:i},a),r)},Rj=xj,Cj=function(t,r){var i=t.maxHeight,a=t.theme.spacing.baseUnit;return Hn({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},Tj=function(t){var r=t.children,i=t.innerProps,a=t.innerRef,l=t.isMulti;return Dn("div",Kn({},Ii(t,"menuList",{"menu-list":!0,"menu-list--is-multi":l}),{ref:a},i),r)},b2=function(t,r){var i=t.theme,a=i.spacing.baseUnit,l=i.colors;return Hn({textAlign:"center"},r?{}:{color:l.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},Oj=b2,Ij=b2,Pj=function(t){var r=t.children,i=r===void 0?"No options":r,a=t.innerProps,l=uu(t,bj);return Dn("div",Kn({},Ii(Hn(Hn({},l),{},{children:i,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),i)},Nj=function(t){var r=t.children,i=r===void 0?"Loading...":r,a=t.innerProps,l=uu(t,wj);return Dn("div",Kn({},Ii(Hn(Hn({},l),{},{children:i,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),i)},Fj=function(t){var r=t.rect,i=t.offset,a=t.position;return{left:r.left,position:a,top:i,width:r.width,zIndex:1}},Dj=function(t){var r=t.appendTo,i=t.children,a=t.controlElement,l=t.innerProps,s=t.menuPlacement,u=t.menuPosition,d=ie.useRef(null),c=ie.useRef(null),p=ie.useState(y2(s)),m=tu(p,2),w=m[0],S=m[1],C=ie.useMemo(function(){return{setPortalPlacement:S}},[]),R=ie.useState(null),T=tu(R,2),E=T[0],N=T[1],O=ie.useCallback(function(){if(a){var W=dj(a),$=u==="fixed"?0:window.pageYOffset,Ce=W[w]+$;(Ce!==E?.offset||W.left!==E?.rect.left||W.width!==E?.rect.width)&&N({offset:Ce,rect:W})}},[a,u,w,E?.offset,E?.rect.left,E?.rect.width]);Fw(function(){O()},[O]);var V=ie.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),a&&d.current&&(c.current=aj(a,d.current,O,{elementResize:"ResizeObserver"in window}))},[a,O]);Fw(function(){V()},[V]);var L=ie.useCallback(function(W){d.current=W,V()},[V]);if(!r&&u!=="fixed"||!E)return null;var z=Dn("div",Kn({ref:L},Ii(Hn(Hn({},t),{},{offset:E.offset,position:u,rect:E.rect}),"menuPortal",{"menu-portal":!0}),l),i);return Dn(v2.Provider,{value:C},r?TT.createPortal(z,r):z)},Mj=function(t){var r=t.isDisabled,i=t.isRtl;return{label:"container",direction:i?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},Lj=function(t){var r=t.children,i=t.innerProps,a=t.isDisabled,l=t.isRtl;return Dn("div",Kn({},Ii(t,"container",{"--is-disabled":a,"--is-rtl":l}),i),r)},Uj=function(t,r){var i=t.theme.spacing,a=t.isMulti,l=t.hasValue,s=t.selectProps.controlShouldRenderValue;return Hn({alignItems:"center",display:a&&l&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(i.baseUnit*2,"px")})},kj=function(t){var r=t.children,i=t.innerProps,a=t.isMulti,l=t.hasValue;return Dn("div",Kn({},Ii(t,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":l}),i),r)},jj=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Bj=function(t){var r=t.children,i=t.innerProps;return Dn("div",Kn({},Ii(t,"indicatorsContainer",{indicators:!0}),i),r)},rx,Hj=["size"],Vj=["innerProps","isRtl","size"],$j={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},w2=function(t){var r=t.size,i=uu(t,Hj);return Dn("svg",Kn({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:$j},i))},W_=function(t){return Dn(w2,Kn({size:20},t),Dn("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},_2=function(t){return Dn(w2,Kn({size:20},t),Dn("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},S2=function(t,r){var i=t.isFocused,a=t.theme,l=a.spacing.baseUnit,s=a.colors;return Hn({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:i?s.neutral60:s.neutral20,padding:l*2,":hover":{color:i?s.neutral80:s.neutral40}})},Kj=S2,Gj=function(t){var r=t.children,i=t.innerProps;return Dn("div",Kn({},Ii(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),r||Dn(_2,null))},qj=S2,zj=function(t){var r=t.children,i=t.innerProps;return Dn("div",Kn({},Ii(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),r||Dn(W_,null))},Wj=function(t,r){var i=t.isDisabled,a=t.theme,l=a.spacing.baseUnit,s=a.colors;return Hn({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:i?s.neutral10:s.neutral20,marginBottom:l*2,marginTop:l*2})},Jj=function(t){var r=t.innerProps;return Dn("span",Kn({},r,Ii(t,"indicatorSeparator",{"indicator-separator":!0})))},Yj=$3(rx||(rx=K3([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Xj=function(t,r){var i=t.isFocused,a=t.size,l=t.theme,s=l.colors,u=l.spacing.baseUnit;return Hn({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:i?s.neutral60:s.neutral20,padding:u*2})},qb=function(t){var r=t.delay,i=t.offset;return Dn("span",{css:K_({animation:"".concat(Yj," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Qj=function(t){var r=t.innerProps,i=t.isRtl,a=t.size,l=a===void 0?4:a,s=uu(t,Vj);return Dn("div",Kn({},Ii(Hn(Hn({},s),{},{innerProps:r,isRtl:i,size:l}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Dn(qb,{delay:0,offset:i}),Dn(qb,{delay:160,offset:!0}),Dn(qb,{delay:320,offset:!i}))},Zj=function(t,r){var i=t.isDisabled,a=t.isFocused,l=t.theme,s=l.colors,u=l.borderRadius,d=l.spacing;return Hn({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:d.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:i?s.neutral5:s.neutral0,borderColor:i?s.neutral10:a?s.primary:s.neutral20,borderRadius:u,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:a?s.primary:s.neutral30}})},eB=function(t){var r=t.children,i=t.isDisabled,a=t.isFocused,l=t.innerRef,s=t.innerProps,u=t.menuIsOpen;return Dn("div",Kn({ref:l},Ii(t,"control",{control:!0,"control--is-disabled":i,"control--is-focused":a,"control--menu-is-open":u}),s,{"aria-disabled":i||void 0}),r)},tB=eB,nB=["data"],rB=function(t,r){var i=t.theme.spacing;return r?{}:{paddingBottom:i.baseUnit*2,paddingTop:i.baseUnit*2}},iB=function(t){var r=t.children,i=t.cx,a=t.getStyles,l=t.getClassNames,s=t.Heading,u=t.headingProps,d=t.innerProps,c=t.label,p=t.theme,m=t.selectProps;return Dn("div",Kn({},Ii(t,"group",{group:!0}),d),Dn(s,Kn({},u,{selectProps:m,theme:p,getStyles:a,getClassNames:l,cx:i}),c),Dn("div",null,r))},aB=function(t,r){var i=t.theme,a=i.colors,l=i.spacing;return Hn({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:l.baseUnit*3,paddingRight:l.baseUnit*3,textTransform:"uppercase"})},oB=function(t){var r=p2(t);r.data;var i=uu(r,nB);return Dn("div",Kn({},Ii(t,"groupHeading",{"group-heading":!0}),i))},sB=iB,lB=["innerRef","isDisabled","isHidden","inputClassName"],uB=function(t,r){var i=t.isDisabled,a=t.value,l=t.theme,s=l.spacing,u=l.colors;return Hn(Hn({visibility:i?"hidden":"visible",transform:a?"translateZ(0)":""},cB),r?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:u.neutral80})},E2={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},cB={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Hn({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},E2)},fB=function(t){return Hn({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},E2)},dB=function(t){var r=t.cx,i=t.value,a=p2(t),l=a.innerRef,s=a.isDisabled,u=a.isHidden,d=a.inputClassName,c=uu(a,lB);return Dn("div",Kn({},Ii(t,"input",{"input-container":!0}),{"data-value":i||""}),Dn("input",Kn({className:r({input:!0},d),ref:l,style:fB(u),disabled:s},c)))},hB=dB,pB=function(t,r){var i=t.theme,a=i.spacing,l=i.borderRadius,s=i.colors;return Hn({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:s.neutral10,borderRadius:l/2,margin:a.baseUnit/2})},gB=function(t,r){var i=t.theme,a=i.borderRadius,l=i.colors,s=t.cropWithEllipsis;return Hn({overflow:"hidden",textOverflow:s||s===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:l.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},mB=function(t,r){var i=t.theme,a=i.spacing,l=i.borderRadius,s=i.colors,u=t.isFocused;return Hn({alignItems:"center",display:"flex"},r?{}:{borderRadius:l/2,backgroundColor:u?s.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},A2=function(t){var r=t.children,i=t.innerProps;return Dn("div",i,r)},yB=A2,vB=A2;function bB(e){var t=e.children,r=e.innerProps;return Dn("div",Kn({role:"button"},r),t||Dn(W_,{size:14}))}var wB=function(t){var r=t.children,i=t.components,a=t.data,l=t.innerProps,s=t.isDisabled,u=t.removeProps,d=t.selectProps,c=i.Container,p=i.Label,m=i.Remove;return Dn(c,{data:a,innerProps:Hn(Hn({},Ii(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),l),selectProps:d},Dn(p,{data:a,innerProps:Hn({},Ii(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:d},r),Dn(m,{data:a,innerProps:Hn(Hn({},Ii(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},u),selectProps:d}))},_B=wB,SB=function(t,r){var i=t.isDisabled,a=t.isFocused,l=t.isSelected,s=t.theme,u=s.spacing,d=s.colors;return Hn({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:l?d.primary:a?d.primary25:"transparent",color:i?d.neutral20:l?d.neutral0:"inherit",padding:"".concat(u.baseUnit*2,"px ").concat(u.baseUnit*3,"px"),":active":{backgroundColor:i?void 0:l?d.primary:d.primary50}})},EB=function(t){var r=t.children,i=t.isDisabled,a=t.isFocused,l=t.isSelected,s=t.innerRef,u=t.innerProps;return Dn("div",Kn({},Ii(t,"option",{option:!0,"option--is-disabled":i,"option--is-focused":a,"option--is-selected":l}),{ref:s,"aria-disabled":i},u),r)},AB=EB,xB=function(t,r){var i=t.theme,a=i.spacing,l=i.colors;return Hn({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:l.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},RB=function(t){var r=t.children,i=t.innerProps;return Dn("div",Kn({},Ii(t,"placeholder",{placeholder:!0}),i),r)},CB=RB,TB=function(t,r){var i=t.isDisabled,a=t.theme,l=a.spacing,s=a.colors;return Hn({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:i?s.neutral40:s.neutral80,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},OB=function(t){var r=t.children,i=t.isDisabled,a=t.innerProps;return Dn("div",Kn({},Ii(t,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),a),r)},IB=OB,PB={ClearIndicator:zj,Control:tB,DropdownIndicator:Gj,DownChevron:_2,CrossIcon:W_,Group:sB,GroupHeading:oB,IndicatorsContainer:Bj,IndicatorSeparator:Jj,Input:hB,LoadingIndicator:Qj,Menu:Rj,MenuList:Tj,MenuPortal:Dj,LoadingMessage:Nj,NoOptionsMessage:Pj,MultiValue:_B,MultiValueContainer:yB,MultiValueLabel:vB,MultiValueRemove:bB,Option:AB,Placeholder:CB,SelectContainer:Lj,SingleValue:IB,ValueContainer:kj},NB=function(t){return Hn(Hn({},PB),t.components)},ix=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function FB(e,t){return!!(e===t||ix(e)&&ix(t))}function DB(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!FB(e[r],t[r]))return!1;return!0}function MB(e,t){t===void 0&&(t=DB);var r=null;function i(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var s=e.apply(this,a);return r={lastResult:s,lastArgs:a,lastThis:this},s}return i.clear=function(){r=null},i}var LB={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},UB=function(t){return Dn("span",Kn({css:LB},t))},ax=UB,kB={guidance:function(t){var r=t.isSearchable,i=t.isMulti,a=t.tabSelectsValue,l=t.context,s=t.isInitialFocus;switch(l){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return s?"".concat(t["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var r=t.action,i=t.label,a=i===void 0?"":i,l=t.labels,s=t.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(l.length>1?"s":""," ").concat(l.join(","),", selected.");case"select-option":return s?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(t){var r=t.context,i=t.focused,a=t.options,l=t.label,s=l===void 0?"":l,u=t.selectValue,d=t.isDisabled,c=t.isSelected,p=t.isAppleDevice,m=function(R,T){return R&&R.length?"".concat(R.indexOf(T)+1," of ").concat(R.length):""};if(r==="value"&&u)return"value ".concat(s," focused, ").concat(m(u,i),".");if(r==="menu"&&p){var w=d?" disabled":"",S="".concat(c?" selected":"").concat(w);return"".concat(s).concat(S,", ").concat(m(a,i),".")}return""},onFilter:function(t){var r=t.inputValue,i=t.resultsMessage;return"".concat(i).concat(r?" for search term "+r:"",".")}},jB=function(t){var r=t.ariaSelection,i=t.focusedOption,a=t.focusedValue,l=t.focusableOptions,s=t.isFocused,u=t.selectValue,d=t.selectProps,c=t.id,p=t.isAppleDevice,m=d.ariaLiveMessages,w=d.getOptionLabel,S=d.inputValue,C=d.isMulti,R=d.isOptionDisabled,T=d.isSearchable,E=d.menuIsOpen,N=d.options,O=d.screenReaderStatus,V=d.tabSelectsValue,L=d.isLoading,z=d["aria-label"],W=d["aria-live"],$=ie.useMemo(function(){return Hn(Hn({},kB),m||{})},[m]),Ce=ie.useMemo(function(){var rt="";if(r&&$.onChange){var xe=r.option,lt=r.options,he=r.removedValue,nt=r.removedValues,Y=r.value,Re=function(ue){return Array.isArray(ue)?null:ue},Ke=he||xe||Re(Y),Ue=Ke?w(Ke):"",at=lt||nt||void 0,It=at?at.map(w):[],Nt=Hn({isDisabled:Ke&&R(Ke,u),label:Ue,labels:It},r);rt=$.onChange(Nt)}return rt},[r,$,R,u,w]),K=ie.useMemo(function(){var rt="",xe=i||a,lt=!!(i&&u&&u.includes(i));if(xe&&$.onFocus){var he={focused:xe,label:w(xe),isDisabled:R(xe,u),isSelected:lt,options:l,context:xe===i?"menu":"value",selectValue:u,isAppleDevice:p};rt=$.onFocus(he)}return rt},[i,a,w,R,$,l,u,p]),re=ie.useMemo(function(){var rt="";if(E&&N.length&&!L&&$.onFilter){var xe=O({count:l.length});rt=$.onFilter({inputValue:S,resultsMessage:xe})}return rt},[l,S,E,$,N,O,L]),pe=r?.action==="initial-input-focus",_e=ie.useMemo(function(){var rt="";if($.guidance){var xe=a?"value":E?"menu":"input";rt=$.guidance({"aria-label":z,context:xe,isDisabled:i&&R(i,u),isMulti:C,isSearchable:T,tabSelectsValue:V,isInitialFocus:pe})}return rt},[z,i,a,C,R,T,E,$,u,V,pe]),et=Dn(ie.Fragment,null,Dn("span",{id:"aria-selection"},Ce),Dn("span",{id:"aria-focused"},K),Dn("span",{id:"aria-results"},re),Dn("span",{id:"aria-guidance"},_e));return Dn(ie.Fragment,null,Dn(ax,{id:c},pe&&et),Dn(ax,{"aria-live":W,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},s&&!pe&&et))},BB=jB,Dw=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],HB=new RegExp("["+Dw.map(function(e){return e.letters}).join("")+"]","g"),x2={};for(var zb=0;zb<Dw.length;zb++)for(var Wb=Dw[zb],Jb=0;Jb<Wb.letters.length;Jb++)x2[Wb.letters[Jb]]=Wb.base;var R2=function(t){return t.replace(HB,function(r){return x2[r]})},VB=MB(R2),ox=function(t){return t.replace(/^\s+|\s+$/g,"")},$B=function(t){return"".concat(t.label," ").concat(t.value)},KB=function(t){return function(r,i){if(r.data.__isNew__)return!0;var a=Hn({ignoreCase:!0,ignoreAccents:!0,stringify:$B,trim:!0,matchFrom:"any"},t),l=a.ignoreCase,s=a.ignoreAccents,u=a.stringify,d=a.trim,c=a.matchFrom,p=d?ox(i):i,m=d?ox(u(r)):u(r);return l&&(p=p.toLowerCase(),m=m.toLowerCase()),s&&(p=VB(p),m=R2(m)),c==="start"?m.substr(0,p.length)===p:m.indexOf(p)>-1}},GB=["innerRef"];function qB(e){var t=e.innerRef,r=uu(e,GB),i=vj(r,"onExited","in","enter","exit","appear");return Dn("input",Kn({ref:t},i,{css:K_({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var zB=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function WB(e){var t=e.isEnabled,r=e.onBottomArrive,i=e.onBottomLeave,a=e.onTopArrive,l=e.onTopLeave,s=ie.useRef(!1),u=ie.useRef(!1),d=ie.useRef(0),c=ie.useRef(null),p=ie.useCallback(function(T,E){if(c.current!==null){var N=c.current,O=N.scrollTop,V=N.scrollHeight,L=N.clientHeight,z=c.current,W=E>0,$=V-L-O,Ce=!1;$>E&&s.current&&(i&&i(T),s.current=!1),W&&u.current&&(l&&l(T),u.current=!1),W&&E>$?(r&&!s.current&&r(T),z.scrollTop=V,Ce=!0,s.current=!0):!W&&-E>O&&(a&&!u.current&&a(T),z.scrollTop=0,Ce=!0,u.current=!0),Ce&&zB(T)}},[r,i,a,l]),m=ie.useCallback(function(T){p(T,T.deltaY)},[p]),w=ie.useCallback(function(T){d.current=T.changedTouches[0].clientY},[]),S=ie.useCallback(function(T){var E=d.current-T.changedTouches[0].clientY;p(T,E)},[p]),C=ie.useCallback(function(T){if(T){var E=gj?{passive:!1}:!1;T.addEventListener("wheel",m,E),T.addEventListener("touchstart",w,E),T.addEventListener("touchmove",S,E)}},[S,w,m]),R=ie.useCallback(function(T){T&&(T.removeEventListener("wheel",m,!1),T.removeEventListener("touchstart",w,!1),T.removeEventListener("touchmove",S,!1))},[S,w,m]);return ie.useEffect(function(){if(t){var T=c.current;return C(T),function(){R(T)}}},[t,C,R]),function(T){c.current=T}}var sx=["boxSizing","height","overflow","paddingRight","position"],lx={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function ux(e){e.cancelable&&e.preventDefault()}function cx(e){e.stopPropagation()}function fx(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function dx(){return"ontouchstart"in window||navigator.maxTouchPoints}var hx=!!(typeof window<"u"&&window.document&&window.document.createElement),Kg=0,uh={capture:!1,passive:!1};function JB(e){var t=e.isEnabled,r=e.accountForScrollbars,i=r===void 0?!0:r,a=ie.useRef({}),l=ie.useRef(null),s=ie.useCallback(function(d){if(hx){var c=document.body,p=c&&c.style;if(i&&sx.forEach(function(C){var R=p&&p[C];a.current[C]=R}),i&&Kg<1){var m=parseInt(a.current.paddingRight,10)||0,w=document.body?document.body.clientWidth:0,S=window.innerWidth-w+m||0;Object.keys(lx).forEach(function(C){var R=lx[C];p&&(p[C]=R)}),p&&(p.paddingRight="".concat(S,"px"))}c&&dx()&&(c.addEventListener("touchmove",ux,uh),d&&(d.addEventListener("touchstart",fx,uh),d.addEventListener("touchmove",cx,uh))),Kg+=1}},[i]),u=ie.useCallback(function(d){if(hx){var c=document.body,p=c&&c.style;Kg=Math.max(Kg-1,0),i&&Kg<1&&sx.forEach(function(m){var w=a.current[m];p&&(p[m]=w)}),c&&dx()&&(c.removeEventListener("touchmove",ux,uh),d&&(d.removeEventListener("touchstart",fx,uh),d.removeEventListener("touchmove",cx,uh)))}},[i]);return ie.useEffect(function(){if(t){var d=l.current;return s(d),function(){u(d)}}},[t,s,u]),function(d){l.current=d}}var YB=function(t){var r=t.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},XB={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function QB(e){var t=e.children,r=e.lockEnabled,i=e.captureEnabled,a=i===void 0?!0:i,l=e.onBottomArrive,s=e.onBottomLeave,u=e.onTopArrive,d=e.onTopLeave,c=WB({isEnabled:a,onBottomArrive:l,onBottomLeave:s,onTopArrive:u,onTopLeave:d}),p=JB({isEnabled:r}),m=function(S){c(S),p(S)};return Dn(ie.Fragment,null,r&&Dn("div",{onClick:YB,css:XB}),t(m))}var ZB={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},eH=function(t){var r=t.name,i=t.onFocus;return Dn("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:ZB,value:"",onChange:function(){}})},tH=eH;function J_(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function nH(){return J_(/^iPhone/i)}function C2(){return J_(/^Mac/i)}function rH(){return J_(/^iPad/i)||C2()&&navigator.maxTouchPoints>1}function iH(){return nH()||rH()}function aH(){return C2()||iH()}var oH=function(t){return t.label},sH=function(t){return t.label},lH=function(t){return t.value},uH=function(t){return!!t.isDisabled},cH={clearIndicator:qj,container:Mj,control:Zj,dropdownIndicator:Kj,group:rB,groupHeading:aB,indicatorsContainer:jj,indicatorSeparator:Wj,input:uB,loadingIndicator:Xj,loadingMessage:Ij,menu:Ej,menuList:Cj,menuPortal:Fj,multiValue:pB,multiValueLabel:gB,multiValueRemove:mB,noOptionsMessage:Oj,option:SB,placeholder:xB,singleValue:TB,valueContainer:Uj},fH={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},dH=4,T2=4,hH=38,pH=T2*2,gH={baseUnit:T2,controlHeight:hH,menuGutter:pH},Yb={borderRadius:dH,colors:fH,spacing:gH},mH={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:nx(),captureMenuScroll:!nx(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:KB(),formatGroupLabel:oH,getOptionLabel:sH,getOptionValue:lH,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:uH,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!hj(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function px(e,t,r,i){var a=P2(e,t,r),l=N2(e,t,r),s=I2(e,t),u=yv(e,t);return{type:"option",data:t,isDisabled:a,isSelected:l,label:s,value:u,index:i}}function Jy(e,t){return e.options.map(function(r,i){if("options"in r){var a=r.options.map(function(s,u){return px(e,s,t,u)}).filter(function(s){return mx(e,s)});return a.length>0?{type:"group",data:r,options:a,index:i}:void 0}var l=px(e,r,t,i);return mx(e,l)?l:void 0}).filter(mj)}function O2(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,j_(r.options.map(function(i){return i.data}))):t.push(r.data),t},[])}function gx(e,t){return e.reduce(function(r,i){return i.type==="group"?r.push.apply(r,j_(i.options.map(function(a){return{data:a.data,id:"".concat(t,"-").concat(i.index,"-").concat(a.index)}}))):r.push({data:i.data,id:"".concat(t,"-").concat(i.index)}),r},[])}function yH(e,t){return O2(Jy(e,t))}function mx(e,t){var r=e.inputValue,i=r===void 0?"":r,a=t.data,l=t.isSelected,s=t.label,u=t.value;return(!D2(e)||!l)&&F2(e,{label:s,value:u,data:a},i)}function vH(e,t){var r=e.focusedValue,i=e.selectValue,a=i.indexOf(r);if(a>-1){var l=t.indexOf(r);if(l>-1)return r;if(a<t.length)return t[a]}return null}function bH(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}var Xb=function(t,r){var i,a=(i=t.find(function(l){return l.data===r}))===null||i===void 0?void 0:i.id;return a||null},I2=function(t,r){return t.getOptionLabel(r)},yv=function(t,r){return t.getOptionValue(r)};function P2(e,t,r){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,r):!1}function N2(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var i=yv(e,t);return r.some(function(a){return yv(e,a)===i})}function F2(e,t,r){return e.filterOption?e.filterOption(t,r):!0}var D2=function(t){var r=t.hideSelectedOptions,i=t.isMulti;return r===void 0?i:r},wH=1,M2=function(e){$k(r,e);var t=qk(r);function r(i){var a;if(Hk(this,r),a=t.call(this,i),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.controlRef=null,a.getControlRef=function(d){a.controlRef=d},a.focusedOptionRef=null,a.getFocusedOptionRef=function(d){a.focusedOptionRef=d},a.menuListRef=null,a.getMenuListRef=function(d){a.menuListRef=d},a.inputRef=null,a.getInputRef=function(d){a.inputRef=d},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(d,c){var p=a.props,m=p.onChange,w=p.name;c.name=w,a.ariaOnChange(d,c),m(d,c)},a.setValue=function(d,c,p){var m=a.props,w=m.closeMenuOnSelect,S=m.isMulti,C=m.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:C}),w&&(a.setState({inputIsHiddenAfterUpdate:!S}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(d,{action:c,option:p})},a.selectOption=function(d){var c=a.props,p=c.blurInputOnSelect,m=c.isMulti,w=c.name,S=a.state.selectValue,C=m&&a.isOptionSelected(d,S),R=a.isOptionDisabled(d,S);if(C){var T=a.getOptionValue(d);a.setValue(S.filter(function(E){return a.getOptionValue(E)!==T}),"deselect-option",d)}else if(!R)m?a.setValue([].concat(j_(S),[d]),"select-option",d):a.setValue(d,"select-option");else{a.ariaOnChange(d,{action:"select-option",option:d,name:w});return}p&&a.blurInput()},a.removeValue=function(d){var c=a.props.isMulti,p=a.state.selectValue,m=a.getOptionValue(d),w=p.filter(function(C){return a.getOptionValue(C)!==m}),S=Uy(c,w,w[0]||null);a.onChange(S,{action:"remove-value",removedValue:d}),a.focusInput()},a.clearValue=function(){var d=a.state.selectValue;a.onChange(Uy(a.props.isMulti,[],null),{action:"clear",removedValues:d})},a.popValue=function(){var d=a.props.isMulti,c=a.state.selectValue,p=c[c.length-1],m=c.slice(0,c.length-1),w=Uy(d,m,m[0]||null);p&&a.onChange(w,{action:"pop-value",removedValue:p})},a.getFocusedOptionId=function(d){return Xb(a.state.focusableOptionsWithIds,d)},a.getFocusableOptionsWithIds=function(){return gx(Jy(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var d=arguments.length,c=new Array(d),p=0;p<d;p++)c[p]=arguments[p];return lj.apply(void 0,[a.props.classNamePrefix].concat(c))},a.getOptionLabel=function(d){return I2(a.props,d)},a.getOptionValue=function(d){return yv(a.props,d)},a.getStyles=function(d,c){var p=a.props.unstyled,m=cH[d](c,p);m.boxSizing="border-box";var w=a.props.styles[d];return w?w(m,c):m},a.getClassNames=function(d,c){var p,m;return(p=(m=a.props.classNames)[d])===null||p===void 0?void 0:p.call(m,c)},a.getElementId=function(d){return"".concat(a.state.instancePrefix,"-").concat(d)},a.getComponents=function(){return NB(a.props)},a.buildCategorizedOptions=function(){return Jy(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return O2(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(d,c){a.setState({ariaSelection:Hn({value:d},c)})},a.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(d){a.blockOptionHover=!1},a.onControlMouseDown=function(d){if(!d.defaultPrevented){var c=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&a.onMenuClose():c&&a.openMenu("first"):(c&&(a.openAfterFocus=!0),a.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},a.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0)&&!a.props.isDisabled){var c=a.props,p=c.isMulti,m=c.menuIsOpen;a.focusInput(),m?(a.setState({inputIsHiddenAfterUpdate:!p}),a.onMenuClose()):a.openMenu("first"),d.preventDefault()}},a.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(a.clearValue(),d.preventDefault(),a.openAfterFocus=!1,d.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(d){typeof a.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&Wv(d.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(d)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(d){var c=d.touches,p=c&&c.item(0);p&&(a.initialTouchX=p.clientX,a.initialTouchY=p.clientY,a.userIsDragging=!1)},a.onTouchMove=function(d){var c=d.touches,p=c&&c.item(0);if(p){var m=Math.abs(p.clientX-a.initialTouchX),w=Math.abs(p.clientY-a.initialTouchY),S=5;a.userIsDragging=m>S||w>S}},a.onTouchEnd=function(d){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(d.target)&&a.menuListRef&&!a.menuListRef.contains(d.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(d){a.userIsDragging||a.onControlMouseDown(d)},a.onClearIndicatorTouchEnd=function(d){a.userIsDragging||a.onClearIndicatorMouseDown(d)},a.onDropdownIndicatorTouchEnd=function(d){a.userIsDragging||a.onDropdownIndicatorMouseDown(d)},a.handleInputChange=function(d){var c=a.props.inputValue,p=d.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(p,{action:"input-change",prevInputValue:c}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(d){a.props.onFocus&&a.props.onFocus(d),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(d){var c=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(d),a.onInputChange("",{action:"input-blur",prevInputValue:c}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(d){if(!(a.blockOptionHover||a.state.focusedOption===d)){var c=a.getFocusableOptions(),p=c.indexOf(d);a.setState({focusedOption:d,focusedOptionId:p>-1?a.getFocusedOptionId(d):null})}},a.shouldHideSelectedOptions=function(){return D2(a.props)},a.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),a.focus()},a.onKeyDown=function(d){var c=a.props,p=c.isMulti,m=c.backspaceRemovesValue,w=c.escapeClearsValue,S=c.inputValue,C=c.isClearable,R=c.isDisabled,T=c.menuIsOpen,E=c.onKeyDown,N=c.tabSelectsValue,O=c.openMenuOnFocus,V=a.state,L=V.focusedOption,z=V.focusedValue,W=V.selectValue;if(!R&&!(typeof E=="function"&&(E(d),d.defaultPrevented))){switch(a.blockOptionHover=!0,d.key){case"ArrowLeft":if(!p||S)return;a.focusValue("previous");break;case"ArrowRight":if(!p||S)return;a.focusValue("next");break;case"Delete":case"Backspace":if(S)return;if(z)a.removeValue(z);else{if(!m)return;p?a.popValue():C&&a.clearValue()}break;case"Tab":if(a.isComposing||d.shiftKey||!T||!N||!L||O&&a.isOptionSelected(L,W))return;a.selectOption(L);break;case"Enter":if(d.keyCode===229)break;if(T){if(!L||a.isComposing)return;a.selectOption(L);break}return;case"Escape":T?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:S}),a.onMenuClose()):C&&w&&a.clearValue();break;case" ":if(S)return;if(!T){a.openMenu("first");break}if(!L)return;a.selectOption(L);break;case"ArrowUp":T?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":T?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!T)return;a.focusOption("pageup");break;case"PageDown":if(!T)return;a.focusOption("pagedown");break;case"Home":if(!T)return;a.focusOption("first");break;case"End":if(!T)return;a.focusOption("last");break;default:return}d.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++wH),a.state.selectValue=ex(i.value),i.menuIsOpen&&a.state.selectValue.length){var l=a.getFocusableOptionsWithIds(),s=a.buildFocusableOptions(),u=s.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=l,a.state.focusedOption=s[u],a.state.focusedOptionId=Xb(l,s[u])}return a}return Vk(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&tx(this.menuListRef,this.focusedOptionRef),aH()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(a){var l=this.props,s=l.isDisabled,u=l.menuIsOpen,d=this.state.isFocused;(d&&!s&&a.isDisabled||d&&u&&!a.menuIsOpen)&&this.focusInput(),d&&s&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!d&&!s&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(tx(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,l){this.props.onInputChange(a,l)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var l=this,s=this.state,u=s.selectValue,d=s.isFocused,c=this.buildFocusableOptions(),p=a==="first"?0:c.length-1;if(!this.props.isMulti){var m=c.indexOf(u[0]);m>-1&&(p=m)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[p],focusedOptionId:this.getFocusedOptionId(c[p])},function(){return l.onMenuOpen()})}},{key:"focusValue",value:function(a){var l=this.state,s=l.selectValue,u=l.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=s.indexOf(u);u||(d=-1);var c=s.length-1,p=-1;if(s.length){switch(a){case"previous":d===0?p=0:d===-1?p=c:p=d-1;break;case"next":d>-1&&d<c&&(p=d+1);break}this.setState({inputIsHidden:p!==-1,focusedValue:s[p]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",l=this.props.pageSize,s=this.state.focusedOption,u=this.getFocusableOptions();if(u.length){var d=0,c=u.indexOf(s);s||(c=-1),a==="up"?d=c>0?c-1:u.length-1:a==="down"?d=(c+1)%u.length:a==="pageup"?(d=c-l,d<0&&(d=0)):a==="pagedown"?(d=c+l,d>u.length-1&&(d=u.length-1)):a==="last"&&(d=u.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:u[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(u[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Yb):Hn(Hn({},Yb),this.props.theme):Yb}},{key:"getCommonProps",value:function(){var a=this.clearValue,l=this.cx,s=this.getStyles,u=this.getClassNames,d=this.getValue,c=this.selectOption,p=this.setValue,m=this.props,w=m.isMulti,S=m.isRtl,C=m.options,R=this.hasValue();return{clearValue:a,cx:l,getStyles:s,getClassNames:u,getValue:d,hasValue:R,isMulti:w,isRtl:S,options:C,selectOption:c,selectProps:m,setValue:p,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,l=a.isClearable,s=a.isMulti;return l===void 0?s:l}},{key:"isOptionDisabled",value:function(a,l){return P2(this.props,a,l)}},{key:"isOptionSelected",value:function(a,l){return N2(this.props,a,l)}},{key:"filterOption",value:function(a,l){return F2(this.props,a,l)}},{key:"formatOptionLabel",value:function(a,l){if(typeof this.props.formatOptionLabel=="function"){var s=this.props.inputValue,u=this.state.selectValue;return this.props.formatOptionLabel(a,{context:l,inputValue:s,selectValue:u})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,l=a.isDisabled,s=a.isSearchable,u=a.inputId,d=a.inputValue,c=a.tabIndex,p=a.form,m=a.menuIsOpen,w=a.required,S=this.getComponents(),C=S.Input,R=this.state,T=R.inputIsHidden,E=R.ariaSelection,N=this.commonProps,O=u||this.getElementId("input"),V=Hn(Hn(Hn({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":w,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!s&&{"aria-readonly":!0}),this.hasValue()?E?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return s?ie.createElement(C,Kn({},N,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:O,innerRef:this.getInputRef,isDisabled:l,isHidden:T,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:p,type:"text",value:d},V)):ie.createElement(qB,Kn({id:O,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:gv,onFocus:this.onInputFocus,disabled:l,tabIndex:c,inputMode:"none",form:p,value:""},V))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,l=this.getComponents(),s=l.MultiValue,u=l.MultiValueContainer,d=l.MultiValueLabel,c=l.MultiValueRemove,p=l.SingleValue,m=l.Placeholder,w=this.commonProps,S=this.props,C=S.controlShouldRenderValue,R=S.isDisabled,T=S.isMulti,E=S.inputValue,N=S.placeholder,O=this.state,V=O.selectValue,L=O.focusedValue,z=O.isFocused;if(!this.hasValue()||!C)return E?null:ie.createElement(m,Kn({},w,{key:"placeholder",isDisabled:R,isFocused:z,innerProps:{id:this.getElementId("placeholder")}}),N);if(T)return V.map(function($,Ce){var K=$===L,re="".concat(a.getOptionLabel($),"-").concat(a.getOptionValue($));return ie.createElement(s,Kn({},w,{components:{Container:u,Label:d,Remove:c},isFocused:K,isDisabled:R,key:re,index:Ce,removeProps:{onClick:function(){return a.removeValue($)},onTouchEnd:function(){return a.removeValue($)},onMouseDown:function(_e){_e.preventDefault()}},data:$}),a.formatOptionLabel($,"value"))});if(E)return null;var W=V[0];return ie.createElement(p,Kn({},w,{data:W,isDisabled:R}),this.formatOptionLabel(W,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),l=a.ClearIndicator,s=this.commonProps,u=this.props,d=u.isDisabled,c=u.isLoading,p=this.state.isFocused;if(!this.isClearable()||!l||d||!this.hasValue()||c)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return ie.createElement(l,Kn({},s,{innerProps:m,isFocused:p}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),l=a.LoadingIndicator,s=this.commonProps,u=this.props,d=u.isDisabled,c=u.isLoading,p=this.state.isFocused;if(!l||!c)return null;var m={"aria-hidden":"true"};return ie.createElement(l,Kn({},s,{innerProps:m,isDisabled:d,isFocused:p}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),l=a.DropdownIndicator,s=a.IndicatorSeparator;if(!l||!s)return null;var u=this.commonProps,d=this.props.isDisabled,c=this.state.isFocused;return ie.createElement(s,Kn({},u,{isDisabled:d,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),l=a.DropdownIndicator;if(!l)return null;var s=this.commonProps,u=this.props.isDisabled,d=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return ie.createElement(l,Kn({},s,{innerProps:c,isDisabled:u,isFocused:d}))}},{key:"renderMenu",value:function(){var a=this,l=this.getComponents(),s=l.Group,u=l.GroupHeading,d=l.Menu,c=l.MenuList,p=l.MenuPortal,m=l.LoadingMessage,w=l.NoOptionsMessage,S=l.Option,C=this.commonProps,R=this.state.focusedOption,T=this.props,E=T.captureMenuScroll,N=T.inputValue,O=T.isLoading,V=T.loadingMessage,L=T.minMenuHeight,z=T.maxMenuHeight,W=T.menuIsOpen,$=T.menuPlacement,Ce=T.menuPosition,K=T.menuPortalTarget,re=T.menuShouldBlockScroll,pe=T.menuShouldScrollIntoView,_e=T.noOptionsMessage,et=T.onMenuScrollToTop,rt=T.onMenuScrollToBottom;if(!W)return null;var xe=function(Ue,at){var It=Ue.type,Nt=Ue.data,Me=Ue.isDisabled,ue=Ue.isSelected,Ie=Ue.label,Ye=Ue.value,se=R===Nt,k=Me?void 0:function(){return a.onOptionHover(Nt)},D=Me?void 0:function(){return a.selectOption(Nt)},q="".concat(a.getElementId("option"),"-").concat(at),ne={id:q,onClick:D,onMouseMove:k,onMouseOver:k,tabIndex:-1,role:"option","aria-selected":a.state.isAppleDevice?void 0:ue};return ie.createElement(S,Kn({},C,{innerProps:ne,data:Nt,isDisabled:Me,isSelected:ue,key:q,label:Ie,type:It,value:Ye,isFocused:se,innerRef:se?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(Ue.data,"menu"))},lt;if(this.hasOptions())lt=this.getCategorizedOptions().map(function(Ke){if(Ke.type==="group"){var Ue=Ke.data,at=Ke.options,It=Ke.index,Nt="".concat(a.getElementId("group"),"-").concat(It),Me="".concat(Nt,"-heading");return ie.createElement(s,Kn({},C,{key:Nt,data:Ue,options:at,Heading:u,headingProps:{id:Me,data:Ke.data},label:a.formatGroupLabel(Ke.data)}),Ke.options.map(function(ue){return xe(ue,"".concat(It,"-").concat(ue.index))}))}else if(Ke.type==="option")return xe(Ke,"".concat(Ke.index))});else if(O){var he=V({inputValue:N});if(he===null)return null;lt=ie.createElement(m,C,he)}else{var nt=_e({inputValue:N});if(nt===null)return null;lt=ie.createElement(w,C,nt)}var Y={minMenuHeight:L,maxMenuHeight:z,menuPlacement:$,menuPosition:Ce,menuShouldScrollIntoView:pe},Re=ie.createElement(Aj,Kn({},C,Y),function(Ke){var Ue=Ke.ref,at=Ke.placerProps,It=at.placement,Nt=at.maxHeight;return ie.createElement(d,Kn({},C,Y,{innerRef:Ue,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:O,placement:It}),ie.createElement(QB,{captureEnabled:E,onTopArrive:et,onBottomArrive:rt,lockEnabled:re},function(Me){return ie.createElement(c,Kn({},C,{innerRef:function(Ie){a.getMenuListRef(Ie),Me(Ie)},innerProps:{role:"listbox","aria-multiselectable":C.isMulti,id:a.getElementId("listbox")},isLoading:O,maxHeight:Nt,focusedOption:R}),lt)}))});return K||Ce==="fixed"?ie.createElement(p,Kn({},C,{appendTo:K,controlElement:this.controlRef,menuPlacement:$,menuPosition:Ce}),Re):Re}},{key:"renderFormField",value:function(){var a=this,l=this.props,s=l.delimiter,u=l.isDisabled,d=l.isMulti,c=l.name,p=l.required,m=this.state.selectValue;if(p&&!this.hasValue()&&!u)return ie.createElement(tH,{name:c,onFocus:this.onValueInputFocus});if(!(!c||u))if(d)if(s){var w=m.map(function(R){return a.getOptionValue(R)}).join(s);return ie.createElement("input",{name:c,type:"hidden",value:w})}else{var S=m.length>0?m.map(function(R,T){return ie.createElement("input",{key:"i-".concat(T),name:c,type:"hidden",value:a.getOptionValue(R)})}):ie.createElement("input",{name:c,type:"hidden",value:""});return ie.createElement("div",null,S)}else{var C=m[0]?this.getOptionValue(m[0]):"";return ie.createElement("input",{name:c,type:"hidden",value:C})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,l=this.state,s=l.ariaSelection,u=l.focusedOption,d=l.focusedValue,c=l.isFocused,p=l.selectValue,m=this.getFocusableOptions();return ie.createElement(BB,Kn({},a,{id:this.getElementId("live-region"),ariaSelection:s,focusedOption:u,focusedValue:d,isFocused:c,selectValue:p,focusableOptions:m,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),l=a.Control,s=a.IndicatorsContainer,u=a.SelectContainer,d=a.ValueContainer,c=this.props,p=c.className,m=c.id,w=c.isDisabled,S=c.menuIsOpen,C=this.state.isFocused,R=this.commonProps=this.getCommonProps();return ie.createElement(u,Kn({},R,{className:p,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:w,isFocused:C}),this.renderLiveRegion(),ie.createElement(l,Kn({},R,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:w,isFocused:C,menuIsOpen:S}),ie.createElement(d,Kn({},R,{isDisabled:w}),this.renderPlaceholderOrValue(),this.renderInput()),ie.createElement(s,Kn({},R,{isDisabled:w}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,l){var s=l.prevProps,u=l.clearFocusValueOnUpdate,d=l.inputIsHiddenAfterUpdate,c=l.ariaSelection,p=l.isFocused,m=l.prevWasFocused,w=l.instancePrefix,S=a.options,C=a.value,R=a.menuIsOpen,T=a.inputValue,E=a.isMulti,N=ex(C),O={};if(s&&(C!==s.value||S!==s.options||R!==s.menuIsOpen||T!==s.inputValue)){var V=R?yH(a,N):[],L=R?gx(Jy(a,N),"".concat(w,"-option")):[],z=u?vH(l,N):null,W=bH(l,V),$=Xb(L,W);O={selectValue:N,focusedOption:W,focusedOptionId:$,focusableOptionsWithIds:L,focusedValue:z,clearFocusValueOnUpdate:!1}}var Ce=d!=null&&a!==s?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},K=c,re=p&&m;return p&&!re&&(K={value:Uy(E,N,N[0]||null),options:N,action:"initial-input-focus"},re=!m),c?.action==="initial-input-focus"&&(K=null),Hn(Hn(Hn({},O),Ce),{},{prevProps:a,ariaSelection:K,prevWasFocused:re})}}]),r}(ie.Component);M2.defaultProps=mH;var _H=ie.forwardRef(function(e,t){var r=Bk(e);return ie.createElement(M2,Kn({ref:t},r))}),ch=_H;const SH=()=>{const e=Jf();return ge.jsxs(ge.Fragment,{children:[ge.jsx("div",{className:"text-center mt-3",children:ge.jsx("img",{src:"images/lasagna.png",alt:"Lasagna",style:{maxWidth:"500px",maxHeight:"200px",borderRadius:"4%"}})}),ge.jsxs(dc,{fluid:!0,children:[ge.jsxs(Ui,{style:{maxWidth:"700px",marginTop:"15px"},children:[ge.jsx(Tr,{xs:6,children:ge.jsxs(Ws,{style:{width:"150px"},gap:3,children:[ge.jsx(ci.Control,{value:"Lasagna"}),ge.jsx(ki,{variant:"secondary",children:e.formatMessage({id:"addImage",defaultMessage:"Add image"})})]})}),ge.jsx(Tr,{xs:6,children:ge.jsxs(Ws,{gap:3,style:{marginTop:"8px",maxWidth:"200px"},children:[ge.jsx(ci.Switch,{reverse:!0,label:e.formatMessage({id:"visible",defaultMessage:"Visible"})}),ge.jsx(ki,{variant:"secondary",style:{width:"150px",marginLeft:"30px",marginTop:"4px"},children:ge.jsx(ui,{id:"removeImage",defaultMessage:"Remove image"})})]})})]}),ge.jsxs(ci.Group,{as:Ui,controlId:"menuDescriptionTextInput",style:{maxWidth:"560px",marginTop:"20px"},children:[ge.jsx(ci.Label,{column:!0,xs:"3",children:ge.jsx(ui,{id:"menuDescription",defaultMessage:"Description"})}),ge.jsx(Tr,{xs:"9",children:ge.jsx(ci.Control,{})})]})]}),ge.jsx("hr",{}),ge.jsx(dc,{children:ge.jsxs(Ws,{gap:3,children:[ge.jsxs(Ui,{className:"align-items-center",children:[ge.jsx(Tr,{xs:4,children:ge.jsx(ui,{id:"allergens",defaultMessage:"Allergens"})}),ge.jsx(Tr,{xs:8,children:ge.jsx(ch,{isMulti:!0,"aria-label":"Allergen select",styles:{control:t=>({...t,minHeight:"42px"})}})})]}),ge.jsxs(Ui,{className:"align-items-center",children:[ge.jsx(Tr,{xs:4,children:ge.jsx(ui,{id:"suitableForDiets",defaultMessage:"Suitable for diets"})}),ge.jsx(Tr,{xs:8,children:ge.jsx(ch,{isMulti:!0,"aria-label":"Diet select",styles:{control:t=>({...t,minHeight:"42px"})}})})]}),ge.jsxs(Ui,{className:"align-items-center",children:[ge.jsx(Tr,{xs:4,children:ge.jsx(ui,{id:"ingredients",defaultMessage:"Ingredients"})}),ge.jsx(Tr,{xs:8,children:ge.jsx(ch,{isMulti:!0,"aria-label":"Ingredient select",styles:{control:t=>({...t,minHeight:"42px"})}})})]}),ge.jsxs(ci.Group,{as:Ui,controlId:"servingSizeInput",children:[ge.jsx(ci.Label,{column:!0,xs:"4",children:ge.jsx(ui,{id:"servingSize",defaultMessage:"Serving size"})}),ge.jsx(Tr,{xs:"3",children:ge.jsx(ci.Control,{})}),ge.jsx(Tr,{className:"mt-1",children:"g"})]}),ge.jsxs(ci.Group,{as:Ui,controlId:"calorieInput",children:[ge.jsx(ci.Label,{column:!0,xs:"4",children:ge.jsx(ui,{id:"calories",defaultMessage:"Calories"})}),ge.jsx(Tr,{xs:"3",children:ge.jsx(ci.Control,{})}),ge.jsx(Tr,{className:"mt-1",children:"kcal"})]}),ge.jsxs(Ui,{className:"align-items-center",children:[ge.jsx(Tr,{xs:4,children:ge.jsx(ui,{id:"nationalCuisines",defaultMessage:"National cuisines"})}),ge.jsx(Tr,{xs:8,children:ge.jsx(ch,{isMulti:!0,"aria-label":"National cuisine select",styles:{control:t=>({...t,minHeight:"42px"})}})})]}),ge.jsxs(Ui,{className:"align-items-center",children:[ge.jsx(Tr,{xs:4,children:ge.jsx(ui,{id:"cookingMethods",defaultMessage:"Preparation methods"})}),ge.jsx(Tr,{xs:8,children:ge.jsx(ch,{isMulti:!0,"aria-label":"Preparation method select",styles:{control:t=>({...t,minHeight:"42px"})}})})]}),ge.jsxs(Ui,{className:"align-items-center",children:[ge.jsx(Tr,{xs:4,children:ge.jsx(ui,{id:"spicinessLevel",defaultMessage:"Spiciness level"})}),ge.jsx(Tr,{xs:8,children:ge.jsx(ch,{"aria-label":"Spiciness level select",styles:{control:t=>({...t,minHeight:"42px"})}})})]})]})}),ge.jsx(uv,{sticky:"bottom",children:ge.jsxs(dc,{children:[ge.jsx(ki,{variant:"secondary",children:ge.jsx(ui,{id:"cancel",defaultMessage:"Cancel"})}),ge.jsx(uv.Collapse,{className:"justify-content-end",children:ge.jsx(ki,{children:ge.jsx(ui,{id:"save",defaultMessage:"Save"})})})]})})]})},EH=()=>{const e=new KL;return ge.jsx(mF.SessionProvider,{restorePreviousSession:!0,children:ge.jsx(YD,{children:ge.jsx(qL,{client:e,children:ge.jsx(dL,{basename:"/solid-menu-manager/",children:ge.jsxs(VM,{children:[ge.jsx(kf,{path:"/",element:ge.jsx("h1",{children:"Base path"})}),ge.jsx(kf,{path:"/login",element:ge.jsx(hU,{})}),ge.jsx(kf,{path:"/menuOverview",element:ge.jsx(pU,{})}),ge.jsx(kf,{path:"/menuCreation",element:ge.jsx(Dk,{})}),ge.jsx(kf,{path:"/editMenuItem",element:ge.jsx(SH,{})}),ge.jsx(kf,{path:"*",element:ge.jsx(BM,{to:"/",replace:!0})})]})})})})})};pO.createRoot(document.getElementById("root")).render(ge.jsx(ie.StrictMode,{children:ge.jsx(EH,{})}));
