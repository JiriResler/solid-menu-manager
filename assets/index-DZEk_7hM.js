(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();var Ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Am(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function a(){var o=!1;try{o=this instanceof a}catch{}return o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var o=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(r,a,o.get?o:{enumerable:!0,get:function(){return e[a]}})}),r}var w0={exports:{}},vp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jw;function bT(){if(Jw)return vp;Jw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,o,c){var s=null;if(c!==void 0&&(s=""+c),o.key!==void 0&&(s=""+o.key),"key"in o){c={};for(var u in o)u!=="key"&&(c[u]=o[u])}else c=o;return o=c.ref,{$$typeof:e,type:a,key:s,ref:o!==void 0?o:null,props:c}}return vp.Fragment=t,vp.jsx=r,vp.jsxs=r,vp}var Yw;function wT(){return Yw||(Yw=1,w0.exports=bT()),w0.exports}var Ve=wT(),_0={exports:{}},dr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw;function _T(){if(Xw)return dr;Xw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(Y){return Y===null||typeof Y!="object"?null:(Y=v&&Y[v]||Y["@@iterator"],typeof Y=="function"?Y:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function C(Y,Re,Qe){this.props=Y,this.context=Re,this.refs=R,this.updater=Qe||S}C.prototype.isReactComponent={},C.prototype.setState=function(Y,Re){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,Re,"setState")},C.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function x(){}x.prototype=C.prototype;function F(Y,Re,Qe){this.props=Y,this.context=Re,this.refs=R,this.updater=Qe||S}var P=F.prototype=new x;P.constructor=F,T(P,C.prototype),P.isPureReactComponent=!0;var K=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function J(Y,Re,Qe,He,st,It){return Qe=It.ref,{$$typeof:e,type:Y,key:Re,ref:Qe!==void 0?Qe:null,props:It}}function q(Y,Re){return J(Y.type,Re,void 0,void 0,void 0,Y.props)}function Fe(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function $(Y){var Re={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(Qe){return Re[Qe]})}var ie=/\/+/g;function ge(Y,Re){return typeof Y=="object"&&Y!==null&&Y.key!=null?$(""+Y.key):Re.toString(36)}function Ee(){}function tt(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(Ee,Ee):(Y.status="pending",Y.then(function(Re){Y.status==="pending"&&(Y.status="fulfilled",Y.value=Re)},function(Re){Y.status==="pending"&&(Y.status="rejected",Y.reason=Re)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function ct(Y,Re,Qe,He,st){var It=typeof Y;(It==="undefined"||It==="boolean")&&(Y=null);var kt=!1;if(Y===null)kt=!0;else switch(It){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(Y.$$typeof){case e:case t:kt=!0;break;case g:return kt=Y._init,ct(kt(Y._payload),Re,Qe,He,st)}}if(kt)return st=st(Y),kt=He===""?"."+ge(Y,0):He,K(st)?(Qe="",kt!=null&&(Qe=kt.replace(ie,"$&/")+"/"),ct(st,Re,Qe,"",function(Ce){return Ce})):st!=null&&(Fe(st)&&(st=q(st,Qe+(st.key==null||Y&&Y.key===st.key?"":(""+st.key).replace(ie,"$&/")+"/")+kt)),Re.push(st)),1;kt=0;var ke=He===""?".":He+":";if(K(Y))for(var le=0;le<Y.length;le++)He=Y[le],It=ke+ge(He,le),kt+=ct(He,Re,Qe,It,st);else if(le=w(Y),typeof le=="function")for(Y=le.call(Y),le=0;!(He=Y.next()).done;)He=He.value,It=ke+ge(He,le++),kt+=ct(He,Re,Qe,It,st);else if(It==="object"){if(typeof Y.then=="function")return ct(tt(Y),Re,Qe,He,st);throw Re=String(Y),Error("Objects are not valid as a React child (found: "+(Re==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":Re)+"). If you meant to render a collection of children, use an array instead.")}return kt}function Ie(Y,Re,Qe){if(Y==null)return Y;var He=[],st=0;return ct(Y,He,"","",function(It){return Re.call(Qe,It,st++)}),He}function ht(Y){if(Y._status===-1){var Re=Y._result;Re=Re(),Re.then(function(Qe){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=Qe)},function(Qe){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=Qe)}),Y._status===-1&&(Y._status=0,Y._result=Re)}if(Y._status===1)return Y._result.default;throw Y._result}var de=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(Re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function nt(){}return dr.Children={map:Ie,forEach:function(Y,Re,Qe){Ie(Y,function(){Re.apply(this,arguments)},Qe)},count:function(Y){var Re=0;return Ie(Y,function(){Re++}),Re},toArray:function(Y){return Ie(Y,function(Re){return Re})||[]},only:function(Y){if(!Fe(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},dr.Component=C,dr.Fragment=r,dr.Profiler=o,dr.PureComponent=F,dr.StrictMode=a,dr.Suspense=h,dr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,dr.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return M.H.useMemoCache(Y)}},dr.cache=function(Y){return function(){return Y.apply(null,arguments)}},dr.cloneElement=function(Y,Re,Qe){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var He=T({},Y.props),st=Y.key,It=void 0;if(Re!=null)for(kt in Re.ref!==void 0&&(It=void 0),Re.key!==void 0&&(st=""+Re.key),Re)!z.call(Re,kt)||kt==="key"||kt==="__self"||kt==="__source"||kt==="ref"&&Re.ref===void 0||(He[kt]=Re[kt]);var kt=arguments.length-2;if(kt===1)He.children=Qe;else if(1<kt){for(var ke=Array(kt),le=0;le<kt;le++)ke[le]=arguments[le+2];He.children=ke}return J(Y.type,st,void 0,void 0,It,He)},dr.createContext=function(Y){return Y={$$typeof:s,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:c,_context:Y},Y},dr.createElement=function(Y,Re,Qe){var He,st={},It=null;if(Re!=null)for(He in Re.key!==void 0&&(It=""+Re.key),Re)z.call(Re,He)&&He!=="key"&&He!=="__self"&&He!=="__source"&&(st[He]=Re[He]);var kt=arguments.length-2;if(kt===1)st.children=Qe;else if(1<kt){for(var ke=Array(kt),le=0;le<kt;le++)ke[le]=arguments[le+2];st.children=ke}if(Y&&Y.defaultProps)for(He in kt=Y.defaultProps,kt)st[He]===void 0&&(st[He]=kt[He]);return J(Y,It,void 0,void 0,null,st)},dr.createRef=function(){return{current:null}},dr.forwardRef=function(Y){return{$$typeof:u,render:Y}},dr.isValidElement=Fe,dr.lazy=function(Y){return{$$typeof:g,_payload:{_status:-1,_result:Y},_init:ht}},dr.memo=function(Y,Re){return{$$typeof:f,type:Y,compare:Re===void 0?null:Re}},dr.startTransition=function(Y){var Re=M.T,Qe={};M.T=Qe;try{var He=Y(),st=M.S;st!==null&&st(Qe,He),typeof He=="object"&&He!==null&&typeof He.then=="function"&&He.then(nt,de)}catch(It){de(It)}finally{M.T=Re}},dr.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},dr.use=function(Y){return M.H.use(Y)},dr.useActionState=function(Y,Re,Qe){return M.H.useActionState(Y,Re,Qe)},dr.useCallback=function(Y,Re){return M.H.useCallback(Y,Re)},dr.useContext=function(Y){return M.H.useContext(Y)},dr.useDebugValue=function(){},dr.useDeferredValue=function(Y,Re){return M.H.useDeferredValue(Y,Re)},dr.useEffect=function(Y,Re,Qe){var He=M.H;if(typeof Qe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return He.useEffect(Y,Re)},dr.useId=function(){return M.H.useId()},dr.useImperativeHandle=function(Y,Re,Qe){return M.H.useImperativeHandle(Y,Re,Qe)},dr.useInsertionEffect=function(Y,Re){return M.H.useInsertionEffect(Y,Re)},dr.useLayoutEffect=function(Y,Re){return M.H.useLayoutEffect(Y,Re)},dr.useMemo=function(Y,Re){return M.H.useMemo(Y,Re)},dr.useOptimistic=function(Y,Re){return M.H.useOptimistic(Y,Re)},dr.useReducer=function(Y,Re,Qe){return M.H.useReducer(Y,Re,Qe)},dr.useRef=function(Y){return M.H.useRef(Y)},dr.useState=function(Y){return M.H.useState(Y)},dr.useSyncExternalStore=function(Y,Re,Qe){return M.H.useSyncExternalStore(Y,Re,Qe)},dr.useTransition=function(){return M.H.useTransition()},dr.version="19.1.0",dr}var Qw;function Ug(){return Qw||(Qw=1,_0.exports=_T()),_0.exports}var me=Ug();const Fs=Sm(me);var E0={exports:{}},bp={},S0={exports:{}},A0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw;function ET(){return Zw||(Zw=1,function(e){function t(Ie,ht){var de=Ie.length;Ie.push(ht);e:for(;0<de;){var nt=de-1>>>1,Y=Ie[nt];if(0<o(Y,ht))Ie[nt]=ht,Ie[de]=Y,de=nt;else break e}}function r(Ie){return Ie.length===0?null:Ie[0]}function a(Ie){if(Ie.length===0)return null;var ht=Ie[0],de=Ie.pop();if(de!==ht){Ie[0]=de;e:for(var nt=0,Y=Ie.length,Re=Y>>>1;nt<Re;){var Qe=2*(nt+1)-1,He=Ie[Qe],st=Qe+1,It=Ie[st];if(0>o(He,de))st<Y&&0>o(It,He)?(Ie[nt]=It,Ie[st]=de,nt=st):(Ie[nt]=He,Ie[Qe]=de,nt=Qe);else if(st<Y&&0>o(It,de))Ie[nt]=It,Ie[st]=de,nt=st;else break e}}return ht}function o(Ie,ht){var de=Ie.sortIndex-ht.sortIndex;return de!==0?de:Ie.id-ht.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var h=[],f=[],g=1,v=null,w=3,S=!1,T=!1,R=!1,C=!1,x=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function K(Ie){for(var ht=r(f);ht!==null;){if(ht.callback===null)a(f);else if(ht.startTime<=Ie)a(f),ht.sortIndex=ht.expirationTime,t(h,ht);else break;ht=r(f)}}function M(Ie){if(R=!1,K(Ie),!T)if(r(h)!==null)T=!0,z||(z=!0,ge());else{var ht=r(f);ht!==null&&ct(M,ht.startTime-Ie)}}var z=!1,J=-1,q=5,Fe=-1;function $(){return C?!0:!(e.unstable_now()-Fe<q)}function ie(){if(C=!1,z){var Ie=e.unstable_now();Fe=Ie;var ht=!0;try{e:{T=!1,R&&(R=!1,F(J),J=-1),S=!0;var de=w;try{t:{for(K(Ie),v=r(h);v!==null&&!(v.expirationTime>Ie&&$());){var nt=v.callback;if(typeof nt=="function"){v.callback=null,w=v.priorityLevel;var Y=nt(v.expirationTime<=Ie);if(Ie=e.unstable_now(),typeof Y=="function"){v.callback=Y,K(Ie),ht=!0;break t}v===r(h)&&a(h),K(Ie)}else a(h);v=r(h)}if(v!==null)ht=!0;else{var Re=r(f);Re!==null&&ct(M,Re.startTime-Ie),ht=!1}}break e}finally{v=null,w=de,S=!1}ht=void 0}}finally{ht?ge():z=!1}}}var ge;if(typeof P=="function")ge=function(){P(ie)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,tt=Ee.port2;Ee.port1.onmessage=ie,ge=function(){tt.postMessage(null)}}else ge=function(){x(ie,0)};function ct(Ie,ht){J=x(function(){Ie(e.unstable_now())},ht)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Ie){Ie.callback=null},e.unstable_forceFrameRate=function(Ie){0>Ie||125<Ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<Ie?Math.floor(1e3/Ie):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(Ie){switch(w){case 1:case 2:case 3:var ht=3;break;default:ht=w}var de=w;w=ht;try{return Ie()}finally{w=de}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(Ie,ht){switch(Ie){case 1:case 2:case 3:case 4:case 5:break;default:Ie=3}var de=w;w=Ie;try{return ht()}finally{w=de}},e.unstable_scheduleCallback=function(Ie,ht,de){var nt=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?nt+de:nt):de=nt,Ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=de+Y,Ie={id:g++,callback:ht,priorityLevel:Ie,startTime:de,expirationTime:Y,sortIndex:-1},de>nt?(Ie.sortIndex=de,t(f,Ie),r(h)===null&&Ie===r(f)&&(R?(F(J),J=-1):R=!0,ct(M,de-nt))):(Ie.sortIndex=Y,t(h,Ie),T||S||(T=!0,z||(z=!0,ge()))),Ie},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(Ie){var ht=w;return function(){var de=w;w=ht;try{return Ie.apply(this,arguments)}finally{w=de}}}}(A0)),A0}var e_;function ST(){return e_||(e_=1,S0.exports=ET()),S0.exports}var x0={exports:{}},la={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function AT(){if(t_)return la;t_=1;var e=Ug();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(h,f,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:h,containerInfo:f,implementation:g}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return la.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,la.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return c(h,f,null,g)},la.flushSync=function(h){var f=s.T,g=a.p;try{if(s.T=null,a.p=2,h)return h()}finally{s.T=f,a.p=g,a.d.f()}},la.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,a.d.C(h,f))},la.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},la.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,v=u(g,f.crossOrigin),w=typeof f.integrity=="string"?f.integrity:void 0,S=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?a.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:S}):g==="script"&&a.d.X(h,{crossOrigin:v,integrity:w,fetchPriority:S,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},la.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=u(f.as,f.crossOrigin);a.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&a.d.M(h)},la.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,v=u(g,f.crossOrigin);a.d.L(h,g,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},la.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=u(f.as,f.crossOrigin);a.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else a.d.m(h)},la.requestFormReset=function(h){a.d.r(h)},la.unstable_batchedUpdates=function(h,f){return h(f)},la.useFormState=function(h,f,g){return s.H.useFormState(h,f,g)},la.useFormStatus=function(){return s.H.useHostTransitionStatus()},la.version="19.1.0",la}var n_;function b1(){if(n_)return x0.exports;n_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),x0.exports=AT(),x0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function xT(){if(r_)return bp;r_=1;var e=ST(),t=Ug(),r=b1();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,l=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(l=i.return),n=i.return;while(n)}return i.tag===3?l:null}function s(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function u(n){if(c(n)!==n)throw Error(a(188))}function h(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(a(188));return i!==n?null:n}for(var l=n,p=i;;){var A=l.return;if(A===null)break;var N=A.alternate;if(N===null){if(p=A.return,p!==null){l=p;continue}break}if(A.child===N.child){for(N=A.child;N;){if(N===l)return u(A),n;if(N===p)return u(A),i;N=N.sibling}throw Error(a(188))}if(l.return!==p.return)l=A,p=N;else{for(var Z=!1,ce=A.child;ce;){if(ce===l){Z=!0,l=A,p=N;break}if(ce===p){Z=!0,p=A,l=N;break}ce=ce.sibling}if(!Z){for(ce=N.child;ce;){if(ce===l){Z=!0,l=N,p=A;break}if(ce===p){Z=!0,p=N,l=A;break}ce=ce.sibling}if(!Z)throw Error(a(189))}}if(l.alternate!==p)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?n:i}function f(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=f(n),i!==null)return i;n=n.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),P=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Fe=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function ge(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var Ee=Symbol.for("react.client.reference");function tt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Ee?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case C:return"Profiler";case R:return"StrictMode";case M:return"Suspense";case z:return"SuspenseList";case Fe:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case P:return(n.displayName||"Context")+".Provider";case F:return(n._context.displayName||"Context")+".Consumer";case K:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case J:return i=n.displayName||null,i!==null?i:tt(n.type)||"Memo";case q:i=n._payload,n=n._init;try{return tt(n(i))}catch{}}return null}var ct=Array.isArray,Ie=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},nt=[],Y=-1;function Re(n){return{current:n}}function Qe(n){0>Y||(n.current=nt[Y],nt[Y]=null,Y--)}function He(n,i){Y++,nt[Y]=n.current,n.current=i}var st=Re(null),It=Re(null),kt=Re(null),ke=Re(null);function le(n,i){switch(He(kt,i),He(It,n),He(st,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?rn(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=rn(i),n=Nn(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Qe(st),He(st,n)}function Ce(){Qe(st),Qe(It),Qe(kt)}function Ye(n){n.memoizedState!==null&&He(ke,n);var i=st.current,l=Nn(i,n.type);i!==l&&(He(It,n),He(st,l))}function oe(n){It.current===n&&(Qe(st),Qe(It)),ke.current===n&&(Qe(ke),hp._currentValue=de)}var k=Object.prototype.hasOwnProperty,D=e.unstable_scheduleCallback,G=e.unstable_cancelCallback,ne=e.unstable_shouldYield,_e=e.unstable_requestPaint,Oe=e.unstable_now,lt=e.unstable_getCurrentPriorityLevel,Te=e.unstable_ImmediatePriority,yt=e.unstable_UserBlockingPriority,Ot=e.unstable_NormalPriority,wt=e.unstable_LowPriority,Xe=e.unstable_IdlePriority,ze=e.log,Pe=e.unstable_setDisableYieldValue,ft=null,X=null;function B(n){if(typeof ze=="function"&&Pe(n),X&&typeof X.setStrictMode=="function")try{X.setStrictMode(ft,n)}catch{}}var V=Math.clz32?Math.clz32:rt,H=Math.log,We=Math.LN2;function rt(n){return n>>>=0,n===0?32:31-(H(n)/We|0)|0}var Je=256,Yt=4194304;function jn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Vn(n,i,l){var p=n.pendingLanes;if(p===0)return 0;var A=0,N=n.suspendedLanes,Z=n.pingedLanes;n=n.warmLanes;var ce=p&134217727;return ce!==0?(p=ce&~N,p!==0?A=jn(p):(Z&=ce,Z!==0?A=jn(Z):l||(l=ce&~n,l!==0&&(A=jn(l))))):(ce=p&~N,ce!==0?A=jn(ce):Z!==0?A=jn(Z):l||(l=p&~n,l!==0&&(A=jn(l)))),A===0?0:i!==0&&i!==A&&(i&N)===0&&(N=A&-A,l=i&-i,N>=l||N===32&&(l&4194048)!==0)?i:A}function sn(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Ge(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bt(){var n=Je;return Je<<=1,(Je&4194048)===0&&(Je=256),n}function ut(){var n=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),n}function Me(n){for(var i=[],l=0;31>l;l++)i.push(n);return i}function pt(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Qt(n,i,l,p,A,N){var Z=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var ce=n.entanglements,je=n.expirationTimes,vt=n.hiddenUpdates;for(l=Z&~l;0<l;){var Ft=31-V(l),Bt=1<<Ft;ce[Ft]=0,je[Ft]=-1;var Et=vt[Ft];if(Et!==null)for(vt[Ft]=null,Ft=0;Ft<Et.length;Ft++){var xt=Et[Ft];xt!==null&&(xt.lane&=-536870913)}l&=~Bt}p!==0&&zt(n,p,0),N!==0&&A===0&&n.tag!==0&&(n.suspendedLanes|=N&~(Z&~i))}function zt(n,i,l){n.pendingLanes|=i,n.suspendedLanes&=~i;var p=31-V(i);n.entangledLanes|=i,n.entanglements[p]=n.entanglements[p]|1073741824|l&4194090}function tn(n,i){var l=n.entangledLanes|=i;for(n=n.entanglements;l;){var p=31-V(l),A=1<<p;A&i|n[p]&i&&(n[p]|=i),l&=~A}}function Ht(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ue(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ye(){var n=ht.p;return n!==0?n:(n=window.event,n===void 0?32:Vw(n.type))}function Ct(n,i){var l=ht.p;try{return ht.p=n,i()}finally{ht.p=l}}var Tt=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Tt,Zt="__reactProps$"+Tt,nn="__reactContainer$"+Tt,Dn="__reactEvents$"+Tt,$t="__reactListeners$"+Tt,en="__reactHandles$"+Tt,vn="__reactResources$"+Tt,on="__reactMarker$"+Tt;function Un(n){delete n[Nt],delete n[Zt],delete n[Dn],delete n[$t],delete n[en]}function xn(n){var i=n[Nt];if(i)return i;for(var l=n.parentNode;l;){if(i=l[nn]||l[Nt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(n=Tw(n);n!==null;){if(l=n[Nt])return l;n=Tw(n)}return i}n=l,l=n.parentNode}return null}function qn(n){if(n=n[Nt]||n[nn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function yn(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function ln(n){var i=n[vn];return i||(i=n[vn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Gt(n){n[on]=!0}var Xn=new Set,Or={};function fr(n,i){Ln(n,i),Ln(n+"Capture",i)}function Ln(n,i){for(Or[n]=i,n=0;n<i.length;n++)Xn.add(i[n])}var Ar=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mr={},cn={};function fi(n){return k.call(cn,n)?!0:k.call(Mr,n)?!1:Ar.test(n)?cn[n]=!0:(Mr[n]=!0,!1)}function Tr(n,i,l){if(fi(i))if(l===null)n.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var p=i.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+l)}}function Ki(n,i,l){if(l===null)n.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+l)}}function di(n,i,l,p){if(p===null)n.removeAttribute(l);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(i,l,""+p)}}var Ia,ea;function hi(n){if(Ia===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Ia=i&&i[1]||"",ea=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ia+n+ea}var b=!1;function m(n,i){if(!n||b)return"";b=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(i){var Bt=function(){throw Error()};if(Object.defineProperty(Bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Bt,[])}catch(xt){var Et=xt}Reflect.construct(n,[],Bt)}else{try{Bt.call()}catch(xt){Et=xt}n.call(Bt.prototype)}}else{try{throw Error()}catch(xt){Et=xt}(Bt=n())&&typeof Bt.catch=="function"&&Bt.catch(function(){})}}catch(xt){if(xt&&Et&&typeof xt.stack=="string")return[xt.stack,Et.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),Z=N[0],ce=N[1];if(Z&&ce){var je=Z.split(`
`),vt=ce.split(`
`);for(A=p=0;p<je.length&&!je[p].includes("DetermineComponentFrameRoot");)p++;for(;A<vt.length&&!vt[A].includes("DetermineComponentFrameRoot");)A++;if(p===je.length||A===vt.length)for(p=je.length-1,A=vt.length-1;1<=p&&0<=A&&je[p]!==vt[A];)A--;for(;1<=p&&0<=A;p--,A--)if(je[p]!==vt[A]){if(p!==1||A!==1)do if(p--,A--,0>A||je[p]!==vt[A]){var Ft=`
`+je[p].replace(" at new "," at ");return n.displayName&&Ft.includes("<anonymous>")&&(Ft=Ft.replace("<anonymous>",n.displayName)),Ft}while(1<=p&&0<=A);break}}}finally{b=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?hi(l):""}function E(n){switch(n.tag){case 26:case 27:case 5:return hi(n.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return m(n.type,!1);case 11:return m(n.type.render,!1);case 1:return m(n.type,!0);case 31:return hi("Activity");default:return""}}function O(n){try{var i="";do i+=E(n),n=n.return;while(n);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function j(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Q(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function se(n){var i=Q(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),p=""+n[i];if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var A=l.get,N=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return A.call(this)},set:function(Z){p=""+Z,N.call(this,Z)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return p},setValue:function(Z){p=""+Z},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function we(n){n._valueTracker||(n._valueTracker=se(n))}function pe(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var l=i.getValue(),p="";return n&&(p=Q(n)?n.checked?"true":"false":n.value),n=p,n!==l?(i.setValue(n),!0):!1}function be(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ae=/[\n"\\]/g;function xe(n){return n.replace(Ae,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ue(n,i,l,p,A,N,Z,ce){n.name="",Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?n.type=Z:n.removeAttribute("type"),i!=null?Z==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+j(i)):n.value!==""+j(i)&&(n.value=""+j(i)):Z!=="submit"&&Z!=="reset"||n.removeAttribute("value"),i!=null?at(n,Z,j(i)):l!=null?at(n,Z,j(l)):p!=null&&n.removeAttribute("value"),A==null&&N!=null&&(n.defaultChecked=!!N),A!=null&&(n.checked=A&&typeof A!="function"&&typeof A!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?n.name=""+j(ce):n.removeAttribute("name")}function qe(n,i,l,p,A,N,Z,ce){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(n.type=N),i!=null||l!=null){if(!(N!=="submit"&&N!=="reset"||i!=null))return;l=l!=null?""+j(l):"",i=i!=null?""+j(i):l,ce||i===n.value||(n.value=i),n.defaultValue=i}p=p??A,p=typeof p!="function"&&typeof p!="symbol"&&!!p,n.checked=ce?n.checked:!!p,n.defaultChecked=!!p,Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(n.name=Z)}function at(n,i,l){i==="number"&&be(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function mt(n,i,l,p){if(n=n.options,i){i={};for(var A=0;A<l.length;A++)i["$"+l[A]]=!0;for(l=0;l<n.length;l++)A=i.hasOwnProperty("$"+n[l].value),n[l].selected!==A&&(n[l].selected=A),A&&p&&(n[l].defaultSelected=!0)}else{for(l=""+j(l),i=null,A=0;A<n.length;A++){if(n[A].value===l){n[A].selected=!0,p&&(n[A].defaultSelected=!0);return}i!==null||n[A].disabled||(i=n[A])}i!==null&&(i.selected=!0)}}function St(n,i,l){if(i!=null&&(i=""+j(i),i!==n.value&&(n.value=i),l==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=l!=null?""+j(l):""}function ae(n,i,l,p){if(i==null){if(p!=null){if(l!=null)throw Error(a(92));if(ct(p)){if(1<p.length)throw Error(a(93));p=p[0]}l=p}l==null&&(l=""),i=l}l=j(i),n.defaultValue=l,p=n.textContent,p===l&&p!==""&&p!==null&&(n.value=p)}function Se(n,i){if(i){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=i;return}}n.textContent=i}var Ne=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function De(n,i,l){var p=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?p?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":p?n.setProperty(i,l):typeof l!="number"||l===0||Ne.has(i)?i==="float"?n.cssFloat=l:n[i]=(""+l).trim():n[i]=l+"px"}function dt(n,i,l){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,l!=null){for(var p in l)!l.hasOwnProperty(p)||i!=null&&i.hasOwnProperty(p)||(p.indexOf("--")===0?n.setProperty(p,""):p==="float"?n.cssFloat="":n[p]="");for(var A in i)p=i[A],i.hasOwnProperty(A)&&l[A]!==p&&De(n,A,p)}else for(var N in i)i.hasOwnProperty(N)&&De(n,N,i[N])}function At(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zn(n){return jt.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var un=null;function gn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var nr=null,hn=null;function rr(n){var i=qn(n);if(i&&(n=i.stateNode)){var l=n[Zt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Ue(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+xe(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var p=l[i];if(p!==n&&p.form===n.form){var A=p[Zt]||null;if(!A)throw Error(a(90));Ue(p,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(i=0;i<l.length;i++)p=l[i],p.form===n.form&&pe(p)}break e;case"textarea":St(n,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&mt(n,!!l.multiple,i,!1)}}}var er=!1;function Ir(n,i,l){if(er)return n(i,l);er=!0;try{var p=n(i);return p}finally{if(er=!1,(nr!==null||hn!==null)&&(Eu(),nr&&(i=nr,n=hn,hn=nr=null,rr(i),n)))for(i=0;i<n.length;i++)rr(n[i])}}function Qn(n,i){var l=n.stateNode;if(l===null)return null;var p=l[Zt]||null;if(p===null)return null;l=p[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(n=n.type,p=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!p;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(a(231,i,typeof l));return l}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wr=!1;if(tr)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){wr=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{wr=!1}var Kr=null,Ri=null,ta=null;function Pr(){if(ta)return ta;var n,i=Ri,l=i.length,p,A="value"in Kr?Kr.value:Kr.textContent,N=A.length;for(n=0;n<l&&i[n]===A[n];n++);var Z=l-n;for(p=1;p<=Z&&i[l-p]===A[N-p];p++);return ta=A.slice(n,1<p?1-p:void 0)}function Gi(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ya(){return!0}function go(){return!1}function xr(n){function i(l,p,A,N,Z){this._reactName=l,this._targetInst=A,this.type=p,this.nativeEvent=N,this.target=Z,this.currentTarget=null;for(var ce in n)n.hasOwnProperty(ce)&&(l=n[ce],this[ce]=l?l(N):N[ce]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Ya:go,this.isPropagationStopped=go,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ya)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ya)},persist:function(){},isPersistent:Ya}),i}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=xr(Wr),Jr=g({},Wr,{view:0,detail:0}),rs=xr(Jr),ha,U,te,re=g({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==te&&(te&&n.type==="mousemove"?(ha=n.screenX-te.screenX,U=n.screenY-te.screenY):U=ha=0,te=n),ha)},movementY:function(n){return"movementY"in n?n.movementY:U}}),fe=xr(re),Le=g({},re,{dataTransfer:0}),ve=xr(Le),$e=g({},Jr,{relatedTarget:0}),Rt=xr($e),_t=g({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Pt=xr(_t),qt=g({},Wr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Vt=xr(qt),Wt=g({},Wr,{data:0}),Ut=xr(Wt),Jt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},an={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=fn[n])?!!i[n]:!1}function Gn(){return wn}var _n=g({},Jr,{key:function(n){if(n.key){var i=Jt[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Gi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?an[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gn,charCode:function(n){return n.type==="keypress"?Gi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Gi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Xt=xr(_n),Bn=g({},re,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pn=xr(Bn),kn=g({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gn}),Jn=xr(kn),Dt=g({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pn=xr(Dt),vr=g({},re,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=xr(vr),pr=g({},Wr,{newState:0,oldState:0}),lr=xr(pr),Nr=[9,13,27,32],En=tr&&"CompositionEvent"in window,$n=null;tr&&"documentMode"in document&&($n=document.documentMode);var Yr=tr&&"TextEvent"in window&&!$n,gi=tr&&(!En||$n&&8<$n&&11>=$n),Cn=" ",Hr=!1;function kr(n,i){switch(n){case"keyup":return Nr.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zn(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Gr=!1;function ir(n,i){switch(n){case"compositionend":return Zn(i);case"keypress":return i.which!==32?null:(Hr=!0,Cn);case"textInput":return n=i.data,n===Cn&&Hr?null:n;default:return null}}function Na(n,i){if(Gr)return n==="compositionend"||!En&&kr(n,i)?(n=Pr(),ta=Ri=Kr=null,Gr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return gi&&i.locale!=="ko"?null:i.data;default:return null}}var Zu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bs(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Zu[n.type]:i==="textarea"}function ec(n,i,l,p){nr?hn?hn.push(p):hn=[p]:nr=p,i=Fd(i,"onChange"),0<i.length&&(l=new Pa("onChange","change",null,l,p),n.push({event:l,listeners:i}))}var Xa=null,is=null;function Of(n){ap(n,0)}function pa(n){var i=yn(n);if(pe(i))return n}function Mo(n,i){if(n==="change")return i}var Gl=!1;if(tr){var js;if(tr){var Qa="oninput"in document;if(!Qa){var Fa=document.createElement("div");Fa.setAttribute("oninput","return;"),Qa=typeof Fa.oninput=="function"}js=Qa}else js=!1;Gl=js&&(!document.documentMode||9<document.documentMode)}function gr(){Xa&&(Xa.detachEvent("onpropertychange",Hs),is=Xa=null)}function Hs(n){if(n.propertyName==="value"&&pa(is)){var i=[];ec(i,is,n,gn(n)),Ir(Of,i)}}function If(n,i,l){n==="focusin"?(gr(),Xa=i,is=l,Xa.attachEvent("onpropertychange",Hs)):n==="focusout"&&gr()}function Vs(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return pa(is)}function ii(n,i){if(n==="click")return pa(i)}function tc(n,i){if(n==="input"||n==="change")return pa(i)}function Pf(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Oi=typeof Object.is=="function"?Object.is:Pf;function Za(n,i){if(Oi(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var l=Object.keys(n),p=Object.keys(i);if(l.length!==p.length)return!1;for(p=0;p<l.length;p++){var A=l[p];if(!k.call(i,A)||!Oi(n[A],i[A]))return!1}return!0}function $s(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ql(n,i){var l=$s(n);n=0;for(var p;l;){if(l.nodeType===3){if(p=n+l.textContent.length,n<=i&&p>=i)return{node:l,offset:i-n};n=p}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=$s(l)}}function nh(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?nh(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Da(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=be(n.document);i instanceof n.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)n=i.contentWindow;else break;i=be(n.document)}return i}function rh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var Jg=tr&&"documentMode"in document&&11>=document.documentMode,qi=null,Nf=null,zl=null,Ff=!1;function ga(n,i,l){var p=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ff||qi==null||qi!==be(p)||(p=qi,"selectionStart"in p&&rh(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),zl&&Za(zl,p)||(zl=p,p=Fd(Nf,"onSelect"),0<p.length&&(i=new Pa("onSelect","select",null,i,l),n.push({event:i,listeners:p}),i.target=qi)))}function Ks(n,i){var l={};return l[n.toLowerCase()]=i.toLowerCase(),l["Webkit"+n]="webkit"+i,l["Moz"+n]="moz"+i,l}var yo={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},ih={},Gs={};tr&&(Gs=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function qs(n){if(ih[n])return ih[n];if(!yo[n])return n;var i=yo[n],l;for(l in i)if(i.hasOwnProperty(l)&&l in Gs)return ih[n]=i[l];return n}var as=qs("animationend"),os=qs("animationiteration"),Yg=qs("animationstart"),Jm=qs("transitionrun"),Ym=qs("transitionstart"),Fr=qs("transitioncancel"),ah=qs("transitionend"),oh=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function eo(n,i){oh.set(n,i),fr(i,[n])}var na=new WeakMap;function Ua(n,i){if(typeof n=="object"&&n!==null){var l=na.get(n);return l!==void 0?l:(i={value:n,source:i,stack:O(i)},na.set(n,i),i)}return{value:n,source:i,stack:O(i)}}var La=[],to=0,Uf=0;function Lf(){for(var n=to,i=Uf=to=0;i<n;){var l=La[i];La[i++]=null;var p=La[i];La[i++]=null;var A=La[i];La[i++]=null;var N=La[i];if(La[i++]=null,p!==null&&A!==null){var Z=p.pending;Z===null?A.next=A:(A.next=Z.next,Z.next=A),p.pending=A}N!==0&&Xg(l,A,N)}}function Wl(n,i,l,p){La[to++]=n,La[to++]=i,La[to++]=l,La[to++]=p,Uf|=p,n.lanes|=p,n=n.alternate,n!==null&&(n.lanes|=p)}function sh(n,i,l,p){return Wl(n,i,l,p),Mf(n)}function ya(n,i){return Wl(n,null,null,i),Mf(n)}function Xg(n,i,l){n.lanes|=l;var p=n.alternate;p!==null&&(p.lanes|=l);for(var A=!1,N=n.return;N!==null;)N.childLanes|=l,p=N.alternate,p!==null&&(p.childLanes|=l),N.tag===22&&(n=N.stateNode,n===null||n._visibility&1||(A=!0)),n=N,N=N.return;return n.tag===3?(N=n.stateNode,A&&i!==null&&(A=31-V(l),n=N.hiddenUpdates,p=n[A],p===null?n[A]=[i]:p.push(i),i.lane=l|536870912),N):null}function Mf(n){if(50<tf)throw tf=0,nf=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Jl={};function nc(n,i,l,p){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(n,i,l,p){return new nc(n,i,l,p)}function rc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ma(n,i){var l=n.alternate;return l===null?(l=mi(n.tag,i,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=i,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,i=n.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function lh(n,i){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,i=l.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function ic(n,i,l,p,A,N){var Z=0;if(p=n,typeof n=="function")rc(n)&&(Z=1);else if(typeof n=="string")Z=oT(n,l,st.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Fe:return n=mi(31,l,i,A),n.elementType=Fe,n.lanes=N,n;case T:return zs(l.children,A,N,i);case R:Z=8,A|=24;break;case C:return n=mi(12,l,i,A|2),n.elementType=C,n.lanes=N,n;case M:return n=mi(13,l,i,A),n.elementType=M,n.lanes=N,n;case z:return n=mi(19,l,i,A),n.elementType=z,n.lanes=N,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x:case P:Z=10;break e;case F:Z=9;break e;case K:Z=11;break e;case J:Z=14;break e;case q:Z=16,p=null;break e}Z=29,l=Error(a(130,n===null?"null":typeof n,"")),p=null}return i=mi(Z,l,i,A),i.elementType=n,i.type=p,i.lanes=N,i}function zs(n,i,l,p){return n=mi(7,n,p,i),n.lanes=l,n}function ti(n,i,l){return n=mi(6,n,null,i),n.lanes=l,n}function ac(n,i,l){return i=mi(4,n.children!==null?n.children:[],n.key,i),i.lanes=l,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Ws=[],Js=0,oc=null,sc=0,ma=[],va=0,Ys=null,mo=1,vo="";function Xs(n,i){Ws[Js++]=sc,Ws[Js++]=oc,oc=n,sc=i}function uh(n,i,l){ma[va++]=mo,ma[va++]=vo,ma[va++]=Ys,Ys=n;var p=mo;n=vo;var A=32-V(p)-1;p&=~(1<<A),l+=1;var N=32-V(i)+A;if(30<N){var Z=A-A%5;N=(p&(1<<Z)-1).toString(32),p>>=Z,A-=Z,mo=1<<32-V(i)+A|l<<A|p,vo=N+n}else mo=1<<N|l<<A|p,vo=n}function lc(n){n.return!==null&&(Xs(n,1),uh(n,1,0))}function kf(n){for(;n===oc;)oc=Ws[--Js],Ws[Js]=null,sc=Ws[--Js],Ws[Js]=null;for(;n===Ys;)Ys=ma[--va],ma[va]=null,vo=ma[--va],ma[va]=null,mo=ma[--va],ma[va]=null}var Fi=null,ai=null,Dr=!1,ss=null,no=!1,Bf=Error(a(519));function ls(n){var i=Error(a(418,""));throw uc(Ua(i,n)),Bf}function Qg(n){var i=n.stateNode,l=n.type,p=n.memoizedProps;switch(i[Nt]=n,i[Zt]=p,l){case"dialog":br("cancel",i),br("close",i);break;case"iframe":case"object":case"embed":br("load",i);break;case"video":case"audio":for(l=0;l<lf.length;l++)br(lf[l],i);break;case"source":br("error",i);break;case"img":case"image":case"link":br("error",i),br("load",i);break;case"details":br("toggle",i);break;case"input":br("invalid",i),qe(i,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),we(i);break;case"select":br("invalid",i);break;case"textarea":br("invalid",i),ae(i,p.value,p.defaultValue,p.children),we(i)}l=p.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||p.suppressHydrationWarning===!0||L(i.textContent,l)?(p.popover!=null&&(br("beforetoggle",i),br("toggle",i)),p.onScroll!=null&&br("scroll",i),p.onScrollEnd!=null&&br("scrollend",i),p.onClick!=null&&(i.onclick=W),i=!0):i=!1,i||ls(n)}function jf(n){for(Fi=n.return;Fi;)switch(Fi.tag){case 5:case 13:no=!1;return;case 27:case 3:no=!0;return;default:Fi=Fi.return}}function Yl(n){if(n!==Fi)return!1;if(!Dr)return jf(n),Dr=!0,!1;var i=n.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||ur(n.type,n.memoizedProps)),l=!l),l&&ai&&ls(n),jf(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(i===0){ai=or(n.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;n=n.nextSibling}ai=null}}else i===27?(i=ai,Bi(n.type)?(n=Xo,Xo=null,ai=n):ai=i):ai=Fi?or(n.stateNode.nextSibling):null;return!0}function Xl(){ai=Fi=null,Dr=!1}function ch(){var n=ss;return n!==null&&(Ji===null?Ji=n:Ji.push.apply(Ji,n),ss=null),n}function uc(n){ss===null?ss=[n]:ss.push(n)}var Hf=Re(null),Qs=null,ko=null;function us(n,i,l){He(Hf,i._currentValue),i._currentValue=l}function Bo(n){n._currentValue=Hf.current,Qe(Hf)}function Vf(n,i,l){for(;n!==null;){var p=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,p!==null&&(p.childLanes|=i)):p!==null&&(p.childLanes&i)!==i&&(p.childLanes|=i),n===l)break;n=n.return}}function fh(n,i,l,p){var A=n.child;for(A!==null&&(A.return=n);A!==null;){var N=A.dependencies;if(N!==null){var Z=A.child;N=N.firstContext;e:for(;N!==null;){var ce=N;N=A;for(var je=0;je<i.length;je++)if(ce.context===i[je]){N.lanes|=l,ce=N.alternate,ce!==null&&(ce.lanes|=l),Vf(N.return,l,n),p||(Z=null);break e}N=ce.next}}else if(A.tag===18){if(Z=A.return,Z===null)throw Error(a(341));Z.lanes|=l,N=Z.alternate,N!==null&&(N.lanes|=l),Vf(Z,l,n),Z=null}else Z=A.child;if(Z!==null)Z.return=A;else for(Z=A;Z!==null;){if(Z===n){Z=null;break}if(A=Z.sibling,A!==null){A.return=Z.return,Z=A;break}Z=Z.return}A=Z}}function Ql(n,i,l,p){n=null;for(var A=i,N=!1;A!==null;){if(!N){if((A.flags&524288)!==0)N=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var Z=A.alternate;if(Z===null)throw Error(a(387));if(Z=Z.memoizedProps,Z!==null){var ce=A.type;Oi(A.pendingProps.value,Z.value)||(n!==null?n.push(ce):n=[ce])}}else if(A===ke.current){if(Z=A.alternate,Z===null)throw Error(a(387));Z.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(n!==null?n.push(hp):n=[hp])}A=A.return}n!==null&&fh(i,n,l,p),i.flags|=262144}function $f(n){for(n=n.firstContext;n!==null;){if(!Oi(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function cs(n){Qs=n,ko=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Di(n){return dh(Qs,n)}function cc(n,i){return Qs===null&&cs(n),dh(n,i)}function dh(n,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},ko===null){if(n===null)throw Error(a(308));ko=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ko=ko.next=i;return l}var Xm=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(l,p){n.push(p)}};this.abort=function(){i.aborted=!0,n.forEach(function(l){return l()})}},Zg=e.unstable_scheduleCallback,Qm=e.unstable_NormalPriority,mn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ei(){return{controller:new Xm,data:new Map,refCount:0}}function Zl(n){n.refCount--,n.refCount===0&&Zg(Qm,function(){n.controller.abort()})}var fc=null,ro=0,ka=0,Zs=null;function ey(n,i){if(fc===null){var l=fc=[];ro=0,ka=rp(),Zs={status:"pending",value:void 0,then:function(p){l.push(p)}}}return ro++,i.then(hh,hh),i}function hh(){if(--ro===0&&fc!==null){Zs!==null&&(Zs.status="fulfilled");var n=fc;fc=null,ka=0,Zs=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function ty(n,i){var l=[],p={status:"pending",value:null,reason:null,then:function(A){l.push(A)}};return n.then(function(){p.status="fulfilled",p.value=i;for(var A=0;A<l.length;A++)(0,l[A])(i)},function(A){for(p.status="rejected",p.reason=A,A=0;A<l.length;A++)(0,l[A])(void 0)}),p}var ph=Ie.S;Ie.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ey(n,i),ph!==null&&ph(n,i)};var jo=Re(null);function gh(){var n=jo.current;return n!==null?n:Zr.pooledCache}function dc(n,i){i===null?He(jo,jo.current):He(jo,i.pool)}function yh(){var n=gh();return n===null?null:{parent:mn._currentValue,pool:n}}var io=Error(a(460)),eu=Error(a(474)),el=Error(a(542)),Ba={then:function(){}};function tl(n){return n=n.status,n==="fulfilled"||n==="rejected"}function bo(){}function hc(n,i,l){switch(l=n[l],l===void 0?n.push(i):l!==i&&(i.then(bo,bo),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,pc(n),n;default:if(typeof i.status=="string")i.then(bo,bo);else{if(n=Zr,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(p){if(i.status==="pending"){var A=i;A.status="fulfilled",A.value=p}},function(p){if(i.status==="pending"){var A=i;A.status="rejected",A.reason=p}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,pc(n),n}throw wo=i,io}}var wo=null;function nl(){if(wo===null)throw Error(a(459));var n=wo;return wo=null,n}function pc(n){if(n===io||n===el)throw Error(a(483))}var _o=!1;function ao(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rl(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ba(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Eo(n,i,l){var p=n.updateQueue;if(p===null)return null;if(p=p.shared,(Vr&2)!==0){var A=p.pending;return A===null?i.next=i:(i.next=A.next,A.next=i),p.pending=i,i=Mf(n),Xg(n,null,l),i}return Wl(n,p,i,l),Mf(n)}function Ho(n,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var p=i.lanes;p&=n.pendingLanes,l|=p,i.lanes=l,tn(n,l)}}function il(n,i){var l=n.updateQueue,p=n.alternate;if(p!==null&&(p=p.updateQueue,l===p)){var A=null,N=null;if(l=l.firstBaseUpdate,l!==null){do{var Z={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};N===null?A=N=Z:N=N.next=Z,l=l.next}while(l!==null);N===null?A=N=i:N=N.next=i}else A=N=i;l={baseState:p.baseState,firstBaseUpdate:A,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=i:n.next=i,l.lastBaseUpdate=i}var gc=!1;function Si(){if(gc){var n=Zs;if(n!==null)throw n}}function Fn(n,i,l,p){gc=!1;var A=n.updateQueue;_o=!1;var N=A.firstBaseUpdate,Z=A.lastBaseUpdate,ce=A.shared.pending;if(ce!==null){A.shared.pending=null;var je=ce,vt=je.next;je.next=null,Z===null?N=vt:Z.next=vt,Z=je;var Ft=n.alternate;Ft!==null&&(Ft=Ft.updateQueue,ce=Ft.lastBaseUpdate,ce!==Z&&(ce===null?Ft.firstBaseUpdate=vt:ce.next=vt,Ft.lastBaseUpdate=je))}if(N!==null){var Bt=A.baseState;Z=0,Ft=vt=je=null,ce=N;do{var Et=ce.lane&-536870913,xt=Et!==ce.lane;if(xt?(Er&Et)===Et:(p&Et)===Et){Et!==0&&Et===ka&&(gc=!0),Ft!==null&&(Ft=Ft.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var Wn=n,Hn=ce;Et=i;var ei=l;switch(Hn.tag){case 1:if(Wn=Hn.payload,typeof Wn=="function"){Bt=Wn.call(ei,Bt,Et);break e}Bt=Wn;break e;case 3:Wn.flags=Wn.flags&-65537|128;case 0:if(Wn=Hn.payload,Et=typeof Wn=="function"?Wn.call(ei,Bt,Et):Wn,Et==null)break e;Bt=g({},Bt,Et);break e;case 2:_o=!0}}Et=ce.callback,Et!==null&&(n.flags|=64,xt&&(n.flags|=8192),xt=A.callbacks,xt===null?A.callbacks=[Et]:xt.push(Et))}else xt={lane:Et,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},Ft===null?(vt=Ft=xt,je=Bt):Ft=Ft.next=xt,Z|=Et;if(ce=ce.next,ce===null){if(ce=A.shared.pending,ce===null)break;xt=ce,ce=xt.next,xt.next=null,A.lastBaseUpdate=xt,A.shared.pending=null}}while(!0);Ft===null&&(je=Bt),A.baseState=je,A.firstBaseUpdate=vt,A.lastBaseUpdate=Ft,N===null&&(A.shared.lanes=0),Po|=Z,n.lanes=Z,n.memoizedState=Bt}}function Kf(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function al(n,i){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Kf(l[n],i)}var tu=Re(null),fs=Re(0);function ol(n,i){n=Io,He(fs,n),He(tu,i),Io=n|i.baseLanes}function sl(){He(fs,Io),He(tu,tu.current)}function yc(){Io=fs.current,Qe(tu),Qe(fs)}var So=0,ar=null,yr=null,oi=null,Gf=!1,ll=!1,ds=!1,mc=0,vc=0,ul=null,mh=0;function si(){throw Error(a(321))}function qf(n,i){if(i===null)return!1;for(var l=0;l<i.length&&l<n.length;l++)if(!Oi(n[l],i[l]))return!1;return!0}function hs(n,i,l,p,A,N){return So=N,ar=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ie.H=n===null||n.memoizedState===null?_h:jc,ds=!1,N=l(p,A),ds=!1,ll&&(N=vi(i,l,p,A)),cl(n),N}function cl(n){Ie.H=Ro;var i=yr!==null&&yr.next!==null;if(So=0,oi=yr=ar=null,Gf=!1,vc=0,ul=null,i)throw Error(a(300));n===null||Pi||(n=n.dependencies,n!==null&&$f(n)&&(Pi=!0))}function vi(n,i,l,p){ar=n;var A=0;do{if(ll&&(ul=null),vc=0,ll=!1,25<=A)throw Error(a(301));if(A+=1,oi=yr=null,n.updateQueue!=null){var N=n.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Ie.H=ed,N=i(l,p)}while(ll);return N}function nu(){var n=Ie.H,i=n.useState()[0];return i=typeof i.then=="function"?ms(i):i,n=n.useState()[0],(yr!==null?yr.memoizedState:null)!==n&&(ar.flags|=1024),i}function ps(){var n=mc!==0;return mc=0,n}function gs(n,i,l){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~l}function zi(n){if(Gf){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Gf=!1}So=0,oi=yr=ar=null,ll=!1,vc=mc=0,ul=null}function _r(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oi===null?ar.memoizedState=oi=n:oi=oi.next=n,oi}function Qr(){if(yr===null){var n=ar.alternate;n=n!==null?n.memoizedState:null}else n=yr.next;var i=oi===null?ar.memoizedState:oi.next;if(i!==null)oi=i,yr=n;else{if(n===null)throw ar.alternate===null?Error(a(467)):Error(a(310));yr=n,n={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},oi===null?ar.memoizedState=oi=n:oi=oi.next=n}return oi}function ys(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ms(n){var i=vc;return vc+=1,ul===null&&(ul=[]),n=hc(ul,n,i),i=ar,(oi===null?i.memoizedState:oi.next)===null&&(i=i.alternate,Ie.H=i===null||i.memoizedState===null?_h:jc),n}function ru(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ms(n);if(n.$$typeof===P)return Di(n)}throw Error(a(438,String(n)))}function bc(n){var i=null,l=ar.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var p=ar.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(i={data:p.data.map(function(A){return A.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=ys(),ar.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(n),p=0;p<n;p++)l[p]=$;return i.index++,l}function ja(n,i){return typeof i=="function"?i(n):i}function fl(n){var i=Qr();return iu(i,yr,n)}function iu(n,i,l){var p=n.queue;if(p===null)throw Error(a(311));p.lastRenderedReducer=l;var A=n.baseQueue,N=p.pending;if(N!==null){if(A!==null){var Z=A.next;A.next=N.next,N.next=Z}i.baseQueue=A=N,p.pending=null}if(N=n.baseState,A===null)n.memoizedState=N;else{i=A.next;var ce=Z=null,je=null,vt=i,Ft=!1;do{var Bt=vt.lane&-536870913;if(Bt!==vt.lane?(Er&Bt)===Bt:(So&Bt)===Bt){var Et=vt.revertLane;if(Et===0)je!==null&&(je=je.next={lane:0,revertLane:0,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null}),Bt===ka&&(Ft=!0);else if((So&Et)===Et){vt=vt.next,Et===ka&&(Ft=!0);continue}else Bt={lane:0,revertLane:vt.revertLane,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},je===null?(ce=je=Bt,Z=N):je=je.next=Bt,ar.lanes|=Et,Po|=Et;Bt=vt.action,ds&&l(N,Bt),N=vt.hasEagerState?vt.eagerState:l(N,Bt)}else Et={lane:Bt,revertLane:vt.revertLane,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},je===null?(ce=je=Et,Z=N):je=je.next=Et,ar.lanes|=Bt,Po|=Bt;vt=vt.next}while(vt!==null&&vt!==i);if(je===null?Z=N:je.next=ce,!Oi(N,n.memoizedState)&&(Pi=!0,Ft&&(l=Zs,l!==null)))throw l;n.memoizedState=N,n.baseState=Z,n.baseQueue=je,p.lastRenderedState=N}return A===null&&(p.lanes=0),[n.memoizedState,p.dispatch]}function Vo(n){var i=Qr(),l=i.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=n;var p=l.dispatch,A=l.pending,N=i.memoizedState;if(A!==null){l.pending=null;var Z=A=A.next;do N=n(N,Z.action),Z=Z.next;while(Z!==A);Oi(N,i.memoizedState)||(Pi=!0),i.memoizedState=N,i.baseQueue===null&&(i.baseState=N),l.lastRenderedState=N}return[N,p]}function wc(n,i,l){var p=ar,A=Qr(),N=Dr;if(N){if(l===void 0)throw Error(a(407));l=l()}else l=i();var Z=!Oi((yr||A).memoizedState,l);Z&&(A.memoizedState=l,Pi=!0),A=A.queue;var ce=vs.bind(null,p,A,n);if(bs(2048,8,ce,[n]),A.getSnapshot!==i||Z||oi!==null&&oi.memoizedState.tag&1){if(p.flags|=2048,$o(9,hl(),Ec.bind(null,p,A,l,i),null),Zr===null)throw Error(a(349));N||(So&124)!==0||_c(p,i,l)}return l}function _c(n,i,l){n.flags|=16384,n={getSnapshot:i,value:l},i=ar.updateQueue,i===null?(i=ys(),ar.updateQueue=i,i.stores=[n]):(l=i.stores,l===null?i.stores=[n]:l.push(n))}function Ec(n,i,l,p){i.value=l,i.getSnapshot=p,Sc(i)&&Ac(n)}function vs(n,i,l){return l(function(){Sc(i)&&Ac(n)})}function Sc(n){var i=n.getSnapshot;n=n.value;try{var l=i();return!Oi(n,l)}catch{return!0}}function Ac(n){var i=ya(n,2);i!==null&&Mi(i,n,2)}function au(n){var i=_r();if(typeof n=="function"){var l=n;if(n=l(),ds){B(!0);try{l()}finally{B(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:n},i}function Ao(n,i,l,p){return n.baseState=l,iu(n,yr,typeof p=="function"?p:ja)}function zf(n,i,l,p,A){if(wl(n))throw Error(a(485));if(n=i.action,n!==null){var N={payload:A,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Z){N.listeners.push(Z)}};Ie.T!==null?l(!0):N.isTransition=!1,p(N),l=i.pending,l===null?(N.next=i.pending=N,xc(i,N)):(N.next=l.next,i.pending=l.next=N)}}function xc(n,i){var l=i.action,p=i.payload,A=n.state;if(i.isTransition){var N=Ie.T,Z={};Ie.T=Z;try{var ce=l(A,p),je=Ie.S;je!==null&&je(Z,ce),Rc(n,i,ce)}catch(vt){ou(n,i,vt)}finally{Ie.T=N}}else try{N=l(A,p),Rc(n,i,N)}catch(vt){ou(n,i,vt)}}function Rc(n,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(p){Wf(n,i,p)},function(p){return ou(n,i,p)}):Wf(n,i,l)}function Wf(n,i,l){i.status="fulfilled",i.value=l,vh(i),n.state=l,i=n.pending,i!==null&&(l=i.next,l===i?n.pending=null:(l=l.next,i.next=l,xc(n,l)))}function ou(n,i,l){var p=n.pending;if(n.pending=null,p!==null){p=p.next;do i.status="rejected",i.reason=l,vh(i),i=i.next;while(i!==p)}n.action=null}function vh(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Tc(n,i){return i}function bh(n,i){if(Dr){var l=Zr.formState;if(l!==null){e:{var p=ar;if(Dr){if(ai){t:{for(var A=ai,N=no;A.nodeType!==8;){if(!N){A=null;break t}if(A=or(A.nextSibling),A===null){A=null;break t}}N=A.data,A=N==="F!"||N==="F"?A:null}if(A){ai=or(A.nextSibling),p=A.data==="F!";break e}}ls(p)}p=!1}p&&(i=l[0])}}return l=_r(),l.memoizedState=l.baseState=i,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:i},l.queue=p,l=bl.bind(null,ar,p),p.dispatch=l,p=au(!1),N=ws.bind(null,ar,!1,p.queue),p=_r(),A={state:i,dispatch:null,action:n,pending:null},p.queue=A,l=zf.bind(null,ar,A,N,l),A.dispatch=l,p.memoizedState=n,[i,l,!1]}function Cc(n){var i=Qr();return dl(i,yr,n)}function dl(n,i,l){if(i=iu(n,i,Tc)[0],n=fl(ja)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var p=ms(i)}catch(Z){throw Z===io?el:Z}else p=i;i=Qr();var A=i.queue,N=A.dispatch;return l!==i.memoizedState&&(ar.flags|=2048,$o(9,hl(),Oc.bind(null,A,l),null)),[p,N,n]}function Oc(n,i){n.action=i}function Ic(n){var i=Qr(),l=yr;if(l!==null)return dl(i,l,n);Qr(),i=i.memoizedState,l=Qr();var p=l.queue.dispatch;return l.memoizedState=n,[i,p,!1]}function $o(n,i,l,p){return n={tag:n,create:l,deps:p,inst:i,next:null},i=ar.updateQueue,i===null&&(i=ys(),ar.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=n.next=n:(p=l.next,l.next=n,n.next=p,i.lastEffect=n),n}function hl(){return{destroy:void 0,resource:void 0}}function su(){return Qr().memoizedState}function pl(n,i,l,p){var A=_r();p=p===void 0?null:p,ar.flags|=n,A.memoizedState=$o(1|i,hl(),l,p)}function bs(n,i,l,p){var A=Qr();p=p===void 0?null:p;var N=A.memoizedState.inst;yr!==null&&p!==null&&qf(p,yr.memoizedState.deps)?A.memoizedState=$o(i,N,l,p):(ar.flags|=n,A.memoizedState=$o(1|i,N,l,p))}function Pc(n,i){pl(8390656,8,n,i)}function gl(n,i){bs(2048,8,n,i)}function Nc(n,i){return bs(4,2,n,i)}function Jf(n,i){return bs(4,4,n,i)}function yl(n,i){if(typeof i=="function"){n=n();var l=i(n);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Fc(n,i,l){l=l!=null?l.concat([n]):null,bs(4,4,yl.bind(null,i,n),l)}function Dc(){}function ml(n,i){var l=Qr();i=i===void 0?null:i;var p=l.memoizedState;return i!==null&&qf(i,p[1])?p[0]:(l.memoizedState=[n,i],n)}function Uc(n,i){var l=Qr();i=i===void 0?null:i;var p=l.memoizedState;if(i!==null&&qf(i,p[1]))return p[0];if(p=n(),ds){B(!0);try{n()}finally{B(!1)}}return l.memoizedState=[p,i],p}function Lc(n,i,l){return l===void 0||(So&1073741824)!==0?n.memoizedState=i:(n.memoizedState=l,n=Ed(),ar.lanes|=n,Po|=n,l)}function Yf(n,i,l,p){return Oi(l,i)?l:tu.current!==null?(n=Lc(n,l,p),Oi(n,i)||(Pi=!0),n):(So&42)===0?(Pi=!0,n.memoizedState=l):(n=Ed(),ar.lanes|=n,Po|=n,i)}function wh(n,i,l,p,A){var N=ht.p;ht.p=N!==0&&8>N?N:8;var Z=Ie.T,ce={};Ie.T=ce,ws(n,!1,i,l);try{var je=A(),vt=Ie.S;if(vt!==null&&vt(ce,je),je!==null&&typeof je=="object"&&typeof je.then=="function"){var Ft=ty(je,p);xo(n,i,Ft,Yi(n))}else xo(n,i,p,Yi(n))}catch(Bt){xo(n,i,{then:function(){},status:"rejected",reason:Bt},Yi())}finally{ht.p=N,Ie.T=Z}}function ny(){}function Xf(n,i,l,p){if(n.tag!==5)throw Error(a(476));var A=Mc(n).queue;wh(n,A,i,de,l===null?ny:function(){return Qf(n),l(p)})}function Mc(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:de},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:l},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Qf(n){var i=Mc(n).next.queue;xo(n,i,{},Yi())}function Zf(){return Di(hp)}function kc(){return Qr().memoizedState}function vl(){return Qr().memoizedState}function lu(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var l=Yi();n=ba(l);var p=Eo(i,n,l);p!==null&&(Mi(p,i,l),Ho(p,i,l)),i={cache:Ei()},n.payload=i;return}i=i.return}}function uu(n,i,l){var p=Yi();l={lane:p,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},wl(n)?_l(i,l):(l=sh(n,i,l,p),l!==null&&(Mi(l,n,p),Bc(l,i,p)))}function bl(n,i,l){var p=Yi();xo(n,i,l,p)}function xo(n,i,l,p){var A={lane:p,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(wl(n))_l(i,A);else{var N=n.alternate;if(n.lanes===0&&(N===null||N.lanes===0)&&(N=i.lastRenderedReducer,N!==null))try{var Z=i.lastRenderedState,ce=N(Z,l);if(A.hasEagerState=!0,A.eagerState=ce,Oi(ce,Z))return Wl(n,i,A,0),Zr===null&&Lf(),!1}catch{}finally{}if(l=sh(n,i,A,p),l!==null)return Mi(l,n,p),Bc(l,i,p),!0}return!1}function ws(n,i,l,p){if(p={lane:2,revertLane:rp(),action:p,hasEagerState:!1,eagerState:null,next:null},wl(n)){if(i)throw Error(a(479))}else i=sh(n,l,p,2),i!==null&&Mi(i,n,2)}function wl(n){var i=n.alternate;return n===ar||i!==null&&i===ar}function _l(n,i){ll=Gf=!0;var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}function Bc(n,i,l){if((l&4194048)!==0){var p=i.lanes;p&=n.pendingLanes,l|=p,i.lanes=l,tn(n,l)}}var Ro={readContext:Di,use:ru,useCallback:si,useContext:si,useEffect:si,useImperativeHandle:si,useLayoutEffect:si,useInsertionEffect:si,useMemo:si,useReducer:si,useRef:si,useState:si,useDebugValue:si,useDeferredValue:si,useTransition:si,useSyncExternalStore:si,useId:si,useHostTransitionStatus:si,useFormState:si,useActionState:si,useOptimistic:si,useMemoCache:si,useCacheRefresh:si},_h={readContext:Di,use:ru,useCallback:function(n,i){return _r().memoizedState=[n,i===void 0?null:i],n},useContext:Di,useEffect:Pc,useImperativeHandle:function(n,i,l){l=l!=null?l.concat([n]):null,pl(4194308,4,yl.bind(null,i,n),l)},useLayoutEffect:function(n,i){return pl(4194308,4,n,i)},useInsertionEffect:function(n,i){pl(4,2,n,i)},useMemo:function(n,i){var l=_r();i=i===void 0?null:i;var p=n();if(ds){B(!0);try{n()}finally{B(!1)}}return l.memoizedState=[p,i],p},useReducer:function(n,i,l){var p=_r();if(l!==void 0){var A=l(i);if(ds){B(!0);try{l(i)}finally{B(!1)}}}else A=i;return p.memoizedState=p.baseState=A,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:A},p.queue=n,n=n.dispatch=uu.bind(null,ar,n),[p.memoizedState,n]},useRef:function(n){var i=_r();return n={current:n},i.memoizedState=n},useState:function(n){n=au(n);var i=n.queue,l=bl.bind(null,ar,i);return i.dispatch=l,[n.memoizedState,l]},useDebugValue:Dc,useDeferredValue:function(n,i){var l=_r();return Lc(l,n,i)},useTransition:function(){var n=au(!1);return n=wh.bind(null,ar,n.queue,!0,!1),_r().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,l){var p=ar,A=_r();if(Dr){if(l===void 0)throw Error(a(407));l=l()}else{if(l=i(),Zr===null)throw Error(a(349));(Er&124)!==0||_c(p,i,l)}A.memoizedState=l;var N={value:l,getSnapshot:i};return A.queue=N,Pc(vs.bind(null,p,N,n),[n]),p.flags|=2048,$o(9,hl(),Ec.bind(null,p,N,l,i),null),l},useId:function(){var n=_r(),i=Zr.identifierPrefix;if(Dr){var l=vo,p=mo;l=(p&~(1<<32-V(p)-1)).toString(32)+l,i="«"+i+"R"+l,l=mc++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=mh++,i="«"+i+"r"+l.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Zf,useFormState:bh,useActionState:bh,useOptimistic:function(n){var i=_r();i.memoizedState=i.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=ws.bind(null,ar,!0,l),l.dispatch=i,[n,i]},useMemoCache:bc,useCacheRefresh:function(){return _r().memoizedState=lu.bind(null,ar)}},jc={readContext:Di,use:ru,useCallback:ml,useContext:Di,useEffect:gl,useImperativeHandle:Fc,useInsertionEffect:Nc,useLayoutEffect:Jf,useMemo:Uc,useReducer:fl,useRef:su,useState:function(){return fl(ja)},useDebugValue:Dc,useDeferredValue:function(n,i){var l=Qr();return Yf(l,yr.memoizedState,n,i)},useTransition:function(){var n=fl(ja)[0],i=Qr().memoizedState;return[typeof n=="boolean"?n:ms(n),i]},useSyncExternalStore:wc,useId:kc,useHostTransitionStatus:Zf,useFormState:Cc,useActionState:Cc,useOptimistic:function(n,i){var l=Qr();return Ao(l,yr,n,i)},useMemoCache:bc,useCacheRefresh:vl},ed={readContext:Di,use:ru,useCallback:ml,useContext:Di,useEffect:gl,useImperativeHandle:Fc,useInsertionEffect:Nc,useLayoutEffect:Jf,useMemo:Uc,useReducer:Vo,useRef:su,useState:function(){return Vo(ja)},useDebugValue:Dc,useDeferredValue:function(n,i){var l=Qr();return yr===null?Lc(l,n,i):Yf(l,yr.memoizedState,n,i)},useTransition:function(){var n=Vo(ja)[0],i=Qr().memoizedState;return[typeof n=="boolean"?n:ms(n),i]},useSyncExternalStore:wc,useId:kc,useHostTransitionStatus:Zf,useFormState:Ic,useActionState:Ic,useOptimistic:function(n,i){var l=Qr();return yr!==null?Ao(l,yr,n,i):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:bc,useCacheRefresh:vl},Ha=null,ra=0;function _s(n){var i=ra;return ra+=1,Ha===null&&(Ha=[]),hc(Ha,n,i)}function Ko(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function El(n,i){throw i.$$typeof===v?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Hc(n){var i=n._init;return i(n._payload)}function Vc(n){function i(ot,et){if(n){var gt=ot.deletions;gt===null?(ot.deletions=[et],ot.flags|=16):gt.push(et)}}function l(ot,et){if(!n)return null;for(;et!==null;)i(ot,et),et=et.sibling;return null}function p(ot){for(var et=new Map;ot!==null;)ot.key!==null?et.set(ot.key,ot):et.set(ot.index,ot),ot=ot.sibling;return et}function A(ot,et){return ot=Ma(ot,et),ot.index=0,ot.sibling=null,ot}function N(ot,et,gt){return ot.index=gt,n?(gt=ot.alternate,gt!==null?(gt=gt.index,gt<et?(ot.flags|=67108866,et):gt):(ot.flags|=67108866,et)):(ot.flags|=1048576,et)}function Z(ot){return n&&ot.alternate===null&&(ot.flags|=67108866),ot}function ce(ot,et,gt,Lt){return et===null||et.tag!==6?(et=ti(gt,ot.mode,Lt),et.return=ot,et):(et=A(et,gt),et.return=ot,et)}function je(ot,et,gt,Lt){var Sn=gt.type;return Sn===T?Ft(ot,et,gt.props.children,Lt,gt.key):et!==null&&(et.elementType===Sn||typeof Sn=="object"&&Sn!==null&&Sn.$$typeof===q&&Hc(Sn)===et.type)?(et=A(et,gt.props),Ko(et,gt),et.return=ot,et):(et=ic(gt.type,gt.key,gt.props,null,ot.mode,Lt),Ko(et,gt),et.return=ot,et)}function vt(ot,et,gt,Lt){return et===null||et.tag!==4||et.stateNode.containerInfo!==gt.containerInfo||et.stateNode.implementation!==gt.implementation?(et=ac(gt,ot.mode,Lt),et.return=ot,et):(et=A(et,gt.children||[]),et.return=ot,et)}function Ft(ot,et,gt,Lt,Sn){return et===null||et.tag!==7?(et=zs(gt,ot.mode,Lt,Sn),et.return=ot,et):(et=A(et,gt),et.return=ot,et)}function Bt(ot,et,gt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return et=ti(""+et,ot.mode,gt),et.return=ot,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case w:return gt=ic(et.type,et.key,et.props,null,ot.mode,gt),Ko(gt,et),gt.return=ot,gt;case S:return et=ac(et,ot.mode,gt),et.return=ot,et;case q:var Lt=et._init;return et=Lt(et._payload),Bt(ot,et,gt)}if(ct(et)||ge(et))return et=zs(et,ot.mode,gt,null),et.return=ot,et;if(typeof et.then=="function")return Bt(ot,_s(et),gt);if(et.$$typeof===P)return Bt(ot,cc(ot,et),gt);El(ot,et)}return null}function Et(ot,et,gt,Lt){var Sn=et!==null?et.key:null;if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return Sn!==null?null:ce(ot,et,""+gt,Lt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case w:return gt.key===Sn?je(ot,et,gt,Lt):null;case S:return gt.key===Sn?vt(ot,et,gt,Lt):null;case q:return Sn=gt._init,gt=Sn(gt._payload),Et(ot,et,gt,Lt)}if(ct(gt)||ge(gt))return Sn!==null?null:Ft(ot,et,gt,Lt,null);if(typeof gt.then=="function")return Et(ot,et,_s(gt),Lt);if(gt.$$typeof===P)return Et(ot,et,cc(ot,gt),Lt);El(ot,gt)}return null}function xt(ot,et,gt,Lt,Sn){if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint")return ot=ot.get(gt)||null,ce(et,ot,""+Lt,Sn);if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case w:return ot=ot.get(Lt.key===null?gt:Lt.key)||null,je(et,ot,Lt,Sn);case S:return ot=ot.get(Lt.key===null?gt:Lt.key)||null,vt(et,ot,Lt,Sn);case q:var Sr=Lt._init;return Lt=Sr(Lt._payload),xt(ot,et,gt,Lt,Sn)}if(ct(Lt)||ge(Lt))return ot=ot.get(gt)||null,Ft(et,ot,Lt,Sn,null);if(typeof Lt.then=="function")return xt(ot,et,gt,_s(Lt),Sn);if(Lt.$$typeof===P)return xt(ot,et,gt,cc(et,Lt),Sn);El(et,Lt)}return null}function Wn(ot,et,gt,Lt){for(var Sn=null,Sr=null,In=et,Kn=et=0,ji=null;In!==null&&Kn<gt.length;Kn++){In.index>Kn?(ji=In,In=null):ji=In.sibling;var jr=Et(ot,In,gt[Kn],Lt);if(jr===null){In===null&&(In=ji);break}n&&In&&jr.alternate===null&&i(ot,In),et=N(jr,et,Kn),Sr===null?Sn=jr:Sr.sibling=jr,Sr=jr,In=ji}if(Kn===gt.length)return l(ot,In),Dr&&Xs(ot,Kn),Sn;if(In===null){for(;Kn<gt.length;Kn++)In=Bt(ot,gt[Kn],Lt),In!==null&&(et=N(In,et,Kn),Sr===null?Sn=In:Sr.sibling=In,Sr=In);return Dr&&Xs(ot,Kn),Sn}for(In=p(In);Kn<gt.length;Kn++)ji=xt(In,ot,Kn,gt[Kn],Lt),ji!==null&&(n&&ji.alternate!==null&&In.delete(ji.key===null?Kn:ji.key),et=N(ji,et,Kn),Sr===null?Sn=ji:Sr.sibling=ji,Sr=ji);return n&&In.forEach(function(Uu){return i(ot,Uu)}),Dr&&Xs(ot,Kn),Sn}function Hn(ot,et,gt,Lt){if(gt==null)throw Error(a(151));for(var Sn=null,Sr=null,In=et,Kn=et=0,ji=null,jr=gt.next();In!==null&&!jr.done;Kn++,jr=gt.next()){In.index>Kn?(ji=In,In=null):ji=In.sibling;var Uu=Et(ot,In,jr.value,Lt);if(Uu===null){In===null&&(In=ji);break}n&&In&&Uu.alternate===null&&i(ot,In),et=N(Uu,et,Kn),Sr===null?Sn=Uu:Sr.sibling=Uu,Sr=Uu,In=ji}if(jr.done)return l(ot,In),Dr&&Xs(ot,Kn),Sn;if(In===null){for(;!jr.done;Kn++,jr=gt.next())jr=Bt(ot,jr.value,Lt),jr!==null&&(et=N(jr,et,Kn),Sr===null?Sn=jr:Sr.sibling=jr,Sr=jr);return Dr&&Xs(ot,Kn),Sn}for(In=p(In);!jr.done;Kn++,jr=gt.next())jr=xt(In,ot,Kn,jr.value,Lt),jr!==null&&(n&&jr.alternate!==null&&In.delete(jr.key===null?Kn:jr.key),et=N(jr,et,Kn),Sr===null?Sn=jr:Sr.sibling=jr,Sr=jr);return n&&In.forEach(function(vT){return i(ot,vT)}),Dr&&Xs(ot,Kn),Sn}function ei(ot,et,gt,Lt){if(typeof gt=="object"&&gt!==null&&gt.type===T&&gt.key===null&&(gt=gt.props.children),typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case w:e:{for(var Sn=gt.key;et!==null;){if(et.key===Sn){if(Sn=gt.type,Sn===T){if(et.tag===7){l(ot,et.sibling),Lt=A(et,gt.props.children),Lt.return=ot,ot=Lt;break e}}else if(et.elementType===Sn||typeof Sn=="object"&&Sn!==null&&Sn.$$typeof===q&&Hc(Sn)===et.type){l(ot,et.sibling),Lt=A(et,gt.props),Ko(Lt,gt),Lt.return=ot,ot=Lt;break e}l(ot,et);break}else i(ot,et);et=et.sibling}gt.type===T?(Lt=zs(gt.props.children,ot.mode,Lt,gt.key),Lt.return=ot,ot=Lt):(Lt=ic(gt.type,gt.key,gt.props,null,ot.mode,Lt),Ko(Lt,gt),Lt.return=ot,ot=Lt)}return Z(ot);case S:e:{for(Sn=gt.key;et!==null;){if(et.key===Sn)if(et.tag===4&&et.stateNode.containerInfo===gt.containerInfo&&et.stateNode.implementation===gt.implementation){l(ot,et.sibling),Lt=A(et,gt.children||[]),Lt.return=ot,ot=Lt;break e}else{l(ot,et);break}else i(ot,et);et=et.sibling}Lt=ac(gt,ot.mode,Lt),Lt.return=ot,ot=Lt}return Z(ot);case q:return Sn=gt._init,gt=Sn(gt._payload),ei(ot,et,gt,Lt)}if(ct(gt))return Wn(ot,et,gt,Lt);if(ge(gt)){if(Sn=ge(gt),typeof Sn!="function")throw Error(a(150));return gt=Sn.call(gt),Hn(ot,et,gt,Lt)}if(typeof gt.then=="function")return ei(ot,et,_s(gt),Lt);if(gt.$$typeof===P)return ei(ot,et,cc(ot,gt),Lt);El(ot,gt)}return typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint"?(gt=""+gt,et!==null&&et.tag===6?(l(ot,et.sibling),Lt=A(et,gt),Lt.return=ot,ot=Lt):(l(ot,et),Lt=ti(gt,ot.mode,Lt),Lt.return=ot,ot=Lt),Z(ot)):l(ot,et)}return function(ot,et,gt,Lt){try{ra=0;var Sn=ei(ot,et,gt,Lt);return Ha=null,Sn}catch(In){if(In===io||In===el)throw In;var Sr=mi(29,In,null,ot.mode);return Sr.lanes=Lt,Sr.return=ot,Sr}finally{}}}var Go=Vc(!0),Sl=Vc(!1),Ii=Re(null),wa=null;function ia(n){var i=n.alternate;He(Ai,Ai.current&1),He(Ii,n),wa===null&&(i===null||tu.current!==null||i.memoizedState!==null)&&(wa=n)}function Al(n){if(n.tag===22){if(He(Ai,Ai.current),He(Ii,n),wa===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(wa=n)}}else Es()}function Es(){He(Ai,Ai.current),He(Ii,Ii.current)}function qo(n){Qe(Ii),wa===n&&(wa=null),Qe(Ai)}var Ai=Re(0);function td(n){for(var i=n;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Nl(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Eh(n,i,l,p){i=n.memoizedState,l=l(p,i),l=l==null?i:g({},i,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var nd={enqueueSetState:function(n,i,l){n=n._reactInternals;var p=Yi(),A=ba(p);A.payload=i,l!=null&&(A.callback=l),i=Eo(n,A,p),i!==null&&(Mi(i,n,p),Ho(i,n,p))},enqueueReplaceState:function(n,i,l){n=n._reactInternals;var p=Yi(),A=ba(p);A.tag=1,A.payload=i,l!=null&&(A.callback=l),i=Eo(n,A,p),i!==null&&(Mi(i,n,p),Ho(i,n,p))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var l=Yi(),p=ba(l);p.tag=2,i!=null&&(p.callback=i),i=Eo(n,p,l),i!==null&&(Mi(i,n,l),Ho(i,n,l))}};function Sh(n,i,l,p,A,N,Z){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(p,N,Z):i.prototype&&i.prototype.isPureReactComponent?!Za(l,p)||!Za(A,N):!0}function Ah(n,i,l,p){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,p),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,p),i.state!==n&&nd.enqueueReplaceState(i,i.state,null)}function cu(n,i){var l=i;if("ref"in i){l={};for(var p in i)p!=="ref"&&(l[p]=i[p])}if(n=n.defaultProps){l===i&&(l=g({},l));for(var A in n)l[A]===void 0&&(l[A]=n[A])}return l}var rd=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Zm(n){rd(n)}function e0(n){console.error(n)}function t0(n){rd(n)}function xh(n,i){try{var l=n.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(p){setTimeout(function(){throw p})}}function n0(n,i,l){try{var p=n.onCaughtError;p(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function ry(n,i,l){return l=ba(l),l.tag=3,l.payload={element:null},l.callback=function(){xh(n,i)},l}function iy(n){return n=ba(n),n.tag=3,n}function ay(n,i,l,p){var A=l.type.getDerivedStateFromError;if(typeof A=="function"){var N=p.value;n.payload=function(){return A(N)},n.callback=function(){n0(i,l,p)}}var Z=l.stateNode;Z!==null&&typeof Z.componentDidCatch=="function"&&(n.callback=function(){n0(i,l,p),typeof A!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var ce=p.stack;this.componentDidCatch(p.value,{componentStack:ce!==null?ce:""})})}function Rw(n,i,l,p,A){if(l.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(i=l.alternate,i!==null&&Ql(i,l,A,!0),l=Ii.current,l!==null){switch(l.tag){case 13:return wa===null?Wh():l.alternate===null&&ui===0&&(ui=3),l.flags&=-257,l.flags|=65536,l.lanes=A,p===Ba?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([p]):i.add(p),Id(n,p,A)),!1;case 22:return l.flags|=65536,p===Ba?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([p])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([p]):l.add(p)),Id(n,p,A)),!1}throw Error(a(435,l.tag))}return Id(n,p,A),Wh(),!1}if(Dr)return i=Ii.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=A,p!==Bf&&(n=Error(a(422),{cause:p}),uc(Ua(n,l)))):(p!==Bf&&(i=Error(a(423),{cause:p}),uc(Ua(i,l))),n=n.current.alternate,n.flags|=65536,A&=-A,n.lanes|=A,p=Ua(p,l),A=ry(n.stateNode,p,A),il(n,A),ui!==4&&(ui=2)),!1;var N=Error(a(520),{cause:p});if(N=Ua(N,l),Zc===null?Zc=[N]:Zc.push(N),ui!==4&&(ui=2),i===null)return!0;p=Ua(p,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,n=A&-A,l.lanes|=n,n=ry(l.stateNode,p,n),il(l,n),!1;case 1:if(i=l.type,N=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(xs===null||!xs.has(N))))return l.flags|=65536,A&=-A,l.lanes|=A,A=iy(A),ay(A,n,l,p),il(l,A),!1}l=l.return}while(l!==null);return!1}var r0=Error(a(461)),Pi=!1;function Ui(n,i,l,p){i.child=n===null?Sl(i,null,l,p):Go(i,n.child,l,p)}function i0(n,i,l,p,A){l=l.render;var N=i.ref;if("ref"in p){var Z={};for(var ce in p)ce!=="ref"&&(Z[ce]=p[ce])}else Z=p;return cs(i),p=hs(n,i,l,Z,N,A),ce=ps(),n!==null&&!Pi?(gs(n,i,A),To(n,i,A)):(Dr&&ce&&lc(i),i.flags|=1,Ui(n,i,p,A),i.child)}function oy(n,i,l,p,A){if(n===null){var N=l.type;return typeof N=="function"&&!rc(N)&&N.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=N,_a(n,i,N,p,A)):(n=ic(l.type,null,p,i,i.mode,A),n.ref=i.ref,n.return=i,i.child=n)}if(N=n.child,!pu(n,A)){var Z=N.memoizedProps;if(l=l.compare,l=l!==null?l:Za,l(Z,p)&&n.ref===i.ref)return To(n,i,A)}return i.flags|=1,n=Ma(N,p),n.ref=i.ref,n.return=i,i.child=n}function _a(n,i,l,p,A){if(n!==null){var N=n.memoizedProps;if(Za(N,p)&&n.ref===i.ref)if(Pi=!1,i.pendingProps=p=N,pu(n,A))(n.flags&131072)!==0&&(Pi=!0);else return i.lanes=n.lanes,To(n,i,A)}return id(n,i,l,p,A)}function Rh(n,i,l){var p=i.pendingProps,A=p.children,N=n!==null?n.memoizedState:null;if(p.mode==="hidden"){if((i.flags&128)!==0){if(p=N!==null?N.baseLanes|l:l,n!==null){for(A=i.child=n.child,N=0;A!==null;)N=N|A.lanes|A.childLanes,A=A.sibling;i.childLanes=N&~p}else i.childLanes=0,i.child=null;return $c(n,i,p,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&dc(i,N!==null?N.cachePool:null),N!==null?ol(i,N):sl(),Al(i);else return i.lanes=i.childLanes=536870912,$c(n,i,N!==null?N.baseLanes|l:l,l)}else N!==null?(dc(i,N.cachePool),ol(i,N),Es(),i.memoizedState=null):(n!==null&&dc(i,null),sl(),Es());return Ui(n,i,A,l),i.child}function $c(n,i,l,p){var A=gh();return A=A===null?null:{parent:mn._currentValue,pool:A},i.memoizedState={baseLanes:l,cachePool:A},n!==null&&dc(i,null),sl(),Al(i),n!==null&&Ql(n,i,p,!0),null}function fu(n,i){var l=i.ref;if(l===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(n===null||n.ref!==l)&&(i.flags|=4194816)}}function id(n,i,l,p,A){return cs(i),l=hs(n,i,l,p,void 0,A),p=ps(),n!==null&&!Pi?(gs(n,i,A),To(n,i,A)):(Dr&&p&&lc(i),i.flags|=1,Ui(n,i,l,A),i.child)}function Th(n,i,l,p,A,N){return cs(i),i.updateQueue=null,l=vi(i,p,l,A),cl(n),p=ps(),n!==null&&!Pi?(gs(n,i,N),To(n,i,N)):(Dr&&p&&lc(i),i.flags|=1,Ui(n,i,l,N),i.child)}function ad(n,i,l,p,A){if(cs(i),i.stateNode===null){var N=Jl,Z=l.contextType;typeof Z=="object"&&Z!==null&&(N=Di(Z)),N=new l(p,N),i.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=nd,i.stateNode=N,N._reactInternals=i,N=i.stateNode,N.props=p,N.state=i.memoizedState,N.refs={},ao(i),Z=l.contextType,N.context=typeof Z=="object"&&Z!==null?Di(Z):Jl,N.state=i.memoizedState,Z=l.getDerivedStateFromProps,typeof Z=="function"&&(Eh(i,l,Z,p),N.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(Z=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),Z!==N.state&&nd.enqueueReplaceState(N,N.state,null),Fn(i,p,N,A),Si(),N.state=i.memoizedState),typeof N.componentDidMount=="function"&&(i.flags|=4194308),p=!0}else if(n===null){N=i.stateNode;var ce=i.memoizedProps,je=cu(l,ce);N.props=je;var vt=N.context,Ft=l.contextType;Z=Jl,typeof Ft=="object"&&Ft!==null&&(Z=Di(Ft));var Bt=l.getDerivedStateFromProps;Ft=typeof Bt=="function"||typeof N.getSnapshotBeforeUpdate=="function",ce=i.pendingProps!==ce,Ft||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(ce||vt!==Z)&&Ah(i,N,p,Z),_o=!1;var Et=i.memoizedState;N.state=Et,Fn(i,p,N,A),Si(),vt=i.memoizedState,ce||Et!==vt||_o?(typeof Bt=="function"&&(Eh(i,l,Bt,p),vt=i.memoizedState),(je=_o||Sh(i,l,je,p,Et,vt,Z))?(Ft||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(i.flags|=4194308)):(typeof N.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=p,i.memoizedState=vt),N.props=p,N.state=vt,N.context=Z,p=je):(typeof N.componentDidMount=="function"&&(i.flags|=4194308),p=!1)}else{N=i.stateNode,rl(n,i),Z=i.memoizedProps,Ft=cu(l,Z),N.props=Ft,Bt=i.pendingProps,Et=N.context,vt=l.contextType,je=Jl,typeof vt=="object"&&vt!==null&&(je=Di(vt)),ce=l.getDerivedStateFromProps,(vt=typeof ce=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Z!==Bt||Et!==je)&&Ah(i,N,p,je),_o=!1,Et=i.memoizedState,N.state=Et,Fn(i,p,N,A),Si();var xt=i.memoizedState;Z!==Bt||Et!==xt||_o||n!==null&&n.dependencies!==null&&$f(n.dependencies)?(typeof ce=="function"&&(Eh(i,l,ce,p),xt=i.memoizedState),(Ft=_o||Sh(i,l,Ft,p,Et,xt,je)||n!==null&&n.dependencies!==null&&$f(n.dependencies))?(vt||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,xt,je),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,xt,je)),typeof N.componentDidUpdate=="function"&&(i.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof N.componentDidUpdate!="function"||Z===n.memoizedProps&&Et===n.memoizedState||(i.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Z===n.memoizedProps&&Et===n.memoizedState||(i.flags|=1024),i.memoizedProps=p,i.memoizedState=xt),N.props=p,N.state=xt,N.context=je,p=Ft):(typeof N.componentDidUpdate!="function"||Z===n.memoizedProps&&Et===n.memoizedState||(i.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Z===n.memoizedProps&&Et===n.memoizedState||(i.flags|=1024),p=!1)}return N=p,fu(n,i),p=(i.flags&128)!==0,N||p?(N=i.stateNode,l=p&&typeof l.getDerivedStateFromError!="function"?null:N.render(),i.flags|=1,n!==null&&p?(i.child=Go(i,n.child,null,A),i.child=Go(i,null,l,A)):Ui(n,i,l,A),i.memoizedState=N.state,n=i.child):n=To(n,i,A),n}function Ch(n,i,l,p){return Xl(),i.flags|=256,Ui(n,i,l,p),i.child}var du={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kc(n){return{baseLanes:n,cachePool:yh()}}function od(n,i,l){return n=n!==null?n.childLanes&~l:0,i&&(n|=oa),n}function Oh(n,i,l){var p=i.pendingProps,A=!1,N=(i.flags&128)!==0,Z;if((Z=N)||(Z=n!==null&&n.memoizedState===null?!1:(Ai.current&2)!==0),Z&&(A=!0,i.flags&=-129),Z=(i.flags&32)!==0,i.flags&=-33,n===null){if(Dr){if(A?ia(i):Es(),Dr){var ce=ai,je;if(je=ce){e:{for(je=ce,ce=no;je.nodeType!==8;){if(!ce){ce=null;break e}if(je=or(je.nextSibling),je===null){ce=null;break e}}ce=je}ce!==null?(i.memoizedState={dehydrated:ce,treeContext:Ys!==null?{id:mo,overflow:vo}:null,retryLane:536870912,hydrationErrors:null},je=mi(18,null,null,0),je.stateNode=ce,je.return=i,i.child=je,Fi=i,ai=null,je=!0):je=!1}je||ls(i)}if(ce=i.memoizedState,ce!==null&&(ce=ce.dehydrated,ce!==null))return Nl(ce)?i.lanes=32:i.lanes=536870912,null;qo(i)}return ce=p.children,p=p.fallback,A?(Es(),A=i.mode,ce=hu({mode:"hidden",children:ce},A),p=zs(p,A,l,null),ce.return=i,p.return=i,ce.sibling=p,i.child=ce,A=i.child,A.memoizedState=Kc(l),A.childLanes=od(n,Z,l),i.memoizedState=du,p):(ia(i),sd(i,ce))}if(je=n.memoizedState,je!==null&&(ce=je.dehydrated,ce!==null)){if(N)i.flags&256?(ia(i),i.flags&=-257,i=ld(n,i,l)):i.memoizedState!==null?(Es(),i.child=n.child,i.flags|=128,i=null):(Es(),A=p.fallback,ce=i.mode,p=hu({mode:"visible",children:p.children},ce),A=zs(A,ce,l,null),A.flags|=2,p.return=i,A.return=i,p.sibling=A,i.child=p,Go(i,n.child,null,l),p=i.child,p.memoizedState=Kc(l),p.childLanes=od(n,Z,l),i.memoizedState=du,i=A);else if(ia(i),Nl(ce)){if(Z=ce.nextSibling&&ce.nextSibling.dataset,Z)var vt=Z.dgst;Z=vt,p=Error(a(419)),p.stack="",p.digest=Z,uc({value:p,source:null,stack:null}),i=ld(n,i,l)}else if(Pi||Ql(n,i,l,!1),Z=(l&n.childLanes)!==0,Pi||Z){if(Z=Zr,Z!==null&&(p=l&-l,p=(p&42)!==0?1:Ht(p),p=(p&(Z.suspendedLanes|l))!==0?0:p,p!==0&&p!==je.retryLane))throw je.retryLane=p,ya(n,p),Mi(Z,n,p),r0;ce.data==="$?"||Wh(),i=ld(n,i,l)}else ce.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=je.treeContext,ai=or(ce.nextSibling),Fi=i,Dr=!0,ss=null,no=!1,n!==null&&(ma[va++]=mo,ma[va++]=vo,ma[va++]=Ys,mo=n.id,vo=n.overflow,Ys=i),i=sd(i,p.children),i.flags|=4096);return i}return A?(Es(),A=p.fallback,ce=i.mode,je=n.child,vt=je.sibling,p=Ma(je,{mode:"hidden",children:p.children}),p.subtreeFlags=je.subtreeFlags&65011712,vt!==null?A=Ma(vt,A):(A=zs(A,ce,l,null),A.flags|=2),A.return=i,p.return=i,p.sibling=A,i.child=p,p=A,A=i.child,ce=n.child.memoizedState,ce===null?ce=Kc(l):(je=ce.cachePool,je!==null?(vt=mn._currentValue,je=je.parent!==vt?{parent:vt,pool:vt}:je):je=yh(),ce={baseLanes:ce.baseLanes|l,cachePool:je}),A.memoizedState=ce,A.childLanes=od(n,Z,l),i.memoizedState=du,p):(ia(i),l=n.child,n=l.sibling,l=Ma(l,{mode:"visible",children:p.children}),l.return=i,l.sibling=null,n!==null&&(Z=i.deletions,Z===null?(i.deletions=[n],i.flags|=16):Z.push(n)),i.child=l,i.memoizedState=null,l)}function sd(n,i){return i=hu({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function hu(n,i){return n=mi(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function ld(n,i,l){return Go(i,n.child,null,l),n=sd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Ih(n,i,l){n.lanes|=i;var p=n.alternate;p!==null&&(p.lanes|=i),Vf(n.return,i,l)}function ud(n,i,l,p,A){var N=n.memoizedState;N===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:p,tail:l,tailMode:A}:(N.isBackwards=i,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=l,N.tailMode=A)}function Ph(n,i,l){var p=i.pendingProps,A=p.revealOrder,N=p.tail;if(Ui(n,i,p.children,l),p=Ai.current,(p&2)!==0)p=p&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ih(n,l,i);else if(n.tag===19)Ih(n,l,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}p&=1}switch(He(Ai,p),A){case"forwards":for(l=i.child,A=null;l!==null;)n=l.alternate,n!==null&&td(n)===null&&(A=l),l=l.sibling;l=A,l===null?(A=i.child,i.child=null):(A=l.sibling,l.sibling=null),ud(i,!1,A,l,N);break;case"backwards":for(l=null,A=i.child,i.child=null;A!==null;){if(n=A.alternate,n!==null&&td(n)===null){i.child=A;break}n=A.sibling,A.sibling=l,l=A,A=n}ud(i,!0,l,null,N);break;case"together":ud(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function To(n,i,l){if(n!==null&&(i.dependencies=n.dependencies),Po|=i.lanes,(l&i.childLanes)===0)if(n!==null){if(Ql(n,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,l=Ma(n,n.pendingProps),i.child=l,l.return=i;n.sibling!==null;)n=n.sibling,l=l.sibling=Ma(n,n.pendingProps),l.return=i;l.sibling=null}return i.child}function pu(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&$f(n)))}function sy(n,i,l){switch(i.tag){case 3:le(i,i.stateNode.containerInfo),us(i,mn,n.memoizedState.cache),Xl();break;case 27:case 5:Ye(i);break;case 4:le(i,i.stateNode.containerInfo);break;case 10:us(i,i.type,i.memoizedProps.value);break;case 13:var p=i.memoizedState;if(p!==null)return p.dehydrated!==null?(ia(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Oh(n,i,l):(ia(i),n=To(n,i,l),n!==null?n.sibling:null);ia(i);break;case 19:var A=(n.flags&128)!==0;if(p=(l&i.childLanes)!==0,p||(Ql(n,i,l,!1),p=(l&i.childLanes)!==0),A){if(p)return Ph(n,i,l);i.flags|=128}if(A=i.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),He(Ai,Ai.current),p)break;return null;case 22:case 23:return i.lanes=0,Rh(n,i,l);case 24:us(i,mn,n.memoizedState.cache)}return To(n,i,l)}function Nh(n,i,l){if(n!==null)if(n.memoizedProps!==i.pendingProps)Pi=!0;else{if(!pu(n,l)&&(i.flags&128)===0)return Pi=!1,sy(n,i,l);Pi=(n.flags&131072)!==0}else Pi=!1,Dr&&(i.flags&1048576)!==0&&uh(i,sc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var p=i.elementType,A=p._init;if(p=A(p._payload),i.type=p,typeof p=="function")rc(p)?(n=cu(p,n),i.tag=1,i=ad(null,i,p,n,l)):(i.tag=0,i=id(null,i,p,n,l));else{if(p!=null){if(A=p.$$typeof,A===K){i.tag=11,i=i0(null,i,p,n,l);break e}else if(A===J){i.tag=14,i=oy(null,i,p,n,l);break e}}throw i=tt(p)||p,Error(a(306,i,""))}}return i;case 0:return id(n,i,i.type,i.pendingProps,l);case 1:return p=i.type,A=cu(p,i.pendingProps),ad(n,i,p,A,l);case 3:e:{if(le(i,i.stateNode.containerInfo),n===null)throw Error(a(387));p=i.pendingProps;var N=i.memoizedState;A=N.element,rl(n,i),Fn(i,p,null,l);var Z=i.memoizedState;if(p=Z.cache,us(i,mn,p),p!==N.cache&&fh(i,[mn],l,!0),Si(),p=Z.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:Z.cache},i.updateQueue.baseState=N,i.memoizedState=N,i.flags&256){i=Ch(n,i,p,l);break e}else if(p!==A){A=Ua(Error(a(424)),i),uc(A),i=Ch(n,i,p,l);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ai=or(n.firstChild),Fi=i,Dr=!0,ss=null,no=!0,l=Sl(i,null,p,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Xl(),p===A){i=To(n,i,l);break e}Ui(n,i,p,l)}i=i.child}return i;case 26:return fu(n,i),n===null?(l=Pw(i.type,null,i.pendingProps,null))?i.memoizedState=l:Dr||(l=i.type,n=i.pendingProps,p=Kt(kt.current).createElement(l),p[Nt]=i,p[Zt]=n,Be(p,l,n),Gt(p),i.stateNode=p):i.memoizedState=Pw(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Ye(i),n===null&&Dr&&(p=i.stateNode=Cw(i.type,i.pendingProps,kt.current),Fi=i,no=!0,A=ai,Bi(i.type)?(Xo=A,ai=or(p.firstChild)):ai=A),Ui(n,i,i.pendingProps.children,l),fu(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Dr&&((A=p=ai)&&(p=ff(p,i.type,i.pendingProps,no),p!==null?(i.stateNode=p,Fi=i,ai=or(p.firstChild),no=!1,A=!0):A=!1),A||ls(i)),Ye(i),A=i.type,N=i.pendingProps,Z=n!==null?n.memoizedProps:null,p=N.children,ur(A,N)?p=null:Z!==null&&ur(A,Z)&&(i.flags|=32),i.memoizedState!==null&&(A=hs(n,i,nu,null,null,l),hp._currentValue=A),fu(n,i),Ui(n,i,p,l),i.child;case 6:return n===null&&Dr&&((n=l=ai)&&(l=df(l,i.pendingProps,no),l!==null?(i.stateNode=l,Fi=i,ai=null,n=!0):n=!1),n||ls(i)),null;case 13:return Oh(n,i,l);case 4:return le(i,i.stateNode.containerInfo),p=i.pendingProps,n===null?i.child=Go(i,null,p,l):Ui(n,i,p,l),i.child;case 11:return i0(n,i,i.type,i.pendingProps,l);case 7:return Ui(n,i,i.pendingProps,l),i.child;case 8:return Ui(n,i,i.pendingProps.children,l),i.child;case 12:return Ui(n,i,i.pendingProps.children,l),i.child;case 10:return p=i.pendingProps,us(i,i.type,p.value),Ui(n,i,p.children,l),i.child;case 9:return A=i.type._context,p=i.pendingProps.children,cs(i),A=Di(A),p=p(A),i.flags|=1,Ui(n,i,p,l),i.child;case 14:return oy(n,i,i.type,i.pendingProps,l);case 15:return _a(n,i,i.type,i.pendingProps,l);case 19:return Ph(n,i,l);case 31:return p=i.pendingProps,l=i.mode,p={mode:p.mode,children:p.children},n===null?(l=hu(p,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=Ma(n.child,p),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return Rh(n,i,l);case 24:return cs(i),p=Di(mn),n===null?(A=gh(),A===null&&(A=Zr,N=Ei(),A.pooledCache=N,N.refCount++,N!==null&&(A.pooledCacheLanes|=l),A=N),i.memoizedState={parent:p,cache:A},ao(i),us(i,mn,A)):((n.lanes&l)!==0&&(rl(n,i),Fn(i,null,null,l),Si()),A=n.memoizedState,N=i.memoizedState,A.parent!==p?(A={parent:p,cache:p},i.memoizedState=A,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=A),us(i,mn,p)):(p=N.cache,us(i,mn,p),p!==A.cache&&fh(i,[mn],l,!0))),Ui(n,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Co(n){n.flags|=4}function Gc(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Lw(i)){if(i=Ii.current,i!==null&&((Er&4194048)===Er?wa!==null:(Er&62914560)!==Er&&(Er&536870912)===0||i!==wa))throw wo=Ba,eu;n.flags|=8192}}function qc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?ut():536870912,n.lanes|=i,Cl|=i)}function gu(n,i){if(!Dr)switch(n.tailMode){case"hidden":i=n.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:p.sibling=null}}function ri(n){var i=n.alternate!==null&&n.alternate.child===n.child,l=0,p=0;if(i)for(var A=n.child;A!==null;)l|=A.lanes|A.childLanes,p|=A.subtreeFlags&65011712,p|=A.flags&65011712,A.return=n,A=A.sibling;else for(A=n.child;A!==null;)l|=A.lanes|A.childLanes,p|=A.subtreeFlags,p|=A.flags,A.return=n,A=A.sibling;return n.subtreeFlags|=p,n.childLanes=l,i}function cd(n,i,l){var p=i.pendingProps;switch(kf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(i),null;case 1:return ri(i),null;case 3:return l=i.stateNode,p=null,n!==null&&(p=n.memoizedState.cache),i.memoizedState.cache!==p&&(i.flags|=2048),Bo(mn),Ce(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Yl(i)?Co(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ch())),ri(i),null;case 26:return l=i.memoizedState,n===null?(Co(i),l!==null?(ri(i),Gc(i,l)):(ri(i),i.flags&=-16777217)):l?l!==n.memoizedState?(Co(i),ri(i),Gc(i,l)):(ri(i),i.flags&=-16777217):(n.memoizedProps!==p&&Co(i),ri(i),i.flags&=-16777217),null;case 27:oe(i),l=kt.current;var A=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==p&&Co(i);else{if(!p){if(i.stateNode===null)throw Error(a(166));return ri(i),null}n=st.current,Yl(i)?Qg(i):(n=Cw(A,p,l),i.stateNode=n,Co(i))}return ri(i),null;case 5:if(oe(i),l=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==p&&Co(i);else{if(!p){if(i.stateNode===null)throw Error(a(166));return ri(i),null}if(n=st.current,Yl(i))Qg(i);else{switch(A=Kt(kt.current),n){case 1:n=A.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=A.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=A.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=A.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=A.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof p.is=="string"?A.createElement("select",{is:p.is}):A.createElement("select"),p.multiple?n.multiple=!0:p.size&&(n.size=p.size);break;default:n=typeof p.is=="string"?A.createElement(l,{is:p.is}):A.createElement(l)}}n[Nt]=i,n[Zt]=p;e:for(A=i.child;A!==null;){if(A.tag===5||A.tag===6)n.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===i)break e;for(;A.sibling===null;){if(A.return===null||A.return===i)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}i.stateNode=n;e:switch(Be(n,l,p),l){case"button":case"input":case"select":case"textarea":n=!!p.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Co(i)}}return ri(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==p&&Co(i);else{if(typeof p!="string"&&i.stateNode===null)throw Error(a(166));if(n=kt.current,Yl(i)){if(n=i.stateNode,l=i.memoizedProps,p=null,A=Fi,A!==null)switch(A.tag){case 27:case 5:p=A.memoizedProps}n[Nt]=i,n=!!(n.nodeValue===l||p!==null&&p.suppressHydrationWarning===!0||L(n.nodeValue,l)),n||ls(i)}else n=Kt(n).createTextNode(p),n[Nt]=i,i.stateNode=n}return ri(i),null;case 13:if(p=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(A=Yl(i),p!==null&&p.dehydrated!==null){if(n===null){if(!A)throw Error(a(318));if(A=i.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(a(317));A[Nt]=i}else Xl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ri(i),A=!1}else A=ch(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=A),A=!0;if(!A)return i.flags&256?(qo(i),i):(qo(i),null)}if(qo(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=p!==null,n=n!==null&&n.memoizedState!==null,l){p=i.child,A=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(A=p.alternate.memoizedState.cachePool.pool);var N=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==A&&(p.flags|=2048)}return l!==n&&l&&(i.child.flags|=8192),qc(i,i.updateQueue),ri(i),null;case 4:return Ce(),n===null&&sp(i.stateNode.containerInfo),ri(i),null;case 10:return Bo(i.type),ri(i),null;case 19:if(Qe(Ai),A=i.memoizedState,A===null)return ri(i),null;if(p=(i.flags&128)!==0,N=A.rendering,N===null)if(p)gu(A,!1);else{if(ui!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(N=td(n),N!==null){for(i.flags|=128,gu(A,!1),n=N.updateQueue,i.updateQueue=n,qc(i,n),i.subtreeFlags=0,n=l,l=i.child;l!==null;)lh(l,n),l=l.sibling;return He(Ai,Ai.current&1|2),i.child}n=n.sibling}A.tail!==null&&Oe()>Jo&&(i.flags|=128,p=!0,gu(A,!1),i.lanes=4194304)}else{if(!p)if(n=td(N),n!==null){if(i.flags|=128,p=!0,n=n.updateQueue,i.updateQueue=n,qc(i,n),gu(A,!0),A.tail===null&&A.tailMode==="hidden"&&!N.alternate&&!Dr)return ri(i),null}else 2*Oe()-A.renderingStartTime>Jo&&l!==536870912&&(i.flags|=128,p=!0,gu(A,!1),i.lanes=4194304);A.isBackwards?(N.sibling=i.child,i.child=N):(n=A.last,n!==null?n.sibling=N:i.child=N,A.last=N)}return A.tail!==null?(i=A.tail,A.rendering=i,A.tail=i.sibling,A.renderingStartTime=Oe(),i.sibling=null,n=Ai.current,He(Ai,p?n&1|2:n&1),i):(ri(i),null);case 22:case 23:return qo(i),yc(),p=i.memoizedState!==null,n!==null?n.memoizedState!==null!==p&&(i.flags|=8192):p&&(i.flags|=8192),p?(l&536870912)!==0&&(i.flags&128)===0&&(ri(i),i.subtreeFlags&6&&(i.flags|=8192)):ri(i),l=i.updateQueue,l!==null&&qc(i,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),p=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(p=i.memoizedState.cachePool.pool),p!==l&&(i.flags|=2048),n!==null&&Qe(jo),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Bo(mn),ri(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function ly(n,i){switch(kf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Bo(mn),Ce(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return oe(i),null;case 13:if(qo(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Xl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Qe(Ai),null;case 4:return Ce(),null;case 10:return Bo(i.type),null;case 22:case 23:return qo(i),yc(),n!==null&&Qe(jo),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Bo(mn),null;case 25:return null;default:return null}}function Fh(n,i){switch(kf(i),i.tag){case 3:Bo(mn),Ce();break;case 26:case 27:case 5:oe(i);break;case 4:Ce();break;case 13:qo(i);break;case 19:Qe(Ai);break;case 10:Bo(i.type);break;case 22:case 23:qo(i),yc(),n!==null&&Qe(jo);break;case 24:Bo(mn)}}function yu(n,i){try{var l=i.updateQueue,p=l!==null?l.lastEffect:null;if(p!==null){var A=p.next;l=A;do{if((l.tag&n)===n){p=void 0;var N=l.create,Z=l.inst;p=N(),Z.destroy=p}l=l.next}while(l!==A)}}catch(ce){qr(i,i.return,ce)}}function oo(n,i,l){try{var p=i.updateQueue,A=p!==null?p.lastEffect:null;if(A!==null){var N=A.next;p=N;do{if((p.tag&n)===n){var Z=p.inst,ce=Z.destroy;if(ce!==void 0){Z.destroy=void 0,A=i;var je=l,vt=ce;try{vt()}catch(Ft){qr(A,je,Ft)}}}p=p.next}while(p!==N)}}catch(Ft){qr(i,i.return,Ft)}}function Dh(n){var i=n.updateQueue;if(i!==null){var l=n.stateNode;try{al(i,l)}catch(p){qr(n,n.return,p)}}}function zc(n,i,l){l.props=cu(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(p){qr(n,i,p)}}function mu(n,i){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var p=n.stateNode;break;case 30:p=n.stateNode;break;default:p=n.stateNode}typeof l=="function"?n.refCleanup=l(p):l.current=p}}catch(A){qr(n,i,A)}}function Va(n,i){var l=n.ref,p=n.refCleanup;if(l!==null)if(typeof p=="function")try{p()}catch(A){qr(n,i,A)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(A){qr(n,i,A)}else l.current=null}function Uh(n){var i=n.type,l=n.memoizedProps,p=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&p.focus();break e;case"img":l.src?p.src=l.src:l.srcSet&&(p.srcset=l.srcSet)}}catch(A){qr(n,n.return,A)}}function fd(n,i,l){try{var p=n.stateNode;Ke(p,n.type,l,i),p[Zt]=i}catch(A){qr(n,n.return,A)}}function Lh(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Bi(n.type)||n.tag===4}function dd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Lh(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Bi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hd(n,i,l){var p=n.tag;if(p===5||p===6)n=n.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(n),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=W));else if(p!==4&&(p===27&&Bi(n.type)&&(l=n.stateNode,i=null),n=n.child,n!==null))for(hd(n,i,l),n=n.sibling;n!==null;)hd(n,i,l),n=n.sibling}function zo(n,i,l){var p=n.tag;if(p===5||p===6)n=n.stateNode,i?l.insertBefore(n,i):l.appendChild(n);else if(p!==4&&(p===27&&Bi(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(zo(n,i,l),n=n.sibling;n!==null;)zo(n,i,l),n=n.sibling}function Mh(n){var i=n.stateNode,l=n.memoizedProps;try{for(var p=n.type,A=i.attributes;A.length;)i.removeAttributeNode(A[0]);Be(i,p,l),i[Nt]=n,i[Zt]=l}catch(N){qr(n,n.return,N)}}var Oo=!1,li=!1,Wc=!1,pd=typeof WeakSet=="function"?WeakSet:Set,bi=null;function uy(n,i){if(n=n.containerInfo,Ze=Fy,n=Da(n),rh(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var p=l.getSelection&&l.getSelection();if(p&&p.rangeCount!==0){l=p.anchorNode;var A=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{l.nodeType,N.nodeType}catch{l=null;break e}var Z=0,ce=-1,je=-1,vt=0,Ft=0,Bt=n,Et=null;t:for(;;){for(var xt;Bt!==l||A!==0&&Bt.nodeType!==3||(ce=Z+A),Bt!==N||p!==0&&Bt.nodeType!==3||(je=Z+p),Bt.nodeType===3&&(Z+=Bt.nodeValue.length),(xt=Bt.firstChild)!==null;)Et=Bt,Bt=xt;for(;;){if(Bt===n)break t;if(Et===l&&++vt===A&&(ce=Z),Et===N&&++Ft===p&&(je=Z),(xt=Bt.nextSibling)!==null)break;Bt=Et,Et=Bt.parentNode}Bt=xt}l=ce===-1||je===-1?null:{start:ce,end:je}}else l=null}l=l||{start:0,end:0}}else l=null;for(Mt={focusedElem:n,selectionRange:l},Fy=!1,bi=i;bi!==null;)if(i=bi,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,bi=n;else for(;bi!==null;){switch(i=bi,N=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&N!==null){n=void 0,l=i,A=N.memoizedProps,N=N.memoizedState,p=l.stateNode;try{var Wn=cu(l.type,A,l.elementType===l.type);n=p.getSnapshotBeforeUpdate(Wn,N),p.__reactInternalSnapshotBeforeUpdate=n}catch(Hn){qr(l,l.return,Hn)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,l=n.nodeType,l===9)co(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":co(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,bi=n;break}bi=i.return}}function gd(n,i,l){var p=l.flags;switch(l.tag){case 0:case 11:case 15:xl(n,l),p&4&&yu(5,l);break;case 1:if(xl(n,l),p&4)if(n=l.stateNode,i===null)try{n.componentDidMount()}catch(Z){qr(l,l.return,Z)}else{var A=cu(l.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(A,i,n.__reactInternalSnapshotBeforeUpdate)}catch(Z){qr(l,l.return,Z)}}p&64&&Dh(l),p&512&&mu(l,l.return);break;case 3:if(xl(n,l),p&64&&(n=l.updateQueue,n!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{al(n,i)}catch(Z){qr(l,l.return,Z)}}break;case 27:i===null&&p&4&&Mh(l);case 26:case 5:xl(n,l),i===null&&p&4&&Uh(l),p&512&&mu(l,l.return);break;case 12:xl(n,l);break;case 13:xl(n,l),p&4&&Bh(n,l),p&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=by.bind(null,l),On(n,l))));break;case 22:if(p=l.memoizedState!==null||Oo,!p){i=i!==null&&i.memoizedState!==null||li,A=Oo;var N=li;Oo=p,(li=i)&&!N?Rl(n,l,(l.subtreeFlags&8772)!==0):xl(n,l),Oo=A,li=N}break;case 30:break;default:xl(n,l)}}function yd(n){var i=n.alternate;i!==null&&(n.alternate=null,yd(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Un(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ni=null,Li=!1;function so(n,i,l){for(l=l.child;l!==null;)kh(n,i,l),l=l.sibling}function kh(n,i,l){if(X&&typeof X.onCommitFiberUnmount=="function")try{X.onCommitFiberUnmount(ft,l)}catch{}switch(l.tag){case 26:li||Va(l,i),so(n,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:li||Va(l,i);var p=ni,A=Li;Bi(l.type)&&(ni=l.stateNode,Li=!1),so(n,i,l),up(l.stateNode),ni=p,Li=A;break;case 5:li||Va(l,i);case 6:if(p=ni,A=Li,ni=null,so(n,i,l),ni=p,Li=A,ni!==null)if(Li)try{(ni.nodeType===9?ni.body:ni.nodeName==="HTML"?ni.ownerDocument.body:ni).removeChild(l.stateNode)}catch(N){qr(l,i,N)}else try{ni.removeChild(l.stateNode)}catch(N){qr(l,i,N)}break;case 18:ni!==null&&(Li?(n=ni,Ts(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),mp(n)):Ts(ni,l.stateNode));break;case 4:p=ni,A=Li,ni=l.stateNode.containerInfo,Li=!0,so(n,i,l),ni=p,Li=A;break;case 0:case 11:case 14:case 15:li||oo(2,l,i),li||oo(4,l,i),so(n,i,l);break;case 1:li||(Va(l,i),p=l.stateNode,typeof p.componentWillUnmount=="function"&&zc(l,i,p)),so(n,i,l);break;case 21:so(n,i,l);break;case 22:li=(p=li)||l.memoizedState!==null,so(n,i,l),li=p;break;default:so(n,i,l)}}function Bh(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{mp(n)}catch(l){qr(i,i.return,l)}}function a0(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new pd),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new pd),i;default:throw Error(a(435,n.tag))}}function md(n,i){var l=a0(n);i.forEach(function(p){var A=l0.bind(null,n,p);l.has(p)||(l.add(p),p.then(A,A))})}function aa(n,i){var l=i.deletions;if(l!==null)for(var p=0;p<l.length;p++){var A=l[p],N=n,Z=i,ce=Z;e:for(;ce!==null;){switch(ce.tag){case 27:if(Bi(ce.type)){ni=ce.stateNode,Li=!1;break e}break;case 5:ni=ce.stateNode,Li=!1;break e;case 3:case 4:ni=ce.stateNode.containerInfo,Li=!0;break e}ce=ce.return}if(ni===null)throw Error(a(160));kh(N,Z,A),ni=null,Li=!1,N=A.alternate,N!==null&&(N.return=null),A.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)jh(i,n),i=i.sibling}var $a=null;function jh(n,i){var l=n.alternate,p=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:aa(i,n),Ea(n),p&4&&(oo(3,n,n.return),yu(3,n),oo(5,n,n.return));break;case 1:aa(i,n),Ea(n),p&512&&(li||l===null||Va(l,l.return)),p&64&&Oo&&(n=n.updateQueue,n!==null&&(p=n.callbacks,p!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?p:l.concat(p))));break;case 26:var A=$a;if(aa(i,n),Ea(n),p&512&&(li||l===null||Va(l,l.return)),p&4){var N=l!==null?l.memoizedState:null;if(p=n.memoizedState,l===null)if(p===null)if(n.stateNode===null){e:{p=n.type,l=n.memoizedProps,A=A.ownerDocument||A;t:switch(p){case"title":N=A.getElementsByTagName("title")[0],(!N||N[on]||N[Nt]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=A.createElement(p),A.head.insertBefore(N,A.querySelector("head > title"))),Be(N,p,l),N[Nt]=n,Gt(N),p=N;break e;case"link":var Z=Dw("link","href",A).get(p+(l.href||""));if(Z){for(var ce=0;ce<Z.length;ce++)if(N=Z[ce],N.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&N.getAttribute("rel")===(l.rel==null?null:l.rel)&&N.getAttribute("title")===(l.title==null?null:l.title)&&N.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){Z.splice(ce,1);break t}}N=A.createElement(p),Be(N,p,l),A.head.appendChild(N);break;case"meta":if(Z=Dw("meta","content",A).get(p+(l.content||""))){for(ce=0;ce<Z.length;ce++)if(N=Z[ce],N.getAttribute("content")===(l.content==null?null:""+l.content)&&N.getAttribute("name")===(l.name==null?null:l.name)&&N.getAttribute("property")===(l.property==null?null:l.property)&&N.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&N.getAttribute("charset")===(l.charSet==null?null:l.charSet)){Z.splice(ce,1);break t}}N=A.createElement(p),Be(N,p,l),A.head.appendChild(N);break;default:throw Error(a(468,p))}N[Nt]=n,Gt(N),p=N}n.stateNode=p}else Uw(A,n.type,n.stateNode);else n.stateNode=Fw(A,p,n.memoizedProps);else N!==p?(N===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):N.count--,p===null?Uw(A,n.type,n.stateNode):Fw(A,p,n.memoizedProps)):p===null&&n.stateNode!==null&&fd(n,n.memoizedProps,l.memoizedProps)}break;case 27:aa(i,n),Ea(n),p&512&&(li||l===null||Va(l,l.return)),l!==null&&p&4&&fd(n,n.memoizedProps,l.memoizedProps);break;case 5:if(aa(i,n),Ea(n),p&512&&(li||l===null||Va(l,l.return)),n.flags&32){A=n.stateNode;try{Se(A,"")}catch(xt){qr(n,n.return,xt)}}p&4&&n.stateNode!=null&&(A=n.memoizedProps,fd(n,A,l!==null?l.memoizedProps:A)),p&1024&&(Wc=!0);break;case 6:if(aa(i,n),Ea(n),p&4){if(n.stateNode===null)throw Error(a(162));p=n.memoizedProps,l=n.stateNode;try{l.nodeValue=p}catch(xt){qr(n,n.return,xt)}}break;case 3:if(Iy=null,A=$a,$a=Cy(i.containerInfo),aa(i,n),$a=A,Ea(n),p&4&&l!==null&&l.memoizedState.isDehydrated)try{mp(i.containerInfo)}catch(xt){qr(n,n.return,xt)}Wc&&(Wc=!1,o0(n));break;case 4:p=$a,$a=Cy(n.stateNode.containerInfo),aa(i,n),Ea(n),$a=p;break;case 12:aa(i,n),Ea(n);break;case 13:aa(i,n),Ea(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(wd=Oe()),p&4&&(p=n.updateQueue,p!==null&&(n.updateQueue=null,md(n,p)));break;case 22:A=n.memoizedState!==null;var je=l!==null&&l.memoizedState!==null,vt=Oo,Ft=li;if(Oo=vt||A,li=Ft||je,aa(i,n),li=Ft,Oo=vt,Ea(n),p&8192)e:for(i=n.stateNode,i._visibility=A?i._visibility&-2:i._visibility|1,A&&(l===null||je||Oo||li||vu(n)),l=null,i=n;;){if(i.tag===5||i.tag===26){if(l===null){je=l=i;try{if(N=je.stateNode,A)Z=N.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none";else{ce=je.stateNode;var Bt=je.memoizedProps.style,Et=Bt!=null&&Bt.hasOwnProperty("display")?Bt.display:null;ce.style.display=Et==null||typeof Et=="boolean"?"":(""+Et).trim()}}catch(xt){qr(je,je.return,xt)}}}else if(i.tag===6){if(l===null){je=i;try{je.stateNode.nodeValue=A?"":je.memoizedProps}catch(xt){qr(je,je.return,xt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}p&4&&(p=n.updateQueue,p!==null&&(l=p.retryQueue,l!==null&&(p.retryQueue=null,md(n,l))));break;case 19:aa(i,n),Ea(n),p&4&&(p=n.updateQueue,p!==null&&(n.updateQueue=null,md(n,p)));break;case 30:break;case 21:break;default:aa(i,n),Ea(n)}}function Ea(n){var i=n.flags;if(i&2){try{for(var l,p=n.return;p!==null;){if(Lh(p)){l=p;break}p=p.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var A=l.stateNode,N=dd(n);zo(n,N,A);break;case 5:var Z=l.stateNode;l.flags&32&&(Se(Z,""),l.flags&=-33);var ce=dd(n);zo(n,ce,Z);break;case 3:case 4:var je=l.stateNode.containerInfo,vt=dd(n);hd(n,vt,je);break;default:throw Error(a(161))}}catch(Ft){qr(n,n.return,Ft)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function o0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;o0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function xl(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)gd(n,i.alternate,i),i=i.sibling}function vu(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:oo(4,i,i.return),vu(i);break;case 1:Va(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&zc(i,i.return,l),vu(i);break;case 27:up(i.stateNode);case 26:case 5:Va(i,i.return),vu(i);break;case 22:i.memoizedState===null&&vu(i);break;case 30:vu(i);break;default:vu(i)}n=n.sibling}}function Rl(n,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var p=i.alternate,A=n,N=i,Z=N.flags;switch(N.tag){case 0:case 11:case 15:Rl(A,N,l),yu(4,N);break;case 1:if(Rl(A,N,l),p=N,A=p.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(vt){qr(p,p.return,vt)}if(p=N,A=p.updateQueue,A!==null){var ce=p.stateNode;try{var je=A.shared.hiddenCallbacks;if(je!==null)for(A.shared.hiddenCallbacks=null,A=0;A<je.length;A++)Kf(je[A],ce)}catch(vt){qr(p,p.return,vt)}}l&&Z&64&&Dh(N),mu(N,N.return);break;case 27:Mh(N);case 26:case 5:Rl(A,N,l),l&&p===null&&Z&4&&Uh(N),mu(N,N.return);break;case 12:Rl(A,N,l);break;case 13:Rl(A,N,l),l&&Z&4&&Bh(A,N);break;case 22:N.memoizedState===null&&Rl(A,N,l),mu(N,N.return);break;case 30:break;default:Rl(A,N,l)}i=i.sibling}}function cy(n,i){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Zl(l))}function Hh(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Zl(n))}function Ka(n,i,l,p){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Tl(n,i,l,p),i=i.sibling}function Tl(n,i,l,p){var A=i.flags;switch(i.tag){case 0:case 11:case 15:Ka(n,i,l,p),A&2048&&yu(9,i);break;case 1:Ka(n,i,l,p);break;case 3:Ka(n,i,l,p),A&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Zl(n)));break;case 12:if(A&2048){Ka(n,i,l,p),n=i.stateNode;try{var N=i.memoizedProps,Z=N.id,ce=N.onPostCommit;typeof ce=="function"&&ce(Z,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(je){qr(i,i.return,je)}}else Ka(n,i,l,p);break;case 13:Ka(n,i,l,p);break;case 23:break;case 22:N=i.stateNode,Z=i.alternate,i.memoizedState!==null?N._visibility&2?Ka(n,i,l,p):Jc(n,i):N._visibility&2?Ka(n,i,l,p):(N._visibility|=2,bu(n,i,l,p,(i.subtreeFlags&10256)!==0)),A&2048&&cy(Z,i);break;case 24:Ka(n,i,l,p),A&2048&&Hh(i.alternate,i);break;default:Ka(n,i,l,p)}}function bu(n,i,l,p,A){for(A=A&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var N=n,Z=i,ce=l,je=p,vt=Z.flags;switch(Z.tag){case 0:case 11:case 15:bu(N,Z,ce,je,A),yu(8,Z);break;case 23:break;case 22:var Ft=Z.stateNode;Z.memoizedState!==null?Ft._visibility&2?bu(N,Z,ce,je,A):Jc(N,Z):(Ft._visibility|=2,bu(N,Z,ce,je,A)),A&&vt&2048&&cy(Z.alternate,Z);break;case 24:bu(N,Z,ce,je,A),A&&vt&2048&&Hh(Z.alternate,Z);break;default:bu(N,Z,ce,je,A)}i=i.sibling}}function Jc(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=n,p=i,A=p.flags;switch(p.tag){case 22:Jc(l,p),A&2048&&cy(p.alternate,p);break;case 24:Jc(l,p),A&2048&&Hh(p.alternate,p);break;default:Jc(l,p)}i=i.sibling}}var Yc=8192;function Wo(n){if(n.subtreeFlags&Yc)for(n=n.child;n!==null;)Vh(n),n=n.sibling}function Vh(n){switch(n.tag){case 26:Wo(n),n.flags&Yc&&n.memoizedState!==null&&lT($a,n.memoizedState,n.memoizedProps);break;case 5:Wo(n);break;case 3:case 4:var i=$a;$a=Cy(n.stateNode.containerInfo),Wo(n),$a=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Yc,Yc=16777216,Wo(n),Yc=i):Wo(n));break;default:Wo(n)}}function $h(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Xc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var p=i[l];bi=p,fy(p,n)}$h(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Kh(n),n=n.sibling}function Kh(n){switch(n.tag){case 0:case 11:case 15:Xc(n),n.flags&2048&&oo(9,n,n.return);break;case 3:Xc(n);break;case 12:Xc(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,vd(n)):Xc(n);break;default:Xc(n)}}function vd(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var p=i[l];bi=p,fy(p,n)}$h(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:oo(8,i,i.return),vd(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,vd(i));break;default:vd(i)}n=n.sibling}}function fy(n,i){for(;bi!==null;){var l=bi;switch(l.tag){case 0:case 11:case 15:oo(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var p=l.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Zl(l.memoizedState.cache)}if(p=l.child,p!==null)p.return=l,bi=p;else e:for(l=n;bi!==null;){p=bi;var A=p.sibling,N=p.return;if(yd(p),p===l){bi=null;break e}if(A!==null){A.return=N,bi=A;break e}bi=N}}}var Gh={getCacheForType:function(n){var i=Di(mn),l=i.data.get(n);return l===void 0&&(l=n(),i.data.set(n,l)),l}},s0=typeof WeakMap=="function"?WeakMap:Map,Vr=0,Zr=null,mr=null,Er=0,Br=0,Wi=null,lo=!1,Sa=!1,Qc=!1,Io=0,ui=0,Po=0,Ss=0,bd=0,oa=0,Cl=0,Zc=null,Ji=null,As=!1,wd=0,Jo=1/0,wu=null,xs=null,Ti=0,Yo=null,_u=null,Ol=0,ef=0,qh=null,_d=null,tf=0,nf=null;function Yi(){if((Vr&2)!==0&&Er!==0)return Er&-Er;if(Ie.T!==null){var n=ka;return n!==0?n:rp()}return ye()}function Ed(){oa===0&&(oa=(Er&536870912)===0||Dr?bt():536870912);var n=Ii.current;return n!==null&&(n.flags|=32),oa}function Mi(n,i,l){(n===Zr&&(Br===2||Br===9)||n.cancelPendingCommit!==null)&&(Rs(n,0),No(n,Er,oa,!1)),pt(n,l),((Vr&2)===0||n!==Zr)&&(n===Zr&&((Vr&2)===0&&(Ss|=l),ui===4&&No(n,Er,oa,!1)),uo(n))}function Sd(n,i,l){if((Vr&6)!==0)throw Error(a(327));var p=!l&&(i&124)===0&&(i&n.expiredLanes)===0||sn(n,i),A=p?hy(n,i):Jh(n,i,!0),N=p;do{if(A===0){Sa&&!p&&No(n,i,0,!1);break}else{if(l=n.current.alternate,N&&!xd(l)){A=Jh(n,i,!1),N=!1;continue}if(A===2){if(N=i,n.errorRecoveryDisabledLanes&N)var Z=0;else Z=n.pendingLanes&-536870913,Z=Z!==0?Z:Z&536870912?536870912:0;if(Z!==0){i=Z;e:{var ce=n;A=Zc;var je=ce.current.memoizedState.isDehydrated;if(je&&(Rs(ce,Z).flags|=256),Z=Jh(ce,Z,!1),Z!==2){if(Qc&&!je){ce.errorRecoveryDisabledLanes|=N,Ss|=N,A=4;break e}N=Ji,Ji=A,N!==null&&(Ji===null?Ji=N:Ji.push.apply(Ji,N))}A=Z}if(N=!1,A!==2)continue}}if(A===1){Rs(n,0),No(n,i,0,!0);break}e:{switch(p=n,N=A,N){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:No(p,i,oa,!lo);break e;case 2:Ji=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(A=wd+300-Oe(),10<A)){if(No(p,i,oa,!lo),Vn(p,0,!0)!==0)break e;p.timeoutHandle=$r(Ad.bind(null,p,l,Ji,wu,As,i,oa,Ss,Cl,lo,N,2,-0,0),A);break e}Ad(p,l,Ji,wu,As,i,oa,Ss,Cl,lo,N,0,-0,0)}}break}while(!0);uo(n)}function Ad(n,i,l,p,A,N,Z,ce,je,vt,Ft,Bt,Et,xt){if(n.timeoutHandle=-1,Bt=i.subtreeFlags,(Bt&8192||(Bt&16785408)===16785408)&&(dp={stylesheets:null,count:0,unsuspend:sT},Vh(i),Bt=uT(),Bt!==null)){n.cancelPendingCommit=Bt(vy.bind(null,n,i,N,l,p,A,Z,ce,je,Ft,1,Et,xt)),No(n,N,Z,!vt);return}vy(n,i,N,l,p,A,Z,ce,je)}function xd(n){for(var i=n;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var p=0;p<l.length;p++){var A=l[p],N=A.getSnapshot;A=A.value;try{if(!Oi(N(),A))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function No(n,i,l,p){i&=~bd,i&=~Ss,n.suspendedLanes|=i,n.pingedLanes&=~i,p&&(n.warmLanes|=i),p=n.expirationTimes;for(var A=i;0<A;){var N=31-V(A),Z=1<<N;p[N]=-1,A&=~Z}l!==0&&zt(n,l,i)}function Eu(){return(Vr&6)===0?(Cu(0),!1):!0}function Su(){if(mr!==null){if(Br===0)var n=mr.return;else n=mr,ko=Qs=null,zi(n),Ha=null,ra=0,n=mr;for(;n!==null;)Fh(n.alternate,n),n=n.return;mr=null}}function Rs(n,i){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,An(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Su(),Zr=n,mr=l=Ma(n.current,null),Er=i,Br=0,Wi=null,lo=!1,Sa=sn(n,i),Qc=!1,Cl=oa=bd=Ss=Po=ui=0,Ji=Zc=null,As=!1,(i&8)!==0&&(i|=i&32);var p=n.entangledLanes;if(p!==0)for(n=n.entanglements,p&=i;0<p;){var A=31-V(p),N=1<<A;i|=n[A],p&=~N}return Io=i,Lf(),l}function dy(n,i){ar=null,Ie.H=Ro,i===io||i===el?(i=nl(),Br=3):i===eu?(i=nl(),Br=4):Br=i===r0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Wi=i,mr===null&&(ui=1,xh(n,Ua(i,n.current)))}function zh(){var n=Ie.H;return Ie.H=Ro,n===null?Ro:n}function Au(){var n=Ie.A;return Ie.A=Gh,n}function Wh(){ui=4,lo||(Er&4194048)!==Er&&Ii.current!==null||(Sa=!0),(Po&134217727)===0&&(Ss&134217727)===0||Zr===null||No(Zr,Er,oa,!1)}function Jh(n,i,l){var p=Vr;Vr|=2;var A=zh(),N=Au();(Zr!==n||Er!==i)&&(wu=null,Rs(n,i)),i=!1;var Z=ui;e:do try{if(Br!==0&&mr!==null){var ce=mr,je=Wi;switch(Br){case 8:Su(),Z=6;break e;case 3:case 2:case 9:case 6:Ii.current===null&&(i=!0);var vt=Br;if(Br=0,Wi=null,xu(n,ce,je,vt),l&&Sa){Z=0;break e}break;default:vt=Br,Br=0,Wi=null,xu(n,ce,je,vt)}}Rd(),Z=ui;break}catch(Ft){dy(n,Ft)}while(!0);return i&&n.shellSuspendCounter++,ko=Qs=null,Vr=p,Ie.H=A,Ie.A=N,mr===null&&(Zr=null,Er=0,Lf()),Z}function Rd(){for(;mr!==null;)gy(mr)}function hy(n,i){var l=Vr;Vr|=2;var p=zh(),A=Au();Zr!==n||Er!==i?(wu=null,Jo=Oe()+500,Rs(n,i)):Sa=sn(n,i);e:do try{if(Br!==0&&mr!==null){i=mr;var N=Wi;t:switch(Br){case 1:Br=0,Wi=null,xu(n,i,N,1);break;case 2:case 9:if(tl(N)){Br=0,Wi=null,yy(i);break}i=function(){Br!==2&&Br!==9||Zr!==n||(Br=7),uo(n)},N.then(i,i);break e;case 3:Br=7;break e;case 4:Br=5;break e;case 7:tl(N)?(Br=0,Wi=null,yy(i)):(Br=0,Wi=null,xu(n,i,N,7));break;case 5:var Z=null;switch(mr.tag){case 26:Z=mr.memoizedState;case 5:case 27:var ce=mr;if(!Z||Lw(Z)){Br=0,Wi=null;var je=ce.sibling;if(je!==null)mr=je;else{var vt=ce.return;vt!==null?(mr=vt,rf(vt)):mr=null}break t}}Br=0,Wi=null,xu(n,i,N,5);break;case 6:Br=0,Wi=null,xu(n,i,N,6);break;case 8:Su(),ui=6;break e;default:throw Error(a(462))}}py();break}catch(Ft){dy(n,Ft)}while(!0);return ko=Qs=null,Ie.H=p,Ie.A=A,Vr=l,mr!==null?0:(Zr=null,Er=0,Lf(),ui)}function py(){for(;mr!==null&&!ne();)gy(mr)}function gy(n){var i=Nh(n.alternate,n,Io);n.memoizedProps=n.pendingProps,i===null?rf(n):mr=i}function yy(n){var i=n,l=i.alternate;switch(i.tag){case 15:case 0:i=Th(l,i,i.pendingProps,i.type,void 0,Er);break;case 11:i=Th(l,i,i.pendingProps,i.type.render,i.ref,Er);break;case 5:zi(i);default:Fh(l,i),i=mr=lh(i,Io),i=Nh(l,i,Io)}n.memoizedProps=n.pendingProps,i===null?rf(n):mr=i}function xu(n,i,l,p){ko=Qs=null,zi(i),Ha=null,ra=0;var A=i.return;try{if(Rw(n,A,i,l,Er)){ui=1,xh(n,Ua(l,n.current)),mr=null;return}}catch(N){if(A!==null)throw mr=A,N;ui=1,xh(n,Ua(l,n.current)),mr=null;return}i.flags&32768?(Dr||p===1?n=!0:Sa||(Er&536870912)!==0?n=!1:(lo=n=!0,(p===2||p===9||p===3||p===6)&&(p=Ii.current,p!==null&&p.tag===13&&(p.flags|=16384))),my(i,n)):rf(i)}function rf(n){var i=n;do{if((i.flags&32768)!==0){my(i,lo);return}n=i.return;var l=cd(i.alternate,i,Io);if(l!==null){mr=l;return}if(i=i.sibling,i!==null){mr=i;return}mr=i=n}while(i!==null);ui===0&&(ui=5)}function my(n,i){do{var l=ly(n.alternate,n);if(l!==null){l.flags&=32767,mr=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(n=n.sibling,n!==null)){mr=n;return}mr=n=l}while(n!==null);ui=6,mr=null}function vy(n,i,l,p,A,N,Z,ce,je){n.cancelPendingCommit=null;do Il();while(Ti!==0);if((Vr&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(N=i.lanes|i.childLanes,N|=Uf,Qt(n,l,N,Z,ce,je),n===Zr&&(mr=Zr=null,Er=0),_u=i,Yo=n,Ol=l,ef=N,qh=A,_d=p,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,u0(Ot,function(){return Ru(),null})):(n.callbackNode=null,n.callbackPriority=0),p=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||p){p=Ie.T,Ie.T=null,A=ht.p,ht.p=2,Z=Vr,Vr|=4;try{uy(n,i,l)}finally{Vr=Z,ht.p=A,Ie.T=p}}Ti=1,Yh(),Td(),Xh()}}function Yh(){if(Ti===1){Ti=0;var n=Yo,i=_u,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=Ie.T,Ie.T=null;var p=ht.p;ht.p=2;var A=Vr;Vr|=4;try{jh(i,n);var N=Mt,Z=Da(n.containerInfo),ce=N.focusedElem,je=N.selectionRange;if(Z!==ce&&ce&&ce.ownerDocument&&nh(ce.ownerDocument.documentElement,ce)){if(je!==null&&rh(ce)){var vt=je.start,Ft=je.end;if(Ft===void 0&&(Ft=vt),"selectionStart"in ce)ce.selectionStart=vt,ce.selectionEnd=Math.min(Ft,ce.value.length);else{var Bt=ce.ownerDocument||document,Et=Bt&&Bt.defaultView||window;if(Et.getSelection){var xt=Et.getSelection(),Wn=ce.textContent.length,Hn=Math.min(je.start,Wn),ei=je.end===void 0?Hn:Math.min(je.end,Wn);!xt.extend&&Hn>ei&&(Z=ei,ei=Hn,Hn=Z);var ot=ql(ce,Hn),et=ql(ce,ei);if(ot&&et&&(xt.rangeCount!==1||xt.anchorNode!==ot.node||xt.anchorOffset!==ot.offset||xt.focusNode!==et.node||xt.focusOffset!==et.offset)){var gt=Bt.createRange();gt.setStart(ot.node,ot.offset),xt.removeAllRanges(),Hn>ei?(xt.addRange(gt),xt.extend(et.node,et.offset)):(gt.setEnd(et.node,et.offset),xt.addRange(gt))}}}}for(Bt=[],xt=ce;xt=xt.parentNode;)xt.nodeType===1&&Bt.push({element:xt,left:xt.scrollLeft,top:xt.scrollTop});for(typeof ce.focus=="function"&&ce.focus(),ce=0;ce<Bt.length;ce++){var Lt=Bt[ce];Lt.element.scrollLeft=Lt.left,Lt.element.scrollTop=Lt.top}}Fy=!!Ze,Mt=Ze=null}finally{Vr=A,ht.p=p,Ie.T=l}}n.current=i,Ti=2}}function Td(){if(Ti===2){Ti=0;var n=Yo,i=_u,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=Ie.T,Ie.T=null;var p=ht.p;ht.p=2;var A=Vr;Vr|=4;try{gd(n,i.alternate,i)}finally{Vr=A,ht.p=p,Ie.T=l}}Ti=3}}function Xh(){if(Ti===4||Ti===3){Ti=0,_e();var n=Yo,i=_u,l=Ol,p=_d;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ti=5:(Ti=0,_u=Yo=null,Cd(n,n.pendingLanes));var A=n.pendingLanes;if(A===0&&(xs=null),ue(l),i=i.stateNode,X&&typeof X.onCommitFiberRoot=="function")try{X.onCommitFiberRoot(ft,i,void 0,(i.current.flags&128)===128)}catch{}if(p!==null){i=Ie.T,A=ht.p,ht.p=2,Ie.T=null;try{for(var N=n.onRecoverableError,Z=0;Z<p.length;Z++){var ce=p[Z];N(ce.value,{componentStack:ce.stack})}}finally{Ie.T=i,ht.p=A}}(Ol&3)!==0&&Il(),uo(n),A=n.pendingLanes,(l&4194090)!==0&&(A&42)!==0?n===nf?tf++:(tf=0,nf=n):tf=0,Cu(0)}}function Cd(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Zl(i)))}function Il(n){return Yh(),Td(),Xh(),Ru()}function Ru(){if(Ti!==5)return!1;var n=Yo,i=ef;ef=0;var l=ue(Ol),p=Ie.T,A=ht.p;try{ht.p=32>l?32:l,Ie.T=null,l=qh,qh=null;var N=Yo,Z=Ol;if(Ti=0,_u=Yo=null,Ol=0,(Vr&6)!==0)throw Error(a(331));var ce=Vr;if(Vr|=4,Kh(N.current),Tl(N,N.current,Z,l),Vr=ce,Cu(0,!1),X&&typeof X.onPostCommitFiberRoot=="function")try{X.onPostCommitFiberRoot(ft,N)}catch{}return!0}finally{ht.p=A,Ie.T=p,Cd(n,i)}}function Od(n,i,l){i=Ua(l,i),i=ry(n.stateNode,i,2),n=Eo(n,i,2),n!==null&&(pt(n,2),uo(n))}function qr(n,i,l){if(n.tag===3)Od(n,n,l);else for(;i!==null;){if(i.tag===3){Od(i,n,l);break}else if(i.tag===1){var p=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(xs===null||!xs.has(p))){n=Ua(l,n),l=iy(2),p=Eo(i,l,2),p!==null&&(ay(l,p,i,n),pt(p,2),uo(p));break}}i=i.return}}function Id(n,i,l){var p=n.pingCache;if(p===null){p=n.pingCache=new s0;var A=new Set;p.set(i,A)}else A=p.get(i),A===void 0&&(A=new Set,p.set(i,A));A.has(l)||(Qc=!0,A.add(l),n=Qh.bind(null,n,i,l),i.then(n,n))}function Qh(n,i,l){var p=n.pingCache;p!==null&&p.delete(i),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Zr===n&&(Er&l)===l&&(ui===4||ui===3&&(Er&62914560)===Er&&300>Oe()-wd?(Vr&2)===0&&Rs(n,0):bd|=l,Cl===Er&&(Cl=0)),uo(n)}function Zh(n,i){i===0&&(i=ut()),n=ya(n,i),n!==null&&(pt(n,i),uo(n))}function by(n){var i=n.memoizedState,l=0;i!==null&&(l=i.retryLane),Zh(n,l)}function l0(n,i){var l=0;switch(n.tag){case 13:var p=n.stateNode,A=n.memoizedState;A!==null&&(l=A.retryLane);break;case 19:p=n.stateNode;break;case 22:p=n.stateNode._retryCache;break;default:throw Error(a(314))}p!==null&&p.delete(i),Zh(n,l)}function u0(n,i){return D(n,i)}var af=null,Tu=null,ep=!1,of=!1,tp=!1,Pl=0;function uo(n){n!==Tu&&n.next===null&&(Tu===null?af=Tu=n:Tu=Tu.next=n),of=!0,ep||(ep=!0,c0())}function Cu(n,i){if(!tp&&of){tp=!0;do for(var l=!1,p=af;p!==null;){if(n!==0){var A=p.pendingLanes;if(A===0)var N=0;else{var Z=p.suspendedLanes,ce=p.pingedLanes;N=(1<<31-V(42|n)+1)-1,N&=A&~(Z&~ce),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(l=!0,np(p,N))}else N=Er,N=Vn(p,p===Zr?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||sn(p,N)||(l=!0,np(p,N));p=p.next}while(l);tp=!1}}function Pd(){wy()}function wy(){of=ep=!1;var n=0;Pl!==0&&(Ga()&&(n=Pl),Pl=0);for(var i=Oe(),l=null,p=af;p!==null;){var A=p.next,N=_y(p,i);N===0?(p.next=null,l===null?af=A:l.next=A,A===null&&(Tu=l)):(l=p,(n!==0||(N&3)!==0)&&(of=!0)),p=A}Cu(n)}function _y(n,i){for(var l=n.suspendedLanes,p=n.pingedLanes,A=n.expirationTimes,N=n.pendingLanes&-62914561;0<N;){var Z=31-V(N),ce=1<<Z,je=A[Z];je===-1?((ce&l)===0||(ce&p)!==0)&&(A[Z]=Ge(ce,i)):je<=i&&(n.expiredLanes|=ce),N&=~ce}if(i=Zr,l=Er,l=Vn(n,n===i?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),p=n.callbackNode,l===0||n===i&&(Br===2||Br===9)||n.cancelPendingCommit!==null)return p!==null&&p!==null&&G(p),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||sn(n,l)){if(i=l&-l,i===n.callbackPriority)return i;switch(p!==null&&G(p),ue(l)){case 2:case 8:l=yt;break;case 32:l=Ot;break;case 268435456:l=Xe;break;default:l=Ot}return p=Ou.bind(null,n),l=D(l,p),n.callbackPriority=i,n.callbackNode=l,i}return p!==null&&p!==null&&G(p),n.callbackPriority=2,n.callbackNode=null,2}function Ou(n,i){if(Ti!==0&&Ti!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Il()&&n.callbackNode!==l)return null;var p=Er;return p=Vn(n,n===Zr?p:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),p===0?null:(Sd(n,p,i),_y(n,Oe()),n.callbackNode!=null&&n.callbackNode===l?Ou.bind(null,n):null)}function np(n,i){if(Il())return null;Sd(n,i,!0)}function c0(){wi(function(){(Vr&6)!==0?D(Te,Pd):wy()})}function rp(){return Pl===0&&(Pl=bt()),Pl}function Ey(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:zn(""+n)}function Sy(n,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,n.id&&l.setAttribute("form",n.id),i.parentNode.insertBefore(l,i),n=new FormData(n),l.parentNode.removeChild(l),n}function Ay(n,i,l,p,A){if(i==="submit"&&l&&l.stateNode===A){var N=Ey((A[Zt]||null).action),Z=p.submitter;Z&&(i=(i=Z[Zt]||null)?Ey(i.formAction):Z.getAttribute("formAction"),i!==null&&(N=i,Z=null));var ce=new Pa("action","action",null,p,A);n.push({event:ce,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Pl!==0){var je=Z?Sy(A,Z):new FormData(A);Xf(l,{pending:!0,data:je,method:A.method,action:N},null,je)}}else typeof N=="function"&&(ce.preventDefault(),je=Z?Sy(A,Z):new FormData(A),Xf(l,{pending:!0,data:je,method:A.method,action:N},N,je))},currentTarget:A}]})}}for(var sf=0;sf<Df.length;sf++){var ip=Df[sf],xy=ip.toLowerCase(),Ry=ip[0].toUpperCase()+ip.slice(1);eo(xy,"on"+Ry)}eo(as,"onAnimationEnd"),eo(os,"onAnimationIteration"),eo(Yg,"onAnimationStart"),eo("dblclick","onDoubleClick"),eo("focusin","onFocus"),eo("focusout","onBlur"),eo(Jm,"onTransitionRun"),eo(Ym,"onTransitionStart"),eo(Fr,"onTransitionCancel"),eo(ah,"onTransitionEnd"),Ln("onMouseEnter",["mouseout","mouseover"]),Ln("onMouseLeave",["mouseout","mouseover"]),Ln("onPointerEnter",["pointerout","pointerover"]),Ln("onPointerLeave",["pointerout","pointerover"]),fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lf));function ap(n,i){i=(i&4)!==0;for(var l=0;l<n.length;l++){var p=n[l],A=p.event;p=p.listeners;e:{var N=void 0;if(i)for(var Z=p.length-1;0<=Z;Z--){var ce=p[Z],je=ce.instance,vt=ce.currentTarget;if(ce=ce.listener,je!==N&&A.isPropagationStopped())break e;N=ce,A.currentTarget=vt;try{N(A)}catch(Ft){rd(Ft)}A.currentTarget=null,N=je}else for(Z=0;Z<p.length;Z++){if(ce=p[Z],je=ce.instance,vt=ce.currentTarget,ce=ce.listener,je!==N&&A.isPropagationStopped())break e;N=ce,A.currentTarget=vt;try{N(A)}catch(Ft){rd(Ft)}A.currentTarget=null,N=je}}}}function br(n,i){var l=i[Dn];l===void 0&&(l=i[Dn]=new Set);var p=n+"__bubble";l.has(p)||(Ty(i,n,2,!1),l.add(p))}function op(n,i,l){var p=0;i&&(p|=4),Ty(l,n,p,i)}var Nd="_reactListening"+Math.random().toString(36).slice(2);function sp(n){if(!n[Nd]){n[Nd]=!0,Xn.forEach(function(l){l!=="selectionchange"&&(uf.has(l)||op(l,!1,n),op(l,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Nd]||(i[Nd]=!0,op("selectionchange",!1,i))}}function Ty(n,i,l,p){switch(Vw(i)){case 2:var A=dT;break;case 8:A=hT;break;default:A=g0}l=A.bind(null,i,l,n),A=void 0,!wr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(A=!0),p?A!==void 0?n.addEventListener(i,l,{capture:!0,passive:A}):n.addEventListener(i,l,!0):A!==void 0?n.addEventListener(i,l,{passive:A}):n.addEventListener(i,l,!1)}function lp(n,i,l,p,A){var N=p;if((i&1)===0&&(i&2)===0&&p!==null)e:for(;;){if(p===null)return;var Z=p.tag;if(Z===3||Z===4){var ce=p.stateNode.containerInfo;if(ce===A)break;if(Z===4)for(Z=p.return;Z!==null;){var je=Z.tag;if((je===3||je===4)&&Z.stateNode.containerInfo===A)return;Z=Z.return}for(;ce!==null;){if(Z=xn(ce),Z===null)return;if(je=Z.tag,je===5||je===6||je===26||je===27){p=N=Z;continue e}ce=ce.parentNode}}p=p.return}Ir(function(){var vt=N,Ft=gn(l),Bt=[];e:{var Et=oh.get(n);if(Et!==void 0){var xt=Pa,Wn=n;switch(n){case"keypress":if(Gi(l)===0)break e;case"keydown":case"keyup":xt=Xt;break;case"focusin":Wn="focus",xt=Rt;break;case"focusout":Wn="blur",xt=Rt;break;case"beforeblur":case"afterblur":xt=Rt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xt=fe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xt=ve;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xt=Jn;break;case as:case os:case Yg:xt=Pt;break;case ah:xt=Pn;break;case"scroll":case"scrollend":xt=rs;break;case"wheel":xt=Mn;break;case"copy":case"cut":case"paste":xt=Vt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xt=pn;break;case"toggle":case"beforetoggle":xt=lr}var Hn=(i&4)!==0,ei=!Hn&&(n==="scroll"||n==="scrollend"),ot=Hn?Et!==null?Et+"Capture":null:Et;Hn=[];for(var et=vt,gt;et!==null;){var Lt=et;if(gt=Lt.stateNode,Lt=Lt.tag,Lt!==5&&Lt!==26&&Lt!==27||gt===null||ot===null||(Lt=Qn(et,ot),Lt!=null&&Hn.push(cf(et,Lt,gt))),ei)break;et=et.return}0<Hn.length&&(Et=new xt(Et,Wn,null,l,Ft),Bt.push({event:Et,listeners:Hn}))}}if((i&7)===0){e:{if(Et=n==="mouseover"||n==="pointerover",xt=n==="mouseout"||n==="pointerout",Et&&l!==un&&(Wn=l.relatedTarget||l.fromElement)&&(xn(Wn)||Wn[nn]))break e;if((xt||Et)&&(Et=Ft.window===Ft?Ft:(Et=Ft.ownerDocument)?Et.defaultView||Et.parentWindow:window,xt?(Wn=l.relatedTarget||l.toElement,xt=vt,Wn=Wn?xn(Wn):null,Wn!==null&&(ei=c(Wn),Hn=Wn.tag,Wn!==ei||Hn!==5&&Hn!==27&&Hn!==6)&&(Wn=null)):(xt=null,Wn=vt),xt!==Wn)){if(Hn=fe,Lt="onMouseLeave",ot="onMouseEnter",et="mouse",(n==="pointerout"||n==="pointerover")&&(Hn=pn,Lt="onPointerLeave",ot="onPointerEnter",et="pointer"),ei=xt==null?Et:yn(xt),gt=Wn==null?Et:yn(Wn),Et=new Hn(Lt,et+"leave",xt,l,Ft),Et.target=ei,Et.relatedTarget=gt,Lt=null,xn(Ft)===vt&&(Hn=new Hn(ot,et+"enter",Wn,l,Ft),Hn.target=gt,Hn.relatedTarget=ei,Lt=Hn),ei=Lt,xt&&Wn)t:{for(Hn=xt,ot=Wn,et=0,gt=Hn;gt;gt=Iu(gt))et++;for(gt=0,Lt=ot;Lt;Lt=Iu(Lt))gt++;for(;0<et-gt;)Hn=Iu(Hn),et--;for(;0<gt-et;)ot=Iu(ot),gt--;for(;et--;){if(Hn===ot||ot!==null&&Hn===ot.alternate)break t;Hn=Iu(Hn),ot=Iu(ot)}Hn=null}else Hn=null;xt!==null&&d(Bt,Et,xt,Hn,!1),Wn!==null&&ei!==null&&d(Bt,ei,Wn,Hn,!0)}}e:{if(Et=vt?yn(vt):window,xt=Et.nodeName&&Et.nodeName.toLowerCase(),xt==="select"||xt==="input"&&Et.type==="file")var Sn=Mo;else if(Bs(Et))if(Gl)Sn=tc;else{Sn=Vs;var Sr=If}else xt=Et.nodeName,!xt||xt.toLowerCase()!=="input"||Et.type!=="checkbox"&&Et.type!=="radio"?vt&&At(vt.elementType)&&(Sn=Mo):Sn=ii;if(Sn&&(Sn=Sn(n,vt))){ec(Bt,Sn,l,Ft);break e}Sr&&Sr(n,Et,vt),n==="focusout"&&vt&&Et.type==="number"&&vt.memoizedProps.value!=null&&at(Et,"number",Et.value)}switch(Sr=vt?yn(vt):window,n){case"focusin":(Bs(Sr)||Sr.contentEditable==="true")&&(qi=Sr,Nf=vt,zl=null);break;case"focusout":zl=Nf=qi=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,ga(Bt,l,Ft);break;case"selectionchange":if(Jg)break;case"keydown":case"keyup":ga(Bt,l,Ft)}var In;if(En)e:{switch(n){case"compositionstart":var Kn="onCompositionStart";break e;case"compositionend":Kn="onCompositionEnd";break e;case"compositionupdate":Kn="onCompositionUpdate";break e}Kn=void 0}else Gr?kr(n,l)&&(Kn="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Kn="onCompositionStart");Kn&&(gi&&l.locale!=="ko"&&(Gr||Kn!=="onCompositionStart"?Kn==="onCompositionEnd"&&Gr&&(In=Pr()):(Kr=Ft,Ri="value"in Kr?Kr.value:Kr.textContent,Gr=!0)),Sr=Fd(vt,Kn),0<Sr.length&&(Kn=new Ut(Kn,n,null,l,Ft),Bt.push({event:Kn,listeners:Sr}),In?Kn.data=In:(In=Zn(l),In!==null&&(Kn.data=In)))),(In=Yr?ir(n,l):Na(n,l))&&(Kn=Fd(vt,"onBeforeInput"),0<Kn.length&&(Sr=new Ut("onBeforeInput","beforeinput",null,l,Ft),Bt.push({event:Sr,listeners:Kn}),Sr.data=In)),Ay(Bt,n,vt,l,Ft)}ap(Bt,i)})}function cf(n,i,l){return{instance:n,listener:i,currentTarget:l}}function Fd(n,i){for(var l=i+"Capture",p=[];n!==null;){var A=n,N=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||N===null||(A=Qn(n,l),A!=null&&p.unshift(cf(n,A,N)),A=Qn(n,i),A!=null&&p.push(cf(n,A,N))),n.tag===3)return p;n=n.return}return[]}function Iu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function d(n,i,l,p,A){for(var N=i._reactName,Z=[];l!==null&&l!==p;){var ce=l,je=ce.alternate,vt=ce.stateNode;if(ce=ce.tag,je!==null&&je===p)break;ce!==5&&ce!==26&&ce!==27||vt===null||(je=vt,A?(vt=Qn(l,N),vt!=null&&Z.unshift(cf(l,vt,je))):A||(vt=Qn(l,N),vt!=null&&Z.push(cf(l,vt,je)))),l=l.return}Z.length!==0&&n.push({event:i,listeners:Z})}var y=/\r\n?/g,_=/\u0000|\uFFFD/g;function I(n){return(typeof n=="string"?n:""+n).replace(y,`
`).replace(_,"")}function L(n,i){return i=I(i),I(n)===i}function W(){}function ee(n,i,l,p,A,N){switch(l){case"children":typeof p=="string"?i==="body"||i==="textarea"&&p===""||Se(n,p):(typeof p=="number"||typeof p=="bigint")&&i!=="body"&&Se(n,""+p);break;case"className":Ki(n,"class",p);break;case"tabIndex":Ki(n,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(n,l,p);break;case"style":dt(n,p,N);break;case"data":if(i!=="object"){Ki(n,"data",p);break}case"src":case"href":if(p===""&&(i!=="a"||l!=="href")){n.removeAttribute(l);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){n.removeAttribute(l);break}p=zn(""+p),n.setAttribute(l,p);break;case"action":case"formAction":if(typeof p=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(l==="formAction"?(i!=="input"&&ee(n,i,"name",A.name,A,null),ee(n,i,"formEncType",A.formEncType,A,null),ee(n,i,"formMethod",A.formMethod,A,null),ee(n,i,"formTarget",A.formTarget,A,null)):(ee(n,i,"encType",A.encType,A,null),ee(n,i,"method",A.method,A,null),ee(n,i,"target",A.target,A,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){n.removeAttribute(l);break}p=zn(""+p),n.setAttribute(l,p);break;case"onClick":p!=null&&(n.onclick=W);break;case"onScroll":p!=null&&br("scroll",n);break;case"onScrollEnd":p!=null&&br("scrollend",n);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(a(61));if(l=p.__html,l!=null){if(A.children!=null)throw Error(a(60));n.innerHTML=l}}break;case"multiple":n.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":n.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){n.removeAttribute("xlink:href");break}l=zn(""+p),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?n.setAttribute(l,""+p):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":p===!0?n.setAttribute(l,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?n.setAttribute(l,p):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?n.setAttribute(l,p):n.removeAttribute(l);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?n.removeAttribute(l):n.setAttribute(l,p);break;case"popover":br("beforetoggle",n),br("toggle",n),Tr(n,"popover",p);break;case"xlinkActuate":di(n,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":di(n,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":di(n,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":di(n,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":di(n,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":di(n,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":di(n,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":di(n,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":di(n,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Tr(n,"is",p);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=dn.get(l)||l,Tr(n,l,p))}}function he(n,i,l,p,A,N){switch(l){case"style":dt(n,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(a(61));if(l=p.__html,l!=null){if(A.children!=null)throw Error(a(60));n.innerHTML=l}}break;case"children":typeof p=="string"?Se(n,p):(typeof p=="number"||typeof p=="bigint")&&Se(n,""+p);break;case"onScroll":p!=null&&br("scroll",n);break;case"onScrollEnd":p!=null&&br("scrollend",n);break;case"onClick":p!=null&&(n.onclick=W);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Or.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(A=l.endsWith("Capture"),i=l.slice(2,A?l.length-7:void 0),N=n[Zt]||null,N=N!=null?N[l]:null,typeof N=="function"&&n.removeEventListener(i,N,A),typeof p=="function")){typeof N!="function"&&N!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(i,p,A);break e}l in n?n[l]=p:p===!0?n.setAttribute(l,""):Tr(n,l,p)}}}function Be(n,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":br("error",n),br("load",n);var p=!1,A=!1,N;for(N in l)if(l.hasOwnProperty(N)){var Z=l[N];if(Z!=null)switch(N){case"src":p=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ee(n,i,N,Z,l,null)}}A&&ee(n,i,"srcSet",l.srcSet,l,null),p&&ee(n,i,"src",l.src,l,null);return;case"input":br("invalid",n);var ce=N=Z=A=null,je=null,vt=null;for(p in l)if(l.hasOwnProperty(p)){var Ft=l[p];if(Ft!=null)switch(p){case"name":A=Ft;break;case"type":Z=Ft;break;case"checked":je=Ft;break;case"defaultChecked":vt=Ft;break;case"value":N=Ft;break;case"defaultValue":ce=Ft;break;case"children":case"dangerouslySetInnerHTML":if(Ft!=null)throw Error(a(137,i));break;default:ee(n,i,p,Ft,l,null)}}qe(n,N,ce,je,vt,Z,A,!1),we(n);return;case"select":br("invalid",n),p=Z=N=null;for(A in l)if(l.hasOwnProperty(A)&&(ce=l[A],ce!=null))switch(A){case"value":N=ce;break;case"defaultValue":Z=ce;break;case"multiple":p=ce;default:ee(n,i,A,ce,l,null)}i=N,l=Z,n.multiple=!!p,i!=null?mt(n,!!p,i,!1):l!=null&&mt(n,!!p,l,!0);return;case"textarea":br("invalid",n),N=A=p=null;for(Z in l)if(l.hasOwnProperty(Z)&&(ce=l[Z],ce!=null))switch(Z){case"value":p=ce;break;case"defaultValue":A=ce;break;case"children":N=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(a(91));break;default:ee(n,i,Z,ce,l,null)}ae(n,p,A,N),we(n);return;case"option":for(je in l)if(l.hasOwnProperty(je)&&(p=l[je],p!=null))switch(je){case"selected":n.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ee(n,i,je,p,l,null)}return;case"dialog":br("beforetoggle",n),br("toggle",n),br("cancel",n),br("close",n);break;case"iframe":case"object":br("load",n);break;case"video":case"audio":for(p=0;p<lf.length;p++)br(lf[p],n);break;case"image":br("error",n),br("load",n);break;case"details":br("toggle",n);break;case"embed":case"source":case"link":br("error",n),br("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(vt in l)if(l.hasOwnProperty(vt)&&(p=l[vt],p!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ee(n,i,vt,p,l,null)}return;default:if(At(i)){for(Ft in l)l.hasOwnProperty(Ft)&&(p=l[Ft],p!==void 0&&he(n,i,Ft,p,l,void 0));return}}for(ce in l)l.hasOwnProperty(ce)&&(p=l[ce],p!=null&&ee(n,i,ce,p,l,null))}function Ke(n,i,l,p){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,N=null,Z=null,ce=null,je=null,vt=null,Ft=null;for(xt in l){var Bt=l[xt];if(l.hasOwnProperty(xt)&&Bt!=null)switch(xt){case"checked":break;case"value":break;case"defaultValue":je=Bt;default:p.hasOwnProperty(xt)||ee(n,i,xt,null,p,Bt)}}for(var Et in p){var xt=p[Et];if(Bt=l[Et],p.hasOwnProperty(Et)&&(xt!=null||Bt!=null))switch(Et){case"type":N=xt;break;case"name":A=xt;break;case"checked":vt=xt;break;case"defaultChecked":Ft=xt;break;case"value":Z=xt;break;case"defaultValue":ce=xt;break;case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(a(137,i));break;default:xt!==Bt&&ee(n,i,Et,xt,p,Bt)}}Ue(n,Z,ce,je,vt,Ft,N,A);return;case"select":xt=Z=ce=Et=null;for(N in l)if(je=l[N],l.hasOwnProperty(N)&&je!=null)switch(N){case"value":break;case"multiple":xt=je;default:p.hasOwnProperty(N)||ee(n,i,N,null,p,je)}for(A in p)if(N=p[A],je=l[A],p.hasOwnProperty(A)&&(N!=null||je!=null))switch(A){case"value":Et=N;break;case"defaultValue":ce=N;break;case"multiple":Z=N;default:N!==je&&ee(n,i,A,N,p,je)}i=ce,l=Z,p=xt,Et!=null?mt(n,!!l,Et,!1):!!p!=!!l&&(i!=null?mt(n,!!l,i,!0):mt(n,!!l,l?[]:"",!1));return;case"textarea":xt=Et=null;for(ce in l)if(A=l[ce],l.hasOwnProperty(ce)&&A!=null&&!p.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:ee(n,i,ce,null,p,A)}for(Z in p)if(A=p[Z],N=l[Z],p.hasOwnProperty(Z)&&(A!=null||N!=null))switch(Z){case"value":Et=A;break;case"defaultValue":xt=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:A!==N&&ee(n,i,Z,A,p,N)}St(n,Et,xt);return;case"option":for(var Wn in l)if(Et=l[Wn],l.hasOwnProperty(Wn)&&Et!=null&&!p.hasOwnProperty(Wn))switch(Wn){case"selected":n.selected=!1;break;default:ee(n,i,Wn,null,p,Et)}for(je in p)if(Et=p[je],xt=l[je],p.hasOwnProperty(je)&&Et!==xt&&(Et!=null||xt!=null))switch(je){case"selected":n.selected=Et&&typeof Et!="function"&&typeof Et!="symbol";break;default:ee(n,i,je,Et,p,xt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Hn in l)Et=l[Hn],l.hasOwnProperty(Hn)&&Et!=null&&!p.hasOwnProperty(Hn)&&ee(n,i,Hn,null,p,Et);for(vt in p)if(Et=p[vt],xt=l[vt],p.hasOwnProperty(vt)&&Et!==xt&&(Et!=null||xt!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":if(Et!=null)throw Error(a(137,i));break;default:ee(n,i,vt,Et,p,xt)}return;default:if(At(i)){for(var ei in l)Et=l[ei],l.hasOwnProperty(ei)&&Et!==void 0&&!p.hasOwnProperty(ei)&&he(n,i,ei,void 0,p,Et);for(Ft in p)Et=p[Ft],xt=l[Ft],!p.hasOwnProperty(Ft)||Et===xt||Et===void 0&&xt===void 0||he(n,i,Ft,Et,p,xt);return}}for(var ot in l)Et=l[ot],l.hasOwnProperty(ot)&&Et!=null&&!p.hasOwnProperty(ot)&&ee(n,i,ot,null,p,Et);for(Bt in p)Et=p[Bt],xt=l[Bt],!p.hasOwnProperty(Bt)||Et===xt||Et==null&&xt==null||ee(n,i,Bt,Et,p,xt)}var Ze=null,Mt=null;function Kt(n){return n.nodeType===9?n:n.ownerDocument}function rn(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nn(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function ur(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yn=null;function Ga(){var n=window.event;return n&&n.type==="popstate"?n===Yn?!1:(Yn=n,!0):(Yn=null,!1)}var $r=typeof setTimeout=="function"?setTimeout:void 0,An=typeof clearTimeout=="function"?clearTimeout:void 0,ki=typeof Promise=="function"?Promise:void 0,wi=typeof queueMicrotask=="function"?queueMicrotask:typeof ki<"u"?function(n){return ki.resolve(null).then(n).catch(sa)}:$r;function sa(n){setTimeout(function(){throw n})}function Bi(n){return n==="head"}function Ts(n,i){var l=i,p=0,A=0;do{var N=l.nextSibling;if(n.removeChild(l),N&&N.nodeType===8)if(l=N.data,l==="/$"){if(0<p&&8>p){l=p;var Z=n.ownerDocument;if(l&1&&up(Z.documentElement),l&2&&up(Z.body),l&4)for(l=Z.head,up(l),Z=l.firstChild;Z;){var ce=Z.nextSibling,je=Z.nodeName;Z[on]||je==="SCRIPT"||je==="STYLE"||je==="LINK"&&Z.rel.toLowerCase()==="stylesheet"||l.removeChild(Z),Z=ce}}if(A===0){n.removeChild(N),mp(i);return}A--}else l==="$"||l==="$?"||l==="$!"?A++:p=l.charCodeAt(0)-48;else p=0;l=N}while(l);mp(i)}function co(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":co(l),Un(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function ff(n,i,l,p){for(;n.nodeType===1;){var A=l;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!p&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(p){if(!n[on])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(N=n.getAttribute("rel"),N==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(N!==A.rel||n.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||n.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||n.getAttribute("title")!==(A.title==null?null:A.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(N=n.getAttribute("src"),(N!==(A.src==null?null:A.src)||n.getAttribute("type")!==(A.type==null?null:A.type)||n.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&N&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var N=A.name==null?null:""+A.name;if(A.type==="hidden"&&n.getAttribute("name")===N)return n}else return n;if(n=or(n.nextSibling),n===null)break}return null}function df(n,i,l){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=or(n.nextSibling),n===null))return null;return n}function Nl(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function On(n,i){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")i();else{var p=function(){i(),l.removeEventListener("DOMContentLoaded",p)};l.addEventListener("DOMContentLoaded",p),n._reactRetry=p}}function or(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Xo=null;function Tw(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return n;i--}else l==="/$"&&i++}n=n.previousSibling}return null}function Cw(n,i,l){switch(i=Kt(l),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function up(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Un(n)}var Fo=new Map,Ow=new Set;function Cy(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Fl=ht.d;ht.d={f:YR,r:XR,D:QR,C:ZR,L:eT,m:tT,X:rT,S:nT,M:iT};function YR(){var n=Fl.f(),i=Eu();return n||i}function XR(n){var i=qn(n);i!==null&&i.tag===5&&i.type==="form"?Qf(i):Fl.r(n)}var Dd=typeof document>"u"?null:document;function Iw(n,i,l){var p=Dd;if(p&&typeof i=="string"&&i){var A=xe(i);A='link[rel="'+n+'"][href="'+A+'"]',typeof l=="string"&&(A+='[crossorigin="'+l+'"]'),Ow.has(A)||(Ow.add(A),n={rel:n,crossOrigin:l,href:i},p.querySelector(A)===null&&(i=p.createElement("link"),Be(i,"link",n),Gt(i),p.head.appendChild(i)))}}function QR(n){Fl.D(n),Iw("dns-prefetch",n,null)}function ZR(n,i){Fl.C(n,i),Iw("preconnect",n,i)}function eT(n,i,l){Fl.L(n,i,l);var p=Dd;if(p&&n&&i){var A='link[rel="preload"][as="'+xe(i)+'"]';i==="image"&&l&&l.imageSrcSet?(A+='[imagesrcset="'+xe(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(A+='[imagesizes="'+xe(l.imageSizes)+'"]')):A+='[href="'+xe(n)+'"]';var N=A;switch(i){case"style":N=Ud(n);break;case"script":N=Ld(n)}Fo.has(N)||(n=g({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:n,as:i},l),Fo.set(N,n),p.querySelector(A)!==null||i==="style"&&p.querySelector(cp(N))||i==="script"&&p.querySelector(fp(N))||(i=p.createElement("link"),Be(i,"link",n),Gt(i),p.head.appendChild(i)))}}function tT(n,i){Fl.m(n,i);var l=Dd;if(l&&n){var p=i&&typeof i.as=="string"?i.as:"script",A='link[rel="modulepreload"][as="'+xe(p)+'"][href="'+xe(n)+'"]',N=A;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Ld(n)}if(!Fo.has(N)&&(n=g({rel:"modulepreload",href:n},i),Fo.set(N,n),l.querySelector(A)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(fp(N)))return}p=l.createElement("link"),Be(p,"link",n),Gt(p),l.head.appendChild(p)}}}function nT(n,i,l){Fl.S(n,i,l);var p=Dd;if(p&&n){var A=ln(p).hoistableStyles,N=Ud(n);i=i||"default";var Z=A.get(N);if(!Z){var ce={loading:0,preload:null};if(Z=p.querySelector(cp(N)))ce.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":i},l),(l=Fo.get(N))&&f0(n,l);var je=Z=p.createElement("link");Gt(je),Be(je,"link",n),je._p=new Promise(function(vt,Ft){je.onload=vt,je.onerror=Ft}),je.addEventListener("load",function(){ce.loading|=1}),je.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,Oy(Z,i,p)}Z={type:"stylesheet",instance:Z,count:1,state:ce},A.set(N,Z)}}}function rT(n,i){Fl.X(n,i);var l=Dd;if(l&&n){var p=ln(l).hoistableScripts,A=Ld(n),N=p.get(A);N||(N=l.querySelector(fp(A)),N||(n=g({src:n,async:!0},i),(i=Fo.get(A))&&d0(n,i),N=l.createElement("script"),Gt(N),Be(N,"link",n),l.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(A,N))}}function iT(n,i){Fl.M(n,i);var l=Dd;if(l&&n){var p=ln(l).hoistableScripts,A=Ld(n),N=p.get(A);N||(N=l.querySelector(fp(A)),N||(n=g({src:n,async:!0,type:"module"},i),(i=Fo.get(A))&&d0(n,i),N=l.createElement("script"),Gt(N),Be(N,"link",n),l.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(A,N))}}function Pw(n,i,l,p){var A=(A=kt.current)?Cy(A):null;if(!A)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Ud(l.href),l=ln(A).hoistableStyles,p=l.get(i),p||(p={type:"style",instance:null,count:0,state:null},l.set(i,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Ud(l.href);var N=ln(A).hoistableStyles,Z=N.get(n);if(Z||(A=A.ownerDocument||A,Z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(n,Z),(N=A.querySelector(cp(n)))&&!N._p&&(Z.instance=N,Z.state.loading=5),Fo.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Fo.set(n,l),N||aT(A,n,l,Z.state))),i&&p===null)throw Error(a(528,""));return Z}if(i&&p!==null)throw Error(a(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ld(l),l=ln(A).hoistableScripts,p=l.get(i),p||(p={type:"script",instance:null,count:0,state:null},l.set(i,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Ud(n){return'href="'+xe(n)+'"'}function cp(n){return'link[rel="stylesheet"]['+n+"]"}function Nw(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function aT(n,i,l,p){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?p.loading=1:(i=n.createElement("link"),p.preload=i,i.addEventListener("load",function(){return p.loading|=1}),i.addEventListener("error",function(){return p.loading|=2}),Be(i,"link",l),Gt(i),n.head.appendChild(i))}function Ld(n){return'[src="'+xe(n)+'"]'}function fp(n){return"script[async]"+n}function Fw(n,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var p=n.querySelector('style[data-href~="'+xe(l.href)+'"]');if(p)return i.instance=p,Gt(p),p;var A=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return p=(n.ownerDocument||n).createElement("style"),Gt(p),Be(p,"style",A),Oy(p,l.precedence,n),i.instance=p;case"stylesheet":A=Ud(l.href);var N=n.querySelector(cp(A));if(N)return i.state.loading|=4,i.instance=N,Gt(N),N;p=Nw(l),(A=Fo.get(A))&&f0(p,A),N=(n.ownerDocument||n).createElement("link"),Gt(N);var Z=N;return Z._p=new Promise(function(ce,je){Z.onload=ce,Z.onerror=je}),Be(N,"link",p),i.state.loading|=4,Oy(N,l.precedence,n),i.instance=N;case"script":return N=Ld(l.src),(A=n.querySelector(fp(N)))?(i.instance=A,Gt(A),A):(p=l,(A=Fo.get(N))&&(p=g({},l),d0(p,A)),n=n.ownerDocument||n,A=n.createElement("script"),Gt(A),Be(A,"link",p),n.head.appendChild(A),i.instance=A);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(p=i.instance,i.state.loading|=4,Oy(p,l.precedence,n));return i.instance}function Oy(n,i,l){for(var p=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=p.length?p[p.length-1]:null,N=A,Z=0;Z<p.length;Z++){var ce=p[Z];if(ce.dataset.precedence===i)N=ce;else if(N!==A)break}N?N.parentNode.insertBefore(n,N.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(n,i.firstChild))}function f0(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function d0(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Iy=null;function Dw(n,i,l){if(Iy===null){var p=new Map,A=Iy=new Map;A.set(l,p)}else A=Iy,p=A.get(l),p||(p=new Map,A.set(l,p));if(p.has(n))return p;for(p.set(n,null),l=l.getElementsByTagName(n),A=0;A<l.length;A++){var N=l[A];if(!(N[on]||N[Nt]||n==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var Z=N.getAttribute(i)||"";Z=n+Z;var ce=p.get(Z);ce?ce.push(N):p.set(Z,[N])}}return p}function Uw(n,i,l){n=n.ownerDocument||n,n.head.insertBefore(l,i==="title"?n.querySelector("head > title"):null)}function oT(n,i,l){if(l===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Lw(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var dp=null;function sT(){}function lT(n,i,l){if(dp===null)throw Error(a(475));var p=dp;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var A=Ud(l.href),N=n.querySelector(cp(A));if(N){n=N._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(p.count++,p=Py.bind(p),n.then(p,p)),i.state.loading|=4,i.instance=N,Gt(N);return}N=n.ownerDocument||n,l=Nw(l),(A=Fo.get(A))&&f0(l,A),N=N.createElement("link"),Gt(N);var Z=N;Z._p=new Promise(function(ce,je){Z.onload=ce,Z.onerror=je}),Be(N,"link",l),i.instance=N}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(p.count++,i=Py.bind(p),n.addEventListener("load",i),n.addEventListener("error",i))}}function uT(){if(dp===null)throw Error(a(475));var n=dp;return n.stylesheets&&n.count===0&&h0(n,n.stylesheets),0<n.count?function(i){var l=setTimeout(function(){if(n.stylesheets&&h0(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(l)}}:null}function Py(){if(this.count--,this.count===0){if(this.stylesheets)h0(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ny=null;function h0(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ny=new Map,i.forEach(cT,n),Ny=null,Py.call(n))}function cT(n,i){if(!(i.state.loading&4)){var l=Ny.get(n);if(l)var p=l.get(null);else{l=new Map,Ny.set(n,l);for(var A=n.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<A.length;N++){var Z=A[N];(Z.nodeName==="LINK"||Z.getAttribute("media")!=="not all")&&(l.set(Z.dataset.precedence,Z),p=Z)}p&&l.set(null,p)}A=i.instance,Z=A.getAttribute("data-precedence"),N=l.get(Z)||p,N===p&&l.set(null,A),l.set(Z,A),this.count++,p=Py.bind(this),A.addEventListener("load",p),A.addEventListener("error",p),N?N.parentNode.insertBefore(A,N.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(A,n.firstChild)),i.state.loading|=4}}var hp={$$typeof:P,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function fT(n,i,l,p,A,N,Z,ce){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Me(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Me(0),this.hiddenUpdates=Me(null),this.identifierPrefix=p,this.onUncaughtError=A,this.onCaughtError=N,this.onRecoverableError=Z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ce,this.incompleteTransitions=new Map}function Mw(n,i,l,p,A,N,Z,ce,je,vt,Ft,Bt){return n=new fT(n,i,l,Z,ce,je,vt,Bt),i=1,N===!0&&(i|=24),N=mi(3,null,null,i),n.current=N,N.stateNode=n,i=Ei(),i.refCount++,n.pooledCache=i,i.refCount++,N.memoizedState={element:p,isDehydrated:l,cache:i},ao(N),n}function kw(n){return n?(n=Jl,n):Jl}function Bw(n,i,l,p,A,N){A=kw(A),p.context===null?p.context=A:p.pendingContext=A,p=ba(i),p.payload={element:l},N=N===void 0?null:N,N!==null&&(p.callback=N),l=Eo(n,p,i),l!==null&&(Mi(l,n,i),Ho(l,n,i))}function jw(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<i?l:i}}function p0(n,i){jw(n,i),(n=n.alternate)&&jw(n,i)}function Hw(n){if(n.tag===13){var i=ya(n,67108864);i!==null&&Mi(i,n,67108864),p0(n,67108864)}}var Fy=!0;function dT(n,i,l,p){var A=Ie.T;Ie.T=null;var N=ht.p;try{ht.p=2,g0(n,i,l,p)}finally{ht.p=N,Ie.T=A}}function hT(n,i,l,p){var A=Ie.T;Ie.T=null;var N=ht.p;try{ht.p=8,g0(n,i,l,p)}finally{ht.p=N,Ie.T=A}}function g0(n,i,l,p){if(Fy){var A=y0(p);if(A===null)lp(n,i,p,Dy,l),$w(n,p);else if(gT(A,n,i,l,p))p.stopPropagation();else if($w(n,p),i&4&&-1<pT.indexOf(n)){for(;A!==null;){var N=qn(A);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var Z=jn(N.pendingLanes);if(Z!==0){var ce=N;for(ce.pendingLanes|=2,ce.entangledLanes|=2;Z;){var je=1<<31-V(Z);ce.entanglements[1]|=je,Z&=~je}uo(N),(Vr&6)===0&&(Jo=Oe()+500,Cu(0))}}break;case 13:ce=ya(N,2),ce!==null&&Mi(ce,N,2),Eu(),p0(N,2)}if(N=y0(p),N===null&&lp(n,i,p,Dy,l),N===A)break;A=N}A!==null&&p.stopPropagation()}else lp(n,i,p,null,l)}}function y0(n){return n=gn(n),m0(n)}var Dy=null;function m0(n){if(Dy=null,n=xn(n),n!==null){var i=c(n);if(i===null)n=null;else{var l=i.tag;if(l===13){if(n=s(i),n!==null)return n;n=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Dy=n,null}function Vw(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case Te:return 2;case yt:return 8;case Ot:case wt:return 32;case Xe:return 268435456;default:return 32}default:return 32}}var v0=!1,Pu=null,Nu=null,Fu=null,pp=new Map,gp=new Map,Du=[],pT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $w(n,i){switch(n){case"focusin":case"focusout":Pu=null;break;case"dragenter":case"dragleave":Nu=null;break;case"mouseover":case"mouseout":Fu=null;break;case"pointerover":case"pointerout":pp.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":gp.delete(i.pointerId)}}function yp(n,i,l,p,A,N){return n===null||n.nativeEvent!==N?(n={blockedOn:i,domEventName:l,eventSystemFlags:p,nativeEvent:N,targetContainers:[A]},i!==null&&(i=qn(i),i!==null&&Hw(i)),n):(n.eventSystemFlags|=p,i=n.targetContainers,A!==null&&i.indexOf(A)===-1&&i.push(A),n)}function gT(n,i,l,p,A){switch(i){case"focusin":return Pu=yp(Pu,n,i,l,p,A),!0;case"dragenter":return Nu=yp(Nu,n,i,l,p,A),!0;case"mouseover":return Fu=yp(Fu,n,i,l,p,A),!0;case"pointerover":var N=A.pointerId;return pp.set(N,yp(pp.get(N)||null,n,i,l,p,A)),!0;case"gotpointercapture":return N=A.pointerId,gp.set(N,yp(gp.get(N)||null,n,i,l,p,A)),!0}return!1}function Kw(n){var i=xn(n.target);if(i!==null){var l=c(i);if(l!==null){if(i=l.tag,i===13){if(i=s(l),i!==null){n.blockedOn=i,Ct(n.priority,function(){if(l.tag===13){var p=Yi();p=Ht(p);var A=ya(l,p);A!==null&&Mi(A,l,p),p0(l,p)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Uy(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var l=y0(n.nativeEvent);if(l===null){l=n.nativeEvent;var p=new l.constructor(l.type,l);un=p,l.target.dispatchEvent(p),un=null}else return i=qn(l),i!==null&&Hw(i),n.blockedOn=l,!1;i.shift()}return!0}function Gw(n,i,l){Uy(n)&&l.delete(i)}function yT(){v0=!1,Pu!==null&&Uy(Pu)&&(Pu=null),Nu!==null&&Uy(Nu)&&(Nu=null),Fu!==null&&Uy(Fu)&&(Fu=null),pp.forEach(Gw),gp.forEach(Gw)}function Ly(n,i){n.blockedOn===i&&(n.blockedOn=null,v0||(v0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yT)))}var My=null;function qw(n){My!==n&&(My=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){My===n&&(My=null);for(var i=0;i<n.length;i+=3){var l=n[i],p=n[i+1],A=n[i+2];if(typeof p!="function"){if(m0(p||l)===null)continue;break}var N=qn(l);N!==null&&(n.splice(i,3),i-=3,Xf(N,{pending:!0,data:A,method:l.method,action:p},p,A))}}))}function mp(n){function i(je){return Ly(je,n)}Pu!==null&&Ly(Pu,n),Nu!==null&&Ly(Nu,n),Fu!==null&&Ly(Fu,n),pp.forEach(i),gp.forEach(i);for(var l=0;l<Du.length;l++){var p=Du[l];p.blockedOn===n&&(p.blockedOn=null)}for(;0<Du.length&&(l=Du[0],l.blockedOn===null);)Kw(l),l.blockedOn===null&&Du.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(p=0;p<l.length;p+=3){var A=l[p],N=l[p+1],Z=A[Zt]||null;if(typeof N=="function")Z||qw(l);else if(Z){var ce=null;if(N&&N.hasAttribute("formAction")){if(A=N,Z=N[Zt]||null)ce=Z.formAction;else if(m0(A)!==null)continue}else ce=Z.action;typeof ce=="function"?l[p+1]=ce:(l.splice(p,3),p-=3),qw(l)}}}function b0(n){this._internalRoot=n}ky.prototype.render=b0.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var l=i.current,p=Yi();Bw(l,p,n,i,null,null)},ky.prototype.unmount=b0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Bw(n.current,2,null,n,null,null),Eu(),i[nn]=null}};function ky(n){this._internalRoot=n}ky.prototype.unstable_scheduleHydration=function(n){if(n){var i=ye();n={blockedOn:null,target:n,priority:i};for(var l=0;l<Du.length&&i!==0&&i<Du[l].priority;l++);Du.splice(l,0,n),l===0&&Kw(n)}};var zw=t.version;if(zw!=="19.1.0")throw Error(a(527,zw,"19.1.0"));ht.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=h(i),n=n!==null?f(n):null,n=n===null?null:n.stateNode,n};var mT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Ie,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var By=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!By.isDisabled&&By.supportsFiber)try{ft=By.inject(mT),X=By}catch{}}return bp.createRoot=function(n,i){if(!o(n))throw Error(a(299));var l=!1,p="",A=Zm,N=e0,Z=t0,ce=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onUncaughtError!==void 0&&(A=i.onUncaughtError),i.onCaughtError!==void 0&&(N=i.onCaughtError),i.onRecoverableError!==void 0&&(Z=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(ce=i.unstable_transitionCallbacks)),i=Mw(n,1,!1,null,null,l,p,A,N,Z,ce,null),n[nn]=i.current,sp(n),new b0(i)},bp.hydrateRoot=function(n,i,l){if(!o(n))throw Error(a(299));var p=!1,A="",N=Zm,Z=e0,ce=t0,je=null,vt=null;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(A=l.identifierPrefix),l.onUncaughtError!==void 0&&(N=l.onUncaughtError),l.onCaughtError!==void 0&&(Z=l.onCaughtError),l.onRecoverableError!==void 0&&(ce=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(je=l.unstable_transitionCallbacks),l.formState!==void 0&&(vt=l.formState)),i=Mw(n,1,!0,i,l??null,p,A,N,Z,ce,je,vt),i.context=kw(null),l=i.current,p=Yi(),p=Ht(p),A=ba(p),A.callback=null,Eo(l,A,p),l=p,i.current.lanes=l,pt(i,l),uo(i),n[nn]=i.current,sp(n),new ky(i)},bp.version="19.1.0",bp}var i_;function RT(){if(i_)return E0.exports;i_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),E0.exports=xT(),E0.exports}var TT=RT(),rm={exports:{}},it={},hf={},wp={},R0={},_p={},a_;function CT(){if(a_)return _p;a_=1,_p.byteLength=u,_p.toByteArray=f,_p.fromByteArray=w;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,c=a.length;o<c;++o)e[o]=a[o],t[a.charCodeAt(o)]=o;t[45]=62,t[95]=63;function s(S){var T=S.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=S.indexOf("=");R===-1&&(R=T);var C=R===T?0:4-R%4;return[R,C]}function u(S){var T=s(S),R=T[0],C=T[1];return(R+C)*3/4-C}function h(S,T,R){return(T+R)*3/4-R}function f(S){var T,R=s(S),C=R[0],x=R[1],F=new r(h(S,C,x)),P=0,K=x>0?C-4:C,M;for(M=0;M<K;M+=4)T=t[S.charCodeAt(M)]<<18|t[S.charCodeAt(M+1)]<<12|t[S.charCodeAt(M+2)]<<6|t[S.charCodeAt(M+3)],F[P++]=T>>16&255,F[P++]=T>>8&255,F[P++]=T&255;return x===2&&(T=t[S.charCodeAt(M)]<<2|t[S.charCodeAt(M+1)]>>4,F[P++]=T&255),x===1&&(T=t[S.charCodeAt(M)]<<10|t[S.charCodeAt(M+1)]<<4|t[S.charCodeAt(M+2)]>>2,F[P++]=T>>8&255,F[P++]=T&255),F}function g(S){return e[S>>18&63]+e[S>>12&63]+e[S>>6&63]+e[S&63]}function v(S,T,R){for(var C,x=[],F=T;F<R;F+=3)C=(S[F]<<16&16711680)+(S[F+1]<<8&65280)+(S[F+2]&255),x.push(g(C));return x.join("")}function w(S){for(var T,R=S.length,C=R%3,x=[],F=16383,P=0,K=R-C;P<K;P+=F)x.push(v(S,P,P+F>K?K:P+F));return C===1?(T=S[R-1],x.push(e[T>>2]+e[T<<4&63]+"==")):C===2&&(T=(S[R-2]<<8)+S[R-1],x.push(e[T>>10]+e[T>>4&63]+e[T<<2&63]+"=")),x.join("")}return _p}var jy={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var o_;function OT(){return o_||(o_=1,jy.read=function(e,t,r,a,o){var c,s,u=o*8-a-1,h=(1<<u)-1,f=h>>1,g=-7,v=r?o-1:0,w=r?-1:1,S=e[t+v];for(v+=w,c=S&(1<<-g)-1,S>>=-g,g+=u;g>0;c=c*256+e[t+v],v+=w,g-=8);for(s=c&(1<<-g)-1,c>>=-g,g+=a;g>0;s=s*256+e[t+v],v+=w,g-=8);if(c===0)c=1-f;else{if(c===h)return s?NaN:(S?-1:1)*(1/0);s=s+Math.pow(2,a),c=c-f}return(S?-1:1)*s*Math.pow(2,c-a)},jy.write=function(e,t,r,a,o,c){var s,u,h,f=c*8-o-1,g=(1<<f)-1,v=g>>1,w=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=a?0:c-1,T=a?1:-1,R=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,s=g):(s=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-s))<1&&(s--,h*=2),s+v>=1?t+=w/h:t+=w*Math.pow(2,1-v),t*h>=2&&(s++,h/=2),s+v>=g?(u=0,s=g):s+v>=1?(u=(t*h-1)*Math.pow(2,o),s=s+v):(u=t*Math.pow(2,v-1)*Math.pow(2,o),s=0));o>=8;e[r+S]=u&255,S+=T,u/=256,o-=8);for(s=s<<o|u,f+=o;f>0;e[r+S]=s&255,S+=T,s/=256,f-=8);e[r+S-T]|=R*128}),jy}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var s_;function Ls(){return s_||(s_=1,function(e){const t=CT(),r=OT(),a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=F,e.INSPECT_MAX_BYTES=50;const o=2147483647;e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=c(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const X=new Uint8Array(1),B={foo:function(){return 42}};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(X,B),X.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function s(X){if(X>o)throw new RangeError('The value "'+X+'" is invalid for option "size"');const B=new Uint8Array(X);return Object.setPrototypeOf(B,u.prototype),B}function u(X,B,V){if(typeof X=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(X)}return h(X,B,V)}u.poolSize=8192;function h(X,B,V){if(typeof X=="string")return w(X,B);if(ArrayBuffer.isView(X))return T(X);if(X==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X);if(wt(X,ArrayBuffer)||X&&wt(X.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(wt(X,SharedArrayBuffer)||X&&wt(X.buffer,SharedArrayBuffer)))return R(X,B,V);if(typeof X=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const H=X.valueOf&&X.valueOf();if(H!=null&&H!==X)return u.from(H,B,V);const We=C(X);if(We)return We;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof X[Symbol.toPrimitive]=="function")return u.from(X[Symbol.toPrimitive]("string"),B,V);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X)}u.from=function(X,B,V){return h(X,B,V)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function f(X){if(typeof X!="number")throw new TypeError('"size" argument must be of type number');if(X<0)throw new RangeError('The value "'+X+'" is invalid for option "size"')}function g(X,B,V){return f(X),X<=0?s(X):B!==void 0?typeof V=="string"?s(X).fill(B,V):s(X).fill(B):s(X)}u.alloc=function(X,B,V){return g(X,B,V)};function v(X){return f(X),s(X<0?0:x(X)|0)}u.allocUnsafe=function(X){return v(X)},u.allocUnsafeSlow=function(X){return v(X)};function w(X,B){if((typeof B!="string"||B==="")&&(B="utf8"),!u.isEncoding(B))throw new TypeError("Unknown encoding: "+B);const V=P(X,B)|0;let H=s(V);const We=H.write(X,B);return We!==V&&(H=H.slice(0,We)),H}function S(X){const B=X.length<0?0:x(X.length)|0,V=s(B);for(let H=0;H<B;H+=1)V[H]=X[H]&255;return V}function T(X){if(wt(X,Uint8Array)){const B=new Uint8Array(X);return R(B.buffer,B.byteOffset,B.byteLength)}return S(X)}function R(X,B,V){if(B<0||X.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<B+(V||0))throw new RangeError('"length" is outside of buffer bounds');let H;return B===void 0&&V===void 0?H=new Uint8Array(X):V===void 0?H=new Uint8Array(X,B):H=new Uint8Array(X,B,V),Object.setPrototypeOf(H,u.prototype),H}function C(X){if(u.isBuffer(X)){const B=x(X.length)|0,V=s(B);return V.length===0||X.copy(V,0,0,B),V}if(X.length!==void 0)return typeof X.length!="number"||Xe(X.length)?s(0):S(X);if(X.type==="Buffer"&&Array.isArray(X.data))return S(X.data)}function x(X){if(X>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return X|0}function F(X){return+X!=X&&(X=0),u.alloc(+X)}u.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==u.prototype},u.compare=function(B,V){if(wt(B,Uint8Array)&&(B=u.from(B,B.offset,B.byteLength)),wt(V,Uint8Array)&&(V=u.from(V,V.offset,V.byteLength)),!u.isBuffer(B)||!u.isBuffer(V))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===V)return 0;let H=B.length,We=V.length;for(let rt=0,Je=Math.min(H,We);rt<Je;++rt)if(B[rt]!==V[rt]){H=B[rt],We=V[rt];break}return H<We?-1:We<H?1:0},u.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(B,V){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return u.alloc(0);let H;if(V===void 0)for(V=0,H=0;H<B.length;++H)V+=B[H].length;const We=u.allocUnsafe(V);let rt=0;for(H=0;H<B.length;++H){let Je=B[H];if(wt(Je,Uint8Array))rt+Je.length>We.length?(u.isBuffer(Je)||(Je=u.from(Je)),Je.copy(We,rt)):Uint8Array.prototype.set.call(We,Je,rt);else if(u.isBuffer(Je))Je.copy(We,rt);else throw new TypeError('"list" argument must be an Array of Buffers');rt+=Je.length}return We};function P(X,B){if(u.isBuffer(X))return X.length;if(ArrayBuffer.isView(X)||wt(X,ArrayBuffer))return X.byteLength;if(typeof X!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof X);const V=X.length,H=arguments.length>2&&arguments[2]===!0;if(!H&&V===0)return 0;let We=!1;for(;;)switch(B){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":return Oe(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V*2;case"hex":return V>>>1;case"base64":return yt(X).length;default:if(We)return H?-1:Oe(X).length;B=(""+B).toLowerCase(),We=!0}}u.byteLength=P;function K(X,B,V){let H=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((V===void 0||V>this.length)&&(V=this.length),V<=0)||(V>>>=0,B>>>=0,V<=B))return"";for(X||(X="utf8");;)switch(X){case"hex":return nt(this,B,V);case"utf8":case"utf-8":return tt(this,B,V);case"ascii":return ht(this,B,V);case"latin1":case"binary":return de(this,B,V);case"base64":return Ee(this,B,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,B,V);default:if(H)throw new TypeError("Unknown encoding: "+X);X=(X+"").toLowerCase(),H=!0}}u.prototype._isBuffer=!0;function M(X,B,V){const H=X[B];X[B]=X[V],X[V]=H}u.prototype.swap16=function(){const B=this.length;if(B%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let V=0;V<B;V+=2)M(this,V,V+1);return this},u.prototype.swap32=function(){const B=this.length;if(B%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let V=0;V<B;V+=4)M(this,V,V+3),M(this,V+1,V+2);return this},u.prototype.swap64=function(){const B=this.length;if(B%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let V=0;V<B;V+=8)M(this,V,V+7),M(this,V+1,V+6),M(this,V+2,V+5),M(this,V+3,V+4);return this},u.prototype.toString=function(){const B=this.length;return B===0?"":arguments.length===0?tt(this,0,B):K.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(B){if(!u.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B?!0:u.compare(this,B)===0},u.prototype.inspect=function(){let B="";const V=e.INSPECT_MAX_BYTES;return B=this.toString("hex",0,V).replace(/(.{2})/g,"$1 ").trim(),this.length>V&&(B+=" ... "),"<Buffer "+B+">"},a&&(u.prototype[a]=u.prototype.inspect),u.prototype.compare=function(B,V,H,We,rt){if(wt(B,Uint8Array)&&(B=u.from(B,B.offset,B.byteLength)),!u.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(V===void 0&&(V=0),H===void 0&&(H=B?B.length:0),We===void 0&&(We=0),rt===void 0&&(rt=this.length),V<0||H>B.length||We<0||rt>this.length)throw new RangeError("out of range index");if(We>=rt&&V>=H)return 0;if(We>=rt)return-1;if(V>=H)return 1;if(V>>>=0,H>>>=0,We>>>=0,rt>>>=0,this===B)return 0;let Je=rt-We,Yt=H-V;const jn=Math.min(Je,Yt),Vn=this.slice(We,rt),sn=B.slice(V,H);for(let Ge=0;Ge<jn;++Ge)if(Vn[Ge]!==sn[Ge]){Je=Vn[Ge],Yt=sn[Ge];break}return Je<Yt?-1:Yt<Je?1:0};function z(X,B,V,H,We){if(X.length===0)return-1;if(typeof V=="string"?(H=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),V=+V,Xe(V)&&(V=We?0:X.length-1),V<0&&(V=X.length+V),V>=X.length){if(We)return-1;V=X.length-1}else if(V<0)if(We)V=0;else return-1;if(typeof B=="string"&&(B=u.from(B,H)),u.isBuffer(B))return B.length===0?-1:J(X,B,V,H,We);if(typeof B=="number")return B=B&255,typeof Uint8Array.prototype.indexOf=="function"?We?Uint8Array.prototype.indexOf.call(X,B,V):Uint8Array.prototype.lastIndexOf.call(X,B,V):J(X,[B],V,H,We);throw new TypeError("val must be string, number or Buffer")}function J(X,B,V,H,We){let rt=1,Je=X.length,Yt=B.length;if(H!==void 0&&(H=String(H).toLowerCase(),H==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(X.length<2||B.length<2)return-1;rt=2,Je/=2,Yt/=2,V/=2}function jn(sn,Ge){return rt===1?sn[Ge]:sn.readUInt16BE(Ge*rt)}let Vn;if(We){let sn=-1;for(Vn=V;Vn<Je;Vn++)if(jn(X,Vn)===jn(B,sn===-1?0:Vn-sn)){if(sn===-1&&(sn=Vn),Vn-sn+1===Yt)return sn*rt}else sn!==-1&&(Vn-=Vn-sn),sn=-1}else for(V+Yt>Je&&(V=Je-Yt),Vn=V;Vn>=0;Vn--){let sn=!0;for(let Ge=0;Ge<Yt;Ge++)if(jn(X,Vn+Ge)!==jn(B,Ge)){sn=!1;break}if(sn)return Vn}return-1}u.prototype.includes=function(B,V,H){return this.indexOf(B,V,H)!==-1},u.prototype.indexOf=function(B,V,H){return z(this,B,V,H,!0)},u.prototype.lastIndexOf=function(B,V,H){return z(this,B,V,H,!1)};function q(X,B,V,H){V=Number(V)||0;const We=X.length-V;H?(H=Number(H),H>We&&(H=We)):H=We;const rt=B.length;H>rt/2&&(H=rt/2);let Je;for(Je=0;Je<H;++Je){const Yt=parseInt(B.substr(Je*2,2),16);if(Xe(Yt))return Je;X[V+Je]=Yt}return Je}function Fe(X,B,V,H){return Ot(Oe(B,X.length-V),X,V,H)}function $(X,B,V,H){return Ot(lt(B),X,V,H)}function ie(X,B,V,H){return Ot(yt(B),X,V,H)}function ge(X,B,V,H){return Ot(Te(B,X.length-V),X,V,H)}u.prototype.write=function(B,V,H,We){if(V===void 0)We="utf8",H=this.length,V=0;else if(H===void 0&&typeof V=="string")We=V,H=this.length,V=0;else if(isFinite(V))V=V>>>0,isFinite(H)?(H=H>>>0,We===void 0&&(We="utf8")):(We=H,H=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const rt=this.length-V;if((H===void 0||H>rt)&&(H=rt),B.length>0&&(H<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");We||(We="utf8");let Je=!1;for(;;)switch(We){case"hex":return q(this,B,V,H);case"utf8":case"utf-8":return Fe(this,B,V,H);case"ascii":case"latin1":case"binary":return $(this,B,V,H);case"base64":return ie(this,B,V,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge(this,B,V,H);default:if(Je)throw new TypeError("Unknown encoding: "+We);We=(""+We).toLowerCase(),Je=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ee(X,B,V){return B===0&&V===X.length?t.fromByteArray(X):t.fromByteArray(X.slice(B,V))}function tt(X,B,V){V=Math.min(X.length,V);const H=[];let We=B;for(;We<V;){const rt=X[We];let Je=null,Yt=rt>239?4:rt>223?3:rt>191?2:1;if(We+Yt<=V){let jn,Vn,sn,Ge;switch(Yt){case 1:rt<128&&(Je=rt);break;case 2:jn=X[We+1],(jn&192)===128&&(Ge=(rt&31)<<6|jn&63,Ge>127&&(Je=Ge));break;case 3:jn=X[We+1],Vn=X[We+2],(jn&192)===128&&(Vn&192)===128&&(Ge=(rt&15)<<12|(jn&63)<<6|Vn&63,Ge>2047&&(Ge<55296||Ge>57343)&&(Je=Ge));break;case 4:jn=X[We+1],Vn=X[We+2],sn=X[We+3],(jn&192)===128&&(Vn&192)===128&&(sn&192)===128&&(Ge=(rt&15)<<18|(jn&63)<<12|(Vn&63)<<6|sn&63,Ge>65535&&Ge<1114112&&(Je=Ge))}}Je===null?(Je=65533,Yt=1):Je>65535&&(Je-=65536,H.push(Je>>>10&1023|55296),Je=56320|Je&1023),H.push(Je),We+=Yt}return Ie(H)}const ct=4096;function Ie(X){const B=X.length;if(B<=ct)return String.fromCharCode.apply(String,X);let V="",H=0;for(;H<B;)V+=String.fromCharCode.apply(String,X.slice(H,H+=ct));return V}function ht(X,B,V){let H="";V=Math.min(X.length,V);for(let We=B;We<V;++We)H+=String.fromCharCode(X[We]&127);return H}function de(X,B,V){let H="";V=Math.min(X.length,V);for(let We=B;We<V;++We)H+=String.fromCharCode(X[We]);return H}function nt(X,B,V){const H=X.length;(!B||B<0)&&(B=0),(!V||V<0||V>H)&&(V=H);let We="";for(let rt=B;rt<V;++rt)We+=ze[X[rt]];return We}function Y(X,B,V){const H=X.slice(B,V);let We="";for(let rt=0;rt<H.length-1;rt+=2)We+=String.fromCharCode(H[rt]+H[rt+1]*256);return We}u.prototype.slice=function(B,V){const H=this.length;B=~~B,V=V===void 0?H:~~V,B<0?(B+=H,B<0&&(B=0)):B>H&&(B=H),V<0?(V+=H,V<0&&(V=0)):V>H&&(V=H),V<B&&(V=B);const We=this.subarray(B,V);return Object.setPrototypeOf(We,u.prototype),We};function Re(X,B,V){if(X%1!==0||X<0)throw new RangeError("offset is not uint");if(X+B>V)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(B,V,H){B=B>>>0,V=V>>>0,H||Re(B,V,this.length);let We=this[B],rt=1,Je=0;for(;++Je<V&&(rt*=256);)We+=this[B+Je]*rt;return We},u.prototype.readUintBE=u.prototype.readUIntBE=function(B,V,H){B=B>>>0,V=V>>>0,H||Re(B,V,this.length);let We=this[B+--V],rt=1;for(;V>0&&(rt*=256);)We+=this[B+--V]*rt;return We},u.prototype.readUint8=u.prototype.readUInt8=function(B,V){return B=B>>>0,V||Re(B,1,this.length),this[B]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(B,V){return B=B>>>0,V||Re(B,2,this.length),this[B]|this[B+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(B,V){return B=B>>>0,V||Re(B,2,this.length),this[B]<<8|this[B+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(B,V){return B=B>>>0,V||Re(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+this[B+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(B,V){return B=B>>>0,V||Re(B,4,this.length),this[B]*16777216+(this[B+1]<<16|this[B+2]<<8|this[B+3])},u.prototype.readBigUInt64LE=Pe(function(B){B=B>>>0,D(B,"offset");const V=this[B],H=this[B+7];(V===void 0||H===void 0)&&G(B,this.length-8);const We=V+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24,rt=this[++B]+this[++B]*2**8+this[++B]*2**16+H*2**24;return BigInt(We)+(BigInt(rt)<<BigInt(32))}),u.prototype.readBigUInt64BE=Pe(function(B){B=B>>>0,D(B,"offset");const V=this[B],H=this[B+7];(V===void 0||H===void 0)&&G(B,this.length-8);const We=V*2**24+this[++B]*2**16+this[++B]*2**8+this[++B],rt=this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+H;return(BigInt(We)<<BigInt(32))+BigInt(rt)}),u.prototype.readIntLE=function(B,V,H){B=B>>>0,V=V>>>0,H||Re(B,V,this.length);let We=this[B],rt=1,Je=0;for(;++Je<V&&(rt*=256);)We+=this[B+Je]*rt;return rt*=128,We>=rt&&(We-=Math.pow(2,8*V)),We},u.prototype.readIntBE=function(B,V,H){B=B>>>0,V=V>>>0,H||Re(B,V,this.length);let We=V,rt=1,Je=this[B+--We];for(;We>0&&(rt*=256);)Je+=this[B+--We]*rt;return rt*=128,Je>=rt&&(Je-=Math.pow(2,8*V)),Je},u.prototype.readInt8=function(B,V){return B=B>>>0,V||Re(B,1,this.length),this[B]&128?(255-this[B]+1)*-1:this[B]},u.prototype.readInt16LE=function(B,V){B=B>>>0,V||Re(B,2,this.length);const H=this[B]|this[B+1]<<8;return H&32768?H|4294901760:H},u.prototype.readInt16BE=function(B,V){B=B>>>0,V||Re(B,2,this.length);const H=this[B+1]|this[B]<<8;return H&32768?H|4294901760:H},u.prototype.readInt32LE=function(B,V){return B=B>>>0,V||Re(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},u.prototype.readInt32BE=function(B,V){return B=B>>>0,V||Re(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},u.prototype.readBigInt64LE=Pe(function(B){B=B>>>0,D(B,"offset");const V=this[B],H=this[B+7];(V===void 0||H===void 0)&&G(B,this.length-8);const We=this[B+4]+this[B+5]*2**8+this[B+6]*2**16+(H<<24);return(BigInt(We)<<BigInt(32))+BigInt(V+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24)}),u.prototype.readBigInt64BE=Pe(function(B){B=B>>>0,D(B,"offset");const V=this[B],H=this[B+7];(V===void 0||H===void 0)&&G(B,this.length-8);const We=(V<<24)+this[++B]*2**16+this[++B]*2**8+this[++B];return(BigInt(We)<<BigInt(32))+BigInt(this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+H)}),u.prototype.readFloatLE=function(B,V){return B=B>>>0,V||Re(B,4,this.length),r.read(this,B,!0,23,4)},u.prototype.readFloatBE=function(B,V){return B=B>>>0,V||Re(B,4,this.length),r.read(this,B,!1,23,4)},u.prototype.readDoubleLE=function(B,V){return B=B>>>0,V||Re(B,8,this.length),r.read(this,B,!0,52,8)},u.prototype.readDoubleBE=function(B,V){return B=B>>>0,V||Re(B,8,this.length),r.read(this,B,!1,52,8)};function Qe(X,B,V,H,We,rt){if(!u.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>We||B<rt)throw new RangeError('"value" argument is out of bounds');if(V+H>X.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(B,V,H,We){if(B=+B,V=V>>>0,H=H>>>0,!We){const Yt=Math.pow(2,8*H)-1;Qe(this,B,V,H,Yt,0)}let rt=1,Je=0;for(this[V]=B&255;++Je<H&&(rt*=256);)this[V+Je]=B/rt&255;return V+H},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(B,V,H,We){if(B=+B,V=V>>>0,H=H>>>0,!We){const Yt=Math.pow(2,8*H)-1;Qe(this,B,V,H,Yt,0)}let rt=H-1,Je=1;for(this[V+rt]=B&255;--rt>=0&&(Je*=256);)this[V+rt]=B/Je&255;return V+H},u.prototype.writeUint8=u.prototype.writeUInt8=function(B,V,H){return B=+B,V=V>>>0,H||Qe(this,B,V,1,255,0),this[V]=B&255,V+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(B,V,H){return B=+B,V=V>>>0,H||Qe(this,B,V,2,65535,0),this[V]=B&255,this[V+1]=B>>>8,V+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(B,V,H){return B=+B,V=V>>>0,H||Qe(this,B,V,2,65535,0),this[V]=B>>>8,this[V+1]=B&255,V+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(B,V,H){return B=+B,V=V>>>0,H||Qe(this,B,V,4,4294967295,0),this[V+3]=B>>>24,this[V+2]=B>>>16,this[V+1]=B>>>8,this[V]=B&255,V+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(B,V,H){return B=+B,V=V>>>0,H||Qe(this,B,V,4,4294967295,0),this[V]=B>>>24,this[V+1]=B>>>16,this[V+2]=B>>>8,this[V+3]=B&255,V+4};function He(X,B,V,H,We){k(B,H,We,X,V,7);let rt=Number(B&BigInt(4294967295));X[V++]=rt,rt=rt>>8,X[V++]=rt,rt=rt>>8,X[V++]=rt,rt=rt>>8,X[V++]=rt;let Je=Number(B>>BigInt(32)&BigInt(4294967295));return X[V++]=Je,Je=Je>>8,X[V++]=Je,Je=Je>>8,X[V++]=Je,Je=Je>>8,X[V++]=Je,V}function st(X,B,V,H,We){k(B,H,We,X,V,7);let rt=Number(B&BigInt(4294967295));X[V+7]=rt,rt=rt>>8,X[V+6]=rt,rt=rt>>8,X[V+5]=rt,rt=rt>>8,X[V+4]=rt;let Je=Number(B>>BigInt(32)&BigInt(4294967295));return X[V+3]=Je,Je=Je>>8,X[V+2]=Je,Je=Je>>8,X[V+1]=Je,Je=Je>>8,X[V]=Je,V+8}u.prototype.writeBigUInt64LE=Pe(function(B,V=0){return He(this,B,V,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Pe(function(B,V=0){return st(this,B,V,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(B,V,H,We){if(B=+B,V=V>>>0,!We){const jn=Math.pow(2,8*H-1);Qe(this,B,V,H,jn-1,-jn)}let rt=0,Je=1,Yt=0;for(this[V]=B&255;++rt<H&&(Je*=256);)B<0&&Yt===0&&this[V+rt-1]!==0&&(Yt=1),this[V+rt]=(B/Je>>0)-Yt&255;return V+H},u.prototype.writeIntBE=function(B,V,H,We){if(B=+B,V=V>>>0,!We){const jn=Math.pow(2,8*H-1);Qe(this,B,V,H,jn-1,-jn)}let rt=H-1,Je=1,Yt=0;for(this[V+rt]=B&255;--rt>=0&&(Je*=256);)B<0&&Yt===0&&this[V+rt+1]!==0&&(Yt=1),this[V+rt]=(B/Je>>0)-Yt&255;return V+H},u.prototype.writeInt8=function(B,V,H){return B=+B,V=V>>>0,H||Qe(this,B,V,1,127,-128),B<0&&(B=255+B+1),this[V]=B&255,V+1},u.prototype.writeInt16LE=function(B,V,H){return B=+B,V=V>>>0,H||Qe(this,B,V,2,32767,-32768),this[V]=B&255,this[V+1]=B>>>8,V+2},u.prototype.writeInt16BE=function(B,V,H){return B=+B,V=V>>>0,H||Qe(this,B,V,2,32767,-32768),this[V]=B>>>8,this[V+1]=B&255,V+2},u.prototype.writeInt32LE=function(B,V,H){return B=+B,V=V>>>0,H||Qe(this,B,V,4,2147483647,-2147483648),this[V]=B&255,this[V+1]=B>>>8,this[V+2]=B>>>16,this[V+3]=B>>>24,V+4},u.prototype.writeInt32BE=function(B,V,H){return B=+B,V=V>>>0,H||Qe(this,B,V,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[V]=B>>>24,this[V+1]=B>>>16,this[V+2]=B>>>8,this[V+3]=B&255,V+4},u.prototype.writeBigInt64LE=Pe(function(B,V=0){return He(this,B,V,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Pe(function(B,V=0){return st(this,B,V,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function It(X,B,V,H,We,rt){if(V+H>X.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function kt(X,B,V,H,We){return B=+B,V=V>>>0,We||It(X,B,V,4),r.write(X,B,V,H,23,4),V+4}u.prototype.writeFloatLE=function(B,V,H){return kt(this,B,V,!0,H)},u.prototype.writeFloatBE=function(B,V,H){return kt(this,B,V,!1,H)};function ke(X,B,V,H,We){return B=+B,V=V>>>0,We||It(X,B,V,8),r.write(X,B,V,H,52,8),V+8}u.prototype.writeDoubleLE=function(B,V,H){return ke(this,B,V,!0,H)},u.prototype.writeDoubleBE=function(B,V,H){return ke(this,B,V,!1,H)},u.prototype.copy=function(B,V,H,We){if(!u.isBuffer(B))throw new TypeError("argument should be a Buffer");if(H||(H=0),!We&&We!==0&&(We=this.length),V>=B.length&&(V=B.length),V||(V=0),We>0&&We<H&&(We=H),We===H||B.length===0||this.length===0)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(We<0)throw new RangeError("sourceEnd out of bounds");We>this.length&&(We=this.length),B.length-V<We-H&&(We=B.length-V+H);const rt=We-H;return this===B&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(V,H,We):Uint8Array.prototype.set.call(B,this.subarray(H,We),V),rt},u.prototype.fill=function(B,V,H,We){if(typeof B=="string"){if(typeof V=="string"?(We=V,V=0,H=this.length):typeof H=="string"&&(We=H,H=this.length),We!==void 0&&typeof We!="string")throw new TypeError("encoding must be a string");if(typeof We=="string"&&!u.isEncoding(We))throw new TypeError("Unknown encoding: "+We);if(B.length===1){const Je=B.charCodeAt(0);(We==="utf8"&&Je<128||We==="latin1")&&(B=Je)}}else typeof B=="number"?B=B&255:typeof B=="boolean"&&(B=Number(B));if(V<0||this.length<V||this.length<H)throw new RangeError("Out of range index");if(H<=V)return this;V=V>>>0,H=H===void 0?this.length:H>>>0,B||(B=0);let rt;if(typeof B=="number")for(rt=V;rt<H;++rt)this[rt]=B;else{const Je=u.isBuffer(B)?B:u.from(B,We),Yt=Je.length;if(Yt===0)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(rt=0;rt<H-V;++rt)this[rt+V]=Je[rt%Yt]}return this};const le={};function Ce(X,B,V){le[X]=class extends V{constructor(){super(),Object.defineProperty(this,"message",{value:B.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${X}]`,this.stack,delete this.name}get code(){return X}set code(We){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:We,writable:!0})}toString(){return`${this.name} [${X}]: ${this.message}`}}}Ce("ERR_BUFFER_OUT_OF_BOUNDS",function(X){return X?`${X} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ce("ERR_INVALID_ARG_TYPE",function(X,B){return`The "${X}" argument must be of type number. Received type ${typeof B}`},TypeError),Ce("ERR_OUT_OF_RANGE",function(X,B,V){let H=`The value of "${X}" is out of range.`,We=V;return Number.isInteger(V)&&Math.abs(V)>2**32?We=Ye(String(V)):typeof V=="bigint"&&(We=String(V),(V>BigInt(2)**BigInt(32)||V<-(BigInt(2)**BigInt(32)))&&(We=Ye(We)),We+="n"),H+=` It must be ${B}. Received ${We}`,H},RangeError);function Ye(X){let B="",V=X.length;const H=X[0]==="-"?1:0;for(;V>=H+4;V-=3)B=`_${X.slice(V-3,V)}${B}`;return`${X.slice(0,V)}${B}`}function oe(X,B,V){D(B,"offset"),(X[B]===void 0||X[B+V]===void 0)&&G(B,X.length-(V+1))}function k(X,B,V,H,We,rt){if(X>V||X<B){const Je=typeof B=="bigint"?"n":"";let Yt;throw B===0||B===BigInt(0)?Yt=`>= 0${Je} and < 2${Je} ** ${(rt+1)*8}${Je}`:Yt=`>= -(2${Je} ** ${(rt+1)*8-1}${Je}) and < 2 ** ${(rt+1)*8-1}${Je}`,new le.ERR_OUT_OF_RANGE("value",Yt,X)}oe(H,We,rt)}function D(X,B){if(typeof X!="number")throw new le.ERR_INVALID_ARG_TYPE(B,"number",X)}function G(X,B,V){throw Math.floor(X)!==X?(D(X,V),new le.ERR_OUT_OF_RANGE("offset","an integer",X)):B<0?new le.ERR_BUFFER_OUT_OF_BOUNDS:new le.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${B}`,X)}const ne=/[^+/0-9A-Za-z-_]/g;function _e(X){if(X=X.split("=")[0],X=X.trim().replace(ne,""),X.length<2)return"";for(;X.length%4!==0;)X=X+"=";return X}function Oe(X,B){B=B||1/0;let V;const H=X.length;let We=null;const rt=[];for(let Je=0;Je<H;++Je){if(V=X.charCodeAt(Je),V>55295&&V<57344){if(!We){if(V>56319){(B-=3)>-1&&rt.push(239,191,189);continue}else if(Je+1===H){(B-=3)>-1&&rt.push(239,191,189);continue}We=V;continue}if(V<56320){(B-=3)>-1&&rt.push(239,191,189),We=V;continue}V=(We-55296<<10|V-56320)+65536}else We&&(B-=3)>-1&&rt.push(239,191,189);if(We=null,V<128){if((B-=1)<0)break;rt.push(V)}else if(V<2048){if((B-=2)<0)break;rt.push(V>>6|192,V&63|128)}else if(V<65536){if((B-=3)<0)break;rt.push(V>>12|224,V>>6&63|128,V&63|128)}else if(V<1114112){if((B-=4)<0)break;rt.push(V>>18|240,V>>12&63|128,V>>6&63|128,V&63|128)}else throw new Error("Invalid code point")}return rt}function lt(X){const B=[];for(let V=0;V<X.length;++V)B.push(X.charCodeAt(V)&255);return B}function Te(X,B){let V,H,We;const rt=[];for(let Je=0;Je<X.length&&!((B-=2)<0);++Je)V=X.charCodeAt(Je),H=V>>8,We=V%256,rt.push(We),rt.push(H);return rt}function yt(X){return t.toByteArray(_e(X))}function Ot(X,B,V,H){let We;for(We=0;We<H&&!(We+V>=B.length||We>=X.length);++We)B[We+V]=X[We];return We}function wt(X,B){return X instanceof B||X!=null&&X.constructor!=null&&X.constructor.name!=null&&X.constructor.name===B.name}function Xe(X){return X!==X}const ze=function(){const X="0123456789abcdef",B=new Array(256);for(let V=0;V<16;++V){const H=V*16;for(let We=0;We<16;++We)B[H+We]=X[V]+X[We]}return B}();function Pe(X){return typeof BigInt>"u"?ft:X}function ft(){throw new Error("BigInt not supported")}}(R0)),R0}var T0,l_;function IT(){if(l_)return T0;l_=1;var{Buffer:e}=Ls(),t={},r=t.LEFT_BRACE=1,a=t.RIGHT_BRACE=2,o=t.LEFT_BRACKET=3,c=t.RIGHT_BRACKET=4,s=t.COLON=5,u=t.COMMA=6,h=t.TRUE=7,f=t.FALSE=8,g=t.NULL=9,v=t.STRING=10,w=t.NUMBER=11,S=t.START=17,T=t.STOP=18,R=t.TRUE1=33,C=t.TRUE2=34,x=t.TRUE3=35,F=t.FALSE1=49,P=t.FALSE2=50,K=t.FALSE3=51,M=t.FALSE4=52,z=t.NULL1=65,J=t.NULL2=66,q=t.NULL3=67,Fe=t.NUMBER1=81,$=t.NUMBER3=83,ie=t.STRING1=97,ge=t.STRING2=98,Ee=t.STRING3=99,tt=t.STRING4=100,ct=t.STRING5=101,Ie=t.STRING6=102,ht=t.VALUE=113,de=t.KEY=114,nt=t.OBJECT=129,Y=t.ARRAY=130,Re=92,Qe=47,He=8,st=12,It=10,kt=13,ke=9,le=64*1024;function Ce(k){return e.alloc?e.alloc(k):new e(k)}function Ye(){this.tState=S,this.value=void 0,this.string=void 0,this.stringBuffer=Ce(le),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=ht,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:Ce(2),3:Ce(3),4:Ce(4)},this.offset=-1}Ye.toknam=function(k){for(var D=Object.keys(t),G=0,ne=D.length;G<ne;G++){var _e=D[G];if(t[_e]===k)return _e}return k&&"0x"+k.toString(16)};var oe=Ye.prototype;return oe.onError=function(k){throw k},oe.charError=function(k,D){this.tState=T,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(k[D]))+" at position "+D+" in state "+Ye.toknam(this.tState)))},oe.appendStringChar=function(k){this.stringBufferOffset>=le&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=k},oe.appendStringBuf=function(k,D,G){var ne=k.length;typeof D=="number"&&(typeof G=="number"?G<0?ne=k.length-D+G:ne=G-D:ne=k.length-D),ne<0&&(ne=0),this.stringBufferOffset+ne>le&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),k.copy(this.stringBuffer,this.stringBufferOffset,D,G),this.stringBufferOffset+=ne},oe.write=function(k){typeof k=="string"&&(k=new e(k));for(var D,G=0,ne=k.length;G<ne;G++)if(this.tState===S){if(D=k[G],this.offset++,D===123)this.onToken(r,"{");else if(D===125)this.onToken(a,"}");else if(D===91)this.onToken(o,"[");else if(D===93)this.onToken(c,"]");else if(D===58)this.onToken(s,":");else if(D===44)this.onToken(u,",");else if(D===116)this.tState=R;else if(D===102)this.tState=F;else if(D===110)this.tState=z;else if(D===34)this.string="",this.stringBufferOffset=0,this.tState=ie;else if(D===45)this.string="-",this.tState=Fe;else if(D>=48&&D<64)this.string=String.fromCharCode(D),this.tState=$;else if(!(D===32||D===9||D===10||D===13))return this.charError(k,G)}else if(this.tState===ie)if(D=k[G],this.bytes_remaining>0){for(var _e=0;_e<this.bytes_remaining;_e++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+_e]=k[_e];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,G=G+_e-1}else if(this.bytes_remaining===0&&D>=128){if(D<=193||D>244)return this.onError(new Error("Invalid UTF-8 character at position "+G+" in state "+Ye.toknam(this.tState)));if(D>=194&&D<=223&&(this.bytes_in_sequence=2),D>=224&&D<=239&&(this.bytes_in_sequence=3),D>=240&&D<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+G>k.length){for(var Oe=0;Oe<=k.length-1-G;Oe++)this.temp_buffs[this.bytes_in_sequence][Oe]=k[G+Oe];this.bytes_remaining=G+this.bytes_in_sequence-k.length,G=k.length-1}else this.appendStringBuf(k,G,G+this.bytes_in_sequence),G=G+this.bytes_in_sequence-1}else if(D===34)this.tState=S,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(v,this.string),this.offset+=e.byteLength(this.string,"utf8")+1,this.string=void 0;else if(D===92)this.tState=ge;else if(D>=32)this.appendStringChar(D);else return this.charError(k,G);else if(this.tState===ge)if(D=k[G],D===34)this.appendStringChar(D),this.tState=ie;else if(D===92)this.appendStringChar(Re),this.tState=ie;else if(D===47)this.appendStringChar(Qe),this.tState=ie;else if(D===98)this.appendStringChar(He),this.tState=ie;else if(D===102)this.appendStringChar(st),this.tState=ie;else if(D===110)this.appendStringChar(It),this.tState=ie;else if(D===114)this.appendStringChar(kt),this.tState=ie;else if(D===116)this.appendStringChar(ke),this.tState=ie;else if(D===117)this.unicode="",this.tState=Ee;else return this.charError(k,G);else if(this.tState===Ee||this.tState===tt||this.tState===ct||this.tState===Ie)if(D=k[G],D>=48&&D<64||D>64&&D<=70||D>96&&D<=102){if(this.unicode+=String.fromCharCode(D),this.tState++===Ie){var lt=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&lt>=56320&&lt<57344?(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate,lt))),this.highSurrogate=void 0):this.highSurrogate===void 0&&lt>=55296&&lt<56320?this.highSurrogate=lt:(this.highSurrogate!==void 0&&(this.appendStringBuf(new e(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new e(String.fromCharCode(lt)))),this.tState=ie}}else return this.charError(k,G);else if(this.tState===Fe||this.tState===$)switch(D=k[G],D){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(D),this.tState=$;break;default:this.tState=S;var Te=this.numberReviver(this.string,k,G);if(Te)return Te;this.offset+=this.string.length-1,this.string=void 0,G--;break}else if(this.tState===R)if(k[G]===114)this.tState=C;else return this.charError(k,G);else if(this.tState===C)if(k[G]===117)this.tState=x;else return this.charError(k,G);else if(this.tState===x)if(k[G]===101)this.tState=S,this.onToken(h,!0),this.offset+=3;else return this.charError(k,G);else if(this.tState===F)if(k[G]===97)this.tState=P;else return this.charError(k,G);else if(this.tState===P)if(k[G]===108)this.tState=K;else return this.charError(k,G);else if(this.tState===K)if(k[G]===115)this.tState=M;else return this.charError(k,G);else if(this.tState===M)if(k[G]===101)this.tState=S,this.onToken(f,!1),this.offset+=4;else return this.charError(k,G);else if(this.tState===z)if(k[G]===117)this.tState=J;else return this.charError(k,G);else if(this.tState===J)if(k[G]===108)this.tState=q;else return this.charError(k,G);else if(this.tState===q)if(k[G]===108)this.tState=S,this.onToken(g,null),this.offset+=3;else return this.charError(k,G)},oe.onToken=function(k,D){},oe.parseError=function(k,D){this.tState=T,this.onError(new Error("Unexpected "+Ye.toknam(k)+(D?"("+JSON.stringify(D)+")":"")+" in state "+Ye.toknam(this.state)))},oe.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},oe.pop=function(){var k=this.value,D=this.stack.pop();this.value=D.value,this.key=D.key,this.mode=D.mode,this.emit(k),this.mode||(this.state=ht)},oe.emit=function(k){this.mode&&(this.state=u),this.onValue(k)},oe.onValue=function(k){},oe.onToken=function(k,D){if(this.state===ht)if(k===v||k===w||k===h||k===f||k===g)this.value&&(this.value[this.key]=D),this.emit(D);else if(k===r)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=de,this.mode=nt;else if(k===o)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=Y,this.state=ht;else if(k===a)if(this.mode===nt)this.pop();else return this.parseError(k,D);else if(k===c)if(this.mode===Y)this.pop();else return this.parseError(k,D);else return this.parseError(k,D);else if(this.state===de)if(k===v)this.key=D,this.state=s;else if(k===a)this.pop();else return this.parseError(k,D);else if(this.state===s)if(k===s)this.state=ht;else return this.parseError(k,D);else if(this.state===u)if(k===u)this.mode===Y?(this.key++,this.state=ht):this.mode===nt&&(this.state=de);else if(k===c&&this.mode===Y||k===a&&this.mode===nt)this.pop();else return this.parseError(k,D);else return this.parseError(k,D)},oe.numberReviver=function(k,D,G){var ne=Number(k);if(isNaN(ne))return this.charError(D,G);k.match(/[0-9]+/)==k&&ne.toString()!=k?this.onToken(v,k):this.onToken(w,ne)},Ye.C=t,T0=Ye,T0}var pf={},Ep={},C0={},u_;function w1(){return u_||(u_=1,function(){(function(e){(function(t){var r=typeof globalThis<"u"&&globalThis||typeof e<"u"&&e||typeof Ww<"u"&&Ww||{},a={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function o($){return $&&DataView.prototype.isPrototypeOf($)}if(a.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function($){return $&&c.indexOf(Object.prototype.toString.call($))>-1};function u($){if(typeof $!="string"&&($=String($)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test($)||$==="")throw new TypeError('Invalid character in header field name: "'+$+'"');return $.toLowerCase()}function h($){return typeof $!="string"&&($=String($)),$}function f($){var ie={next:function(){var ge=$.shift();return{done:ge===void 0,value:ge}}};return a.iterable&&(ie[Symbol.iterator]=function(){return ie}),ie}function g($){this.map={},$ instanceof g?$.forEach(function(ie,ge){this.append(ge,ie)},this):Array.isArray($)?$.forEach(function(ie){if(ie.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+ie.length);this.append(ie[0],ie[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(ie){this.append(ie,$[ie])},this)}g.prototype.append=function($,ie){$=u($),ie=h(ie);var ge=this.map[$];this.map[$]=ge?ge+", "+ie:ie},g.prototype.delete=function($){delete this.map[u($)]},g.prototype.get=function($){return $=u($),this.has($)?this.map[$]:null},g.prototype.has=function($){return this.map.hasOwnProperty(u($))},g.prototype.set=function($,ie){this.map[u($)]=h(ie)},g.prototype.forEach=function($,ie){for(var ge in this.map)this.map.hasOwnProperty(ge)&&$.call(ie,this.map[ge],ge,this)},g.prototype.keys=function(){var $=[];return this.forEach(function(ie,ge){$.push(ge)}),f($)},g.prototype.values=function(){var $=[];return this.forEach(function(ie){$.push(ie)}),f($)},g.prototype.entries=function(){var $=[];return this.forEach(function(ie,ge){$.push([ge,ie])}),f($)},a.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function v($){if(!$._noBody){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}}function w($){return new Promise(function(ie,ge){$.onload=function(){ie($.result)},$.onerror=function(){ge($.error)}})}function S($){var ie=new FileReader,ge=w(ie);return ie.readAsArrayBuffer($),ge}function T($){var ie=new FileReader,ge=w(ie),Ee=/charset=([A-Za-z0-9_-]+)/.exec($.type),tt=Ee?Ee[1]:"utf-8";return ie.readAsText($,tt),ge}function R($){for(var ie=new Uint8Array($),ge=new Array(ie.length),Ee=0;Ee<ie.length;Ee++)ge[Ee]=String.fromCharCode(ie[Ee]);return ge.join("")}function C($){if($.slice)return $.slice(0);var ie=new Uint8Array($.byteLength);return ie.set(new Uint8Array($)),ie.buffer}function x(){return this.bodyUsed=!1,this._initBody=function($){this.bodyUsed=this.bodyUsed,this._bodyInit=$,$?typeof $=="string"?this._bodyText=$:a.blob&&Blob.prototype.isPrototypeOf($)?this._bodyBlob=$:a.formData&&FormData.prototype.isPrototypeOf($)?this._bodyFormData=$:a.searchParams&&URLSearchParams.prototype.isPrototypeOf($)?this._bodyText=$.toString():a.arrayBuffer&&a.blob&&o($)?(this._bodyArrayBuffer=C($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf($)||s($))?this._bodyArrayBuffer=C($):this._bodyText=$=Object.prototype.toString.call($):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof $=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var $=v(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var $=v(this);return $||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(a.blob)return this.blob().then(S);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var $=v(this);if($)return $;if(this._bodyBlob)return T(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(R(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function P($){var ie=$.toUpperCase();return F.indexOf(ie)>-1?ie:$}function K($,ie){if(!(this instanceof K))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');ie=ie||{};var ge=ie.body;if($ instanceof K){if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,ie.headers||(this.headers=new g($.headers)),this.method=$.method,this.mode=$.mode,this.signal=$.signal,!ge&&$._bodyInit!=null&&(ge=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=ie.credentials||this.credentials||"same-origin",(ie.headers||!this.headers)&&(this.headers=new g(ie.headers)),this.method=P(ie.method||this.method||"GET"),this.mode=ie.mode||this.mode||null,this.signal=ie.signal||this.signal||function(){if("AbortController"in r){var ct=new AbortController;return ct.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ge)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ge),(this.method==="GET"||this.method==="HEAD")&&(ie.cache==="no-store"||ie.cache==="no-cache")){var Ee=/([?&])_=[^&]*/;if(Ee.test(this.url))this.url=this.url.replace(Ee,"$1_="+new Date().getTime());else{var tt=/\?/;this.url+=(tt.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}K.prototype.clone=function(){return new K(this,{body:this._bodyInit})};function M($){var ie=new FormData;return $.trim().split("&").forEach(function(ge){if(ge){var Ee=ge.split("="),tt=Ee.shift().replace(/\+/g," "),ct=Ee.join("=").replace(/\+/g," ");ie.append(decodeURIComponent(tt),decodeURIComponent(ct))}}),ie}function z($){var ie=new g,ge=$.replace(/\r?\n[\t ]+/g," ");return ge.split("\r").map(function(Ee){return Ee.indexOf(`
`)===0?Ee.substr(1,Ee.length):Ee}).forEach(function(Ee){var tt=Ee.split(":"),ct=tt.shift().trim();if(ct){var Ie=tt.join(":").trim();try{ie.append(ct,Ie)}catch(ht){console.warn("Response "+ht.message)}}}),ie}x.call(K.prototype);function J($,ie){if(!(this instanceof J))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(ie||(ie={}),this.type="default",this.status=ie.status===void 0?200:ie.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=ie.statusText===void 0?"":""+ie.statusText,this.headers=new g(ie.headers),this.url=ie.url||"",this._initBody($)}x.call(J.prototype),J.prototype.clone=function(){return new J(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},J.error=function(){var $=new J(null,{status:200,statusText:""});return $.ok=!1,$.status=0,$.type="error",$};var q=[301,302,303,307,308];J.redirect=function($,ie){if(q.indexOf(ie)===-1)throw new RangeError("Invalid status code");return new J(null,{status:ie,headers:{location:$}})},t.DOMException=r.DOMException;try{new t.DOMException}catch{t.DOMException=function(ie,ge){this.message=ie,this.name=ge;var Ee=Error(ie);this.stack=Ee.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function Fe($,ie){return new Promise(function(ge,Ee){var tt=new K($,ie);if(tt.signal&&tt.signal.aborted)return Ee(new t.DOMException("Aborted","AbortError"));var ct=new XMLHttpRequest;function Ie(){ct.abort()}ct.onload=function(){var nt={statusText:ct.statusText,headers:z(ct.getAllResponseHeaders()||"")};tt.url.indexOf("file://")===0&&(ct.status<200||ct.status>599)?nt.status=200:nt.status=ct.status,nt.url="responseURL"in ct?ct.responseURL:nt.headers.get("X-Request-URL");var Y="response"in ct?ct.response:ct.responseText;setTimeout(function(){ge(new J(Y,nt))},0)},ct.onerror=function(){setTimeout(function(){Ee(new TypeError("Network request failed"))},0)},ct.ontimeout=function(){setTimeout(function(){Ee(new TypeError("Network request timed out"))},0)},ct.onabort=function(){setTimeout(function(){Ee(new t.DOMException("Aborted","AbortError"))},0)};function ht(nt){try{return nt===""&&r.location.href?r.location.href:nt}catch{return nt}}if(ct.open(tt.method,ht(tt.url),!0),tt.credentials==="include"?ct.withCredentials=!0:tt.credentials==="omit"&&(ct.withCredentials=!1),"responseType"in ct&&(a.blob?ct.responseType="blob":a.arrayBuffer&&(ct.responseType="arraybuffer")),ie&&typeof ie.headers=="object"&&!(ie.headers instanceof g||r.Headers&&ie.headers instanceof r.Headers)){var de=[];Object.getOwnPropertyNames(ie.headers).forEach(function(nt){de.push(u(nt)),ct.setRequestHeader(nt,h(ie.headers[nt]))}),tt.headers.forEach(function(nt,Y){de.indexOf(Y)===-1&&ct.setRequestHeader(Y,nt)})}else tt.headers.forEach(function(nt,Y){ct.setRequestHeader(Y,nt)});tt.signal&&(tt.signal.addEventListener("abort",Ie),ct.onreadystatechange=function(){ct.readyState===4&&tt.signal.removeEventListener("abort",Ie)}),ct.send(typeof tt._bodyInit>"u"?null:tt._bodyInit)})}return Fe.polyfill=!0,r.fetch||(r.fetch=Fe,r.Headers=g,r.Request=K,r.Response=J),t.Headers=g,t.Request=K,t.Response=J,t.fetch=Fe,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:C0)}()),C0}var gf={},Dl={},c_;function PT(){if(c_)return Dl;c_=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.removeDotSegmentsOfPath=Dl.removeDotSegments=Dl.resolve=void 0;function e(o,c){c=c||"";const s=c.indexOf("#");if(s>0&&(c=c.substr(0,s)),!o.length){if(c.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${c}' for value '${o}'`);return c}if(o.startsWith("?")){const S=c.indexOf("?");return S>0&&(c=c.substr(0,S)),c+o}if(o.startsWith("#"))return c+o;if(!c.length){const S=o.indexOf(":");if(S<0)throw new Error(`Found invalid relative IRI '${o}' for a missing baseIRI`);return r(o,S)}const u=o.indexOf(":");if(u>=0)return r(o,u);const h=c.indexOf(":");if(h<0)throw new Error(`Found invalid baseIRI '${c}' for value '${o}'`);const f=c.substr(0,h+1);if(o.indexOf("//")===0)return f+r(o,u);let g;if(c.indexOf("//",h)===h+1){if(g=c.indexOf("/",h+3),g<0)return c.length>h+3?c+"/"+r(o,u):f+r(o,u)}else if(g=c.indexOf("/",h+1),g<0)return f+r(o,u);if(o.indexOf("/")===0)return c.substr(0,g)+t(o);let v=c.substr(g);const w=v.lastIndexOf("/");return w>=0&&w<v.length-1&&(v=v.substr(0,w+1),o[0]==="."&&o[1]!=="."&&o[1]!=="/"&&o[2]&&(o=o.substr(1))),o=v+o,o=t(o),c.substr(0,g)+o}Dl.resolve=e;function t(o){const c=[];let s=0;for(;s<o.length;)switch(o[s]){case"/":if(o[s+1]===".")if(o[s+2]==="."){if(!a(o[s+3])){c.push([]),s++;break}c.pop(),o[s+3]||c.push([]),s+=3}else{if(!a(o[s+2])){c.push([]),s++;break}o[s+2]||c.push([]),s+=2}else c.push([]),s++;break;case"#":case"?":c.length||c.push([]),c[c.length-1].push(o.substr(s)),s=o.length;break;default:c.length||c.push([]),c[c.length-1].push(o[s]),s++;break}return"/"+c.map(u=>u.join("")).join("/")}Dl.removeDotSegments=t;function r(o,c){let s=c+1;c>=0?o[c+1]==="/"&&o[c+2]==="/"&&(s=c+3):o[0]==="/"&&o[1]==="/"&&(s=2);const u=o.indexOf("/",s);if(u<0)return o;const h=o.substr(0,u),f=o.substr(u);return h+t(f)}Dl.removeDotSegmentsOfPath=r;function a(o){return!o||o==="#"||o==="?"||o==="/"}return Dl}var f_;function Sb(){return f_||(f_=1,function(e){var t=gf&&gf.__createBinding||(Object.create?function(a,o,c,s){s===void 0&&(s=c),Object.defineProperty(a,s,{enumerable:!0,get:function(){return o[c]}})}:function(a,o,c,s){s===void 0&&(s=c),a[s]=o[c]}),r=gf&&gf.__exportStar||function(a,o){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(o,c)&&t(o,a,c)};Object.defineProperty(e,"__esModule",{value:!0}),r(PT(),e)}(gf)),gf}var O0={},d_;function Lg(){return d_||(d_=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class t extends Error{constructor(a,o){super(a),this.code=o}}e.ErrorCoded=t,function(r){r.COLLIDING_KEYWORDS="colliding keywords",r.CONFLICTING_INDEXES="conflicting indexes",r.CYCLIC_IRI_MAPPING="cyclic IRI mapping",r.INVALID_ID_VALUE="invalid @id value",r.INVALID_INDEX_VALUE="invalid @index value",r.INVALID_NEST_VALUE="invalid @nest value",r.INVALID_PREFIX_VALUE="invalid @prefix value",r.INVALID_PROPAGATE_VALUE="invalid @propagate value",r.INVALID_REVERSE_VALUE="invalid @reverse value",r.INVALID_IMPORT_VALUE="invalid @import value",r.INVALID_VERSION_VALUE="invalid @version value",r.INVALID_BASE_IRI="invalid base IRI",r.INVALID_CONTAINER_MAPPING="invalid container mapping",r.INVALID_CONTEXT_ENTRY="invalid context entry",r.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",r.INVALID_DEFAULT_LANGUAGE="invalid default language",r.INVALID_INCLUDED_VALUE="invalid @included value",r.INVALID_IRI_MAPPING="invalid IRI mapping",r.INVALID_JSON_LITERAL="invalid JSON literal",r.INVALID_KEYWORD_ALIAS="invalid keyword alias",r.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",r.INVALID_LANGUAGE_MAPPING="invalid language mapping",r.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",r.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",r.INVALID_LOCAL_CONTEXT="invalid local context",r.INVALID_REMOTE_CONTEXT="invalid remote context",r.INVALID_REVERSE_PROPERTY="invalid reverse property",r.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",r.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",r.INVALID_SCOPED_CONTEXT="invalid scoped context",r.INVALID_SCRIPT_ELEMENT="invalid script element",r.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",r.INVALID_TERM_DEFINITION="invalid term definition",r.INVALID_TYPE_MAPPING="invalid type mapping",r.INVALID_TYPE_VALUE="invalid type value",r.INVALID_TYPED_VALUE="invalid typed value",r.INVALID_VALUE_OBJECT="invalid value object",r.INVALID_VALUE_OBJECT_VALUE="invalid value object value",r.INVALID_VOCAB_MAPPING="invalid vocab mapping",r.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",r.KEYWORD_REDEFINITION="keyword redefinition",r.LOADING_DOCUMENT_FAILED="loading document failed",r.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",r.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",r.PROCESSING_MODE_CONFLICT="processing mode conflict",r.PROTECTED_TERM_REDEFINITION="protected term redefinition",r.CONTEXT_OVERFLOW="context overflow",r.INVALID_BASE_DIRECTION="invalid base direction",r.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",r.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",r.INVALID_EMBEDDED_NODE="invalid embedded node",r.INVALID_ANNOTATION="invalid annotation"}(e.ERROR_CODES||(e.ERROR_CODES={}))}(O0)),O0}var Sp={},I0,h_;function Ab(){if(h_)return I0;h_=1;var e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,r=/\s|\uFEFF|\xA0/,a=/\r?\n[\x20\x09]+/g,o=/[;,"]/,c=/[;,"]|\s/,s=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,u={IDLE:1,URI:2,ATTR:4};function h(T){return T.replace(t,"")}function f(T){return r.test(T)}function g(T,R){for(;f(T[R]);)R++;return R}function v(T){return c.test(T)||!s.test(T)}function w(T,R){return Object.keys(T).length===Object.keys(R).length&&Object.keys(T).every(C=>C in R&&T[C]===R[C])}class S{constructor(R){this.refs=[],R&&this.parse(R)}rel(R){for(var C=[],x=R.toLowerCase(),F=0;F<this.refs.length;F++)typeof this.refs[F].rel=="string"&&this.refs[F].rel.toLowerCase()===x&&C.push(this.refs[F]);return C}get(R,C){R=R.toLowerCase(),C=C.toLowerCase();for(var x=[],F=0;F<this.refs.length;F++)typeof this.refs[F][R]=="string"&&this.refs[F][R].toLowerCase()===C&&x.push(this.refs[F]);return x}set(R){return this.refs.push(R),this}setUnique(R){return this.refs.some(C=>w(C,R))||this.refs.push(R),this}has(R,C){R=R.toLowerCase(),C=C.toLowerCase();for(var x=0;x<this.refs.length;x++)if(typeof this.refs[x][R]=="string"&&this.refs[x][R].toLowerCase()===C)return!0;return!1}parse(R,P){P=P||0,R=P?R.slice(P):R,R=h(R).replace(a,"");for(var x=u.IDLE,F=R.length,P=0,K=null;P<F;)if(x===u.IDLE){if(f(R[P])){P++;continue}else if(R[P]==="<"){K!=null&&(K.rel!=null?this.refs.push(...S.expandRelations(K)):this.refs.push(K));var M=R.indexOf(">",P);if(M===-1)throw new Error("Expected end of URI delimiter at offset "+P);K={uri:R.slice(P+1,M)},P=M,x=u.URI}else throw new Error('Unexpected character "'+R[P]+'" at offset '+P);P++}else if(x===u.URI)if(f(R[P])){P++;continue}else if(R[P]===";")x=u.ATTR,P++;else if(R[P]===",")x=u.IDLE,P++;else throw new Error('Unexpected character "'+R[P]+'" at offset '+P);else if(x===u.ATTR){if(R[P]===";"||f(R[P])){P++;continue}var M=R.indexOf("=",P);M===-1&&(M=R.indexOf(";",P)),M===-1&&(M=R.length);var z=h(R.slice(P,M)).toLowerCase(),J="";if(P=M+1,P=g(R,P),R[P]==='"')for(P++;P<F;){if(R[P]==='"'){P++;break}R[P]==="\\"&&P++,J+=R[P],P++}else{for(var M=P+1;!o.test(R[M])&&M<F;)M++;J=R.slice(P,M),P=M}switch(K[z]&&S.isSingleOccurenceAttr(z)||(z[z.length-1]==="*"?K[z]=S.parseExtendedValue(J):(J=z==="type"?J.toLowerCase():J,K[z]!=null?Array.isArray(K[z])?K[z].push(J):K[z]=[K[z],J]:K[z]=J)),R[P]){case",":x=u.IDLE;break;case";":x=u.ATTR;break}P++}else throw new Error('Unknown parser state "'+x+'"');return K!=null&&(K.rel!=null?this.refs.push(...S.expandRelations(K)):this.refs.push(K)),K=null,this}toString(){for(var R=[],C="",x=null,F=0;F<this.refs.length;F++)x=this.refs[F],C=Object.keys(this.refs[F]).reduce(function(P,K){return K==="uri"?P:P+"; "+S.formatAttribute(K,x[K])},"<"+x.uri+">"),R.push(C);return R.join(", ")}}return S.isCompatibleEncoding=function(T){return e.test(T)},S.parse=function(T,R){return new S().parse(T,R)},S.isSingleOccurenceAttr=function(T){return T==="rel"||T==="type"||T==="media"||T==="title"||T==="title*"},S.isTokenAttr=function(T){return T==="rel"||T==="type"||T==="anchor"},S.escapeQuotes=function(T){return T.replace(/"/g,'\\"')},S.expandRelations=function(T){var R=T.rel.split(" ");return R.map(function(C){var x=Object.assign({},T);return x.rel=C,x})},S.parseExtendedValue=function(T){var R=/([^']+)?(?:'([^']*)')?(.+)/.exec(T);return{language:R[2].toLowerCase(),encoding:S.isCompatibleEncoding(R[1])?null:R[1].toLowerCase(),value:S.isCompatibleEncoding(R[1])?decodeURIComponent(R[3]):R[3]}},S.formatExtendedAttribute=function(T,R){var C=(R.encoding||"utf-8").toUpperCase(),x=R.language||"en",F="";return Buffer.isBuffer(R.value)&&S.isCompatibleEncoding(C)?F=R.value.toString(C):Buffer.isBuffer(R.value)?F=R.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):F=encodeURIComponent(R.value),T+"="+C+"'"+x+"'"+F},S.formatAttribute=function(T,R){return Array.isArray(R)?R.map(C=>S.formatAttribute(T,C)).join("; "):T[T.length-1]==="*"||typeof R!="string"?S.formatExtendedAttribute(T,R):(S.isTokenAttr(T)?R=v(R)?'"'+S.escapeQuotes(R)+'"':S.escapeQuotes(R):v(R)&&(R=encodeURIComponent(R),R=R.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),R='"'+R+'"'),T+"="+R)},I0=S,I0}var p_;function _1(){if(p_)return Sp;p_=1,Object.defineProperty(Sp,"__esModule",{value:!0}),Sp.FetchDocumentLoader=void 0,w1();const e=Lg(),t=Ab(),r=Sb();let a=class{constructor(c){this.fetcher=c}async load(c){const s=await(this.fetcher||fetch)(c,{headers:new Headers({accept:"application/ld+json"})});if(s.ok&&s.headers){let u=s.headers.get("Content-Type");if(u){const h=u.indexOf(";");h>0&&(u=u.substr(0,h))}if(u==="application/ld+json")return await s.json();if(s.headers.has("Link")){let h;if(s.headers.forEach((f,g)=>{if(g==="link"){const v=(0,t.parse)(f);for(const w of v.get("type","application/ld+json"))if(w.rel==="alternate"){if(h)throw new Error("Multiple JSON-LD alternate links were found on "+c);h=(0,r.resolve)(w.uri,c)}}}),h)return this.load(h)}throw new e.ErrorCoded(`Unsupported JSON-LD media type ${u}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(s.statusText||`Status code: ${s.status}`)}};return Sp.FetchDocumentLoader=a,Sp}var P0={},Ap={},g_;function xb(){if(g_)return Ap;g_=1,Object.defineProperty(Ap,"__esModule",{value:!0}),Ap.Util=void 0;class e{static isCompactIri(r){return r.indexOf(":")>0&&!(r&&r[0]==="#")}static getPrefix(r,a){if(r&&r[0]==="#")return null;const o=r.indexOf(":");if(o>=0){if(r.length>o+1&&r.charAt(o+1)==="/"&&r.charAt(o+2)==="/")return null;const c=r.substr(0,o);if(c==="_")return null;if(a[c])return c}return null}static getContextValueId(r){if(r===null||typeof r=="string")return r;const a=r["@id"];return a||null}static isSimpleTermDefinitionPrefix(r,a){return!e.isPotentialKeyword(r)&&(a.allowPrefixNonGenDelims||typeof r=="string"&&(r[0]==="_"||e.isPrefixIriEndingWithGenDelim(r)))}static isPotentialKeyword(r){return typeof r=="string"&&e.KEYWORD_REGEX.test(r)}static isPrefixIriEndingWithGenDelim(r){return e.ENDS_WITH_GEN_DELIM.test(r)}static isPrefixValue(r){return r&&(typeof r=="string"||r&&typeof r=="object")}static isValidIri(r){return!!(r&&e.IRI_REGEX.test(r))}static isValidIriWeak(r){return!!r&&r[0]!==":"&&e.IRI_REGEX_WEAK.test(r)}static isValidKeyword(r){return e.VALID_KEYWORDS[r]}static isTermProtected(r,a){const o=r[a];return typeof o!="string"&&o&&o["@protected"]}static hasProtectedTerms(r){for(const a of Object.keys(r))if(e.isTermProtected(r,a))return!0;return!1}static isReservedInternalKeyword(r){return r.startsWith("@__")}static deepEqual(r,a){const o=Object.keys(r),c=Object.keys(a);return o.length!==c.length?!1:o.every(s=>{const u=r[s],h=a[s];return u===h||u!==null&&h!==null&&typeof u=="object"&&typeof h=="object"&&this.deepEqual(u,h)})}}return e.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,e.IRI_REGEX_WEAK=/(?::[^:])|\//,e.KEYWORD_REGEX=/^@[a-z]+$/i,e.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,e.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,e.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,e.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},e.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],e.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],e.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],e.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],e.CONTAINERS_1_0=["@list","@set","@index"],Ap.Util=e,Ap}var y_;function E1(){return y_||(y_=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const t=Sb(),r=Lg(),a=xb();class o{constructor(s){this.contextRaw=s}getContextRaw(){return this.contextRaw}expandTerm(s,u,h=e.defaultExpandOptions){const f=this.contextRaw[s];if(f===null||f&&f["@id"]===null)return null;let g=!0;if(f&&u){const C=a.Util.getContextValueId(f);if(C&&C!==s)if(typeof C!="string"||!a.Util.isValidIri(C)&&!a.Util.isValidKeyword(C))a.Util.isPotentialKeyword(C)||(g=!1);else return C}const v=a.Util.getPrefix(s,this.contextRaw),w=this.contextRaw["@vocab"],S=(!!w||w==="")&&w.indexOf(":")<0,T=this.contextRaw["@base"],R=a.Util.isPotentialKeyword(s);if(v){const C=this.contextRaw[v],x=a.Util.getContextValueId(C);if(x){if(typeof C=="string"||!h.allowPrefixForcing){if(!a.Util.isSimpleTermDefinitionPrefix(x,h))return s}else if(x[0]!=="_"&&!R&&!C["@prefix"]&&!(s in this.contextRaw))return s;return x+s.substr(v.length+1)}}else if(u&&(w||w===""||h.allowVocabRelativeToBase&&T&&S)&&!R&&!a.Util.isCompactIri(s))if(S){if(h.allowVocabRelativeToBase)return(w||T?(0,t.resolve)(w,T):"")+s;throw new r.ErrorCoded(`Relative vocab expansion for term '${s}' with vocab '${w}' is not allowed.`,r.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return w+s;else if(!u&&T&&!R&&!a.Util.isCompactIri(s))return(0,t.resolve)(s,T);if(g)return s;throw new r.ErrorCoded(`Invalid IRI mapping found for context entry '${s}': '${JSON.stringify(f)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(s,u){if(u&&this.contextRaw["@vocab"]&&s.startsWith(this.contextRaw["@vocab"]))return s.substr(this.contextRaw["@vocab"].length);if(!u&&this.contextRaw["@base"]&&s.startsWith(this.contextRaw["@base"]))return s.substr(this.contextRaw["@base"].length);const h={prefix:"",suffix:s};for(const f in this.contextRaw){const g=this.contextRaw[f];if(g&&!a.Util.isPotentialKeyword(f)){const v=a.Util.getContextValueId(g);if(s.startsWith(v)){const w=s.substr(v.length);if(w)w.length<h.suffix.length&&(h.prefix=f,h.suffix=w);else if(u)return f}}}return h.prefix?h.prefix+":"+h.suffix:s}}e.JsonLdContextNormalized=o,e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(P0)),P0}var m_;function NT(){if(m_)return Ep;m_=1,Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.ContextParser=void 0,w1();const e=Sb(),t=Lg(),r=_1(),a=E1(),o=xb();let c=class vf{constructor(u){u=u||{},this.documentLoader=u.documentLoader||new r.FetchDocumentLoader,this.documentCache={},this.validateContext=!u.skipValidation,this.expandContentTypeToBase=!!u.expandContentTypeToBase,this.remoteContextsDepthLimit=u.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in u?!!u.redirectSchemaOrgHttps:!0}static validateLanguage(u,h,f){if(typeof u!="string")throw new t.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(u)}'`,f);if(!o.Util.REGEX_LANGUAGE_TAG.test(u)){if(h)throw new t.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(u)}'`,f);return!1}return!0}static validateDirection(u,h){if(typeof u!="string")throw new t.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(u)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);if(!o.Util.REGEX_DIRECTION_TAG.test(u)){if(h)throw new t.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(u)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(u){for(const h of Object.keys(u)){let f=u[h];if(f&&typeof f=="object"&&f["@reverse"]&&!f["@id"]){if(typeof f["@reverse"]!="string"||o.Util.isValidKeyword(f["@reverse"]))throw new t.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${f["@reverse"]}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);f=u[h]=Object.assign(Object.assign({},f),{"@id":f["@reverse"]}),f["@id"]=f["@reverse"],o.Util.isPotentialKeyword(f["@reverse"])?delete f["@reverse"]:f["@reverse"]=!0}}return u}expandPrefixedTerms(u,h,f){const g=u.getContextRaw();for(const v of f||Object.keys(g))if(o.Util.EXPAND_KEYS_BLACKLIST.indexOf(v)<0&&!o.Util.isReservedInternalKeyword(v)){const w=g[v];if(o.Util.isPotentialKeyword(v)&&o.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(v)>=0&&(v!=="@type"||typeof g[v]=="object"&&!(g[v]["@protected"]||g[v]["@container"]==="@set")))throw new t.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${v} to ${JSON.stringify(w)}`,t.ERROR_CODES.KEYWORD_REDEFINITION);if(o.Util.ALIAS_RANGE_BLACKLIST.indexOf(o.Util.getContextValueId(w))>=0)throw new t.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${v} to ${JSON.stringify(w)}`,t.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(w&&o.Util.isPotentialKeyword(o.Util.getContextValueId(w))&&w["@prefix"]===!0)throw new t.ErrorCoded(`Tried to use keyword aliases as prefix: '${v}': '${JSON.stringify(w)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);for(;o.Util.isPrefixValue(g[v]);){const S=g[v];let T=!1;if(typeof S=="string")g[v]=u.expandTerm(S,!0),T=T||S!==g[v];else{const R=S["@id"],C=S["@type"],x=!("@prefix"in S)||o.Util.isValidIri(v);if("@id"in S)R!=null&&typeof R=="string"&&(g[v]=Object.assign(Object.assign({},g[v]),{"@id":u.expandTerm(R,!0)}),T=T||R!==g[v]["@id"]);else if(!o.Util.isPotentialKeyword(v)&&x){const F=u.expandTerm(v,!0);F!==v&&(g[v]=Object.assign(Object.assign({},g[v]),{"@id":F}),T=!0)}if(C&&typeof C=="string"&&C!=="@vocab"&&(!S["@container"]||!S["@container"]["@type"])&&x){let F=u.expandTerm(C,!0);h&&C===F&&(F=u.expandTerm(C,!1)),F!==C&&(T=!0,g[v]=Object.assign(Object.assign({},g[v]),{"@type":F}))}}if(!T)break}}}normalize(u,{processingMode:h,normalizeLanguageTags:f}){if(f||h===1)for(const g of Object.keys(u))if(g==="@language"&&typeof u[g]=="string")u[g]=u[g].toLowerCase();else{const v=u[g];if(v&&typeof v=="object"&&typeof v["@language"]=="string"){const w=v["@language"].toLowerCase();w!==v["@language"]&&(u[g]=Object.assign(Object.assign({},v),{"@language":w}))}}}containersToHash(u){for(const h of Object.keys(u)){const f=u[h];if(f&&typeof f=="object"){if(typeof f["@container"]=="string")u[h]=Object.assign(Object.assign({},f),{"@container":{[f["@container"]]:!0}});else if(Array.isArray(f["@container"])){const g={};for(const v of f["@container"])g[v]=!0;u[h]=Object.assign(Object.assign({},f),{"@container":g})}}}}applyScopedProtected(u,{processingMode:h},f){if(h&&h>=1.1&&u["@protected"]){for(const g of Object.keys(u))if(!o.Util.isReservedInternalKeyword(g)&&!o.Util.isPotentialKeyword(g)&&!o.Util.isTermProtected(u,g)){const v=u[g];v&&typeof v=="object"?"@protected"in u[g]||(u[g]=Object.assign(Object.assign({},u[g]),{"@protected":!0})):(u[g]={"@id":v,"@protected":!0},o.Util.isSimpleTermDefinitionPrefix(v,f)&&(u[g]=Object.assign(Object.assign({},u[g]),{"@prefix":!0})))}delete u["@protected"]}}validateKeywordRedefinitions(u,h,f,g){for(const v of g??Object.keys(h))if(o.Util.isTermProtected(u,v)&&(typeof h[v]=="string"?h[v]={"@id":h[v],"@protected":!0}:h[v]=Object.assign(Object.assign({},h[v]),{"@protected":!0}),!o.Util.deepEqual(u[v],h[v])))throw new t.ErrorCoded(`Attempted to override the protected keyword ${v} from ${JSON.stringify(o.Util.getContextValueId(u[v]))} to ${JSON.stringify(o.Util.getContextValueId(h[v]))}`,t.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(u,{processingMode:h}){for(const f of Object.keys(u)){if(o.Util.isReservedInternalKeyword(f))continue;if(f==="")throw new t.ErrorCoded(`The empty term is not allowed, got: '${f}': '${JSON.stringify(u[f])}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);const g=u[f],v=typeof g;if(o.Util.isPotentialKeyword(f)){switch(f.substr(1)){case"vocab":if(g!==null&&v!=="string")throw new t.ErrorCoded(`Found an invalid @vocab IRI: ${g}`,t.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(g!==null&&v!=="string")throw new t.ErrorCoded(`Found an invalid @base IRI: ${u[f]}`,t.ERROR_CODES.INVALID_BASE_IRI);break;case"language":g!==null&&vf.validateLanguage(g,!0,t.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(g!==null&&v!=="number")throw new t.ErrorCoded(`Found an invalid @version number: ${g}`,t.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":g!==null&&vf.validateDirection(g,!0);break;case"propagate":if(h===1)throw new t.ErrorCoded(`Found an illegal @propagate keyword: ${g}`,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(g!==null&&v!=="boolean")throw new t.ErrorCoded(`Found an invalid @propagate value: ${g}`,t.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(o.Util.isValidKeyword(f)&&o.Util.isValidKeyword(o.Util.getContextValueId(g)))throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${f}': '${o.Util.getContextValueId(g)}'`,t.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(g!==null)switch(v){case"string":if(o.Util.getPrefix(g,u)===f)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${f}': '${JSON.stringify(g)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);if(o.Util.isValidIriWeak(f)){if(g==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${f}': '${g}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(o.Util.isValidIri(g)&&g!==new a.JsonLdContextNormalized(u).expandTerm(f))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${f}': '${g}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!o.Util.isCompactIri(f)&&!("@id"in g)&&(g["@type"]==="@id"?!u["@base"]:!u["@vocab"]))throw new t.ErrorCoded(`Missing @id in context entry: '${f}': '${JSON.stringify(g)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);for(const w of Object.keys(g)){const S=g[w];if(S)switch(w){case"@id":if(o.Util.isValidKeyword(S)&&S!=="@type"&&S!=="@id"&&S!=="@graph"&&S!=="@nest")throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${f}': '${JSON.stringify(g)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(o.Util.isValidIriWeak(f)){if(S==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${f}': '${JSON.stringify(g)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(o.Util.isValidIri(S)&&S!==new a.JsonLdContextNormalized(u).expandTerm(f))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${f}': '${JSON.stringify(g)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof S!="string")throw new t.ErrorCoded(`Detected non-string @id in context entry: '${f}': '${JSON.stringify(g)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(o.Util.getPrefix(S,u)===f)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${f}': '${JSON.stringify(g)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(g["@container"]==="@type"&&S!=="@id"&&S!=="@vocab")throw new t.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${f}': '${S}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof S!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(v)}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(S!=="@id"&&S!=="@vocab"&&(h===1||S!=="@json")&&(h===1||S!=="@none")&&(S[0]==="_"||!o.Util.isValidIri(S)))throw new t.ErrorCoded(`A context @type must be an absolute IRI, found: '${f}': '${S}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof S=="string"&&g["@id"]&&g["@id"]!==S)throw new t.ErrorCoded(`Found non-matching @id and @reverse term values in '${f}':'${S}' and '${g["@id"]}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in g)throw new t.ErrorCoded(`@nest is not allowed in the reverse property '${f}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(h===1&&(Object.keys(S).length>1||o.Util.CONTAINERS_1_0.indexOf(Object.keys(S)[0])<0))throw new t.ErrorCoded(`Invalid term @container for '${f}' ('${Object.keys(S)}') in 1.0, must be only one of ${o.Util.CONTAINERS_1_0.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const T of Object.keys(S)){if(T==="@list"&&g["@reverse"])throw new t.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${f}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(o.Util.CONTAINERS.indexOf(T)<0)throw new t.ErrorCoded(`Invalid term @container for '${f}' ('${T}'), must be one of ${o.Util.CONTAINERS.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":vf.validateLanguage(S,!0,t.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":vf.validateDirection(S,!0);break;case"@prefix":if(S!==null&&typeof S!="boolean")throw new t.ErrorCoded(`Found an invalid term @prefix boolean in: '${f}': '${JSON.stringify(g)}'`,t.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in g)&&!o.Util.isValidIri(f))throw new t.ErrorCoded(`Invalid @prefix definition for '${f}' ('${JSON.stringify(g)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(h===1||!g["@container"]||!g["@container"]["@index"])throw new t.ErrorCoded(`Attempt to add illegal key to value object: '${f}': '${JSON.stringify(g)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(o.Util.isPotentialKeyword(S)&&S!=="@nest")throw new t.ErrorCoded(`Found an invalid term @nest value in: '${f}': '${JSON.stringify(g)}'`,t.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new t.ErrorCoded(`Found an invalid term value: '${f}': '${g}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(u,h,f){return typeof u=="string"||(f&&!("@base"in u)&&h.parentContext&&typeof h.parentContext=="object"&&"@base"in h.parentContext&&(u["@base"]=h.parentContext["@base"],h.parentContext["@__baseDocument"]&&(u["@__baseDocument"]=!0)),h.baseIRI&&!h.external&&("@base"in u?u["@base"]!==null&&typeof u["@base"]=="string"&&!o.Util.isValidIri(u["@base"])&&(u["@base"]=(0,e.resolve)(u["@base"],h.parentContext&&h.parentContext["@base"]||h.baseIRI)):(u["@base"]=h.baseIRI,u["@__baseDocument"]=!0))),u}normalizeContextIri(u,h){if(!o.Util.isValidIri(u))try{u=(0,e.resolve)(u,h)}catch{throw new Error(`Invalid context IRI: ${u}`)}return this.redirectSchemaOrgHttps&&u.startsWith("http://schema.org")&&(u="https://schema.org/"),u}async parseInnerContexts(u,h,f){for(const g of f??Object.keys(u)){const v=u[g];if(v&&typeof v=="object"&&"@context"in v&&v["@context"]!==null&&!h.ignoreScopedContexts){if(this.validateContext)try{const w=Object.assign(Object.assign({},u),{[g]:Object.assign({},u[g])});delete w[g]["@context"],await this.parse(v["@context"],Object.assign(Object.assign({},h),{external:!1,parentContext:w,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(w){throw new t.ErrorCoded(w.message,t.ERROR_CODES.INVALID_SCOPED_CONTEXT)}u[g]=Object.assign(Object.assign({},v),{"@context":(await this.parse(v["@context"],Object.assign(Object.assign({},h),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:u}))).getContextRaw()})}}return u}async parse(u,h={},f={}){const{baseIRI:g,parentContext:v,external:w,processingMode:S=vf.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:T,ignoreProtection:R,minimalProcessing:C}=h,x=h.remoteContexts||{};if(Object.keys(x).length>=this.remoteContextsDepthLimit)throw new t.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(x),t.ERROR_CODES.CONTEXT_OVERFLOW);if(u==null){if(!R&&v&&o.Util.hasProtectedTerms(v))throw new t.ErrorCoded("Illegal context nullification when terms are protected",t.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new a.JsonLdContextNormalized(this.applyBaseEntry({},h,!1))}else if(typeof u=="string"){const F=this.normalizeContextIri(u,g),P=this.getOverriddenLoad(F,h);if(P)return new a.JsonLdContextNormalized(P);const K=await this.parse(await this.load(F),Object.assign(Object.assign({},h),{baseIRI:F,external:!0,remoteContexts:Object.assign(Object.assign({},x),{[F]:!0})}));return this.applyBaseEntry(K.getContextRaw(),h,!0),K}else if(Array.isArray(u)){const F=[],P=await Promise.all(u.map((M,z)=>{if(typeof M=="string"){const J=this.normalizeContextIri(M,g);F[z]=J;const q=this.getOverriddenLoad(J,h);return q||this.load(J)}else return M}));if(C)return new a.JsonLdContextNormalized(P);const K=await P.reduce((M,z,J)=>M.then(q=>this.parse(z,Object.assign(Object.assign({},h),{baseIRI:F[J]||h.baseIRI,external:!!F[J]||h.external,parentContext:q.getContextRaw(),remoteContexts:F[J]?Object.assign(Object.assign({},x),{[F[J]]:!0}):x}),{skipValidation:J<P.length-1})),Promise.resolve(new a.JsonLdContextNormalized(v||{})));return this.applyBaseEntry(K.getContextRaw(),h,!0),K}else if(typeof u=="object"){if("@context"in u)return await this.parse(u["@context"],h);if(u=Object.assign({},u),w&&delete u["@base"],this.applyBaseEntry(u,h,!0),this.containersToHash(u),C)return new a.JsonLdContextNormalized(u);let F={};if("@import"in u)if(S>=1.1){if(typeof u["@import"]!="string")throw new t.ErrorCoded("An @import value must be a string, but got "+typeof u["@import"],t.ERROR_CODES.INVALID_IMPORT_VALUE);F=await this.loadImportContext(this.normalizeContextIri(u["@import"],g)),delete u["@import"]}else throw new t.ErrorCoded("Context importing is not supported in JSON-LD 1.0",t.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(F,{processingMode:S},a.defaultExpandOptions);const P=Object.assign(F,u);this.idifyReverseTerms(P),this.normalize(P,{processingMode:S,normalizeLanguageTags:T}),this.applyScopedProtected(P,{processingMode:S},a.defaultExpandOptions);const K=Object.keys(P),M=[];if(typeof v=="object")for(const J in v)J in P?M.push(J):P[J]=v[J];await this.parseInnerContexts(P,h,K);const z=new a.JsonLdContextNormalized(P);return(P&&P["@version"]||vf.DEFAULT_PROCESSING_MODE)>=1.1&&(u["@vocab"]&&typeof u["@vocab"]=="string"||u["@vocab"]==="")&&(v&&"@vocab"in v&&u["@vocab"].indexOf(":")<0?P["@vocab"]=v["@vocab"]+u["@vocab"]:(o.Util.isCompactIri(u["@vocab"])||u["@vocab"]in P)&&(P["@vocab"]=z.expandTerm(u["@vocab"],!0))),this.expandPrefixedTerms(z,this.expandContentTypeToBase,K),!R&&v&&S>=1.1&&this.validateKeywordRedefinitions(v,P,a.defaultExpandOptions,M),this.validateContext&&!f.skipValidation&&this.validate(P,{processingMode:S}),z}else throw new t.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${u}`,t.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(u){const h=this.documentCache[u];if(h)return h;let f;try{f=await this.documentLoader.load(u)}catch(g){throw new t.ErrorCoded(`Failed to load remote context ${u}: ${g.message}`,t.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in f))throw new t.ErrorCoded(`Missing @context in remote context at ${u}`,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[u]=f["@context"]}getOverriddenLoad(u,h){if(u in(h.remoteContexts||{})){if(h.ignoreRemoteScopedContexts)return u;throw new t.ErrorCoded("Detected a cyclic context inclusion of "+u,t.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(u){let h=await this.load(u);if(typeof h!="object"||Array.isArray(h))throw new t.ErrorCoded("An imported context must be a single object: "+u,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in h)throw new t.ErrorCoded("An imported context can not import another context: "+u,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);return h=Object.assign({},h),this.containersToHash(h),h}};return c.DEFAULT_PROCESSING_MODE=1.1,Ep.ContextParser=c,Ep}var N0={},v_;function FT(){return v_||(v_=1,Object.defineProperty(N0,"__esModule",{value:!0})),N0}var F0={},b_;function DT(){return b_||(b_=1,Object.defineProperty(F0,"__esModule",{value:!0})),F0}var w_;function Ca(){return w_||(w_=1,function(e){var t=pf&&pf.__createBinding||(Object.create?function(a,o,c,s){s===void 0&&(s=c);var u=Object.getOwnPropertyDescriptor(o,c);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[c]}}),Object.defineProperty(a,s,u)}:function(a,o,c,s){s===void 0&&(s=c),a[s]=o[c]}),r=pf&&pf.__exportStar||function(a,o){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(o,c)&&t(o,a,c)};Object.defineProperty(e,"__esModule",{value:!0}),r(NT(),e),r(Lg(),e),r(_1(),e),r(FT(),e),r(DT(),e),r(E1(),e),r(xb(),e)}(pf)),pf}var D0={exports:{}},U0={exports:{}},L0,__;function yi(){if(__)return L0;__=1;class e extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let a="";for(let o=0;o<r.length;o++)a+=`    ${r[o].stack}
`;super(a),this.name="AggregateError",this.errors=r}}return L0={AggregateError:e,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,r){return t.includes(r)},ArrayPrototypeIndexOf(t,r){return t.indexOf(r)},ArrayPrototypeJoin(t,r){return t.join(r)},ArrayPrototypeMap(t,r){return t.map(r)},ArrayPrototypePop(t,r){return t.pop(r)},ArrayPrototypePush(t,r){return t.push(r)},ArrayPrototypeSlice(t,r,a){return t.slice(r,a)},Error,FunctionPrototypeCall(t,r,...a){return t.call(r,...a)},FunctionPrototypeSymbolHasInstance(t,r){return Function.prototype[Symbol.hasInstance].call(t,r)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,r){return Object.defineProperties(t,r)},ObjectDefineProperty(t,r,a){return Object.defineProperty(t,r,a)},ObjectGetOwnPropertyDescriptor(t,r){return Object.getOwnPropertyDescriptor(t,r)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,r){return Object.setPrototypeOf(t,r)},Promise,PromisePrototypeCatch(t,r){return t.catch(r)},PromisePrototypeThen(t,r,a){return t.then(r,a)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,r){return t.test(r)},SafeSet:Set,String,StringPrototypeSlice(t,r,a){return t.slice(r,a)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,r,a){return t.set(r,a)},Boolean,Uint8Array},L0}var M0={exports:{}},k0,E_;function S1(){return E_||(E_=1,k0={format(e,...t){return e.replace(/%([sdifj])/g,function(...[r,a]){const o=t.shift();return a==="f"?o.toFixed(6):a==="j"?JSON.stringify(o):a==="s"&&typeof o=="object"?`${o.constructor!==Object?o.constructor.name:""} {}`.trim():o.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}),k0}var B0,S_;function Oa(){if(S_)return B0;S_=1;const{format:e,inspect:t}=S1(),{AggregateError:r}=yi(),a=globalThis.AggregateError||r,o=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],s=/^([A-Z][a-z0-9]*)+$/,u="__node_internal_",h={};function f(C,x){if(!C)throw new h.ERR_INTERNAL_ASSERTION(x)}function g(C){let x="",F=C.length;const P=C[0]==="-"?1:0;for(;F>=P+4;F-=3)x=`_${C.slice(F-3,F)}${x}`;return`${C.slice(0,F)}${x}`}function v(C,x,F){if(typeof x=="function")return f(x.length<=F.length,`Code: ${C}; The provided arguments length (${F.length}) does not match the required ones (${x.length}).`),x(...F);const P=(x.match(/%[dfijoOs]/g)||[]).length;return f(P===F.length,`Code: ${C}; The provided arguments length (${F.length}) does not match the required ones (${P}).`),F.length===0?x:e(x,...F)}function w(C,x,F){F||(F=Error);class P extends F{constructor(...M){super(v(C,x,M))}toString(){return`${this.name} [${C}]: ${this.message}`}}Object.defineProperties(P.prototype,{name:{value:F.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${C}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),P.prototype.code=C,P.prototype[o]=!0,h[C]=P}function S(C){const x=u+C.name;return Object.defineProperty(C,"name",{value:x}),C}function T(C,x){if(C&&x&&C!==x){if(Array.isArray(x.errors))return x.errors.push(C),x;const F=new a([x,C],x.message);return F.code=x.code,F}return C||x}class R extends Error{constructor(x="The operation was aborted",F=void 0){if(F!==void 0&&typeof F!="object")throw new h.ERR_INVALID_ARG_TYPE("options","Object",F);super(x,F),this.code="ABORT_ERR",this.name="AbortError"}}return w("ERR_ASSERTION","%s",Error),w("ERR_INVALID_ARG_TYPE",(C,x,F)=>{f(typeof C=="string","'name' must be a string"),Array.isArray(x)||(x=[x]);let P="The ";C.endsWith(" argument")?P+=`${C} `:P+=`"${C}" ${C.includes(".")?"property":"argument"} `,P+="must be ";const K=[],M=[],z=[];for(const q of x)f(typeof q=="string","All expected entries have to be of type string"),c.includes(q)?K.push(q.toLowerCase()):s.test(q)?M.push(q):(f(q!=="object",'The value "object" should be written as "Object"'),z.push(q));if(M.length>0){const q=K.indexOf("object");q!==-1&&(K.splice(K,q,1),M.push("Object"))}if(K.length>0){switch(K.length){case 1:P+=`of type ${K[0]}`;break;case 2:P+=`one of type ${K[0]} or ${K[1]}`;break;default:{const q=K.pop();P+=`one of type ${K.join(", ")}, or ${q}`}}(M.length>0||z.length>0)&&(P+=" or ")}if(M.length>0){switch(M.length){case 1:P+=`an instance of ${M[0]}`;break;case 2:P+=`an instance of ${M[0]} or ${M[1]}`;break;default:{const q=M.pop();P+=`an instance of ${M.join(", ")}, or ${q}`}}z.length>0&&(P+=" or ")}switch(z.length){case 0:break;case 1:z[0].toLowerCase()!==z[0]&&(P+="an "),P+=`${z[0]}`;break;case 2:P+=`one of ${z[0]} or ${z[1]}`;break;default:{const q=z.pop();P+=`one of ${z.join(", ")}, or ${q}`}}if(F==null)P+=`. Received ${F}`;else if(typeof F=="function"&&F.name)P+=`. Received function ${F.name}`;else if(typeof F=="object"){var J;if((J=F.constructor)!==null&&J!==void 0&&J.name)P+=`. Received an instance of ${F.constructor.name}`;else{const q=t(F,{depth:-1});P+=`. Received ${q}`}}else{let q=t(F,{colors:!1});q.length>25&&(q=`${q.slice(0,25)}...`),P+=`. Received type ${typeof F} (${q})`}return P},TypeError),w("ERR_INVALID_ARG_VALUE",(C,x,F="is invalid")=>{let P=t(x);return P.length>128&&(P=P.slice(0,128)+"..."),`The ${C.includes(".")?"property":"argument"} '${C}' ${F}. Received ${P}`},TypeError),w("ERR_INVALID_RETURN_VALUE",(C,x,F)=>{var P;const K=F!=null&&(P=F.constructor)!==null&&P!==void 0&&P.name?`instance of ${F.constructor.name}`:`type ${typeof F}`;return`Expected ${C} to be returned from the "${x}" function but got ${K}.`},TypeError),w("ERR_MISSING_ARGS",(...C)=>{f(C.length>0,"At least one arg needs to be specified");let x;const F=C.length;switch(C=(Array.isArray(C)?C:[C]).map(P=>`"${P}"`).join(" or "),F){case 1:x+=`The ${C[0]} argument`;break;case 2:x+=`The ${C[0]} and ${C[1]} arguments`;break;default:{const P=C.pop();x+=`The ${C.join(", ")}, and ${P} arguments`}break}return`${x} must be specified`},TypeError),w("ERR_OUT_OF_RANGE",(C,x,F)=>{f(x,'Missing "range" argument');let P;if(Number.isInteger(F)&&Math.abs(F)>2**32)P=g(String(F));else if(typeof F=="bigint"){P=String(F);const K=BigInt(2)**BigInt(32);(F>K||F<-K)&&(P=g(P)),P+="n"}else P=t(F);return`The value of "${C}" is out of range. It must be ${x}. Received ${P}`},RangeError),w("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),w("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),w("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),w("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),w("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),w("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),w("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),w("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),w("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),w("ERR_STREAM_WRITE_AFTER_END","write after end",Error),w("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),B0={AbortError:R,aggregateTwoErrors:S(T),hideStackFrames:S,codes:h},B0}var xp={exports:{}},A_;function Tg(){if(A_)return xp.exports;A_=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return xp.exports=e,xp.exports.AbortSignal=t,xp.exports.default=e,xp.exports}var Hy={exports:{}},x_;function Rf(){if(x_)return Hy.exports;x_=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(M,z,J){return Function.prototype.apply.call(M,z,J)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:r=function(M){return Object.getOwnPropertyNames(M)};function a(K){console&&console.warn&&console.warn(K)}var o=Number.isNaN||function(M){return M!==M};function c(){c.init.call(this)}Hy.exports=c,Hy.exports.once=x,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var s=10;function u(K){if(typeof K!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof K)}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(K){if(typeof K!="number"||K<0||o(K))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+K+".");s=K}}),c.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||o(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this};function h(K){return K._maxListeners===void 0?c.defaultMaxListeners:K._maxListeners}c.prototype.getMaxListeners=function(){return h(this)},c.prototype.emit=function(M){for(var z=[],J=1;J<arguments.length;J++)z.push(arguments[J]);var q=M==="error",Fe=this._events;if(Fe!==void 0)q=q&&Fe.error===void 0;else if(!q)return!1;if(q){var $;if(z.length>0&&($=z[0]),$ instanceof Error)throw $;var ie=new Error("Unhandled error."+($?" ("+$.message+")":""));throw ie.context=$,ie}var ge=Fe[M];if(ge===void 0)return!1;if(typeof ge=="function")t(ge,this,z);else for(var Ee=ge.length,tt=T(ge,Ee),J=0;J<Ee;++J)t(tt[J],this,z);return!0};function f(K,M,z,J){var q,Fe,$;if(u(z),Fe=K._events,Fe===void 0?(Fe=K._events=Object.create(null),K._eventsCount=0):(Fe.newListener!==void 0&&(K.emit("newListener",M,z.listener?z.listener:z),Fe=K._events),$=Fe[M]),$===void 0)$=Fe[M]=z,++K._eventsCount;else if(typeof $=="function"?$=Fe[M]=J?[z,$]:[$,z]:J?$.unshift(z):$.push(z),q=h(K),q>0&&$.length>q&&!$.warned){$.warned=!0;var ie=new Error("Possible EventEmitter memory leak detected. "+$.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");ie.name="MaxListenersExceededWarning",ie.emitter=K,ie.type=M,ie.count=$.length,a(ie)}return K}c.prototype.addListener=function(M,z){return f(this,M,z,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(M,z){return f(this,M,z,!0)};function g(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(K,M,z){var J={fired:!1,wrapFn:void 0,target:K,type:M,listener:z},q=g.bind(J);return q.listener=z,J.wrapFn=q,q}c.prototype.once=function(M,z){return u(z),this.on(M,v(this,M,z)),this},c.prototype.prependOnceListener=function(M,z){return u(z),this.prependListener(M,v(this,M,z)),this},c.prototype.removeListener=function(M,z){var J,q,Fe,$,ie;if(u(z),q=this._events,q===void 0)return this;if(J=q[M],J===void 0)return this;if(J===z||J.listener===z)--this._eventsCount===0?this._events=Object.create(null):(delete q[M],q.removeListener&&this.emit("removeListener",M,J.listener||z));else if(typeof J!="function"){for(Fe=-1,$=J.length-1;$>=0;$--)if(J[$]===z||J[$].listener===z){ie=J[$].listener,Fe=$;break}if(Fe<0)return this;Fe===0?J.shift():R(J,Fe),J.length===1&&(q[M]=J[0]),q.removeListener!==void 0&&this.emit("removeListener",M,ie||z)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(M){var z,J,q;if(J=this._events,J===void 0)return this;if(J.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):J[M]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete J[M]),this;if(arguments.length===0){var Fe=Object.keys(J),$;for(q=0;q<Fe.length;++q)$=Fe[q],$!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(z=J[M],typeof z=="function")this.removeListener(M,z);else if(z!==void 0)for(q=z.length-1;q>=0;q--)this.removeListener(M,z[q]);return this};function w(K,M,z){var J=K._events;if(J===void 0)return[];var q=J[M];return q===void 0?[]:typeof q=="function"?z?[q.listener||q]:[q]:z?C(q):T(q,q.length)}c.prototype.listeners=function(M){return w(this,M,!0)},c.prototype.rawListeners=function(M){return w(this,M,!1)},c.listenerCount=function(K,M){return typeof K.listenerCount=="function"?K.listenerCount(M):S.call(K,M)},c.prototype.listenerCount=S;function S(K){var M=this._events;if(M!==void 0){var z=M[K];if(typeof z=="function")return 1;if(z!==void 0)return z.length}return 0}c.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function T(K,M){for(var z=new Array(M),J=0;J<M;++J)z[J]=K[J];return z}function R(K,M){for(;M+1<K.length;M++)K[M]=K[M+1];K.pop()}function C(K){for(var M=new Array(K.length),z=0;z<M.length;++z)M[z]=K[z].listener||K[z];return M}function x(K,M){return new Promise(function(z,J){function q($){K.removeListener(M,Fe),J($)}function Fe(){typeof K.removeListener=="function"&&K.removeListener("error",q),z([].slice.call(arguments))}P(K,M,Fe,{once:!0}),M!=="error"&&F(K,q,{once:!0})})}function F(K,M,z){typeof K.on=="function"&&P(K,"error",M,z)}function P(K,M,z,J){if(typeof K.on=="function")J.once?K.once(M,z):K.on(M,z);else if(typeof K.addEventListener=="function")K.addEventListener(M,function q(Fe){J.once&&K.removeEventListener(M,q),z(Fe)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof K)}return Hy.exports}var R_;function Wa(){return R_||(R_=1,function(e){const t=Ls(),{format:r,inspect:a}=S1(),{codes:{ERR_INVALID_ARG_TYPE:o}}=Oa(),{kResistStopPropagation:c,AggregateError:s,SymbolDispose:u}=yi(),h=globalThis.AbortSignal||Tg().AbortSignal,f=globalThis.AbortController||Tg().AbortController,g=Object.getPrototypeOf(async function(){}).constructor,v=globalThis.Blob||t.Blob,w=typeof v<"u"?function(C){return C instanceof v}:function(C){return!1},S=(R,C)=>{if(R!==void 0&&(R===null||typeof R!="object"||!("aborted"in R)))throw new o(C,"AbortSignal",R)},T=(R,C)=>{if(typeof R!="function")throw new o(C,"Function",R)};e.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(R){let C=!1;return function(...x){C||(C=!0,R.apply(this,x))}},createDeferredPromise:function(){let R,C;return{promise:new Promise((F,P)=>{R=F,C=P}),resolve:R,reject:C}},promisify(R){return new Promise((C,x)=>{R((F,...P)=>F?x(F):C(...P))})},debuglog(){return function(){}},format:r,inspect:a,types:{isAsyncFunction(R){return R instanceof g},isArrayBufferView(R){return ArrayBuffer.isView(R)}},isBlob:w,deprecate(R,C){return R},addAbortListener:Rf().addAbortListener||function(C,x){if(C===void 0)throw new o("signal","AbortSignal",C);S(C,"signal"),T(x,"listener");let F;return C.aborted?queueMicrotask(()=>x()):(C.addEventListener("abort",x,{__proto__:null,once:!0,[c]:!0}),F=()=>{C.removeEventListener("abort",x)}),{__proto__:null,[u](){var P;(P=F)===null||P===void 0||P()}}},AbortSignalAny:h.any||function(C){if(C.length===1)return C[0];const x=new f,F=()=>x.abort();return C.forEach(P=>{S(P,"signals"),P.addEventListener("abort",F,{once:!0})}),x.signal.addEventListener("abort",()=>{C.forEach(P=>P.removeEventListener("abort",F))},{once:!0}),x.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(M0)),M0.exports}var Vy={},j0,T_;function Mg(){if(T_)return j0;T_=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:r,ArrayPrototypeMap:a,NumberIsInteger:o,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:s,NumberMIN_SAFE_INTEGER:u,NumberParseInt:h,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:g,String:v,StringPrototypeToUpperCase:w,StringPrototypeTrim:S}=yi(),{hideStackFrames:T,codes:{ERR_SOCKET_BAD_PORT:R,ERR_INVALID_ARG_TYPE:C,ERR_INVALID_ARG_VALUE:x,ERR_OUT_OF_RANGE:F,ERR_UNKNOWN_SIGNAL:P}}=Oa(),{normalizeEncoding:K}=Wa(),{isAsyncFunction:M,isArrayBufferView:z}=Wa().types,J={};function q(Te){return Te===(Te|0)}function Fe(Te){return Te===Te>>>0}const $=/^[0-7]+$/,ie="must be a 32-bit unsigned integer or an octal string";function ge(Te,yt,Ot){if(typeof Te>"u"&&(Te=Ot),typeof Te=="string"){if(g($,Te)===null)throw new x(yt,Te,ie);Te=h(Te,8)}return ct(Te,yt),Te}const Ee=T((Te,yt,Ot=u,wt=s)=>{if(typeof Te!="number")throw new C(yt,"number",Te);if(!o(Te))throw new F(yt,"an integer",Te);if(Te<Ot||Te>wt)throw new F(yt,`>= ${Ot} && <= ${wt}`,Te)}),tt=T((Te,yt,Ot=-2147483648,wt=2147483647)=>{if(typeof Te!="number")throw new C(yt,"number",Te);if(!o(Te))throw new F(yt,"an integer",Te);if(Te<Ot||Te>wt)throw new F(yt,`>= ${Ot} && <= ${wt}`,Te)}),ct=T((Te,yt,Ot=!1)=>{if(typeof Te!="number")throw new C(yt,"number",Te);if(!o(Te))throw new F(yt,"an integer",Te);const wt=Ot?1:0,Xe=4294967295;if(Te<wt||Te>Xe)throw new F(yt,`>= ${wt} && <= ${Xe}`,Te)});function Ie(Te,yt){if(typeof Te!="string")throw new C(yt,"string",Te)}function ht(Te,yt,Ot=void 0,wt){if(typeof Te!="number")throw new C(yt,"number",Te);if(Ot!=null&&Te<Ot||wt!=null&&Te>wt||(Ot!=null||wt!=null)&&c(Te))throw new F(yt,`${Ot!=null?`>= ${Ot}`:""}${Ot!=null&&wt!=null?" && ":""}${wt!=null?`<= ${wt}`:""}`,Te)}const de=T((Te,yt,Ot)=>{if(!t(Ot,Te)){const Xe="must be one of: "+r(a(Ot,ze=>typeof ze=="string"?`'${ze}'`:v(ze)),", ");throw new x(yt,Te,Xe)}});function nt(Te,yt){if(typeof Te!="boolean")throw new C(yt,"boolean",Te)}function Y(Te,yt,Ot){return Te==null||!f(Te,yt)?Ot:Te[yt]}const Re=T((Te,yt,Ot=null)=>{const wt=Y(Ot,"allowArray",!1),Xe=Y(Ot,"allowFunction",!1);if(!Y(Ot,"nullable",!1)&&Te===null||!wt&&e(Te)||typeof Te!="object"&&(!Xe||typeof Te!="function"))throw new C(yt,"Object",Te)}),Qe=T((Te,yt)=>{if(Te!=null&&typeof Te!="object"&&typeof Te!="function")throw new C(yt,"a dictionary",Te)}),He=T((Te,yt,Ot=0)=>{if(!e(Te))throw new C(yt,"Array",Te);if(Te.length<Ot){const wt=`must be longer than ${Ot}`;throw new x(yt,Te,wt)}});function st(Te,yt){He(Te,yt);for(let Ot=0;Ot<Te.length;Ot++)Ie(Te[Ot],`${yt}[${Ot}]`)}function It(Te,yt){He(Te,yt);for(let Ot=0;Ot<Te.length;Ot++)nt(Te[Ot],`${yt}[${Ot}]`)}function kt(Te,yt){He(Te,yt);for(let Ot=0;Ot<Te.length;Ot++){const wt=Te[Ot],Xe=`${yt}[${Ot}]`;if(wt==null)throw new C(Xe,"AbortSignal",wt);oe(wt,Xe)}}function ke(Te,yt="signal"){if(Ie(Te,yt),J[Te]===void 0)throw J[w(Te)]!==void 0?new P(Te+" (signals must use all capital letters)"):new P(Te)}const le=T((Te,yt="buffer")=>{if(!z(Te))throw new C(yt,["Buffer","TypedArray","DataView"],Te)});function Ce(Te,yt){const Ot=K(yt),wt=Te.length;if(Ot==="hex"&&wt%2!==0)throw new x("encoding",yt,`is invalid for data of length ${wt}`)}function Ye(Te,yt="Port",Ot=!0){if(typeof Te!="number"&&typeof Te!="string"||typeof Te=="string"&&S(Te).length===0||+Te!==+Te>>>0||Te>65535||Te===0&&!Ot)throw new R(yt,Te,Ot);return Te|0}const oe=T((Te,yt)=>{if(Te!==void 0&&(Te===null||typeof Te!="object"||!("aborted"in Te)))throw new C(yt,"AbortSignal",Te)}),k=T((Te,yt)=>{if(typeof Te!="function")throw new C(yt,"Function",Te)}),D=T((Te,yt)=>{if(typeof Te!="function"||M(Te))throw new C(yt,"Function",Te)}),G=T((Te,yt)=>{if(Te!==void 0)throw new C(yt,"undefined",Te)});function ne(Te,yt,Ot){if(!t(Ot,Te))throw new C(yt,`('${r(Ot,"|")}')`,Te)}const _e=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Oe(Te,yt){if(typeof Te>"u"||!g(_e,Te))throw new x(yt,Te,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function lt(Te){if(typeof Te=="string")return Oe(Te,"hints"),Te;if(e(Te)){const yt=Te.length;let Ot="";if(yt===0)return Ot;for(let wt=0;wt<yt;wt++){const Xe=Te[wt];Oe(Xe,"hints"),Ot+=Xe,wt!==yt-1&&(Ot+=", ")}return Ot}throw new x("hints",Te,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return j0={isInt32:q,isUint32:Fe,parseFileMode:ge,validateArray:He,validateStringArray:st,validateBooleanArray:It,validateAbortSignalArray:kt,validateBoolean:nt,validateBuffer:le,validateDictionary:Qe,validateEncoding:Ce,validateFunction:k,validateInt32:tt,validateInteger:Ee,validateNumber:ht,validateObject:Re,validateOneOf:de,validatePlainFunction:D,validatePort:Ye,validateSignalName:ke,validateString:Ie,validateUint32:ct,validateUndefined:G,validateUnion:ne,validateAbortSignal:oe,validateLinkHeaderValue:lt},j0}var $y={exports:{}},H0={exports:{}},C_;function Tf(){if(C_)return H0.exports;C_=1;var e=H0.exports={},t,r;function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=a}catch{t=a}try{typeof clearTimeout=="function"?r=clearTimeout:r=o}catch{r=o}})();function c(R){if(t===setTimeout)return setTimeout(R,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(R,0);try{return t(R,0)}catch{try{return t.call(null,R,0)}catch{return t.call(this,R,0)}}}function s(R){if(r===clearTimeout)return clearTimeout(R);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(R);try{return r(R)}catch{try{return r.call(null,R)}catch{return r.call(this,R)}}}var u=[],h=!1,f,g=-1;function v(){!h||!f||(h=!1,f.length?u=f.concat(u):g=-1,u.length&&w())}function w(){if(!h){var R=c(v);h=!0;for(var C=u.length;C;){for(f=u,u=[];++g<C;)f&&f[g].run();g=-1,C=u.length}f=null,h=!1,s(R)}}e.nextTick=function(R){var C=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)C[x-1]=arguments[x];u.push(new S(R,C)),u.length===1&&!h&&c(w)};function S(R,C){this.fun=R,this.array=C}S.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function T(){}return e.on=T,e.addListener=T,e.once=T,e.off=T,e.removeListener=T,e.removeAllListeners=T,e.emit=T,e.prependListener=T,e.prependOnceListener=T,e.listeners=function(R){return[]},e.binding=function(R){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(R){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},H0.exports}var V0,O_;function $l(){if(O_)return V0;O_=1;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:r}=yi(),a=r("nodejs.stream.destroyed"),o=r("nodejs.stream.errored"),c=r("nodejs.stream.readable"),s=r("nodejs.stream.writable"),u=r("nodejs.stream.disturbed"),h=r("nodejs.webstream.isClosedPromise"),f=r("nodejs.webstream.controllerErrorFunction");function g(Y,Re=!1){var Qe;return!!(Y&&typeof Y.pipe=="function"&&typeof Y.on=="function"&&(!Re||typeof Y.pause=="function"&&typeof Y.resume=="function")&&(!Y._writableState||((Qe=Y._readableState)===null||Qe===void 0?void 0:Qe.readable)!==!1)&&(!Y._writableState||Y._readableState))}function v(Y){var Re;return!!(Y&&typeof Y.write=="function"&&typeof Y.on=="function"&&(!Y._readableState||((Re=Y._writableState)===null||Re===void 0?void 0:Re.writable)!==!1))}function w(Y){return!!(Y&&typeof Y.pipe=="function"&&Y._readableState&&typeof Y.on=="function"&&typeof Y.write=="function")}function S(Y){return Y&&(Y._readableState||Y._writableState||typeof Y.write=="function"&&typeof Y.on=="function"||typeof Y.pipe=="function"&&typeof Y.on=="function")}function T(Y){return!!(Y&&!S(Y)&&typeof Y.pipeThrough=="function"&&typeof Y.getReader=="function"&&typeof Y.cancel=="function")}function R(Y){return!!(Y&&!S(Y)&&typeof Y.getWriter=="function"&&typeof Y.abort=="function")}function C(Y){return!!(Y&&!S(Y)&&typeof Y.readable=="object"&&typeof Y.writable=="object")}function x(Y){return T(Y)||R(Y)||C(Y)}function F(Y,Re){return Y==null?!1:Re===!0?typeof Y[e]=="function":Re===!1?typeof Y[t]=="function":typeof Y[e]=="function"||typeof Y[t]=="function"}function P(Y){if(!S(Y))return null;const Re=Y._writableState,Qe=Y._readableState,He=Re||Qe;return!!(Y.destroyed||Y[a]||He!=null&&He.destroyed)}function K(Y){if(!v(Y))return null;if(Y.writableEnded===!0)return!0;const Re=Y._writableState;return Re!=null&&Re.errored?!1:typeof Re?.ended!="boolean"?null:Re.ended}function M(Y,Re){if(!v(Y))return null;if(Y.writableFinished===!0)return!0;const Qe=Y._writableState;return Qe!=null&&Qe.errored?!1:typeof Qe?.finished!="boolean"?null:!!(Qe.finished||Re===!1&&Qe.ended===!0&&Qe.length===0)}function z(Y){if(!g(Y))return null;if(Y.readableEnded===!0)return!0;const Re=Y._readableState;return!Re||Re.errored?!1:typeof Re?.ended!="boolean"?null:Re.ended}function J(Y,Re){if(!g(Y))return null;const Qe=Y._readableState;return Qe!=null&&Qe.errored?!1:typeof Qe?.endEmitted!="boolean"?null:!!(Qe.endEmitted||Re===!1&&Qe.ended===!0&&Qe.length===0)}function q(Y){return Y&&Y[c]!=null?Y[c]:typeof Y?.readable!="boolean"?null:P(Y)?!1:g(Y)&&Y.readable&&!J(Y)}function Fe(Y){return Y&&Y[s]!=null?Y[s]:typeof Y?.writable!="boolean"?null:P(Y)?!1:v(Y)&&Y.writable&&!K(Y)}function $(Y,Re){return S(Y)?P(Y)?!0:!(Re?.readable!==!1&&q(Y)||Re?.writable!==!1&&Fe(Y)):null}function ie(Y){var Re,Qe;return S(Y)?Y.writableErrored?Y.writableErrored:(Re=(Qe=Y._writableState)===null||Qe===void 0?void 0:Qe.errored)!==null&&Re!==void 0?Re:null:null}function ge(Y){var Re,Qe;return S(Y)?Y.readableErrored?Y.readableErrored:(Re=(Qe=Y._readableState)===null||Qe===void 0?void 0:Qe.errored)!==null&&Re!==void 0?Re:null:null}function Ee(Y){if(!S(Y))return null;if(typeof Y.closed=="boolean")return Y.closed;const Re=Y._writableState,Qe=Y._readableState;return typeof Re?.closed=="boolean"||typeof Qe?.closed=="boolean"?Re?.closed||Qe?.closed:typeof Y._closed=="boolean"&&tt(Y)?Y._closed:null}function tt(Y){return typeof Y._closed=="boolean"&&typeof Y._defaultKeepAlive=="boolean"&&typeof Y._removedConnection=="boolean"&&typeof Y._removedContLen=="boolean"}function ct(Y){return typeof Y._sent100=="boolean"&&tt(Y)}function Ie(Y){var Re;return typeof Y._consuming=="boolean"&&typeof Y._dumped=="boolean"&&((Re=Y.req)===null||Re===void 0?void 0:Re.upgradeOrConnect)===void 0}function ht(Y){if(!S(Y))return null;const Re=Y._writableState,Qe=Y._readableState,He=Re||Qe;return!He&&ct(Y)||!!(He&&He.autoDestroy&&He.emitClose&&He.closed===!1)}function de(Y){var Re;return!!(Y&&((Re=Y[u])!==null&&Re!==void 0?Re:Y.readableDidRead||Y.readableAborted))}function nt(Y){var Re,Qe,He,st,It,kt,ke,le,Ce,Ye;return!!(Y&&((Re=(Qe=(He=(st=(It=(kt=Y[o])!==null&&kt!==void 0?kt:Y.readableErrored)!==null&&It!==void 0?It:Y.writableErrored)!==null&&st!==void 0?st:(ke=Y._readableState)===null||ke===void 0?void 0:ke.errorEmitted)!==null&&He!==void 0?He:(le=Y._writableState)===null||le===void 0?void 0:le.errorEmitted)!==null&&Qe!==void 0?Qe:(Ce=Y._readableState)===null||Ce===void 0?void 0:Ce.errored)!==null&&Re!==void 0?Re:!((Ye=Y._writableState)===null||Ye===void 0)&&Ye.errored))}return V0={isDestroyed:P,kIsDestroyed:a,isDisturbed:de,kIsDisturbed:u,isErrored:nt,kIsErrored:o,isReadable:q,kIsReadable:c,kIsClosedPromise:h,kControllerErrorFunction:f,kIsWritable:s,isClosed:Ee,isDuplexNodeStream:w,isFinished:$,isIterable:F,isReadableNodeStream:g,isReadableStream:T,isReadableEnded:z,isReadableFinished:J,isReadableErrored:ge,isNodeStream:S,isWebStream:x,isWritable:Fe,isWritableNodeStream:v,isWritableStream:R,isWritableEnded:K,isWritableFinished:M,isWritableErrored:ie,isServerRequest:Ie,isServerResponse:ct,willEmitClose:ht,isTransformStream:C},V0}var I_;function Ju(){if(I_)return $y.exports;I_=1;const e=Tf(),{AbortError:t,codes:r}=Oa(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:o}=r,{kEmptyObject:c,once:s}=Wa(),{validateAbortSignal:u,validateFunction:h,validateObject:f,validateBoolean:g}=Mg(),{Promise:v,PromisePrototypeThen:w,SymbolDispose:S}=yi(),{isClosed:T,isReadable:R,isReadableNodeStream:C,isReadableStream:x,isReadableFinished:F,isReadableErrored:P,isWritable:K,isWritableNodeStream:M,isWritableStream:z,isWritableFinished:J,isWritableErrored:q,isNodeStream:Fe,willEmitClose:$,kIsClosedPromise:ie}=$l();let ge;function Ee(de){return de.setHeader&&typeof de.abort=="function"}const tt=()=>{};function ct(de,nt,Y){var Re,Qe;if(arguments.length===2?(Y=nt,nt=c):nt==null?nt=c:f(nt,"options"),h(Y,"callback"),u(nt.signal,"options.signal"),Y=s(Y),x(de)||z(de))return Ie(de,nt,Y);if(!Fe(de))throw new a("stream",["ReadableStream","WritableStream","Stream"],de);const He=(Re=nt.readable)!==null&&Re!==void 0?Re:C(de),st=(Qe=nt.writable)!==null&&Qe!==void 0?Qe:M(de),It=de._writableState,kt=de._readableState,ke=()=>{de.writable||Ye()};let le=$(de)&&C(de)===He&&M(de)===st,Ce=J(de,!1);const Ye=()=>{Ce=!0,de.destroyed&&(le=!1),!(le&&(!de.readable||He))&&(!He||oe)&&Y.call(de)};let oe=F(de,!1);const k=()=>{oe=!0,de.destroyed&&(le=!1),!(le&&(!de.writable||st))&&(!st||Ce)&&Y.call(de)},D=Te=>{Y.call(de,Te)};let G=T(de);const ne=()=>{G=!0;const Te=q(de)||P(de);if(Te&&typeof Te!="boolean")return Y.call(de,Te);if(He&&!oe&&C(de,!0)&&!F(de,!1))return Y.call(de,new o);if(st&&!Ce&&!J(de,!1))return Y.call(de,new o);Y.call(de)},_e=()=>{G=!0;const Te=q(de)||P(de);if(Te&&typeof Te!="boolean")return Y.call(de,Te);Y.call(de)},Oe=()=>{de.req.on("finish",Ye)};Ee(de)?(de.on("complete",Ye),le||de.on("abort",ne),de.req?Oe():de.on("request",Oe)):st&&!It&&(de.on("end",ke),de.on("close",ke)),!le&&typeof de.aborted=="boolean"&&de.on("aborted",ne),de.on("end",k),de.on("finish",Ye),nt.error!==!1&&de.on("error",D),de.on("close",ne),G?e.nextTick(ne):It!=null&&It.errorEmitted||kt!=null&&kt.errorEmitted?le||e.nextTick(_e):(!He&&(!le||R(de))&&(Ce||K(de)===!1)||!st&&(!le||K(de))&&(oe||R(de)===!1)||kt&&de.req&&de.aborted)&&e.nextTick(_e);const lt=()=>{Y=tt,de.removeListener("aborted",ne),de.removeListener("complete",Ye),de.removeListener("abort",ne),de.removeListener("request",Oe),de.req&&de.req.removeListener("finish",Ye),de.removeListener("end",ke),de.removeListener("close",ke),de.removeListener("finish",Ye),de.removeListener("end",k),de.removeListener("error",D),de.removeListener("close",ne)};if(nt.signal&&!G){const Te=()=>{const yt=Y;lt(),yt.call(de,new t(void 0,{cause:nt.signal.reason}))};if(nt.signal.aborted)e.nextTick(Te);else{ge=ge||Wa().addAbortListener;const yt=ge(nt.signal,Te),Ot=Y;Y=s((...wt)=>{yt[S](),Ot.apply(de,wt)})}}return lt}function Ie(de,nt,Y){let Re=!1,Qe=tt;if(nt.signal)if(Qe=()=>{Re=!0,Y.call(de,new t(void 0,{cause:nt.signal.reason}))},nt.signal.aborted)e.nextTick(Qe);else{ge=ge||Wa().addAbortListener;const st=ge(nt.signal,Qe),It=Y;Y=s((...kt)=>{st[S](),It.apply(de,kt)})}const He=(...st)=>{Re||e.nextTick(()=>Y.apply(de,st))};return w(de[ie].promise,He,He),tt}function ht(de,nt){var Y;let Re=!1;return nt===null&&(nt=c),(Y=nt)!==null&&Y!==void 0&&Y.cleanup&&(g(nt.cleanup,"cleanup"),Re=nt.cleanup),new v((Qe,He)=>{const st=ct(de,nt,It=>{Re&&st(),It?He(It):Qe()})})}return $y.exports=ct,$y.exports.finished=ht,$y.exports}var $0,P_;function Wd(){if(P_)return $0;P_=1;const e=Tf(),{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:a}=Oa(),{Symbol:o}=yi(),{kIsDestroyed:c,isDestroyed:s,isFinished:u,isServerRequest:h}=$l(),f=o("kDestroy"),g=o("kConstruct");function v($,ie,ge){$&&($.stack,ie&&!ie.errored&&(ie.errored=$),ge&&!ge.errored&&(ge.errored=$))}function w($,ie){const ge=this._readableState,Ee=this._writableState,tt=Ee||ge;return Ee!=null&&Ee.destroyed||ge!=null&&ge.destroyed?(typeof ie=="function"&&ie(),this):(v($,Ee,ge),Ee&&(Ee.destroyed=!0),ge&&(ge.destroyed=!0),tt.constructed?S(this,$,ie):this.once(f,function(ct){S(this,t(ct,$),ie)}),this)}function S($,ie,ge){let Ee=!1;function tt(ct){if(Ee)return;Ee=!0;const Ie=$._readableState,ht=$._writableState;v(ct,ht,Ie),ht&&(ht.closed=!0),Ie&&(Ie.closed=!0),typeof ge=="function"&&ge(ct),ct?e.nextTick(T,$,ct):e.nextTick(R,$)}try{$._destroy(ie||null,tt)}catch(ct){tt(ct)}}function T($,ie){C($,ie),R($)}function R($){const ie=$._readableState,ge=$._writableState;ge&&(ge.closeEmitted=!0),ie&&(ie.closeEmitted=!0),(ge!=null&&ge.emitClose||ie!=null&&ie.emitClose)&&$.emit("close")}function C($,ie){const ge=$._readableState,Ee=$._writableState;Ee!=null&&Ee.errorEmitted||ge!=null&&ge.errorEmitted||(Ee&&(Ee.errorEmitted=!0),ge&&(ge.errorEmitted=!0),$.emit("error",ie))}function x(){const $=this._readableState,ie=this._writableState;$&&($.constructed=!0,$.closed=!1,$.closeEmitted=!1,$.destroyed=!1,$.errored=null,$.errorEmitted=!1,$.reading=!1,$.ended=$.readable===!1,$.endEmitted=$.readable===!1),ie&&(ie.constructed=!0,ie.destroyed=!1,ie.closed=!1,ie.closeEmitted=!1,ie.errored=null,ie.errorEmitted=!1,ie.finalCalled=!1,ie.prefinished=!1,ie.ended=ie.writable===!1,ie.ending=ie.writable===!1,ie.finished=ie.writable===!1)}function F($,ie,ge){const Ee=$._readableState,tt=$._writableState;if(tt!=null&&tt.destroyed||Ee!=null&&Ee.destroyed)return this;Ee!=null&&Ee.autoDestroy||tt!=null&&tt.autoDestroy?$.destroy(ie):ie&&(ie.stack,tt&&!tt.errored&&(tt.errored=ie),Ee&&!Ee.errored&&(Ee.errored=ie),ge?e.nextTick(C,$,ie):C($,ie))}function P($,ie){if(typeof $._construct!="function")return;const ge=$._readableState,Ee=$._writableState;ge&&(ge.constructed=!1),Ee&&(Ee.constructed=!1),$.once(g,ie),!($.listenerCount(g)>1)&&e.nextTick(K,$)}function K($){let ie=!1;function ge(Ee){if(ie){F($,Ee??new r);return}ie=!0;const tt=$._readableState,ct=$._writableState,Ie=ct||tt;tt&&(tt.constructed=!0),ct&&(ct.constructed=!0),Ie.destroyed?$.emit(f,Ee):Ee?F($,Ee,!0):e.nextTick(M,$)}try{$._construct(Ee=>{e.nextTick(ge,Ee)})}catch(Ee){e.nextTick(ge,Ee)}}function M($){$.emit(g)}function z($){return $?.setHeader&&typeof $.abort=="function"}function J($){$.emit("close")}function q($,ie){$.emit("error",ie),e.nextTick(J,$)}function Fe($,ie){!$||s($)||(!ie&&!u($)&&(ie=new a),h($)?($.socket=null,$.destroy(ie)):z($)?$.abort():z($.req)?$.req.abort():typeof $.destroy=="function"?$.destroy(ie):typeof $.close=="function"?$.close():ie?e.nextTick(q,$,ie):e.nextTick(J,$),$.destroyed||($[c]=!0))}return $0={construct:P,destroyer:Fe,destroy:w,undestroy:x,errorOrDestroy:F},$0}var K0,N_;function Rb(){if(N_)return K0;N_=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=yi(),{EventEmitter:r}=Rf();function a(c){r.call(this,c)}t(a.prototype,r.prototype),t(a,r),a.prototype.pipe=function(c,s){const u=this;function h(R){c.writable&&c.write(R)===!1&&u.pause&&u.pause()}u.on("data",h);function f(){u.readable&&u.resume&&u.resume()}c.on("drain",f),!c._isStdio&&(!s||s.end!==!1)&&(u.on("end",v),u.on("close",w));let g=!1;function v(){g||(g=!0,c.end())}function w(){g||(g=!0,typeof c.destroy=="function"&&c.destroy())}function S(R){T(),r.listenerCount(this,"error")===0&&this.emit("error",R)}o(u,"error",S),o(c,"error",S);function T(){u.removeListener("data",h),c.removeListener("drain",f),u.removeListener("end",v),u.removeListener("close",w),u.removeListener("error",S),c.removeListener("error",S),u.removeListener("end",T),u.removeListener("close",T),c.removeListener("close",T)}return u.on("end",T),u.on("close",T),c.on("close",T),c.emit("pipe",u),c};function o(c,s,u){if(typeof c.prependListener=="function")return c.prependListener(s,u);!c._events||!c._events[s]?c.on(s,u):e(c._events[s])?c._events[s].unshift(u):c._events[s]=[u,c._events[s]]}return K0={Stream:a,prependListener:o},K0}var G0={exports:{}},F_;function xm(){return F_||(F_=1,function(e){const{SymbolDispose:t}=yi(),{AbortError:r,codes:a}=Oa(),{isNodeStream:o,isWebStream:c,kControllerErrorFunction:s}=$l(),u=Ju(),{ERR_INVALID_ARG_TYPE:h}=a;let f;const g=(v,w)=>{if(typeof v!="object"||!("aborted"in v))throw new h(w,"AbortSignal",v)};e.exports.addAbortSignal=function(w,S){if(g(w,"signal"),!o(S)&&!c(S))throw new h("stream",["ReadableStream","WritableStream","Stream"],S);return e.exports.addAbortSignalNoValidate(w,S)},e.exports.addAbortSignalNoValidate=function(v,w){if(typeof v!="object"||!("aborted"in v))return w;const S=o(w)?()=>{w.destroy(new r(void 0,{cause:v.reason}))}:()=>{w[s](new r(void 0,{cause:v.reason}))};if(v.aborted)S();else{f=f||Wa().addAbortListener;const T=f(v,S);u(w,T[t])}return w}}(G0)),G0.exports}var q0,D_;function UT(){if(D_)return q0;D_=1;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:r,Uint8Array:a}=yi(),{Buffer:o}=Ls(),{inspect:c}=Wa();return q0=class{constructor(){this.head=null,this.tail=null,this.length=0}push(u){const h={data:u,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}unshift(u){const h={data:u,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}shift(){if(this.length===0)return;const u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}clear(){this.head=this.tail=null,this.length=0}join(u){if(this.length===0)return"";let h=this.head,f=""+h.data;for(;(h=h.next)!==null;)f+=u+h.data;return f}concat(u){if(this.length===0)return o.alloc(0);const h=o.allocUnsafe(u>>>0);let f=this.head,g=0;for(;f;)r(h,f.data,g),g+=f.data.length,f=f.next;return h}consume(u,h){const f=this.head.data;if(u<f.length){const g=f.slice(0,u);return this.head.data=f.slice(u),g}return u===f.length?this.shift():h?this._getString(u):this._getBuffer(u)}first(){return this.head.data}*[t](){for(let u=this.head;u;u=u.next)yield u.data}_getString(u){let h="",f=this.head,g=0;do{const v=f.data;if(u>v.length)h+=v,u-=v.length;else{u===v.length?(h+=v,++g,f.next?this.head=f.next:this.head=this.tail=null):(h+=e(v,0,u),this.head=f,f.data=e(v,u));break}++g}while((f=f.next)!==null);return this.length-=g,h}_getBuffer(u){const h=o.allocUnsafe(u),f=u;let g=this.head,v=0;do{const w=g.data;if(u>w.length)r(h,w,f-u),u-=w.length;else{u===w.length?(r(h,w,f-u),++v,g.next?this.head=g.next:this.head=this.tail=null):(r(h,new a(w.buffer,w.byteOffset,u),f-u),this.head=g,g.data=w.slice(u));break}++v}while((g=g.next)!==null);return this.length-=v,h}[Symbol.for("nodejs.util.inspect.custom")](u,h){return c(this,{...h,depth:0,customInspect:!1})}},q0}var z0,U_;function Rm(){if(U_)return z0;U_=1;const{MathFloor:e,NumberIsInteger:t}=yi(),{validateInteger:r}=Mg(),{ERR_INVALID_ARG_VALUE:a}=Oa().codes;let o=16*1024,c=16;function s(g,v,w){return g.highWaterMark!=null?g.highWaterMark:v?g[w]:null}function u(g){return g?c:o}function h(g,v){r(v,"value",0),g?c=v:o=v}function f(g,v,w,S){const T=s(v,S,w);if(T!=null){if(!t(T)||T<0){const R=S?`options.${w}`:"options.highWaterMark";throw new a(R,T)}return e(T)}return u(g.objectMode)}return z0={getHighWaterMark:f,getDefaultHighWaterMark:u,setDefaultHighWaterMark:h},z0}var W0={},Ky={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var L_;function LT(){return L_||(L_=1,function(e,t){var r=Ls(),a=r.Buffer;function o(s,u){for(var h in s)u[h]=s[h]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=c);function c(s,u,h){return a(s,u,h)}c.prototype=Object.create(a.prototype),o(a,c),c.from=function(s,u,h){if(typeof s=="number")throw new TypeError("Argument must not be a number");return a(s,u,h)},c.alloc=function(s,u,h){if(typeof s!="number")throw new TypeError("Argument must be a number");var f=a(s);return u!==void 0?typeof h=="string"?f.fill(u,h):f.fill(u):f.fill(0),f},c.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return a(s)},c.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}}(Ky,Ky.exports)),Ky.exports}var M_;function MT(){if(M_)return W0;M_=1;var e=LT().Buffer,t=e.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(x){if(!x)return"utf8";for(var F;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(F)return;x=(""+x).toLowerCase(),F=!0}}function a(x){var F=r(x);if(typeof F!="string"&&(e.isEncoding===t||!t(x)))throw new Error("Unknown encoding: "+x);return F||x}W0.StringDecoder=o;function o(x){this.encoding=a(x);var F;switch(this.encoding){case"utf16le":this.text=v,this.end=w,F=4;break;case"utf8":this.fillLast=h,F=4;break;case"base64":this.text=S,this.end=T,F=3;break;default:this.write=R,this.end=C;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(F)}o.prototype.write=function(x){if(x.length===0)return"";var F,P;if(this.lastNeed){if(F=this.fillLast(x),F===void 0)return"";P=this.lastNeed,this.lastNeed=0}else P=0;return P<x.length?F?F+this.text(x,P):this.text(x,P):F||""},o.prototype.end=g,o.prototype.text=f,o.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function c(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function s(x,F,P){var K=F.length-1;if(K<P)return 0;var M=c(F[K]);return M>=0?(M>0&&(x.lastNeed=M-1),M):--K<P||M===-2?0:(M=c(F[K]),M>=0?(M>0&&(x.lastNeed=M-2),M):--K<P||M===-2?0:(M=c(F[K]),M>=0?(M>0&&(M===2?M=0:x.lastNeed=M-3),M):0))}function u(x,F,P){if((F[0]&192)!==128)return x.lastNeed=0,"�";if(x.lastNeed>1&&F.length>1){if((F[1]&192)!==128)return x.lastNeed=1,"�";if(x.lastNeed>2&&F.length>2&&(F[2]&192)!==128)return x.lastNeed=2,"�"}}function h(x){var F=this.lastTotal-this.lastNeed,P=u(this,x);if(P!==void 0)return P;if(this.lastNeed<=x.length)return x.copy(this.lastChar,F,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,F,0,x.length),this.lastNeed-=x.length}function f(x,F){var P=s(this,x,F);if(!this.lastNeed)return x.toString("utf8",F);this.lastTotal=P;var K=x.length-(P-this.lastNeed);return x.copy(this.lastChar,0,K),x.toString("utf8",F,K)}function g(x){var F=x&&x.length?this.write(x):"";return this.lastNeed?F+"�":F}function v(x,F){if((x.length-F)%2===0){var P=x.toString("utf16le",F);if(P){var K=P.charCodeAt(P.length-1);if(K>=55296&&K<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],P.slice(0,-1)}return P}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",F,x.length-1)}function w(x){var F=x&&x.length?this.write(x):"";if(this.lastNeed){var P=this.lastTotal-this.lastNeed;return F+this.lastChar.toString("utf16le",0,P)}return F}function S(x,F){var P=(x.length-F)%3;return P===0?x.toString("base64",F):(this.lastNeed=3-P,this.lastTotal=3,P===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",F,x.length-P))}function T(x){var F=x&&x.length?this.write(x):"";return this.lastNeed?F+this.lastChar.toString("base64",0,3-this.lastNeed):F}function R(x){return x.toString(this.encoding)}function C(x){return x&&x.length?this.write(x):""}return W0}var J0,k_;function A1(){if(k_)return J0;k_=1;const e=Tf(),{PromisePrototypeThen:t,SymbolAsyncIterator:r,SymbolIterator:a}=yi(),{Buffer:o}=Ls(),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:s}=Oa().codes;function u(h,f,g){let v;if(typeof f=="string"||f instanceof o)return new h({objectMode:!0,...g,read(){this.push(f),this.push(null)}});let w;if(f&&f[r])w=!0,v=f[r]();else if(f&&f[a])w=!1,v=f[a]();else throw new c("iterable",["Iterable"],f);const S=new h({objectMode:!0,highWaterMark:1,...g});let T=!1;S._read=function(){T||(T=!0,C())},S._destroy=function(x,F){t(R(x),()=>e.nextTick(F,x),P=>e.nextTick(F,P||x))};async function R(x){const F=x!=null,P=typeof v.throw=="function";if(F&&P){const{value:K,done:M}=await v.throw(x);if(await K,M)return}if(typeof v.return=="function"){const{value:K}=await v.return();await K}}async function C(){for(;;){try{const{value:x,done:F}=w?await v.next():v.next();if(F)S.push(null);else{const P=x&&typeof x.then=="function"?await x:x;if(P===null)throw T=!1,new s;if(S.push(P))continue;T=!1}}catch(x){S.destroy(x)}break}}return S}return J0=u,J0}var Y0,B_;function Tm(){if(B_)return Y0;B_=1;const e=Tf(),{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:a,NumberParseInt:o,ObjectDefineProperties:c,ObjectKeys:s,ObjectSetPrototypeOf:u,Promise:h,SafeSet:f,SymbolAsyncDispose:g,SymbolAsyncIterator:v,Symbol:w}=yi();Y0=wt,wt.ReadableState=Ot;const{EventEmitter:S}=Rf(),{Stream:T,prependListener:R}=Rb(),{Buffer:C}=Ls(),{addAbortSignal:x}=xm(),F=Ju();let P=Wa().debuglog("stream",ue=>{P=ue});const K=UT(),M=Wd(),{getHighWaterMark:z,getDefaultHighWaterMark:J}=Rm(),{aggregateTwoErrors:q,codes:{ERR_INVALID_ARG_TYPE:Fe,ERR_METHOD_NOT_IMPLEMENTED:$,ERR_OUT_OF_RANGE:ie,ERR_STREAM_PUSH_AFTER_EOF:ge,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Ee},AbortError:tt}=Oa(),{validateObject:ct}=Mg(),Ie=w("kPaused"),{StringDecoder:ht}=MT(),de=A1();u(wt.prototype,T.prototype),u(wt,T);const nt=()=>{},{errorOrDestroy:Y}=M,Re=1,Qe=2,He=4,st=8,It=16,kt=32,ke=64,le=128,Ce=256,Ye=512,oe=1024,k=2048,D=4096,G=8192,ne=16384,_e=32768,Oe=65536,lt=1<<17,Te=1<<18;function yt(ue){return{enumerable:!1,get(){return(this.state&ue)!==0},set(ye){ye?this.state|=ue:this.state&=~ue}}}c(Ot.prototype,{objectMode:yt(Re),ended:yt(Qe),endEmitted:yt(He),reading:yt(st),constructed:yt(It),sync:yt(kt),needReadable:yt(ke),emittedReadable:yt(le),readableListening:yt(Ce),resumeScheduled:yt(Ye),errorEmitted:yt(oe),emitClose:yt(k),autoDestroy:yt(D),destroyed:yt(G),closed:yt(ne),closeEmitted:yt(_e),multiAwaitDrain:yt(Oe),readingMore:yt(lt),dataEmitted:yt(Te)});function Ot(ue,ye,Ct){typeof Ct!="boolean"&&(Ct=ye instanceof Bl()),this.state=k|D|It|kt,ue&&ue.objectMode&&(this.state|=Re),Ct&&ue&&ue.readableObjectMode&&(this.state|=Re),this.highWaterMark=ue?z(this,ue,"readableHighWaterMark",Ct):J(!1),this.buffer=new K,this.length=0,this.pipes=[],this.flowing=null,this[Ie]=null,ue&&ue.emitClose===!1&&(this.state&=~k),ue&&ue.autoDestroy===!1&&(this.state&=~D),this.errored=null,this.defaultEncoding=ue&&ue.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,ue&&ue.encoding&&(this.decoder=new ht(ue.encoding),this.encoding=ue.encoding)}function wt(ue){if(!(this instanceof wt))return new wt(ue);const ye=this instanceof Bl();this._readableState=new Ot(ue,this,ye),ue&&(typeof ue.read=="function"&&(this._read=ue.read),typeof ue.destroy=="function"&&(this._destroy=ue.destroy),typeof ue.construct=="function"&&(this._construct=ue.construct),ue.signal&&!ye&&x(ue.signal,this)),T.call(this,ue),M.construct(this,()=>{this._readableState.needReadable&&We(this,this._readableState)})}wt.prototype.destroy=M.destroy,wt.prototype._undestroy=M.undestroy,wt.prototype._destroy=function(ue,ye){ye(ue)},wt.prototype[S.captureRejectionSymbol]=function(ue){this.destroy(ue)},wt.prototype[g]=function(){let ue;return this.destroyed||(ue=this.readableEnded?null:new tt,this.destroy(ue)),new h((ye,Ct)=>F(this,Tt=>Tt&&Tt!==ue?Ct(Tt):ye(null)))},wt.prototype.push=function(ue,ye){return Xe(this,ue,ye,!1)},wt.prototype.unshift=function(ue,ye){return Xe(this,ue,ye,!0)};function Xe(ue,ye,Ct,Tt){P("readableAddChunk",ye);const Nt=ue._readableState;let Zt;if((Nt.state&Re)===0&&(typeof ye=="string"?(Ct=Ct||Nt.defaultEncoding,Nt.encoding!==Ct&&(Tt&&Nt.encoding?ye=C.from(ye,Ct).toString(Nt.encoding):(ye=C.from(ye,Ct),Ct=""))):ye instanceof C?Ct="":T._isUint8Array(ye)?(ye=T._uint8ArrayToBuffer(ye),Ct=""):ye!=null&&(Zt=new Fe("chunk",["string","Buffer","Uint8Array"],ye))),Zt)Y(ue,Zt);else if(ye===null)Nt.state&=~st,B(ue,Nt);else if((Nt.state&Re)!==0||ye&&ye.length>0)if(Tt)if((Nt.state&He)!==0)Y(ue,new Ee);else{if(Nt.destroyed||Nt.errored)return!1;ze(ue,Nt,ye,!0)}else if(Nt.ended)Y(ue,new ge);else{if(Nt.destroyed||Nt.errored)return!1;Nt.state&=~st,Nt.decoder&&!Ct?(ye=Nt.decoder.write(ye),Nt.objectMode||ye.length!==0?ze(ue,Nt,ye,!1):We(ue,Nt)):ze(ue,Nt,ye,!1)}else Tt||(Nt.state&=~st,We(ue,Nt));return!Nt.ended&&(Nt.length<Nt.highWaterMark||Nt.length===0)}function ze(ue,ye,Ct,Tt){ye.flowing&&ye.length===0&&!ye.sync&&ue.listenerCount("data")>0?((ye.state&Oe)!==0?ye.awaitDrainWriters.clear():ye.awaitDrainWriters=null,ye.dataEmitted=!0,ue.emit("data",Ct)):(ye.length+=ye.objectMode?1:Ct.length,Tt?ye.buffer.unshift(Ct):ye.buffer.push(Ct),(ye.state&ke)!==0&&V(ue)),We(ue,ye)}wt.prototype.isPaused=function(){const ue=this._readableState;return ue[Ie]===!0||ue.flowing===!1},wt.prototype.setEncoding=function(ue){const ye=new ht(ue);this._readableState.decoder=ye,this._readableState.encoding=this._readableState.decoder.encoding;const Ct=this._readableState.buffer;let Tt="";for(const Nt of Ct)Tt+=ye.write(Nt);return Ct.clear(),Tt!==""&&Ct.push(Tt),this._readableState.length=Tt.length,this};const Pe=1073741824;function ft(ue){if(ue>Pe)throw new ie("size","<= 1GiB",ue);return ue--,ue|=ue>>>1,ue|=ue>>>2,ue|=ue>>>4,ue|=ue>>>8,ue|=ue>>>16,ue++,ue}function X(ue,ye){return ue<=0||ye.length===0&&ye.ended?0:(ye.state&Re)!==0?1:a(ue)?ye.flowing&&ye.length?ye.buffer.first().length:ye.length:ue<=ye.length?ue:ye.ended?ye.length:0}wt.prototype.read=function(ue){P("read",ue),ue===void 0?ue=NaN:r(ue)||(ue=o(ue,10));const ye=this._readableState,Ct=ue;if(ue>ye.highWaterMark&&(ye.highWaterMark=ft(ue)),ue!==0&&(ye.state&=~le),ue===0&&ye.needReadable&&((ye.highWaterMark!==0?ye.length>=ye.highWaterMark:ye.length>0)||ye.ended))return P("read: emitReadable",ye.length,ye.ended),ye.length===0&&ye.ended?pt(this):V(this),null;if(ue=X(ue,ye),ue===0&&ye.ended)return ye.length===0&&pt(this),null;let Tt=(ye.state&ke)!==0;if(P("need readable",Tt),(ye.length===0||ye.length-ue<ye.highWaterMark)&&(Tt=!0,P("length less than watermark",Tt)),ye.ended||ye.reading||ye.destroyed||ye.errored||!ye.constructed)Tt=!1,P("reading, ended or constructing",Tt);else if(Tt){P("do read"),ye.state|=st|kt,ye.length===0&&(ye.state|=ke);try{this._read(ye.highWaterMark)}catch(Zt){Y(this,Zt)}ye.state&=~kt,ye.reading||(ue=X(Ct,ye))}let Nt;return ue>0?Nt=Me(ue,ye):Nt=null,Nt===null?(ye.needReadable=ye.length<=ye.highWaterMark,ue=0):(ye.length-=ue,ye.multiAwaitDrain?ye.awaitDrainWriters.clear():ye.awaitDrainWriters=null),ye.length===0&&(ye.ended||(ye.needReadable=!0),Ct!==ue&&ye.ended&&pt(this)),Nt!==null&&!ye.errorEmitted&&!ye.closeEmitted&&(ye.dataEmitted=!0,this.emit("data",Nt)),Nt};function B(ue,ye){if(P("onEofChunk"),!ye.ended){if(ye.decoder){const Ct=ye.decoder.end();Ct&&Ct.length&&(ye.buffer.push(Ct),ye.length+=ye.objectMode?1:Ct.length)}ye.ended=!0,ye.sync?V(ue):(ye.needReadable=!1,ye.emittedReadable=!0,H(ue))}}function V(ue){const ye=ue._readableState;P("emitReadable",ye.needReadable,ye.emittedReadable),ye.needReadable=!1,ye.emittedReadable||(P("emitReadable",ye.flowing),ye.emittedReadable=!0,e.nextTick(H,ue))}function H(ue){const ye=ue._readableState;P("emitReadable_",ye.destroyed,ye.length,ye.ended),!ye.destroyed&&!ye.errored&&(ye.length||ye.ended)&&(ue.emit("readable"),ye.emittedReadable=!1),ye.needReadable=!ye.flowing&&!ye.ended&&ye.length<=ye.highWaterMark,Ge(ue)}function We(ue,ye){!ye.readingMore&&ye.constructed&&(ye.readingMore=!0,e.nextTick(rt,ue,ye))}function rt(ue,ye){for(;!ye.reading&&!ye.ended&&(ye.length<ye.highWaterMark||ye.flowing&&ye.length===0);){const Ct=ye.length;if(P("maybeReadMore read 0"),ue.read(0),Ct===ye.length)break}ye.readingMore=!1}wt.prototype._read=function(ue){throw new $("_read()")},wt.prototype.pipe=function(ue,ye){const Ct=this,Tt=this._readableState;Tt.pipes.length===1&&(Tt.multiAwaitDrain||(Tt.multiAwaitDrain=!0,Tt.awaitDrainWriters=new f(Tt.awaitDrainWriters?[Tt.awaitDrainWriters]:[]))),Tt.pipes.push(ue),P("pipe count=%d opts=%j",Tt.pipes.length,ye);const Zt=(!ye||ye.end!==!1)&&ue!==e.stdout&&ue!==e.stderr?Dn:ln;Tt.endEmitted?e.nextTick(Zt):Ct.once("end",Zt),ue.on("unpipe",nn);function nn(Gt,Xn){P("onunpipe"),Gt===Ct&&Xn&&Xn.hasUnpiped===!1&&(Xn.hasUnpiped=!0,vn())}function Dn(){P("onend"),ue.end()}let $t,en=!1;function vn(){P("cleanup"),ue.removeListener("close",qn),ue.removeListener("finish",yn),$t&&ue.removeListener("drain",$t),ue.removeListener("error",xn),ue.removeListener("unpipe",nn),Ct.removeListener("end",Dn),Ct.removeListener("end",ln),Ct.removeListener("data",Un),en=!0,$t&&Tt.awaitDrainWriters&&(!ue._writableState||ue._writableState.needDrain)&&$t()}function on(){en||(Tt.pipes.length===1&&Tt.pipes[0]===ue?(P("false write response, pause",0),Tt.awaitDrainWriters=ue,Tt.multiAwaitDrain=!1):Tt.pipes.length>1&&Tt.pipes.includes(ue)&&(P("false write response, pause",Tt.awaitDrainWriters.size),Tt.awaitDrainWriters.add(ue)),Ct.pause()),$t||($t=Je(Ct,ue),ue.on("drain",$t))}Ct.on("data",Un);function Un(Gt){P("ondata");const Xn=ue.write(Gt);P("dest.write",Xn),Xn===!1&&on()}function xn(Gt){if(P("onerror",Gt),ln(),ue.removeListener("error",xn),ue.listenerCount("error")===0){const Xn=ue._writableState||ue._readableState;Xn&&!Xn.errorEmitted?Y(ue,Gt):ue.emit("error",Gt)}}R(ue,"error",xn);function qn(){ue.removeListener("finish",yn),ln()}ue.once("close",qn);function yn(){P("onfinish"),ue.removeListener("close",qn),ln()}ue.once("finish",yn);function ln(){P("unpipe"),Ct.unpipe(ue)}return ue.emit("pipe",Ct),ue.writableNeedDrain===!0?on():Tt.flowing||(P("pipe resume"),Ct.resume()),ue};function Je(ue,ye){return function(){const Tt=ue._readableState;Tt.awaitDrainWriters===ye?(P("pipeOnDrain",1),Tt.awaitDrainWriters=null):Tt.multiAwaitDrain&&(P("pipeOnDrain",Tt.awaitDrainWriters.size),Tt.awaitDrainWriters.delete(ye)),(!Tt.awaitDrainWriters||Tt.awaitDrainWriters.size===0)&&ue.listenerCount("data")&&ue.resume()}}wt.prototype.unpipe=function(ue){const ye=this._readableState,Ct={hasUnpiped:!1};if(ye.pipes.length===0)return this;if(!ue){const Nt=ye.pipes;ye.pipes=[],this.pause();for(let Zt=0;Zt<Nt.length;Zt++)Nt[Zt].emit("unpipe",this,{hasUnpiped:!1});return this}const Tt=t(ye.pipes,ue);return Tt===-1?this:(ye.pipes.splice(Tt,1),ye.pipes.length===0&&this.pause(),ue.emit("unpipe",this,Ct),this)},wt.prototype.on=function(ue,ye){const Ct=T.prototype.on.call(this,ue,ye),Tt=this._readableState;return ue==="data"?(Tt.readableListening=this.listenerCount("readable")>0,Tt.flowing!==!1&&this.resume()):ue==="readable"&&!Tt.endEmitted&&!Tt.readableListening&&(Tt.readableListening=Tt.needReadable=!0,Tt.flowing=!1,Tt.emittedReadable=!1,P("on readable",Tt.length,Tt.reading),Tt.length?V(this):Tt.reading||e.nextTick(jn,this)),Ct},wt.prototype.addListener=wt.prototype.on,wt.prototype.removeListener=function(ue,ye){const Ct=T.prototype.removeListener.call(this,ue,ye);return ue==="readable"&&e.nextTick(Yt,this),Ct},wt.prototype.off=wt.prototype.removeListener,wt.prototype.removeAllListeners=function(ue){const ye=T.prototype.removeAllListeners.apply(this,arguments);return(ue==="readable"||ue===void 0)&&e.nextTick(Yt,this),ye};function Yt(ue){const ye=ue._readableState;ye.readableListening=ue.listenerCount("readable")>0,ye.resumeScheduled&&ye[Ie]===!1?ye.flowing=!0:ue.listenerCount("data")>0?ue.resume():ye.readableListening||(ye.flowing=null)}function jn(ue){P("readable nexttick read 0"),ue.read(0)}wt.prototype.resume=function(){const ue=this._readableState;return ue.flowing||(P("resume"),ue.flowing=!ue.readableListening,Vn(this,ue)),ue[Ie]=!1,this};function Vn(ue,ye){ye.resumeScheduled||(ye.resumeScheduled=!0,e.nextTick(sn,ue,ye))}function sn(ue,ye){P("resume",ye.reading),ye.reading||ue.read(0),ye.resumeScheduled=!1,ue.emit("resume"),Ge(ue),ye.flowing&&!ye.reading&&ue.read(0)}wt.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Ie]=!0,this};function Ge(ue){const ye=ue._readableState;for(P("flow",ye.flowing);ye.flowing&&ue.read()!==null;);}wt.prototype.wrap=function(ue){let ye=!1;ue.on("data",Tt=>{!this.push(Tt)&&ue.pause&&(ye=!0,ue.pause())}),ue.on("end",()=>{this.push(null)}),ue.on("error",Tt=>{Y(this,Tt)}),ue.on("close",()=>{this.destroy()}),ue.on("destroy",()=>{this.destroy()}),this._read=()=>{ye&&ue.resume&&(ye=!1,ue.resume())};const Ct=s(ue);for(let Tt=1;Tt<Ct.length;Tt++){const Nt=Ct[Tt];this[Nt]===void 0&&typeof ue[Nt]=="function"&&(this[Nt]=ue[Nt].bind(ue))}return this},wt.prototype[v]=function(){return bt(this)},wt.prototype.iterator=function(ue){return ue!==void 0&&ct(ue,"options"),bt(this,ue)};function bt(ue,ye){typeof ue.read!="function"&&(ue=wt.wrap(ue,{objectMode:!0}));const Ct=ut(ue,ye);return Ct.stream=ue,Ct}async function*ut(ue,ye){let Ct=nt;function Tt(nn){this===ue?(Ct(),Ct=nt):Ct=nn}ue.on("readable",Tt);let Nt;const Zt=F(ue,{writable:!1},nn=>{Nt=nn?q(Nt,nn):null,Ct(),Ct=nt});try{for(;;){const nn=ue.destroyed?null:ue.read();if(nn!==null)yield nn;else{if(Nt)throw Nt;if(Nt===null)return;await new h(Tt)}}}catch(nn){throw Nt=q(Nt,nn),Nt}finally{(Nt||ye?.destroyOnReturn!==!1)&&(Nt===void 0||ue._readableState.autoDestroy)?M.destroyer(ue,null):(ue.off("readable",Tt),Zt())}}c(wt.prototype,{readable:{__proto__:null,get(){const ue=this._readableState;return!!ue&&ue.readable!==!1&&!ue.destroyed&&!ue.errorEmitted&&!ue.endEmitted},set(ue){this._readableState&&(this._readableState.readable=!!ue)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(ue){this._readableState&&(this._readableState.flowing=ue)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(ue){this._readableState&&(this._readableState.destroyed=ue)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),c(Ot.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Ie]!==!1},set(ue){this[Ie]=!!ue}}}),wt._fromList=Me;function Me(ue,ye){if(ye.length===0)return null;let Ct;return ye.objectMode?Ct=ye.buffer.shift():!ue||ue>=ye.length?(ye.decoder?Ct=ye.buffer.join(""):ye.buffer.length===1?Ct=ye.buffer.first():Ct=ye.buffer.concat(ye.length),ye.buffer.clear()):Ct=ye.buffer.consume(ue,ye.decoder),Ct}function pt(ue){const ye=ue._readableState;P("endReadable",ye.endEmitted),ye.endEmitted||(ye.ended=!0,e.nextTick(Qt,ye,ue))}function Qt(ue,ye){if(P("endReadableNT",ue.endEmitted,ue.length),!ue.errored&&!ue.closeEmitted&&!ue.endEmitted&&ue.length===0){if(ue.endEmitted=!0,ye.emit("end"),ye.writable&&ye.allowHalfOpen===!1)e.nextTick(zt,ye);else if(ue.autoDestroy){const Ct=ye._writableState;(!Ct||Ct.autoDestroy&&(Ct.finished||Ct.writable===!1))&&ye.destroy()}}}function zt(ue){ue.writable&&!ue.writableEnded&&!ue.destroyed&&ue.end()}wt.from=function(ue,ye){return de(wt,ue,ye)};let tn;function Ht(){return tn===void 0&&(tn={}),tn}return wt.fromWeb=function(ue,ye){return Ht().newStreamReadableFromReadableStream(ue,ye)},wt.toWeb=function(ue,ye){return Ht().newReadableStreamFromStreamReadable(ue,ye)},wt.wrap=function(ue,ye){var Ct,Tt;return new wt({objectMode:(Ct=(Tt=ue.readableObjectMode)!==null&&Tt!==void 0?Tt:ue.objectMode)!==null&&Ct!==void 0?Ct:!0,...ye,destroy(Nt,Zt){M.destroyer(ue,Nt),Zt(Nt)}}).wrap(ue)},Y0}var X0,j_;function Tb(){if(j_)return X0;j_=1;const e=Tf(),{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:o,ObjectDefineProperties:c,ObjectSetPrototypeOf:s,StringPrototypeToLowerCase:u,Symbol:h,SymbolHasInstance:f}=yi();X0=ct,ct.WritableState=Ee;const{EventEmitter:g}=Rf(),v=Rb().Stream,{Buffer:w}=Ls(),S=Wd(),{addAbortSignal:T}=xm(),{getHighWaterMark:R,getDefaultHighWaterMark:C}=Rm(),{ERR_INVALID_ARG_TYPE:x,ERR_METHOD_NOT_IMPLEMENTED:F,ERR_MULTIPLE_CALLBACK:P,ERR_STREAM_CANNOT_PIPE:K,ERR_STREAM_DESTROYED:M,ERR_STREAM_ALREADY_FINISHED:z,ERR_STREAM_NULL_VALUES:J,ERR_STREAM_WRITE_AFTER_END:q,ERR_UNKNOWN_ENCODING:Fe}=Oa().codes,{errorOrDestroy:$}=S;s(ct.prototype,v.prototype),s(ct,v);function ie(){}const ge=h("kOnFinished");function Ee(D,G,ne){typeof ne!="boolean"&&(ne=G instanceof Bl()),this.objectMode=!!(D&&D.objectMode),ne&&(this.objectMode=this.objectMode||!!(D&&D.writableObjectMode)),this.highWaterMark=D?R(this,D,"writableHighWaterMark",ne):C(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const _e=!!(D&&D.decodeStrings===!1);this.decodeStrings=!_e,this.defaultEncoding=D&&D.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Y.bind(void 0,G),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,tt(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!D||D.emitClose!==!1,this.autoDestroy=!D||D.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ge]=[]}function tt(D){D.buffered=[],D.bufferedIndex=0,D.allBuffers=!0,D.allNoop=!0}Ee.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},o(Ee.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ct(D){const G=this instanceof Bl();if(!G&&!a(ct,this))return new ct(D);this._writableState=new Ee(D,this,G),D&&(typeof D.write=="function"&&(this._write=D.write),typeof D.writev=="function"&&(this._writev=D.writev),typeof D.destroy=="function"&&(this._destroy=D.destroy),typeof D.final=="function"&&(this._final=D.final),typeof D.construct=="function"&&(this._construct=D.construct),D.signal&&T(D.signal,this)),v.call(this,D),S.construct(this,()=>{const ne=this._writableState;ne.writing||st(this,ne),le(this,ne)})}o(ct,f,{__proto__:null,value:function(D){return a(this,D)?!0:this!==ct?!1:D&&D._writableState instanceof Ee}}),ct.prototype.pipe=function(){$(this,new K)};function Ie(D,G,ne,_e){const Oe=D._writableState;if(typeof ne=="function")_e=ne,ne=Oe.defaultEncoding;else{if(!ne)ne=Oe.defaultEncoding;else if(ne!=="buffer"&&!w.isEncoding(ne))throw new Fe(ne);typeof _e!="function"&&(_e=ie)}if(G===null)throw new J;if(!Oe.objectMode)if(typeof G=="string")Oe.decodeStrings!==!1&&(G=w.from(G,ne),ne="buffer");else if(G instanceof w)ne="buffer";else if(v._isUint8Array(G))G=v._uint8ArrayToBuffer(G),ne="buffer";else throw new x("chunk",["string","Buffer","Uint8Array"],G);let lt;return Oe.ending?lt=new q:Oe.destroyed&&(lt=new M("write")),lt?(e.nextTick(_e,lt),$(D,lt,!0),lt):(Oe.pendingcb++,ht(D,Oe,G,ne,_e))}ct.prototype.write=function(D,G,ne){return Ie(this,D,G,ne)===!0},ct.prototype.cork=function(){this._writableState.corked++},ct.prototype.uncork=function(){const D=this._writableState;D.corked&&(D.corked--,D.writing||st(this,D))},ct.prototype.setDefaultEncoding=function(G){if(typeof G=="string"&&(G=u(G)),!w.isEncoding(G))throw new Fe(G);return this._writableState.defaultEncoding=G,this};function ht(D,G,ne,_e,Oe){const lt=G.objectMode?1:ne.length;G.length+=lt;const Te=G.length<G.highWaterMark;return Te||(G.needDrain=!0),G.writing||G.corked||G.errored||!G.constructed?(G.buffered.push({chunk:ne,encoding:_e,callback:Oe}),G.allBuffers&&_e!=="buffer"&&(G.allBuffers=!1),G.allNoop&&Oe!==ie&&(G.allNoop=!1)):(G.writelen=lt,G.writecb=Oe,G.writing=!0,G.sync=!0,D._write(ne,_e,G.onwrite),G.sync=!1),Te&&!G.errored&&!G.destroyed}function de(D,G,ne,_e,Oe,lt,Te){G.writelen=_e,G.writecb=Te,G.writing=!0,G.sync=!0,G.destroyed?G.onwrite(new M("write")):ne?D._writev(Oe,G.onwrite):D._write(Oe,lt,G.onwrite),G.sync=!1}function nt(D,G,ne,_e){--G.pendingcb,_e(ne),He(G),$(D,ne)}function Y(D,G){const ne=D._writableState,_e=ne.sync,Oe=ne.writecb;if(typeof Oe!="function"){$(D,new P);return}ne.writing=!1,ne.writecb=null,ne.length-=ne.writelen,ne.writelen=0,G?(G.stack,ne.errored||(ne.errored=G),D._readableState&&!D._readableState.errored&&(D._readableState.errored=G),_e?e.nextTick(nt,D,ne,G,Oe):nt(D,ne,G,Oe)):(ne.buffered.length>ne.bufferedIndex&&st(D,ne),_e?ne.afterWriteTickInfo!==null&&ne.afterWriteTickInfo.cb===Oe?ne.afterWriteTickInfo.count++:(ne.afterWriteTickInfo={count:1,cb:Oe,stream:D,state:ne},e.nextTick(Re,ne.afterWriteTickInfo)):Qe(D,ne,1,Oe))}function Re({stream:D,state:G,count:ne,cb:_e}){return G.afterWriteTickInfo=null,Qe(D,G,ne,_e)}function Qe(D,G,ne,_e){for(!G.ending&&!D.destroyed&&G.length===0&&G.needDrain&&(G.needDrain=!1,D.emit("drain"));ne-- >0;)G.pendingcb--,_e();G.destroyed&&He(G),le(D,G)}function He(D){if(D.writing)return;for(let Oe=D.bufferedIndex;Oe<D.buffered.length;++Oe){var G;const{chunk:lt,callback:Te}=D.buffered[Oe],yt=D.objectMode?1:lt.length;D.length-=yt,Te((G=D.errored)!==null&&G!==void 0?G:new M("write"))}const ne=D[ge].splice(0);for(let Oe=0;Oe<ne.length;Oe++){var _e;ne[Oe]((_e=D.errored)!==null&&_e!==void 0?_e:new M("end"))}tt(D)}function st(D,G){if(G.corked||G.bufferProcessing||G.destroyed||!G.constructed)return;const{buffered:ne,bufferedIndex:_e,objectMode:Oe}=G,lt=ne.length-_e;if(!lt)return;let Te=_e;if(G.bufferProcessing=!0,lt>1&&D._writev){G.pendingcb-=lt-1;const yt=G.allNoop?ie:wt=>{for(let Xe=Te;Xe<ne.length;++Xe)ne[Xe].callback(wt)},Ot=G.allNoop&&Te===0?ne:t(ne,Te);Ot.allBuffers=G.allBuffers,de(D,G,!0,G.length,Ot,"",yt),tt(G)}else{do{const{chunk:yt,encoding:Ot,callback:wt}=ne[Te];ne[Te++]=null;const Xe=Oe?1:yt.length;de(D,G,!1,Xe,yt,Ot,wt)}while(Te<ne.length&&!G.writing);Te===ne.length?tt(G):Te>256?(ne.splice(0,Te),G.bufferedIndex=0):G.bufferedIndex=Te}G.bufferProcessing=!1}ct.prototype._write=function(D,G,ne){if(this._writev)this._writev([{chunk:D,encoding:G}],ne);else throw new F("_write()")},ct.prototype._writev=null,ct.prototype.end=function(D,G,ne){const _e=this._writableState;typeof D=="function"?(ne=D,D=null,G=null):typeof G=="function"&&(ne=G,G=null);let Oe;if(D!=null){const lt=Ie(this,D,G);lt instanceof r&&(Oe=lt)}return _e.corked&&(_e.corked=1,this.uncork()),Oe||(!_e.errored&&!_e.ending?(_e.ending=!0,le(this,_e,!0),_e.ended=!0):_e.finished?Oe=new z("end"):_e.destroyed&&(Oe=new M("end"))),typeof ne=="function"&&(Oe||_e.finished?e.nextTick(ne,Oe):_e[ge].push(ne)),this};function It(D){return D.ending&&!D.destroyed&&D.constructed&&D.length===0&&!D.errored&&D.buffered.length===0&&!D.finished&&!D.writing&&!D.errorEmitted&&!D.closeEmitted}function kt(D,G){let ne=!1;function _e(Oe){if(ne){$(D,Oe??P());return}if(ne=!0,G.pendingcb--,Oe){const lt=G[ge].splice(0);for(let Te=0;Te<lt.length;Te++)lt[Te](Oe);$(D,Oe,G.sync)}else It(G)&&(G.prefinished=!0,D.emit("prefinish"),G.pendingcb++,e.nextTick(Ce,D,G))}G.sync=!0,G.pendingcb++;try{D._final(_e)}catch(Oe){_e(Oe)}G.sync=!1}function ke(D,G){!G.prefinished&&!G.finalCalled&&(typeof D._final=="function"&&!G.destroyed?(G.finalCalled=!0,kt(D,G)):(G.prefinished=!0,D.emit("prefinish")))}function le(D,G,ne){It(G)&&(ke(D,G),G.pendingcb===0&&(ne?(G.pendingcb++,e.nextTick((_e,Oe)=>{It(Oe)?Ce(_e,Oe):Oe.pendingcb--},D,G)):It(G)&&(G.pendingcb++,Ce(D,G))))}function Ce(D,G){G.pendingcb--,G.finished=!0;const ne=G[ge].splice(0);for(let _e=0;_e<ne.length;_e++)ne[_e]();if(D.emit("finish"),G.autoDestroy){const _e=D._readableState;(!_e||_e.autoDestroy&&(_e.endEmitted||_e.readable===!1))&&D.destroy()}}c(ct.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(D){this._writableState&&(this._writableState.destroyed=D)}},writable:{__proto__:null,get(){const D=this._writableState;return!!D&&D.writable!==!1&&!D.destroyed&&!D.errored&&!D.ending&&!D.ended},set(D){this._writableState&&(this._writableState.writable=!!D)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const D=this._writableState;return D?!D.destroyed&&!D.ending&&D.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Ye=S.destroy;ct.prototype.destroy=function(D,G){const ne=this._writableState;return!ne.destroyed&&(ne.bufferedIndex<ne.buffered.length||ne[ge].length)&&e.nextTick(He,ne),Ye.call(this,D,G),this},ct.prototype._undestroy=S.undestroy,ct.prototype._destroy=function(D,G){G(D)},ct.prototype[g.captureRejectionSymbol]=function(D){this.destroy(D)};let oe;function k(){return oe===void 0&&(oe={}),oe}return ct.fromWeb=function(D,G){return k().newStreamWritableFromWritableStream(D,G)},ct.toWeb=function(D){return k().newWritableStreamFromStreamWritable(D)},X0}var Q0,H_;function kT(){if(H_)return Q0;H_=1;const e=Tf(),t=Ls(),{isReadable:r,isWritable:a,isIterable:o,isNodeStream:c,isReadableNodeStream:s,isWritableNodeStream:u,isDuplexNodeStream:h,isReadableStream:f,isWritableStream:g}=$l(),v=Ju(),{AbortError:w,codes:{ERR_INVALID_ARG_TYPE:S,ERR_INVALID_RETURN_VALUE:T}}=Oa(),{destroyer:R}=Wd(),C=Bl(),x=Tm(),F=Tb(),{createDeferredPromise:P}=Wa(),K=A1(),M=globalThis.Blob||t.Blob,z=typeof M<"u"?function(Ee){return Ee instanceof M}:function(Ee){return!1},J=globalThis.AbortController||Tg().AbortController,{FunctionPrototypeCall:q}=yi();class Fe extends C{constructor(Ee){super(Ee),Ee?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),Ee?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}Q0=function ge(Ee,tt){if(h(Ee))return Ee;if(s(Ee))return ie({readable:Ee});if(u(Ee))return ie({writable:Ee});if(c(Ee))return ie({writable:!1,readable:!1});if(f(Ee))return ie({readable:x.fromWeb(Ee)});if(g(Ee))return ie({writable:F.fromWeb(Ee)});if(typeof Ee=="function"){const{value:Ie,write:ht,final:de,destroy:nt}=$(Ee);if(o(Ie))return K(Fe,Ie,{objectMode:!0,write:ht,final:de,destroy:nt});const Y=Ie?.then;if(typeof Y=="function"){let Re;const Qe=q(Y,Ie,He=>{if(He!=null)throw new T("nully","body",He)},He=>{R(Re,He)});return Re=new Fe({objectMode:!0,readable:!1,write:ht,final(He){de(async()=>{try{await Qe,e.nextTick(He,null)}catch(st){e.nextTick(He,st)}})},destroy:nt})}throw new T("Iterable, AsyncIterable or AsyncFunction",tt,Ie)}if(z(Ee))return ge(Ee.arrayBuffer());if(o(Ee))return K(Fe,Ee,{objectMode:!0,writable:!1});if(f(Ee?.readable)&&g(Ee?.writable))return Fe.fromWeb(Ee);if(typeof Ee?.writable=="object"||typeof Ee?.readable=="object"){const Ie=Ee!=null&&Ee.readable?s(Ee?.readable)?Ee?.readable:ge(Ee.readable):void 0,ht=Ee!=null&&Ee.writable?u(Ee?.writable)?Ee?.writable:ge(Ee.writable):void 0;return ie({readable:Ie,writable:ht})}const ct=Ee?.then;if(typeof ct=="function"){let Ie;return q(ct,Ee,ht=>{ht!=null&&Ie.push(ht),Ie.push(null)},ht=>{R(Ie,ht)}),Ie=new Fe({objectMode:!0,writable:!1,read(){}})}throw new S(tt,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],Ee)};function $(ge){let{promise:Ee,resolve:tt}=P();const ct=new J,Ie=ct.signal;return{value:ge(async function*(){for(;;){const de=Ee;Ee=null;const{chunk:nt,done:Y,cb:Re}=await de;if(e.nextTick(Re),Y)return;if(Ie.aborted)throw new w(void 0,{cause:Ie.reason});({promise:Ee,resolve:tt}=P()),yield nt}}(),{signal:Ie}),write(de,nt,Y){const Re=tt;tt=null,Re({chunk:de,done:!1,cb:Y})},final(de){const nt=tt;tt=null,nt({done:!0,cb:de})},destroy(de,nt){ct.abort(),nt(de)}}}function ie(ge){const Ee=ge.readable&&typeof ge.readable.read!="function"?x.wrap(ge.readable):ge.readable,tt=ge.writable;let ct=!!r(Ee),Ie=!!a(tt),ht,de,nt,Y,Re;function Qe(He){const st=Y;Y=null,st?st(He):He&&Re.destroy(He)}return Re=new Fe({readableObjectMode:!!(Ee!=null&&Ee.readableObjectMode),writableObjectMode:!!(tt!=null&&tt.writableObjectMode),readable:ct,writable:Ie}),Ie&&(v(tt,He=>{Ie=!1,He&&R(Ee,He),Qe(He)}),Re._write=function(He,st,It){tt.write(He,st)?It():ht=It},Re._final=function(He){tt.end(),de=He},tt.on("drain",function(){if(ht){const He=ht;ht=null,He()}}),tt.on("finish",function(){if(de){const He=de;de=null,He()}})),ct&&(v(Ee,He=>{ct=!1,He&&R(Ee,He),Qe(He)}),Ee.on("readable",function(){if(nt){const He=nt;nt=null,He()}}),Ee.on("end",function(){Re.push(null)}),Re._read=function(){for(;;){const He=Ee.read();if(He===null){nt=Re._read;return}if(!Re.push(He))return}}),Re._destroy=function(He,st){!He&&Y!==null&&(He=new w),nt=null,ht=null,de=null,Y===null?st(He):(Y=st,R(tt,He),R(Ee,He))},Re}return Q0}var Z0,V_;function Bl(){if(V_)return Z0;V_=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:a}=yi();Z0=s;const o=Tm(),c=Tb();a(s.prototype,o.prototype),a(s,o);{const g=r(c.prototype);for(let v=0;v<g.length;v++){const w=g[v];s.prototype[w]||(s.prototype[w]=c.prototype[w])}}function s(g){if(!(this instanceof s))return new s(g);o.call(this,g),c.call(this,g),g?(this.allowHalfOpen=g.allowHalfOpen!==!1,g.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),g.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(s.prototype,{writable:{__proto__:null,...t(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(c.prototype,"writableLength")},writableFinished:{__proto__:null,...t(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(g){this._readableState&&this._writableState&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}});let u;function h(){return u===void 0&&(u={}),u}s.fromWeb=function(g,v){return h().newStreamDuplexFromReadableWritablePair(g,v)},s.toWeb=function(g){return h().newReadableWritablePairFromDuplex(g)};let f;return s.from=function(g){return f||(f=kT()),f(g,"body")},Z0}var ev,$_;function x1(){if($_)return ev;$_=1;const{ObjectSetPrototypeOf:e,Symbol:t}=yi();ev=s;const{ERR_METHOD_NOT_IMPLEMENTED:r}=Oa().codes,a=Bl(),{getHighWaterMark:o}=Rm();e(s.prototype,a.prototype),e(s,a);const c=t("kCallback");function s(f){if(!(this instanceof s))return new s(f);const g=f?o(this,f,"readableHighWaterMark",!0):null;g===0&&(f={...f,highWaterMark:null,readableHighWaterMark:g,writableHighWaterMark:f.writableHighWaterMark||0}),a.call(this,f),this._readableState.sync=!1,this[c]=null,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",h)}function u(f){typeof this._flush=="function"&&!this.destroyed?this._flush((g,v)=>{if(g){f?f(g):this.destroy(g);return}v!=null&&this.push(v),this.push(null),f&&f()}):(this.push(null),f&&f())}function h(){this._final!==u&&u.call(this)}return s.prototype._final=u,s.prototype._transform=function(f,g,v){throw new r("_transform()")},s.prototype._write=function(f,g,v){const w=this._readableState,S=this._writableState,T=w.length;this._transform(f,g,(R,C)=>{if(R){v(R);return}C!=null&&this.push(C),S.ended||T===w.length||w.length<w.highWaterMark?v():this[c]=v})},s.prototype._read=function(){if(this[c]){const f=this[c];this[c]=null,f()}},ev}var tv,K_;function R1(){if(K_)return tv;K_=1;const{ObjectSetPrototypeOf:e}=yi();tv=r;const t=x1();e(r.prototype,t.prototype),e(r,t);function r(a){if(!(this instanceof r))return new r(a);t.call(this,a)}return r.prototype._transform=function(a,o,c){c(null,a)},tv}var nv,G_;function Cb(){if(G_)return nv;G_=1;const e=Tf(),{ArrayIsArray:t,Promise:r,SymbolAsyncIterator:a,SymbolDispose:o}=yi(),c=Ju(),{once:s}=Wa(),u=Wd(),h=Bl(),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:v,ERR_MISSING_ARGS:w,ERR_STREAM_DESTROYED:S,ERR_STREAM_PREMATURE_CLOSE:T},AbortError:R}=Oa(),{validateFunction:C,validateAbortSignal:x}=Mg(),{isIterable:F,isReadable:P,isReadableNodeStream:K,isNodeStream:M,isTransformStream:z,isWebStream:J,isReadableStream:q,isReadableFinished:Fe}=$l(),$=globalThis.AbortController||Tg().AbortController;let ie,ge,Ee;function tt(He,st,It){let kt=!1;He.on("close",()=>{kt=!0});const ke=c(He,{readable:st,writable:It},le=>{kt=!le});return{destroy:le=>{kt||(kt=!0,u.destroyer(He,le||new S("pipe")))},cleanup:ke}}function ct(He){return C(He[He.length-1],"streams[stream.length - 1]"),He.pop()}function Ie(He){if(F(He))return He;if(K(He))return ht(He);throw new g("val",["Readable","Iterable","AsyncIterable"],He)}async function*ht(He){ge||(ge=Tm()),yield*ge.prototype[a].call(He)}async function de(He,st,It,{end:kt}){let ke,le=null;const Ce=k=>{if(k&&(ke=k),le){const D=le;le=null,D()}},Ye=()=>new r((k,D)=>{ke?D(ke):le=()=>{ke?D(ke):k()}});st.on("drain",Ce);const oe=c(st,{readable:!1},Ce);try{st.writableNeedDrain&&await Ye();for await(const k of He)st.write(k)||await Ye();kt&&(st.end(),await Ye()),It()}catch(k){It(ke!==k?f(ke,k):k)}finally{oe(),st.off("drain",Ce)}}async function nt(He,st,It,{end:kt}){z(st)&&(st=st.writable);const ke=st.getWriter();try{for await(const le of He)await ke.ready,ke.write(le).catch(()=>{});await ke.ready,kt&&await ke.close(),It()}catch(le){try{await ke.abort(le),It(le)}catch(Ce){It(Ce)}}}function Y(...He){return Re(He,s(ct(He)))}function Re(He,st,It){if(He.length===1&&t(He[0])&&(He=He[0]),He.length<2)throw new w("streams");const kt=new $,ke=kt.signal,le=It?.signal,Ce=[];x(le,"options.signal");function Ye(){Oe(new R)}Ee=Ee||Wa().addAbortListener;let oe;le&&(oe=Ee(le,Ye));let k,D;const G=[];let ne=0;function _e(wt){Oe(wt,--ne===0)}function Oe(wt,Xe){var ze;if(wt&&(!k||k.code==="ERR_STREAM_PREMATURE_CLOSE")&&(k=wt),!(!k&&!Xe)){for(;G.length;)G.shift()(k);(ze=oe)===null||ze===void 0||ze[o](),kt.abort(),Xe&&(k||Ce.forEach(Pe=>Pe()),e.nextTick(st,k,D))}}let lt;for(let wt=0;wt<He.length;wt++){const Xe=He[wt],ze=wt<He.length-1,Pe=wt>0,ft=ze||It?.end!==!1,X=wt===He.length-1;if(M(Xe)){let B=function(V){V&&V.name!=="AbortError"&&V.code!=="ERR_STREAM_PREMATURE_CLOSE"&&_e(V)};var Ot=B;if(ft){const{destroy:V,cleanup:H}=tt(Xe,ze,Pe);G.push(V),P(Xe)&&X&&Ce.push(H)}Xe.on("error",B),P(Xe)&&X&&Ce.push(()=>{Xe.removeListener("error",B)})}if(wt===0)if(typeof Xe=="function"){if(lt=Xe({signal:ke}),!F(lt))throw new v("Iterable, AsyncIterable or Stream","source",lt)}else F(Xe)||K(Xe)||z(Xe)?lt=Xe:lt=h.from(Xe);else if(typeof Xe=="function"){if(z(lt)){var Te;lt=Ie((Te=lt)===null||Te===void 0?void 0:Te.readable)}else lt=Ie(lt);if(lt=Xe(lt,{signal:ke}),ze){if(!F(lt,!0))throw new v("AsyncIterable",`transform[${wt-1}]`,lt)}else{var yt;ie||(ie=R1());const B=new ie({objectMode:!0}),V=(yt=lt)===null||yt===void 0?void 0:yt.then;if(typeof V=="function")ne++,V.call(lt,rt=>{D=rt,rt!=null&&B.write(rt),ft&&B.end(),e.nextTick(_e)},rt=>{B.destroy(rt),e.nextTick(_e,rt)});else if(F(lt,!0))ne++,de(lt,B,_e,{end:ft});else if(q(lt)||z(lt)){const rt=lt.readable||lt;ne++,de(rt,B,_e,{end:ft})}else throw new v("AsyncIterable or Promise","destination",lt);lt=B;const{destroy:H,cleanup:We}=tt(lt,!1,!0);G.push(H),X&&Ce.push(We)}}else if(M(Xe)){if(K(lt)){ne+=2;const B=Qe(lt,Xe,_e,{end:ft});P(Xe)&&X&&Ce.push(B)}else if(z(lt)||q(lt)){const B=lt.readable||lt;ne++,de(B,Xe,_e,{end:ft})}else if(F(lt))ne++,de(lt,Xe,_e,{end:ft});else throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],lt);lt=Xe}else if(J(Xe)){if(K(lt))ne++,nt(Ie(lt),Xe,_e,{end:ft});else if(q(lt)||F(lt))ne++,nt(lt,Xe,_e,{end:ft});else if(z(lt))ne++,nt(lt.readable,Xe,_e,{end:ft});else throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],lt);lt=Xe}else lt=h.from(Xe)}return(ke!=null&&ke.aborted||le!=null&&le.aborted)&&e.nextTick(Ye),lt}function Qe(He,st,It,{end:kt}){let ke=!1;if(st.on("close",()=>{ke||It(new T)}),He.pipe(st,{end:!1}),kt){let Ce=function(){ke=!0,st.end()};var le=Ce;Fe(He)?e.nextTick(Ce):He.once("end",Ce)}else It();return c(He,{readable:!0,writable:!1},Ce=>{const Ye=He._readableState;Ce&&Ce.code==="ERR_STREAM_PREMATURE_CLOSE"&&Ye&&Ye.ended&&!Ye.errored&&!Ye.errorEmitted?He.once("end",It).once("error",It):It(Ce)}),c(st,{readable:!1,writable:!0},It)}return nv={pipelineImpl:Re,pipeline:Y},nv}var rv,q_;function T1(){if(q_)return rv;q_=1;const{pipeline:e}=Cb(),t=Bl(),{destroyer:r}=Wd(),{isNodeStream:a,isReadable:o,isWritable:c,isWebStream:s,isTransformStream:u,isWritableStream:h,isReadableStream:f}=$l(),{AbortError:g,codes:{ERR_INVALID_ARG_VALUE:v,ERR_MISSING_ARGS:w}}=Oa(),S=Ju();return rv=function(...R){if(R.length===0)throw new w("streams");if(R.length===1)return t.from(R[0]);const C=[...R];if(typeof R[0]=="function"&&(R[0]=t.from(R[0])),typeof R[R.length-1]=="function"){const ie=R.length-1;R[ie]=t.from(R[ie])}for(let ie=0;ie<R.length;++ie)if(!(!a(R[ie])&&!s(R[ie]))){if(ie<R.length-1&&!(o(R[ie])||f(R[ie])||u(R[ie])))throw new v(`streams[${ie}]`,C[ie],"must be readable");if(ie>0&&!(c(R[ie])||h(R[ie])||u(R[ie])))throw new v(`streams[${ie}]`,C[ie],"must be writable")}let x,F,P,K,M;function z(ie){const ge=K;K=null,ge?ge(ie):ie?M.destroy(ie):!$&&!Fe&&M.destroy()}const J=R[0],q=e(R,z),Fe=!!(c(J)||h(J)||u(J)),$=!!(o(q)||f(q)||u(q));if(M=new t({writableObjectMode:!!(J!=null&&J.writableObjectMode),readableObjectMode:!!(q!=null&&q.readableObjectMode),writable:Fe,readable:$}),Fe){if(a(J))M._write=function(ge,Ee,tt){J.write(ge,Ee)?tt():x=tt},M._final=function(ge){J.end(),F=ge},J.on("drain",function(){if(x){const ge=x;x=null,ge()}});else if(s(J)){const Ee=(u(J)?J.writable:J).getWriter();M._write=async function(tt,ct,Ie){try{await Ee.ready,Ee.write(tt).catch(()=>{}),Ie()}catch(ht){Ie(ht)}},M._final=async function(tt){try{await Ee.ready,Ee.close().catch(()=>{}),F=tt}catch(ct){tt(ct)}}}const ie=u(q)?q.readable:q;S(ie,()=>{if(F){const ge=F;F=null,ge()}})}if($){if(a(q))q.on("readable",function(){if(P){const ie=P;P=null,ie()}}),q.on("end",function(){M.push(null)}),M._read=function(){for(;;){const ie=q.read();if(ie===null){P=M._read;return}if(!M.push(ie))return}};else if(s(q)){const ge=(u(q)?q.readable:q).getReader();M._read=async function(){for(;;)try{const{value:Ee,done:tt}=await ge.read();if(!M.push(Ee))return;if(tt){M.push(null);return}}catch{return}}}}return M._destroy=function(ie,ge){!ie&&K!==null&&(ie=new g),P=null,x=null,F=null,K===null?ge(ie):(K=ge,a(q)&&r(q,ie))},M},rv}var z_;function BT(){if(z_)return Vy;z_=1;const e=globalThis.AbortController||Tg().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:o},AbortError:c}=Oa(),{validateAbortSignal:s,validateInteger:u,validateObject:h}=Mg(),f=yi().Symbol("kWeak"),g=yi().Symbol("kResistStopPropagation"),{finished:v}=Ju(),w=T1(),{addAbortSignalNoValidate:S}=xm(),{isWritable:T,isNodeStream:R}=$l(),{deprecate:C}=Wa(),{ArrayPrototypePush:x,Boolean:F,MathFloor:P,Number:K,NumberIsNaN:M,Promise:z,PromiseReject:J,PromiseResolve:q,PromisePrototypeThen:Fe,Symbol:$}=yi(),ie=$("kEmpty"),ge=$("kEof");function Ee(le,Ce){if(Ce!=null&&h(Ce,"options"),Ce?.signal!=null&&s(Ce.signal,"options.signal"),R(le)&&!T(le))throw new t("stream",le,"must be writable");const Ye=w(this,le);return Ce!=null&&Ce.signal&&S(Ce.signal,Ye),Ye}function tt(le,Ce){if(typeof le!="function")throw new r("fn",["Function","AsyncFunction"],le);Ce!=null&&h(Ce,"options"),Ce?.signal!=null&&s(Ce.signal,"options.signal");let Ye=1;Ce?.concurrency!=null&&(Ye=P(Ce.concurrency));let oe=Ye-1;return Ce?.highWaterMark!=null&&(oe=P(Ce.highWaterMark)),u(Ye,"options.concurrency",1),u(oe,"options.highWaterMark",0),oe+=Ye,(async function*(){const D=Wa().AbortSignalAny([Ce?.signal].filter(F)),G=this,ne=[],_e={signal:D};let Oe,lt,Te=!1,yt=0;function Ot(){Te=!0,wt()}function wt(){yt-=1,Xe()}function Xe(){lt&&!Te&&yt<Ye&&ne.length<oe&&(lt(),lt=null)}async function ze(){try{for await(let Pe of G){if(Te)return;if(D.aborted)throw new c;try{if(Pe=le(Pe,_e),Pe===ie)continue;Pe=q(Pe)}catch(ft){Pe=J(ft)}yt+=1,Fe(Pe,wt,Ot),ne.push(Pe),Oe&&(Oe(),Oe=null),!Te&&(ne.length>=oe||yt>=Ye)&&await new z(ft=>{lt=ft})}ne.push(ge)}catch(Pe){const ft=J(Pe);Fe(ft,wt,Ot),ne.push(ft)}finally{Te=!0,Oe&&(Oe(),Oe=null)}}ze();try{for(;;){for(;ne.length>0;){const Pe=await ne[0];if(Pe===ge)return;if(D.aborted)throw new c;Pe!==ie&&(yield Pe),ne.shift(),Xe()}await new z(Pe=>{Oe=Pe})}}finally{Te=!0,lt&&(lt(),lt=null)}}).call(this)}function ct(le=void 0){return le!=null&&h(le,"options"),le?.signal!=null&&s(le.signal,"options.signal"),(async function*(){let Ye=0;for await(const k of this){var oe;if(le!=null&&(oe=le.signal)!==null&&oe!==void 0&&oe.aborted)throw new c({cause:le.signal.reason});yield[Ye++,k]}}).call(this)}async function Ie(le,Ce=void 0){for await(const Ye of Y.call(this,le,Ce))return!0;return!1}async function ht(le,Ce=void 0){if(typeof le!="function")throw new r("fn",["Function","AsyncFunction"],le);return!await Ie.call(this,async(...Ye)=>!await le(...Ye),Ce)}async function de(le,Ce){for await(const Ye of Y.call(this,le,Ce))return Ye}async function nt(le,Ce){if(typeof le!="function")throw new r("fn",["Function","AsyncFunction"],le);async function Ye(oe,k){return await le(oe,k),ie}for await(const oe of tt.call(this,Ye,Ce));}function Y(le,Ce){if(typeof le!="function")throw new r("fn",["Function","AsyncFunction"],le);async function Ye(oe,k){return await le(oe,k)?oe:ie}return tt.call(this,Ye,Ce)}class Re extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function Qe(le,Ce,Ye){var oe;if(typeof le!="function")throw new r("reducer",["Function","AsyncFunction"],le);Ye!=null&&h(Ye,"options"),Ye?.signal!=null&&s(Ye.signal,"options.signal");let k=arguments.length>1;if(Ye!=null&&(oe=Ye.signal)!==null&&oe!==void 0&&oe.aborted){const Oe=new c(void 0,{cause:Ye.signal.reason});throw this.once("error",()=>{}),await v(this.destroy(Oe)),Oe}const D=new e,G=D.signal;if(Ye!=null&&Ye.signal){const Oe={once:!0,[f]:this,[g]:!0};Ye.signal.addEventListener("abort",()=>D.abort(),Oe)}let ne=!1;try{for await(const Oe of this){var _e;if(ne=!0,Ye!=null&&(_e=Ye.signal)!==null&&_e!==void 0&&_e.aborted)throw new c;k?Ce=await le(Ce,Oe,{signal:G}):(Ce=Oe,k=!0)}if(!ne&&!k)throw new Re}finally{D.abort()}return Ce}async function He(le){le!=null&&h(le,"options"),le?.signal!=null&&s(le.signal,"options.signal");const Ce=[];for await(const oe of this){var Ye;if(le!=null&&(Ye=le.signal)!==null&&Ye!==void 0&&Ye.aborted)throw new c(void 0,{cause:le.signal.reason});x(Ce,oe)}return Ce}function st(le,Ce){const Ye=tt.call(this,le,Ce);return(async function*(){for await(const k of Ye)yield*k}).call(this)}function It(le){if(le=K(le),M(le))return 0;if(le<0)throw new o("number",">= 0",le);return le}function kt(le,Ce=void 0){return Ce!=null&&h(Ce,"options"),Ce?.signal!=null&&s(Ce.signal,"options.signal"),le=It(le),(async function*(){var oe;if(Ce!=null&&(oe=Ce.signal)!==null&&oe!==void 0&&oe.aborted)throw new c;for await(const D of this){var k;if(Ce!=null&&(k=Ce.signal)!==null&&k!==void 0&&k.aborted)throw new c;le--<=0&&(yield D)}}).call(this)}function ke(le,Ce=void 0){return Ce!=null&&h(Ce,"options"),Ce?.signal!=null&&s(Ce.signal,"options.signal"),le=It(le),(async function*(){var oe;if(Ce!=null&&(oe=Ce.signal)!==null&&oe!==void 0&&oe.aborted)throw new c;for await(const D of this){var k;if(Ce!=null&&(k=Ce.signal)!==null&&k!==void 0&&k.aborted)throw new c;if(le-- >0&&(yield D),le<=0)return}}).call(this)}return Vy.streamReturningOperators={asIndexedPairs:C(ct,"readable.asIndexedPairs will be removed in a future version."),drop:kt,filter:Y,flatMap:st,map:tt,take:ke,compose:Ee},Vy.promiseReturningOperators={every:ht,forEach:nt,reduce:Qe,toArray:He,some:Ie,find:de},Vy}var iv,W_;function C1(){if(W_)return iv;W_=1;const{ArrayPrototypePop:e,Promise:t}=yi(),{isIterable:r,isNodeStream:a,isWebStream:o}=$l(),{pipelineImpl:c}=Cb(),{finished:s}=Ju();O1();function u(...h){return new t((f,g)=>{let v,w;const S=h[h.length-1];if(S&&typeof S=="object"&&!a(S)&&!r(S)&&!o(S)){const T=e(h);v=T.signal,w=T.end}c(h,(T,R)=>{T?g(T):f(R)},{signal:v,end:w})})}return iv={finished:s,pipeline:u},iv}var J_;function O1(){if(J_)return U0.exports;J_=1;const{Buffer:e}=Ls(),{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:a}=yi(),{promisify:{custom:o}}=Wa(),{streamReturningOperators:c,promiseReturningOperators:s}=BT(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=Oa(),h=T1(),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:g}=Rm(),{pipeline:v}=Cb(),{destroyer:w}=Wd(),S=Ju(),T=C1(),R=$l(),C=U0.exports=Rb().Stream;C.isDestroyed=R.isDestroyed,C.isDisturbed=R.isDisturbed,C.isErrored=R.isErrored,C.isReadable=R.isReadable,C.isWritable=R.isWritable,C.Readable=Tm();for(const P of r(c)){let M=function(...z){if(new.target)throw u();return C.Readable.from(a(K,this,z))};var F=M;const K=c[P];t(M,"name",{__proto__:null,value:K.name}),t(M,"length",{__proto__:null,value:K.length}),t(C.Readable.prototype,P,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}for(const P of r(s)){let M=function(...J){if(new.target)throw u();return a(K,this,J)};var F=M;const K=s[P];t(M,"name",{__proto__:null,value:K.name}),t(M,"length",{__proto__:null,value:K.length}),t(C.Readable.prototype,P,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}C.Writable=Tb(),C.Duplex=Bl(),C.Transform=x1(),C.PassThrough=R1(),C.pipeline=v;const{addAbortSignal:x}=xm();return C.addAbortSignal=x,C.finished=S,C.destroy=w,C.compose=h,C.setDefaultHighWaterMark=f,C.getDefaultHighWaterMark=g,t(C,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return T}}),t(v,o,{__proto__:null,enumerable:!0,get(){return T.pipeline}}),t(S,o,{__proto__:null,enumerable:!0,get(){return T.finished}}),C.Stream=C,C._isUint8Array=function(K){return K instanceof Uint8Array},C._uint8ArrayToBuffer=function(K){return e.from(K.buffer,K.byteOffset,K.byteLength)},U0.exports}var Y_;function I1(){return Y_||(Y_=1,function(e){const t=O1(),r=C1(),a=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=a,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports}(D0)),D0.exports}var Rp={},Tp={},yf={},Cp={},X_;function P1(){if(X_)return Cp;X_=1,Object.defineProperty(Cp,"__esModule",{value:!0}),Cp.BlankNode=void 0;class e{constructor(r){this.termType="BlankNode",this.value=r}equals(r){return!!r&&r.termType==="BlankNode"&&r.value===this.value}}return Cp.BlankNode=e,Cp}var Op={},Ip={},Q_;function N1(){if(Q_)return Ip;Q_=1,Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.DefaultGraph=void 0;class e{constructor(){this.termType="DefaultGraph",this.value=""}equals(r){return!!r&&r.termType==="DefaultGraph"}}return Ip.DefaultGraph=e,e.INSTANCE=new e,Ip}var Pp={},Np={},Z_;function Ob(){if(Z_)return Np;Z_=1,Object.defineProperty(Np,"__esModule",{value:!0}),Np.NamedNode=void 0;class e{constructor(r){this.termType="NamedNode",this.value=r}equals(r){return!!r&&r.termType==="NamedNode"&&r.value===this.value}}return Np.NamedNode=e,Np}var eE;function F1(){if(eE)return Pp;eE=1,Object.defineProperty(Pp,"__esModule",{value:!0}),Pp.Literal=void 0;const e=Ob();class t{constructor(a,o){this.termType="Literal",this.value=a,typeof o=="string"?(this.language=o,this.datatype=t.RDF_LANGUAGE_STRING):o?(this.language="",this.datatype=o):(this.language="",this.datatype=t.XSD_STRING)}equals(a){return!!a&&a.termType==="Literal"&&a.value===this.value&&a.language===this.language&&this.datatype.equals(a.datatype)}}return Pp.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Pp}var Fp={},tE;function D1(){if(tE)return Fp;tE=1,Object.defineProperty(Fp,"__esModule",{value:!0}),Fp.Quad=void 0;class e{constructor(r,a,o,c){this.termType="Quad",this.value="",this.subject=r,this.predicate=a,this.object=o,this.graph=c}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&this.subject.equals(r.subject)&&this.predicate.equals(r.predicate)&&this.object.equals(r.object)&&this.graph.equals(r.graph)}}return Fp.Quad=e,Fp}var Dp={},nE;function U1(){if(nE)return Dp;nE=1,Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.Variable=void 0;class e{constructor(r){this.termType="Variable",this.value=r}equals(r){return!!r&&r.termType==="Variable"&&r.value===this.value}}return Dp.Variable=e,Dp}var rE;function jT(){if(rE)return Op;rE=1,Object.defineProperty(Op,"__esModule",{value:!0}),Op.DataFactory=void 0;const e=P1(),t=N1(),r=F1(),a=Ob(),o=D1(),c=U1();let s=0;class u{constructor(f){this.blankNodeCounter=0,f=f||{},this.blankNodePrefix=f.blankNodePrefix||`df_${s++}_`}namedNode(f){return new a.NamedNode(f)}blankNode(f){return new e.BlankNode(f||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(f,g){return new r.Literal(f,g)}variable(f){return new c.Variable(f)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(f,g,v,w){return new o.Quad(f,g,v,w||this.defaultGraph())}fromTerm(f){switch(f.termType){case"NamedNode":return this.namedNode(f.value);case"BlankNode":return this.blankNode(f.value);case"Literal":return f.language?this.literal(f.value,f.language):f.datatype.equals(r.Literal.XSD_STRING)?this.literal(f.value):this.literal(f.value,this.fromTerm(f.datatype));case"Variable":return this.variable(f.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(f.subject),this.fromTerm(f.predicate),this.fromTerm(f.object),this.fromTerm(f.graph))}}fromQuad(f){return this.fromTerm(f)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return Op.DataFactory=u,Op}var iE;function HT(){return iE||(iE=1,function(e){var t=yf&&yf.__createBinding||(Object.create?function(a,o,c,s){s===void 0&&(s=c);var u=Object.getOwnPropertyDescriptor(o,c);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[c]}}),Object.defineProperty(a,s,u)}:function(a,o,c,s){s===void 0&&(s=c),a[s]=o[c]}),r=yf&&yf.__exportStar||function(a,o){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(o,c)&&t(o,a,c)};Object.defineProperty(e,"__esModule",{value:!0}),r(P1(),e),r(jT(),e),r(N1(),e),r(F1(),e),r(Ob(),e),r(D1(),e),r(U1(),e)}(yf)),yf}var Up={},Lp={},aE;function VT(){if(aE)return Lp;aE=1,Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.ContainerHandlerIdentifier=void 0;let e=class{canCombineWithGraph(){return!0}async handle(r,a,o,c,s,u){let h;if(a.emittedStack[u+1]&&a.idStack[u+1])h=a.idStack[u+1][0];else{const v=await o.getContainerKey(c[u],c,u)!==null?await o.resourceToTerm(await a.getContext(c),c[u]):o.dataFactory.blankNode();if(!v){a.emittedStack[u]=!1;return}h=v,a.idStack[u+1]=[h]}let f=a.idStack[u];f||(f=a.idStack[u]=[]),f.some(g=>g.equals(h))||f.push(h),await a.handlePendingContainerFlushBuffers()||(a.emittedStack[u]=!1)}};return Lp.ContainerHandlerIdentifier=e,Lp}var Mp={},kp={},oE;function Cm(){if(oE)return kp;oE=1,Object.defineProperty(kp,"__esModule",{value:!0}),kp.EntryHandlerPredicate=void 0;const e=Ca(),t=Cf();let r=class L1{static async handlePredicateObject(o,c,s,u,h,f,g,v,w){const S=await c.getPropertiesDepth(s,u),T=await c.getDepthOffsetGraph(u,s),R=u-T,C=o.idStack[S];if(C&&!w)for(const x of C)if(T>=0){const P=o.idStack[R-1];if(P)for(const K of P)c.emitQuadChecked(u,x,h,f,K,g,v);else g?(c.validateReverseSubject(f),o.getUnidentifiedGraphBufferSafe(R-1).push({subject:f,predicate:h,object:x,isEmbedded:v})):o.getUnidentifiedGraphBufferSafe(R-1).push({subject:x,predicate:h,object:f,isEmbedded:v})}else{const P=await c.getGraphContainerValue(s,S);c.emitQuadChecked(u,x,h,f,P,g,v)}else if(g&&c.validateReverseSubject(f),w){if(o.rdfstar){o.idStack[u]&&o.emitError(new e.ErrorCoded(`Found an illegal @id inside an annotation: ${o.idStack[u][0].value}`,e.ERROR_CODES.INVALID_ANNOTATION));for(let P=0;P<u;P++)await c.unaliasKeyword(s[P],s,P)==="@id"&&o.emitError(new e.ErrorCoded("Found an illegal annotation inside an embedded node",e.ERROR_CODES.INVALID_ANNOTATION));const x=o.getAnnotationsBufferSafe(S),F={predicate:h,object:f,reverse:g,nestedAnnotations:[],depth:S};x.push(F);for(let P=x.length-2;P>=0;P--){const K=x[P];K.depth>S&&(F.nestedAnnotations.push(K),x.splice(P,1))}}}else o.getUnidentifiedValueBufferSafe(S).push({predicate:h,object:f,reverse:g,isEmbedded:v})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(o,c,s,u,h){const f=s[u];if(f){const g=await o.getContext(s);if(!o.jsonLiteralStack[u]&&await c.predicateToTerm(g,s[u]))return t.Util.getContextValueType(g,f)==="@json"&&(o.jsonLiteralStack[u+1]=!0),!0}return!1}async test(o,c,s,u,h){return u[h]}async handle(o,c,s,u,h,f,g){const v=u[f],w=await o.getContext(u),S=await c.predicateToTerm(w,s);if(S){const T=await c.valueToTerm(w,s,h,f,u);if(T.length)for(let R of T){let C=await c.unaliasKeywordParent(u,f);const x=t.Util.isPropertyReverse(w,v,C);let F=0;for(;C==="@reverse"||typeof C=="number";)typeof C=="number"?F++:f--,C=await c.unaliasKeywordParent(u,f-F);const P=t.Util.isPropertyInEmbeddedNode(C);c.validateReverseInEmbeddedNode(s,x,P);const K=t.Util.isPropertyInAnnotationObject(C);if(h){const M="@list"in t.Util.getContextValueContainer(w,s);if(M||h["@list"]){if((M&&!Array.isArray(h)&&!h["@list"]||h["@list"]&&!Array.isArray(h["@list"]))&&R!==c.rdfNil){const z=c.dataFactory.blankNode();o.emitQuad(f,c.dataFactory.quad(z,c.rdfRest,c.rdfNil,c.getDefaultGraph())),o.emitQuad(f,c.dataFactory.quad(z,c.rdfFirst,R,c.getDefaultGraph())),R=z}if(x&&!o.allowSubjectList)throw new e.ErrorCoded(`Found illegal list value in subject position at ${s}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await L1.handlePredicateObject(o,c,u,f,S,R,x,P,K)}}}};return kp.EntryHandlerPredicate=r,kp}var sE;function $T(){if(sE)return Mp;sE=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.ContainerHandlerIndex=void 0;const e=Ca(),t=Cm(),r=Cf();let a=class{canCombineWithGraph(){return!0}async handle(c,s,u,h,f,g){if(!Array.isArray(f)){const v="@graph"in c,w=await s.getContext(h),S=h[g-1],T=r.Util.getContextValueIndex(w,S);if(T){if(e.Util.isPotentialKeyword(T))throw new e.ErrorCoded(`Keywords can not be used as @index value, got: ${T}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof T!="string")throw new e.ErrorCoded(`@index values must be strings, got: ${T}`,e.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof f!="object"){if(r.Util.getContextValueType(w,S)!=="@id")throw new e.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${f}`,e.ERROR_CODES.INVALID_VALUE_OBJECT);const x=u.resourceToTerm(w,f);x&&(s.idStack[g+1]=[x])}const C=u.createVocabOrBaseTerm(w,T);if(C){const x=await u.valueToTerm(w,T,await u.getContainerKey(h[g],h,g),g,h);if(v){const F=await u.getGraphContainerValue(h,g+1);for(const P of x)s.emitQuad(g,u.dataFactory.quad(F,C,P,u.getDefaultGraph()))}else for(const F of x)await t.EntryHandlerPredicate.handlePredicateObject(s,u,h,g+1,C,F,!1,!1,!1)}}const R=v?2:1;await s.newOnValueJob(h.slice(0,h.length-R),f,g-R,!0),await s.handlePendingContainerFlushBuffers()}s.emittedStack[g]=!1}};return Mp.ContainerHandlerIndex=a,Mp}var Bp={},lE;function KT(){if(lE)return Bp;lE=1,Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.ContainerHandlerLanguage=void 0;const e=Ca();let t=class{canCombineWithGraph(){return!1}async handle(a,o,c,s,u,h){const f=await c.getContainerKey(s[h],s,h);if(Array.isArray(u))u=u.map(g=>({"@value":g,"@language":f}));else{if(typeof u!="string")throw new e.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(u)}', but expected string`,e.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);u={"@value":u,"@language":f}}await o.newOnValueJob(s.slice(0,s.length-1),u,h-1,!0),o.emittedStack[h]=!1}};return Bp.ContainerHandlerLanguage=t,Bp}var jp={},uE;function GT(){if(uE)return jp;uE=1,Object.defineProperty(jp,"__esModule",{value:!0}),jp.ContainerHandlerType=void 0;const e=Cm(),t=Cf();let r=class{canCombineWithGraph(){return!1}async handle(o,c,s,u,h,f){if(!Array.isArray(h)){if(typeof h=="string"){const w=await c.getContext(u),T=t.Util.getContextValueType(w,u[f-1])==="@vocab"?await s.createVocabOrBaseTerm(w,h):await s.resourceToTerm(w,h);if(T){const R={"@id":T.termType==="NamedNode"?T.value:h};await c.newOnValueJob(u.slice(0,u.length-1),R,f-1,!0),c.idStack[f+1]=[T]}}else{const w=!!c.idStack[f+1];w||delete c.idStack[f],await c.newOnValueJob(u.slice(0,u.length-1),h,f-1,!0),w||(c.idStack[f+1]=c.idStack[f])}const g=await s.getContainerKey(u[f],u,f),v=g!==null?s.createVocabOrBaseTerm(await c.getContext(u),g):null;v&&await e.EntryHandlerPredicate.handlePredicateObject(c,s,u,f+1,s.rdfType,v,!1,!1,!1),await c.handlePendingContainerFlushBuffers()}c.emittedStack[f]=!1}};return jp.ContainerHandlerType=r,jp}var cE;function M1(){if(cE)return Up;cE=1,Object.defineProperty(Up,"__esModule",{value:!0}),Up.EntryHandlerContainer=void 0;const e=VT(),t=$T(),r=KT(),a=GT(),o=Cf();let c=class Bu{static isSimpleGraphContainer(u){return"@graph"in u&&("@set"in u&&Object.keys(u).length===2||Object.keys(u).length===1)}static isComplexGraphContainer(u){return"@graph"in u&&("@set"in u&&Object.keys(u).length>2||!("@set"in u)&&Object.keys(u).length>1)}static getContainerGraphIndex(u,h,f){let g=Bu.isSimpleGraphContainer(u),v="";for(let w=h;w<f.length;w++)(!g||typeof f[w]=="number")&&(v+=":"+f[w]),!g&&typeof f[w]!="number"&&(g=!0);return v}static async getContainerHandler(u,h,f){const g={containers:{"@set":!0},depth:f,fallback:!0};let v=!1;const w=await u.getContext(h,2);for(let S=f-1;S>=0;S--)if(typeof h[S]!="number"){const T=o.Util.getContextValue(w,"@container",h[S],!1);if(T&&Bu.isSimpleGraphContainer(T))return{containers:T,depth:S+1,fallback:!1};const R=o.Util.getContextValue(w,"@container",h[S-1],!1);if(R){const C="@graph"in R;for(const x in Bu.CONTAINER_HANDLERS)if(R[x])return C?Bu.CONTAINER_HANDLERS[x].canCombineWithGraph()?{containers:R,depth:S,fallback:!1}:g:v?g:{containers:R,depth:S,fallback:!1};return g}else{if(v)return g;v=!0}}return g}static async isBufferableContainerHandler(u,h,f){const g=await Bu.getContainerHandler(u,h,f);return!g.fallback&&!("@graph"in g.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(u,h,f,g,v){return!!await this.test(u,h,null,f,g)}async test(u,h,f,g,v){const w=o.Util.getContextValueContainer(await u.getContext(g,2),g[v-1]);for(const S in Bu.CONTAINER_HANDLERS)if(w[S])return{containers:w,handler:Bu.CONTAINER_HANDLERS[S]};return null}async handle(u,h,f,g,v,w,S){return S.handler.handle(S.containers,u,h,g,v,w)}};return c.CONTAINER_HANDLERS={"@id":new e.ContainerHandlerIdentifier,"@index":new t.ContainerHandlerIndex,"@language":new r.ContainerHandlerLanguage,"@type":new a.ContainerHandlerType},Up.EntryHandlerContainer=c,Up}var av,fE;function qT(){return fE||(fE=1,av=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((r,a,o)=>{const c=o===0?"":",",s=a===void 0||typeof a=="symbol"?null:a;return r+c+e(s)},"")+"]":"{"+Object.keys(t).sort().reduce((r,a,o)=>{if(t[a]===void 0||typeof t[a]=="symbol")return r;const c=r.length===0?"":",";return r+c+e(a)+":"+e(t[a])},"")+"}"}),av}var dE;function Cf(){if(dE)return Tp;dE=1,Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.Util=void 0;const e=Ca(),t=HT(),r=M1(),a=qT();class o{constructor(s){this.parsingContext=s.parsingContext,this.dataFactory=s.dataFactory||new t.DataFactory,this.rdfFirst=this.dataFactory.namedNode(o.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(o.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(o.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(o.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(o.RDF+"JSON")}static getContextValue(s,u,h,f){const g=s.getContextRaw()[h];if(!g)return f;const v=g[u];return v===void 0?f:v}static getContextValueContainer(s,u){return o.getContextValue(s,"@container",u,{"@set":!0})}static getContextValueType(s,u){const h=o.getContextValue(s,"@type",u,null);return h==="@none"?null:h}static getContextValueLanguage(s,u){return o.getContextValue(s,"@language",u,s.getContextRaw()["@language"]||null)}static getContextValueDirection(s,u){return o.getContextValue(s,"@direction",u,s.getContextRaw()["@direction"]||null)}static isContextValueReverse(s,u){return!!o.getContextValue(s,"@reverse",u,null)}static getContextValueIndex(s,u){return o.getContextValue(s,"@index",u,s.getContextRaw()["@index"]||null)}static isPropertyReverse(s,u,h){return h==="@reverse"!==o.isContextValueReverse(s,u)}static isPropertyInEmbeddedNode(s){return s==="@id"}static isPropertyInAnnotationObject(s){return s==="@annotation"}static isValidIri(s){return s!==null&&e.Util.isValidIri(s)}static isPrefixArray(s,u){if(s.length>u.length)return!1;for(let h=0;h<s.length;h++)if(s[h]!==u[h])return!1;return!0}async validateValueIndexes(s){if(this.parsingContext.validateValueIndexes){const u={};for(const h of s)if(h&&typeof h=="object"){const f=h["@id"],g=h["@index"];if(f&&g){const v=u[f];if(v&&v!==g)throw new e.ErrorCoded(`Conflicting @index value for ${f}`,e.ERROR_CODES.CONFLICTING_INDEXES);u[f]=g}}}}async valueToTerm(s,u,h,f,g){if(o.getContextValueType(s,u)==="@json")return[this.dataFactory.literal(this.valueToJsonString(h),this.rdfJson)];const v=typeof h;switch(v){case"object":if(h==null)return[];if(Array.isArray(h))return"@list"in o.getContextValueContainer(s,u)?h.length===0?[this.rdfNil]:this.parsingContext.idStack[f+1]||[]:(await this.validateValueIndexes(h),[]);if(s=await this.getContextSelfOrPropertyScoped(s,u),"@context"in h&&(s=await this.parsingContext.parseContext(h["@context"],(await this.parsingContext.getContext(g,0)).getContextRaw())),h=await this.unaliasKeywords(h,g,f,s),"@value"in h){let w,S,T,R,C;for(u in h){const x=h[u];switch(u){case"@value":w=x;break;case"@language":S=x;break;case"@direction":T=x;break;case"@type":R=x;break;case"@index":C=x;break;case"@annotation":break;default:throw new e.ErrorCoded(`Unknown value entry '${u}' in @value: ${JSON.stringify(h)}`,e.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(R,g,f,!0,s)==="@json")return[this.dataFactory.literal(this.valueToJsonString(w),this.rdfJson)];if(w===null)return[];if(typeof w=="object")throw new e.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(w)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&C&&typeof C!="string")throw new e.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(C)}'`,e.ERROR_CODES.INVALID_INDEX_VALUE);if(S){if(typeof w!="string")throw new e.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(w)}'`,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!e.ContextParser.validateLanguage(S,this.parsingContext.strictValues,e.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(S=S.toLowerCase())}if(T){if(typeof w!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(w)}'`);if(!e.ContextParser.validateDirection(T,this.parsingContext.strictValues))return[]}if(S&&T&&this.parsingContext.rdfDirection){if(R)throw new e.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(h)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(f,w,S,T))}else if(S){if(R)throw new e.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(h)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(w,S)]}else if(T&&this.parsingContext.rdfDirection){if(R)throw new e.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(h)}'`,e.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(f,w,S,T))}else if(R){if(typeof R!="string")throw new e.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(R)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);const x=this.createVocabOrBaseTerm(s,R);if(!x)throw new e.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(R)}'`,e.ERROR_CODES.INVALID_TYPED_VALUE);if(x.termType!=="NamedNode")throw new e.ErrorCoded(`Illegal value type (${x.termType}): ${R}`,e.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(w,x)]}return await this.valueToTerm(new e.JsonLdContextNormalized({}),u,w,f,g)}else if("@set"in h){if(Object.keys(h).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${u}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in h){if(Object.keys(h).length>1)throw new e.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${u}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const w=h["@list"];return Array.isArray(w)?w.length===0?[this.rdfNil]:this.parsingContext.idStack[f+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(g),u,w,f-1,g.slice(0,-1))}else{if("@reverse"in h&&typeof h["@reverse"]=="boolean")return[];if("@graph"in o.getContextValueContainer(await this.parsingContext.getContext(g),u)){const w=this.parsingContext.graphContainerTermStack[f+1];return w?Object.values(w):[this.dataFactory.blankNode()]}else if("@id"in h){if(Object.keys(h).length>1&&(s=await this.parsingContext.getContext(g,0)),"@context"in h&&(s=await this.parsingContext.parseContext(h["@context"],s.getContextRaw())),h["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(s,h["@id"]));{const w=h["@id"];let S;if(typeof w=="object")if(this.parsingContext.rdfstar)S=this.parsingContext.idStack[f+1][0];else throw new e.ErrorCoded(`Found illegal @id '${h}'`,e.ERROR_CODES.INVALID_ID_VALUE);else S=this.resourceToTerm(s,w);return this.nullableTermToArray(S)}}else return this.parsingContext.emittedStack[f+1]||h&&typeof h=="object"&&Object.keys(h).length===0?this.parsingContext.idStack[f+1]||(this.parsingContext.idStack[f+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(f,await this.getContextSelfOrPropertyScoped(s,u),u,h,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(f,await this.getContextSelfOrPropertyScoped(s,u),u,(!!h).toString(),this.dataFactory.namedNode(o.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(f,await this.getContextSelfOrPropertyScoped(s,u),u,h,this.dataFactory.namedNode(h%1===0&&h<1e21?o.XSD_INTEGER:o.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${v}`)),[]}}async getContextSelfOrPropertyScoped(s,u){const h=s.getContextRaw()[u];return h&&typeof h=="object"&&"@context"in h&&(s=await this.parsingContext.parseContext(h,s.getContextRaw(),!0)),s}nullableTermToArray(s){return s?[s]:[]}predicateToTerm(s,u){const h=s.expandTerm(u,!0,this.parsingContext.getExpandOptions());if(!h)return null;if(h[0]==="_"&&h[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(h.substr(2)):null;if(o.isValidIri(h))return this.dataFactory.namedNode(h);if(h&&this.parsingContext.strictValues)this.parsingContext.emitError(new e.ErrorCoded(`Invalid predicate IRI: ${h}`,e.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(s,u){if(u.startsWith("_:"))return this.dataFactory.blankNode(u.substr(2));const h=s.expandTerm(u,!1,this.parsingContext.getExpandOptions());if(!o.isValidIri(h))if(h&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${h}`));else return null;return this.dataFactory.namedNode(h)}createVocabOrBaseTerm(s,u){if(u.startsWith("_:"))return this.dataFactory.blankNode(u.substr(2));const h=this.parsingContext.getExpandOptions();let f=s.expandTerm(u,!0,h);if(f===u&&(f=s.expandTerm(u,!1,h)),!o.isValidIri(f))if(f&&this.parsingContext.strictValues&&!f.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${f}`));else return null;return this.dataFactory.namedNode(f)}intToString(s,u){return typeof s=="number"?Number.isFinite(s)?s%1===0&&(!u||u.value!==o.XSD_DOUBLE)?Number(s).toString():s.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):s>0?"INF":"-INF":s}stringValueToTerm(s,u,h,f,g){const v=o.getContextValueType(u,h);if(v)if(v==="@id"){if(!g)return this.resourceToTerm(u,this.intToString(f,g))}else if(v==="@vocab"){if(!g)return this.createVocabOrBaseTerm(u,this.intToString(f,g))}else g=this.dataFactory.namedNode(v);if(!g){const w=o.getContextValueLanguage(u,h),S=o.getContextValueDirection(u,h);return S&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(s,this.intToString(f,g),w,S):this.dataFactory.literal(this.intToString(f,g),w)}return this.dataFactory.literal(this.intToString(f,g),g)}createLanguageDirectionLiteral(s,u,h,f){if(this.parsingContext.rdfDirection==="i18n-datatype")return h||(h=""),this.dataFactory.literal(u,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${h}_${f}`));{const g=this.dataFactory.blankNode(),v=this.getDefaultGraph();return this.parsingContext.emitQuad(s,this.dataFactory.quad(g,this.dataFactory.namedNode(o.RDF+"value"),this.dataFactory.literal(u),v)),h&&this.parsingContext.emitQuad(s,this.dataFactory.quad(g,this.dataFactory.namedNode(o.RDF+"language"),this.dataFactory.literal(h),v)),this.parsingContext.emitQuad(s,this.dataFactory.quad(g,this.dataFactory.namedNode(o.RDF+"direction"),this.dataFactory.literal(f),v)),g}}valueToJsonString(s){return a(s)}async unaliasKeyword(s,u,h,f,g){if(Number.isInteger(s))return s;if(!f){const v=this.parsingContext.unaliasedKeywordCacheStack[h];if(v)return v}if(!e.Util.isPotentialKeyword(s)){g=g||await this.parsingContext.getContext(u);let v=g.getContextRaw()[s];v&&typeof v=="object"&&(v=v["@id"]),e.Util.isValidKeyword(v)&&(s=v)}return f?s:this.parsingContext.unaliasedKeywordCacheStack[h]=s}async unaliasKeywordParent(s,u){return await this.unaliasKeyword(u>0&&s[u-1],s,u-1)}async unaliasKeywords(s,u,h,f){const g={};for(const v in s)g[await this.unaliasKeyword(v,u,h+1,!0,f)]=s[v];return g}async isLiteral(s,u){for(let h=u;h>=0;h--){if(await this.unaliasKeyword(s[h],s,h)==="@annotation")return!1;if(this.parsingContext.literalStack[h]||this.parsingContext.jsonLiteralStack[h])return!0}return!1}async getDepthOffsetGraph(s,u){for(let h=s-1;h>0;h--)if(await this.unaliasKeyword(u[h],u,h)==="@graph"){const f=(await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,u,h)).containers;return r.EntryHandlerContainer.isComplexGraphContainer(f)?-1:s-h-1}return-1}validateReverseSubject(s){if(s.termType==="Literal")throw new e.ErrorCoded(`Found illegal literal in subject position: ${s.value}`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(s,u){let h=this.getDefaultGraph();const{containers:f,depth:g}=await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,s,u);if("@graph"in f){const v=r.EntryHandlerContainer.getContainerGraphIndex(f,g,s),w=this.parsingContext.graphContainerTermStack[g];if(h=w?w[v]:null,!h){let S=null;if("@id"in f){const T=await this.getContainerKey(s[g],s,g);T!==null&&(S=await this.resourceToTerm(await this.parsingContext.getContext(s),T))}S||(S=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[g]||(this.parsingContext.graphContainerTermStack[g]={}),h=this.parsingContext.graphContainerTermStack[g][v]=S}}return h}async getPropertiesDepth(s,u){let h=u;for(let f=u-1;f>0;f--)if(typeof s[f]!="number"){const g=await this.unaliasKeyword(s[f],s,f);if(g==="@reverse")return f;if(g==="@nest")h=f;else return h}return h}async getContainerKey(s,u,h){const f=await this.unaliasKeyword(s,u,h);return f==="@none"?null:f}validateReverseInEmbeddedNode(s,u,h){if(h&&u&&!this.parsingContext.rdfstarReverseInEmbedded)throw new e.ErrorCoded(`Illegal reverse property in embedded node in ${s}`,e.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(s,u,h,f,g,v,w){let S;if(v?(this.validateReverseSubject(f),S=this.dataFactory.quad(f,h,u,g)):S=this.dataFactory.quad(u,h,f,g),w){if(S.graph.termType!=="DefaultGraph"&&(S=this.dataFactory.quad(S.subject,S.predicate,S.object)),this.parsingContext.idStack[s-1])throw new e.ErrorCoded("Illegal multiple properties in an embedded node",e.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[s-1]=[S]}else this.parsingContext.emitQuad(s,S);const T=this.parsingContext.annotationsBuffer[s];if(T){for(const R of T)this.emitAnnotation(s,S,R);delete this.parsingContext.annotationsBuffer[s]}}emitAnnotation(s,u,h){let f;h.reverse?(this.validateReverseSubject(h.object),f=this.dataFactory.quad(h.object,h.predicate,u)):f=this.dataFactory.quad(u,h.predicate,h.object),this.parsingContext.emitQuad(s,f);for(const g of h.nestedAnnotations)this.emitAnnotation(s,f,g)}}return o.XSD="http://www.w3.org/2001/XMLSchema#",o.XSD_BOOLEAN=o.XSD+"boolean",o.XSD_INTEGER=o.XSD+"integer",o.XSD_DOUBLE=o.XSD+"double",o.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Tp.Util=o,Tp}var hE;function zT(){if(hE)return Rp;hE=1,Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.EntryHandlerArrayValue=void 0;const e=Cf(),t=Ca();let r=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(o,c,s,u,h){return this.test(o,c,null,s,u)}async test(o,c,s,u,h){return typeof u[h]=="number"}async handle(o,c,s,u,h,f){let g=await c.unaliasKeywordParent(u,f);if(g==="@list"){let v=null,w=0;for(let S=f-2;S>0;S--){const T=u[S];if(typeof T=="string"||typeof T=="number"){w=S,v=T;break}}if(v!==null){const S=await c.valueToTerm(await o.getContext(u),v,h,f,u);for(const T of S)await this.handleListElement(o,c,T,h,f,u.slice(0,w),w);S.length===0&&await this.handleListElement(o,c,null,h,f,u.slice(0,w),w)}}else if(g==="@set")await o.newOnValueJob(u.slice(0,-2),h,f-2,!1);else if(g!==void 0&&g!=="@type"){for(let w=f-1;w>0;w--)if(typeof u[w]!="number"){g=await c.unaliasKeyword(u[w],u,w);break}const v=await o.getContext(u.slice(0,-1));if("@list"in e.Util.getContextValueContainer(v,g)){o.emittedStack[f+1]=!0;const w=await c.valueToTerm(await o.getContext(u),g,h,f,u);for(const S of w)await this.handleListElement(o,c,S,h,f,u.slice(0,-1),f-1);w.length===0&&await this.handleListElement(o,c,null,h,f,u.slice(0,-1),f-1)}else o.shiftStack(f,1),await o.newOnValueJob(u.slice(0,-1),h,f-1,!1),o.contextTree.removeContext(u.slice(0,-1))}}async handleListElement(o,c,s,u,h,f,g){let v=o.listPointerStack[h];if(u!==null&&(await c.unaliasKeywords(u,f,h))["@value"]!==null){if(!v||!v.value){const w=c.dataFactory.blankNode();v={value:w,listRootDepth:g,listId:w}}else{const w=c.dataFactory.blankNode();o.emitQuad(h,c.dataFactory.quad(v.value,c.rdfRest,w,c.getDefaultGraph())),v.value=w}s&&o.emitQuad(h,c.dataFactory.quad(v.value,c.rdfFirst,s,c.getDefaultGraph()))}else v||(v={listRootDepth:g,listId:c.rdfNil});o.listPointerStack[h]=v,o.rdfstar&&o.annotationsBuffer[h]&&o.emitError(new t.ErrorCoded("Found an illegal annotation inside a list",t.ERROR_CODES.INVALID_ANNOTATION))}};return Rp.EntryHandlerArrayValue=r,Rp}var Hp={},pE;function WT(){if(pE)return Hp;pE=1,Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.EntryHandlerInvalidFallback=void 0;let e=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,a,o,c,s){return!1}async test(r,a,o,c,s){return!0}async handle(r,a,o,c,s,u){r.emittedStack[u]=!1}};return Hp.EntryHandlerInvalidFallback=e,Hp}var Vp={},$p={},gE;function Yu(){if(gE)return $p;gE=1,Object.defineProperty($p,"__esModule",{value:!0}),$p.EntryHandlerKeyword=void 0;let e=class{constructor(r){this.keyword=r}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,a,o,c,s){return!1}async test(r,a,o,c,s){return o===this.keyword}};return $p.EntryHandlerKeyword=e,$p}var yE;function JT(){if(yE)return Vp;yE=1,Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.EntryHandlerKeywordContext=void 0;const e=Ca(),t=Yu();let r=class extends t.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(o,c,s,u,h,f){o.streamingProfile&&(o.processingStack[f]||o.processingType[f]||o.idStack[f]!==void 0)&&o.emitError(new e.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",e.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const g=o.getContext(u),v=o.parseContext(h,(await g).getContextRaw());o.contextTree.setContext(u.slice(0,-1),v),o.emitContext(h),await o.validateContext(await v)}};return Vp.EntryHandlerKeywordContext=r,Vp}var Kp={},mE;function YT(){if(mE)return Kp;mE=1,Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.EntryHandlerKeywordGraph=void 0;const e=Yu();let t=class extends e.EntryHandlerKeyword{constructor(){super("@graph")}async handle(a,o,c,s,u,h){a.graphStack[h+1]=!0}};return Kp.EntryHandlerKeywordGraph=t,Kp}var Gp={},vE;function XT(){if(vE)return Gp;vE=1,Object.defineProperty(Gp,"__esModule",{value:!0}),Gp.EntryHandlerKeywordId=void 0;const e=Ca(),t=Yu();let r=class extends t.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(o,c,s,u,h,f){if(typeof h!="string"){if(o.rdfstar&&typeof h=="object"){const v=Object.keys(h);v.length===1&&v[0]==="@id"&&o.emitError(new e.ErrorCoded(`Invalid embedded node without property with @id ${h["@id"]}`,e.ERROR_CODES.INVALID_EMBEDDED_NODE))}else o.emitError(new e.ErrorCoded(`Found illegal @id '${h}'`,e.ERROR_CODES.INVALID_ID_VALUE));return}const g=await c.getPropertiesDepth(u,f);if(o.idStack[g]!==void 0&&(o.idStack[g][0].listHead?o.emitError(new e.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${u[f-1]}'`,e.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):o.emitError(new e.ErrorCoded(`Found duplicate @ids '${o.idStack[g][0].value}' and '${h}'`,e.ERROR_CODES.COLLIDING_KEYWORDS))),o.rdfstar&&o.annotationsBuffer[f])for(const v of o.annotationsBuffer[f])v.depth===f&&o.emitError(new e.ErrorCoded(`Found an illegal @id inside an annotation: ${h}`,e.ERROR_CODES.INVALID_ANNOTATION));o.idStack[g]=c.nullableTermToArray(await c.resourceToTerm(await o.getContext(u),h))}};return Gp.EntryHandlerKeywordId=r,Gp}var qp={},bE;function QT(){if(bE)return qp;bE=1,Object.defineProperty(qp,"__esModule",{value:!0}),qp.EntryHandlerKeywordIncluded=void 0;const e=Ca(),t=Yu();let r=class extends t.EntryHandlerKeyword{constructor(){super("@included")}async handle(o,c,s,u,h,f){typeof h!="object"&&o.emitError(new e.ErrorCoded(`Found illegal @included '${h}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE));const g=await c.unaliasKeywords(h,u,f,await o.getContext(u));"@value"in g&&o.emitError(new e.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(h)}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in g&&o.emitError(new e.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(h)}'`,e.ERROR_CODES.INVALID_INCLUDED_VALUE)),o.emittedStack[f]=!1}};return qp.EntryHandlerKeywordIncluded=r,qp}var zp={},wE;function ZT(){if(wE)return zp;wE=1,Object.defineProperty(zp,"__esModule",{value:!0}),zp.EntryHandlerKeywordNest=void 0;const e=Ca(),t=Yu();let r=class extends t.EntryHandlerKeyword{constructor(){super("@nest")}async handle(o,c,s,u,h,f){typeof h!="object"&&o.emitError(new e.ErrorCoded(`Found invalid @nest entry for '${s}': '${h}'`,e.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await c.unaliasKeywords(h,u,f,await o.getContext(u))&&o.emitError(new e.ErrorCoded(`Found an invalid @value node for '${s}'`,e.ERROR_CODES.INVALID_NEST_VALUE)),o.emittedStack[f]=!1}};return zp.EntryHandlerKeywordNest=r,zp}var Wp={},_E;function eC(){if(_E)return Wp;_E=1,Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.EntryHandlerKeywordType=void 0;const e=Ca(),t=Cf(),r=Cm(),a=Yu();let o=class extends a.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(s,u,h,f,g,v){const w=f[v],S=await s.getContext(f),T=u.rdfType,R=await u.unaliasKeywordParent(f,v),C=t.Util.isPropertyReverse(S,w,R),x=t.Util.isPropertyInEmbeddedNode(R);u.validateReverseInEmbeddedNode(h,C,x);const F=t.Util.isPropertyInAnnotationObject(R),P=Array.isArray(g)?g:[g];for(const z of P){typeof z!="string"&&s.emitError(new e.ErrorCoded(`Found illegal @type '${z}'`,e.ERROR_CODES.INVALID_TYPE_VALUE));const J=u.createVocabOrBaseTerm(S,z);J&&await r.EntryHandlerPredicate.handlePredicateObject(s,u,f,v,T,J,C,x,F)}let K=Promise.resolve(S),M=!1;for(const z of P.sort()){const J=t.Util.getContextValue(S,"@context",z,null);J&&(M=!0,K=K.then(q=>s.parseContext(J,q.getContextRaw())))}s.streamingProfile&&(M||!s.streamingProfileAllowOutOfOrderPlainType)&&(s.processingStack[v]||s.idStack[v])&&s.emitError(new e.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",e.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),M&&(K=K.then(z=>z.getContextRaw()["@propagate"]!==!0?new e.JsonLdContextNormalized(Object.assign(Object.assign({},z.getContextRaw()),{"@propagate":!1,"@__propagateFallback":S.getContextRaw()})):z),s.contextTree.setContext(f.slice(0,f.length-1),K)),s.processingType[v]=!0}};return Wp.EntryHandlerKeywordType=o,Wp}var Jp={},EE;function tC(){if(EE)return Jp;EE=1,Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.EntryHandlerKeywordUnknownFallback=void 0;const e=Ca();let t=class k1{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(a,o,c,s,u){const h=await o.unaliasKeyword(c[s],c,s);return e.Util.isPotentialKeyword(h)?!(!u&&h==="@list"):!1}async test(a,o,c,s,u){return e.Util.isPotentialKeyword(c)}async handle(a,o,c,s,u,h){const f=k1.VALID_KEYWORDS_TYPES[c];f!==void 0?f&&typeof u!==f.type&&a.emitError(new e.ErrorCoded(`Invalid value type for '${c}' with value '${u}'`,f.errorCode)):a.strictValues&&a.emitError(new Error(`Unknown keyword '${c}' with value '${u}'`)),a.emittedStack[h]=!1}};return t.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:e.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:e.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null},Jp.EntryHandlerKeywordUnknownFallback=t,Jp}var Yp={},SE;function nC(){if(SE)return Yp;SE=1,Object.defineProperty(Yp,"__esModule",{value:!0}),Yp.EntryHandlerKeywordValue=void 0;const e=Yu();let t=class extends e.EntryHandlerKeyword{constructor(){super("@value")}async validate(a,o,c,s,u){const h=c[s];return h&&!a.literalStack[s]&&await this.test(a,o,h,c,s)&&(a.literalStack[s]=!0),super.validate(a,o,c,s,u)}async test(a,o,c,s,u){return await o.unaliasKeyword(s[u],s.slice(0,s.length-1),u-1,!0)==="@value"}async handle(a,o,c,s,u,h){a.literalStack[h]=!0,delete a.unidentifiedValuesBuffer[h],delete a.unidentifiedGraphsBuffer[h],a.emittedStack[h]=!1}};return Yp.EntryHandlerKeywordValue=t,Yp}var Xp={},Qp={},AE;function rC(){if(AE)return Qp;AE=1,Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.ContextTree=void 0;let e=class B1{constructor(){this.subTrees={}}getContext(r){if(r.length>0){const[a,...o]=r,c=this.subTrees[a];if(c){const s=c.getContext(o);if(s)return s.then(({context:u,depth:h})=>({context:u,depth:h+1}))}}return this.context?this.context.then(a=>({context:a,depth:0})):null}setContext(r,a){if(r.length===0)this.context=a;else{const[o,...c]=r;let s=this.subTrees[o];s||(s=this.subTrees[o]=new B1),s.setContext(c,a)}}removeContext(r){this.setContext(r,null)}};return Qp.ContextTree=e,Qp}var xE;function iC(){if(xE)return Xp;xE=1,Object.defineProperty(Xp,"__esModule",{value:!0}),Xp.ParsingContext=void 0;const e=Ca(),t=Lg(),r=rC(),a=H1();let o=class j1{constructor(s){this.contextParser=new e.ContextParser({documentLoader:s.documentLoader,skipValidation:s.skipContextValidation}),this.streamingProfile=!!s.streamingProfile,this.baseIRI=s.baseIRI,this.produceGeneralizedRdf=!!s.produceGeneralizedRdf,this.allowSubjectList=!!s.allowSubjectList,this.processingMode=s.processingMode||a.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!s.strictValues,this.validateValueIndexes=!!s.validateValueIndexes,this.defaultGraph=s.defaultGraph,this.rdfDirection=s.rdfDirection,this.normalizeLanguageTags=s.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=s.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=s.rdfstar!==!1,this.rdfstarReverseInEmbedded=s.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new r.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=s.parser,s.context?(this.rootContext=this.parseContext(s.context),this.rootContext.then(u=>this.validateContext(u))):this.rootContext=Promise.resolve(new e.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(s,u,h){return this.contextParser.parse(s,{baseIRI:this.baseIRI,ignoreProtection:h,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:u,processingMode:this.activeProcessingMode})}validateContext(s){const u=s.getContextRaw()["@version"];if(u){if(this.activeProcessingMode&&u>this.activeProcessingMode)throw new t.ErrorCoded(`Unsupported JSON-LD version '${u}' under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&u<this.activeProcessingMode)throw new t.ErrorCoded(`Invalid JSON-LD version ${u} under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=u}}async getContext(s,u=1){const h=s;for(;typeof s[s.length-1]=="number";)s=s.slice(0,s.length-1);u&&(s=s.slice(0,-u));const f=await this.getContextPropagationAware(s);let v=f.context.getContextRaw();for(let w=f.depth;w<h.length-u;w++){const S=h[w],T=v[S];if(T&&typeof T=="object"&&"@context"in T){const R=(await this.parseContext(T,v,!0)).getContextRaw(),C=!(S in R)||R[S]["@context"]["@propagate"];(C!==!1||w===h.length-1-u)&&(v=Object.assign({},R),delete v["@propagate"],v[S]=Object.assign({},v[S]),"@id"in T&&(v[S]["@id"]=T["@id"]),delete v[S]["@context"],C!==!1&&this.contextTree.setContext(h.slice(0,w+u),Promise.resolve(new e.JsonLdContextNormalized(v))))}}return new e.JsonLdContextNormalized(v)}async getContextPropagationAware(s){const u=s.length;let h=null,f;do{f=!1,h&&"@__propagateFallback"in h.context.getContextRaw()?h.context=new e.JsonLdContextNormalized(h.context.getContextRaw()["@__propagateFallback"]):(h&&(s=s.slice(0,h.depth-1)),h=await this.contextTree.getContext(s)||{context:await this.rootContext,depth:0});const g=s[s.length-1];if(g in h.context.getContextRaw()){const v=h.context.getContextRaw()[g];v&&typeof v=="object"&&"@context"in v&&(f=!0)}}while(h.depth>0&&h.context.getContextRaw()["@propagate"]===!1&&h.depth!==u&&!f);return h.depth===0&&h.context.getContextRaw()["@propagate"]===!1&&h.depth!==u&&(h.context=new e.JsonLdContextNormalized({})),h}async newOnValueJob(s,u,h,f){await this.parser.newOnValueJob(s,u,h,f)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const s of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(s.depth,s.keys),this.parser.flushStacks(s.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1}emitQuad(s,u){s===1&&(this.topLevelProperties=!0),this.parser.push(u)}emitError(s){this.parser.emit("error",s)}emitContext(s){this.parser.emit("context",s)}getUnidentifiedValueBufferSafe(s){let u=this.unidentifiedValuesBuffer[s];return u||(u=[],this.unidentifiedValuesBuffer[s]=u),u}getUnidentifiedGraphBufferSafe(s){let u=this.unidentifiedGraphsBuffer[s];return u||(u=[],this.unidentifiedGraphsBuffer[s]=u),u}getAnnotationsBufferSafe(s){let u=this.annotationsBuffer[s];return u||(u=[],this.annotationsBuffer[s]=u),u}getExpandOptions(){return j1.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(s,u){const h=this.idStack[s+u];if(h&&(this.idStack[s]=h,this.emittedStack[s]=!0,delete this.idStack[s+u]),this.pendingContainerFlushBuffers.length)for(const f of this.pendingContainerFlushBuffers)f.depth>=s+u&&(f.depth-=u,f.keys.splice(s,u));this.unidentifiedValuesBuffer[s+u]&&(this.unidentifiedValuesBuffer[s]=this.unidentifiedValuesBuffer[s+u],delete this.unidentifiedValuesBuffer[s+u]),this.annotationsBuffer[s+u-1]&&(this.annotationsBuffer[s-1]||(this.annotationsBuffer[s-1]=[]),this.annotationsBuffer[s-1]=[...this.annotationsBuffer[s-1],...this.annotationsBuffer[s+u-1]],delete this.annotationsBuffer[s+u-1])}};return o.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},Xp.ParsingContext=o,Xp}var Zp={},RE;function aC(){if(RE)return Zp;RE=1,Object.defineProperty(Zp,"__esModule",{value:!0}),Zp.EntryHandlerKeywordAnnotation=void 0;const e=Yu(),t=Ca();let r=class extends e.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(o,c,s,u,h,f){(typeof h=="string"||typeof h=="object"&&h["@value"])&&o.emitError(new t.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(h)}`,t.ERROR_CODES.INVALID_ANNOTATION))}};return Zp.EntryHandlerKeywordAnnotation=r,Zp}var TE;function H1(){if(TE)return wp;TE=1,Object.defineProperty(wp,"__esModule",{value:!0}),wp.JsonLdParser=void 0;const e=IT(),t=Ca(),r=I1(),a=zT(),o=M1(),c=WT(),s=Cm(),u=JT(),h=YT(),f=XT(),g=QT(),v=ZT(),w=eC(),S=tC(),T=nC(),R=iC(),C=Cf(),x=Ab(),F=aC();let P=class Vd extends r.Transform{constructor(M){super({readableObjectMode:!0}),M=M||{},this.options=M,this.parsingContext=new R.ParsingContext(Object.assign({parser:this},M)),this.util=new C.Util({dataFactory:M.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new e,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(M,z,J,q){let Fe,$=["application/activity+json"];if(q&&q.wellKnownMediaTypes&&($=q.wellKnownMediaTypes),z!=="application/ld+json"&&!$.includes(z)){if(z!=="application/json"&&!z.endsWith("+json"))throw new t.ErrorCoded(`Unsupported JSON-LD media type ${z}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(J&&J.has("Link")&&J.forEach((ge,Ee)=>{if(Ee==="link"){const tt=(0,x.parse)(ge);for(const ct of tt.get("rel","http://www.w3.org/ns/json-ld#context")){if(Fe)throw new t.ErrorCoded("Multiple JSON-LD context link headers were found on "+M,t.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);Fe=ct.uri}}}),!Fe&&!q?.ignoreMissingContextLinkHeader)throw new t.ErrorCoded(`Missing context link header for media type ${z} on ${M}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let ie;if(J&&J.has("Content-Type")){const ge=J.get("Content-Type"),Ee=/; *profile=([^"]*)/.exec(ge);Ee&&Ee[1]==="http://www.w3.org/ns/json-ld#streaming"&&(ie=!0)}return new Vd(Object.assign({baseIRI:M,context:Fe,streamingProfile:ie},q||{}))}import(M){if("pipe"in M){M.on("error",J=>z.emit("error",J));const z=M.pipe(new Vd(this.options));return z}else{const z=new r.PassThrough({readableObjectMode:!0});M.on("error",q=>J.emit("error",q)),M.on("data",q=>z.push(q)),M.on("end",()=>z.push(null));const J=z.pipe(new Vd(this.options));return J}}_transform(M,z,J){this.jsonParser.write(M),this.lastOnValueJob.then(()=>J(),q=>J(q))}async newOnValueJob(M,z,J,q){let Fe=!0;if(q&&J<this.lastDepth){const tt=this.parsingContext.listPointerStack[this.lastDepth];tt&&(tt.value&&this.push(this.util.dataFactory.quad(tt.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),tt.listId.listHead=!0,this.parsingContext.idStack[tt.listRootDepth+1]=[tt.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await o.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),Fe=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const $=await this.util.unaliasKeyword(M[J],M,J),ie=await this.util.unaliasKeywordParent(M,J);this.parsingContext.emittedStack[J]=!0;let ge=!0;t.Util.isValidKeyword($)&&ie==="@reverse"&&$!=="@context"&&this.emit("error",new t.ErrorCoded(`Found the @id '${z}' inside an @reverse property`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let Ee=!1;this.parsingContext.validationStack.length>1&&(Ee=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let tt=Math.max(1,this.parsingContext.validationStack.length-1);tt<M.length-1;tt++){const ct=this.parsingContext.validationStack[tt]||(this.parsingContext.validationStack[tt]=await this.validateKey(M.slice(0,tt+1),tt,Ee));if(ct.valid)!Ee&&ct.property&&(Ee=!0);else{this.parsingContext.emittedStack[J]=!1,ge=!1;break}}if(await this.util.isLiteral(M,J)&&(ge=!1),ge)for(const tt of Vd.ENTRY_HANDLERS){const ct=await tt.test(this.parsingContext,this.util,$,M,J);if(ct){await tt.handle(this.parsingContext,this.util,$,M,z,J,ct),tt.isStackProcessor()&&(this.parsingContext.processingStack[J]=!0);break}}J===0&&Array.isArray(z)&&await this.util.validateValueIndexes(z),Fe&&J<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=J,this.lastKeys=M,this.parsingContext.unaliasedKeywordCacheStack.splice(J-1)}flushStacks(M){this.parsingContext.processingStack.splice(M,1),this.parsingContext.processingType.splice(M,1),this.parsingContext.emittedStack.splice(M,1),this.parsingContext.idStack.splice(M,1),this.parsingContext.graphStack.splice(M+1,1),this.parsingContext.graphContainerTermStack.splice(M,1),this.parsingContext.jsonLiteralStack.splice(M,1),this.parsingContext.validationStack.splice(M-1,2),this.parsingContext.literalStack.splice(M,this.parsingContext.literalStack.length-M),this.parsingContext.annotationsBuffer.splice(M,1)}async flushBuffer(M,z){let J=this.parsingContext.idStack[M];!!J||(J=this.parsingContext.idStack[M]=[this.util.dataFactory.blankNode()]);const Fe=this.parsingContext.unidentifiedValuesBuffer[M];if(Fe){for(const ge of J){const Ee=await this.util.getDepthOffsetGraph(M,z),tt=this.parsingContext.graphStack[M]||Ee>=0?this.parsingContext.idStack[M-Ee-1]:[await this.util.getGraphContainerValue(z,M)];if(tt)for(const ct of tt){this.parsingContext.emittedStack[M]=!0;for(const Ie of Fe)this.util.emitQuadChecked(M,ge,Ie.predicate,Ie.object,ct,Ie.reverse,Ie.isEmbedded)}else{const ct=this.parsingContext.getUnidentifiedGraphBufferSafe(M-await this.util.getDepthOffsetGraph(M,z)-1);for(const Ie of Fe)Ie.reverse?ct.push({object:ge,predicate:Ie.predicate,subject:Ie.object,isEmbedded:Ie.isEmbedded}):ct.push({object:Ie.object,predicate:Ie.predicate,subject:ge,isEmbedded:Ie.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(M,1),this.parsingContext.literalStack.splice(M,1),this.parsingContext.jsonLiteralStack.splice(M,1)}const $=this.parsingContext.unidentifiedGraphsBuffer[M];if($){for(const ge of J){const Ee=M===1&&ge.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():ge;this.parsingContext.emittedStack[M]=!0;for(const tt of $)this.parsingContext.emitQuad(M,this.util.dataFactory.quad(tt.subject,tt.predicate,tt.object,Ee))}this.parsingContext.unidentifiedGraphsBuffer.splice(M,1)}const ie=this.parsingContext.annotationsBuffer[M];if(ie){ie.length>0&&M===1&&this.parsingContext.emitError(new t.ErrorCoded("Annotations can not be made on top-level nodes",t.ERROR_CODES.INVALID_ANNOTATION));const ge=this.parsingContext.getAnnotationsBufferSafe(M-1);for(const Ee of ie)ge.push(Ee);delete this.parsingContext.annotationsBuffer[M]}}async validateKey(M,z,J){for(const q of Vd.ENTRY_HANDLERS)if(await q.validate(this.parsingContext,this.util,M,z,J))return{valid:!0,property:J||q.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=M=>{const z=this.jsonParser.stack.length,J=new Array(z+1).fill(0).map((q,Fe)=>Fe===z?this.jsonParser.key:this.jsonParser.stack[Fe].key);if(!this.isParsingContextInner(z)){const q=()=>this.newOnValueJob(J,M,z,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(J.slice(0,-1)))if(J[z]==="@context"){let Fe=this.contextJobs[z];Fe||(Fe=this.contextJobs[z]=[]),Fe.push(q)}else this.contextAwaitingJobs.push({job:q,keys:J,depth:z});else this.lastOnValueJob=this.lastOnValueJob.then(q);!this.parsingContext.streamingProfile&&z===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=M=>{this.emit("error",M)}}isParsingContextInner(M){for(let z=M;z>0;z--)if(this.jsonParser.stack[z-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const z of this.contextJobs)if(z)for(const J of z)await J();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const M=[];for(const z of this.contextAwaitingJobs)await this.util.unaliasKeyword(z.keys[z.depth],z.keys,z.depth,!0)==="@type"||typeof z.keys[z.depth]=="number"&&await this.util.unaliasKeyword(z.keys[z.depth-1],z.keys,z.depth-1,!0)==="@type"?this.typeJobs.push({job:z.job,keys:z.keys.slice(0,z.keys.length-1)}):M.push(z);for(const z of M){if(this.typeJobs.length>0){const J=[],q=[];for(let ie=0;ie<this.typeJobs.length;ie++){const ge=this.typeJobs[ie];C.Util.isPrefixArray(ge.keys,z.keys)&&(J.push(ge),q.push(ie))}const Fe=J.sort((ie,ge)=>ie.keys.length-ge.keys.length);for(const ie of Fe)await ie.job();const $=q.sort().reverse();for(const ie of $)this.typeJobs.splice(ie,1)}await z.job()}}};return P.DEFAULT_PROCESSING_MODE="1.1",P.ENTRY_HANDLERS=[new a.EntryHandlerArrayValue,new u.EntryHandlerKeywordContext,new f.EntryHandlerKeywordId,new g.EntryHandlerKeywordIncluded,new h.EntryHandlerKeywordGraph,new v.EntryHandlerKeywordNest,new w.EntryHandlerKeywordType,new T.EntryHandlerKeywordValue,new F.EntryHandlerKeywordAnnotation,new o.EntryHandlerContainer,new S.EntryHandlerKeywordUnknownFallback,new s.EntryHandlerPredicate,new c.EntryHandlerInvalidFallback],wp.JsonLdParser=P,wp}var CE;function oC(){return CE||(CE=1,function(e){var t=hf&&hf.__createBinding||(Object.create?function(a,o,c,s){s===void 0&&(s=c);var u=Object.getOwnPropertyDescriptor(o,c);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[c]}}),Object.defineProperty(a,s,u)}:function(a,o,c,s){s===void 0&&(s=c),a[s]=o[c]}),r=hf&&hf.__exportStar||function(a,o){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(o,c)&&t(o,a,c)};Object.defineProperty(e,"__esModule",{value:!0}),r(H1(),e)}(hf)),hf}var Lu={},OE;function Ib(){if(OE)return Lu;OE=1,Object.defineProperty(Lu,"__esModule",{value:!0});var e=globalThis.fetch;const{fetch:t,Response:r,Request:a,Headers:o}=globalThis;return Lu.Headers=o,Lu.Request=a,Lu.Response=r,Lu.default=e,Lu.fetch=t,Lu}var sC=Ls();const eg="http://www.w3.org/1999/02/22-rdf-syntax-ns#",tg="http://www.w3.org/2001/XMLSchema#",Gy="http://www.w3.org/2000/10/swap/",Qi={xsd:{decimal:`${tg}decimal`,boolean:`${tg}boolean`,double:`${tg}double`,integer:`${tg}integer`,string:`${tg}string`},rdf:{type:`${eg}type`,nil:`${eg}nil`,first:`${eg}first`,rest:`${eg}rest`,langString:`${eg}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${Gy}reify#forSome`,forAll:`${Gy}reify#forAll`},log:{implies:`${Gy}log#implies`,isImpliedBy:`${Gy}log#isImpliedBy`}},{xsd:qy}=Qi,lC=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,IE={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},uC=/[\x00-\x20<>\\"\{\}\|\^\`]/,cC={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},fC=/$0^/;class Pb{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._isImpliedBy=t.isImpliedBy,this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const r in this)!(r in cC)&&this[r]instanceof RegExp&&(this[r]=fC)}else this._n3Mode=t.n3!==!1;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,r){let a=this._input,o=a.length;for(;;){let u,h;for(;u=this._newline.exec(a);)this.comments&&(h=this._comment.exec(u[0]))&&c("comment",h[1],"",this._line,u[0].length),a=a.substr(u[0].length,a.length),o=a.length,this._line++;if(!u&&(u=this._whitespace.exec(a))&&(a=a.substr(u[0].length,a.length)),this._endOfFile.test(a))return r&&(this.comments&&(h=this._comment.exec(a))&&c("comment",h[1],"",this._line,a.length),a=null,c("eof","","",this._line,0)),this._input=a;const f=this._line,g=a[0];let v="",w="",S="",T=null,R=0,C=!1;switch(g){case"^":if(a.length<3)break;if(a[1]==="^"){if(this._previousMarker="^^",a=a.substr(2),a[0]!=="<"){C=!0;break}}else{this._n3Mode&&(R=1,v="^");break}case"<":if(T=this._unescapedIri.exec(a))v="IRI",w=T[1];else if(T=this._iri.exec(a)){if(w=this._unescape(T[1]),w===null||uC.test(w))return s(this);v="IRI"}else a.length>1&&a[1]==="<"?(v="<<",R=2):this._n3Mode&&a.length>1&&a[1]==="="&&(R=2,this._isImpliedBy?(v="abbreviation",w="<"):(v="inverse",w=">"));break;case">":a.length>1&&a[1]===">"&&(v=">>",R=2);break;case"_":((T=this._blank.exec(a))||r&&(T=this._blank.exec(`${a} `)))&&(v="blank",S="_",w=T[1]);break;case'"':if(T=this._simpleQuotedString.exec(a))w=T[1];else if({value:w,matchLength:R}=this._parseLiteral(a),w===null)return s(this);(T!==null||R!==0)&&(v="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(T=this._simpleApostropheString.exec(a))w=T[1];else if({value:w,matchLength:R}=this._parseLiteral(a),w===null)return s(this);(T!==null||R!==0)&&(v="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(T=this._variable.exec(a))&&(v="var",w=T[0]);break;case"@":this._previousMarker==="literal"&&(T=this._langcode.exec(a))?(v="langcode",w=T[1]):(T=this._keyword.exec(a))&&(v=T[0]);break;case".":if(a.length===1?r:a[1]<"0"||a[1]>"9"){v=".",R=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(T=this._number.exec(a)||r&&(T=this._number.exec(`${a} `)))&&(v="literal",w=T[0],S=typeof T[1]=="string"?qy.double:typeof T[2]=="string"?qy.decimal:qy.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(T=this._sparqlKeyword.exec(a))?v=T[0].toUpperCase():C=!0;break;case"f":case"t":(T=this._boolean.exec(a))?(v="literal",w=T[0],S=qy.boolean):C=!0;break;case"a":(T=this._shortPredicates.exec(a))?(v="abbreviation",w="a"):C=!0;break;case"=":this._n3Mode&&a.length>1&&(v="abbreviation",a[1]!==">"?(R=1,w="="):(R=2,w=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(R=1,v=g);break;case"{":!this._lineMode&&a.length>=2&&(a[1]==="|"?(v="{|",R=2):(v=g,R=1));break;case"|":a.length>=2&&a[1]==="}"&&(v="|}",R=2);break;default:C=!0}if(C&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(T=this._prefix.exec(a))?(v="prefix",w=T[1]||""):((T=this._prefixed.exec(a))||r&&(T=this._prefixed.exec(`${a} `)))&&(v="prefixed",S=T[1]||"",w=this._unescape(T[2]))),this._previousMarker==="^^")switch(v){case"prefixed":v="type";break;case"IRI":v="typeIRI";break;default:v=""}if(!v)return r||!/^'''|^"""/.test(a)&&/\n|\r/.test(a)?s(this):this._input=a;const x=R||T[0].length,F=c(v,w,S,f,x);this.previousToken=F,this._previousMarker=v,a=a.substr(x,a.length)}function c(u,h,f,g,v){const w=a?o-a.length:o,S=w+v,T={type:u,value:h,prefix:f,line:g,start:w,end:S};return t(null,T),T}function s(u){t(u._syntaxError(/^\S*/.exec(a)[0]))}}_unescape(t){let r=!1;const a=t.replace(lC,(o,c,s,u)=>{if(typeof c=="string")return String.fromCharCode(Number.parseInt(c,16));if(typeof s=="string"){let h=Number.parseInt(s,16);return h<=65535?String.fromCharCode(Number.parseInt(s,16)):String.fromCharCode(55296+((h-=65536)>>10),56320+(h&1023))}return u in IE?IE[u]:(r=!0,"")});return r?null:a}_parseLiteral(t){if(t.length>=3){const r=t.match(/^(?:"""|"|'''|'|)/)[0],a=r.length;let o=Math.max(this._literalClosingPos,a);for(;(o=t.indexOf(r,o))>0;){let c=0;for(;t[o-c-1]==="\\";)c++;if(c%2===0){const s=t.substring(a,o),u=s.split(/\r\n|\r|\n/).length-1,h=o+a;if(a===1&&u!==0||a===3&&this._lineMode)break;return this._line+=u,{value:this._unescape(s),matchLength:h}}o++}this._literalClosingPos=t.length-a+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const r=new Error(`Unexpected "${t}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,r){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof r=="function")queueMicrotask(()=>this._tokenizeToEnd(r,!0));else{const a=[];let o;if(this._tokenizeToEnd((c,s)=>c?o=c:a.push(s),!0),o)throw o;return a}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",a=>{this._input!==null&&a.length!==0&&(this._pendingBuffer&&(a=sC.Buffer.concat([this._pendingBuffer,a]),this._pendingBuffer=null),a[a.length-1]&128?this._pendingBuffer=a:(typeof this._input>"u"?this._input=this._readStartingBom(typeof a=="string"?a:a.toString()):this._input+=a,this._tokenizeToEnd(r,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),t.on("error",r)}}const{rdf:dC,xsd:bf}=Qi;let Jd,hC=0;const es={namedNode:V1,blankNode:$1,variable:G1,literal:K1,defaultGraph:pC,quad:Gv,triple:Gv,fromTerm:bg,fromQuad:q1};class po{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof po?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class Om extends po{get termType(){return"NamedNode"}}class zu extends po{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let r=t.lastIndexOf('"')+1;return r<t.length&&t[r++]==="@"?t.substr(r).toLowerCase():""}get datatype(){return new Om(this.datatypeString)}get datatypeString(){const t=this.id,r=t.lastIndexOf('"')+1,a=r<t.length?t[r]:"";return a==="^"?t.substr(r+2):a!=="@"?bf.string:dC.langString}equals(t){return t instanceof zu?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class Nb extends po{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class Fb extends po{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class Db extends po{constructor(){return super(""),Jd||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}}Jd=new Db;function Ef(e,t,r){if(t=t||es,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===es)return new zu(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));const a=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,a-1),e[a+1]==="@"?e.substr(a+2):t.namedNode(e.substr(a+3)));case"[":e=JSON.parse(e);break;default:if(!r||!Array.isArray(e))return t.namedNode(e)}return t.quad(Ef(e[0],t,!0),Ef(e[1],t,!0),Ef(e[2],t,!0),e[3]&&Ef(e[3],t,!0))}function Ku(e,t){if(typeof e=="string")return e;if(e instanceof po&&e.termType!=="Quad")return e.id;if(!e)return Jd.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==bf.string?`^^${e.datatype.value}`:""}`;case"Quad":const r=[Ku(e.subject,!0),Ku(e.predicate,!0),Ku(e.object,!0)];return e.graph&&e.graph.termType!=="DefaultGraph"&&r.push(Ku(e.graph,!0)),t?r:JSON.stringify(r);default:throw new Error(`Unexpected termType: ${e.termType}`)}}class Gd extends po{constructor(t,r,a,o){super(""),this._subject=t,this._predicate=r,this._object=a,this._graph=o||Jd}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}}function V1(e){return new Om(e)}function $1(e){return new Nb(e||`n3-${hC++}`)}function K1(e,t){if(typeof t=="string")return new zu(`"${e}"@${t.toLowerCase()}`);let r=t?t.value:"";return r===""&&(typeof e=="boolean"?r=bf.boolean:typeof e=="number"&&(Number.isFinite(e)?r=Number.isInteger(e)?bf.integer:bf.double:(r=bf.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),r===""||r===bf.string?new zu(`"${e}"`):new zu(`"${e}"^^${r}`)}function G1(e){return new Fb(e)}function pC(){return Jd}function Gv(e,t,r,a){return new Gd(e,t,r,a)}function bg(e){if(e instanceof po)return e;switch(e.termType){case"NamedNode":return V1(e.value);case"BlankNode":return $1(e.value);case"Variable":return G1(e.value);case"DefaultGraph":return Jd;case"Literal":return K1(e.value,e.language||e.datatype);case"Quad":return q1(e);default:throw new Error(`Unexpected termType: ${e.termType}`)}}function q1(e){if(e instanceof Gd)return e;if(e.termType!=="Quad")throw new Error(`Unexpected termType: ${e.termType}`);return Gv(bg(e.subject),bg(e.predicate),bg(e.object),bg(e.graph))}let PE=0;class Im{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&z1(this,t.factory);const r=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",a=/turtle/.test(r),o=/trig/.test(r),c=/triple/.test(r),s=/quad/.test(r),u=this._n3Mode=/n3/.test(r),h=c||s;(this._supportsNamedGraphs=!(a||u))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(a||o||c||u),this._isImpliedBy=t.isImpliedBy,this._supportsRDFStar=r===""||/star|\*$/.test(r),h&&(this._resolveRelativeIRI=f=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new Pb({lineMode:h,n3:u,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){PE=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const r=t.indexOf("#");r>=0&&(t=t.substr(0,r)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,r,a,o,c){const s=this._n3Mode;this._contextStack.push({type:t,subject:a,predicate:o,object:c,graph:r,inverse:s?this._inversePredicate:!1,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,r){const a=this._contextStack.pop();if(!a||a.type!==t)return this._error(`Unexpected ${r.type}`,r);this._subject=a.subject,this._predicate=a.predicate,this._object=a.object,this._graph=a.graph,this._n3Mode&&(this._inversePredicate=a.inverse,this._prefixes._=a.blankPrefix,this._quantified=a.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,r){let a;switch(t.type){case"IRI":case"typeIRI":const o=this._resolveIRI(t.value);if(o===null)return this._error("Invalid IRI",t);a=this._factory.namedNode(o);break;case"type":case"prefixed":const c=this._prefixes[t.prefix];if(c===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);a=this._factory.namedNode(c+t.value);break;case"blank":a=this._factory.blankNode(this._prefixes[t.prefix]+t.value);break;case"var":a=this._factory.variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!r&&this._n3Mode&&a.id in this._quantified&&(a=this._quantified[a.id]),a}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const r=t.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,t):(this._subject=null,r==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const r=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let r=null,a=null,o=this._readListItem;const c=this._subject,s=this._contextStack,u=s[s.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,a=this._factory.blankNode(),this.RDF_FIRST,this._subject=r=this._factory.blankNode()),o=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,a=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),s.length!==0&&s[s.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(o=this._readPredicate,this._subject===this.RDF_NIL)return o}else if(o=this._getContextEndReader(),this._object===this.RDF_NIL)return o;a=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,o=this._readListItemDataTypeOrLang):(r=this._factory.literal(t.value,this._factory.namedNode(t.prefix)),o=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((r=this._readEntity(t))===void 0)return}if(a===null&&(this._subject=a=this._factory.blankNode()),c===null?u.predicate===null?u.subject=a:u.object=a:this._emit(c,this.RDF_REST,a,this._graph),r!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,a,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(a,this.RDF_FIRST,r,this._graph)}return o}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let r=this._factory.literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const a=this._readEntity(t);if(a===void 0)return;r=this._factory.literal(this._literalValue,a),t=null;break;case"langcode":r=this._factory.literal(this._literalValue,t.value),t=null;break}return{token:t,literal:r}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,r){const a=this._completeLiteral(t);if(a)return this._object=a.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),a.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(a.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let r,a=this._graph;const o=this._subject,c=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,c&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);const s=this._predicate,u=this._object;this._subject=this._factory.quad(o,s,u,this.DEFAULTGRAPH),r=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,r=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(a=this._readEntity(t))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(o!==null){const s=this._predicate,u=this._object;c?this._emit(u,s,o,a):this._emit(o,s,u,a)}return r}_readBlankNodePunctuation(t){let r;switch(t.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const r=this._readEntity(t);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(t){const r=t.type==="IRI"&&this._resolveIRI(t.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let r;switch(t.type){case"IRI":case"prefixed":if((r=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const r=this._contextStack,a=r.length&&r[r.length-1];if(a&&a.type==="item"){const o=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,o,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let r,a;const o=this._factory.blankNode();if((a=this._readEntity(t))!==void 0)return this._predicate===null?(r=this._subject,this._subject=o):(r=this._object,this._object=o),this._emit(r,a,o,this._graph),this._readPath}_readBackwardPath(t){const r=this._factory.blankNode();let a,o;if((a=this._readEntity(t))!==void 0)return this._predicate===null?(o=this._subject,this._subject=r):(o=this._object,this._object=r),this._emit(r,a,o,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const r=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,r,a,o){this._callback(null,this._factory.quad(t,r,a,o||this.DEFAULTGRAPH))}_error(t,r){const a=new Error(`${t} on line ${r.line}.`);a.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(a),this._callback=zy}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const r=t.length;let a="",o=-1,c=-1,s=0,u="/";for(;o<r;){switch(u){case":":if(c<0&&t[++o]==="/"&&t[++o]==="/")for(;(c=o+1)<r&&t[c]!=="/";)o=c;break;case"?":case"#":o=r;break;case"/":if(t[o+1]===".")switch(u=t[++o+1],u){case"/":a+=t.substring(s,o-1),s=o+1;break;case void 0:case"?":case"#":return a+t.substring(s,o)+t.substr(o+1);case".":if(u=t[++o+1],u===void 0||u==="/"||u==="?"||u==="#"){if(a+=t.substring(s,o-2),(s=a.lastIndexOf("/"))>=c&&(a=a.substr(0,s)),u!=="/")return`${a}/${t.substr(o+1)}`;s=o+1}}}u=t[++o]}return a+t.substring(s)}parse(t,r,a){let o,c,s;if(r&&(r.onQuad||r.onPrefix||r.onComment)?(o=r.onQuad,c=r.onPrefix,s=r.onComment):(o=r,c=a),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${PE++}_`,this._prefixCallback=c||zy,this._inversePredicate=!1,this._quantified=Object.create(null),!o){const h=[];let f;if(this._callback=(g,v)=>{g?f=g:v&&h.push(v)},this._lexer.tokenize(t).every(g=>this._readCallback=this._readCallback(g)),f)throw f;return h}let u=(h,f)=>{h!==null?(this._callback(h),this._callback=zy):this._readCallback&&(this._readCallback=this._readCallback(f))};s&&(this._lexer.comments=!0,u=(h,f)=>{h!==null?(this._callback(h),this._callback=zy):this._readCallback&&(f.type==="comment"?s(f.value):this._readCallback=this._readCallback(f))}),this._callback=o,this._lexer.tokenize(t,u)}}function zy(){}function z1(e,t){e._factory=t,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=t.namedNode(Qi.rdf.first),e.RDF_REST=t.namedNode(Qi.rdf.rest),e.RDF_NIL=t.namedNode(Qi.rdf.nil),e.N3_FORALL=t.namedNode(Qi.r.forAll),e.N3_FORSOME=t.namedNode(Qi.r.forSome),e.ABBREVIATIONS={a:t.namedNode(Qi.rdf.type),"=":t.namedNode(Qi.owl.sameAs),">":t.namedNode(Qi.log.implies),"<":t.namedNode(Qi.log.isImpliedBy)},e.QUANTIFIERS_GRAPH=t.namedNode("urn:n3:quantifiers")}z1(Im.prototype,es);function gC(e){return!!e&&e.termType==="NamedNode"}function yC(e){return!!e&&e.termType==="BlankNode"}function mC(e){return!!e&&e.termType==="Literal"}function vC(e){return!!e&&e.termType==="Variable"}function bC(e){return!!e&&e.termType==="Quad"}function Cg(e){return!!e&&e.termType==="DefaultGraph"}function wC(e){return Cg(e.graph)}function _C(e,t){return W1({"":e.value||e},t)("")}function W1(e,t){const r=Object.create(null);for(const o in e)a(o,e[o]);t=t||es;function a(o,c){if(typeof c=="string"){const s=Object.create(null);r[o]=u=>s[u]||(s[u]=t.namedNode(c+u))}else if(!(o in r))throw new Error(`Unknown prefix: ${o}`);return r[o]}return a}const J1=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:wC,isBlankNode:yC,isDefaultGraph:Cg,isLiteral:mC,isNamedNode:gC,isQuad:bC,isVariable:vC,prefix:_C,prefixes:W1},Symbol.toStringTag,{value:"Module"}));function im(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}const EC=/^:?[^:?#]*(?:[?#]|$)|^file:|^[^:]*:\/*[^?#]+?\/(?:\.\.?(?:\/|$)|\/)/i,SC=/^(?:(?:[^/?#]{3,}|\.?[^/?#.]\.?)(?:\/[^/?#]{3,}|\.?[^/?#.]\.?)*\/?)?(?:[?#]|$)/,NE="./",AC="../",ov="?",FE="#";class kg{constructor(t){this.base=t,this._baseLength=0,this._baseMatcher=null,this._pathReplacements=new Array(t.length+1)}static supports(t){return!EC.test(t)}_getBaseMatcher(){if(this._baseMatcher)return this._baseMatcher;if(!kg.supports(this.base))return this._baseMatcher=/.^/;const t=/^[^:]*:\/*/.exec(this.base)[0],r=["^",im(t)],a=[],o=[],c=/[^/?#]*([/?#])/y;let s,u=0,h=0,f=c.lastIndex=t.length;for(;!u&&!h&&(s=c.exec(this.base));)s[1]===FE?h=c.lastIndex-1:(r.push(im(s[0]),"(?:"),a.push(")?"),s[1]!==ov?o.push(f=c.lastIndex):(u=f=c.lastIndex,h=this.base.indexOf(FE,u),this._pathReplacements[u]=ov));for(let g=0;g<o.length;g++)this._pathReplacements[o[g]]=AC.repeat(o.length-g-1);return this._pathReplacements[o[o.length-1]]=NE,this._baseLength=h>0?h:this.base.length,r.push(im(this.base.substring(f,this._baseLength)),u?"(?:#|$)":"(?:[?#]|$)"),this._baseMatcher=new RegExp([...r,...a].join(""))}toRelative(t){const r=this._getBaseMatcher().exec(t);if(!r)return t;const a=r[0].length;if(a===this._baseLength&&a===t.length)return"";const o=this._pathReplacements[a];if(o){const c=t.substring(a);return o!==ov&&!SC.test(c)?t:o===NE&&/^[^?#]/.test(c)?c:o+c}return t.substring(a-1)}}const ng=es.defaultGraph(),{rdf:xC,xsd:Md}=Qi,DE=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,UE=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,RC={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class rg extends po{equals(t){return t===this}}class Bg{constructor(t,r){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(r=t,t=null),r=r||{},this._lists=r.lists,t)this._outputStream=t,this._endStream=r.end===void 0?!0:!!r.end;else{let a="";this._outputStream={write(o,c,s){a+=o,s&&s()},end:o=>{o&&o(null,a)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=ng,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes),r.baseIRI&&(this._baseIri=new kg(r.baseIRI)))}get _inDefaultGraph(){return ng.equals(this._graph)}_write(t,r){this._outputStream.write(t,"utf8",r)}_writeQuad(t,r,a,o,c){try{o.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(ng.equals(o)?"":`${this._encodeIriOrBlank(o)} {
`)),this._graph=o,this._subject=null),t.equals(this._subject)?r.equals(this._predicate)?this._write(`, ${this._encodeObject(a)}`,c):this._write(`;
    ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(a)}`,c):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(a)}`,c)}catch(s){c&&c(s)}}_writeQuadLine(t,r,a,o,c){delete this._prefixMatch,this._write(this.quadToString(t,r,a,o),c)}quadToString(t,r,a,o){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(r)} ${this._encodeObject(a)}${o&&o.value?` ${this._encodeIriOrBlank(o)} .
`:` .
`}`}quadsToString(t){let r="";for(const a of t)r+=this.quadToString(a.subject,a.predicate,a.object,a.graph);return r}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let r=t.value;this._baseIri&&(r=this._baseIri.toRelative(r)),DE.test(r)&&(r=r.replace(UE,LE));const a=this._prefixRegex.exec(r);return a?a[1]?this._prefixIRIs[a[1]]+a[2]:r:`<${r}>`}_encodeLiteral(t){let r=t.value;if(DE.test(r)&&(r=r.replace(UE,LE)),t.language)return`"${r}"@${t.language}`;if(this._lineMode){if(t.datatype.value===Md.string)return`"${r}"`}else switch(t.datatype.value){case Md.string:return`"${r}"`;case Md.boolean:if(r==="true"||r==="false")return r;break;case Md.integer:if(/^[+-]?\d+$/.test(r))return r;break;case Md.decimal:if(/^[+-]?\d*\.\d+$/.test(r))return r;break;case Md.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(r))return r;break}return`"${r}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===xC.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:r,object:a,graph:o}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(r)} ${this._encodeObject(a)}${Cg(o)?"":` ${this._encodeIriOrBlank(o)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,r,a,o,c){a===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,r):typeof o=="function"?this._writeQuad(t,r,a,ng,o):this._writeQuad(t,r,a,o||ng,c)}addQuads(t){for(let r=0;r<t.length;r++)this.addQuad(t[r])}addPrefix(t,r,a){const o={};o[t]=r,this.addPrefixes(o,a)}addPrefixes(t,r){if(!this._prefixIRIs)return r&&r();let a=!1;for(let o in t){let c=t[o];typeof c!="string"&&(c=c.value),a=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[c]=o+=":",this._write(`@prefix ${o} <${c}>.
`)}if(a){let o="",c="";for(const s in this._prefixIRIs)o+=o?`|${s}`:s,c+=(c?"|":"")+this._prefixIRIs[s];o=im(o),this._prefixRegex=new RegExp(`^(?:${c})[^/]*$|^(${o})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(a?`
`:"",r)}blank(t,r){let a=t,o,c;switch(t===void 0?a=[]:t.termType?a=[{predicate:t,object:r}]:"length"in t||(a=[t]),c=a.length){case 0:return new rg("[]");case 1:if(o=a[0],!(o.object instanceof rg))return new rg(`[ ${this._encodePredicate(o.predicate)} ${this._encodeObject(o.object)} ]`);default:let s="[";for(let u=0;u<c;u++)o=a[u],o.predicate.equals(t)?s+=`, ${this._encodeObject(o.object)}`:(s+=`${(u?`;
  `:`
  `)+this._encodePredicate(o.predicate)} ${this._encodeObject(o.object)}`,t=o.predicate);return new rg(`${s}
]`)}}list(t){const r=t&&t.length||0,a=new Array(r);for(let o=0;o<r;o++)a[o]=this._encodeObject(t[o]);return new rg(`(${a.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let r=t&&((a,o)=>{r=null,t(a,o)});if(this._endStream)try{return this._outputStream.end(r)}catch{}r&&r()}}function LE(e){let t=RC[e];return t===void 0&&(e.length===1?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}var Pm=I1();const sv=Symbol("iter");function Eg(e,t,r=4){if(r===0)return Object.assign(e,t);for(const a in t)e[a]=Eg(e[a]||Object.create(null),t[a],r-1);return e}function Y1(e,t,r=4){let a=!1;for(const o in e)if(o in t){const c=r===0?null:Y1(e[o],t[o],r-1);if(c!==!1)a=a||Object.create(null),a[o]=c;else if(r===3)return!1}return a}function X1(e,t,r=4){let a=!1;for(const o in e)if(!(o in t))a=a||Object.create(null),a[o]=r===0?null:Eg({},e[o],r-1);else if(r!==0){const c=X1(e[o],t[o],r-1);if(c!==!1)a=a||Object.create(null),a[o]=c;else if(r===3)return!1}return a}class Ub{constructor(t={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=t.factory||es}_termFromId(t){if(t[0]==="."){const r=this._entities,a=t.split(".");return this._factory.quad(this._termFromId(r[a[1]]),this._termFromId(r[a[2]]),this._termFromId(r[a[3]]),a[4]&&this._termFromId(r[a[4]]))}return Ef(t,this._factory)}_termToNumericId(t){if(t.termType==="Quad"){const r=this._termToNumericId(t.subject),a=this._termToNumericId(t.predicate),o=this._termToNumericId(t.object);let c;return r&&a&&o&&(Cg(t.graph)||(c=this._termToNumericId(t.graph)))&&this._ids[c?`.${r}.${a}.${o}.${c}`:`.${r}.${a}.${o}`]}return this._ids[Ku(t)]}_termToNewNumericId(t){const r=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${Cg(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:Ku(t);return this._ids[r]||(this._ids[this._entities[++this._id]=r]=this._id)}createBlankNode(t){let r,a;if(t)for(r=t=`_:${t}`,a=1;this._ids[r];)r=t+a++;else do r=`_:b${this._blankNodeIndex++}`;while(this._ids[r]);return this._ids[r]=++this._id,this._entities[this._id]=r,this._factory.blankNode(r.substr(2))}}class ua{constructor(t,r){this._size=0,this._graphs=Object.create(null),!r&&t&&!t[0]&&typeof t.match!="function"&&(r=t,t=null),r=r||{},this._factory=r.factory||es,this._entityIndex=r.entityIndex||new Ub({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),t&&this.addAll(t)}get size(){let t=this._size;if(t!==null)return t;t=0;const r=this._graphs;let a,o;for(const c in r)for(const s in a=r[c].subjects)for(const u in o=a[s])t+=Object.keys(o[u]).length;return this._size=t}_addToIndex(t,r,a,o){const c=t[r]||(t[r]={}),s=c[a]||(c[a]={}),u=o in s;return u||(s[o]=null),!u}_removeFromIndex(t,r,a,o){const c=t[r],s=c[a];delete s[o];for(const u in s)return;delete c[a];for(const u in c)return;delete t[r]}*_findInIndex(t,r,a,o,c,s,u,h){let f,g,v;const w=this._entities,S=this._termFromId(w[h]),T={subject:null,predicate:null,object:null};r&&((f=t,t={})[r]=f[r]);for(const R in t)if(g=t[R]){T[c]=this._termFromId(w[R]),a&&((f=g,g={})[a]=f[a]);for(const C in g)if(v=g[C]){T[s]=this._termFromId(w[C]);const x=o?o in v?[o]:[]:Object.keys(v);for(let F=0;F<x.length;F++)T[u]=this._termFromId(w[x[F]]),yield this._factory.quad(T.subject,T.predicate,T.object,S)}}}_loop(t,r){for(const a in t)r(a)}_loopByKey0(t,r,a){let o,c;if(o=t[r])for(c in o)a(c)}_loopByKey1(t,r,a){let o,c;for(o in t)c=t[o],c[r]&&a(o)}_loopBy2Keys(t,r,a,o){let c,s,u;if((c=t[r])&&(s=c[a]))for(u in s)o(u)}_countInIndex(t,r,a,o){let c=0,s,u,h;r&&((s=t,t={})[r]=s[r]);for(const f in t)if(u=t[f]){a&&((s=u,u={})[a]=s[a]);for(const g in u)(h=u[g])&&(o?o in h&&c++:c+=Object.keys(h).length)}return c}_getGraphs(t){return t=t===""?1:t&&(this._termToNumericId(t)||-1),typeof t!="number"?this._graphs:{[t]:this._graphs[t]}}_uniqueEntities(t){const r=Object.create(null);return a=>{a in r||(r[a]=!0,t(this._termFromId(this._entities[a],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,r,a,o){r||(o=t.graph,a=t.object,r=t.predicate,t=t.subject),o=o?this._termToNewNumericId(o):1;let c=this._graphs[o];return c||(c=this._graphs[o]={subjects:{},predicates:{},objects:{}},Object.freeze(c)),t=this._termToNewNumericId(t),r=this._termToNewNumericId(r),a=this._termToNewNumericId(a),this._addToIndex(c.subjects,t,r,a)?(this._addToIndex(c.predicates,r,a,t),this._addToIndex(c.objects,a,t,r),this._size=null,!0):!1}addQuads(t){for(let r=0;r<t.length;r++)this.addQuad(t[r])}delete(t){return this.removeQuad(t),this}has(t,r,a,o){return t&&t.subject&&({subject:t,predicate:r,object:a,graph:o}=t),!this.readQuads(t,r,a,o).next().done}import(t){return t.on("data",r=>{this.addQuad(r)}),t}removeQuad(t,r,a,o){r||({subject:t,predicate:r,object:a,graph:o}=t),o=o?this._termToNumericId(o):1;const c=this._graphs;let s,u,h;if(!(t=t&&this._termToNumericId(t))||!(r=r&&this._termToNumericId(r))||!(a=a&&this._termToNumericId(a))||!(s=c[o])||!(u=s.subjects[t])||!(h=u[r])||!(a in h))return!1;this._removeFromIndex(s.subjects,t,r,a),this._removeFromIndex(s.predicates,r,a,t),this._removeFromIndex(s.objects,a,t,r),this._size!==null&&this._size--;for(t in s.subjects)return!0;return delete c[o],!0}removeQuads(t){for(let r=0;r<t.length;r++)this.removeQuad(t[r])}remove(t){return t.on("data",r=>{this.removeQuad(r)}),t}removeMatches(t,r,a,o){const c=new Pm.Readable({objectMode:!0}),s=this.readQuads(t,r,a,o);return c._read=u=>{for(;--u>=0;){const{done:h,value:f}=s.next();if(h){c.push(null);return}c.push(f)}},this.remove(c)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,r,a,o){return[...this.readQuads(t,r,a,o)]}*readQuads(t,r,a,o){const c=this._getGraphs(o);let s,u,h,f;if(!(t&&!(u=this._termToNumericId(t))||r&&!(h=this._termToNumericId(r))||a&&!(f=this._termToNumericId(a))))for(const g in c)(s=c[g])&&(u?f?yield*this._findInIndex(s.objects,f,u,h,"object","subject","predicate",g):yield*this._findInIndex(s.subjects,u,h,null,"subject","predicate","object",g):h?yield*this._findInIndex(s.predicates,h,f,null,"predicate","object","subject",g):f?yield*this._findInIndex(s.objects,f,null,null,"object","subject","predicate",g):yield*this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",g))}match(t,r,a,o){return new Hu(this,t,r,a,o,{entityIndex:this._entityIndex})}countQuads(t,r,a,o){const c=this._getGraphs(o);let s=0,u,h,f,g;if(t&&!(h=this._termToNumericId(t))||r&&!(f=this._termToNumericId(r))||a&&!(g=this._termToNumericId(a)))return 0;for(const v in c)(u=c[v])&&(t?a?s+=this._countInIndex(u.objects,g,h,f):s+=this._countInIndex(u.subjects,h,f,g):r?s+=this._countInIndex(u.predicates,f,g,h):s+=this._countInIndex(u.objects,g,h,f));return s}forEach(t,r,a,o,c){this.some(s=>(t(s,this),!1),r,a,o,c)}every(t,r,a,o,c){return!this.some(s=>!t(s,this),r,a,o,c)}some(t,r,a,o,c){for(const s of this.readQuads(r,a,o,c))if(t(s,this))return!0;return!1}getSubjects(t,r,a){const o=[];return this.forSubjects(c=>{o.push(c)},t,r,a),o}forSubjects(t,r,a,o){const c=this._getGraphs(o);let s,u,h;if(t=this._uniqueEntities(t),!(r&&!(u=this._termToNumericId(r))||a&&!(h=this._termToNumericId(a))))for(o in c)(s=c[o])&&(u?h?this._loopBy2Keys(s.predicates,u,h,t):this._loopByKey1(s.subjects,u,t):h?this._loopByKey0(s.objects,h,t):this._loop(s.subjects,t))}getPredicates(t,r,a){const o=[];return this.forPredicates(c=>{o.push(c)},t,r,a),o}forPredicates(t,r,a,o){const c=this._getGraphs(o);let s,u,h;if(t=this._uniqueEntities(t),!(r&&!(u=this._termToNumericId(r))||a&&!(h=this._termToNumericId(a))))for(o in c)(s=c[o])&&(u?h?this._loopBy2Keys(s.objects,h,u,t):this._loopByKey0(s.subjects,u,t):h?this._loopByKey1(s.predicates,h,t):this._loop(s.predicates,t))}getObjects(t,r,a){const o=[];return this.forObjects(c=>{o.push(c)},t,r,a),o}forObjects(t,r,a,o){const c=this._getGraphs(o);let s,u,h;if(t=this._uniqueEntities(t),!(r&&!(u=this._termToNumericId(r))||a&&!(h=this._termToNumericId(a))))for(o in c)(s=c[o])&&(u?h?this._loopBy2Keys(s.subjects,u,h,t):this._loopByKey1(s.objects,u,t):h?this._loopByKey0(s.predicates,h,t):this._loop(s.objects,t))}getGraphs(t,r,a){const o=[];return this.forGraphs(c=>{o.push(c)},t,r,a),o}forGraphs(t,r,a,o){for(const c in this._graphs)this.some(s=>(t(s.graph),!0),r,a,o,this._termFromId(this._entities[c]))}createBlankNode(t){return this._entityIndex.createBlankNode(t)}extractLists({remove:t=!1,ignoreErrors:r=!1}={}){const a={},o=r?()=>!0:(u,h)=>{throw new Error(`${u.value} ${h}`)},c=this.getQuads(null,Qi.rdf.rest,Qi.rdf.nil,null),s=t?[...c]:[];return c.forEach(u=>{const h=[];let f=!1,g,v;const w=u.graph;let S=u.subject;for(;S&&!f;){const T=this.getQuads(null,null,S,null),R=this.getQuads(S,null,null,null);let C,x=null,F=null,P=null;for(let K=0;K<R.length&&!f;K++)C=R[K],C.graph.equals(w)?g?f=o(S,"has non-list arcs out"):C.predicate.value===Qi.rdf.first?x?f=o(S,"has multiple rdf:first arcs"):s.push(x=C):C.predicate.value===Qi.rdf.rest?F?f=o(S,"has multiple rdf:rest arcs"):s.push(F=C):T.length?f=o(S,"can't be subject and object"):(g=C,v="subject"):f=o(S,"not confined to single graph");for(let K=0;K<T.length&&!f;++K)C=T[K],g?f=o(S,"can't have coreferences"):C.predicate.value===Qi.rdf.rest?P?f=o(S,"has incoming rdf:rest arcs"):P=C:(g=C,v="object");x?h.unshift(x.object):f=o(S,"has no list head"),S=P&&P.subject}f?t=!1:g&&(a[g[v].value]=h)}),t&&this.removeQuads(s),a}addAll(t){if(t instanceof Hu&&(t=t.filtered),Array.isArray(t))this.addQuads(t);else if(t instanceof ua&&t._entityIndex===this._entityIndex)t._size!==0&&(this._graphs=Eg(this._graphs,t._graphs),this._size=null);else for(const r of t)this.add(r);return this}contains(t){if(t instanceof Hu&&(t=t.filtered),t===this)return!0;if(!(t instanceof ua)||this._entityIndex!==t._entityIndex)return t.every(f=>this.has(f));const r=this._graphs,a=t._graphs;let o,c,s,u,h;for(const f in a){if(!(o=r[f]))return!1;o=o.subjects;for(const g in c=a[f].subjects){if(!(s=o[g]))return!1;for(const v in u=c[g]){if(!(h=s[v]))return!1;for(const w in u[v])if(!(w in h))return!1}}}return!0}deleteMatches(t,r,a,o){for(const c of this.match(t,r,a,o))this.removeQuad(c);return this}difference(t){if(t&&t instanceof Hu&&(t=t.filtered),t===this)return new ua({entityIndex:this._entityIndex});if(t instanceof ua&&t._entityIndex===this._entityIndex){const r=new ua({entityIndex:this._entityIndex}),a=X1(this._graphs,t._graphs);return a&&(r._graphs=a,r._size=null),r}return this.filter(r=>!t.has(r))}equals(t){return t instanceof Hu&&(t=t.filtered),t===this||this.size===t.size&&this.contains(t)}filter(t){const r=new ua({entityIndex:this._entityIndex});for(const a of this)t(a,this)&&r.add(a);return r}intersection(t){if(t instanceof Hu&&(t=t.filtered),t===this){const r=new ua({entityIndex:this._entityIndex});return r._graphs=Eg(Object.create(null),this._graphs),r._size=this._size,r}else if(t instanceof ua&&this._entityIndex===t._entityIndex){const r=new ua({entityIndex:this._entityIndex}),a=Y1(t._graphs,this._graphs);return a&&(r._graphs=a,r._size=null),r}return this.filter(r=>t.has(r))}map(t){const r=new ua({entityIndex:this._entityIndex});for(const a of this)r.add(t(a,this));return r}reduce(t,r){const a=this.readQuads();let o=r===void 0?a.next().value:r;for(const c of a)o=t(o,c,this);return o}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new Bg().quadsToString(this)}union(t){const r=new ua({entityIndex:this._entityIndex});return r._graphs=Eg(Object.create(null),this._graphs),r._size=this._size,r.addAll(t),r}*[Symbol.iterator](){yield*this.readQuads()}}function Cs(e,t,r=0){const a=t[r];if(a&&!(a in e))return!1;let o=!1;for(const c in a?{[a]:e[a]}:e){const s=r===2?null:Cs(e[c],t,r+1);s!==!1&&(o=o||Object.create(null),o[c]=s)}return o}class Hu extends Pm.Readable{constructor(t,r,a,o,c,s){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:r,predicate:a,object:o,graph:c,options:s})}get filtered(){if(!this._filtered){const{n3Store:t,graph:r,object:a,predicate:o,subject:c}=this,s=this._filtered=new ua({factory:t._factory,entityIndex:this.options.entityIndex});let u,h,f;if(c&&!(u=s._termToNumericId(c))||o&&!(h=s._termToNumericId(o))||a&&!(f=s._termToNumericId(a)))return s;const g=t._getGraphs(r);for(const v in g){let w,S,T,R;(R=g[v])&&(!u&&h?(S=Cs(R.predicates,[h,f,u]))&&(w=Cs(R.subjects,[u,h,f]),T=Cs(R.objects,[f,u,h])):f?(T=Cs(R.objects,[f,u,h]))&&(w=Cs(R.subjects,[u,h,f]),S=Cs(R.predicates,[h,f,u])):(w=Cs(R.subjects,[u,h,f]))&&(S=Cs(R.predicates,[h,f,u]),T=Cs(R.objects,[f,u,h])),w&&(s._graphs[v]={subjects:w,predicates:S,objects:T}))}s._size=null}return this._filtered}get size(){return this.filtered.size}_read(t){t>0&&!this[sv]&&(this[sv]=this[Symbol.iterator]());const r=this[sv];for(;--t>=0;){const{done:a,value:o}=r.next();if(a){this.push(null);return}this.push(o)}}addAll(t){return this.filtered.addAll(t)}contains(t){return this.filtered.contains(t)}deleteMatches(t,r,a,o){return this.filtered.deleteMatches(t,r,a,o)}difference(t){return this.filtered.difference(t)}equals(t){return this.filtered.equals(t)}every(t,r,a,o,c){return this.filtered.every(t,r,a,o,c)}filter(t){return this.filtered.filter(t)}forEach(t,r,a,o,c){return this.filtered.forEach(t,r,a,o,c)}import(t){return this.filtered.import(t)}intersection(t){return this.filtered.intersection(t)}map(t){return this.filtered.map(t)}some(t,r,a,o,c){return this.filtered.some(t,r,a,o,c)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(t){return this._filtered?this._filtered.union(t):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(t)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(t,r){return this.filtered.reduce(t,r)}toString(){return new Bg().quadsToString(this)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,r,a,o){return new Hu(this.filtered,t,r,a,o,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class Q1{dataset(t){return new ua(t)}}function Z1(e){const t=[];for(const{subject:r,object:a}of e.match(null,es.namedNode("http://www.w3.org/2000/10/swap/log#implies"),null,es.defaultGraph())){const o=[...e.match(null,null,null,r)],c=[...e.match(null,null,null,a)];t.push({premise:o,conclusion:c})}return t}class eA{constructor(t){this._store=t}_add(t,r,a,o,c){this._store._addToIndex(o.subjects,t,r,a)&&(this._store._addToIndex(o.predicates,r,a,t),this._store._addToIndex(o.objects,a,t,r),c())}_evaluatePremise(t,r,a,o=0){let c,s,u,h,f;const[g,v,w]=t.premise[o].value,S=r[t.premise[o].content],T=!(u=g.value);for(u in T?S:{[u]:S[u]})if(h=S[u]){T&&(g.value=Number(u)),c=!(u=v.value);for(u in c?h:{[u]:h[u]})if(f=h[u]){c&&(v.value=Number(u)),s=!(u=w.value);for(u in s?f:{[u]:f[u]})s&&(w.value=Number(u)),o===t.premise.length-1?t.conclusion.forEach(R=>{this._add(R.subject.value,R.predicate.value,R.object.value,r,()=>{a(R)})}):this._evaluatePremise(t,r,a,o+1);s&&(w.value=null)}c&&(v.value=null)}T&&(g.value=null)}_evaluateRules(t,r,a){for(let o=0;o<t.length;o++)this._evaluatePremise(t[o],r,a)}_reasonGraphNaive(t,r){const a=[];function o(u){u.next&&u.next.forEach(h=>{a.push([u.subject.value,u.predicate.value,u.object.value,h])})}const c=u=>{u.forEach(h=>{this._add(h.subject.value,h.predicate.value,h.object.value,r,()=>{o(h)})})};this._evaluateRules(t,r,o);let s;for(;(s=a.pop())!==void 0;){const[u,h,f,g]=s,v=g.basePremise.subject.value;v||(g.basePremise.subject.value=u);const w=g.basePremise.predicate.value;w||(g.basePremise.predicate.value=h);const S=g.basePremise.object.value;S||(g.basePremise.object.value=f),g.premise.length===0?c(g.conclusion):this._evaluatePremise(g,r,o),v||(g.basePremise.subject.value=null),w||(g.basePremise.predicate.value=null),S||(g.basePremise.object.value=null)}}_createRule({premise:t,conclusion:r}){const a={},o=s=>s.termType==="Variable"?a[s.value]=a[s.value]||{}:{value:this._store._termToNewNumericId(s)},c=s=>({subject:o(s.subject),predicate:o(s.predicate),object:o(s.object)});return{premise:t.map(s=>c(s)),conclusion:r.map(s=>c(s)),variables:Object.values(a)}}reason(t){Array.isArray(t)||(t=Z1(t)),t=t.map(a=>this._createRule(a));for(const a of t)for(const o of t)for(let c=0;c<o.premise.length;c++){const s=o.premise[c];for(const u of a.conclusion){if(lv(s.subject,u.subject)&&lv(s.predicate,u.predicate)&&lv(s.object,u.object)){const h=new Set,f=[];s.subject.value=s.subject.value||1,s.object.value=s.object.value||1,s.predicate.value=s.predicate.value||1;for(let g=0;g<o.premise.length;g++)g!==c&&f.push(ME(o.premise[g],h));(u.next=u.next||[]).push({premise:f,conclusion:o.conclusion,basePremise:s})}o.variables.forEach(h=>{h.value=null})}}for(const a of t){const o=new Set;a.premise=a.premise.map(c=>ME(c,o))}const r=this._store._getGraphs();for(const a in r)this._reasonGraphNaive(t,r[a]);this._store._size=null}}function ME({subject:e,predicate:t,object:r},a){const o=e.value||a.has(e)||(a.add(e),!1),c=t.value||a.has(t)||(a.add(t),!1),s=r.value||a.has(r)||(a.add(r),!1);return!o&&c?{content:"predicates",value:[t,r,e]}:s?{content:"objects",value:[r,e,t]}:{content:"subjects",value:[e,t,r]}}function lv(e,t){return e.value===null&&(e.value=t.value),e.value===t.value}class tA extends Pm.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const r=new Im(t);let a,o;const c={onQuad:(s,u)=>{s&&this.emit("error",s)||u&&this.push(u)},onPrefix:(s,u)=>{this.emit("prefix",s,u)}};t&&t.comments&&(c.onComment=s=>{this.emit("comment",s)}),r.parse({on:(s,u)=>{switch(s){case"data":a=u;break;case"end":o=u;break}}},c),this._transform=(s,u,h)=>{a(s),h()},this._flush=s=>{o(),s()}}import(t){return t.on("data",r=>{this.write(r)}),t.on("end",()=>{this.end()}),t.on("error",r=>{this.emit("error",r)}),this}}class nA extends Pm.Transform{constructor(t){super({encoding:"utf8",writableObjectMode:!0});const r=this._writer=new Bg({write:(a,o,c)=>{this.push(a),c&&c()},end:a=>{this.push(null),a&&a()}},t);this._transform=(a,o,c)=>{r.addQuad(a,c)},this._flush=a=>{r.end(a)}}import(t){return t.on("data",r=>{this.write(r)}),t.on("end",()=>{this.end()}),t.on("error",r=>{this.emit("error",r)}),t.on("prefix",(r,a)=>{this._writer.addPrefix(r,a)}),this}}const TC={Lexer:Pb,Parser:Im,Writer:Bg,Store:ua,StoreFactory:Q1,EntityIndex:Ub,StreamParser:tA,StreamWriter:nA,Util:J1,Reasoner:eA,BaseIRI:kg,DataFactory:es,Term:po,NamedNode:Om,Literal:zu,BlankNode:Nb,Variable:Fb,DefaultGraph:Db,Quad:Gd,Triple:Gd,termFromId:Ef,termToId:Ku},CC=Object.freeze(Object.defineProperty({__proto__:null,BaseIRI:kg,BlankNode:Nb,DataFactory:es,DefaultGraph:Db,EntityIndex:Ub,Lexer:Pb,Literal:zu,NamedNode:Om,Parser:Im,Quad:Gd,Reasoner:eA,Store:ua,StoreFactory:Q1,StreamParser:tA,StreamWriter:nA,Term:po,Triple:Gd,Util:J1,Variable:Fb,Writer:Bg,default:TC,getRulesFromDataset:Z1,termFromId:Ef,termToId:Ku},Symbol.toStringTag,{value:"Module"})),OC=Am(CC);var uv,kE;function IC(){if(kE)return uv;kE=1;class e{constructor(r){this.value=r||"b"+ ++e.nextId}equals(r){return!!r&&r.termType===this.termType&&r.value===this.value}}return e.prototype.termType="BlankNode",e.nextId=0,uv=e,uv}var cv,BE;function rA(){if(BE)return cv;BE=1;class e{equals(r){return!!r&&r.termType===this.termType}}return e.prototype.termType="DefaultGraph",e.prototype.value="",cv=e,cv}var fv,jE;function PC(){if(jE)return fv;jE=1;function e(t){if(!t)return null;if(t.termType==="BlankNode")return this.blankNode(t.value);if(t.termType==="DefaultGraph")return this.defaultGraph();if(t.termType==="Literal")return this.literal(t.value,t.language||this.namedNode(t.datatype.value));if(t.termType==="NamedNode")return this.namedNode(t.value);if(t.termType==="Quad"){const r=this.fromTerm(t.subject),a=this.fromTerm(t.predicate),o=this.fromTerm(t.object),c=this.fromTerm(t.graph);return this.quad(r,a,o,c)}if(t.termType==="Variable")return this.variable(t.value);throw new Error(`unknown termType ${t.termType}`)}return fv=e,fv}var dv,HE;function iA(){if(HE)return dv;HE=1;class e{constructor(r){this.value=r}equals(r){return!!r&&r.termType===this.termType&&r.value===this.value}}return e.prototype.termType="NamedNode",dv=e,dv}var hv,VE;function NC(){if(VE)return hv;VE=1;const e=iA();class t{constructor(a,o,c){this.value=a,this.datatype=t.stringDatatype,this.language="",o?(this.language=o,this.datatype=t.langStringDatatype):c&&(this.datatype=c)}equals(a){return!!a&&a.termType===this.termType&&a.value===this.value&&a.language===this.language&&a.datatype.equals(this.datatype)}}return t.prototype.termType="Literal",t.langStringDatatype=new e("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.stringDatatype=new e("http://www.w3.org/2001/XMLSchema#string"),hv=t,hv}var pv,$E;function FC(){if($E)return pv;$E=1;const e=rA();class t{constructor(a,o,c,s){this.subject=a,this.predicate=o,this.object=c,s?this.graph=s:this.graph=new e}equals(a){return!!a&&(a.termType==="Quad"||!a.termType)&&a.subject.equals(this.subject)&&a.predicate.equals(this.predicate)&&a.object.equals(this.object)&&a.graph.equals(this.graph)}}return t.prototype.termType="Quad",t.prototype.value="",pv=t,pv}var gv,KE;function DC(){if(KE)return gv;KE=1;class e{constructor(r){this.value=r}equals(r){return!!r&&r.termType===this.termType&&r.value===this.value}}return e.prototype.termType="Variable",gv=e,gv}var yv,GE;function UC(){if(GE)return yv;GE=1;const e=IC(),t=rA(),r=PC(),a=NC(),o=iA(),c=FC(),s=DC();function u(x){return new o(x)}function h(x){return new e(x)}function f(x,F){return typeof F=="string"?F.indexOf(":")===-1?new a(x,F):new a(x,null,C.namedNode(F)):new a(x,null,F)}function g(x){return new s(x)}function v(){return C.defaultGraphInstance}function w(x,F,P){return C.quad(x,F,P)}function S(x,F,P,K){return new c(x,F,P,K||C.defaultGraphInstance)}function T(x){return r.call(C,x)}function R(x){return r.call(C,x)}const C={namedNode:u,blankNode:h,literal:f,variable:g,defaultGraph:v,triple:w,quad:S,fromTerm:T,fromQuad:R,defaultGraphInstance:new t};return yv=C,yv}var mv,qE;function aA(){return qE||(qE=1,mv=UC()),mv}var vv,zE;function LC(){if(zE)return vv;zE=1;function e(s){return typeof s=="string"||s instanceof String}const t="http://www.w3.org/2001/XMLSchema#string";function r(s){if(typeof s=="string")return s;if(!s)return"";if(typeof s.id<"u"&&s.termType!=="Quad")return s.id;let u,h,f,g;switch(s.termType){case"NamedNode":return s.value;case"BlankNode":return`_:${s.value}`;case"Variable":return`?${s.value}`;case"DefaultGraph":return"";case"Literal":return s.language?`"${s.value}"@${s.language}`:`"${s.value}"${s.datatype&&s.datatype.value!==t?`^^${s.datatype.value}`:""}`;case"Quad":return u=o(r(s.subject)),h=o(r(s.predicate)),f=o(r(s.object)),g=s.graph.termType==="DefaultGraph"?"":` ${r(s.graph)}`,`<<${u} ${h} ${f}${g}>>`;default:throw new Error(`Unexpected termType: ${s.termType}`)}}const a=/^"(.*".*)(?="[^"]*$)/;function o(s){return s.replace(a,(u,h)=>`"${h.replace(/"/g,'""')}`)}class c{constructor(u){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,u)for(const h of u)this.add(h)}get size(){let u=this._size;if(u!==null)return u;u=0;const h=this._graphs;let f,g;for(const v in h)for(const w in f=h[v].subjects)for(const S in g=f[w])u+=Object.keys(g[S]).length;return this._size=u,this._size}add(u){let h=r(u.subject),f=r(u.predicate),g=r(u.object);const v=r(u.graph);let w=this._graphs[v];w||(w=this._graphs[v]={subjects:{},predicates:{},objects:{}},Object.freeze(w));const S=this._ids,T=this._entities;return h=S[h]||(S[T[++this._id]=h]=this._id),f=S[f]||(S[T[++this._id]=f]=this._id),g=S[g]||(S[T[++this._id]=g]=this._id),this._addToIndex(w.subjects,h,f,g),this._addToIndex(w.predicates,f,g,h),this._addToIndex(w.objects,g,h,f),this._setQuad(h,f,g,v,u),this._size=null,this}delete(u){let h=r(u.subject),f=r(u.predicate),g=r(u.object);const v=r(u.graph),w=this._ids,S=this._graphs;let T,R,C;if(!(h=w[h])||!(f=w[f])||!(g=w[g])||!(T=S[v])||!(R=T.subjects[h])||!(C=R[f])||!(g in C))return this;this._removeFromIndex(T.subjects,h,f,g),this._removeFromIndex(T.predicates,f,g,h),this._removeFromIndex(T.objects,g,h,f),this._size!==null&&this._size--,this._deleteQuad(h,f,g,v);for(h in T.subjects)return this;return delete S[v],this}has(u){const h=r(u.subject),f=r(u.predicate),g=r(u.object),v=r(u.graph),w=this._graphs[v];if(!w)return!1;const S=this._ids;let T,R,C;return e(h)&&!(T=S[h])||e(f)&&!(R=S[f])||e(g)&&!(C=S[g])?!1:this._countInIndex(w.objects,C,T,R)===1}match(u,h,f,g){return this._createDataset(this._match(u,h,f,g))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(u,h,f,g){const v=u[h]||(u[h]={}),w=v[f]||(v[f]={}),S=g in w;return S||(w[g]=null),!S}_removeFromIndex(u,h,f,g){const v=u[h],w=v[f];delete w[g];for(const S in w)return;delete v[f];for(const S in v)return;delete u[h]}_findInIndex(u,h,f,g,v,w,S,T,R,C){let x,F,P;h&&((x=u,u={})[h]=x[h]);for(const K in u)if(F=u[K],F){f&&((x=F,F={})[f]=x[f]);for(const M in F)if(P=F[M],P){const z=g?g in P?[g]:[]:Object.keys(P);for(let J=0;J<z.length;J++){const q={[v]:K,[w]:M,[S]:z[J]},Fe=this._getQuad(q.subject,q.predicate,q.object,T);if(C)C.push(Fe);else if(R(Fe))return!0}}}return C}_countInIndex(u,h,f,g){let v=0,w,S,T;h&&((w=u,u={})[h]=w[h]);for(const R in u)if(S=u[R],S){f&&((w=S,S={})[f]=w[f]);for(const C in S)T=S[C],T&&(g?g in T&&v++:v+=Object.keys(T).length)}return v}_getGraphs(u){return e(u)?{[u]:this._graphs[u]}:this._graphs}_match(u,h,f,g){u=u&&r(u),h=h&&r(h),f=f&&r(f),g=g&&r(g);const v=[],w=this._getGraphs(g),S=this._ids;let T,R,C,x;if(e(u)&&!(R=S[u])||e(h)&&!(C=S[h])||e(f)&&!(x=S[f]))return v;for(const F in w)T=w[F],T&&(R?x?this._findInIndex(T.objects,x,R,C,"object","subject","predicate",F,null,v):this._findInIndex(T.subjects,R,C,null,"subject","predicate","object",F,null,v):C?this._findInIndex(T.predicates,C,x,null,"predicate","object","subject",F,null,v):x?this._findInIndex(T.objects,x,null,null,"object","subject","predicate",F,null,v):this._findInIndex(T.subjects,null,null,null,"subject","predicate","object",F,null,v));return v}_getQuad(u,h,f,g){return this._quads.get(this._toId(u,h,f,g))}_setQuad(u,h,f,g,v){this._quads.set(this._toId(u,h,f,g),v)}_deleteQuad(u,h,f,g){this._quads.delete(this._toId(u,h,f,g))}_createDataset(u){return new this.constructor(u)}_toId(u,h,f,g){return`${u}:${h}:${f}:${g}`}}return vv=c,vv}var bv,WE;function MC(){if(WE)return bv;WE=1;const e=aA(),t=LC();function r(a){return new t(a)}return bv=Object.assign({dataset:r},e),bv}var wv={},ig={},Wy={},JE;function oA(){if(JE)return Wy;JE=1,Object.defineProperty(Wy,"__esModule",{value:!0}),Wy.default=r;let e;const t=new Uint8Array(16);function r(){if(!e&&(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}return Wy}var kd={},ag={},og={},YE;function kC(){if(YE)return og;YE=1,Object.defineProperty(og,"__esModule",{value:!0}),og.default=void 0;var e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return og.default=e,og}var XE;function Nm(){if(XE)return ag;XE=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.default=void 0;var e=t(kC());function t(o){return o&&o.__esModule?o:{default:o}}function r(o){return typeof o=="string"&&e.default.test(o)}var a=r;return ag.default=a,ag}var QE;function Fm(){if(QE)return kd;QE=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.default=void 0,kd.unsafeStringify=a;var e=t(Nm());function t(s){return s&&s.__esModule?s:{default:s}}const r=[];for(let s=0;s<256;++s)r.push((s+256).toString(16).slice(1));function a(s,u=0){return r[s[u+0]]+r[s[u+1]]+r[s[u+2]]+r[s[u+3]]+"-"+r[s[u+4]]+r[s[u+5]]+"-"+r[s[u+6]]+r[s[u+7]]+"-"+r[s[u+8]]+r[s[u+9]]+"-"+r[s[u+10]]+r[s[u+11]]+r[s[u+12]]+r[s[u+13]]+r[s[u+14]]+r[s[u+15]]}function o(s,u=0){const h=a(s,u);if(!(0,e.default)(h))throw TypeError("Stringified UUID is invalid");return h}var c=o;return kd.default=c,kd}var ZE;function BC(){if(ZE)return ig;ZE=1,Object.defineProperty(ig,"__esModule",{value:!0}),ig.default=void 0;var e=r(oA()),t=Fm();function r(f){return f&&f.__esModule?f:{default:f}}let a,o,c=0,s=0;function u(f,g,v){let w=g&&v||0;const S=g||new Array(16);f=f||{};let T=f.node||a,R=f.clockseq!==void 0?f.clockseq:o;if(T==null||R==null){const M=f.random||(f.rng||e.default)();T==null&&(T=a=[M[0]|1,M[1],M[2],M[3],M[4],M[5]]),R==null&&(R=o=(M[6]<<8|M[7])&16383)}let C=f.msecs!==void 0?f.msecs:Date.now(),x=f.nsecs!==void 0?f.nsecs:s+1;const F=C-c+(x-s)/1e4;if(F<0&&f.clockseq===void 0&&(R=R+1&16383),(F<0||C>c)&&f.nsecs===void 0&&(x=0),x>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=C,s=x,o=R,C+=122192928e5;const P=((C&268435455)*1e4+x)%4294967296;S[w++]=P>>>24&255,S[w++]=P>>>16&255,S[w++]=P>>>8&255,S[w++]=P&255;const K=C/4294967296*1e4&268435455;S[w++]=K>>>8&255,S[w++]=K&255,S[w++]=K>>>24&15|16,S[w++]=K>>>16&255,S[w++]=R>>>8|128,S[w++]=R&255;for(let M=0;M<6;++M)S[w+M]=T[M];return g||(0,t.unsafeStringify)(S)}var h=u;return ig.default=h,ig}var sg={},Mu={},lg={},eS;function sA(){if(eS)return lg;eS=1,Object.defineProperty(lg,"__esModule",{value:!0}),lg.default=void 0;var e=t(Nm());function t(o){return o&&o.__esModule?o:{default:o}}function r(o){if(!(0,e.default)(o))throw TypeError("Invalid UUID");let c;const s=new Uint8Array(16);return s[0]=(c=parseInt(o.slice(0,8),16))>>>24,s[1]=c>>>16&255,s[2]=c>>>8&255,s[3]=c&255,s[4]=(c=parseInt(o.slice(9,13),16))>>>8,s[5]=c&255,s[6]=(c=parseInt(o.slice(14,18),16))>>>8,s[7]=c&255,s[8]=(c=parseInt(o.slice(19,23),16))>>>8,s[9]=c&255,s[10]=(c=parseInt(o.slice(24,36),16))/1099511627776&255,s[11]=c/4294967296&255,s[12]=c>>>24&255,s[13]=c>>>16&255,s[14]=c>>>8&255,s[15]=c&255,s}var a=r;return lg.default=a,lg}var tS;function lA(){if(tS)return Mu;tS=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.URL=Mu.DNS=void 0,Mu.default=s;var e=Fm(),t=r(sA());function r(u){return u&&u.__esModule?u:{default:u}}function a(u){u=unescape(encodeURIComponent(u));const h=[];for(let f=0;f<u.length;++f)h.push(u.charCodeAt(f));return h}const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Mu.DNS=o;const c="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Mu.URL=c;function s(u,h,f){function g(v,w,S,T){var R;if(typeof v=="string"&&(v=a(v)),typeof w=="string"&&(w=(0,t.default)(w)),((R=w)===null||R===void 0?void 0:R.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let C=new Uint8Array(16+v.length);if(C.set(w),C.set(v,w.length),C=f(C),C[6]=C[6]&15|h,C[8]=C[8]&63|128,S){T=T||0;for(let x=0;x<16;++x)S[T+x]=C[x];return S}return(0,e.unsafeStringify)(C)}try{g.name=u}catch{}return g.DNS=o,g.URL=c,g}return Mu}var ug={},nS;function jC(){if(nS)return ug;nS=1,Object.defineProperty(ug,"__esModule",{value:!0}),ug.default=void 0;function e(S){if(typeof S=="string"){const T=unescape(encodeURIComponent(S));S=new Uint8Array(T.length);for(let R=0;R<T.length;++R)S[R]=T.charCodeAt(R)}return t(a(o(S),S.length*8))}function t(S){const T=[],R=S.length*32,C="0123456789abcdef";for(let x=0;x<R;x+=8){const F=S[x>>5]>>>x%32&255,P=parseInt(C.charAt(F>>>4&15)+C.charAt(F&15),16);T.push(P)}return T}function r(S){return(S+64>>>9<<4)+14+1}function a(S,T){S[T>>5]|=128<<T%32,S[r(T)-1]=T;let R=1732584193,C=-271733879,x=-1732584194,F=271733878;for(let P=0;P<S.length;P+=16){const K=R,M=C,z=x,J=F;R=h(R,C,x,F,S[P],7,-680876936),F=h(F,R,C,x,S[P+1],12,-389564586),x=h(x,F,R,C,S[P+2],17,606105819),C=h(C,x,F,R,S[P+3],22,-1044525330),R=h(R,C,x,F,S[P+4],7,-176418897),F=h(F,R,C,x,S[P+5],12,1200080426),x=h(x,F,R,C,S[P+6],17,-1473231341),C=h(C,x,F,R,S[P+7],22,-45705983),R=h(R,C,x,F,S[P+8],7,1770035416),F=h(F,R,C,x,S[P+9],12,-1958414417),x=h(x,F,R,C,S[P+10],17,-42063),C=h(C,x,F,R,S[P+11],22,-1990404162),R=h(R,C,x,F,S[P+12],7,1804603682),F=h(F,R,C,x,S[P+13],12,-40341101),x=h(x,F,R,C,S[P+14],17,-1502002290),C=h(C,x,F,R,S[P+15],22,1236535329),R=f(R,C,x,F,S[P+1],5,-165796510),F=f(F,R,C,x,S[P+6],9,-1069501632),x=f(x,F,R,C,S[P+11],14,643717713),C=f(C,x,F,R,S[P],20,-373897302),R=f(R,C,x,F,S[P+5],5,-701558691),F=f(F,R,C,x,S[P+10],9,38016083),x=f(x,F,R,C,S[P+15],14,-660478335),C=f(C,x,F,R,S[P+4],20,-405537848),R=f(R,C,x,F,S[P+9],5,568446438),F=f(F,R,C,x,S[P+14],9,-1019803690),x=f(x,F,R,C,S[P+3],14,-187363961),C=f(C,x,F,R,S[P+8],20,1163531501),R=f(R,C,x,F,S[P+13],5,-1444681467),F=f(F,R,C,x,S[P+2],9,-51403784),x=f(x,F,R,C,S[P+7],14,1735328473),C=f(C,x,F,R,S[P+12],20,-1926607734),R=g(R,C,x,F,S[P+5],4,-378558),F=g(F,R,C,x,S[P+8],11,-2022574463),x=g(x,F,R,C,S[P+11],16,1839030562),C=g(C,x,F,R,S[P+14],23,-35309556),R=g(R,C,x,F,S[P+1],4,-1530992060),F=g(F,R,C,x,S[P+4],11,1272893353),x=g(x,F,R,C,S[P+7],16,-155497632),C=g(C,x,F,R,S[P+10],23,-1094730640),R=g(R,C,x,F,S[P+13],4,681279174),F=g(F,R,C,x,S[P],11,-358537222),x=g(x,F,R,C,S[P+3],16,-722521979),C=g(C,x,F,R,S[P+6],23,76029189),R=g(R,C,x,F,S[P+9],4,-640364487),F=g(F,R,C,x,S[P+12],11,-421815835),x=g(x,F,R,C,S[P+15],16,530742520),C=g(C,x,F,R,S[P+2],23,-995338651),R=v(R,C,x,F,S[P],6,-198630844),F=v(F,R,C,x,S[P+7],10,1126891415),x=v(x,F,R,C,S[P+14],15,-1416354905),C=v(C,x,F,R,S[P+5],21,-57434055),R=v(R,C,x,F,S[P+12],6,1700485571),F=v(F,R,C,x,S[P+3],10,-1894986606),x=v(x,F,R,C,S[P+10],15,-1051523),C=v(C,x,F,R,S[P+1],21,-2054922799),R=v(R,C,x,F,S[P+8],6,1873313359),F=v(F,R,C,x,S[P+15],10,-30611744),x=v(x,F,R,C,S[P+6],15,-1560198380),C=v(C,x,F,R,S[P+13],21,1309151649),R=v(R,C,x,F,S[P+4],6,-145523070),F=v(F,R,C,x,S[P+11],10,-1120210379),x=v(x,F,R,C,S[P+2],15,718787259),C=v(C,x,F,R,S[P+9],21,-343485551),R=c(R,K),C=c(C,M),x=c(x,z),F=c(F,J)}return[R,C,x,F]}function o(S){if(S.length===0)return[];const T=S.length*8,R=new Uint32Array(r(T));for(let C=0;C<T;C+=8)R[C>>5]|=(S[C/8]&255)<<C%32;return R}function c(S,T){const R=(S&65535)+(T&65535);return(S>>16)+(T>>16)+(R>>16)<<16|R&65535}function s(S,T){return S<<T|S>>>32-T}function u(S,T,R,C,x,F){return c(s(c(c(T,S),c(C,F)),x),R)}function h(S,T,R,C,x,F,P){return u(T&R|~T&C,S,T,x,F,P)}function f(S,T,R,C,x,F,P){return u(T&C|R&~C,S,T,x,F,P)}function g(S,T,R,C,x,F,P){return u(T^R^C,S,T,x,F,P)}function v(S,T,R,C,x,F,P){return u(R^(T|~C),S,T,x,F,P)}var w=e;return ug.default=w,ug}var rS;function HC(){if(rS)return sg;rS=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.default=void 0;var e=r(lA()),t=r(jC());function r(c){return c&&c.__esModule?c:{default:c}}var o=(0,e.default)("v3",48,t.default);return sg.default=o,sg}var cg={},fg={},iS;function VC(){if(iS)return fg;iS=1,Object.defineProperty(fg,"__esModule",{value:!0}),fg.default=void 0;var t={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return fg.default=t,fg}var aS;function $C(){if(aS)return cg;aS=1,Object.defineProperty(cg,"__esModule",{value:!0}),cg.default=void 0;var e=a(VC()),t=a(oA()),r=Fm();function a(s){return s&&s.__esModule?s:{default:s}}function o(s,u,h){if(e.default.randomUUID&&!u&&!s)return e.default.randomUUID();s=s||{};const f=s.random||(s.rng||t.default)();if(f[6]=f[6]&15|64,f[8]=f[8]&63|128,u){h=h||0;for(let g=0;g<16;++g)u[h+g]=f[g];return u}return(0,r.unsafeStringify)(f)}var c=o;return cg.default=c,cg}var dg={},hg={},oS;function KC(){if(oS)return hg;oS=1,Object.defineProperty(hg,"__esModule",{value:!0}),hg.default=void 0;function e(o,c,s,u){switch(o){case 0:return c&s^~c&u;case 1:return c^s^u;case 2:return c&s^c&u^s&u;case 3:return c^s^u}}function t(o,c){return o<<c|o>>>32-c}function r(o){const c=[1518500249,1859775393,2400959708,3395469782],s=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof o=="string"){const g=unescape(encodeURIComponent(o));o=[];for(let v=0;v<g.length;++v)o.push(g.charCodeAt(v))}else Array.isArray(o)||(o=Array.prototype.slice.call(o));o.push(128);const u=o.length/4+2,h=Math.ceil(u/16),f=new Array(h);for(let g=0;g<h;++g){const v=new Uint32Array(16);for(let w=0;w<16;++w)v[w]=o[g*64+w*4]<<24|o[g*64+w*4+1]<<16|o[g*64+w*4+2]<<8|o[g*64+w*4+3];f[g]=v}f[h-1][14]=(o.length-1)*8/Math.pow(2,32),f[h-1][14]=Math.floor(f[h-1][14]),f[h-1][15]=(o.length-1)*8&4294967295;for(let g=0;g<h;++g){const v=new Uint32Array(80);for(let x=0;x<16;++x)v[x]=f[g][x];for(let x=16;x<80;++x)v[x]=t(v[x-3]^v[x-8]^v[x-14]^v[x-16],1);let w=s[0],S=s[1],T=s[2],R=s[3],C=s[4];for(let x=0;x<80;++x){const F=Math.floor(x/20),P=t(w,5)+e(F,S,T,R)+C+c[F]+v[x]>>>0;C=R,R=T,T=t(S,30)>>>0,S=w,w=P}s[0]=s[0]+w>>>0,s[1]=s[1]+S>>>0,s[2]=s[2]+T>>>0,s[3]=s[3]+R>>>0,s[4]=s[4]+C>>>0}return[s[0]>>24&255,s[0]>>16&255,s[0]>>8&255,s[0]&255,s[1]>>24&255,s[1]>>16&255,s[1]>>8&255,s[1]&255,s[2]>>24&255,s[2]>>16&255,s[2]>>8&255,s[2]&255,s[3]>>24&255,s[3]>>16&255,s[3]>>8&255,s[3]&255,s[4]>>24&255,s[4]>>16&255,s[4]>>8&255,s[4]&255]}var a=r;return hg.default=a,hg}var sS;function GC(){if(sS)return dg;sS=1,Object.defineProperty(dg,"__esModule",{value:!0}),dg.default=void 0;var e=r(lA()),t=r(KC());function r(c){return c&&c.__esModule?c:{default:c}}var o=(0,e.default)("v5",80,t.default);return dg.default=o,dg}var pg={},lS;function qC(){if(lS)return pg;lS=1,Object.defineProperty(pg,"__esModule",{value:!0}),pg.default=void 0;var e="00000000-0000-0000-0000-000000000000";return pg.default=e,pg}var gg={},uS;function zC(){if(uS)return gg;uS=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.default=void 0;var e=t(Nm());function t(o){return o&&o.__esModule?o:{default:o}}function r(o){if(!(0,e.default)(o))throw TypeError("Invalid UUID");return parseInt(o.slice(14,15),16)}var a=r;return gg.default=a,gg}var cS;function Lb(){return cS||(cS=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.default}});var t=g(BC()),r=g(HC()),a=g($C()),o=g(GC()),c=g(qC()),s=g(zC()),u=g(Nm()),h=g(Fm()),f=g(sA());function g(v){return v&&v.__esModule?v:{default:v}}}(wv)),wv}var fS;function WC(){if(fS)return it;fS=1;var e=oC(),t=Ca(),r=Ib(),a=Ab(),o=OC,c=aA(),s=MC(),u=Lb();function h(d){const y=d;return typeof y=="object"&&typeof y.internal_resourceInfo=="object"}function f(d){const y=d;return typeof y=="object"&&typeof y.internal_resourceInfo=="object"&&typeof y.internal_resourceInfo.linkedResources=="object"}function g(d){const y=d;return typeof y.internal_changeLog=="object"&&Array.isArray(y.internal_changeLog.additions)&&Array.isArray(y.internal_changeLog.deletions)}class v extends Error{}function w(d){return typeof d=="string"?d:d.value}const S=r.fetch.bind(globalThis);function T(d){var y,_,I,L,W;const ee=(_=(y=d.headers.get("Content-Type"))===null||y===void 0?void 0:y.split(";"))!==null&&_!==void 0?_:[],he=ee.length>0&&["text/turtle","application/ld+json"].includes(ee[0]),Be={sourceIri:d.url,isRawData:!he,contentLocation:(I=d.headers.get("Content-Location"))!==null&&I!==void 0?I:void 0,contentType:(L=d.headers.get("Content-Type"))!==null&&L!==void 0?L:void 0,linkedResources:{},location:(W=d.headers.get("Location"))!==null&&W!==void 0?W:void 0},Ke=d.headers.get("Link");if(Ke){const Mt=a.parse(Ke),Kt=Mt.get("rel","acl");Kt.length===1&&(Be.aclUrl=new URL(Kt[0].uri,Be.sourceIri).href),Be.linkedResources=Mt.refs.reduce((rn,Nn)=>{var ur,Yn;return(ur=rn[Yn=Nn.rel])!==null&&ur!==void 0||(rn[Yn]=[]),rn[Nn.rel].push(new URL(Nn.uri,Be.sourceIri).href),rn},Be.linkedResources)}const Ze=d.headers.get("WAC-Allow");return Ze&&(Be.permissions=R(Ze)),Be}function R(d){function y(I){const L=I.split(" ");return L.includes("write")?{read:L.includes("read"),append:!0,write:!0,control:L.includes("control")}:{read:L.includes("read"),append:L.includes("append"),write:!1,control:L.includes("control")}}function _(I,L){const W=I.split(",").map(he=>he.split("=")).filter(he=>he.length===2&&he[0].trim()===L);if(W.length!==1)return"";const ee=W[0][1].trim();return ee.charAt(0)!=='"'||ee.charAt(ee.length-1)!=='"'?"":ee.substring(1,ee.length-1)}return{user:y(_(d,"user")),public:y(_(d,"public"))}}function C(d){let y;return typeof d.slice=="function"?y=Object.assign(d.slice(),{...d}):y={...d},y}function x(d){return!d.ok}function F(d){return d.status===401||d.status===403}const P={Authorization:"http://www.w3.org/ns/auth/acl#Authorization",accessTo:"http://www.w3.org/ns/auth/acl#accessTo",agent:"http://www.w3.org/ns/auth/acl#agent",agentGroup:"http://www.w3.org/ns/auth/acl#agentGroup",agentClass:"http://www.w3.org/ns/auth/acl#agentClass",default:"http://www.w3.org/ns/auth/acl#default",defaultForNew:"http://www.w3.org/ns/auth/acl#defaultForNew",mode:"http://www.w3.org/ns/auth/acl#mode",origin:"http://www.w3.org/ns/auth/acl#origin"},K={type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"},M={seeAlso:"http://www.w3.org/2000/01/rdf-schema#seeAlso"},z={BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",Resource:"http://www.w3.org/ns/ldp#Resource",contains:"http://www.w3.org/ns/ldp#contains"},J={Agent:"http://xmlns.com/foaf/0.1/Agent",primaryTopic:"http://xmlns.com/foaf/0.1/primaryTopic",isPrimaryTopicOf:"http://xmlns.com/foaf/0.1/isPrimaryTopicOf"},q={AccessControlResource:"http://www.w3.org/ns/solid/acp#AccessControlResource",Policy:"http://www.w3.org/ns/solid/acp#Policy",AccessControl:"http://www.w3.org/ns/solid/acp#AccessControl",Read:"http://www.w3.org/ns/solid/acp#Read",Append:"http://www.w3.org/ns/solid/acp#Append",Write:"http://www.w3.org/ns/solid/acp#Write",Rule:"http://www.w3.org/ns/solid/acp#Rule",Matcher:"http://www.w3.org/ns/solid/acp#Matcher",accessControl:"http://www.w3.org/ns/solid/acp#accessControl",apply:"http://www.w3.org/ns/solid/acp#apply",applyMembers:"http://www.w3.org/ns/solid/acp#applyMembers",allow:"http://www.w3.org/ns/solid/acp#allow",deny:"http://www.w3.org/ns/solid/acp#deny",allOf:"http://www.w3.org/ns/solid/acp#allOf",anyOf:"http://www.w3.org/ns/solid/acp#anyOf",noneOf:"http://www.w3.org/ns/solid/acp#noneOf",access:"http://www.w3.org/ns/solid/acp#access",accessMembers:"http://www.w3.org/ns/solid/acp#accessMembers",agent:"http://www.w3.org/ns/solid/acp#agent",group:"http://www.w3.org/ns/solid/acp#group",client:"http://www.w3.org/ns/solid/acp#client",PublicAgent:"http://www.w3.org/ns/solid/acp#PublicAgent",AuthenticatedAgent:"http://www.w3.org/ns/solid/acp#AuthenticatedAgent",CreatorAgent:"http://www.w3.org/ns/solid/acp#CreatorAgent"},Fe={PublicOidcClient:"http://www.w3.org/ns/solid/terms#PublicOidcClient"},$={publicKey:"https://w3id.org/security#publicKey"},ie={storage:"http://www.w3.org/ns/pim/space#storage"},ge={fetch:S};async function Ee(d,y={...ge,ignoreAuthenticationErrors:!1}){var _;const L=await{...ge,...y}.fetch(d,{method:"HEAD"});return tt(L,{ignoreAuthenticationErrors:(_=y.ignoreAuthenticationErrors)!==null&&_!==void 0?_:!1})}function tt(d,y={ignoreAuthenticationErrors:!1}){if(x(d)&&(!F(d)||!y.ignoreAuthenticationErrors))throw new st(`Fetching the metadata of the Resource at [${d.url}] failed: [${d.status}] [${d.statusText}].`,d);return{internal_resourceInfo:T(d)}}function ct(d){return(h(d)?de(d):w(d)).endsWith("/")}function Ie(d){return d.internal_resourceInfo.isRawData}function ht(d){var y;return(y=d.internal_resourceInfo.contentType)!==null&&y!==void 0?y:null}function de(d){return h(d)?d.internal_resourceInfo.sourceIri:null}const nt=de;function Y(d){var y;if(!f(d))return null;const _=(y=Qe(d)["http://www.w3.org/ns/solid/terms#podOwner"])!==null&&y!==void 0?y:[];return _.length===1?_[0]:null}function Re(d,y){const _=Y(y);return typeof _!="string"?null:_===d}function Qe(d){return d.internal_resourceInfo.linkedResources}function He(d){var y,_,I,L,W,ee,he;if(typeof d.internal_resourceInfo.permissions=="object")return{user:{read:d.internal_resourceInfo.permissions.user.read,append:d.internal_resourceInfo.permissions.user.append,write:d.internal_resourceInfo.permissions.user.write},public:{read:d.internal_resourceInfo.permissions.public.read,append:d.internal_resourceInfo.permissions.public.append,write:d.internal_resourceInfo.permissions.public.write}};const Be=Qe(d);return{user:{read:(_=(y=Be[q.allow])===null||y===void 0?void 0:y.includes(q.Read))!==null&&_!==void 0?_:!1,append:(W=((I=Be[q.allow])===null||I===void 0?void 0:I.includes(q.Append))||((L=Be[q.allow])===null||L===void 0?void 0:L.includes(q.Write)))!==null&&W!==void 0?W:!1,write:(he=(ee=Be[q.allow])===null||ee===void 0?void 0:ee.includes(q.Write))!==null&&he!==void 0?he:!1}}}class st extends v{get statusCode(){return this.response.status}get statusText(){return this.response.statusText}constructor(y,_){super(y),this.response=_}}const It=()=>{const d=[],y=[],_=[];return{onQuad:I=>{d.push(I)},onError:I=>{_.push(I)},onComplete:I=>{y.push(I)},parse:async(I,L)=>new Promise(W=>{const ee=new e.JsonLdParser({baseIRI:de(L),documentLoader:new t.FetchDocumentLoader(S)});let he=!1;function Be(){he||(he=!0,y.forEach(Ke=>Ke()),W())}ee.on("end",Be),ee.on("error",Ke=>{_.forEach(Ze=>Ze(Ke)),Be()}),d.forEach(Ke=>ee.on("data",Ke)),ee.write(I),ee.end()})}};s.dataset;const kt="https://inrupt.com/.well-known/sdk-local-node/",{freeze:ke}=Object;function le(d){return d.substring(0,kt.length)===kt}function Ce(d){return d.substring(kt.length)}function Ye(d){return`${kt}${d}`}function oe(d){return typeof d=="string"&&d.substring(0,2)==="_:"}function k(d){return d.substring(2)}function D(d){return`_:${d.value}`}const G={boolean:"http://www.w3.org/2001/XMLSchema#boolean",dateTime:"http://www.w3.org/2001/XMLSchema#dateTime",date:"http://www.w3.org/2001/XMLSchema#date",time:"http://www.w3.org/2001/XMLSchema#time",decimal:"http://www.w3.org/2001/XMLSchema#decimal",integer:"http://www.w3.org/2001/XMLSchema#integer",string:"http://www.w3.org/2001/XMLSchema#string",langString:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"};function ne(d){return d?"true":"false"}function _e(d){return d==="true"||d==="1"?!0:d==="false"||d==="0"?!1:null}function Oe(d){let y,_;if(d.millisecond&&(d.millisecond<10?y=`00${d.millisecond}`:d.millisecond<100?y=`0${d.millisecond}`:y=d.millisecond),typeof d.timezoneHourOffset=="number"){const I=Math.abs(d.timezoneHourOffset)<10?`0${Math.abs(d.timezoneHourOffset)}`:Math.abs(d.timezoneHourOffset);_=d.timezoneHourOffset>=0?`+${I}`:`-${I}`,d.timezoneMinuteOffset?_=`${_}:${d.timezoneMinuteOffset<10?`0${d.timezoneMinuteOffset}`:d.timezoneMinuteOffset}`:_+=":00"}return`${d.hour<10?`0${d.hour}`:d.hour}:${d.minute<10?`0${d.minute}`:d.minute}:${d.second<10?`0${d.second}`:d.second}${d.millisecond?`.${y}`:""}${_||""}`}function lt(d){if(!/\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(d))return null;const[_,I]=Xe(d),[L,W,ee]=_.split(":");let he=Number.parseInt(L,10),Be=Number.parseInt(W,10);const[Ke,Ze]=ee.split("."),Mt=Number.parseInt(Ke,10),Kt=Ze?Number.parseInt(Ze,10):void 0;Be>=60&&(he+=1,Be-=60);const rn={hour:he,minute:Be,second:Mt};if(typeof Kt=="number"&&(rn.millisecond=Kt),typeof I=="string"){const[Nn,ur]=ze(I);if(typeof Nn!="number"||Nn>24||typeof ur!="number"||ur>59)return null;rn.timezoneHourOffset=Nn,rn.timezoneMinuteOffset=ur}return rn}function Te(d){return d.toISOString()}function yt(d){if(!/-?\d{4,}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(d))return null;const[_,I]=d.split("T"),[L,W]=_.charAt(0)==="-"?[-1,_.substring(1)]:[1,_],[ee,he,Be]=W.split("-"),Ke=Number.parseInt(ee,10)*L,Ze=Number.parseInt(he,10)-1,Mt=Number.parseInt(Be,10),[Kt,rn]=Xe(I),[Nn,ur]=typeof rn=="string"?ze(rn):[0,0],[Yn,Ga,$r]=Kt.split(":"),An=Number.parseInt(Yn,10)+Nn,ki=Number.parseInt(Ga,10)+ur,[wi,sa]=$r.split("."),Bi=Number.parseInt(wi,10),Ts=sa?Number.parseInt(sa,10):0,co=new Date(Date.UTC(Ke,Ze,Mt,An,ki,Bi,Ts));return Ke>=0&&Ke<100&&co.setUTCFullYear(co.getUTCFullYear()-1900),co}function Ot(d){const y=d.getFullYear(),_=d.getMonth()+1,I=d.getDate(),[,L]=Xe(d.toISOString());return`${y}-${String(_).padStart(2,"0")}-${String(I).padStart(2,"0")}${L}`}function wt(d){if(!/-?\d{4,}-\d\d-\d\d(Z|(\+|-)\d\d:\d\d)?/.test(d))return null;const _=d,[I,L]=_.charAt(0)==="-"?[-1,_.substring(1)]:[1,_],[W,ee,he]=L.split("-"),Be=he.length>2?he.substring(0,2):he,Ke=Number.parseInt(W,10)*I,Ze=Number.parseInt(ee,10)-1,Mt=Number.parseInt(Be,10),Kt=12,rn=new Date(Date.UTC(Ke,Ze,Mt,Kt));return Ke>=0&&Ke<100&&rn.setUTCFullYear(rn.getUTCFullYear()-1900),rn}function Xe(d){if(d.endsWith("Z"))return[d.substring(0,d.length-1),"Z"];const y=d.split("+"),_=d.split("-");return y.length===1&&_.length===1?[y[0],void 0]:y.length>_.length?[y[0],`+${y[1]}`]:[_[0],`-${_[1]}`]}function ze(d){if(d==="Z")return[0,0];const y=d.charAt(0)==="+"?1:-1,[_,I]=d.substring(1).split(":"),L=Number.parseInt(_,10),W=Number.parseInt(I,10);return[L*y,W*y]}function Pe(d){return d.toString()}function ft(d){const y=Number.parseFloat(d);return Number.isNaN(y)?null:y}function X(d){return d.toString()}function B(d){const y=Number.parseInt(d,10);return Number.isNaN(y)?null:y}function V(d){return d.toLowerCase()}function H(d){return rt(d)&&d.termType==="NamedNode"}function We(d){return rt(d)&&d.termType==="Literal"}function rt(d){return d!==null&&typeof d=="object"&&typeof d.termType=="string"&&typeof d.value=="string"&&typeof d.equals=="function"}function Je(d){return H(d)&&le(d.value)}function Yt(d){const y=w(d);if(typeof URL!="function")return!0;try{return new URL(y),!0}catch{return!1}}function jn(d,y){return sn.namedNode(Vn(Ce(d.value),y))}function Vn(d,y){if(typeof URL!="function")throw new Error("The URL interface is not available, so an IRI cannot be determined.");const _=new URL(y);return _.hash=d,_.href}const sn=c;function Ge(d,y,_={}){var I;if(!["NamedNode","DefaultGraph"].includes(y.graph.termType))throw new Error(`Cannot parse Quads with nodes of type [${y.graph.termType}] as their Graph node.`);const W=y.graph.termType==="DefaultGraph"?"default":y.graph.value,ee=(I=d.graphs[W])!==null&&I!==void 0?I:{};return ke({...d,graphs:ke({...d.graphs,[W]:bt(ee,y,_)})})}function bt(d,y,_){var I;if(!["NamedNode","BlankNode"].includes(y.subject.termType))throw new Error(`Cannot parse Quads with nodes of type [${y.subject.termType}] as their Subject node.`);const W=y.subject.termType==="BlankNode"?`_:${y.subject.value}`:y.subject.value,ee=(I=d[W])!==null&&I!==void 0?I:{type:"Subject",url:W,predicates:{}};return ke({...d,[W]:ut(ee,y,_)})}function ut(d,y,_){return ke({...d,predicates:Me(d.predicates,y,_)})}function Me(d,y,_){var I;if(!["NamedNode"].includes(y.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${y.predicate.termType}] as their Predicate node.`);const W=y.predicate.value,ee=(I=d[W])!==null&&I!==void 0?I:{};return ke({...d,[W]:pt(ee,y,_)})}function pt(d,y,_){var I,L,W,ee,he,Be,Ke,Ze;if(y.object.termType==="NamedNode"){const Mt=ke([...(I=d.namedNodes)!==null&&I!==void 0?I:[],y.object.value]);return ke({...d,namedNodes:Mt})}if(y.object.termType==="Literal"){if(y.object.datatype.value===G.langString){const rn=y.object.language.toLowerCase(),Nn=ke([...(W=(L=d.langStrings)===null||L===void 0?void 0:L[rn])!==null&&W!==void 0?W:[],y.object.value]),ur=ke({...(ee=d.langStrings)!==null&&ee!==void 0?ee:{},[rn]:Nn});return ke({...d,langStrings:ur})}const Mt=ke([...(Be=(he=d.literals)===null||he===void 0?void 0:he[y.object.datatype.value])!==null&&Be!==void 0?Be:[],y.object.value]),Kt=ke({...(Ke=d.literals)!==null&&Ke!==void 0?Ke:{},[y.object.datatype.value]:Mt});return ke({...d,literals:Kt})}if(y.object.termType==="BlankNode"){const Mt=Qt(y.object,_),Kt=ke([...(Ze=d.blankNodes)!==null&&Ze!==void 0?Ze:[],Mt]);return ke({...d,blankNodes:Kt})}throw new Error(`Objects of type [${y.object.termType}] are not supported.`)}function Qt(d,y){var _,I;if(((_=y.chainBlankNodes)!==null&&_!==void 0?_:[]).find(Ke=>Ke.equals(d))===void 0)return D(d);const ee=((I=y.otherQuads)!==null&&I!==void 0?I:[]).filter(Ke=>Ke.subject.equals(d)),he=ee.filter(Ke=>!ye(Ke.object)).reduce((Ke,Ze)=>{var Mt;if(!["NamedNode"].includes(Ze.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${Ze.predicate.termType}] as their Predicate node.`);const rn=(Mt=Ke[Ze.predicate.value])!==null&&Mt!==void 0?Mt:{};return ke({...Ke,[Ze.predicate.value]:pt(rn,Ze,y)})},{});return ee.filter(Ke=>ye(Ke.object)).reduce((Ke,Ze)=>{var Mt,Kt;if(!["NamedNode"].includes(Ze.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${Ze.predicate.termType}] as their Predicate node.`);const Nn=(Mt=Ke[Ze.predicate.value])!==null&&Mt!==void 0?Mt:{},ur=(Kt=Nn.blankNodes)!==null&&Kt!==void 0?Kt:[];return ke({...Ke,[Ze.predicate.value]:{...Nn,blankNodes:[...ur,Qt(Ze.object,y)]}})},he)}function zt(d){const y=d.map(ee=>ee.subject).filter(ye),_=d.map(ee=>ee.object).filter(ye);function I(ee){return ee.every(he=>ee.every(Be=>he.equals(Be)))}const L=[];return _.forEach(ee=>{L.push(...ue(ee,d))}),y.concat(_).filter(ee=>{if(L.some(Be=>Be.equals(ee)))return!1;const he=d.filter(Be=>Be.object.equals(ee)).map(Be=>Be.subject);return he.length>0&&I(he)})}function tn(d,y={}){var _;const I=[],L=(_=y.dataFactory)!==null&&_!==void 0?_:c;return Object.keys(d.graphs).forEach(W=>{const ee=d.graphs[W],he=W==="default"?L.defaultGraph():L.namedNode(W);Object.keys(ee).forEach(Be=>{const{predicates:Ke}=ee[Be],Ze=oe(Be)?L.blankNode(k(Be)):L.namedNode(Be);I.push(...Ht(Ke,Ze,he,y))})}),I}function Ht(d,y,_,I={}){var L;const W=[],ee=(L=I.dataFactory)!==null&&L!==void 0?L:c;return Object.keys(d).forEach(he=>{var Be,Ke,Ze,Mt;const Kt=ee.namedNode(he),rn=(Be=d[he].langStrings)!==null&&Be!==void 0?Be:{},Nn=(Ke=d[he].namedNodes)!==null&&Ke!==void 0?Ke:[],ur=(Ze=d[he].literals)!==null&&Ze!==void 0?Ze:{},Yn=(Mt=d[he].blankNodes)!==null&&Mt!==void 0?Mt:[];Object.keys(ur).forEach(An=>{const ki=ee.namedNode(An);ur[An].forEach(sa=>{const Bi=ee.literal(sa,ki);W.push(ee.quad(y,Kt,Bi,_))})}),Object.keys(rn).forEach(An=>{rn[An].forEach(wi=>{const sa=ee.literal(wi,An);W.push(ee.quad(y,Kt,sa,_))})}),Nn.forEach(An=>{const ki=ee.namedNode(An);W.push(ee.quad(y,Kt,ki,_))}),Yn.forEach(An=>{if(oe(An)){const ki=ee.blankNode(k(An));W.push(ee.quad(y,Kt,ki,_))}else{const ki=ee.blankNode(),wi=ee.quad(y,Kt,ki,_),sa=Ht(An,ki,_);W.push(wi),W.push(...sa)}})}),W}function ue(d,y,_=[]){if(_.find(he=>he.equals(d))!==void 0)return _;const I=y.filter(he=>he.subject.equals(d)&&ye(he.object)).map(he=>he.object);if(I.length===0)return[];const L=[..._,d],W=I.map(he=>ue(he,y,L)),ee=[];for(const he of W)ee.push(...he);return ee}function ye(d){return d.termType==="BlankNode"}const Ct=()=>{const d=[],y=[],_=[];return{onQuad:I=>{d.push(I)},onError:I=>{_.push(I)},onComplete:I=>{y.push(I)},parse:async(I,L)=>{(await Tt(de(L))).parse(I,(ee,he)=>{ee?_.forEach(Be=>Be(ee)):he?d.forEach(Be=>Be(he)):y.forEach(Be=>Be())})}}};async function Tt(d){return new o.Parser({format:"text/turtle",baseIRI:d})}async function Nt(d,y){const _="text/turtle",I=new o.Writer({format:_,prefixes:y?.prefixes}),L=d.map(he=>sn.quad(he.subject,he.predicate,he.object,void 0));return I.addQuads(L),await new Promise((he,Be)=>{I.end((Ke,Ze)=>{Ke?Be(Ke):he(Ze)})})}const Zt={acl:"http://www.w3.org/ns/auth/acl#",acp:"http://www.w3.org/ns/solid/acp#",cc:"http://creativecommons.org/ns#",cert:"http://www.w3.org/ns/auth/cert#",csvw:"http://www.w3.org/ns/csvw#",current:"#",dc:"http://purl.org/dc/terms/",dcam:"http://purl.org/dc/dcam/",dcat:"http://www.w3.org/ns/dcat#",dctype:"http://purl.org/dc/dcmitype/",foaf:"http://xmlns.com/foaf/0.1/",ldp:"http://www.w3.org/ns/ldp#",owl:"http://www.w3.org/2002/07/owl#",posixstat:"http://www.w3.org/ns/posix/stat#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"https://schema.org/",shacl:"http://www.w3.org/ns/shacl#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",solid:"http://www.w3.org/ns/solid/terms#",swapdoc:"http://www.w3.org/2000/10/swap/pim/doc#",ui:"http://www.w3.org/ns/ui#",vann:"http://purl.org/vocab/vann/",vcard:"http://www.w3.org/2006/vcard/ns#",ws:"http://www.w3.org/ns/pim/space#",xsd:"http://www.w3.org/2001/XMLSchema#"},nn=s.dataset;function Dn(d){const y={graphs:{default:{}},type:"Dataset"},_=Array.from(d),I=zt(_);return _.filter(W=>I.every(ee=>!ee.equals(W.subject))).reduce((W,ee)=>Ge(W,ee,{otherQuads:_,chainBlankNodes:I}),y)}function $t(d,y={}){var _,I;return((I=(_=y.datasetFactory)===null||_===void 0?void 0:_.dataset)!==null&&I!==void 0?I:nn)(tn(d,y))}async function en(d,y){const{prefixes:_=Zt,thing:I}={...y},L=new o.Writer({format:"application/turtle",prefixes:_}),W=I?new o.NamedNode(I):void 0;for(const ee of $t(d).match(W))L.addQuad(ee);return new Promise((ee,he)=>{L.end((Be,Ke)=>{Be?he(Be):ee(Ke)})})}var vn=Object.freeze({__proto__:null,getJsonLdParser:It,getTurtleParser:Ct,solidDatasetAsTurtle:en});const on={fetch:S},Un=["Slug","If-None-Match","Content-Type"];function xn(d){return Un.some(y=>d[y]!==void 0)}async function qn(d,y=on){const _={...on,...y},I=w(d),L=await _.fetch(I,_.init);if(x(L))throw new st(`Fetching the File failed: [${L.status}] [${L.statusText}] ${await L.text()}.`,L);const W=T(L),ee=await L.blob();return Object.assign(ee,{internal_resourceInfo:W})}async function yn(d,y=on){const _={...on,...y},I=h(d)?w(nt(d)):w(d),L=await _.fetch(I,{..._.init,method:"DELETE"});if(x(L))throw new st(`Deleting the file at [${I}] failed: [${L.status}] [${L.statusText}] ${await L.text()}.`,L)}async function ln(d,y,_=on){const I=w(d),L=await Ln(I,y,"POST",_);if(x(L))throw new st(`Saving the file in [${d}] failed: [${L.status}] [${L.statusText}] ${await L.text()}.`,L);const W=L.headers.get("Location");if(W===null)throw new Error("Could not determine the location of the newly saved file.");const ee=new URL(W,new URL(I).origin).href,he=C(y),Be={internal_resourceInfo:{isRawData:!0,sourceIri:ee,contentType:Ar(y,_.contentType)}};return Object.assign(he,Be)}async function Gt(d,y,_=on){const I=w(d),L=await Ln(I,y,"PUT",_);if(x(L))throw new st(`Overwriting the file at [${I}] failed: [${L.status}] [${L.statusText}] ${await L.text()}.`,L);const W=C(y),ee=T(L);return ee.sourceIri=I,ee.isRawData=!0,Object.assign(W,{internal_resourceInfo:ee})}function Xn(d){return Array.isArray(d)}function Or(d){return typeof d.forEach=="function"}function fr(d){if(typeof d>"u")return{};let y={};return Xn(d)?d.forEach(([_,I])=>{y[_]=I}):Or(d)?d.forEach((_,I)=>{y[I]=_}):y=d,y}async function Ln(d,y,_,I){var L,W;const ee={...on,...I},he=fr((W=(L=ee.init)===null||L===void 0?void 0:L.headers)!==null&&W!==void 0?W:{});if(xn(he))throw new Error(`No reserved header (${Un.join(", ")}) should be set in the optional RequestInit.`);ee.slug!==void 0&&(he.Slug=ee.slug),he["Content-Type"]=Ar(y,I.contentType);const Be=w(d);return ee.fetch(Be,{...ee.init,headers:he,method:_,body:y})}function Ar(d,y){if(typeof y=="string")return y;const _=typeof d=="object"&&d!==null&&"type"in d&&typeof d.type=="string"&&d.type.length>0?d.type:void 0;return _??"application/octet-stream"}function Mr(d){var y,_,I,L,W,ee,he,Be;if(H(d))return`<${d.value}> (URL)`;if(We(d)){if(!H(d.datatype))return`[${d.value}] (RDF/JS Literal of unknown type)`;let Ke;switch(d.datatype.value){case G.boolean:return Ke=(_=(y=_e(d.value))===null||y===void 0?void 0:y.valueOf())!==null&&_!==void 0?_:`Invalid data: \`${d.value}\``,`${Ke} (boolean)`;case G.dateTime:return Ke=(L=(I=yt(d.value))===null||I===void 0?void 0:I.toUTCString())!==null&&L!==void 0?L:`Invalid data: \`${d.value}\``,`${Ke} (datetime)`;case G.decimal:return Ke=(ee=(W=ft(d.value))===null||W===void 0?void 0:W.toString())!==null&&ee!==void 0?ee:`Invalid data: \`${d.value}\``,`${Ke} (decimal)`;case G.integer:return Ke=(Be=(he=B(d.value))===null||he===void 0?void 0:he.toString())!==null&&Be!==void 0?Be:`Invalid data: \`${d.value}\``,`${Ke} (integer)`;case G.langString:return`"${d.value}" (${d.language} string)`;case G.string:return`"${d.value}" (string)`;default:return`[${d.value}] (RDF/JS Literal of type: \`${d.datatype.value}\`)`}}return d.termType==="BlankNode"?`[${d.value}] (RDF/JS BlankNode)`:d.termType==="Quad"?"??? (nested RDF* Quad)":d.termType==="Variable"?`?${d.value} (RDF/JS Variable)`:d}function cn(d){if(!tr(d))throw new ta(d)}function fi(d,y){const _=g(d)?d.internal_changeLog:{additions:[],deletions:[]},[I,L]=y.filter(W=>!di(W)).reduce(([W,ee],he)=>typeof ee.find(Ke=>Ke.equals(he))<"u"?[W,ee.filter(Ke=>!Ke.equals(he))]:[W.concat(he),ee],[_.additions,_.deletions]);return ke({...d,internal_changeLog:{additions:I,deletions:L}})}function Tr(d,y){const _=g(d)?d.internal_changeLog:{additions:[],deletions:[]},[I,L]=y.filter(W=>!di(W)).reduce(([W,ee],he)=>typeof W.find(Ke=>Ke.equals(he))<"u"?[W.filter(Ke=>!Ke.equals(he)),ee]:[W,ee.concat(he)],[_.additions,_.deletions]);return ke({...d,internal_changeLog:{additions:I,deletions:L}})}function Ki(d){return g(d)?d:ke({...d,internal_changeLog:{additions:[],deletions:[]}})}function di(d){return d.subject.termType==="BlankNode"||d.object.termType==="BlankNode"}function Ia(d){return Object.keys(d.predicates).filter(y=>zn(d,y)!==null)}function ea(d,y){var _,I,L;if(cn(d),!Yt(y))throw new Pr(y);const W=w(y),ee=(L=(I=(_=d.predicates[W])===null||_===void 0?void 0:_.namedNodes)===null||I===void 0?void 0:I[0])!==null&&L!==void 0?L:null;return ee===null?null:le(ee)?`#${Ce(ee)}`:ee}const hi=ea;function b(d,y){var _,I,L;if(cn(d),!Yt(y))throw new Pr(y);const W=w(y);return(L=(I=(_=d.predicates[W])===null||_===void 0?void 0:_.namedNodes)===null||I===void 0?void 0:I.map(ee=>le(ee)?`#${Ce(ee)}`:ee))!==null&&L!==void 0?L:[]}const m=b;function E(d,y){cn(d);const _=gn(d,y,G.boolean);return _===null?null:_e(_)}function O(d,y){return cn(d),nr(d,y,G.boolean).map(_e).filter(I=>I!==null)}function j(d,y){cn(d);const _=gn(d,y,G.dateTime);return _===null?null:yt(_)}function Q(d,y){return cn(d),nr(d,y,G.dateTime).map(yt).filter(I=>I!==null)}function se(d,y){cn(d);const _=gn(d,y,G.date);return _===null?null:wt(_)}function we(d,y){return cn(d),nr(d,y,G.date).map(wt).filter(I=>I!==null)}function pe(d,y){cn(d);const _=gn(d,y,G.time);return _===null?null:lt(_)}function be(d,y){return cn(d),nr(d,y,G.time).map(lt).filter(I=>I!==null)}function Ae(d,y){cn(d);const _=gn(d,y,G.decimal);return _===null?null:ft(_)}function xe(d,y){return cn(d),nr(d,y,G.decimal).map(I=>ft(I)).filter(I=>I!==null)}function Ue(d,y){cn(d);const _=gn(d,y,G.integer);return _===null?null:B(_)}function qe(d,y){return cn(d),nr(d,y,G.integer).map(I=>B(I)).filter(I=>I!==null)}function at(d,y){return mt(d,y,"en")}function mt(d,y,_){var I,L;if(cn(d),!Yt(y))throw new Pr(y);const W=w(y),ee=(L=(I=d.predicates[W])===null||I===void 0?void 0:I.langStrings)!==null&&L!==void 0?L:{},Be=Object.keys(ee).find(Ke=>Ke.toLowerCase()===_.toLowerCase()&&Array.isArray(ee[Ke])&&ee[Ke].length>0);return typeof Be=="string"?ee[Be][0]:null}function St(d,y){return ae(d,y,"en")}function ae(d,y,_){var I,L;if(cn(d),!Yt(y))throw new Pr(y);const W=w(y),ee=(L=(I=d.predicates[W])===null||I===void 0?void 0:I.langStrings)!==null&&L!==void 0?L:{},Be=Object.keys(ee).find(Ke=>Ke.toLowerCase()===_.toLowerCase()&&Array.isArray(ee[Ke])&&ee[Ke].length>0);return typeof Be=="string"?[...ee[Be]]:[]}function Se(d,y){var _,I;if(cn(d),!Yt(y))throw new Pr(y);const L=w(y),W=(I=(_=d.predicates[L])===null||_===void 0?void 0:_.langStrings)!==null&&I!==void 0?I:{};return new Map(Object.entries(W).map(([ee,he])=>[ee,[...he]]))}function Ne(d,y){return cn(d),gn(d,y,G.string)}function De(d,y){return cn(d),nr(d,y,G.string)}function dt(d,y){const _=hi(d,y);return _===null?null:sn.namedNode(_)}function At(d,y){return m(d,y).map(I=>sn.namedNode(I))}function dn(d,y){var _,I,L,W;if(cn(d),!Yt(y))throw new Pr(y);const ee=w(y),he=(I=(_=d.predicates[ee])===null||_===void 0?void 0:_.langStrings)!==null&&I!==void 0?I:{},Be=Object.keys(he);if(Be.length>0){const Mt=Be.find(Kt=>Array.isArray(he[Kt])&&he[Kt].length>0);if(typeof Mt=="string")return sn.literal(he[Mt][0],Mt)}const Ke=(W=(L=d.predicates[ee])===null||L===void 0?void 0:L.literals)!==null&&W!==void 0?W:{},Ze=Object.keys(Ke);if(Ze.length>0){const Mt=Ze.find(Kt=>Array.isArray(Ke[Kt])&&Ke[Kt].length>0);if(typeof Mt=="string")return sn.literal(Ke[Mt][0],sn.namedNode(Mt))}return null}function jt(d,y){var _,I,L,W;if(cn(d),!Yt(y))throw new Pr(y);const ee=w(y);let he=[];const Be=(I=(_=d.predicates[ee])===null||_===void 0?void 0:_.langStrings)!==null&&I!==void 0?I:{},Ke=Object.keys(Be);for(const Kt of Ke){const Nn=Be[Kt].map(ur=>sn.literal(ur,Kt));he=he.concat(Nn)}const Ze=(W=(L=d.predicates[ee])===null||L===void 0?void 0:L.literals)!==null&&W!==void 0?W:{},Mt=Object.keys(Ze);for(const Kt of Mt){const rn=Ze[Kt],Nn=sn.namedNode(Kt),ur=rn.map(Yn=>sn.literal(Yn,Nn));he=he.concat(ur)}return he}function zn(d,y){var _,I;cn(d);const L=dt(d,y);if(L!==null)return L;const W=dn(d,y);if(W!==null)return W;const ee=w(y),he=(I=(_=d.predicates[ee])===null||_===void 0?void 0:_.blankNodes)!==null&&I!==void 0?I:[];if(he.length>0){const Be=oe(he[0])?k(he[0]):void 0;return sn.blankNode(Be)}return null}function un(d,y){var _,I;cn(d);const L=At(d,y),W=jt(d,y),ee=w(y),Be=((I=(_=d.predicates[ee])===null||_===void 0?void 0:_.blankNodes)!==null&&I!==void 0?I:[]).map(Ze=>{const Mt=oe(Ze)?k(Ze):void 0;return sn.blankNode(Mt)});return L.concat(W).concat(Be)}function gn(d,y,_){var I,L,W,ee;if(!Yt(y))throw new Pr(y);const he=w(y);return(ee=(W=(L=(I=d.predicates[he])===null||I===void 0?void 0:I.literals)===null||L===void 0?void 0:L[_])===null||W===void 0?void 0:W[0])!==null&&ee!==void 0?ee:null}function nr(d,y,_){var I,L,W;if(!Yt(y))throw new Pr(y);const ee=w(y);return[...(W=(L=(I=d.predicates[ee])===null||I===void 0?void 0:I.literals)===null||L===void 0?void 0:L[_])!==null&&W!==void 0?W:[]]}function hn(d,y,_={}){var I;if(!Yt(y))throw new Ya(y);const L=typeof _.scope<"u"?w(_.scope):"default",W=(I=d.graphs[L])!==null&&I!==void 0?I:{},ee=w(y),he=le(ee)&&f(d)?Vn(Ce(ee),de(d)):ee,Be=W[he];return typeof Be>"u"?null:Be}function rr(d,y={acceptBlankNodes:!1}){var _;const I=typeof y.scope<"u"?w(y.scope):"default",L=(_=d.graphs[I])!==null&&_!==void 0?_:{};return Object.values(L).filter(W=>!oe(W.url)||y.acceptBlankNodes)}function er(d,y){var _;const I=Ri(y)&&f(d)?Vn(Ce(y.url),de(d)):y.url,L=d.graphs.default,W=ke({...L,[I]:ke({...y,url:I})}),ee=ke({...d.graphs,default:W}),he=sn.namedNode(I),Be=(_=d.graphs.default[I])===null||_===void 0?void 0:_.predicates,Ke=typeof Be<"u"?Ht(Be,he,sn.defaultGraph()):[],Ze=Ht(y.predicates,he,sn.defaultGraph());return fi(Tr(ke({...d,graphs:ee}),Ke),Ze)}function Ir(d,y){var _;let I;H(y)?I=y.value:typeof y=="string"?I=le(y)&&f(d)?Vn(Ce(y),de(d)):y:Ri(y)?I=y.url:I=Tn(y);const W={...d.graphs.default};delete W[I];const ee=ke({...d.graphs,default:ke(W)}),he=sn.namedNode(I),Be=(_=d.graphs.default[I])===null||_===void 0?void 0:_.predicates,Ke=typeof Be<"u"?Ht(Be,he,sn.defaultGraph()):[];return Tr(ke({...d,graphs:ee}),Ke)}function Qn(d={}){var y;if(typeof d.url<"u"){const{url:W}=d;if(!Yt(W))throw new Ya(W);return ke({type:"Subject",predicates:ke({}),url:W})}const _=(y=d.name)!==null&&y!==void 0?y:go(),I=Ye(_);return ke({type:"Subject",predicates:ke({}),url:I})}function tr(d){return typeof d=="object"&&d!==null&&typeof d.type=="string"&&d.type==="Subject"}function wr(d,y){if(Ri(d)){if(typeof y>"u")throw new Error("The URL of a Thing that has not been persisted cannot be determined without a base URL.");return Vn(Ce(d.url),y)}return d.url}const Tn=wr;function Kr(d){let y="";Ri(d)?y+=`## Thing (no URL yet — identifier: \`#${Ce(d.url)}\`)
`:y+=`## Thing: ${d.url}
`;const _=Object.keys(d.predicates);if(_.length===0)y+=`
<empty>
`;else for(const I of _){y+=`
Property: ${I}
`;const L=un(d,I);y+=L.reduce((W,ee)=>`${W}- ${Mr(ee)}
`,"")}return y}function Ri(d){return le(d.url)}class ta extends v{constructor(y){const _=`Expected a Thing, but received: [${y}].`;super(_),this.receivedValue=y}}class Pr extends v{constructor(y){const _=H(y)?y.value:y,I=`Expected a valid URL to identify a property, but received: [${_}].`;super(I),this.receivedProperty=_}}class Gi extends v{constructor(y){const _=H(y)?y.value:y,I=`Expected a valid URL value, but received: [${_}].`;super(I),this.receivedValue=_}}class Ya extends v{constructor(y){const _=H(y)?y.value:y,I=`Expected a valid URL to identify a Thing, but received: [${_}].`;super(I),this.receivedValue=_}}const go=()=>u.v4();function xr(d){const y=new URL(d);return y.hash="",y.href}function Wr(){return ke({type:"Dataset",graphs:{default:{}}})}async function Pa(d,y={}){if(x(d))throw new st(`Fetching the SolidDataset at [${d.url}] failed: [${d.status}] [${d.statusText}] ${await d.text()}.`,d);const _=tt(d),I={"text/turtle":Ct(),...y.parsers},L=ht(_);if(L===null)throw new Error(`Could not determine the content type of the Resource at [${de(_)}].`);const W=L.split(";")[0],ee=I[W];if(typeof ee>"u")throw new Error(`The Resource at [${de(_)}] has a MIME type of [${W}], but the only parsers available are for the following MIME types: [${Object.keys(I).join(", ")}].`);const he=await d.text();return new Promise((Ke,Ze)=>{let Mt=ke({graphs:ke({default:ke({})}),type:"Dataset"});const Kt=[],rn=[];ee.onError(Nn=>{Ze(new Error(`Encountered an error parsing the Resource at [${de(_)}] with content type [${L}]: ${Nn}`))}),ee.onQuad(Nn=>{rn.push(Nn),Nn.subject.termType==="BlankNode"||Nn.object.termType==="BlankNode"?Kt.push(Nn):Mt=Ge(Mt,Nn)}),ee.onComplete(async()=>{const ur=Kt.length<=20?zt(Kt):[];Mt=Kt.filter($r=>ur.every(An=>!An.equals($r.subject))).reduce(($r,An)=>Ge($r,An,{otherQuads:rn,chainBlankNodes:ur}),Mt);const Ga=ke({...Mt,..._});Ke(Ga)}),ee.parse(he,_)})}async function Jr(d,y=ge){var _;d=w(d);const I={...ge,...y},L=Object.keys((_=y.parsers)!==null&&_!==void 0?_:{}),W=L.length>0?L.join(", "):"text/turtle",ee=await I.fetch(d,{headers:{Accept:W}});if(x(ee))throw new st(`Fetching the Resource at [${d}] failed: [${ee.status}] [${ee.statusText}] ${await ee.text()}.`,ee);return await Pa(ee,y)}async function rs(d){const y=d.internal_changeLog.deletions.length>0?`DELETE DATA {${(await Nt(d.internal_changeLog.deletions.map(an))).trim()}};`:"",_=d.internal_changeLog.additions.length>0?`INSERT DATA {${(await Nt(d.internal_changeLog.additions.map(an))).trim()}};`:"";return{method:"PATCH",body:`${y} ${_}`,headers:{"Content-Type":"application/sparql-update"}}}async function ha(d,y){return{method:"PUT",body:await Nt(tn(d).map(an),y),headers:{"Content-Type":"text/turtle","If-None-Match":"*",Link:`<${z.Resource}>; rel="type"`}}}async function U(d,y,_=ge){d=w(d);const I={...ge,..._},L=Ki(y),W=Le(L,d)?await rs(L):await ha(L,_),ee=await I.fetch(d,W);if(x(ee)){const Ze=Le(L,d)?`The changes that were sent to the Pod are listed below.

${Wt(L)}`:`The SolidDataset that was sent to the Pod is listed below.

${Vt(L)}`;throw new st(`Storing the Resource at [${d}] failed: [${ee.status}] [${ee.statusText}] ${await ee.text()}.

${Ze}`,ee)}const he={...T(ee),isRawData:!1},Be=ke({...y,internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:he});return wn(Be)}async function te(d,y=ge){const _={...ge,...y},I=h(d)?w(de(d)):w(d),L=await _.fetch(I,{method:"DELETE"});if(x(L))throw new st(`Deleting the SolidDataset at [${I}] failed: [${L.status}] [${L.statusText}] ${await L.text()}.`,L)}async function re(d,y=ge){var _;d=w(d),d=d.endsWith("/")?d:`${d}/`;const I={...ge,...y},L=await I.fetch(d,{method:"PUT",body:I.initialContent?await Nt(tn(I.initialContent).map(an)):void 0,headers:{Accept:"text/turtle","Content-Type":"text/turtle","If-None-Match":"*",Link:`<${z.BasicContainer}>; rel="type"`}});if(x(L)){const he=I.initialContent===void 0?"empty":"non-empty";throw new st(`Creating the ${he} Container at [${d}] failed: [${L.status}] [${L.statusText}] ${await L.text()}.`,L)}const W=T(L);return ke({...(_=y.initialContent)!==null&&_!==void 0?_:Wr(),internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:W})}function fe(d,y){return xr(d.internal_resourceInfo.sourceIri)===xr(y)}function Le(d,y){return g(d)&&h(d)&&typeof d.internal_resourceInfo.sourceIri=="string"&&fe(d,y)}async function ve(d,y,_=ge){const I={...ge,..._};d=w(d);const L=await Nt(tn(y).map(an)),W={"Content-Type":"text/turtle",Link:`<${z.Resource}>; rel="type"`};_.slugSuggestion&&(W.slug=_.slugSuggestion);const ee=await I.fetch(d,{method:"POST",body:L,headers:W});if(x(ee))throw new st(`Storing the Resource in the Container at [${d}] failed: [${ee.status}] [${ee.statusText}] ${await ee.text()}.

The SolidDataset that was sent to the Pod is listed below.

${Vt(y)}`,ee);const he=T(ee);if(!he.location)throw new Error("Could not determine the location of the newly saved SolidDataset.");let Be;try{Be=new URL(he.location).href}catch{Be=new URL(he.location,ee.url).href}const Ze=ke({...y,...{internal_resourceInfo:{isRawData:!1,sourceIri:Be}}});return wn(Ze)}async function $e(d,y=ge){d=w(d);const _={...ge,...y},I={"Content-Type":"text/turtle",Link:`<${z.BasicContainer}>; rel="type"`};y.slugSuggestion&&(I.slug=y.slugSuggestion);const L=await _.fetch(d,{method:"POST",headers:I});if(x(L))throw new st(`Creating an empty Container in the Container at [${d}] failed: [${L.status}] [${L.statusText}] ${await L.text()}.`,L);const W=T(L);if(!W.location)throw new Error("Could not determine the location of the newly created Container.");try{const ee=new URL(W.location).toString();return ke({...Wr(),internal_resourceInfo:{...W,sourceIri:ee}})}catch{}return ke({...Wr(),internal_resourceInfo:{...W,sourceIri:new URL(W.location,L.url).href}})}async function Rt(d,y=ge){const _=h(d)?w(de(d)):w(d);if(!ct(d))throw new Error(`You're trying to delete the Container at [${_}], but Container URLs should end in a \`/\`. Are you sure this is a Container?`);const L=await{...ge,...y}.fetch(_,{method:"DELETE"});if(x(L))throw new st(`Deleting the Container at [${_}] failed: [${L.status}] [${L.statusText}] ${await L.text()}.`,L)}function _t(d,y){const _=new URL(y),I=new URL(d),L=I.href.startsWith(_.href),W=I.pathname.substring(_.pathname.length,I.pathname.length).replace(/(^\/)|(\/$)/g,"");return L&&W.length>=1&&!W.includes("/")}function Pt(d){const y=de(d),_=hn(d,y);return _===null?[]:m(_,z.contains).filter(I=>_t(I,y))}function qt(d){const y=de(d),_=hn(d,y);if(_===null)return{isValid:!0,invalidContainedResources:[]};const I=m(_,z.contains).filter(L=>!_t(L,y));return I.length>0?{isValid:!1,invalidContainedResources:I}:{isValid:!0,invalidContainedResources:[]}}function Vt(d){let y="";h(d)?y+=`# SolidDataset: ${de(d)}
`:y+=`# SolidDataset (no URL yet)
`;const _=rr(d);return _.length===0?y+=`
<empty>
`:_.forEach(I=>{y+=`
${Kr(I)}`,g(d)&&(y+=`
${Jt(d,I)}
`)}),y}function Wt(d){if(!h(d))return"This is a newly initialized SolidDataset, so there is no source to compare it to.";if(!g(d)||d.internal_changeLog.additions.length===0&&d.internal_changeLog.deletions.length===0)return`## Changes compared to ${de(d)}

This SolidDataset has not been modified since it was fetched from ${de(d)}.
`;let y=`## Changes compared to ${de(d)}
`;const _=Ut(d);return Object.keys(_).forEach(I=>{y+=`
### Thing: ${I}
`;const L=_[I];Object.keys(L).forEach(W=>{y+=`
Property: ${W}
`;const{deleted:ee}=L[W],{added:he}=L[W];ee.length>0&&(y+=`- Removed:
`,y+=ee.reduce((Be,Ke)=>`${Be}  - ${Mr(Ke)}
`,"")),he.length>0&&(y+=`- Added:
`,y+=he.reduce((Be,Ke)=>`${Be}  - ${Mr(Ke)}
`,""))})}),y}function Ut(d){const y=Object.create(null);return d.internal_changeLog.deletions.forEach(_=>{var I,L,W;const ee=Je(_.subject)?jn(_.subject,de(d)):_.subject;if(!H(ee)||!H(_.predicate))return;const he=w(ee),Be=w(_.predicate);(I=y[he])!==null&&I!==void 0||(y[he]=Object.create(null)),(L=(W=y[he])[Be])!==null&&L!==void 0||(W[Be]={added:[],deleted:[]}),y[he][Be].deleted.push(_.object)}),d.internal_changeLog.additions.forEach(_=>{var I,L,W;const ee=Je(_.subject)?jn(_.subject,de(d)):_.subject;if(!H(ee)||!H(_.predicate))return;const he=w(ee),Be=w(_.predicate);(I=y[he])!==null&&I!==void 0||(y[he]=Object.create(null)),(L=(W=y[he])[Be])!==null&&L!==void 0||(W[Be]={added:[],deleted:[]}),y[he][Be].added.push(_.object)}),y}function Jt(d,y){const _=sn.namedNode(y.url),I=d.internal_changeLog.additions.reduce((he,Be)=>Be.subject.equals(_)?he+1:he,0),L=d.internal_changeLog.deletions.reduce((he,Be)=>Be.subject.equals(_)?he+1:he,0),W=I===1?"1 new value added":`${I} new values added`,ee=L===1?"1 value removed":`${L} values removed`;return`(${W} / ${ee})`}function an(d){const y=H(d.subject)?fn(d.subject):d.subject,_=H(d.object)?fn(d.object):d.object;return sn.quad(y,d.predicate,_,d.graph)}function fn(d){return le(d.value)?sn.namedNode(`#${Ce(d.value)}`):d}function wn(d){const y=de(d),_=d.graphs.default,L=Object.keys(_).reduce((ee,he)=>{const Be=Gn(ee[he],y),Ke=le(he)?`${y}#${Ce(he)}`:he,Ze={...ee};return delete Ze[he],Ze[Ke]=Be,ke(Ze)},_),W=ke({...d.graphs,default:L});return ke({...d,graphs:W})}function Gn(d,y){const I=Object.keys(d.predicates).reduce((L,W)=>{var ee;const he=(ee=L[W].namedNodes)!==null&&ee!==void 0?ee:[];if(he.every(Ze=>!le(Ze)))return L;const Be=ke(he.map(Ze=>le(Ze)?`${y}#${Ce(Ze)}`:Ze)),Ke=ke({...L[W],namedNodes:Be});return ke({...L,[W]:Ke})},d.predicates);return ke({...d,predicates:I,url:le(d.url)?`${y}#${Ce(d.url)}`:d.url})}async function _n(d,y=ge){const _=w(d);try{const he=new URL("/.well-known/solid",new URL(_).origin).href;return await Jr(he,{fetch:S})}catch{}const I=await Ee(_,{fetch:y.fetch,ignoreAuthenticationErrors:!0}),W=Qe(I)[ie.storage],ee=W?.length===1?W[0]:null;if(ee!==null){const he=new URL(".well-known/solid",ee.endsWith("/")?ee:`${ee}/`).href;return Jr(he,{...y,parsers:{"application/ld+json":It()}})}throw new Error("Could not determine storage root or well-known solid resource.")}function Xt(d){return{...Wr(),internal_resourceInfo:{sourceIri:w(d),isRawData:!1,contentType:"text/turtle",linkedResources:{}}}}function Bn(d){const y=w(d);if(!y.endsWith("/"))throw new Error("A Container's URL should end in a slash. Please update your tests.");return Xt(y)}function pn(d,y){const _=new Blob;return Object.assign(_,{internal_resourceInfo:{sourceIri:w(d),isRawData:!0,contentType:y?.contentType,linkedResources:{}}})}function kn(d,y=404,_="Not Found"){const I=new r.Response(void 0,{status:y,statusText:_});return new st(`Fetching the Resource at [${d}] failed: [${I.status}] [${I.statusText}].`,I)}const Jn=(d,y,_)=>{var I,L;if(cn(d),!Yt(y))throw new Pr(y);if(!tr(_)&&!Yt(_))throw new Gi(_);const W=w(y),ee=(I=d.predicates[W])!==null&&I!==void 0?I:{},he=(L=ee.namedNodes)!==null&&L!==void 0?L:[];let Be;H(_)?Be=_.value:typeof _=="string"?Be=_:Ri(_)?Be=_.url:Be=Tn(_);const Ke=ke(he.concat(w(Be))),Ze=ke({...ee,namedNodes:Ke}),Mt=ke({...d.predicates,[W]:Ze});return ke({...d,predicates:Mt})},Dt=Jn,Pn=(d,y,_)=>(cn(d),kr(d,y,ne(_),G.boolean)),vr=(d,y,_)=>(cn(d),kr(d,y,Te(_),G.dateTime)),Mn=(d,y,_)=>(cn(d),kr(d,y,Ot(_),G.date)),pr=(d,y,_)=>(cn(d),kr(d,y,Oe(_),G.time)),lr=(d,y,_)=>(cn(d),kr(d,y,Pe(_),G.decimal)),Nr=(d,y,_)=>(cn(d),kr(d,y,X(_),G.integer));function En(d,y,_){return $n(d,y,_,"en")}function $n(d,y,_,I){var L,W,ee;if(cn(d),!Yt(y))throw new Pr(y);const he=w(y),Be=V(I),Ke=(L=d.predicates[he])!==null&&L!==void 0?L:{},Ze=(W=Ke.langStrings)!==null&&W!==void 0?W:{},Mt=(ee=Ze[Be])!==null&&ee!==void 0?ee:[],Kt=ke(Mt.concat(_)),rn=ke({...Ze,[Be]:Kt}),Nn=ke({...Ke,langStrings:rn}),ur=ke({...d.predicates,[he]:Nn});return ke({...d,predicates:ur})}const Yr=(d,y,_)=>(cn(d),kr(d,y,_,G.string));function gi(d,y,_){return Jn(d,y,_.value)}function Cn(d,y,_){if(cn(d),!Yt(y))throw new Pr(y);return _.datatype.value===G.langString?$n(d,y,_.value,_.language):kr(d,y,_.value,_.datatype.value)}function Hr(d,y,_){var I,L;if(_.termType==="NamedNode")return gi(d,y,_);if(_.termType==="Literal")return Cn(d,y,_);if(_.termType==="BlankNode"){if(cn(d),!Yt(y))throw new Pr(y);const W=w(y),ee=(I=d.predicates[W])!==null&&I!==void 0?I:{},he=(L=ee.blankNodes)!==null&&L!==void 0?L:[],Be=ke(he.concat(D(_))),Ke=ke({...ee,blankNodes:Be}),Ze=ke({...d.predicates,[W]:Ke});return ke({...d,predicates:Ze})}throw new Error(`Term type [${_.termType}] is not supported by @inrupt/solid-client.`)}function kr(d,y,_,I){var L,W,ee;if(cn(d),!Yt(y))throw new Pr(y);const he=w(y),Be=(L=d.predicates[he])!==null&&L!==void 0?L:{},Ke=(W=Be.literals)!==null&&W!==void 0?W:{},Ze=(ee=Ke[I])!==null&&ee!==void 0?ee:[],Mt=ke(Ze.concat(_)),Kt=ke({...Ke,[I]:Mt}),rn=ke({...Be,literals:Kt}),Nn=ke({...d.predicates,[he]:rn});return ke({...d,predicates:Nn})}function Zn(d,y){if(cn(d),!Yt(y))throw new Pr(y);const _=w(y),I={...d.predicates};return delete I[_],ke({...d,predicates:ke(I)})}const Gr=(d,y,_)=>{var I,L,W;if(cn(d),!Yt(y))throw new Pr(y);const ee=w(y);if(!tr(_)&&!Yt(_))throw new Gi(_);const he=tr(_)?Tn(_):w(_),Be=ke((W=(L=(I=d.predicates[ee])===null||I===void 0?void 0:I.namedNodes)===null||L===void 0?void 0:L.filter(Mt=>Mt.toLowerCase()!==he.toLowerCase()))!==null&&W!==void 0?W:[]),Ke=ke({...d.predicates[ee],namedNodes:Be}),Ze=ke({...d.predicates,[ee]:Ke});return ke({...d,predicates:Ze})},ir=Gr,Na=(d,y,_)=>(cn(d),Qa(d,y,G.boolean,I=>_e(I)===_)),Zu=(d,y,_)=>(cn(d),Qa(d,y,G.dateTime,I=>{var L;return((L=yt(I))===null||L===void 0?void 0:L.getTime())===_.getTime()})),Bs=(d,y,_)=>(cn(d),Qa(d,y,G.date,function(I){const L=wt(I);return L?L.getFullYear()===_.getFullYear()&&L.getMonth()===_.getMonth()&&L.getUTCDate()===_.getUTCDate():!1})),ec=(d,y,_)=>(cn(d),Qa(d,y,G.time,function(I){const L=lt(I);return L?L.hour===_.hour&&L.minute===_.minute&&L.second===_.second&&L.millisecond===_.millisecond&&L.timezoneHourOffset===_.timezoneHourOffset&&L.timezoneMinuteOffset===_.timezoneMinuteOffset:!1})),Xa=(d,y,_)=>(cn(d),Qa(d,y,G.decimal,I=>ft(I)===_)),is=(d,y,_)=>(cn(d),Qa(d,y,G.integer,I=>B(I)===_));function Of(d,y,_){return pa(d,y,_,"en")}function pa(d,y,_,I){var L,W;if(cn(d),!Yt(y))throw new Pr(y);const ee=w(y),he=(W=(L=d.predicates[ee])===null||L===void 0?void 0:L.langStrings)!==null&&W!==void 0?W:{},Be=Object.keys(he).find(Nn=>V(Nn)===V(I)&&Array.isArray(he[Nn])&&he[Nn].length>0);if(typeof Be!="string")return d;const Ke=he[Be],Ze=ke(Ke.filter(Nn=>Nn!==_)),Mt=ke({...he,[Be]:Ze}),Kt=ke({...d.predicates[ee],langStrings:Mt}),rn=ke({...d.predicates,[ee]:Kt});return ke({...d,predicates:rn})}const Mo=(d,y,_)=>(cn(d),Qa(d,y,G.string,I=>I===_));function Gl(d,y,_){return Gr(d,y,_.value)}function js(d,y,_){var I,L,W;if(cn(d),!Yt(y))throw new Pr(y);const ee=_.datatype.value;if(ee===G.langString)return pa(d,y,_.value,_.language);const he=w(y),Be=(I=d.predicates[he])!==null&&I!==void 0?I:{},Ke=(L=Be.literals)!==null&&L!==void 0?L:{},Ze=(W=Ke[ee])!==null&&W!==void 0?W:[],Mt=ke(Ze.filter(Yn=>Yn!==_.value)),Kt=ke({...Ke,[ee]:Mt}),rn=ke({...Be,literals:Kt}),Nn=ke({...d.predicates,[he]:rn});return ke({...d,predicates:Nn})}function Qa(d,y,_,I){var L,W,ee;if(!Yt(y))throw new Pr(y);const he=w(y),Be=(L=d.predicates[he])!==null&&L!==void 0?L:{},Ke=(W=Be.literals)!==null&&W!==void 0?W:{},Ze=(ee=Ke[_])!==null&&ee!==void 0?ee:[],Mt=ke(Ze.filter(Yn=>!I(Yn))),Kt=ke({...Ke,[_]:Mt}),rn=ke({...Be,literals:Kt}),Nn=ke({...d.predicates,[he]:rn});return ke({...d,predicates:Nn})}const Fa=(d,y,_)=>{if(cn(d),!Yt(y))throw new Pr(y);if(!tr(_)&&!Yt(_))throw new Gi(_);return Jn(Zn(d,y),y,_)},gr=Fa,Hs=(d,y,_)=>(cn(d),Pn(Zn(d,y),y,_)),If=(d,y,_)=>(cn(d),vr(Zn(d,y),y,_)),Vs=(d,y,_)=>(cn(d),Mn(Zn(d,y),y,_)),ii=(d,y,_)=>(cn(d),pr(Zn(d,y),y,_)),tc=(d,y,_)=>(cn(d),lr(Zn(d,y),y,_)),Pf=(d,y,_)=>(cn(d),Nr(Zn(d,y),y,_));function Oi(d,y,_,I){return cn(d),$n(Zn(d,y),y,_,I)}const Za=(d,y,_)=>(cn(d),Yr(Zn(d,y),y,_));function $s(d,y,_){return cn(d),gi(Zn(d,y),y,_)}function ql(d,y,_){return cn(d),Cn(Zn(d,y),y,_)}function nh(d,y,_){if(cn(d),!Yt(y))throw new Pr(y);return Hr(Zn(d,y),y,_)}function Da(d=Qn()){let y=tr(d)?d:Qn(d);function _(ee){return(he,Be)=>(y=ee(y,he,Be),W)}function I(ee){return(he,Be)=>(y=ee(y,he,Be),W)}function L(ee){return(he,Be)=>(y=ee(y,he,Be),W)}const W={build:()=>y,addUrl:_(Jn),addIri:_(Dt),addBoolean:_(Pn),addDatetime:_(vr),addDate:_(Mn),addTime:_(pr),addDecimal:_(lr),addInteger:_(Nr),addStringNoLocale:_(Yr),addStringEnglish:(ee,he)=>(y=$n(y,ee,he,"en"),W),addStringWithLocale:(ee,he,Be)=>(y=$n(y,ee,he,Be),W),addNamedNode:_(gi),addLiteral:_(Cn),addTerm:_(Hr),setUrl:I(Fa),setIri:I(gr),setBoolean:I(Hs),setDatetime:I(If),setDate:I(Vs),setTime:I(ii),setDecimal:I(tc),setInteger:I(Pf),setStringNoLocale:I(Za),setStringEnglish:(ee,he)=>(y=Oi(y,ee,he,"en"),W),setStringWithLocale:(ee,he,Be)=>(y=Oi(y,ee,he,Be),W),setNamedNode:I($s),setLiteral:I(ql),setTerm:I(nh),removeAll:ee=>(y=Zn(y,ee),W),removeUrl:L(Gr),removeIri:L(ir),removeBoolean:L(Na),removeDatetime:L(Zu),removeDate:L(Bs),removeTime:L(ec),removeDecimal:L(Xa),removeInteger:L(is),removeStringNoLocale:L(Mo),removeStringEnglish:(ee,he)=>Da(pa(y,ee,he,"en")),removeStringWithLocale:(ee,he,Be)=>Da(pa(y,ee,he,Be)),removeNamedNode:L(Gl),removeLiteral:L(js)};return W}function rh(d){const y=w(d);return{type:"Subject",predicates:{},url:y}}function Jg(d){const y=Qe(d).type;return Array.isArray(y)&&y.includes(q.AccessControlResource)}async function qi(d,y=ge){if(!ti(d))return{resourceAcl:null,fallbackAcl:null};try{const _=await Nf(d,y);return _===null?{resourceAcl:null,fallbackAcl:await zl(d,y)}:{resourceAcl:_,fallbackAcl:null}}catch(_){if(_ instanceof Wl)return{resourceAcl:null,fallbackAcl:null};throw _}}async function Nf(d,y=ge){if(!ti(d))return null;try{const _=await Jr(d.internal_resourceInfo.aclUrl,y);if(Jg(_))throw new Wl(d,_);return ke({..._,internal_accessTo:de(d)})}catch(_){if(_ instanceof Wl)throw _;return null}}async function zl(d,y=ge){const _=new URL(de(d)),I=_.pathname;if(I==="/")return null;const L=Ff(I),W=new URL(L,_.origin).href,ee=await Ee(W,y);if(!ti(ee))return null;const he=await Nf(ee,y);return he===null?zl(ee,y):he}function Ff(d){const y=d.substring(d.length-1)==="/"?d.substring(0,d.length-1):d;return`${d.substring(0,y.lastIndexOf("/"))}/`}function ga(d){return rr(d).filter(Ks)}function Ks(d){return m(d,K.type).includes(P.Authorization)}function yo(d,y){return d.filter(_=>ih(_,y))}function ih(d,y){return m(d,P.accessTo).includes(y)}function Gs(d,y){return d.filter(_=>qs(_,y))}function qs(d,y){return m(d,P.default).includes(y)||m(d,P.defaultForNew).includes(y)}function as(d){const y=m(d,P.mode);return y.includes(Fr.write)?{read:y.includes(Fr.read),append:!0,write:!0,control:y.includes(Fr.control)}:{read:y.includes(Fr.read),append:y.includes(Fr.append),write:!1,control:y.includes(Fr.control)}}function os(d){return d.reduce((y,_)=>y.write||_.write?{read:y.read||_.read,append:!0,write:!0,control:y.control||_.control}:{read:y.read||_.read,append:y.append||_.append,write:!1,control:y.control||_.control},{read:!1,append:!1,write:!1,control:!1})}function Yg(d){return ga(d).filter(Jm).reduce(Ir,d)}function Jm(d){return Ht(d.predicates,sn.namedNode(d.url),sn.defaultGraph()).some(y=>!Ym(y))?!1:hi(d,P.accessTo)===null&&hi(d,P.default)===null&&hi(d,P.defaultForNew)===null||hi(d,P.mode)===null||hi(d,P.agent)===null&&hi(d,P.agentGroup)===null&&hi(d,P.agentClass)===null}function Ym(d){const{predicate:y}=d,{object:_}=d;return!!(y.equals(sn.namedNode(K.type))&&_.equals(sn.namedNode(P.Authorization))||y.equals(sn.namedNode(P.accessTo))||y.equals(sn.namedNode(P.default))||y.equals(sn.namedNode(P.defaultForNew))||y.equals(sn.namedNode(P.mode))&&Object.values(Fr).some(I=>_.equals(sn.namedNode(I)))||y.equals(sn.namedNode(P.agent))||y.equals(sn.namedNode(P.agentGroup))||y.equals(sn.namedNode(P.agentClass))||y.equals(sn.namedNode(P.origin)))}const Fr={read:"http://www.w3.org/ns/auth/acl#Read",append:"http://www.w3.org/ns/auth/acl#Append",write:"http://www.w3.org/ns/auth/acl#Write",control:"http://www.w3.org/ns/auth/acl#Control"};function ah(d,y,_){return d.filter(I=>m(I,_).includes(y))}function oh(d,y){const _={};return d.forEach(I=>{const L=m(I,y),W=as(I);L.forEach(ee=>{_[ee]=typeof _[ee]>"u"?W:os([_[ee],W])})}),_}function Df(d){let y=Qn();return y=gr(y,K.type,P.Authorization),d.read&&(y=Dt(y,P.mode,Fr.read)),d.append&&!d.write&&(y=Dt(y,P.mode,Fr.append)),d.write&&(y=Dt(y,P.mode,Fr.write)),d.control&&(y=Dt(y,P.mode,Fr.control)),y}function eo(d){let y=Qn();y=gr(y,K.type,P.Authorization);function _(I,L,W){return m(I,W).reduce((ee,he)=>Dt(ee,W,he),L)}return y=_(d,y,P.accessTo),y=_(d,y,P.default),y=_(d,y,P.defaultForNew),y=_(d,y,P.agent),y=_(d,y,P.agentGroup),y=_(d,y,P.agentClass),y=_(d,y,P.origin),y=_(d,y,P.mode),y}function na(d,y){return Object.assign(C(d),{internal_acl:y})}const Ua=[P.agent,P.agentClass,P.agentGroup,P.origin];function La(d,y,_,I,L){if(!m(d,_).includes(y)){const he=Df({read:!1,append:!1,write:!1,control:!1});return[d,he]}const W=ir(d,_,y);let ee=eo(d);return ee=ir(ee,L==="resource"?P.accessTo:P.default,I),L==="default"&&(ee=ir(ee,P.defaultForNew,I)),ee=gr(ee,_,y),Ua.filter(he=>he!==_).forEach(he=>{ee=Zn(ee,he)}),[W,ee]}function to(d,y,_,I,L){let W=d;rr(d).forEach(Be=>{const[Ke,Ze]=La(Be,L,_,d.internal_accessTo,I);W=er(W,Ke),W=er(W,Ze)});let ee=Df(y);ee=gr(ee,I==="resource"?P.accessTo:P.default,d.internal_accessTo),ee=gr(ee,_,L);const he=er(W,ee);return Yg(he)}function Uf(d,y){return na(d,{resourceAcl:y,fallbackAcl:null})}function Lf(d){return d.internal_acl.resourceAcl}class Wl extends Error{constructor(y,_){super(`[${nt(y)}] is governed by Access Control Policies in [${nt(_)}] rather than by Web Access Control.`)}}function sh(d){return typeof d.internal_acl=="object"}function ya(d){return d.internal_acl.resourceAcl!==null&&de(d)===d.internal_acl.resourceAcl.internal_accessTo&&d.internal_resourceInfo.aclUrl===de(d.internal_acl.resourceAcl)}async function Xg(d,y=ge){const _=await Jr(d,y),I=await qi(_,y);return na(_,I)}async function Mf(d,y=ge){const _=await qn(d,y),I=await qi(_,y);return na(_,I)}async function Jl(d,y=ge){const _=await Ee(d,y),I=await qi(_,y);return na(_,I)}function nc(d){return ya(d)?d.internal_acl.resourceAcl:null}function mi(d){return d.internal_acl.fallbackAcl!==null}function rc(d){return mi(d)?d.internal_acl.fallbackAcl:null}function Ma(d){return ke({...Wr(),internal_accessTo:de(d),internal_resourceInfo:{sourceIri:d.internal_resourceInfo.aclUrl,isRawData:!1,linkedResources:{}}})}function lh(d){const y=Ma(d),_=ga(d.internal_acl.fallbackAcl);return Gs(_,d.internal_acl.fallbackAcl.internal_accessTo).map(ee=>(ee=Zn(ee,P.default),ee=Zn(ee,P.defaultForNew),ee=gr(ee,P.accessTo,de(d)),ee=gr(ee,P.default,de(d)),ee)).reduce(er,y)}async function ic(d,y,_=ge){if(!ti(d))throw new Error(`Could not determine the location of the ACL for the Resource at [${de(d)}]; possibly the current user does not have Control access to that Resource. Try calling \`hasAccessibleAcl()\` before calling \`saveAclFor()\`.`);return{...await U(d.internal_resourceInfo.aclUrl,y,_),internal_accessTo:de(d)}}async function zs(d,y=ge){const I=await{...ge,...y}.fetch(d.internal_resourceInfo.aclUrl,{method:"DELETE"});if(!I.ok)throw new Error(`Deleting the ACL of the Resource at [${de(d)}] failed: [${I.status}] [${I.statusText}].`);return Object.assign(C(d),{acl:{resourceAcl:null}})}function ti(d){return typeof d.internal_resourceInfo.aclUrl=="string"}function ac(d,y){return ya(d)?Js(d.internal_acl.resourceAcl,y):mi(d)?ma(d.internal_acl.fallbackAcl,y):null}function Ws(d){if(ya(d)){const y=nc(d);return oc(y)}if(mi(d)){const y=rc(d);return va(y)}return null}function Js(d,y){const _=ga(d),I=yo(_,d.internal_accessTo),W=mo(I,y).map(as);return os(W)}function oc(d){const y=ga(d),_=yo(y,d.internal_accessTo),I=vo(_);return uh(I)}function sc(d,y,_){return to(d,_,P.agent,"resource",y)}function ma(d,y){const _=ga(d),I=Gs(_,d.internal_accessTo),W=mo(I,y).map(as);return os(W)}function va(d){const y=ga(d),_=Gs(y,d.internal_accessTo),I=vo(_);return uh(I)}function Ys(d,y,_){return to(d,_,P.agent,"default",y)}function mo(d,y){return ah(d,y,P.agent)}function vo(d){return d.filter(Xs)}function Xs(d){return hi(d,P.agent)!==null}function uh(d){return oh(d,P.agent)}function lc(d,y){return ya(d)?Fi(d.internal_acl.resourceAcl,y):mi(d)?Dr(d.internal_acl.fallbackAcl,y):null}function kf(d){if(ya(d)){const y=nc(d);return ai(y)}if(mi(d)){const y=rc(d);return ss(y)}return null}function Fi(d,y){const _=ga(d),I=yo(_,d.internal_accessTo),W=no(I,y).map(as);return os(W)}function ai(d){const y=ga(d),_=yo(y,d.internal_accessTo);return Bf(_)}function Dr(d,y){const _=ga(d),I=Gs(_,d.internal_accessTo),W=no(I,y).map(as);return os(W)}function ss(d){const y=ga(d),_=Gs(y,d.internal_accessTo);return Bf(_)}function no(d,y){return ah(d,y,P.agentGroup)}function Bf(d){return oh(d,P.agentGroup)}function ls(d,y,_){return to(d,_,P.agentGroup,"resource",y)}function Qg(d,y,_){return to(d,_,P.agentGroup,"default",y)}function jf(d){return ya(d)?Yl(d.internal_acl.resourceAcl):mi(d)?Xl(d.internal_acl.fallbackAcl):null}function Yl(d){const y=ga(d),_=yo(y,d.internal_accessTo),L=Hf(_,J.Agent).map(as);return os(L)}function Xl(d){const y=ga(d),_=Gs(y,d.internal_accessTo),L=Hf(_,J.Agent).map(as);return os(L)}function ch(d,y){return to(d,y,P.agentClass,"resource",J.Agent)}function uc(d,y){return to(d,y,P.agentClass,"default",J.Agent)}function Hf(d,y){return d.filter(_=>Qs(_,y))}function Qs(d,y){return m(d,P.agentClass).includes(y)}function ko(d,y){return Object.assign(C(d),{internal_resourceInfo:{...d.internal_resourceInfo,aclUrl:y}})}function us(d){var y;const _=(y=d.internal_resourceInfo.aclUrl)!==null&&y!==void 0?y:"https://your.pod/mock-acl.ttl",I=Object.assign(C(d),{internal_resourceInfo:{...d.internal_resourceInfo,aclUrl:_}}),L=Ma(I);return na(I,{resourceAcl:L,fallbackAcl:null})}function Bo(d){const y=Ff(nt(d)),_=`${y}.acl`,I=ko(Bn(y),_),L=Ma(I);return na(C(d),{resourceAcl:null,fallbackAcl:L})}function Vf(d,y){const _=hn(d,y);if(_===null)throw new Error(`Profile document [${de(d)}] does not include WebID [${y}]`);return _}function fh(d,y,_){return er(d,gr(Vf(d,y),$.publicKey,_))}function Ql(d,y){return ea(Vf(d,y),$.publicKey)}const $f=d=>typeof d.keys<"u";async function cs(d,y,_=ge){const L=await{...ge,..._}.fetch(y);if(!L.ok)throw new Error(`Fetching [${y}] returned an error: ${L.status} ${L.statusText}`);try{const W=await L.json();if(!$f(W))throw new Error(`[${y}] does not dereference to a valid JWKS: ${JSON.stringify(W)}`);return{keys:[...W.keys,d]}}catch(W){throw new Error(`Parsing the document at [${y}] failed: ${W}`)}}async function Di(d,y,_=ge){const I=await Jr(y,{fetch:_.fetch});if(I===null)throw new Error(`The profile document associated with WebID [${y}] could not be retrieved.`);const L=Ql(I,y);if(L===null)throw new Error(`No key set is declared for the property [${$.publicKey}] in the profile of [${y}]`);const W=await cs(d,L,_);return Gt(L,new Blob([JSON.stringify(W)]),{contentType:"application/json",fetch:_.fetch})}function cc(d,y){const _=hn(y,d),I=rr(y).filter(L=>m(L,J.primaryTopic).length>0).map(Tn).concat(_?m(_,M.seeAlso):[]).concat(_?m(_,J.isPrimaryTopicOf):[]).filter(L=>L!==nt(y));return Array.from(new Set(I))}async function dh(d,y=ge){var _,I;const L=(_=y.fetch)!==null&&_!==void 0?_:S,W=(I=y.webIdProfile)!==null&&I!==void 0?I:await Jr(d,{fetch:S}),ee=(await Promise.allSettled(cc(d,W).map(he=>Jr(he,{fetch:L})))).filter(he=>he.status==="fulfilled").map(he=>he.value);return{webIdProfile:W,altProfileAll:ee}}async function Xm(d,y=ge){const _=await dh(d,y);return Zg(_,d)}function Zg(d,y){const _=new Set;return[d.webIdProfile,...d.altProfileAll].forEach(I=>{const L=hn(I,y);L!==null&&m(L,ie.storage).forEach(W=>_.add(W))}),Array.from(_)}async function Qm(d){return Jr(d,{fetch:S})}function mn(d){if(!_r(d))throw new Error(`An Access Control Resource for [${de(d)}] is not available. This could be because the current user is not allowed to see it, or because their Pod Server does not support Access Control Resources.`);return d.internal_acp.acr}function Ei(d,y){return Object.assign(C(d),{internal_acp:{...d.internal_acp,acr:y}})}function Zl(d){let y=Qn(d);return y=gr(y,K.type,q.AccessControl),y}function fc(d,y,_){const I=mn(d),L=hn(I,y,_);return L===null||!m(L,K.type).includes(q.AccessControl)?null:L}function ro(d,y){const _=mn(d),I=rr(_,y),L=I.filter(ee=>m(ee,K.type).includes(q.AccessControl)),W=I.filter(ee=>m(ee,q.accessControl).length>0).map(ee=>{const he=m(ee,q.accessControl)[0];return Qn({url:he})});return L.concat(W)}function ka(d,y){const _=mn(d),I=er(_,y);return Ei(d,I)}function Zs(d,y){return Dt(d,q.apply,y)}function ey(d){return m(d,q.apply)}function hh(d,y){return ir(d,q.apply,y)}function ty(d){return Zn(d,q.apply)}function ph(d,y){return Dt(d,q.applyMembers,y)}function jo(d){return m(d,q.applyMembers)}function gh(d,y){return ir(d,q.applyMembers,y)}function dc(d){return Zn(d,q.applyMembers)}function yh(d){const y=ro(d);return y.length===0?Zl():y[0]}function io(d){return f(d)&&Array.isArray(d.internal_resourceInfo.linkedResources[q.accessControl])&&d.internal_resourceInfo.linkedResources[q.accessControl].length===1}function eu(d,y){var _;const I=mn(d),L=de(I);let W=(_=hn(I,L))!==null&&_!==void 0?_:Qn({url:L});W=Dt(W,q.access,y);const ee=er(I,W);return Ei(d,ee)}function el(d,y){var _;const I=mn(d),L=de(I);let W=(_=hn(I,L))!==null&&_!==void 0?_:Qn({url:L});W=Dt(W,q.accessMembers,y);const ee=er(I,W);return Ei(d,ee)}function Ba(d){const y=mn(d),_=de(y),I=hn(y,_);return I===null?[]:m(I,q.access)}function tl(d){const y=mn(d),_=de(y),I=hn(y,_);return I===null?[]:m(I,q.accessMembers)}function bo(d,y){const _=mn(d),I=de(_),L=hn(_,I);if(L===null)return d;const W=ir(L,q.access,y),ee=er(_,W);return Ei(d,ee)}function hc(d,y){const _=mn(d),I=de(_),L=hn(_,I);if(L===null)return d;const W=ir(L,q.accessMembers,y),ee=er(_,W);return Ei(d,ee)}function wo(d){const y=mn(d),_=de(y),I=hn(y,_);if(I===null)return d;const L=Zn(I,q.access),W=er(y,L);return Ei(d,W)}function nl(d){const y=mn(d),_=de(y),I=hn(y,_);if(I===null)return d;const L=Zn(I,q.accessMembers),W=er(y,L);return Ei(d,W)}function pc(d,y){const _=yh(d),I=Zs(_,y);return ka(d,I)}function _o(d,y){const _=yh(d),I=ph(_,y);return ka(d,I)}function ao(d){const _=ro(d).map(L=>ey(L)),I=new Set;return _.forEach(L=>{L.forEach(W=>I.add(W))}),Array.from(I)}function rl(d){const _=ro(d).map(L=>jo(L)),I=new Set;return _.forEach(L=>{L.forEach(W=>I.add(W))}),Array.from(I)}function ba(d,y){return ro(d).map(W=>hh(W,y)).reduce(ka,d)}function Eo(d,y){return ro(d).map(W=>gh(W,y)).reduce(ka,d)}function Ho(d){return ro(d).map(L=>ty(L)).reduce(ka,d)}function il(d){return ro(d).map(L=>dc(L)).reduce(ka,d)}function gc(d){let y=`# Access controls for ${de(d)}
`;const _=ao(d),I=rl(d),L=Ba(d),W=tl(d);return _.length===0&&I.length===0&&L.length===0&&W.length===0&&(y+=`
<no policies specified yet>
`),_.length>0&&(y+=`
The following policies apply to this resource:
- `,y+=`${_.join(`
- `)}
`),L.length>0&&(y+=`
The following policies apply to the access control resource for this resource:
- `,y+=`${L.join(`
- `)}
`),I.length>0&&(y+=`
The following policies apply to the children of this resource:
- `,y+=`${I.join(`
- `)}
`),W.length>0&&(y+=`
The following policies apply to the access control resources for children of this resource:
- `,y+=`${W.join(`
- `)}
`),y}const Si="http://www.w3.org/ns/solid/acp#",Fn={AccessControlResource:Si.concat("AccessControlResource"),Matcher:Si.concat("Matcher"),Policy:Si.concat("Policy"),PublicAgent:Si.concat("PublicAgent"),access:Si.concat("access"),accessControl:Si.concat("accessControl"),agent:Si.concat("agent"),allOf:Si.concat("allOf"),allow:Si.concat("allow"),anyOf:Si.concat("anyOf"),apply:Si.concat("apply"),deny:Si.concat("deny"),memberAccessControl:Si.concat("memberAccessControl"),noneOf:Si.concat("noneOf"),vc:Si.concat("vc")},Kf="http://www.w3.org/ns/auth/acl#",al={Append:Kf.concat("Append"),Read:Kf.concat("Read"),Write:Kf.concat("Write")},tu="http://www.w3.org/ns/solid/vc#SolidAccessGrant";function fs(d){const y=mn(d),_=de(y);return hn(y,_)}const ol="defaultAccessControl",sl="defaultAcrAccessControl",yc="defaultMemberAccessControl",So="defaultMemberAcrAccessControl";function ar(d,y){const _=mn(d);return de(_).concat("#").concat(y)}function yr(d,y){const _=mn(d),I=ar(d,y),L=hn(_,I);return L===null||typeof L>"u"?Qn({url:I}):L}function oi(d,y){const _=m(d,y);return{read:_.includes(al.Read),append:_.includes(al.Append),write:_.includes(al.Write),controlRead:!1,controlWrite:!1}}function Gf(d,y){return Object.assign(C(d),{internal_acp:{acr:y}})}function ll(d,y,_){let I=Zn(d,_);return(y.read||y.controlRead)&&(I=Dt(I,_,al.Read)),y.append&&(I=Dt(I,_,al.Append)),(y.write||y.controlWrite)&&(I=Dt(I,_,al.Write)),I}const ds="defaultVcPolicy",mc="defaultVcMatcher";function vc(d,y,_,I){var L;let W=hn(d,y);W===null&&(W=Da({url:y}).addIri(K.type,Fn.Policy).addIri(Fn.anyOf,_).build());const ee=(L=hn(d,_))!==null&&L!==void 0?L:Da({url:_}).addIri(K.type,Fn.Matcher).addIri(Fn.vc,tu).build(),he=oi(W,Fn.allow);return W=ll(W,{...he,...I},Fn.allow),{matcher:ee,policy:W}}function ul(d,y,_={inherit:!1}){var I;let L=mn(d);const W=`${nt(L)}#${ds}`,ee=`${nt(L)}#${mc}`,{policy:he,matcher:Be}=vc(L,W,ee,y);let Ke=yr(d,"defaultAccessControl");m(Ke,Fn.apply).includes(Tn(he))||(Ke=Dt(Ke,Fn.apply,he));let Ze=yr(d,"defaultMemberAccessControl"),Mt=(I=fs(d))!==null&&I!==void 0?I:Qn({url:nt(L)});return m(Mt,Fn.accessControl).includes(Tn(Ke))||(Mt=Dt(Mt,Fn.accessControl,Ke)),L=[Mt,Ke,he,Be].reduce(er,L),_.inherit&&(m(Ze,Fn.apply).includes(Tn(he))||(Ze=Dt(Ze,Fn.apply,he)),m(Mt,Fn.memberAccessControl).includes(Tn(Ze))||(Mt=Dt(Mt,Fn.memberAccessControl,Ze)),L=[Mt,Ze].reduce(er,L)),Gf(d,L)}const mh={read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1},si=(d,y,_)=>m(d,y).includes(Tn(_));function qf(d){const y=mn(d),_=yr(d,"defaultAccessControl"),I=fs(d);if(I===null||!si(I,Fn.accessControl,_))return mh;const L=`${nt(y)}#${ds}`,W=hn(y,L);if(W===null||!si(_,Fn.apply,W))return mh;const ee=`${nt(y)}#${mc}`,he=hn(y,ee);return he===null||!si(W,Fn.anyOf,he)?mh:oi(W,Fn.allow)}async function hs(d,y=ge){const _=w(d),I={...ge,...y},L=await Jr(_,I),W=await Qr(L,I);return{...L,...W}}async function cl(d,y=ge){const _=w(d),I={...ge,...y},L=await qn(_,I),W=await Qr(L,I);return Object.assign(L,W)}async function vi(d,y=ge){const _=w(d),I={...ge,...y},L=await Ee(_,I),W=await Qr(L,I);return{...L,...W}}async function nu(d,y=ge){const _=w(d),I={...ge,...y},L=await Jr(_,I);if(ti(L)){const ee=await qi(L,I);return na(L,ee)}const W=await Qr(L,I);return{...L,...W}}async function ps(d,y=ge){const _=w(d),I={...ge,...y},L=await qn(_,I);if(ti(L)){const ee=await qi(L,I);return na(L,ee)}const W=await Qr(L,I);return Object.assign(L,W)}async function gs(d,y=ge){const _=w(d),I={...ge,...y},L=await Ee(_,I);if(ti(L)){const ee=await qi(L,I);return na(L,ee)}const W=await Qr(L,I);return{...L,...W}}async function zi(d,y=ge){const _=mn(d),I={...ge,...y},L=await U(de(_),_,I);return Ei(d,L)}function _r(d){return typeof d.internal_acp=="object"&&d.internal_acp!==null&&typeof d.internal_acp.acr=="object"&&d.internal_acp.acr!==null}async function Qr(d,y){let _;if(io(d)){const{linkedResources:ee}=d.internal_resourceInfo;[_]=ee[q.accessControl]}else if(ti(d)){let ee;try{ee=await Ee(d.internal_resourceInfo.aclUrl,y)}catch{}ee&&Jg(ee)&&(_=de(ee))}if(typeof _!="string")return{internal_acp:{acr:null}};let I;try{I=await Jr(_,y)}catch{return{internal_acp:{acr:null}}}return{internal_acp:{acr:{...I,accessTo:de(d)}}}}function ys(d){const y=ao(d).map(xr).concat(rl(d).map(xr)).concat(Ba(d).map(xr)).concat(tl(d).map(xr));return Array.from(new Set(y))}async function ms(d,y=ge){const _=w(d),I={...ge,...y},L=await Ee(_,I);return _r(await Qr(L,I))}function ru(d){return f(d)?[q.accessControl,"acl"].map(_=>{if(Array.isArray(d.internal_resourceInfo.linkedResources[_])&&d.internal_resourceInfo.linkedResources[_].length===1)return d.internal_resourceInfo.linkedResources[_][0]}).find(_=>_!==void 0):void 0}function bc(d){return m(d,K.type).includes(q.Rule)}function ja(d,y){return Dt(d,q.allOf,y)}function fl(d,y){return ir(d,q.allOf,y)}function iu(d,y){return gr(d,q.allOf,y)}function Vo(d){return m(d,q.allOf)}function wc(d,y){return Dt(d,q.anyOf,y)}function _c(d,y){return ir(d,q.anyOf,y)}function Ec(d,y){return gr(d,q.anyOf,y)}function vs(d){return m(d,q.anyOf)}function Sc(d,y){return Dt(d,q.noneOf,y)}function Ac(d,y){return ir(d,q.noneOf,y)}function au(d,y){return gr(d,q.noneOf,y)}function Ao(d){return m(d,q.noneOf)}function zf(d){const y=w(d);let _=Qn({url:y});return _=Fa(_,K.type,q.Rule),_}function xc(d,y){const _=mn(d),I=new URL(de(_));I.hash=`#${y}`;let L=Qn({url:I.href});return L=Fa(L,K.type,q.Rule),L}function Rc(d,y){const _=hn(d,y);return _===null||ea(_,K.type)!==q.Rule?null:_}function Wf(d,y){const _=mn(d),I=de(_),L=new URL(I);L.hash=`#${y}`;const W=hn(_,L.href);return W===null||!bc(W)?null:W}function ou(d){return rr(d).filter(bc)}function vh(d){const y=mn(d);return rr(y).filter(bc)}function Tc(d,y){return Ir(d,y)}function bh(d,y){const _=mn(d);let I;if(typeof y=="string")if(Yt(y))I=y;else{const he=new URL(de(_));he.hash=`#${y}`,I=he.href}else H(y)?I=w(y):I=wr(y);const L=Wf(d,new URL(I).hash.substring(1));if(L===null)return d;const W=Ir(_,L);return Ei(d,W)}function Cc(d,y){return er(d,y)}function dl(d,y){const _=mn(d),I=er(_,y);return Ei(d,I)}function Oc(d){return m(d,q.agent).filter(y=>y!==q.PublicAgent&&y!==q.AuthenticatedAgent&&y!==q.CreatorAgent)}function Ic(d,y){const _=gl(d),I=yl(d),L=ml(d);let W=gr(d,q.agent,y);return _&&(W=Nc(W)),I&&(W=Fc(W)),L&&(W=Uc(W)),W}function $o(d,y){return Dt(d,q.agent,y)}function hl(d,y){return ir(d,q.agent,y)}function su(d){return m(d,q.group)}function pl(d,y){return gr(d,q.group,y)}function bs(d,y){return Dt(d,q.group,y)}function Pc(d,y){return ir(d,q.group,y)}function gl(d){return m(d,q.agent).filter(y=>y===q.PublicAgent).length>0}function Nc(d){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return Dt(d,q.agent,q.PublicAgent)}function Jf(d){return ir(d,q.agent,q.PublicAgent)}function yl(d){return m(d,q.agent).filter(y=>y===q.AuthenticatedAgent).length>0}function Fc(d){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return Dt(d,q.agent,q.AuthenticatedAgent)}function Dc(d){return ir(d,q.agent,q.AuthenticatedAgent)}function ml(d){return m(d,q.agent).filter(y=>y===q.CreatorAgent).length>0}function Uc(d){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return Dt(d,q.agent,q.CreatorAgent)}function Lc(d){return ir(d,q.agent,q.CreatorAgent)}function Yf(d){return m(d,q.client).filter(y=>y!==Fe.PublicOidcClient)}function wh(d,y){const _=Mc(d);let I=gr(d,q.client,y);return _&&(I=Qf(I)),I}function ny(d,y){return Dt(d,q.client,y)}function Xf(d,y){return ir(d,q.client,y)}function Mc(d){return m(d,q.client).filter(y=>y===Fe.PublicOidcClient).length>0}function Qf(d){return Dt(d,q.client,Fe.PublicOidcClient)}function Zf(d){return ir(d,q.client,Fe.PublicOidcClient)}function kc(d){let y=`## Rule: ${wr(d)}

`,_="";gl(d)&&(_+=`- Everyone
`),yl(d)&&(_+=`- All authenticated agents
`),ml(d)&&(_+=`- The creator of this resource
`),Mc(d)&&(_+=`- Users of any client application
`);const I=Oc(d);I.length>0&&(_+=`- The following agents:
  - `,_+=`${I.join(`
  - `)}
`);const L=su(d);L.length>0&&(_+=`- Members of the following groups:
  - `,_+=`${L.join(`
  - `)}
`);const W=Yf(d);return W.length>0&&(_+=`- Users of the following client applications:
  - `,_+=`${W.join(`
  - `)}
`),y+=_.length>0?`This rule applies to:
${_}`:`<empty>
`,y}function vl(d){return m(d,K.type).includes(q.Policy)}function lu(d){const y=w(d);let _=Qn({url:y});return _=Fa(_,K.type,q.Policy),_}function uu(d,y){const _=hn(d,y);return _===null||!vl(_)?null:_}function bl(d){return rr(d).filter(I=>!Ri(I)&&vl(I))}function xo(d,y){return Ir(d,y)}function ws(d,y){return er(d,y)}function wl(d,y){let _=Zn(d,q.allow);return y.read===!0&&(_=Dt(_,q.allow,Fr.read)),y.append===!0&&(_=Dt(_,q.allow,Fr.append)),y.write===!0&&(_=Dt(_,q.allow,Fr.write)),_}function _l(d,y){let _=Zn(d,q.allow);return y.read===!0&&(_=Dt(_,q.allow,q.Read)),y.append===!0&&(_=Dt(_,q.allow,q.Append)),y.write===!0&&(_=Dt(_,q.allow,q.Write)),_}function Bc(d){const y=m(d,q.allow);return{read:y.includes(Fr.read),append:y.includes(Fr.append),write:y.includes(Fr.write)}}function Ro(d){const y=m(d,q.allow);return{read:y.includes(q.Read),append:y.includes(q.Append),write:y.includes(q.Write)}}function _h(d,y){let _=Zn(d,q.deny);return y.read===!0&&(_=Dt(_,q.deny,Fr.read)),y.append===!0&&(_=Dt(_,q.deny,Fr.append)),y.write===!0&&(_=Dt(_,q.deny,Fr.write)),_}function jc(d,y){let _=Zn(d,q.deny);return y.read===!0&&(_=Dt(_,q.deny,q.Read)),y.append===!0&&(_=Dt(_,q.deny,q.Append)),y.write===!0&&(_=Dt(_,q.deny,q.Write)),_}function ed(d){const y=m(d,q.deny);return{read:y.includes(Fr.read),append:y.includes(Fr.append),write:y.includes(Fr.write)}}function Ha(d){const y=m(d,q.deny);return{read:y.includes(q.Read),append:y.includes(q.Append),write:y.includes(q.Write)}}function ra(d,y){const _=mn(d),I=new URL(de(_));I.hash=`#${y}`;let L=Qn({url:I.href});return L=Fa(L,K.type,q.Policy),L}function _s(d,y){const _=mn(d),I=de(_),L=new URL(I);L.hash=`#${y}`;const W=hn(_,L.href);return!ao(d).includes(L.href)||W===null||!vl(W)?null:W}function Ko(d,y){const _=mn(d),I=de(_),L=new URL(I);L.hash=`#${y}`;const W=hn(_,L.href);return!Ba(d).includes(L.href)||W===null||!vl(W)?null:W}function El(d){const y=mn(d);return ao(d).map(W=>hn(y,W)).filter(W=>W!==null&&vl(W))}function Hc(d){const y=mn(d);return Ba(d).map(W=>hn(y,W)).filter(W=>W!==null&&vl(W))}function Vc(d,y){const _=mn(d);let I=y;if(typeof I=="string"&&Yt(I)===!1){const Be=new URL(de(_));Be.hash=`#${y}`,I=Be.href}let L;if(typeof I=="string"?L=I:H(I)?L=w(I):L=wr(I,de(_)),_s(d,new URL(L).hash.substring(1))===null)return d;const ee=Ir(_,I),he=Ei(d,ee);return ba(he,L)}function Go(d,y){const _=mn(d);let I=y;if(typeof I=="string"&&Yt(I)===!1){const Be=new URL(de(_));Be.hash=`#${y}`,I=Be.href}let L;if(typeof I=="string"?L=I:H(I)?L=w(I):L=wr(I,de(_)),Ko(d,new URL(L).hash.substring(1))===null)return d;const ee=Ir(_,I),he=Ei(d,ee);return bo(he,L)}function Sl(d,y){const _=mn(d),I=er(_,y),L=Ei(d,I),W=wr(y,de(_));return pc(L,W)}function Ii(d,y){const _=mn(d),I=er(_,y),L=Ei(d,I),W=wr(y,de(_));return eu(L,W)}function wa(d){function y(Be,Ke){return Ke?"denied":Be?"allowed":"unspecified"}const _=Ro(d),I=Ha(d);let L=`## Policy: ${wr(d)}

`;L+=`- Read: ${y(_.read,I.read)}
`,L+=`- Append: ${y(_.append,I.append)}
`,L+=`- Write: ${y(_.write,I.write)}
`;const W=Vo(d),ee=vs(d),he=Ao(d);return W.length===0&&ee.length===0&&he.length===0&&(L+=`
<no rules specified yet>
`),W.length>0&&(L+=`
All of these rules should match:
`,L+=`- ${W.join(`
- `)}
`),ee.length>0&&(L+=`
At least one of these rules should match:
`,L+=`- ${ee.join(`
- `)}
`),he.length>0&&(L+=`
None of these rules should match:
`,L+=`- ${he.join(`
- `)}
`),L}function ia(d){const y=new URL("access-control-resource",d).href;return{...Xt(y),accessTo:d}}function Al(d,y=ia(de(d))){return Object.assign(C(d),{internal_acp:{acr:y,aprs:{}}})}const Es={getFileWithAccessDatasets:ps,getFileWithAcr:cl,getReferencedPolicyUrlAll:ys,getResourceInfoWithAccessDatasets:gs,getResourceInfoWithAcr:vi,getSolidDatasetWithAccessDatasets:nu,getSolidDatasetWithAcr:hs,hasAccessibleAcr:_r,saveAcrFor:zi},qo={acrAsMarkdown:gc,addAcrPolicyUrl:eu,addMemberAcrPolicyUrl:el,addMemberPolicyUrl:_o,addPolicyUrl:pc,getAcrPolicyUrlAll:Ba,getMemberAcrPolicyUrlAll:tl,getMemberPolicyUrlAll:rl,getPolicyUrlAll:ao,hasLinkedAcr:io,removeAcrPolicyUrl:bo,removeAcrPolicyUrlAll:wo,removeMemberAcrPolicyUrl:hc,removeMemberAcrPolicyUrlAll:nl,removeMemberPolicyUrl:Eo,removeMemberPolicyUrlAll:il,removePolicyUrl:ba,removePolicyUrlAll:Ho},Ai={createPolicy:lu,getAllowModes:Ro,getDenyModes:Ha,getPolicy:uu,getPolicyAll:bl,policyAsMarkdown:wa,removePolicy:xo,setAllowModes:_l,setDenyModes:jc,setPolicy:ws},td={addAgent:$o,addForbiddenRuleUrl:Sc,addGroup:bs,addOptionalRuleUrl:wc,addRequiredRuleUrl:ja,createRule:zf,getAgentAll:Oc,getForbiddenRuleUrlAll:Ao,getGroupAll:su,getOptionalRuleUrlAll:vs,getRequiredRuleUrlAll:Vo,getRule:Rc,getRuleAll:ou,hasAuthenticated:yl,hasCreator:ml,hasPublic:gl,removeAgent:hl,removeForbiddenRuleUrl:Ac,removeGroup:Pc,removeOptionalRuleUrl:_c,removeRequiredRuleUrl:fl,removeRule:Tc,ruleAsMarkdown:kc,setAgent:Ic,setForbiddenRuleUrl:au,setGroup:pl,setOptionalRuleUrl:Ec,setRequiredRuleUrl:iu,setRule:Cc},Eh={addMockAcrTo:Al,mockAcrFor:ia};function nd(d,y){return y?Nc(d):Jf(d)}function Sh(d,y){return y?Fc(d):Dc(d)}function Ah(d,y){return y?Uc(d):Lc(d)}const rd={...Es,...qo,...Ai,...td,...Eh,...{getForbiddenRuleurlAll:Ao,setPublic:nd,setAuthenticated:Sh,setCreator:Ah}},iy={...{getFileWithAccessDatasets:ps,getFileWithAcr:cl,getReferencedPolicyUrlAll:ys,getResourceInfoWithAccessDatasets:gs,getResourceInfoWithAcr:vi,getSolidDatasetWithAccessDatasets:nu,getSolidDatasetWithAcr:hs,hasAccessibleAcr:_r,saveAcrFor:zi},...{createPolicy:lu,getAllowModes:Ro,getDenyModes:Ha,getPolicy:uu,getPolicyAll:bl,policyAsMarkdown:wa,removePolicy:xo,setAllowModes:_l,setDenyModes:jc,setPolicy:ws},...{addAgent:$o,addForbiddenRuleUrl:Sc,addGroup:bs,addOptionalRuleUrl:wc,addRequiredRuleUrl:ja,createRule:zf,getAgentAll:Oc,getForbiddenRuleUrlAll:Ao,getGroupAll:su,getOptionalRuleUrlAll:vs,getRequiredRuleUrlAll:Vo,getRule:Rc,getRuleAll:ou,hasAuthenticated:yl,hasCreator:ml,hasPublic:gl,removeAgent:hl,removeForbiddenRuleUrl:Ac,removeGroup:Pc,removeOptionalRuleUrl:_c,removeRequiredRuleUrl:fl,removeRule:Tc,ruleAsMarkdown:kc,setAgent:Ic,setForbiddenRuleUrl:au,setGroup:pl,setOptionalRuleUrl:Ec,setRequiredRuleUrl:iu,setRule:Cc},...{addMockAcrTo:Al,mockAcrFor:ia},...{hasLinkedAcr:io,addAcrPolicyUrl:eu,addMemberAcrPolicyUrl:el,getAcrPolicyUrlAll:Ba,getMemberAcrPolicyUrlAll:tl,removeAcrPolicyUrl:bo,removeAcrPolicyUrlAll:wo,removeMemberAcrPolicyUrl:hc,removeMemberAcrPolicyUrlAll:nl},...{createControl:Zl,getControl:fc,getAllControl:ro,getControlAll:ro,setControl:ka,removeControl:ay,addPolicyUrl:Zs,getPolicyUrlAll:ey,removePolicyUrl:hh,removePolicyUrlAll:ty,addMemberPolicyUrl:ph,getMemberPolicyUrlAll:jo,removeMemberPolicyUrl:jo,removeMemberPolicyUrlAll:dc,getForbiddenRuleurlAll:Ao,setPublic:nd,setAuthenticated:Sh,setCreator:Ah}};function ay(d,y){const _=mn(d),I=Ir(_,y);return Ei(d,I)}const oy={...{getFileWithAccessDatasets:ps,getFileWithAcr:cl,getLinkedAcrUrl:ru,getReferencedPolicyUrlAll:ys,getResourceInfoWithAccessDatasets:gs,getResourceInfoWithAcr:vi,getSolidDatasetWithAccessDatasets:nu,getSolidDatasetWithAcr:hs,hasAccessibleAcr:_r,saveAcrFor:zi,isAcpControlled:ms},...{acrAsMarkdown:gc,addAcrPolicyUrl:eu,addMemberAcrPolicyUrl:el,addMemberPolicyUrl:_o,addPolicyUrl:pc,getAcrPolicyUrlAll:Ba,getMemberAcrPolicyUrlAll:tl,getMemberPolicyUrlAll:rl,getPolicyUrlAll:ao,hasLinkedAcr:io,removeAcrPolicyUrl:bo,removeAcrPolicyUrlAll:wo,removeMemberAcrPolicyUrl:hc,removeMemberAcrPolicyUrlAll:nl,removeMemberPolicyUrl:Eo,removeMemberPolicyUrlAll:il,removePolicyUrl:ba,removePolicyUrlAll:Ho},...{createPolicy:lu,getAllowModes:Ro,getDenyModes:Ha,getPolicy:uu,getPolicyAll:bl,policyAsMarkdown:wa,removePolicy:xo,setAllowModes:_l,setDenyModes:jc,setPolicy:ws,createResourcePolicyFor:ra,getResourceAcrPolicy:Ko,getResourceAcrPolicyAll:Hc,getResourcePolicy:_s,getResourcePolicyAll:El,removeResourceAcrPolicy:Go,removeResourcePolicy:Vc,setResourceAcrPolicy:Ii,setResourcePolicy:Sl},...{addAgent:$o,addGroup:bs,createRule:zf,getAgentAll:Oc,getGroupAll:su,getRule:Rc,getRuleAll:ou,removeAgent:hl,removeGroup:Pc,removeRule:Tc,ruleAsMarkdown:kc,setAgent:Ic,setGroup:pl,setRule:Cc,addClient:ny,getClientAll:Yf,hasAnyClient:Mc,removeClient:Xf,setAnyClient:Qf,setClient:wh,removeAnyClient:Zf,hasAuthenticated:yl,hasCreator:ml,hasPublic:gl,setAuthenticated:Fc,setCreator:Uc,setPublic:Nc,removeAuthenticated:Dc,removeCreator:Lc,removePublic:Jf,getAnyOfRuleUrlAll:vs,addAnyOfRuleUrl:wc,removeAnyOfRuleUrl:_c,setAnyOfRuleUrl:Ec,getAllOfRuleUrlAll:Vo,addAllOfRuleUrl:ja,removeAllOfRuleUrl:fl,setAllOfRuleUrl:iu,getNoneOfRuleUrlAll:Ao,addNoneOfRuleUrl:Sc,removeNoneOfRuleUrl:Ac,setNoneOfRuleUrl:au,createResourceRuleFor:xc,getResourceRule:Wf,getResourceRuleAll:vh,removeResourceRule:bh,setResourceRule:dl},...{addMockAcrTo:Al,mockAcrFor:ia}};function _a(d,y){return Object.assign(C(d),{internal_acp:{...d.internal_acp,acr:er(d.internal_acp.acr,y)}})}function Rh(d){return d.includes("Member")?Fn.memberAccessControl:Fn.accessControl}function $c(d,y){const _=ar(d,y),I=mn(d);let L=fs(d);return(L===null||typeof L>"u")&&(L=Qn({url:de(I)})),m(L,Rh(y)).includes(_)?d:(L=Da(L).addUrl(Rh(y),_).build(),_a(d,L))}function fu(d,y){const _=$c(d,sl),I=yr(_,sl);return _a(_,Da(I).addUrl(Fn.access,y).build())}function id(d,y){const _=$c(d,So),I=yr(_,So);return _a(_,Da(I).addUrl(Fn.access,y).build())}function Th(d,y){const _=$c(d,yc),I=yr(_,yc);return _a(_,Da(I).addUrl(Fn.apply,y).build())}function ad(d,y){const _=$c(d,ol),I=yr(_,ol);return _a(_,Da(I).addUrl(Fn.apply,y).build())}function Ch(d){const y=fs(d);return y===null?[]:m(y,Fn.accessControl)}function du(d,y,_){const I=mn(d);return Array.from(new Set(y.map(L=>{const W=hn(I,L);return W!==null?m(W,_):[]}).reduce((L,W)=>L.concat(W),[])))}function Kc(d){return du(d,Ch(d),Fn.access)}function od(d){const y=fs(d);return y===null?[]:m(y,Fn.memberAccessControl)}function Oh(d){return du(d,od(d),Fn.access)}function sd(d){return du(d,od(d),Fn.apply)}function hu(d){return du(d,Ch(d),Fn.apply)}function ld(d,y){const _=yr(d,sl);return _a(d,ir(_,Fn.access,y))}function Ih(d,y){const _=yr(d,So);return _a(d,ir(_,Fn.access,y))}function ud(d,y){const _=yr(d,yc);return _a(d,ir(_,Fn.apply,y))}function Ph(d,y){const _=yr(d,ol);return _a(d,ir(_,Fn.apply,y))}function To(d,y){return _a(d,y)}function pu(d){return m(d,K.type).includes(q.Matcher)}function sy(d,y){return Dt(d,q.allOf,y)}function Nh(d,y){return ir(d,q.allOf,y)}function Co(d,y){return gr(d,q.allOf,y)}function Gc(d){return m(d,q.allOf)}function qc(d,y){return Dt(d,q.anyOf,y)}function gu(d,y){return ir(d,q.anyOf,y)}function ri(d,y){return gr(d,q.anyOf,y)}function cd(d){return m(d,q.anyOf)}function ly(d,y){return Dt(d,q.noneOf,y)}function Fh(d,y){return ir(d,q.noneOf,y)}function yu(d,y){return gr(d,q.noneOf,y)}function oo(d){return m(d,q.noneOf)}function Dh(d){const y=w(d);let _=Qn({url:y});return _=Fa(_,K.type,q.Matcher),_}function zc(d,y){const _=mn(d),I=new URL(de(_));I.hash=`#${y}`;let L=Qn({url:I.href});return L=Fa(L,K.type,q.Matcher),L}function mu(d,y){const _=hn(d,y);return _===null||!pu(_)?null:_}function Va(d,y){const _=mn(d),I=de(_),L=new URL(I);L.hash=`#${y}`;const W=hn(_,L.href);return W===null||!pu(W)?null:W}function Uh(d){return rr(d).filter(pu)}function fd(d){const y=mn(d);return rr(y).filter(pu)}function Lh(d,y){return Ir(d,y)}function dd(d,y){const _=mn(d);let I;if(typeof y=="string")if(Yt(y))I=y;else{const he=new URL(de(_));he.hash=`#${y}`,I=he.href}else H(y)?I=w(y):I=wr(y);const L=Va(d,new URL(I).hash.substring(1));if(L===null)return d;const W=Ir(_,L);return Ei(d,W)}function hd(d,y){return er(d,y)}function zo(d,y){const _=mn(d),I=er(_,y);return Ei(d,I)}function Mh(d){return m(d,q.agent).filter(y=>y!==q.PublicAgent&&y!==q.AuthenticatedAgent&&y!==q.CreatorAgent)}function Oo(d,y){const _=pd(d),I=gd(d),L=Li(d);let W=gr(d,q.agent,y);return _&&(W=bi(W)),I&&(W=yd(W)),L&&(W=so(W)),W}function li(d,y){return Dt(d,q.agent,y)}function Wc(d,y){return ir(d,q.agent,y)}function pd(d){return m(d,q.agent).filter(y=>y===q.PublicAgent).length>0}function bi(d){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return Dt(d,q.agent,q.PublicAgent)}function uy(d){return ir(d,q.agent,q.PublicAgent)}function gd(d){return m(d,q.agent).filter(y=>y===q.AuthenticatedAgent).length>0}function yd(d){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return Dt(d,q.agent,q.AuthenticatedAgent)}function ni(d){return ir(d,q.agent,q.AuthenticatedAgent)}function Li(d){return m(d,q.agent).filter(y=>y===q.CreatorAgent).length>0}function so(d){if(typeof arguments=="object"&&typeof arguments[1]=="boolean")throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return Dt(d,q.agent,q.CreatorAgent)}function kh(d){return ir(d,q.agent,q.CreatorAgent)}function Bh(d){return m(d,q.client).filter(y=>y!==Fe.PublicOidcClient).concat(De(d,q.client))}function a0(d,y){const _=$a(d);let I=gr(d,q.client,y);return _&&(I=jh(I)),I}function md(d,y){return Yt(y)?Dt(d,q.client,y):Yr(d,q.client,y)}function aa(d,y){return Yt(y)?ir(d,q.client,y):Mo(d,q.client,y)}function $a(d){return m(d,q.client).filter(y=>y===Fe.PublicOidcClient).length>0}function jh(d){return Dt(d,q.client,Fe.PublicOidcClient)}function Ea(d){return ir(d,q.client,Fe.PublicOidcClient)}const Hh={...{getFileWithAccessDatasets:ps,getFileWithAcr:cl,getReferencedPolicyUrlAll:ys,getResourceInfoWithAccessDatasets:gs,getResourceInfoWithAcr:vi,getSolidDatasetWithAccessDatasets:nu,getSolidDatasetWithAcr:hs,hasAccessibleAcr:_r,saveAcrFor:zi,isAcpControlled:ms,getVcAccess:qf,setVcAccess:ul},...{addAcrPolicyUrl:fu,addMemberAcrPolicyUrl:id,addMemberPolicyUrl:Th,addPolicyUrl:ad,getAcrPolicyUrlAll:Kc,getMemberAcrPolicyUrlAll:Oh,getMemberPolicyUrlAll:sd,getPolicyUrlAll:hu,hasLinkedAcr:io,removeAcrPolicyUrl:ld,removeAcrPolicyUrlAll:wo,removeMemberAcrPolicyUrl:Ih,removeMemberAcrPolicyUrlAll:nl,removeMemberPolicyUrl:ud,removeMemberPolicyUrlAll:il,removePolicyUrl:Ph,removePolicyUrlAll:Ho},...{createPolicy:lu,getAllowModes:Bc,getDenyModes:ed,getPolicy:uu,getPolicyAll:bl,removePolicy:xo,setAllowModes:wl,setDenyModes:_h,setPolicy:ws,createResourcePolicyFor:ra,getResourceAcrPolicy:Ko,getResourceAcrPolicyAll:Hc,getResourcePolicy:_s,getResourcePolicyAll:El,removeResourceAcrPolicy:Go,removeResourcePolicy:Vc,setResourcePolicy:To},...{addAgent:li,createMatcher:Dh,getAgentAll:Mh,getMatcher:mu,getMatcherAll:Uh,removeAgent:Wc,removeMatcher:Lh,setAgent:Oo,setMatcher:hd,addClient:md,getClientAll:Bh,hasAnyClient:$a,removeClient:aa,setAnyClient:jh,setClient:a0,removeAnyClient:Ea,hasAuthenticated:gd,hasCreator:Li,hasPublic:pd,setAuthenticated:yd,setCreator:so,setPublic:bi,removeAuthenticated:ni,removeCreator:kh,removePublic:uy,getAnyOfMatcherUrlAll:cd,addAnyOfMatcherUrl:qc,removeAnyOfMatcherUrl:gu,setAnyOfMatcherUrl:ri,getAllOfMatcherUrlAll:Gc,addAllOfMatcherUrl:sy,removeAllOfMatcherUrl:Nh,setAllOfMatcherUrl:Co,getNoneOfMatcherUrlAll:oo,addNoneOfMatcherUrl:ly,removeNoneOfMatcherUrl:Fh,setNoneOfMatcherUrl:yu,createResourceMatcherFor:zc,getResourceMatcher:Va,getResourceMatcherAll:fd,removeResourceMatcher:dd,setResourceMatcher:zo},...{addMockAcrTo:Al,mockAcrFor:ia}},Ka=[q.agent,q.group];function Tl(d,y,_){if(d.inaccessibleUrls.length>0)return null;const I=d.acrPolicies.filter(Ze=>Wo(Ze,y,_,d)),L=d.policies.filter(Ze=>Wo(Ze,y,_,d)),W={read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1},ee=I.reduce((Ze,Mt)=>{const Kt={...Ze},rn=Ro(Mt);return rn.read&&(Kt.controlRead=!0),rn.write&&(Kt.controlWrite=!0),Kt},W),he=L.reduce((Ze,Mt)=>{const Kt={...Ze},rn=Ro(Mt);return rn.read&&(Kt.read=!0),rn.append&&(Kt.append=!0),rn.write&&(Kt.write=!0),Kt},ee),Be=I.reduce((Ze,Mt)=>{const Kt={...Ze},rn=Ha(Mt);return rn.read===!0&&(Kt.controlRead=!1),rn.write===!0&&(Kt.controlWrite=!1),Kt},he);return L.reduce((Ze,Mt)=>{const Kt={...Ze},rn=Ha(Mt);return rn.read===!0&&(Kt.read=!1),rn.append===!0&&(Kt.append=!1),rn.write===!0&&(Kt.write=!1),Kt},Be)}function bu(d,y){return Tl(d,q.agent,y)}function Jc(d,y){return Tl(d,q.group,y)}function Yc(d){return Tl(d,q.agent,q.PublicAgent)}function Wo(d,y,_,I){const L=m(d,q.allow),W=m(d,q.deny);if(L.length+W.length===0)return!1;const ee=Vo(d).map(Ke=>I.rules.find(Ze=>Tn(Ze)===Ke)),he=vs(d).map(Ke=>I.rules.find(Ze=>Tn(Ze)===Ke)),Be=Ao(d).map(Ke=>I.rules.find(Ze=>Tn(Ze)===Ke));return ee.every(Ke=>$h(Ke,y,_))&&(he.length===0||he.some(Ke=>$h(Ke,y,_)))&&Be.length===0}function Vh(d,y){const _=m(d,q.allow),I=m(d,q.deny);return y.read===!0&&I.includes(q.Read)||y.read===!1&&_.includes(q.Read)&&!I.includes(q.Read)||y.append===!0&&I.includes(q.Append)||y.append===!1&&_.includes(q.Append)&&!I.includes(q.Append)||y.write===!0&&I.includes(q.Write)||y.write===!1&&_.includes(q.Write)&&!I.includes(q.Write)}function $h(d,y,_){let I=!0;return Ka.forEach(L=>{I&&(I=hi(d,L)===null)}),I||m(d,y).includes(_)}function Xc(d,y){const _=new Set;return d.rules.forEach(I=>{m(I,y).filter(L=>![q.PublicAgent,q.CreatorAgent,q.AuthenticatedAgent].includes(L)||y!==q.agent).forEach(L=>_.add(L))}),_}function Kh(d,y){if(d.inaccessibleUrls.length>0)return null;const _={};return Xc(d,y).forEach(L=>{const W=Tl(d,y,L);_[L]=W}),_}function vd(d){return Kh(d,q.group)}function fy(d){return Kh(d,q.agent)}function Gh(d,y,_,I,L){var W,ee,he,Be,Ke;if(!_r(d)||y.inaccessibleUrls.length>0)return null;const Ze=Tl(y,_,I);if(Ze===null)return null;const Mt=y.acrPolicies.filter(On=>Wo(On,_,I,y)),Kt=y.policies.filter(On=>Wo(On,_,I,y)),rn=Mt.filter(On=>Vh(On,{read:L.controlRead,write:L.controlWrite})),Nn=Kt.filter(On=>Vh(On,{read:L.read,append:L.append,write:L.write})),ur=rn.filter(On=>mr(On,_,I,y)),Yn=Nn.filter(On=>mr(On,_,I,y)),Ga={...y,acrPolicies:y.acrPolicies.filter(On=>!ur.includes(On)),policies:y.policies.filter(On=>!Yn.includes(On))},$r=Tl(Ga,_,I);if($r===null)return null;let An=d;ur.forEach(On=>{const[or,Xo]=Br(On,d,y,_,I);An=Ii(An,or),An=Xo.reduce(dl,An)}),Yn.forEach(On=>{const[or,Xo]=Br(On,d,y,_,I);An=Sl(An,or),An=Xo.reduce(dl,An)});const ki=`rule_${encodeURIComponent(`${_}_${I}`)}`;let wi=xc(d,ki);wi=gr(wi,_,I);const sa=(W=L.controlRead)!==null&&W!==void 0?W:Ze.controlRead,Bi=(ee=L.controlWrite)!==null&&ee!==void 0?ee:Ze.controlWrite;let Ts=ur;if(sa!==$r.controlRead||Bi!==$r.controlWrite){const On=u.v4();let or=ra(d,On);or=_l(or,{read:sa===!0,append:!1,write:Bi===!0}),or=Dt(or,q.allOf,wi),An=Ii(An,or),An=dl(An,wi),Ts=rn}const co=(he=L.read)!==null&&he!==void 0?he:Ze.read,ff=(Be=L.append)!==null&&Be!==void 0?Be:Ze.append,df=(Ke=L.write)!==null&&Ke!==void 0?Ke:Ze.write;let Nl=Yn;if(co!==$r.read||ff!==$r.append||df!==$r.write){const On=u.v4();let or=ra(d,On);or=_l(or,{read:co===!0,append:ff===!0,write:df===!0}),or=Dt(or,q.allOf,wi),An=Sl(An,or),An=dl(An,wi),Nl=Nn}return Ts.forEach(On=>{An=bo(An,Tn(On))}),Nl.forEach(On=>{An=ba(An,Tn(On))}),An}function s0(d,y,_,I){return Gh(d,y,q.agent,_,I)}function Vr(d,y,_,I){return Gh(d,y,q.group,_,I)}function Zr(d,y,_){return Gh(d,y,q.agent,q.PublicAgent,_)}function mr(d,y,_,I){const W=m(d,q.allOf).map(Ze=>I.rules.find(Mt=>Tn(Mt)===Ze)).some(Ze=>Er(Ze,y,_)),he=m(d,q.anyOf).map(Ze=>I.rules.find(Mt=>Tn(Mt)===Ze)).some(Ze=>Er(Ze,y,_)),Ke=m(d,q.noneOf).map(Ze=>I.rules.find(Mt=>Tn(Mt)===Ze)).some(Ze=>Er(Ze,y,_));return W||he||Ke}function Er(d,y,_){const I=[];return Ka.forEach(L=>{const W=m(d,L).filter(ee=>ee!==_||L!==y);I.push(...W)}),I.length>0}function Br(d,y,_,I,L){const W=u.v4(),ee=Wi(m(d,q.allOf),y,_,W,I,L),he=Wi(m(d,q.anyOf),y,_,W,I,L),Be=Wi(m(d,q.noneOf),y,_,W,I,L);let Ke=ra(y,encodeURI(Tn(d))+W);return m(d,q.allow).forEach(Ze=>{Ke=Dt(Ke,q.allow,Ze)}),m(d,q.deny).forEach(Ze=>{Ke=Dt(Ke,q.deny,Ze)}),ee.forEach(Ze=>{Ke=Dt(Ke,q.allOf,Ze)}),he.forEach(Ze=>{Ke=Dt(Ke,q.anyOf,Ze)}),Be.forEach(Ze=>{Ke=Dt(Ke,q.noneOf,Ze)}),[Ke,ee.concat(he).concat(Be)]}function Wi(d,y,_,I,L,W){return d.map(ee=>{const he=_.rules.find(Ze=>Tn(Ze)===ee);if(typeof he>"u")return null;let Be=xc(y,encodeURI(Tn(he))+I),Ke=!1;return Ka.forEach(Ze=>{m(he,Ze).forEach(Mt=>{Ze===L&&Mt===W||(Ke=!0,Be=Dt(Be,Ze,Mt))})}),Ke?Be:null}).filter(lo)}function lo(d){return d!==null}async function Sa(d,y=ge){const _=Ba(d),I=ao(d),L=Io(_).concat(Io(I)),W=await ui(L,y),ee=Po(_,W).filter(lo),he=Po(I,W).filter(lo),Be=new Set;ee.forEach(Yn=>{Ss(Yn).forEach($r=>{Be.add($r)})}),he.forEach(Yn=>{Ss(Yn).forEach($r=>{Be.add($r)})});const Ke=Array.from(Be),Mt=Ke.map(Yn=>Qc(Yn)).filter(Yn=>!L.includes(Yn)),Kt=await ui(Mt,y),rn={...W,...Kt},Nn=Po(Ke,rn).filter(lo);return{inaccessibleUrls:Object.keys(rn).filter(Yn=>rn[Yn]===null),acrPolicies:ee,policies:he,rules:Nn}}function Qc(d){const y=new URL(d);return y.hash="",y.href}function Io(d){const y=[];return d.forEach(_=>{const I=Qc(_);y.includes(I)||y.push(I)}),y}async function ui(d,y){const _=Array.from(new Set(d)),I={};return await Promise.all(_.map(async L=>{try{const W=await Jr(L,y);I[L]=W}catch{I[L]=null}})),I}function Po(d,y){return d.map(_=>{const I=Qc(_),L=y[I];return L?hn(L,_):null})}function Ss(d){return Vo(d).concat(vs(d)).concat(Ao(d))}function bd(d,y){var _,I,L,W;if(d.controlRead!==d.controlWrite)throw new Error("For Pods using Web Access Control, controlRead and controlWrite must be equal.");return{read:(_=d.read)!==null&&_!==void 0?_:y.read,append:(I=d.append)!==null&&I!==void 0?I:y.append,write:(L=d.write)!==null&&L!==void 0?L:y.write,control:(W=d.controlRead)!==null&&W!==void 0?W:y.control}}function oa(d){return{read:d.read,write:d.write,append:d.append,controlRead:d.control,controlWrite:d.control}}async function Cl(d,y,_,I){const L=await qi(d,I),W=_(na(d,L),y);return W===null?null:oa(W)}async function Zc(d,y,_){const I=await qi(d,_),L=y(na(d,I));return L===null?null:oa(L)}async function Ji(d,y,_){const I=await qi(d,_),L=y(na(d,I));if(L===null)return null;const W={};for(const[ee,he]of Object.entries(L))W[ee]=oa(he);return W}function As(d,y,_=ge){return Cl(d,y,ac,_)}function wd(d,y,_=ge){return Cl(d,y,lc,_)}function Jo(d,y=ge){return Zc(d,jf,y)}function wu(d,y=ge){return Ji(d,Ws,y)}function xs(d,y=ge){return Ji(d,kf,y)}async function Ti(d,y){if(!ti(d))return null;const _=await qi(d,y),I=na(d,_);let L;if(ya(I))L=Lf(I);else if(mi(I))L=lh(I);else return null;return Uf(I,L)}async function Yo(d,y,_){let I=null;try{return I=await ic(d,y,_),Uf(d,I)}catch{return null}}async function _u(d,y,_,I,L){const W=await Ti(d,L);if(W===null)return null;const ee=nc(W),he=_(W),Be=bd(y,he),Ke=I(ee,Be);return Yo(W,Ke,L)}async function Ol(d,y,_,I,L,W){const ee=await Ti(d,W);if(ee===null)return null;const he=I(ee,y),Be=nc(ee),Ke=bd(_,he),Ze=L(Be,y,Ke);return Yo(ee,Ze,W)}async function ef(d,y,_,I=ge){return Ol(d,y,_,ac,sc,I)}async function qh(d,y,_,I=ge){return Ol(d,y,_,lc,ls,I)}async function _d(d,y,_=ge){return _u(d,y,jf,ch,_)}var tf=Object.freeze({__proto__:null,getAccessFor:nf,getAccessForAll:Yi,getAgentAccess:Mi,getAgentAccessAll:Ad,getGroupAccess:xd,getGroupAccessAll:No,getPublicAccess:Su,setAccessFor:Ed,setAgentAccess:Sd,setGroupAccess:Eu,setPublicAccess:Rs});async function nf(d,y,_=ge,I=ge){if(y==="agent"){if(typeof _!="string")throw new Error("When reading Agent-specific access, the given agent cannot be left undefined.");return Mi(d,_,I)}if(y==="group"){if(typeof _!="string")throw new Error("When reading Group-specific access, the given group cannot be left undefined.");return xd(d,_,I)}if(y==="public"){if(typeof _=="string")throw new Error(`When reading public access, no actor type should be specified (here [${_}]).`);return Su(d,_)}return null}async function Yi(d,y,_=ge){return y==="agent"?Ad(d,_):y==="group"?No(d,_):null}async function Ed(d,y,_,I=ge,L=ge){if(y==="agent"){if(typeof I!="string")throw new Error("When writing Agent-specific access, the given agent cannot be left undefined.");return Sd(d,I,_,L)}if(y==="group"){if(typeof I!="string")throw new Error("When writing Group-specific access, the given group cannot be left undefined.");return Eu(d,I,_,L)}if(y==="public"){if(typeof I=="string")throw new Error(`When writing public access, no actor type should be specified (here [${I}]).`);return Rs(d,_,I)}return null}async function Mi(d,y,_=ge){const I=await vi(d,_);if(_r(I)){const L=await Sa(I,_);return bu(L,y)}return ti(I)?As(I,y,_):null}async function Sd(d,y,_,I=ge){const L=await vi(d,I);if(_r(L)){const W=await Sa(L,I),ee=s0(L,W,y,_);if(ee)try{return await zi(ee,I),await Mi(d,y,I)}catch{return null}return null}if(ti(L)){if(_.controlRead!==_.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${nt(L)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);return await ef(L,y,_,I),As(L,y,I)}return null}async function Ad(d,y=ge){const _=await vi(d,y);if(_r(_)){const I=await Sa(_,y);return fy(I)}return ti(_)?wu(_,y):null}async function xd(d,y,_=ge){const I=await vi(d,_);if(_r(I)){const L=await Sa(I,_);return Jc(L,y)}return ti(I)?wd(I,y,_):null}async function No(d,y=ge){const _=await vi(d,y);if(_r(_)){const I=await Sa(_,y);return vd(I)}return ti(_)?xs(_,y):null}async function Eu(d,y,_,I=ge){const L=await vi(d,I);if(_r(L)){const W=await Sa(L,I),ee=Vr(L,W,y,_);if(ee)try{return await zi(ee,I),await xd(d,y,I)}catch{return null}return null}if(ti(L)){if(_.controlRead!==_.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${nt(L)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);return await qh(L,y,_,I),wd(L,y,I)}return null}async function Su(d,y=ge){const _=await vi(d,y);if(_r(_)){const I=await Sa(_,y);return Yc(I)}return ti(_)?Jo(_,y):null}async function Rs(d,y,_=ge){const I=await vi(d,_);if(_r(I)){const L=await Sa(I,_),W=Zr(I,L,y);if(W)try{return await zi(W,_),await Su(d,_)}catch{return null}return null}if(ti(I)){if(y.controlRead!==y.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${nt(I)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);return await _d(I,y,_),Jo(I,_)}return null}var dy=Object.freeze({__proto__:null,getAccessFor:nf,getAccessForAll:Yi,getAgentAccess:Mi,getAgentAccessAll:Ad,getGroupAccess:xd,getGroupAccessAll:No,getPublicAccess:Su,setAccessFor:Ed,setAgentAccess:Sd,setGroupAccess:Eu,setPublicAccess:Rs});const zh=[q.agent];function Au(d,y,_){if(d.inaccessibleUrls.length>0)return null;const I=d.acrPolicies.filter(Ze=>Rd(Ze,y,_,d)),L=d.policies.filter(Ze=>Rd(Ze,y,_,d)),W={read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1},ee=I.reduce((Ze,Mt)=>{const Kt={...Ze},rn=Bc(Mt);return rn.read&&(Kt.controlRead=!0),rn.write&&(Kt.controlWrite=!0),Kt},W),he=L.reduce((Ze,Mt)=>{const Kt={...Ze},rn=Bc(Mt);return rn.read&&(Kt.read=!0),rn.append&&(Kt.append=!0),rn.write&&(Kt.write=!0),Kt},ee),Be=I.reduce((Ze,Mt)=>{const Kt={...Ze},rn=ed(Mt);return rn.read===!0&&(Kt.controlRead=!1),rn.write===!0&&(Kt.controlWrite=!1),Kt},he);return L.reduce((Ze,Mt)=>{const Kt={...Ze},rn=ed(Mt);return rn.read===!0&&(Kt.read=!1),rn.append===!0&&(Kt.append=!1),rn.write===!0&&(Kt.write=!1),Kt},Be)}function Wh(d,y){return Au(d,q.agent,y)}function Jh(d){return Au(d,q.agent,q.PublicAgent)}function Rd(d,y,_,I){const L=m(d,q.allow),W=m(d,q.deny);if(L.length+W.length===0)return!1;const ee=Gc(d).map(Ke=>I.matchers.find(Ze=>Tn(Ze)===Ke)),he=cd(d).map(Ke=>I.matchers.find(Ze=>Tn(Ze)===Ke)),Be=oo(d).map(Ke=>I.matchers.find(Ze=>Tn(Ze)===Ke));return ee.every(Ke=>py(Ke,y,_))&&(he.length===0||he.some(Ke=>py(Ke,y,_)))&&ee.length+he.length>0&&Be.length===0}function hy(d,y){const _=m(d,q.allow),I=m(d,q.deny);return y.read===!0&&I.includes(Fr.read)||y.read===!1&&_.includes(Fr.read)&&!I.includes(Fr.read)||y.append===!0&&I.includes(Fr.append)||y.append===!1&&_.includes(Fr.append)&&!I.includes(Fr.append)||y.write===!0&&I.includes(Fr.write)||y.write===!1&&_.includes(Fr.write)&&!I.includes(Fr.write)}function py(d,y,_){return m(d,y).includes(_)}function gy(d,y){const _=new Set;return d.matchers.forEach(I=>{m(I,y).filter(L=>![q.PublicAgent,q.CreatorAgent,q.AuthenticatedAgent].includes(L)||y!==q.agent).forEach(L=>_.add(L))}),_}function yy(d,y){if(d.inaccessibleUrls.length>0)return null;const _={};return gy(d,y).forEach(L=>{const W=Au(d,y,L);_[L]=W}),_}function xu(d){return yy(d,q.agent)}function rf(d,y,_,I,L){var W,ee,he,Be,Ke;if(!_r(d)||y.inaccessibleUrls.length>0)return null;const Ze=Au(y,_,I);if(Ze===null)return null;const Mt=y.acrPolicies.filter(On=>Rd(On,_,I,y)),Kt=y.policies.filter(On=>Rd(On,_,I,y)),rn=Mt.filter(On=>hy(On,{read:L.controlRead,write:L.controlWrite})),Nn=Kt.filter(On=>hy(On,{read:L.read,append:L.append,write:L.write})),ur=rn.filter(On=>Yh(On,_,I,y)),Yn=Nn.filter(On=>Yh(On,_,I,y)),Ga={...y,acrPolicies:y.acrPolicies.filter(On=>!ur.includes(On)),policies:y.policies.filter(On=>!Yn.includes(On))},$r=Au(Ga,_,I);if($r===null)return null;let An=d;ur.forEach(On=>{const[or,Xo]=Xh(On,d,y,_,I);An=Ii(An,or),An=Xo.reduce(zo,An)}),Yn.forEach(On=>{const[or,Xo]=Xh(On,d,y,_,I);An=Sl(An,or),An=Xo.reduce(zo,An)});const ki=`matcher_${encodeURIComponent(`${_}_${I}`)}`;let wi=zc(d,ki);wi=gr(wi,_,I);const sa=(W=L.controlRead)!==null&&W!==void 0?W:Ze.controlRead,Bi=(ee=L.controlWrite)!==null&&ee!==void 0?ee:Ze.controlWrite;let Ts=ur;if(sa!==$r.controlRead||Bi!==$r.controlWrite){const On=u.v4();let or=ra(d,On);or=wl(or,{read:sa===!0,append:!1,write:Bi===!0}),or=Dt(or,q.allOf,wi),An=Ii(An,or),An=zo(An,wi),Ts=rn}const co=(he=L.read)!==null&&he!==void 0?he:Ze.read,ff=(Be=L.append)!==null&&Be!==void 0?Be:Ze.append,df=(Ke=L.write)!==null&&Ke!==void 0?Ke:Ze.write;let Nl=Yn;if(co!==$r.read||ff!==$r.append||df!==$r.write){const On=u.v4();let or=ra(d,On);or=wl(or,{read:co===!0,append:ff===!0,write:df===!0}),or=Dt(or,q.allOf,wi),An=Sl(An,or),An=zo(An,wi),Nl=Nn}return Ts.forEach(On=>{An=bo(An,Tn(On))}),Nl.forEach(On=>{An=ba(An,Tn(On))}),An}function my(d,y,_,I){return rf(d,y,q.agent,_,I)}function vy(d,y,_){return rf(d,y,q.agent,q.PublicAgent,_)}function Yh(d,y,_,I){const W=m(d,q.allOf).map(Ze=>I.matchers.find(Mt=>Tn(Mt)===Ze)).some(Ze=>Td(Ze,y,_)),he=m(d,q.anyOf).map(Ze=>I.matchers.find(Mt=>Tn(Mt)===Ze)).some(Ze=>Td(Ze,y,_)),Ke=m(d,q.noneOf).map(Ze=>I.matchers.find(Mt=>Tn(Mt)===Ze)).some(Ze=>Td(Ze,y,_));return W||he||Ke}function Td(d,y,_){const I=[];return zh.forEach(L=>{const W=m(d,L).filter(ee=>ee!==_||L!==y);I.push(...W)}),I.length>0}function Xh(d,y,_,I,L){const W=u.v4(),ee=Cd(m(d,q.allOf),y,_,W,I,L),he=Cd(m(d,q.anyOf),y,_,W,I,L),Be=Cd(m(d,q.noneOf),y,_,W,I,L);let Ke=ra(y,encodeURI(Tn(d))+W);return m(d,q.allow).forEach(Ze=>{Ke=Dt(Ke,q.allow,Ze)}),m(d,q.deny).forEach(Ze=>{Ke=Dt(Ke,q.deny,Ze)}),ee.forEach(Ze=>{Ke=Dt(Ke,q.allOf,Ze)}),he.forEach(Ze=>{Ke=Dt(Ke,q.anyOf,Ze)}),Be.forEach(Ze=>{Ke=Dt(Ke,q.noneOf,Ze)}),[Ke,ee.concat(he).concat(Be)]}function Cd(d,y,_,I,L,W){return d.map(ee=>{const he=_.matchers.find(Ze=>Tn(Ze)===ee);if(typeof he>"u")return null;let Be=zc(y,encodeURI(Tn(he))+I),Ke=!1;return zh.forEach(Ze=>{m(he,Ze).forEach(Mt=>{Ze===L&&Mt===W||(Ke=!0,Be=Dt(Be,Ze,Mt))})}),Ke?Be:null}).filter(Il)}function Il(d){return d!==null}async function Ru(d,y=ge){const _=Ba(d),I=ao(d),L=qr(_).concat(qr(I)),W=await Id(L,y),ee=Qh(_,W).filter(Il),he=Qh(I,W).filter(Il),Be=new Set;ee.forEach(Yn=>{Zh(Yn).forEach($r=>{Be.add($r)})}),he.forEach(Yn=>{Zh(Yn).forEach($r=>{Be.add($r)})});const Ke=Array.from(Be),Mt=Ke.map(Yn=>Od(Yn)).filter(Yn=>!L.includes(Yn)),Kt=await Id(Mt,y),rn={...W,...Kt},Nn=Qh(Ke,rn).filter(Il);return{inaccessibleUrls:Object.keys(rn).filter(Yn=>rn[Yn]===null),acrPolicies:ee,policies:he,matchers:Nn}}function Od(d){const y=new URL(d);return y.hash="",y.href}function qr(d){const y=[];return d.forEach(_=>{const I=Od(_);y.includes(I)||y.push(I)}),y}async function Id(d,y){const _=Array.from(new Set(d)),I={};return await Promise.all(_.map(async L=>{try{const W=await Jr(L,y);I[L]=W}catch{I[L]=null}})),I}function Qh(d,y){return d.map(_=>{const I=Od(_),L=y[I];return L?hn(L,_):null})}function Zh(d){return Gc(d).concat(cd(d)).concat(oo(d))}async function by(d,y,_=ge){const I=await vi(d,_);if(_r(I)){const L=await Ru(I,_);return Wh(L,y)}return ti(I)?As(I,y,_):null}async function l0(d,y,_,I=ge){const L=await vi(d,I);if(_r(L)){const W=await Ru(L,I),ee=my(L,W,y,_);if(ee)try{return await zi(ee,I),await by(d,y,I)}catch{return null}return null}if(ti(L)){if(_.controlRead!==_.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${nt(L)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);return await ef(L,y,_,I),As(L,y,I)}return null}async function u0(d,y=ge){const _=await vi(d,y);if(_r(_)){const I=await Ru(_,y);return xu(I)}return ti(_)?wu(_,y):null}async function af(d,y=ge){const _=await vi(d,y);if(_r(_)){const I=await Ru(_,y);return Jh(I)}return ti(_)?Jo(_,y):null}async function Tu(d,y,_=ge){const I=await vi(d,_);if(_r(I)){const L=await Ru(I,_),W=vy(I,L,y);if(W)try{return await zi(W,_),await af(d,_)}catch{return null}return null}if(ti(I)){if(y.controlRead!==y.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${nt(I)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);return await _d(I,y,_),Jo(I,_)}return null}var ep=Object.freeze({__proto__:null,getAccessFor:nf,getAccessForAll:Yi,getAgentAccess:by,getAgentAccessAll:u0,getPublicAccess:af,setAccessFor:Ed,setAgentAccess:l0,setPublicAccess:Tu});async function of(d,y){if(typeof d.internal_resourceInfo.aclUrl!="string")return null;try{return await Ee(d.internal_resourceInfo.aclUrl,y)}catch{return null}}function tp(d){return oi(d,Fn.allow)}function Pl(d){return oi(d,Fn.deny)}function uo(d,y,_){const I=b(y,Fn.allOf).map(Ke=>hn(mn(d),Ke)).filter(Ke=>Ke!==null),L=I.every(Ke=>b(Ke,Fn.agent).includes(_)),W=b(y,Fn.anyOf).map(Ke=>hn(mn(d),Ke)).filter(Ke=>Ke!==null),ee=W.some(Ke=>b(Ke,Fn.agent).includes(_)),he=b(y,Fn.noneOf).map(Ke=>hn(mn(d),Ke)).filter(Ke=>Ke!==null),Be=he.some(Ke=>b(Ke,Fn.agent).includes(_));return I.length+W.length>0&&(I.length===0||L)&&(W.length===0||ee)&&(he.length===0||!Be)}function Cu(d,y,_){const I=tp(d),L=Pl(d);return _==="control"?{read:y.read,append:y.append,write:y.write,controlRead:(y.controlRead||I.read)&&!L.read,controlWrite:(y.controlWrite||I.write)&&!L.write}:{read:(y.read||I.read)&&!L.read,append:(y.append||I.append)&&!L.append,write:(y.write||I.write)&&!L.write,controlRead:y.controlRead,controlWrite:y.controlWrite}}async function Pd(d,y){let _={read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1};return hu(d).map(W=>hn(mn(d),W)).filter(W=>W!==null).forEach(W=>{uo(d,W,y)&&(_=Cu(W,_,"resource"))}),Kc(d).map(W=>hn(mn(d),W)).filter(W=>W!==null).forEach(W=>{uo(d,W,y)&&(_=Cu(W,_,"control"))}),_}function wy(d){const y=d.internal_resourceInfo.linkedResources[Fn.accessControl];return Array.isArray(y)&&y.length===1?y[0]:null}async function _y(d,y){const _=wy(d);if(_!==null)return _;const I=await of(d,y);if(I===null)return null;const L=Qe(I).type;return Array.isArray(L)&&L.includes(Fn.AccessControlResource)?de(I):null}async function Ou(d,y){const _=await _y(d,y);if(_===null)return null;let I;try{I=await Jr(_,y)}catch{return null}return{...d,internal_acp:{acr:{...I,accessTo:de(d)}}}}async function np(d,y,_){const I=await Ee(d,_),L=await Ou(I,_);return L===null?As(I,y,_):Pd(L,y)}function c0(d){return Array.from(new Set(rr(mn(d)).map(y=>b(y,Fn.agent)).reduce((y,_)=>y.concat(_),[])))}async function rp(d){return(await Promise.all(c0(d).map(async y=>({[y]:await Pd(d,y)})))).reduce((y,_)=>({...y,..._}),{})}async function Ey(d,y){const _=await Ee(d,y),I=await Ou(_,y);return I===null?wu(_,y):rp(I)}async function Sy(d){return Pd(d,Fn.PublicAgent)}async function Ay(d,y){const _=await Ee(d,y),I=await Ou(_,y);return I===null?Jo(_,y):Sy(I)}function sf(d,y,_){return ar(d,y).concat("AgentMatcher").concat(_.charAt(0).toUpperCase()+_.slice(1)).concat("Policy")}function ip(d,y,_){const I=sf(d,y,_);return I.includes("Acr")?fu(d,I):ad(d,I)}function xy(d,y,_){return sf(d,y,_).concat("Matcher")}const Ry=Fn.anyOf;function lf(d,y,_){const I=sf(d,y,_),L=xy(d,y,_);let W=hn(mn(d),I);return W||(d=ip(d,y,_),W=Qn({url:I}),W=ll(W,{[_]:!0},Fn.allow)),m(W,Ry).includes(L)?d:(W=Da(W).addUrl(Ry,L).build(),_a(d,W))}function uf(d,y,_,I,L){var W;const ee=xy(d,_,I),he=lf(d,_,I),Be=(W=hn(mn(he),ee))!==null&&W!==void 0?W:Qn({url:ee});return _a(he,L==="add"?li(Be,y):Wc(Be,y))}async function ap(d,y,_){const I=await Pd(d,y);return typeof _.read=="boolean"&&I.read!==_.read&&(d=uf(d,y,ol,"read",_.read?"add":"remove")),typeof _.append=="boolean"&&I.append!==_.append&&(d=uf(d,y,ol,"append",_.append?"add":"remove")),typeof _.write=="boolean"&&I.write!==_.write&&(d=uf(d,y,ol,"write",_.write?"add":"remove")),typeof _.controlRead=="boolean"&&I.controlRead!==_.controlRead&&(d=uf(d,y,sl,"controlRead",_.controlRead?"add":"remove")),typeof _.controlWrite=="boolean"&&I.controlWrite!==_.controlWrite&&(d=uf(d,y,sl,"controlWrite",_.controlWrite?"add":"remove")),d}async function br(d,y,_,I){const L=await Ee(d,I),W=await Ou(L,I);if(W===null)return await ef(L,y,_,I),As(L,y,I);try{return await zi(await ap(W,y,_),I),await np(d,y,I)}catch{return null}}async function op(d,y){return ap(d,Fn.PublicAgent,y)}async function Nd(d,y,_){const I=await Ee(d,_),L=await Ou(I,_);if(L===null)return await _d(I,y,_),Jo(I,_);try{return await zi(await op(L,y),_),await Ay(d,_)}catch{return null}}var sp=Object.freeze({__proto__:null,getAclServerResourceInfo:of,getAgentAccess:np,getAgentAccessAll:Ey,getPublicAccess:Ay,setAgentAccess:br,setPublicAccess:Nd}),Ty=Object.freeze({__proto__:null,acrAsMarkdown:gc,addAcrPolicyUrl:eu,addAgent:$o,addAllOfRuleUrl:ja,addAnyOfRuleUrl:wc,addClient:ny,addGroup:bs,addMemberAcrPolicyUrl:el,addMemberPolicyUrl:_o,addMockAcrTo:Al,addNoneOfRuleUrl:Sc,addPolicyUrl:pc,createPolicy:lu,createResourcePolicyFor:ra,createResourceRuleFor:xc,createRule:zf,getAcrPolicyUrlAll:Ba,getAgentAll:Oc,getAllOfRuleUrlAll:Vo,getAllowModes:Ro,getAnyOfRuleUrlAll:vs,getClientAll:Yf,getDenyModes:Ha,getFileWithAccessDatasets:ps,getFileWithAcr:cl,getGroupAll:su,getLinkedAcrUrl:ru,getMemberAcrPolicyUrlAll:tl,getMemberPolicyUrlAll:rl,getNoneOfRuleUrlAll:Ao,getPolicy:uu,getPolicyAll:bl,getPolicyUrlAll:ao,getReferencedPolicyUrlAll:ys,getResourceAcrPolicy:Ko,getResourceAcrPolicyAll:Hc,getResourceInfoWithAccessDatasets:gs,getResourceInfoWithAcr:vi,getResourcePolicy:_s,getResourcePolicyAll:El,getResourceRule:Wf,getResourceRuleAll:vh,getRule:Rc,getRuleAll:ou,getSolidDatasetWithAccessDatasets:nu,getSolidDatasetWithAcr:hs,hasAccessibleAcr:_r,hasAnyClient:Mc,hasAuthenticated:yl,hasCreator:ml,hasLinkedAcr:io,hasPublic:gl,isAcpControlled:ms,mockAcrFor:ia,policyAsMarkdown:wa,removeAcrPolicyUrl:bo,removeAcrPolicyUrlAll:wo,removeAgent:hl,removeAllOfRuleUrl:fl,removeAnyClient:Zf,removeAnyOfRuleUrl:_c,removeAuthenticated:Dc,removeClient:Xf,removeCreator:Lc,removeGroup:Pc,removeMemberAcrPolicyUrl:hc,removeMemberAcrPolicyUrlAll:nl,removeMemberPolicyUrl:Eo,removeMemberPolicyUrlAll:il,removeNoneOfRuleUrl:Ac,removePolicy:xo,removePolicyUrl:ba,removePolicyUrlAll:Ho,removePublic:Jf,removeResourceAcrPolicy:Go,removeResourcePolicy:Vc,removeResourceRule:bh,removeRule:Tc,ruleAsMarkdown:kc,saveAcrFor:zi,setAgent:Ic,setAllOfRuleUrl:iu,setAllowModes:_l,setAnyClient:Qf,setAnyOfRuleUrl:Ec,setAuthenticated:Fc,setClient:wh,setCreator:Uc,setDenyModes:jc,setGroup:pl,setNoneOfRuleUrl:au,setPolicy:ws,setPublic:Nc,setResourceAcrPolicy:Ii,setResourcePolicy:Sl,setResourceRule:dl,setRule:Cc}),lp=Object.freeze({__proto__:null,addAcrPolicyUrl:fu,addAgent:li,addAllOfMatcherUrl:sy,addAnyOfMatcherUrl:qc,addClient:md,addMemberAcrPolicyUrl:id,addMemberPolicyUrl:Th,addMockAcrTo:Al,addNoneOfMatcherUrl:ly,addPolicyUrl:ad,createMatcher:Dh,createPolicy:lu,createResourceMatcherFor:zc,createResourcePolicyFor:ra,getAcrPolicyUrlAll:Kc,getAgentAll:Mh,getAllOfMatcherUrlAll:Gc,getAllowModes:Bc,getAnyOfMatcherUrlAll:cd,getClientAll:Bh,getDenyModes:ed,getFileWithAccessDatasets:ps,getFileWithAcr:cl,getLinkedAcrUrl:ru,getMatcher:mu,getMatcherAll:Uh,getMemberAcrPolicyUrlAll:Oh,getMemberPolicyUrlAll:sd,getNoneOfMatcherUrlAll:oo,getPolicy:uu,getPolicyAll:bl,getPolicyUrlAll:hu,getReferencedPolicyUrlAll:ys,getResourceAcrPolicy:Ko,getResourceAcrPolicyAll:Hc,getResourceInfoWithAccessDatasets:gs,getResourceInfoWithAcr:vi,getResourceMatcher:Va,getResourceMatcherAll:fd,getResourcePolicy:_s,getResourcePolicyAll:El,getSolidDatasetWithAccessDatasets:nu,getSolidDatasetWithAcr:hs,getVcAccess:qf,hasAccessibleAcr:_r,hasAuthenticated:gd,hasCreator:Li,hasLinkedAcr:io,hasPublic:pd,isAcpControlled:ms,mockAcrFor:ia,removeAcrPolicyUrl:ld,removeAcrPolicyUrlAll:wo,removeAgent:Wc,removeAllOfMatcherUrl:Nh,removeAnyOfMatcherUrl:gu,removeAuthenticated:ni,removeClient:aa,removeCreator:kh,removeMatcher:Lh,removeMemberAcrPolicyUrl:Ih,removeMemberAcrPolicyUrlAll:nl,removeMemberPolicyUrl:ud,removeMemberPolicyUrlAll:il,removeNoneOfMatcherUrl:Fh,removePolicy:xo,removePolicyUrl:Ph,removePolicyUrlAll:Ho,removePublic:uy,removeResourceAcrPolicy:Go,removeResourceMatcher:dd,removeResourcePolicy:Vc,saveAcrFor:zi,setAgent:Oo,setAllOfMatcherUrl:Co,setAllowModes:wl,setAnyOfMatcherUrl:ri,setAuthenticated:yd,setCreator:so,setDenyModes:_h,setMatcher:hd,setNoneOfMatcherUrl:yu,setPolicy:ws,setPublic:bi,setResourceMatcher:zo,setResourcePolicy:To,setVcAccess:ul});const{getJsonLdParser:cf,getTurtleParser:Fd,solidDatasetAsTurtle:Iu}=vn;return it.FetchError=st,it.SolidClientError=v,it.ThingExpectedError=ta,it.access=tf,it.access_v1=dy,it.access_v2=ep,it.acp_ess_1=Ty,it.acp_ess_2=lp,it.acp_v1=iy,it.acp_v2=rd,it.acp_v3=oy,it.acp_v4=Hh,it.addBoolean=Pn,it.addDate=Mn,it.addDatetime=vr,it.addDecimal=lr,it.addInteger=Nr,it.addIri=Dt,it.addJwkToJwks=cs,it.addLiteral=Cn,it.addMockFallbackAclTo=Bo,it.addMockResourceAclTo=us,it.addNamedNode=gi,it.addPublicKeyToProfileJwks=Di,it.addStringEnglish=En,it.addStringNoLocale=Yr,it.addStringWithLocale=$n,it.addTerm=Hr,it.addTime=pr,it.addUrl=Jn,it.asIri=Tn,it.asUrl=wr,it.buildThing=Da,it.changeLogAsMarkdown=Wt,it.createAcl=Ma,it.createAclFromFallbackAcl=lh,it.createContainerAt=re,it.createContainerInContainer=$e,it.createSolidDataset=Wr,it.createThing=Qn,it.deleteAclFor=zs,it.deleteContainer=Rt,it.deleteFile=yn,it.deleteSolidDataset=te,it.fromRdfJsDataset=Dn,it.getAgentAccess=ac,it.getAgentAccessAll=Ws,it.getAgentDefaultAccess=ma,it.getAgentDefaultAccessAll=va,it.getAgentResourceAccess=Js,it.getAgentResourceAccessAll=oc,it.getAltProfileUrlAllFrom=cc,it.getBoolean=E,it.getBooleanAll=O,it.getContainedResourceUrlAll=Pt,it.getContentType=ht,it.getDate=se,it.getDateAll=we,it.getDatetime=j,it.getDatetimeAll=Q,it.getDecimal=Ae,it.getDecimalAll=xe,it.getEffectiveAccess=He,it.getFallbackAcl=rc,it.getFile=qn,it.getFileWithAcl=Mf,it.getGroupAccess=lc,it.getGroupAccessAll=kf,it.getGroupDefaultAccess=Dr,it.getGroupDefaultAccessAll=ss,it.getGroupResourceAccess=Fi,it.getGroupResourceAccessAll=ai,it.getInteger=Ue,it.getIntegerAll=qe,it.getIri=hi,it.getIriAll=m,it.getJsonLdParser=cf,it.getLinkedResourceUrlAll=Qe,it.getLiteral=dn,it.getLiteralAll=jt,it.getNamedNode=dt,it.getNamedNodeAll=At,it.getPodOwner=Y,it.getPodUrlAll=Xm,it.getPodUrlAllFrom=Zg,it.getProfileAll=dh,it.getProfileJwksIri=Ql,it.getPropertyAll=Ia,it.getPublicAccess=jf,it.getPublicDefaultAccess=Xl,it.getPublicResourceAccess=Yl,it.getResourceAcl=nc,it.getResourceInfo=Ee,it.getResourceInfoWithAcl=Jl,it.getSolidDataset=Jr,it.getSolidDatasetWithAcl=Xg,it.getSourceIri=nt,it.getSourceUrl=de,it.getStringByLocaleAll=Se,it.getStringEnglish=at,it.getStringEnglishAll=St,it.getStringNoLocale=Ne,it.getStringNoLocaleAll=De,it.getStringWithLocale=mt,it.getStringWithLocaleAll=ae,it.getTerm=zn,it.getTermAll=un,it.getThing=hn,it.getThingAll=rr,it.getTime=pe,it.getTimeAll=be,it.getTurtleParser=Fd,it.getUrl=ea,it.getUrlAll=b,it.getWebIdDataset=Qm,it.getWellKnownSolid=_n,it.hasAccessibleAcl=ti,it.hasAcl=sh,it.hasFallbackAcl=mi,it.hasResourceAcl=ya,it.hasResourceInfo=h,it.hasServerResourceInfo=f,it.isContainer=ct,it.isPodOwner=Re,it.isRawData=Ie,it.isThing=tr,it.isThingLocal=Ri,it.mockContainerFrom=Bn,it.mockFetchError=kn,it.mockFileFrom=pn,it.mockSolidDatasetFrom=Xt,it.mockThingFrom=rh,it.overwriteFile=Gt,it.removeAll=Zn,it.removeBoolean=Na,it.removeDate=Bs,it.removeDatetime=Zu,it.removeDecimal=Xa,it.removeInteger=is,it.removeIri=ir,it.removeLiteral=js,it.removeNamedNode=Gl,it.removeStringEnglish=Of,it.removeStringNoLocale=Mo,it.removeStringWithLocale=pa,it.removeThing=Ir,it.removeTime=ec,it.removeUrl=Gr,it.responseToResourceInfo=tt,it.responseToSolidDataset=Pa,it.saveAclFor=ic,it.saveFileInContainer=ln,it.saveSolidDatasetAt=U,it.saveSolidDatasetInContainer=ve,it.setAgentDefaultAccess=Ys,it.setAgentResourceAccess=sc,it.setBoolean=Hs,it.setDate=Vs,it.setDatetime=If,it.setDecimal=tc,it.setGroupDefaultAccess=Qg,it.setGroupResourceAccess=ls,it.setInteger=Pf,it.setIri=gr,it.setLiteral=ql,it.setNamedNode=$s,it.setProfileJwks=fh,it.setPublicDefaultAccess=uc,it.setPublicResourceAccess=ch,it.setStringNoLocale=Za,it.setStringWithLocale=Oi,it.setTerm=nh,it.setThing=er,it.setTime=ii,it.setUrl=Fa,it.solidDatasetAsMarkdown=Vt,it.solidDatasetAsTurtle=Iu,it.thingAsMarkdown=Kr,it.toRdfJsDataset=$t,it.universalAccess=sp,it.validateContainedResourceAll=qt,it}var _v={},sr={};const hr=crypto,Ja=e=>e instanceof CryptoKey,uA=async(e,t)=>{const r=`SHA-${e.slice(-3)}`;return new Uint8Array(await hr.subtle.digest(r,t))},xi=new TextEncoder,Do=new TextDecoder,fm=2**32;function Ms(...e){const t=e.reduce((o,{length:c})=>o+c,0),r=new Uint8Array(t);let a=0;return e.forEach(o=>{r.set(o,a),a+=o.length}),r}function JC(e,t){return Ms(xi.encode(e),new Uint8Array([0]),t)}function qv(e,t,r){if(t<0||t>=fm)throw new RangeError(`value must be >= 0 and <= ${fm-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,t&255],r)}function cA(e){const t=Math.floor(e/fm),r=e%fm,a=new Uint8Array(8);return qv(a,t,0),qv(a,r,4),a}function Mb(e){const t=new Uint8Array(4);return qv(t,e),t}function Ev(e){return Ms(Mb(e.length),e)}async function YC(e,t,r){const a=Math.ceil((t>>3)/32),o=new Uint8Array(a*32);for(let c=0;c<a;c++){const s=new Uint8Array(4+e.length+r.length);s.set(Mb(c+1)),s.set(e,4),s.set(r,4+e.length),o.set(await uA("sha256",s),c*32)}return o.slice(0,t>>3)}const kb=e=>{let t=e;typeof t=="string"&&(t=xi.encode(t));const r=32768,a=[];for(let o=0;o<t.length;o+=r)a.push(String.fromCharCode.apply(null,t.subarray(o,o+r)));return btoa(a.join(""))},Ci=e=>kb(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),fA=e=>{const t=atob(e),r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r},Ni=e=>{let t=e;t instanceof Uint8Array&&(t=Do.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return fA(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class $i extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var r;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}}class qa extends $i{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(t,r="unspecified",a="unspecified"){super(t),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=a}}class zv extends $i{static get code(){return"ERR_JWT_EXPIRED"}constructor(t,r="unspecified",a="unspecified"){super(t),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=a}}class dm extends $i{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class Lr extends $i{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class Og extends $i{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}class XC extends $i{constructor(){super(...arguments),this.code="ERR_JWE_DECOMPRESSION_FAILED",this.message="decompression operation failed"}static get code(){return"ERR_JWE_DECOMPRESSION_FAILED"}}class bn extends $i{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}class Xr extends $i{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class za extends $i{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class dA extends $i{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}class Dm extends $i{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class Bb extends $i{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class hA extends $i{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}class pA extends $i{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class jb extends $i{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}const QC=Object.freeze(Object.defineProperty({__proto__:null,JOSEAlgNotAllowed:dm,JOSEError:$i,JOSENotSupported:Lr,JWEDecompressionFailed:XC,JWEDecryptionFailed:Og,JWEInvalid:bn,JWKInvalid:dA,JWKSInvalid:Dm,JWKSMultipleMatchingKeys:hA,JWKSNoMatchingKey:Bb,JWKSTimeout:pA,JWSInvalid:Xr,JWSSignatureVerificationFailed:jb,JWTClaimValidationFailed:qa,JWTExpired:zv,JWTInvalid:za},Symbol.toStringTag,{value:"Module"})),Um=hr.getRandomValues.bind(hr);function gA(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new Lr(`Unsupported JWE Algorithm: ${e}`)}}const yA=e=>Um(new Uint8Array(gA(e)>>3)),mA=(e,t)=>{if(t.length<<3!==gA(e))throw new bn("Invalid Initialization Vector length")},hm=(e,t)=>{const r=e.byteLength<<3;if(r!==t)throw new bn(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)},ZC=(e,t)=>{if(!(e instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(e.length!==t.length)throw new TypeError("Input buffers must have the same length");const r=e.length;let a=0,o=-1;for(;++o<r;)a|=e[o]^t[o];return a===0};function Zi(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function Gu(e,t){return e.name===t}function am(e){return parseInt(e.name.slice(4),10)}function e2(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function vA(e,t){if(t.length&&!t.some(r=>e.usages.includes(r))){let r="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const a=t.pop();r+=`one of ${t.join(", ")}, or ${a}.`}else t.length===2?r+=`one of ${t[0]} or ${t[1]}.`:r+=`${t[0]}.`;throw new TypeError(r)}}function t2(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!Gu(e.algorithm,"HMAC"))throw Zi("HMAC");const a=parseInt(t.slice(2),10);if(am(e.algorithm.hash)!==a)throw Zi(`SHA-${a}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Gu(e.algorithm,"RSASSA-PKCS1-v1_5"))throw Zi("RSASSA-PKCS1-v1_5");const a=parseInt(t.slice(2),10);if(am(e.algorithm.hash)!==a)throw Zi(`SHA-${a}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Gu(e.algorithm,"RSA-PSS"))throw Zi("RSA-PSS");const a=parseInt(t.slice(2),10);if(am(e.algorithm.hash)!==a)throw Zi(`SHA-${a}`,"algorithm.hash");break}case"EdDSA":{if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw Zi("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!Gu(e.algorithm,"ECDSA"))throw Zi("ECDSA");const a=e2(t);if(e.algorithm.namedCurve!==a)throw Zi(a,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}vA(e,r)}function Wu(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!Gu(e.algorithm,"AES-GCM"))throw Zi("AES-GCM");const a=parseInt(t.slice(1,4),10);if(e.algorithm.length!==a)throw Zi(a,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!Gu(e.algorithm,"AES-KW"))throw Zi("AES-KW");const a=parseInt(t.slice(1,4),10);if(e.algorithm.length!==a)throw Zi(a,"algorithm.length");break}case"ECDH":{switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw Zi("ECDH, X25519, or X448")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!Gu(e.algorithm,"PBKDF2"))throw Zi("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!Gu(e.algorithm,"RSA-OAEP"))throw Zi("RSA-OAEP");const a=parseInt(t.slice(9),10)||1;if(am(e.algorithm.hash)!==a)throw Zi(`SHA-${a}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}vA(e,r)}function bA(e,t,...r){if(r.length>2){const a=r.pop();e+=`one of type ${r.join(", ")}, or ${a}.`}else r.length===2?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const da=(e,...t)=>bA("Key must be ",e,...t);function wA(e,t,...r){return bA(`Key for the ${e} algorithm must be `,t,...r)}const _A=e=>Ja(e),_i=["CryptoKey"];async function n2(e,t,r,a,o,c){if(!(t instanceof Uint8Array))throw new TypeError(da(t,"Uint8Array"));const s=parseInt(e.slice(1,4),10),u=await hr.subtle.importKey("raw",t.subarray(s>>3),"AES-CBC",!1,["decrypt"]),h=await hr.subtle.importKey("raw",t.subarray(0,s>>3),{hash:`SHA-${s<<1}`,name:"HMAC"},!1,["sign"]),f=Ms(c,a,r,cA(c.length<<3)),g=new Uint8Array((await hr.subtle.sign("HMAC",h,f)).slice(0,s>>3));let v;try{v=ZC(o,g)}catch{}if(!v)throw new Og;let w;try{w=new Uint8Array(await hr.subtle.decrypt({iv:a,name:"AES-CBC"},u,r))}catch{}if(!w)throw new Og;return w}async function r2(e,t,r,a,o,c){let s;t instanceof Uint8Array?s=await hr.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(Wu(t,e,"decrypt"),s=t);try{return new Uint8Array(await hr.subtle.decrypt({additionalData:c,iv:a,name:"AES-GCM",tagLength:128},s,Ms(r,o)))}catch{throw new Og}}const EA=async(e,t,r,a,o,c)=>{if(!Ja(t)&&!(t instanceof Uint8Array))throw new TypeError(da(t,..._i,"Uint8Array"));switch(mA(e,a),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&hm(t,parseInt(e.slice(-3),10)),n2(e,t,r,a,o,c);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&hm(t,parseInt(e.slice(1,4),10)),r2(e,t,r,a,o,c);default:throw new Lr("Unsupported JWE Content Encryption Algorithm")}},i2=async()=>{throw new Lr('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.')},a2=async()=>{throw new Lr('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')},jg=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let r;for(const a of t){const o=Object.keys(a);if(!r||r.size===0){r=new Set(o);continue}for(const c of o){if(r.has(c))return!1;r.add(c)}}return!0};function o2(e){return typeof e=="object"&&e!==null}function Vi(e){if(!o2(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const Lm=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function SA(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${t}`)}function AA(e,t,r){if(Ja(e))return Wu(e,t,r),e;if(e instanceof Uint8Array)return hr.subtle.importKey("raw",e,"AES-KW",!0,[r]);throw new TypeError(da(e,..._i,"Uint8Array"))}const Wv=async(e,t,r)=>{const a=await AA(t,e,"wrapKey");SA(a,e);const o=await hr.subtle.importKey("raw",r,...Lm);return new Uint8Array(await hr.subtle.wrapKey("raw",o,a,"AES-KW"))},Jv=async(e,t,r)=>{const a=await AA(t,e,"unwrapKey");SA(a,e);const o=await hr.subtle.unwrapKey("raw",r,a,"AES-KW",...Lm);return new Uint8Array(await hr.subtle.exportKey("raw",o))};async function xA(e,t,r,a,o=new Uint8Array(0),c=new Uint8Array(0)){if(!Ja(e))throw new TypeError(da(e,..._i));if(Wu(e,"ECDH"),!Ja(t))throw new TypeError(da(t,..._i));Wu(t,"ECDH","deriveBits");const s=Ms(Ev(xi.encode(r)),Ev(o),Ev(c),Mb(a));let u;e.algorithm.name==="X25519"?u=256:e.algorithm.name==="X448"?u=448:u=Math.ceil(parseInt(e.algorithm.namedCurve.substr(-3),10)/8)<<3;const h=new Uint8Array(await hr.subtle.deriveBits({name:e.algorithm.name,public:e},t,u));return YC(h,a,s)}async function s2(e){if(!Ja(e))throw new TypeError(da(e,..._i));return hr.subtle.generateKey(e.algorithm,!0,["deriveBits"])}function RA(e){if(!Ja(e))throw new TypeError(da(e,..._i));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)||e.algorithm.name==="X25519"||e.algorithm.name==="X448"}function l2(e){if(!(e instanceof Uint8Array)||e.length<8)throw new bn("PBES2 Salt Input must be 8 or more octets")}function u2(e,t){if(e instanceof Uint8Array)return hr.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(Ja(e))return Wu(e,t,"deriveBits","deriveKey"),e;throw new TypeError(da(e,..._i,"Uint8Array"))}async function TA(e,t,r,a){l2(e);const o=JC(t,e),c=parseInt(t.slice(13,16),10),s={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:o},u={length:c,name:"AES-KW"},h=await u2(a,t);if(h.usages.includes("deriveBits"))return new Uint8Array(await hr.subtle.deriveBits(s,h,c));if(h.usages.includes("deriveKey"))return hr.subtle.deriveKey(s,h,u,!1,["wrapKey","unwrapKey"]);throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}const c2=async(e,t,r,a=2048,o=Um(new Uint8Array(16)))=>{const c=await TA(o,e,a,t);return{encryptedKey:await Wv(e.slice(-6),c,r),p2c:a,p2s:Ci(o)}},f2=async(e,t,r,a,o)=>{const c=await TA(o,e,a,t);return Jv(e.slice(-6),c,r)};function pm(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new Lr(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}const Mm=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:r}=t.algorithm;if(typeof r!="number"||r<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},d2=async(e,t,r)=>{if(!Ja(t))throw new TypeError(da(t,..._i));if(Wu(t,e,"encrypt","wrapKey"),Mm(e,t),t.usages.includes("encrypt"))return new Uint8Array(await hr.subtle.encrypt(pm(e),t,r));if(t.usages.includes("wrapKey")){const a=await hr.subtle.importKey("raw",r,...Lm);return new Uint8Array(await hr.subtle.wrapKey("raw",a,t,pm(e)))}throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},h2=async(e,t,r)=>{if(!Ja(t))throw new TypeError(da(t,..._i));if(Wu(t,e,"decrypt","unwrapKey"),Mm(e,t),t.usages.includes("decrypt"))return new Uint8Array(await hr.subtle.decrypt(pm(e),t,r));if(t.usages.includes("unwrapKey")){const a=await hr.subtle.unwrapKey("raw",r,t,pm(e),...Lm);return new Uint8Array(await hr.subtle.exportKey("raw",a))}throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function Hb(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new Lr(`Unsupported JWE Algorithm: ${e}`)}}const wf=e=>Um(new Uint8Array(Hb(e)>>3)),CA=(e,t)=>{const r=(e.match(/.{1,64}/g)||[]).join(`
`);return`-----BEGIN ${t}-----
${r}
-----END ${t}-----`},OA=async(e,t,r)=>{if(!Ja(r))throw new TypeError(da(r,..._i));if(!r.extractable)throw new TypeError("CryptoKey is not extractable");if(r.type!==e)throw new TypeError(`key is not a ${e} key`);return CA(kb(new Uint8Array(await hr.subtle.exportKey(t,r))),`${e.toUpperCase()} KEY`)},p2=e=>OA("public","spki",e),g2=e=>OA("private","pkcs8",e),ju=(e,t,r=0)=>{r===0&&(t.unshift(t.length),t.unshift(6));let a=e.indexOf(t[0],r);if(a===-1)return!1;const o=e.subarray(a,a+t.length);return o.length!==t.length?!1:o.every((c,s)=>c===t[s])||ju(e,t,a+1)},dS=e=>{switch(!0){case ju(e,[42,134,72,206,61,3,1,7]):return"P-256";case ju(e,[43,129,4,0,34]):return"P-384";case ju(e,[43,129,4,0,35]):return"P-521";case ju(e,[43,101,110]):return"X25519";case ju(e,[43,101,111]):return"X448";case ju(e,[43,101,112]):return"Ed25519";case ju(e,[43,101,113]):return"Ed448";default:throw new Lr("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},IA=async(e,t,r,a,o)=>{var c;let s,u;const h=new Uint8Array(atob(r.replace(e,"")).split("").map(g=>g.charCodeAt(0))),f=t==="spki";switch(a){case"PS256":case"PS384":case"PS512":s={name:"RSA-PSS",hash:`SHA-${a.slice(-3)}`},u=f?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":s={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${a.slice(-3)}`},u=f?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s={name:"RSA-OAEP",hash:`SHA-${parseInt(a.slice(-3),10)||1}`},u=f?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":s={name:"ECDSA",namedCurve:"P-256"},u=f?["verify"]:["sign"];break;case"ES384":s={name:"ECDSA",namedCurve:"P-384"},u=f?["verify"]:["sign"];break;case"ES512":s={name:"ECDSA",namedCurve:"P-521"},u=f?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const g=dS(h);s=g.startsWith("P-")?{name:"ECDH",namedCurve:g}:{name:g},u=f?[]:["deriveBits"];break}case"EdDSA":s={name:dS(h)},u=f?["verify"]:["sign"];break;default:throw new Lr('Invalid or unsupported "alg" (Algorithm) value')}return hr.subtle.importKey(t,h,s,(c=o?.extractable)!==null&&c!==void 0?c:!1,u)},y2=(e,t,r)=>IA(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,r),PA=(e,t,r)=>IA(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,r);function hS(e){let t=[],r=0;for(;r<e.length;){let a=NA(e.subarray(r));t.push(a),r+=a.byteLength}return t}function NA(e){let t=0,r=e[0]&31;if(t++,r===31){for(r=0;e[t]>=128;)r=r*128+e[t]-128,t++;r=r*128+e[t]-128,t++}let a=0;if(e[t]<128)a=e[t],t++;else if(a===128){for(a=0;e[t+a]!==0||e[t+a+1]!==0;){if(a>e.byteLength)throw new TypeError("invalid indefinite form length");a++}const c=t+a+2;return{byteLength:c,contents:e.subarray(t,t+a),raw:e.subarray(0,c)}}else{let c=e[t]&127;t++,a=0;for(let s=0;s<c;s++)a=a*256+e[t],t++}const o=t+a;return{byteLength:o,contents:e.subarray(t,o),raw:e.subarray(0,o)}}function m2(e){const t=hS(hS(NA(e).contents)[0].contents);return kb(t[t[0].raw[0]===160?6:5].raw)}function v2(e){const t=e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""),r=fA(t);return CA(m2(r),"PUBLIC KEY")}const b2=(e,t,r)=>{let a;try{a=v2(e)}catch(o){throw new TypeError("Failed to parse the X.509 certificate",{cause:o})}return PA(a,t,r)};function w2(e){let t,r;switch(e.kty){case"oct":{switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:`SHA-${e.alg.slice(-3)}`},r=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new Lr(`${e.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},r=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},r=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},r=["deriveBits"];break;default:throw new Lr('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"RSA":{switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Lr('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new Lr('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(e.alg){case"EdDSA":t={name:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new Lr('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new Lr('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}const pS=async e=>{var t,r;if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:a,keyUsages:o}=w2(e),c=[a,(t=e.ext)!==null&&t!==void 0?t:!1,(r=e.key_ops)!==null&&r!==void 0?r:o];if(a.name==="PBKDF2")return hr.subtle.importKey("raw",Ni(e.k),...c);const s={...e};return delete s.alg,delete s.use,hr.subtle.importKey("jwk",s,...c)};async function _2(e,t,r){if(typeof e!="string"||e.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return PA(e,t,r)}async function E2(e,t,r){if(typeof e!="string"||e.indexOf("-----BEGIN CERTIFICATE-----")!==0)throw new TypeError('"x509" must be X.509 formatted string');return b2(e,t,r)}async function S2(e,t,r){if(typeof e!="string"||e.indexOf("-----BEGIN PRIVATE KEY-----")!==0)throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return y2(e,t,r)}async function Hg(e,t,r){var a;if(!Vi(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return r??(r=e.ext!==!0),r?pS({...e,alg:t,ext:(a=e.ext)!==null&&a!==void 0?a:!1}):Ni(e.k);case"RSA":if(e.oth!==void 0)throw new Lr('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return pS({...e,alg:t});default:throw new Lr('Unsupported "kty" (Key Type) Parameter value')}}const A2=(e,t)=>{if(!(t instanceof Uint8Array)){if(!_A(t))throw new TypeError(wA(e,t,..._i,"Uint8Array"));if(t.type!=="secret")throw new TypeError(`${_i.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},x2=(e,t,r)=>{if(!_A(t))throw new TypeError(wA(e,t,..._i));if(t.type==="secret")throw new TypeError(`${_i.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(r==="sign"&&t.type==="public")throw new TypeError(`${_i.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(r==="decrypt"&&t.type==="public")throw new TypeError(`${_i.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&r==="verify"&&t.type==="private")throw new TypeError(`${_i.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&r==="encrypt"&&t.type==="private")throw new TypeError(`${_i.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},km=(e,t,r)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?A2(e,t):x2(e,t,r)};async function R2(e,t,r,a,o){if(!(r instanceof Uint8Array))throw new TypeError(da(r,"Uint8Array"));const c=parseInt(e.slice(1,4),10),s=await hr.subtle.importKey("raw",r.subarray(c>>3),"AES-CBC",!1,["encrypt"]),u=await hr.subtle.importKey("raw",r.subarray(0,c>>3),{hash:`SHA-${c<<1}`,name:"HMAC"},!1,["sign"]),h=new Uint8Array(await hr.subtle.encrypt({iv:a,name:"AES-CBC"},s,t)),f=Ms(o,a,h,cA(o.length<<3)),g=new Uint8Array((await hr.subtle.sign("HMAC",u,f)).slice(0,c>>3));return{ciphertext:h,tag:g}}async function T2(e,t,r,a,o){let c;r instanceof Uint8Array?c=await hr.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(Wu(r,e,"encrypt"),c=r);const s=new Uint8Array(await hr.subtle.encrypt({additionalData:o,iv:a,name:"AES-GCM",tagLength:128},c,t)),u=s.slice(-16);return{ciphertext:s.slice(0,-16),tag:u}}const Yv=async(e,t,r,a,o)=>{if(!Ja(r)&&!(r instanceof Uint8Array))throw new TypeError(da(r,..._i,"Uint8Array"));switch(mA(e,a),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&hm(r,parseInt(e.slice(-3),10)),R2(e,t,r,a,o);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&hm(r,parseInt(e.slice(1,4),10)),T2(e,t,r,a,o);default:throw new Lr("Unsupported JWE Content Encryption Algorithm")}};async function C2(e,t,r,a){const o=e.slice(0,7);a||(a=yA(o));const{ciphertext:c,tag:s}=await Yv(o,r,t,a,new Uint8Array(0));return{encryptedKey:c,iv:Ci(a),tag:Ci(s)}}async function O2(e,t,r,a,o){const c=e.slice(0,7);return EA(c,t,r,a,o,new Uint8Array(0))}async function I2(e,t,r,a,o){switch(km(e,t,"decrypt"),e){case"dir":{if(r!==void 0)throw new bn("Encountered unexpected JWE Encrypted Key");return t}case"ECDH-ES":if(r!==void 0)throw new bn("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!Vi(a.epk))throw new bn('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!RA(t))throw new Lr("ECDH with the provided key is not allowed or not supported by your javascript runtime");const c=await Hg(a.epk,e);let s,u;if(a.apu!==void 0){if(typeof a.apu!="string")throw new bn('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{s=Ni(a.apu)}catch{throw new bn("Failed to base64url decode the apu")}}if(a.apv!==void 0){if(typeof a.apv!="string")throw new bn('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{u=Ni(a.apv)}catch{throw new bn("Failed to base64url decode the apv")}}const h=await xA(c,t,e==="ECDH-ES"?a.enc:e,e==="ECDH-ES"?Hb(a.enc):parseInt(e.slice(-5,-2),10),s,u);if(e==="ECDH-ES")return h;if(r===void 0)throw new bn("JWE Encrypted Key missing");return Jv(e.slice(-6),h,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(r===void 0)throw new bn("JWE Encrypted Key missing");return h2(e,t,r)}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(r===void 0)throw new bn("JWE Encrypted Key missing");if(typeof a.p2c!="number")throw new bn('JOSE Header "p2c" (PBES2 Count) missing or invalid');const c=o?.maxPBES2Count||1e4;if(a.p2c>c)throw new bn('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if(typeof a.p2s!="string")throw new bn('JOSE Header "p2s" (PBES2 Salt) missing or invalid');let s;try{s=Ni(a.p2s)}catch{throw new bn("Failed to base64url decode the p2s")}return f2(e,t,r,a.p2c,s)}case"A128KW":case"A192KW":case"A256KW":{if(r===void 0)throw new bn("JWE Encrypted Key missing");return Jv(e,t,r)}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(r===void 0)throw new bn("JWE Encrypted Key missing");if(typeof a.iv!="string")throw new bn('JOSE Header "iv" (Initialization Vector) missing or invalid');if(typeof a.tag!="string")throw new bn('JOSE Header "tag" (Authentication Tag) missing or invalid');let c;try{c=Ni(a.iv)}catch{throw new bn("Failed to base64url decode the iv")}let s;try{s=Ni(a.tag)}catch{throw new bn("Failed to base64url decode the tag")}return O2(e,t,r,c,s)}default:throw new Lr('Invalid or unsupported "alg" (JWE Algorithm) header value')}}function Vg(e,t,r,a,o){if(o.crit!==void 0&&a.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!a||a.crit===void 0)return new Set;if(!Array.isArray(a.crit)||a.crit.length===0||a.crit.some(s=>typeof s!="string"||s.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let c;r!==void 0?c=new Map([...Object.entries(r),...t.entries()]):c=t;for(const s of a.crit){if(!c.has(s))throw new Lr(`Extension Header Parameter "${s}" is not recognized`);if(o[s]===void 0)throw new e(`Extension Header Parameter "${s}" is missing`);if(c.get(s)&&a[s]===void 0)throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(a.crit)}const Xv=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(r=>typeof r!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function Vb(e,t,r){var a;if(!Vi(e))throw new bn("Flattened JWE must be an object");if(e.protected===void 0&&e.header===void 0&&e.unprotected===void 0)throw new bn("JOSE Header missing");if(typeof e.iv!="string")throw new bn("JWE Initialization Vector missing or incorrect type");if(typeof e.ciphertext!="string")throw new bn("JWE Ciphertext missing or incorrect type");if(typeof e.tag!="string")throw new bn("JWE Authentication Tag missing or incorrect type");if(e.protected!==void 0&&typeof e.protected!="string")throw new bn("JWE Protected Header incorrect type");if(e.encrypted_key!==void 0&&typeof e.encrypted_key!="string")throw new bn("JWE Encrypted Key incorrect type");if(e.aad!==void 0&&typeof e.aad!="string")throw new bn("JWE AAD incorrect type");if(e.header!==void 0&&!Vi(e.header))throw new bn("JWE Shared Unprotected Header incorrect type");if(e.unprotected!==void 0&&!Vi(e.unprotected))throw new bn("JWE Per-Recipient Unprotected Header incorrect type");let o;if(e.protected)try{const K=Ni(e.protected);o=JSON.parse(Do.decode(K))}catch{throw new bn("JWE Protected Header is invalid")}if(!jg(o,e.header,e.unprotected))throw new bn("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const c={...o,...e.header,...e.unprotected};if(Vg(bn,new Map,r?.crit,o,c),c.zip!==void 0){if(!o||!o.zip)throw new bn('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(c.zip!=="DEF")throw new Lr('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:s,enc:u}=c;if(typeof s!="string"||!s)throw new bn("missing JWE Algorithm (alg) in JWE Header");if(typeof u!="string"||!u)throw new bn("missing JWE Encryption Algorithm (enc) in JWE Header");const h=r&&Xv("keyManagementAlgorithms",r.keyManagementAlgorithms),f=r&&Xv("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(h&&!h.has(s))throw new dm('"alg" (Algorithm) Header Parameter not allowed');if(f&&!f.has(u))throw new dm('"enc" (Encryption Algorithm) Header Parameter not allowed');let g;if(e.encrypted_key!==void 0)try{g=Ni(e.encrypted_key)}catch{throw new bn("Failed to base64url decode the encrypted_key")}let v=!1;typeof t=="function"&&(t=await t(o,e),v=!0);let w;try{w=await I2(s,t,g,c,r)}catch(K){if(K instanceof TypeError||K instanceof bn||K instanceof Lr)throw K;w=wf(u)}let S,T;try{S=Ni(e.iv)}catch{throw new bn("Failed to base64url decode the iv")}try{T=Ni(e.tag)}catch{throw new bn("Failed to base64url decode the tag")}const R=xi.encode((a=e.protected)!==null&&a!==void 0?a:"");let C;e.aad!==void 0?C=Ms(R,xi.encode("."),xi.encode(e.aad)):C=R;let x;try{x=Ni(e.ciphertext)}catch{throw new bn("Failed to base64url decode the ciphertext")}let F=await EA(u,w,x,S,T,C);c.zip==="DEF"&&(F=await(r?.inflateRaw||i2)(F));const P={plaintext:F};if(e.protected!==void 0&&(P.protectedHeader=o),e.aad!==void 0)try{P.additionalAuthenticatedData=Ni(e.aad)}catch{throw new bn("Failed to base64url decode the aad")}return e.unprotected!==void 0&&(P.sharedUnprotectedHeader=e.unprotected),e.header!==void 0&&(P.unprotectedHeader=e.header),v?{...P,key:t}:P}async function FA(e,t,r){if(e instanceof Uint8Array&&(e=Do.decode(e)),typeof e!="string")throw new bn("Compact JWE must be a string or Uint8Array");const{0:a,1:o,2:c,3:s,4:u,length:h}=e.split(".");if(h!==5)throw new bn("Invalid Compact JWE");const f=await Vb({ciphertext:s,iv:c||void 0,protected:a||void 0,tag:u||void 0,encrypted_key:o||void 0},t,r),g={plaintext:f.plaintext,protectedHeader:f.protectedHeader};return typeof t=="function"?{...g,key:f.key}:g}async function P2(e,t,r){if(!Vi(e))throw new bn("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(Vi))throw new bn("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new bn("JWE Recipients has no members");for(const a of e.recipients)try{return await Vb({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:a.encrypted_key,header:a.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch{}throw new Og}const N2=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:Ci(e)};if(!Ja(e))throw new TypeError(da(e,..._i,"Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:r,alg:a,use:o,...c}=await hr.subtle.exportKey("jwk",e);return c};async function F2(e){return p2(e)}async function D2(e){return g2(e)}async function $b(e){return N2(e)}async function DA(e,t,r,a,o={}){let c,s,u;switch(km(e,r,"encrypt"),e){case"dir":{u=r;break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!RA(r))throw new Lr("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:h,apv:f}=o;let{epk:g}=o;g||(g=(await s2(r)).privateKey);const{x:v,y:w,crv:S,kty:T}=await $b(g),R=await xA(r,g,e==="ECDH-ES"?t:e,e==="ECDH-ES"?Hb(t):parseInt(e.slice(-5,-2),10),h,f);if(s={epk:{x:v,crv:S,kty:T}},T==="EC"&&(s.epk.y=w),h&&(s.apu=Ci(h)),f&&(s.apv=Ci(f)),e==="ECDH-ES"){u=R;break}u=a||wf(t);const C=e.slice(-6);c=await Wv(C,R,u);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{u=a||wf(t),c=await d2(e,r,u);break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{u=a||wf(t);const{p2c:h,p2s:f}=o;({encryptedKey:c,...s}=await c2(e,r,u,h,f));break}case"A128KW":case"A192KW":case"A256KW":{u=a||wf(t),c=await Wv(e,r,u);break}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{u=a||wf(t);const{iv:h}=o;({encryptedKey:c,...s}=await C2(e,r,u,h));break}default:throw new Lr('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:u,encryptedKey:c,parameters:s}}const UA=Symbol();class gm{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=t}setKeyManagementParameters(t){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=t,this}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setSharedUnprotectedHeader(t){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}setAdditionalAuthenticatedData(t){return this._aad=t,this}setContentEncryptionKey(t){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=t,this}setInitializationVector(t){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=t,this}async encrypt(t,r){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new bn("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!jg(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new bn("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const a={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(Vg(bn,new Map,r?.crit,this._protectedHeader,a),a.zip!==void 0){if(!this._protectedHeader||!this._protectedHeader.zip)throw new bn('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(a.zip!=="DEF")throw new Lr('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:o,enc:c}=a;if(typeof o!="string"||!o)throw new bn('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof c!="string"||!c)throw new bn('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let s;if(o==="dir"){if(this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if(o==="ECDH-ES"&&this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");let u;{let T;({cek:u,encryptedKey:s,parameters:T}=await DA(o,c,t,this._cek,this._keyManagementParameters)),T&&(r&&UA in r?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...T}:this.setUnprotectedHeader(T):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...T}:this.setProtectedHeader(T))}this._iv||(this._iv=yA(c));let h,f,g;this._protectedHeader?f=xi.encode(Ci(JSON.stringify(this._protectedHeader))):f=xi.encode(""),this._aad?(g=Ci(this._aad),h=Ms(f,xi.encode("."),xi.encode(g))):h=f;let v,w;if(a.zip==="DEF"){const T=await(r?.deflateRaw||a2)(this._plaintext);({ciphertext:v,tag:w}=await Yv(c,T,u,this._iv,h))}else({ciphertext:v,tag:w}=await Yv(c,this._plaintext,u,this._iv,h));const S={ciphertext:Ci(v),iv:Ci(this._iv),tag:Ci(w)};return s&&(S.encrypted_key=Ci(s)),g&&(S.aad=g),this._protectedHeader&&(S.protected=Do.decode(f)),this._sharedUnprotectedHeader&&(S.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(S.header=this._unprotectedHeader),S}}class U2{constructor(t,r,a){this.parent=t,this.key=r,this.options=a}setUnprotectedHeader(t){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=t,this}addRecipient(...t){return this.parent.addRecipient(...t)}encrypt(...t){return this.parent.encrypt(...t)}done(){return this.parent}}class L2{constructor(t){this._recipients=[],this._plaintext=t}addRecipient(t,r){const a=new U2(this,t,{crit:r?.crit});return this._recipients.push(a),a}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setSharedUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}setAdditionalAuthenticatedData(t){return this._aad=t,this}async encrypt(t){var r,a,o;if(!this._recipients.length)throw new bn("at least one recipient must be added");if(t={deflateRaw:t?.deflateRaw},this._recipients.length===1){const[h]=this._recipients,f=await new gm(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(h.unprotectedHeader).encrypt(h.key,{...h.options,...t});let g={ciphertext:f.ciphertext,iv:f.iv,recipients:[{}],tag:f.tag};return f.aad&&(g.aad=f.aad),f.protected&&(g.protected=f.protected),f.unprotected&&(g.unprotected=f.unprotected),f.encrypted_key&&(g.recipients[0].encrypted_key=f.encrypted_key),f.header&&(g.recipients[0].header=f.header),g}let c;for(let h=0;h<this._recipients.length;h++){const f=this._recipients[h];if(!jg(this._protectedHeader,this._unprotectedHeader,f.unprotectedHeader))throw new bn("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const g={...this._protectedHeader,...this._unprotectedHeader,...f.unprotectedHeader},{alg:v}=g;if(typeof v!="string"||!v)throw new bn('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(v==="dir"||v==="ECDH-ES")throw new bn('"dir" and "ECDH-ES" alg may only be used with a single recipient');if(typeof g.enc!="string"||!g.enc)throw new bn('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(!c)c=g.enc;else if(c!==g.enc)throw new bn('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients');if(Vg(bn,new Map,f.options.crit,this._protectedHeader,g),g.zip!==void 0&&(!this._protectedHeader||!this._protectedHeader.zip))throw new bn('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}const s=wf(c);let u={ciphertext:"",iv:"",recipients:[],tag:""};for(let h=0;h<this._recipients.length;h++){const f=this._recipients[h],g={};u.recipients.push(g);const w={...this._protectedHeader,...this._unprotectedHeader,...f.unprotectedHeader}.alg.startsWith("PBES2")?2048+h:void 0;if(h===0){const R=await new gm(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(s).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(f.unprotectedHeader).setKeyManagementParameters({p2c:w}).encrypt(f.key,{...f.options,...t,[UA]:!0});u.ciphertext=R.ciphertext,u.iv=R.iv,u.tag=R.tag,R.aad&&(u.aad=R.aad),R.protected&&(u.protected=R.protected),R.unprotected&&(u.unprotected=R.unprotected),g.encrypted_key=R.encrypted_key,R.header&&(g.header=R.header);continue}const{encryptedKey:S,parameters:T}=await DA(((r=f.unprotectedHeader)===null||r===void 0?void 0:r.alg)||((a=this._protectedHeader)===null||a===void 0?void 0:a.alg)||((o=this._unprotectedHeader)===null||o===void 0?void 0:o.alg),c,f.key,s,{p2c:w});g.encrypted_key=Ci(S),(f.unprotectedHeader||T)&&(g.header={...f.unprotectedHeader,...T})}return u}}function LA(e,t){const r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new Lr(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function MA(e,t,r){if(Ja(t))return t2(t,e,r),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(da(t,..._i));return hr.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}throw new TypeError(da(t,..._i,"Uint8Array"))}const M2=async(e,t,r,a)=>{const o=await MA(e,t,"verify");Mm(e,o);const c=LA(e,o.algorithm);try{return await hr.subtle.verify(c,o,r,a)}catch{return!1}};async function Kb(e,t,r){var a;if(!Vi(e))throw new Xr("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new Xr('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new Xr("JWS Protected Header incorrect type");if(e.payload===void 0)throw new Xr("JWS Payload missing");if(typeof e.signature!="string")throw new Xr("JWS Signature missing or incorrect type");if(e.header!==void 0&&!Vi(e.header))throw new Xr("JWS Unprotected Header incorrect type");let o={};if(e.protected)try{const C=Ni(e.protected);o=JSON.parse(Do.decode(C))}catch{throw new Xr("JWS Protected Header is invalid")}if(!jg(o,e.header))throw new Xr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const c={...o,...e.header},s=Vg(Xr,new Map([["b64",!0]]),r?.crit,o,c);let u=!0;if(s.has("b64")&&(u=o.b64,typeof u!="boolean"))throw new Xr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:h}=c;if(typeof h!="string"||!h)throw new Xr('JWS "alg" (Algorithm) Header Parameter missing or invalid');const f=r&&Xv("algorithms",r.algorithms);if(f&&!f.has(h))throw new dm('"alg" (Algorithm) Header Parameter not allowed');if(u){if(typeof e.payload!="string")throw new Xr("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new Xr("JWS Payload must be a string or an Uint8Array instance");let g=!1;typeof t=="function"&&(t=await t(o,e),g=!0),km(h,t,"verify");const v=Ms(xi.encode((a=e.protected)!==null&&a!==void 0?a:""),xi.encode("."),typeof e.payload=="string"?xi.encode(e.payload):e.payload);let w;try{w=Ni(e.signature)}catch{throw new Xr("Failed to base64url decode the signature")}if(!await M2(h,t,w,v))throw new jb;let T;if(u)try{T=Ni(e.payload)}catch{throw new Xr("Failed to base64url decode the payload")}else typeof e.payload=="string"?T=xi.encode(e.payload):T=e.payload;const R={payload:T};return e.protected!==void 0&&(R.protectedHeader=o),e.header!==void 0&&(R.unprotectedHeader=e.header),g?{...R,key:t}:R}async function kA(e,t,r){if(e instanceof Uint8Array&&(e=Do.decode(e)),typeof e!="string")throw new Xr("Compact JWS must be a string or Uint8Array");const{0:a,1:o,2:c,length:s}=e.split(".");if(s!==3)throw new Xr("Invalid Compact JWS");const u=await Kb({payload:o,protected:a,signature:c},t,r),h={payload:u.payload,protectedHeader:u.protectedHeader};return typeof t=="function"?{...h,key:u.key}:h}async function k2(e,t,r){if(!Vi(e))throw new Xr("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(Vi))throw new Xr("JWS Signatures missing or incorrect type");for(const a of e.signatures)try{return await Kb({header:a.header,payload:e.payload,protected:a.protected,signature:a.signature},t,r)}catch{}throw new jb}const om=e=>Math.floor(e.getTime()/1e3),BA=60,jA=BA*60,Gb=jA*24,B2=Gb*7,j2=Gb*365.25,H2=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,ym=e=>{const t=H2.exec(e);if(!t)throw new TypeError("Invalid time period format");const r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(r*BA);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(r*jA);case"day":case"days":case"d":return Math.round(r*Gb);case"week":case"weeks":case"w":return Math.round(r*B2);default:return Math.round(r*j2)}},gS=e=>e.toLowerCase().replace(/^application\//,""),V2=(e,t)=>typeof e=="string"?t.includes(e):Array.isArray(e)?t.some(Set.prototype.has.bind(new Set(e))):!1,qb=(e,t,r={})=>{const{typ:a}=r;if(a&&(typeof e.typ!="string"||gS(e.typ)!==gS(a)))throw new qa('unexpected "typ" JWT header value',"typ","check_failed");let o;try{o=JSON.parse(Do.decode(t))}catch{}if(!Vi(o))throw new za("JWT Claims Set must be a top-level JSON object");const{requiredClaims:c=[],issuer:s,subject:u,audience:h,maxTokenAge:f}=r;f!==void 0&&c.push("iat"),h!==void 0&&c.push("aud"),u!==void 0&&c.push("sub"),s!==void 0&&c.push("iss");for(const S of new Set(c.reverse()))if(!(S in o))throw new qa(`missing required "${S}" claim`,S,"missing");if(s&&!(Array.isArray(s)?s:[s]).includes(o.iss))throw new qa('unexpected "iss" claim value',"iss","check_failed");if(u&&o.sub!==u)throw new qa('unexpected "sub" claim value',"sub","check_failed");if(h&&!V2(o.aud,typeof h=="string"?[h]:h))throw new qa('unexpected "aud" claim value',"aud","check_failed");let g;switch(typeof r.clockTolerance){case"string":g=ym(r.clockTolerance);break;case"number":g=r.clockTolerance;break;case"undefined":g=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:v}=r,w=om(v||new Date);if((o.iat!==void 0||f)&&typeof o.iat!="number")throw new qa('"iat" claim must be a number',"iat","invalid");if(o.nbf!==void 0){if(typeof o.nbf!="number")throw new qa('"nbf" claim must be a number',"nbf","invalid");if(o.nbf>w+g)throw new qa('"nbf" claim timestamp check failed',"nbf","check_failed")}if(o.exp!==void 0){if(typeof o.exp!="number")throw new qa('"exp" claim must be a number',"exp","invalid");if(o.exp<=w-g)throw new zv('"exp" claim timestamp check failed',"exp","check_failed")}if(f){const S=w-o.iat,T=typeof f=="number"?f:ym(f);if(S-g>T)throw new zv('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(S<0-g)throw new qa('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return o};async function HA(e,t,r){var a;const o=await kA(e,t,r);if(!((a=o.protectedHeader.crit)===null||a===void 0)&&a.includes("b64")&&o.protectedHeader.b64===!1)throw new za("JWTs MUST NOT use unencoded payload");const s={payload:qb(o.protectedHeader,o.payload,r),protectedHeader:o.protectedHeader};return typeof t=="function"?{...s,key:o.key}:s}async function $2(e,t,r){const a=await FA(e,t,r),o=qb(a.protectedHeader,a.plaintext,r),{protectedHeader:c}=a;if(c.iss!==void 0&&c.iss!==o.iss)throw new qa('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(c.sub!==void 0&&c.sub!==o.sub)throw new qa('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(c.aud!==void 0&&JSON.stringify(c.aud)!==JSON.stringify(o.aud))throw new qa('replicated "aud" claim header parameter mismatch',"aud","mismatch");const s={payload:o,protectedHeader:c};return typeof t=="function"?{...s,key:a.key}:s}class VA{constructor(t){this._flattened=new gm(t)}setContentEncryptionKey(t){return this._flattened.setContentEncryptionKey(t),this}setInitializationVector(t){return this._flattened.setInitializationVector(t),this}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}setKeyManagementParameters(t){return this._flattened.setKeyManagementParameters(t),this}async encrypt(t,r){const a=await this._flattened.encrypt(t,r);return[a.protected,a.encrypted_key,a.iv,a.ciphertext,a.tag].join(".")}}const K2=async(e,t,r)=>{const a=await MA(e,t,"sign");Mm(e,a);const o=await hr.subtle.sign(LA(e,a.algorithm),a,r);return new Uint8Array(o)};class zb{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=t}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}async sign(t,r){if(!this._protectedHeader&&!this._unprotectedHeader)throw new Xr("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!jg(this._protectedHeader,this._unprotectedHeader))throw new Xr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const a={...this._protectedHeader,...this._unprotectedHeader},o=Vg(Xr,new Map([["b64",!0]]),r?.crit,this._protectedHeader,a);let c=!0;if(o.has("b64")&&(c=this._protectedHeader.b64,typeof c!="boolean"))throw new Xr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=a;if(typeof s!="string"||!s)throw new Xr('JWS "alg" (Algorithm) Header Parameter missing or invalid');km(s,t,"sign");let u=this._payload;c&&(u=xi.encode(Ci(u)));let h;this._protectedHeader?h=xi.encode(Ci(JSON.stringify(this._protectedHeader))):h=xi.encode("");const f=Ms(h,xi.encode("."),u),g=await K2(s,t,f),v={signature:Ci(g),payload:""};return c&&(v.payload=Do.decode(u)),this._unprotectedHeader&&(v.header=this._unprotectedHeader),this._protectedHeader&&(v.protected=Do.decode(h)),v}}class $A{constructor(t){this._flattened=new zb(t)}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}async sign(t,r){const a=await this._flattened.sign(t,r);if(a.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${a.protected}.${a.payload}.${a.signature}`}}class G2{constructor(t,r,a){this.parent=t,this.key=r,this.options=a}setProtectedHeader(t){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=t,this}setUnprotectedHeader(t){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=t,this}addSignature(...t){return this.parent.addSignature(...t)}sign(...t){return this.parent.sign(...t)}done(){return this.parent}}class q2{constructor(t){this._signatures=[],this._payload=t}addSignature(t,r){const a=new G2(this,t,r);return this._signatures.push(a),a}async sign(){if(!this._signatures.length)throw new Xr("at least one signature must be added");const t={signatures:[],payload:""};for(let r=0;r<this._signatures.length;r++){const a=this._signatures[r],o=new zb(this._payload);o.setProtectedHeader(a.protectedHeader),o.setUnprotectedHeader(a.unprotectedHeader);const{payload:c,...s}=await o.sign(a.key,a.options);if(r===0)t.payload=c;else if(t.payload!==c)throw new Xr("inconsistent use of JWS Unencoded Payload (RFC7797)");t.signatures.push(s)}return t}}class Wb{constructor(t){if(!Vi(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}setIssuer(t){return this._payload={...this._payload,iss:t},this}setSubject(t){return this._payload={...this._payload,sub:t},this}setAudience(t){return this._payload={...this._payload,aud:t},this}setJti(t){return this._payload={...this._payload,jti:t},this}setNotBefore(t){return typeof t=="number"?this._payload={...this._payload,nbf:t}:this._payload={...this._payload,nbf:om(new Date)+ym(t)},this}setExpirationTime(t){return typeof t=="number"?this._payload={...this._payload,exp:t}:this._payload={...this._payload,exp:om(new Date)+ym(t)},this}setIssuedAt(t){return typeof t>"u"?this._payload={...this._payload,iat:om(new Date)}:this._payload={...this._payload,iat:t},this}}class KA extends Wb{setProtectedHeader(t){return this._protectedHeader=t,this}async sign(t,r){var a;const o=new $A(xi.encode(JSON.stringify(this._payload)));if(o.setProtectedHeader(this._protectedHeader),Array.isArray((a=this._protectedHeader)===null||a===void 0?void 0:a.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new za("JWTs MUST NOT use unencoded payload");return o.sign(t,r)}}class z2 extends Wb{setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setKeyManagementParameters(t){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=t,this}setContentEncryptionKey(t){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=t,this}setInitializationVector(t){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=t,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(t,r){const a=new VA(xi.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),a.setProtectedHeader(this._protectedHeader),this._iv&&a.setInitializationVector(this._iv),this._cek&&a.setContentEncryptionKey(this._cek),this._keyManagementParameters&&a.setKeyManagementParameters(this._keyManagementParameters),a.encrypt(t,r)}}const ku=(e,t)=>{if(typeof e!="string"||!e)throw new dA(`${t} missing or invalid`)};async function GA(e,t){if(!Vi(e))throw new TypeError("JWK must be an object");if(t??(t="sha256"),t!=="sha256"&&t!=="sha384"&&t!=="sha512")throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let r;switch(e.kty){case"EC":ku(e.crv,'"crv" (Curve) Parameter'),ku(e.x,'"x" (X Coordinate) Parameter'),ku(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":ku(e.crv,'"crv" (Subtype of Key Pair) Parameter'),ku(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":ku(e.e,'"e" (Exponent) Parameter'),ku(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":ku(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new Lr('"kty" (Key Type) Parameter missing or unsupported')}const a=xi.encode(JSON.stringify(r));return Ci(await uA(t,a))}async function W2(e,t){t??(t="sha256");const r=await GA(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}async function J2(e,t){const r={...e,...t?.header};if(!Vi(r.jwk))throw new Xr('"jwk" (JSON Web Key) Header Parameter must be a JSON object');const a=await Hg({...r.jwk,ext:!0},r.alg,!0);if(a instanceof Uint8Array||a.type!=="public")throw new Xr('"jwk" (JSON Web Key) Header Parameter must be a public key');return a}function Y2(e){switch(typeof e=="string"&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new Lr('Unsupported "alg" value for a JSON Web Key Set')}}function qA(e){return e&&typeof e=="object"&&Array.isArray(e.keys)&&e.keys.every(X2)}function X2(e){return Vi(e)}function Q2(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}class zA{constructor(t){if(this._cached=new WeakMap,!qA(t))throw new Dm("JSON Web Key Set malformed");this._jwks=Q2(t)}async getKey(t,r){const{alg:a,kid:o}={...t,...r?.header},c=Y2(a),s=this._jwks.keys.filter(f=>{let g=c===f.kty;if(g&&typeof o=="string"&&(g=o===f.kid),g&&typeof f.alg=="string"&&(g=a===f.alg),g&&typeof f.use=="string"&&(g=f.use==="sig"),g&&Array.isArray(f.key_ops)&&(g=f.key_ops.includes("verify")),g&&a==="EdDSA"&&(g=f.crv==="Ed25519"||f.crv==="Ed448"),g)switch(a){case"ES256":g=f.crv==="P-256";break;case"ES256K":g=f.crv==="secp256k1";break;case"ES384":g=f.crv==="P-384";break;case"ES512":g=f.crv==="P-521";break}return g}),{0:u,length:h}=s;if(h===0)throw new Bb;if(h!==1){const f=new hA,{_cached:g}=this;throw f[Symbol.asyncIterator]=async function*(){for(const v of s)try{yield await yS(g,v,a)}catch{continue}},f}return yS(this._cached,u,a)}}async function yS(e,t,r){const a=e.get(t)||e.set(t,{}).get(t);if(a[r]===void 0){const o=await Hg({...t,ext:!0},r);if(o instanceof Uint8Array||o.type!=="public")throw new Dm("JSON Web Key Set members must be public keys");a[r]=o}return a[r]}function Z2(e){const t=new zA(e);return async function(r,a){return t.getKey(r,a)}}const eO=async(e,t,r)=>{let a,o,c=!1;typeof AbortController=="function"&&(a=new AbortController,o=setTimeout(()=>{c=!0,a.abort()},t));const s=await fetch(e.href,{signal:a?a.signal:void 0,redirect:"manual",headers:r.headers}).catch(u=>{throw c?new pA:u});if(o!==void 0&&clearTimeout(o),s.status!==200)throw new $i("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await s.json()}catch{throw new $i("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function tO(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}class nO extends zA{constructor(t,r){if(super({keys:[]}),this._jwks=void 0,!(t instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(t.href),this._options={agent:r?.agent,headers:r?.headers},this._timeoutDuration=typeof r?.timeoutDuration=="number"?r?.timeoutDuration:5e3,this._cooldownDuration=typeof r?.cooldownDuration=="number"?r?.cooldownDuration:3e4,this._cacheMaxAge=typeof r?.cacheMaxAge=="number"?r?.cacheMaxAge:6e5}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(t,r){(!this._jwks||!this.fresh())&&await this.reload();try{return await super.getKey(t,r)}catch(a){if(a instanceof Bb&&this.coolingDown()===!1)return await this.reload(),super.getKey(t,r);throw a}}async reload(){this._pendingFetch&&tO()&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=eO(this._url,this._timeoutDuration,this._options).then(t=>{if(!qA(t))throw new Dm("JSON Web Key Set malformed");this._jwks={keys:t.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(t=>{throw this._pendingFetch=void 0,t})),await this._pendingFetch}}function rO(e,t){const r=new nO(e,t);return async function(a,o){return r.getKey(a,o)}}class iO extends Wb{encode(){const t=Ci(JSON.stringify({alg:"none"})),r=Ci(JSON.stringify(this._payload));return`${t}.${r}.`}static decode(t,r){if(typeof t!="string")throw new za("Unsecured JWT must be a string");const{0:a,1:o,2:c,length:s}=t.split(".");if(s!==3||c!=="")throw new za("Invalid Unsecured JWT");let u;try{if(u=JSON.parse(Do.decode(Ni(a))),u.alg!=="none")throw new Error}catch{throw new za("Invalid Unsecured JWT")}return{payload:qb(u,Ni(o),r),header:u}}}const aO=Ci,Jb=Ni,oO=Object.freeze(Object.defineProperty({__proto__:null,decode:Jb,encode:aO},Symbol.toStringTag,{value:"Module"}));function sO(e){let t;if(typeof e=="string"){const r=e.split(".");(r.length===3||r.length===5)&&([t]=r)}else if(typeof e=="object"&&e)if("protected"in e)t=e.protected;else throw new TypeError("Token does not contain a Protected Header");try{if(typeof t!="string"||!t)throw new Error;const r=JSON.parse(Do.decode(Jb(t)));if(!Vi(r))throw new Error;return r}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}function lO(e){if(typeof e!="string")throw new za("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:r}=e.split(".");if(r===5)throw new za("Only JWTs using Compact JWS serialization can be decoded");if(r!==3)throw new za("Invalid JWT");if(!t)throw new za("JWTs must contain a payload");let a;try{a=Jb(t)}catch{throw new za("Failed to base64url decode the payload")}let o;try{o=JSON.parse(Do.decode(a))}catch{throw new za("Failed to parse the decoded payload as JSON")}if(!Vi(o))throw new za("Invalid JWT Claims Set");return o}async function uO(e,t){var r;let a,o,c;switch(e){case"HS256":case"HS384":case"HS512":a=parseInt(e.slice(-3),10),o={name:"HMAC",hash:`SHA-${a}`,length:a},c=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return a=parseInt(e.slice(-3),10),Um(new Uint8Array(a>>3));case"A128KW":case"A192KW":case"A256KW":a=parseInt(e.slice(1,4),10),o={name:"AES-KW",length:a},c=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":a=parseInt(e.slice(1,4),10),o={name:"AES-GCM",length:a},c=["encrypt","decrypt"];break;default:throw new Lr('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return hr.subtle.generateKey(o,(r=t?.extractable)!==null&&r!==void 0?r:!1,c)}function Sv(e){var t;const r=(t=e?.modulusLength)!==null&&t!==void 0?t:2048;if(typeof r!="number"||r<2048)throw new Lr("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return r}async function cO(e,t){var r,a,o;let c,s;switch(e){case"PS256":case"PS384":case"PS512":c={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Sv(t)},s=["sign","verify"];break;case"RS256":case"RS384":case"RS512":c={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Sv(t)},s=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":c={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:Sv(t)},s=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":c={name:"ECDSA",namedCurve:"P-256"},s=["sign","verify"];break;case"ES384":c={name:"ECDSA",namedCurve:"P-384"},s=["sign","verify"];break;case"ES512":c={name:"ECDSA",namedCurve:"P-521"},s=["sign","verify"];break;case"EdDSA":s=["sign","verify"];const u=(r=t?.crv)!==null&&r!==void 0?r:"Ed25519";switch(u){case"Ed25519":case"Ed448":c={name:u};break;default:throw new Lr("Invalid or unsupported crv option provided")}break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{s=["deriveKey","deriveBits"];const h=(a=t?.crv)!==null&&a!==void 0?a:"P-256";switch(h){case"P-256":case"P-384":case"P-521":{c={name:"ECDH",namedCurve:h};break}case"X25519":case"X448":c={name:h};break;default:throw new Lr("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new Lr('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return hr.subtle.generateKey(c,(o=t?.extractable)!==null&&o!==void 0?o:!1,s)}async function WA(e,t){return cO(e,t)}async function fO(e,t){return uO(e,t)}const dO="WebCryptoAPI",hO=Object.freeze(Object.defineProperty({__proto__:null,CompactEncrypt:VA,CompactSign:$A,EmbeddedJWK:J2,EncryptJWT:z2,FlattenedEncrypt:gm,FlattenedSign:zb,GeneralEncrypt:L2,GeneralSign:q2,SignJWT:KA,UnsecuredJWT:iO,base64url:oO,calculateJwkThumbprint:GA,calculateJwkThumbprintUri:W2,compactDecrypt:FA,compactVerify:kA,createLocalJWKSet:Z2,createRemoteJWKSet:rO,cryptoRuntime:dO,decodeJwt:lO,decodeProtectedHeader:sO,errors:QC,exportJWK:$b,exportPKCS8:D2,exportSPKI:F2,flattenedDecrypt:Vb,flattenedVerify:Kb,generalDecrypt:P2,generalVerify:k2,generateKeyPair:WA,generateSecret:fO,importJWK:Hg,importPKCS8:S2,importSPKI:_2,importX509:E2,jwtDecrypt:$2,jwtVerify:HA},Symbol.toStringTag,{value:"Module"})),pO=Am(hO);var mS;function gO(){if(mS)return sr;mS=1;var e=Rf(),t=Ib(),r=pO,a=Lb();const o="solidClientAuthn:",c=["ES256","RS256"],s={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},u=5,v=["openid","offline_access","webid"].join(" "),w=(Xe,ze)=>({get(Pe,ft,X){if(!Object.getOwnPropertyNames(e.EventEmitter).includes(ft)&&Object.getOwnPropertyNames(Xe).includes(ft))throw new Error(`${ze}: [${ft}] is not supported`);return Reflect.get(Pe,ft,X)}});class S{constructor(ze){this.handleables=ze,this.handleables=ze}async getProperHandler(ze){const Pe=await Promise.all(this.handleables.map(ft=>ft.canHandle(...ze)));for(let ft=0;ft<Pe.length;ft+=1)if(Pe[ft])return this.handleables[ft];return null}async canHandle(...ze){return await this.getProperHandler(ze)!==null}async handle(...ze){const Pe=await this.getProperHandler(ze);if(Pe)return Pe.handle(...ze);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${ze.map(ft=>{try{return JSON.stringify(ft)}catch{return ft.toString()}}).join(", ")}`)}}async function T(Xe,ze){const Pe=await t.fetch.call(globalThis,Xe);if(Pe.status!==200)throw new Error(`Could not fetch JWKS for [${ze}] at [${Xe}]: ${Pe.status} ${Pe.statusText}`);let ft;try{ft=(await Pe.json()).keys[0]}catch(X){throw new Error(`Malformed JWKS for [${ze}] at [${Xe}]: ${X.message}`)}return ft}async function R(Xe,ze,Pe,ft){const X=await T(ze,Pe);let B;try{const{payload:V}=await r.jwtVerify(Xe,await r.importJWK(X),{issuer:Pe,audience:ft});B=V}catch(V){throw new Error(`Token verification failed: ${V.stack}`)}if(typeof B.webid=="string")return B.webid;if(typeof B.sub!="string")throw new Error(`The token ${JSON.stringify(B)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(B.sub),B.sub}catch(V){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${B.sub}] is invalid as a URL - error [${V}].`)}}function C(Xe){try{const ze=new URL(Xe),Pe=!ze.searchParams.has("code")&&!ze.searchParams.has("state"),ft=ze.hash==="";return Pe&&ft}catch{return!1}}function x(Xe){const ze=new URL(Xe);return ze.searchParams.delete("state"),ze.searchParams.delete("code"),ze.searchParams.delete("error"),ze.searchParams.delete("error_description"),ze.searchParams.delete("iss"),ze}class F{constructor(ze,Pe){this.storageUtility=ze,this.redirector=Pe,this.storageUtility=ze,this.redirector=Pe}async canHandle(ze){return!!(ze.issuerConfiguration.grantTypesSupported&&ze.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1)}async handleRedirect({oidcLoginOptions:ze,state:Pe,codeVerifier:ft,targetUrl:X}){await Promise.all([this.storageUtility.setForUser(Pe,{sessionId:ze.sessionId}),this.storageUtility.setForUser(ze.sessionId,{codeVerifier:ft,issuer:ze.issuer.toString(),redirectUrl:ze.redirectUrl,dpop:ze.dpop?"true":"false"})]),this.redirector.redirect(X,{handleRedirect:ze.handleRedirect})}}class P{constructor(ze){this.sessionInfoManager=ze,this.sessionInfoManager=ze}async canHandle(){return!0}async handle(ze){await this.sessionInfoManager.clear(ze)}}class K{constructor(ze){this.redirector=ze,this.redirector=ze}async canHandle(ze,Pe){return Pe?.logoutType==="idp"}async handle(ze,Pe){if(Pe?.logoutType!=="idp")throw new Error("Attempting to call idp logout handler to perform app logout");if(Pe.toLogoutUrl===void 0)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(Pe.toLogoutUrl(Pe),{handleRedirect:Pe.handleRedirect})}}class M{constructor(ze,Pe){this.handlers=[new P(ze),new K(Pe)]}async canHandle(){return!0}async handle(ze,Pe){for(const ft of this.handlers)await ft.canHandle(ze,Pe)&&await ft.handle(ze,Pe)}}function z(){return{isLoggedIn:!1,sessionId:a.v4(),fetch:(...Xe)=>t.fetch.call(globalThis,...Xe)}}async function J(Xe,ze){await Promise.all([ze.deleteAllUserData(Xe,{secure:!1}),ze.deleteAllUserData(Xe,{secure:!0})])}class q{constructor(ze){this.storageUtility=ze,this.storageUtility=ze}update(ze,Pe){throw new Error("Not Implemented")}get(ze){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(ze){return J(ze,this.storageUtility)}async register(ze){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}}function Fe({endSessionEndpoint:Xe,idTokenHint:ze,postLogoutRedirectUri:Pe,state:ft}){const X=new URL(Xe);return ze!==void 0&&X.searchParams.append("id_token_hint",ze),Pe!==void 0&&(X.searchParams.append("post_logout_redirect_uri",Pe),ft!==void 0&&X.searchParams.append("state",ft)),X.toString()}function $({endSessionEndpoint:Xe,idTokenHint:ze}){if(Xe!==void 0)return function({state:ft,postLogoutUrl:X}){return Fe({endSessionEndpoint:Xe,idTokenHint:ze,state:ft,postLogoutRedirectUri:X})}}function ie(Xe){return typeof Xe=="string"&&["DPoP","Bearer"].includes(Xe)}const ge="solidClientAuthenticationUser";function Ee(Xe){try{return new URL(Xe),!0}catch{return!1}}function tt(Xe,ze){var Pe;return(Pe=ze.find(ft=>Xe.includes(ft)))!==null&&Pe!==void 0?Pe:null}function ct(Xe,ze){return Xe.clientId!==void 0&&!Ee(Xe.clientId)?"static":ze.scopesSupported.includes("webid")&&Xe.clientId!==void 0&&Ee(Xe.clientId)?"solid-oidc":"dynamic"}async function Ie(Xe,ze,Pe,ft){const X=ct(Xe,ze);return X==="dynamic"?ft.getClient({sessionId:Xe.sessionId,clientName:Xe.clientName,redirectUrl:Xe.redirectUrl},ze):(await Pe.setForUser(Xe.sessionId,{clientId:Xe.clientId}),Xe.clientSecret&&await Pe.setForUser(Xe.sessionId,{clientSecret:Xe.clientSecret}),Xe.clientName&&await Pe.setForUser(Xe.sessionId,{clientName:Xe.clientName}),{clientId:Xe.clientId,clientSecret:Xe.clientSecret,clientName:Xe.clientName,clientType:X})}const ht=(Xe,ze)=>t.fetch.call(globalThis,Xe,ze);class de{constructor(ze,Pe,ft,X,B){this.loginHandler=ze,this.redirectHandler=Pe,this.logoutHandler=ft,this.sessionInfoManager=X,this.issuerConfigFetcher=B,this.fetch=ht,this.logout=async(V,H)=>{await this.logoutHandler.handle(V,H?.logoutType==="idp"?{...H,toLogoutUrl:this.boundLogout}:H),this.fetch=ht,delete this.boundLogout},this.getSessionInfo=async V=>this.sessionInfoManager.get(V),this.getAllSessionInfo=async()=>this.sessionInfoManager.getAll(),this.loginHandler=ze,this.redirectHandler=Pe,this.logoutHandler=ft,this.sessionInfoManager=X,this.issuerConfigFetcher=B}}async function nt(Xe,ze){return Xe.getForUser(ze,"sessionId")}async function Y(Xe,ze,Pe){try{const[ft,X,B,V]=await Promise.all([ze.getForUser(Xe,"issuer",{errorIfNull:!0}),ze.getForUser(Xe,"codeVerifier"),ze.getForUser(Xe,"redirectUrl"),ze.getForUser(Xe,"dpop",{errorIfNull:!0})]);await ze.deleteForUser(Xe,"codeVerifier");const H=await Pe.fetchConfig(ft);return{codeVerifier:X,redirectUrl:B,issuerConfig:H,dpop:V==="true"}}catch(ft){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${Xe}]: ${ft}`)}}async function Re(Xe,ze,Pe,ft,X,B,V){X!==void 0&&await Xe.setForUser(ze,{refreshToken:X},{secure:B}),Pe!==void 0&&await Xe.setForUser(ze,{webId:Pe},{secure:B}),ft!==void 0&&await Xe.setForUser(ze,{isLoggedIn:ft},{secure:B}),V!==void 0&&await Xe.setForUser(ze,{publicKey:JSON.stringify(V.publicKey),privateKey:JSON.stringify(await r.exportJWK(V.privateKey))},{secure:B})}class Qe{constructor(ze,Pe){this.secureStorage=ze,this.insecureStorage=Pe,this.secureStorage=ze,this.insecureStorage=Pe}getKey(ze){return`solidClientAuthenticationUser:${ze}`}async getUserData(ze,Pe){const ft=await(Pe?this.secureStorage:this.insecureStorage).get(this.getKey(ze));if(ft===void 0)return{};try{return JSON.parse(ft)}catch{throw new Error(`Data for user [${ze}] in [${Pe?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${ft}`)}}async setUserData(ze,Pe,ft){await(ft?this.secureStorage:this.insecureStorage).set(this.getKey(ze),JSON.stringify(Pe))}async get(ze,Pe){const ft=await(Pe?.secure?this.secureStorage:this.insecureStorage).get(ze);if(ft===void 0&&Pe?.errorIfNull)throw new Error(`[${ze}] is not stored`);return ft}async set(ze,Pe,ft){return(ft?.secure?this.secureStorage:this.insecureStorage).set(ze,Pe)}async delete(ze,Pe){return(Pe?.secure?this.secureStorage:this.insecureStorage).delete(ze)}async getForUser(ze,Pe,ft){const X=await this.getUserData(ze,ft?.secure);let B;if((!X||!X[Pe])&&(B=void 0),B=X[Pe],B===void 0&&ft?.errorIfNull)throw new Error(`Field [${Pe}] for user [${ze}] is not stored`);return B||void 0}async setForUser(ze,Pe,ft){let X;try{X=await this.getUserData(ze,ft?.secure)}catch{X={}}await this.setUserData(ze,{...X,...Pe},ft?.secure)}async deleteForUser(ze,Pe,ft){const X=await this.getUserData(ze,ft?.secure);delete X[Pe],await this.setUserData(ze,X,ft?.secure)}async deleteAllUserData(ze,Pe){await(Pe?.secure?this.secureStorage:this.insecureStorage).delete(this.getKey(ze))}}class He{constructor(){this.map={}}async get(ze){return this.map[ze]||void 0}async set(ze,Pe){this.map[ze]=Pe}async delete(ze){delete this.map[ze]}}class st extends Error{constructor(ze){super(ze)}}class It extends Error{constructor(ze){super(`[${ze}] is not implemented`)}}class kt extends Error{constructor(ze){super(`Invalid response from OIDC provider: missing fields ${ze}`),this.missingFields=ze}}class ke extends Error{constructor(ze,Pe,ft){super(ze),this.error=Pe,this.errorDescription=ft}}function le(Xe){const ze=new URL(Xe);return new URL(ze.pathname,ze.origin).toString()}async function Ce(Xe,ze,Pe){return new r.SignJWT({htu:le(Xe),htm:ze.toUpperCase(),jti:a.v4()}).setProtectedHeader({alg:c[0],jwk:Pe.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(Pe.privateKey,{})}async function Ye(){const{privateKey:Xe,publicKey:ze}=await r.generateKeyPair(c[0]),Pe={privateKey:Xe,publicKey:await r.exportJWK(ze)};return[Pe.publicKey.alg]=c,Pe}const oe=600;function k(Xe){return[401,403].includes(Xe)}async function D(Xe,ze,Pe,ft){var X;const B=new t.Headers(ft?.headers);return B.set("Authorization",`DPoP ${ze}`),B.set("DPoP",await Ce(Xe,(X=ft?.method)!==null&&X!==void 0?X:"get",Pe)),{...ft,headers:B}}async function G(Xe,ze,Pe,ft){if(Pe!==void 0)return D(Xe,ze,Pe,ft);const X=new t.Headers(ft?.headers);return X.set("Authorization",`Bearer ${ze}`),{...ft,headers:X}}async function ne(Xe,ze,Pe,ft,X){return Xe(Pe,await G(Pe.toString(),ze,X,ft))}async function _e(Xe,ze,Pe){var ft;const X=await Xe.tokenRefresher.refresh(Xe.sessionId,Xe.refreshToken,ze);return Pe?.emit(s.SESSION_EXTENDED,(ft=X.expiresIn)!==null&&ft!==void 0?ft:oe),typeof X.refreshToken=="string"&&Pe?.emit(s.NEW_REFRESH_TOKEN,X.refreshToken),{accessToken:X.accessToken,refreshToken:X.refreshToken,expiresIn:X.expiresIn}}const Oe=Xe=>Xe!==void 0?Xe-u>0?Xe-u:Xe:oe;async function lt(Xe,ze,Pe){var ft;let X=ze,B;const V=Pe?.refreshOptions;if(V!==void 0){const H=async()=>{var We,rt,Je,Yt;try{const{accessToken:jn,refreshToken:Vn,expiresIn:sn}=await _e(V,Pe.dpopKey,Pe.eventEmitter);X=jn,Vn!==void 0&&(V.refreshToken=Vn),clearTimeout(B),B=setTimeout(H,Oe(sn)*1e3),(We=Pe.eventEmitter)===null||We===void 0||We.emit(s.TIMEOUT_SET,B)}catch(jn){jn instanceof ke&&((rt=Pe?.eventEmitter)===null||rt===void 0||rt.emit(s.ERROR,jn.error,jn.errorDescription),(Je=Pe?.eventEmitter)===null||Je===void 0||Je.emit(s.SESSION_EXPIRED)),jn instanceof kt&&jn.missingFields.includes("access_token")&&((Yt=Pe?.eventEmitter)===null||Yt===void 0||Yt.emit(s.SESSION_EXPIRED))}};B=setTimeout(H,Oe(Pe.expiresIn)*1e3),(ft=Pe.eventEmitter)===null||ft===void 0||ft.emit(s.TIMEOUT_SET,B)}else if(Pe!==void 0&&Pe.eventEmitter!==void 0){const H=setTimeout(()=>{Pe.eventEmitter.emit(s.SESSION_EXPIRED)},Oe(Pe.expiresIn)*1e3);Pe.eventEmitter.emit(s.TIMEOUT_SET,H)}return async(H,We)=>{let rt=await ne(Xe,X,H,We,Pe?.dpopKey);const Je=!rt.ok&&!k(rt.status);return rt.ok||Je||rt.url!==H&&Pe?.dpopKey!==void 0&&(rt=await ne(Xe,X,rt.url,We,Pe.dpopKey)),rt}}const Te="getResponse",yt={get:async(Xe,ze)=>Te,set:async(Xe,ze)=>{},delete:async Xe=>{},getForUser:async(Xe,ze,Pe)=>Te,setForUser:async(Xe,ze,Pe)=>{},deleteForUser:async(Xe,ze,Pe)=>{},deleteAllUserData:async(Xe,ze)=>{}},Ot=Xe=>{const ze=Xe;return{get:async Pe=>{if(ze[Pe]!==void 0)return typeof ze[Pe]=="string"?ze[Pe]:JSON.stringify(ze[Pe])},set:async(Pe,ft)=>{ze[Pe]=ft},delete:async Pe=>{delete ze[Pe]}}},wt=(Xe,ze=!1)=>ze?new Qe(Ot(Xe),Ot({})):new Qe(Ot({}),Ot(Xe));return sr.AggregateHandler=S,sr.AuthorizationCodeWithPkceOidcHandlerBase=F,sr.ClientAuthentication=de,sr.ConfigurationError=st,sr.DEFAULT_SCOPES=v,sr.EVENTS=s,sr.GeneralLogoutHandler=P,sr.IRpLogoutHandler=K,sr.IWaterfallLogoutHandler=M,sr.InMemoryStorage=He,sr.InvalidResponseError=kt,sr.NotImplementedError=It,sr.OidcProviderError=ke,sr.PREFERRED_SIGNING_ALG=c,sr.REFRESH_BEFORE_EXPIRATION_SECONDS=u,sr.SOLID_CLIENT_AUTHN_KEY_PREFIX=o,sr.SessionInfoManagerBase=q,sr.StorageUtility=Qe,sr.StorageUtilityGetResponse=Te,sr.StorageUtilityMock=yt,sr.USER_SESSION_PREFIX=ge,sr.buildAuthenticatedFetch=lt,sr.buildProxyHandler=w,sr.clear=J,sr.createDpopHeader=Ce,sr.determineSigningAlg=tt,sr.fetchJwks=T,sr.generateDpopKeyPair=Ye,sr.getEndSessionUrl=Fe,sr.getSessionIdFromOauthState=nt,sr.getUnauthenticatedSession=z,sr.getWebidFromTokenPayload=R,sr.handleRegistration=Ie,sr.isSupportedTokenType=ie,sr.isValidRedirectUrl=C,sr.loadOidcContextFromStorage=Y,sr.maybeBuildRpInitiatedLogout=$,sr.mockStorage=Ot,sr.mockStorageUtility=wt,sr.removeOpenIdParams=x,sr.saveSessionInfoToStorage=Re,sr}var sm={exports:{}},yO=sm.exports,vS;function mO(){return vS||(vS=1,function(e,t){(function(a,o){e.exports=o()})(yO,function(){return function(r){var a={};function o(c){if(a[c])return a[c].exports;var s=a[c]={i:c,l:!1,exports:{}};return r[c].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=r,o.c=a,o.d=function(c,s,u){o.o(c,s)||Object.defineProperty(c,s,{enumerable:!0,get:u})},o.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},o.t=function(c,s){if(1&s&&(c=o(c)),8&s||4&s&&typeof c=="object"&&c&&c.__esModule)return c;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:c}),2&s&&typeof c!="string")for(var h in c)o.d(u,h,(function(f){return c[f]}).bind(null,h));return u},o.n=function(c){var s=c&&c.__esModule?function(){return c.default}:function(){return c};return o.d(s,"a",s),s},o.o=function(c,s){return Object.prototype.hasOwnProperty.call(c,s)},o.p="",o(o.s=22)}([function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function f(g,v){for(var w=0;w<v.length;w++){var S=v[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,v,w){return v&&f(g.prototype,v),w&&f(g,w),g}}(),s={debug:function(){},info:function(){},warn:function(){},error:function(){}},u=void 0,h=void 0;(a.Log=function(){function f(){(function(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")})(this,f)}return f.reset=function(){h=3,u=s},f.debug=function(){if(h>=4){for(var v=arguments.length,w=Array(v),S=0;S<v;S++)w[S]=arguments[S];u.debug.apply(u,Array.from(w))}},f.info=function(){if(h>=3){for(var v=arguments.length,w=Array(v),S=0;S<v;S++)w[S]=arguments[S];u.info.apply(u,Array.from(w))}},f.warn=function(){if(h>=2){for(var v=arguments.length,w=Array(v),S=0;S<v;S++)w[S]=arguments[S];u.warn.apply(u,Array.from(w))}},f.error=function(){if(h>=1){for(var v=arguments.length,w=Array(v),S=0;S<v;S++)w[S]=arguments[S];u.error.apply(u,Array.from(w))}},c(f,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return h},set:function(v){if(!(0<=v&&v<=4))throw new Error("Invalid log level");h=v}},{key:"logger",get:function(){return u},set:function(v){if(!v.debug&&v.info&&(v.debug=v.info),!(v.debug&&v.info&&v.warn&&v.error))throw new Error("Invalid logger");u=v}}]),f}()).reset()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=function(){function f(g,v){for(var w=0;w<v.length;w++){var S=v[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,v,w){return v&&f(g.prototype,v),w&&f(g,w),g}}(),s={setInterval:function(f){function g(v,w){return f.apply(this,arguments)}return g.toString=function(){return f.toString()},g}(function(f,g){return setInterval(f,g)}),clearInterval:function(f){function g(v){return f.apply(this,arguments)}return g.toString=function(){return f.toString()},g}(function(f){return clearInterval(f)})},u=!1,h=null;a.Global=function(){function f(){(function(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")})(this,f)}return f._testing=function(){u=!0},f.setXMLHttpRequest=function(v){h=v},c(f,null,[{key:"location",get:function(){if(!u)return location}},{key:"localStorage",get:function(){if(!u&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!u&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!u&&typeof window<"u")return h||XMLHttpRequest}},{key:"timer",get:function(){if(!u)return s}}]),f}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.MetadataService=void 0;var c=function(){function g(v,w){for(var S=0;S<w.length;S++){var T=w[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,w,S){return w&&g(v.prototype,w),S&&g(v,S),v}}(),s=o(0),u=o(7);function h(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}var f=".well-known/openid-configuration";a.MetadataService=function(){function g(v){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.JsonService;if(h(this,g),!v)throw s.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=v,this._jsonService=new w(["application/jwk-set+json"])}return g.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},g.prototype.getMetadata=function(){var w=this;return this._settings.metadata?(s.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(s.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(S){s.Log.debug("MetadataService.getMetadata: json received");var T=w._settings.metadataSeed||{};return w._settings.metadata=Object.assign({},T,S),w._settings.metadata})):(s.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},g.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},g.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},g.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},g.prototype.getTokenEndpoint=function(){var w=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",w)},g.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},g.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},g.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},g.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},g.prototype._getMetadataProperty=function(w){var S=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return s.Log.debug("MetadataService.getMetadataProperty for: "+w),this.getMetadata().then(function(T){if(s.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),T[w]===void 0){if(S===!0)return void s.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+w);throw s.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+w),new Error("Metadata does not contain property "+w)}return T[w]})},g.prototype.getSigningKeys=function(){var w=this;return this._settings.signingKeys?(s.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(S){return s.Log.debug("MetadataService.getSigningKeys: jwks_uri received",S),w._jsonService.getJson(S).then(function(T){if(s.Log.debug("MetadataService.getSigningKeys: key set received",T),!T.keys)throw s.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return w._settings.signingKeys=T.keys,w._settings.signingKeys})})},c(g,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(f)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=f))),this._metadataUrl}}]),g}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.UrlUtility=void 0;var c=o(0),s=o(1);a.UrlUtility=function(){function u(){(function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.addQueryParam=function(f,g,v){return f.indexOf("?")<0&&(f+="?"),f[f.length-1]!=="?"&&(f+="&"),f+=encodeURIComponent(g),f+="=",f+=encodeURIComponent(v)},u.parseUrlFragment=function(f){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.Global;typeof f!="string"&&(f=v.location.href);var w=f.lastIndexOf(g);w>=0&&(f=f.substr(w+1)),g==="?"&&(w=f.indexOf("#"))>=0&&(f=f.substr(0,w));for(var S,T={},R=/([^&=]+)=([^&]*)/g,C=0;S=R.exec(f);)if(T[decodeURIComponent(S[1])]=decodeURIComponent(S[2].replace(/\+/g," ")),C++>50)return c.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",f),{error:"Response exceeded expected number of parameters"};for(var x in T)return T;return{}},u}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.JoseUtil=void 0;var c=o(26),s=function(h){return h&&h.__esModule?h:{default:h}}(o(33));a.JoseUtil=(0,s.default)({jws:c.jws,KeyUtil:c.KeyUtil,X509:c.X509,crypto:c.crypto,hextob64u:c.hextob64u,b64tohex:c.b64tohex,AllowedSigningAlgs:c.AllowedSigningAlgs})},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.OidcClientSettings=void 0;var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},s=function(){function x(F,P){for(var K=0;K<P.length;K++){var M=P[K];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(F,M.key,M)}}return function(F,P,K){return P&&x(F.prototype,P),K&&x(F,K),F}}(),u=o(0),h=o(23),f=o(6),g=o(24),v=o(2);function w(x,F){if(!(x instanceof F))throw new TypeError("Cannot call a class as a function")}var S=".well-known/openid-configuration",T="id_token",R="openid",C="client_secret_post";a.OidcClientSettings=function(){function x(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=F.authority,K=F.metadataUrl,M=F.metadata,z=F.signingKeys,J=F.metadataSeed,q=F.client_id,Fe=F.client_secret,$=F.response_type,ie=$===void 0?T:$,ge=F.scope,Ee=ge===void 0?R:ge,tt=F.redirect_uri,ct=F.post_logout_redirect_uri,Ie=F.client_authentication,ht=Ie===void 0?C:Ie,de=F.prompt,nt=F.display,Y=F.max_age,Re=F.ui_locales,Qe=F.acr_values,He=F.resource,st=F.response_mode,It=F.filterProtocolClaims,kt=It===void 0||It,ke=F.loadUserInfo,le=ke===void 0||ke,Ce=F.staleStateAge,Ye=Ce===void 0?900:Ce,oe=F.clockSkew,k=oe===void 0?300:oe,D=F.clockService,G=D===void 0?new h.ClockService:D,ne=F.userInfoJwtIssuer,_e=ne===void 0?"OP":ne,Oe=F.mergeClaims,lt=Oe!==void 0&&Oe,Te=F.stateStore,yt=Te===void 0?new f.WebStorageStateStore:Te,Ot=F.ResponseValidatorCtor,wt=Ot===void 0?g.ResponseValidator:Ot,Xe=F.MetadataServiceCtor,ze=Xe===void 0?v.MetadataService:Xe,Pe=F.extraQueryParams,ft=Pe===void 0?{}:Pe,X=F.extraTokenParams,B=X===void 0?{}:X;w(this,x),this._authority=P,this._metadataUrl=K,this._metadata=M,this._metadataSeed=J,this._signingKeys=z,this._client_id=q,this._client_secret=Fe,this._response_type=ie,this._scope=Ee,this._redirect_uri=tt,this._post_logout_redirect_uri=ct,this._client_authentication=ht,this._prompt=de,this._display=nt,this._max_age=Y,this._ui_locales=Re,this._acr_values=Qe,this._resource=He,this._response_mode=st,this._filterProtocolClaims=!!kt,this._loadUserInfo=!!le,this._staleStateAge=Ye,this._clockSkew=k,this._clockService=G,this._userInfoJwtIssuer=_e,this._mergeClaims=!!lt,this._stateStore=yt,this._validator=new wt(this),this._metadataService=new ze(this),this._extraQueryParams=(ft===void 0?"undefined":c(ft))==="object"?ft:{},this._extraTokenParams=(B===void 0?"undefined":c(B))==="object"?B:{}}return x.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},s(x,[{key:"client_id",get:function(){return this._client_id},set:function(P){if(this._client_id)throw u.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=P}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(P){if(this._authority)throw u.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=P}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(S)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=S)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(P){this._metadata=P}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(P){this._metadataSeed=P}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(P){this._signingKeys=P}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(P){(P===void 0?"undefined":c(P))==="object"?this._extraQueryParams=P:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(P){(P===void 0?"undefined":c(P))==="object"?this._extraTokenParams=P:this._extraTokenParams={}}}]),x}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.WebStorageStateStore=void 0;var c=o(0),s=o(1);function u(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}a.WebStorageStateStore=function(){function h(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=f.prefix,v=g===void 0?"oidc.":g,w=f.store,S=w===void 0?s.Global.localStorage:w;u(this,h),this._store=S,this._prefix=v}return h.prototype.set=function(g,v){return c.Log.debug("WebStorageStateStore.set",g),g=this._prefix+g,this._store.setItem(g,v),Promise.resolve()},h.prototype.get=function(g){c.Log.debug("WebStorageStateStore.get",g),g=this._prefix+g;var v=this._store.getItem(g);return Promise.resolve(v)},h.prototype.remove=function(g){c.Log.debug("WebStorageStateStore.remove",g),g=this._prefix+g;var v=this._store.getItem(g);return this._store.removeItem(g),Promise.resolve(v)},h.prototype.getAllKeys=function(){c.Log.debug("WebStorageStateStore.getAllKeys");for(var g=[],v=0;v<this._store.length;v++){var w=this._store.key(v);w.indexOf(this._prefix)===0&&g.push(w.substr(this._prefix.length))}return Promise.resolve(g)},h}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.JsonService=void 0;var c=o(0),s=o(1);function u(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}a.JsonService=function(){function h(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.XMLHttpRequest,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;u(this,h),f&&Array.isArray(f)?this._contentTypes=f.slice():this._contentTypes=[],this._contentTypes.push("application/json"),v&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=g,this._jwtHandler=v}return h.prototype.getJson=function(g,v){var w=this;if(!g)throw c.Log.error("JsonService.getJson: No url passed"),new Error("url");return c.Log.debug("JsonService.getJson, url: ",g),new Promise(function(S,T){var R=new w._XMLHttpRequest;R.open("GET",g);var C=w._contentTypes,x=w._jwtHandler;R.onload=function(){if(c.Log.debug("JsonService.getJson: HTTP response received, status",R.status),R.status===200){var F=R.getResponseHeader("Content-Type");if(F){var P=C.find(function(K){if(F.startsWith(K))return!0});if(P=="application/jwt")return void x(R).then(S,T);if(P)try{return void S(JSON.parse(R.responseText))}catch(K){return c.Log.error("JsonService.getJson: Error parsing JSON response",K.message),void T(K)}}T(Error("Invalid response Content-Type: "+F+", from URL: "+g))}else T(Error(R.statusText+" ("+R.status+")"))},R.onerror=function(){c.Log.error("JsonService.getJson: network error"),T(Error("Network Error"))},v&&(c.Log.debug("JsonService.getJson: token passed, setting Authorization header"),R.setRequestHeader("Authorization","Bearer "+v)),R.send()})},h.prototype.postForm=function(g,v,w){var S=this;if(!g)throw c.Log.error("JsonService.postForm: No url passed"),new Error("url");return c.Log.debug("JsonService.postForm, url: ",g),new Promise(function(T,R){var C=new S._XMLHttpRequest;C.open("POST",g);var x=S._contentTypes;C.onload=function(){if(c.Log.debug("JsonService.postForm: HTTP response received, status",C.status),C.status!==200){if(C.status===400&&(z=C.getResponseHeader("Content-Type"))&&x.find(function(J){if(z.startsWith(J))return!0}))try{var M=JSON.parse(C.responseText);if(M&&M.error)return c.Log.error("JsonService.postForm: Error from server: ",M.error),void R(new Error(M.error))}catch(J){return c.Log.error("JsonService.postForm: Error parsing JSON response",J.message),void R(J)}R(Error(C.statusText+" ("+C.status+")"))}else{var z;if((z=C.getResponseHeader("Content-Type"))&&x.find(function(J){if(z.startsWith(J))return!0}))try{return void T(JSON.parse(C.responseText))}catch(J){return c.Log.error("JsonService.postForm: Error parsing JSON response",J.message),void R(J)}R(Error("Invalid response Content-Type: "+z+", from URL: "+g))}},C.onerror=function(){c.Log.error("JsonService.postForm: network error"),R(Error("Network Error"))};var F="";for(var P in v){var K=v[P];K&&(F.length>0&&(F+="&"),F+=encodeURIComponent(P),F+="=",F+=encodeURIComponent(K))}C.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),w!==void 0&&C.setRequestHeader("Authorization","Basic "+btoa(w)),C.send(F)})},h}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.SigninRequest=void 0;var c=o(0),s=o(3),u=o(13);a.SigninRequest=function(){function h(f){var g=f.url,v=f.client_id,w=f.redirect_uri,S=f.response_type,T=f.scope,R=f.authority,C=f.data,x=f.prompt,F=f.display,P=f.max_age,K=f.ui_locales,M=f.id_token_hint,z=f.login_hint,J=f.acr_values,q=f.resource,Fe=f.response_mode,$=f.request,ie=f.request_uri,ge=f.extraQueryParams,Ee=f.request_type,tt=f.client_secret,ct=f.extraTokenParams,Ie=f.skipUserInfo;if(function(He,st){if(!(He instanceof st))throw new TypeError("Cannot call a class as a function")}(this,h),!g)throw c.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!v)throw c.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!w)throw c.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!S)throw c.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!T)throw c.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!R)throw c.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var ht=h.isOidc(S),de=h.isCode(S);Fe||(Fe=h.isCode(S)?"query":null),this.state=new u.SigninState({nonce:ht,data:C,client_id:v,authority:R,redirect_uri:w,code_verifier:de,request_type:Ee,response_mode:Fe,client_secret:tt,scope:T,extraTokenParams:ct,skipUserInfo:Ie}),g=s.UrlUtility.addQueryParam(g,"client_id",v),g=s.UrlUtility.addQueryParam(g,"redirect_uri",w),g=s.UrlUtility.addQueryParam(g,"response_type",S),g=s.UrlUtility.addQueryParam(g,"scope",T),g=s.UrlUtility.addQueryParam(g,"state",this.state.id),ht&&(g=s.UrlUtility.addQueryParam(g,"nonce",this.state.nonce)),de&&(g=s.UrlUtility.addQueryParam(g,"code_challenge",this.state.code_challenge),g=s.UrlUtility.addQueryParam(g,"code_challenge_method","S256"));var nt={prompt:x,display:F,max_age:P,ui_locales:K,id_token_hint:M,login_hint:z,acr_values:J,resource:q,request:$,request_uri:ie,response_mode:Fe};for(var Y in nt)nt[Y]&&(g=s.UrlUtility.addQueryParam(g,Y,nt[Y]));for(var Re in ge)g=s.UrlUtility.addQueryParam(g,Re,ge[Re]);this.url=g}return h.isOidc=function(g){return!!g.split(/\s+/g).filter(function(v){return v==="id_token"})[0]},h.isOAuth=function(g){return!!g.split(/\s+/g).filter(function(v){return v==="token"})[0]},h.isCode=function(g){return!!g.split(/\s+/g).filter(function(v){return v==="code"})[0]},h}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.State=void 0;var c=function(){function f(g,v){for(var w=0;w<v.length;w++){var S=v[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,v,w){return v&&f(g.prototype,v),w&&f(g,w),g}}(),s=o(0),u=function(g){return g&&g.__esModule?g:{default:g}}(o(14));function h(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}a.State=function(){function f(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=g.id,w=g.data,S=g.created,T=g.request_type;h(this,f),this._id=v||(0,u.default)(),this._data=w,this._created=typeof S=="number"&&S>0?S:parseInt(Date.now()/1e3),this._request_type=T}return f.prototype.toStorageString=function(){return s.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},f.fromStorageString=function(v){return s.Log.debug("State.fromStorageString"),new f(JSON.parse(v))},f.clearStaleState=function(v,w){var S=Date.now()/1e3-w;return v.getAllKeys().then(function(T){s.Log.debug("State.clearStaleState: got keys",T);for(var R=[],C=function(K){var M=T[K];F=v.get(M).then(function(z){var J=!1;if(z)try{var q=f.fromStorageString(z);s.Log.debug("State.clearStaleState: got item from key: ",M,q.created),q.created<=S&&(J=!0)}catch(Fe){s.Log.error("State.clearStaleState: Error parsing state for key",M,Fe.message),J=!0}else s.Log.debug("State.clearStaleState: no item in storage for key: ",M),J=!0;if(J)return s.Log.debug("State.clearStaleState: removed item for key: ",M),v.remove(M)}),R.push(F)},x=0;x<T.length;x++){var F;C(x)}return s.Log.debug("State.clearStaleState: waiting on promise count:",R.length),Promise.all(R)})},c(f,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),f}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.OidcClient=void 0;var c=function(){function C(x,F){for(var P=0;P<F.length;P++){var K=F[P];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(x,K.key,K)}}return function(x,F,P){return F&&C(x.prototype,F),P&&C(x,P),x}}(),s=o(0),u=o(5),h=o(12),f=o(8),g=o(34),v=o(35),w=o(36),S=o(13),T=o(9);function R(C,x){if(!(C instanceof x))throw new TypeError("Cannot call a class as a function")}a.OidcClient=function(){function C(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};R(this,C),x instanceof u.OidcClientSettings?this._settings=x:this._settings=new u.OidcClientSettings(x)}return C.prototype.createSigninRequest=function(){var F=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=P.response_type,M=P.scope,z=P.redirect_uri,J=P.data,q=P.state,Fe=P.prompt,$=P.display,ie=P.max_age,ge=P.ui_locales,Ee=P.id_token_hint,tt=P.login_hint,ct=P.acr_values,Ie=P.resource,ht=P.request,de=P.request_uri,nt=P.response_mode,Y=P.extraQueryParams,Re=P.extraTokenParams,Qe=P.request_type,He=P.skipUserInfo,st=arguments[1];s.Log.debug("OidcClient.createSigninRequest");var It=this._settings.client_id;K=K||this._settings.response_type,M=M||this._settings.scope,z=z||this._settings.redirect_uri,Fe=Fe||this._settings.prompt,$=$||this._settings.display,ie=ie||this._settings.max_age,ge=ge||this._settings.ui_locales,ct=ct||this._settings.acr_values,Ie=Ie||this._settings.resource,nt=nt||this._settings.response_mode,Y=Y||this._settings.extraQueryParams,Re=Re||this._settings.extraTokenParams;var kt=this._settings.authority;return f.SigninRequest.isCode(K)&&K!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(ke){s.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",ke);var le=new f.SigninRequest({url:ke,client_id:It,redirect_uri:z,response_type:K,scope:M,data:J||q,authority:kt,prompt:Fe,display:$,max_age:ie,ui_locales:ge,id_token_hint:Ee,login_hint:tt,acr_values:ct,resource:Ie,request:ht,request_uri:de,extraQueryParams:Y,extraTokenParams:Re,request_type:Qe,response_mode:nt,client_secret:F._settings.client_secret,skipUserInfo:He}),Ce=le.state;return(st=st||F._stateStore).set(Ce.id,Ce.toStorageString()).then(function(){return le})})},C.prototype.readSigninResponseState=function(F,P){var K=arguments.length>2&&arguments[2]!==void 0&&arguments[2];s.Log.debug("OidcClient.readSigninResponseState");var M=this._settings.response_mode==="query"||!this._settings.response_mode&&f.SigninRequest.isCode(this._settings.response_type),z=M?"?":"#",J=new g.SigninResponse(F,z);if(!J.state)return s.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));P=P||this._stateStore;var q=K?P.remove.bind(P):P.get.bind(P);return q(J.state).then(function(Fe){if(!Fe)throw s.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:S.SigninState.fromStorageString(Fe),response:J}})},C.prototype.processSigninResponse=function(F,P){var K=this;return s.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(F,P,!0).then(function(M){var z=M.state,J=M.response;return s.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),K._validator.validateSigninResponse(z,J)})},C.prototype.createSignoutRequest=function(){var F=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=P.id_token_hint,M=P.data,z=P.state,J=P.post_logout_redirect_uri,q=P.extraQueryParams,Fe=P.request_type,$=arguments[1];return s.Log.debug("OidcClient.createSignoutRequest"),J=J||this._settings.post_logout_redirect_uri,q=q||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(ie){if(!ie)throw s.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");s.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",ie);var ge=new v.SignoutRequest({url:ie,id_token_hint:K,post_logout_redirect_uri:J,data:M||z,extraQueryParams:q,request_type:Fe}),Ee=ge.state;return Ee&&(s.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),($=$||F._stateStore).set(Ee.id,Ee.toStorageString())),ge})},C.prototype.readSignoutResponseState=function(F,P){var K=arguments.length>2&&arguments[2]!==void 0&&arguments[2];s.Log.debug("OidcClient.readSignoutResponseState");var M=new w.SignoutResponse(F);if(!M.state)return s.Log.debug("OidcClient.readSignoutResponseState: No state in response"),M.error?(s.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",M.error),Promise.reject(new h.ErrorResponse(M))):Promise.resolve({state:void 0,response:M});var z=M.state;P=P||this._stateStore;var J=K?P.remove.bind(P):P.get.bind(P);return J(z).then(function(q){if(!q)throw s.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:T.State.fromStorageString(q),response:M}})},C.prototype.processSignoutResponse=function(F,P){var K=this;return s.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(F,P,!0).then(function(M){var z=M.state,J=M.response;return z?(s.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),K._validator.validateSignoutResponse(z,J)):(s.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),J)})},C.prototype.clearStaleState=function(F){return s.Log.debug("OidcClient.clearStaleState"),F=F||this._stateStore,T.State.clearStaleState(F,this.settings.staleStateAge)},c(C,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),C}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.TokenClient=void 0;var c=o(7),s=o(2),u=o(0);function h(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}a.TokenClient=function(){function f(g){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.JsonService,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.MetadataService;if(h(this,f),!g)throw u.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=g,this._jsonService=new v,this._metadataService=new w(this._settings)}return f.prototype.exchangeCode=function(){var v=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(w=Object.assign({},w)).grant_type=w.grant_type||"authorization_code",w.client_id=w.client_id||this._settings.client_id,w.client_secret=w.client_secret||this._settings.client_secret,w.redirect_uri=w.redirect_uri||this._settings.redirect_uri;var S=void 0,T=w._client_authentication||this._settings._client_authentication;return delete w._client_authentication,w.code?w.redirect_uri?w.code_verifier?w.client_id?w.client_secret||T!="client_secret_basic"?(T=="client_secret_basic"&&(S=w.client_id+":"+w.client_secret,delete w.client_id,delete w.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(R){return u.Log.debug("TokenClient.exchangeCode: Received token endpoint"),v._jsonService.postForm(R,w,S).then(function(C){return u.Log.debug("TokenClient.exchangeCode: response received"),C})})):(u.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(u.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(u.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(u.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(u.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},f.prototype.exchangeRefreshToken=function(){var v=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(w=Object.assign({},w)).grant_type=w.grant_type||"refresh_token",w.client_id=w.client_id||this._settings.client_id,w.client_secret=w.client_secret||this._settings.client_secret;var S=void 0,T=w._client_authentication||this._settings._client_authentication;return delete w._client_authentication,w.refresh_token?w.client_id?(T=="client_secret_basic"&&(S=w.client_id+":"+w.client_secret,delete w.client_id,delete w.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(R){return u.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),v._jsonService.postForm(R,w,S).then(function(C){return u.Log.debug("TokenClient.exchangeRefreshToken: response received"),C})})):(u.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(u.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},f}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.ErrorResponse=void 0;var c=o(0);function s(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}function u(h,f){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?h:f}a.ErrorResponse=function(h){function f(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=g.error,w=g.error_description,S=g.error_uri,T=g.state,R=g.session_state;if(s(this,f),!v)throw c.Log.error("No error passed to ErrorResponse"),new Error("error");var C=u(this,h.call(this,w||v));return C.name="ErrorResponse",C.error=v,C.error_description=w,C.error_uri=S,C.state=T,C.session_state=R,C}return function(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}(f,h),f}(Error)},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.SigninState=void 0;var c=function(){function w(S,T){for(var R=0;R<T.length;R++){var C=T[R];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(S,C.key,C)}}return function(S,T,R){return T&&w(S.prototype,T),R&&w(S,R),S}}(),s=o(0),u=o(9),h=o(4),f=function(S){return S&&S.__esModule?S:{default:S}}(o(14));function g(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function v(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?w:S}a.SigninState=function(w){function S(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=T.nonce,C=T.authority,x=T.client_id,F=T.redirect_uri,P=T.code_verifier,K=T.response_mode,M=T.client_secret,z=T.scope,J=T.extraTokenParams,q=T.skipUserInfo;g(this,S);var Fe=v(this,w.call(this,arguments[0]));if(R===!0?Fe._nonce=(0,f.default)():R&&(Fe._nonce=R),P===!0?Fe._code_verifier=(0,f.default)()+(0,f.default)()+(0,f.default)():P&&(Fe._code_verifier=P),Fe.code_verifier){var $=h.JoseUtil.hashString(Fe.code_verifier,"SHA256");Fe._code_challenge=h.JoseUtil.hexToBase64Url($)}return Fe._redirect_uri=F,Fe._authority=C,Fe._client_id=x,Fe._response_mode=K,Fe._client_secret=M,Fe._scope=z,Fe._extraTokenParams=J,Fe._skipUserInfo=q,Fe}return function(R,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);R.prototype=Object.create(C&&C.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(R,C):R.__proto__=C)}(S,w),S.prototype.toStorageString=function(){return s.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},S.fromStorageString=function(R){return s.Log.debug("SigninState.fromStorageString"),new S(JSON.parse(R))},c(S,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),S}(u.State)},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return(c!="undefined"&&c!==null&&c.getRandomValues!==void 0?s:u)().replace(/-/g,"")};var c=typeof window<"u"?window.crypto||window.msCrypto:null;function s(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(h){return(h^c.getRandomValues(new Uint8Array(1))[0]&15>>h/4).toString(16)})}function u(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(h){return(h^16*Math.random()>>h/4).toString(16)})}r.exports=a.default},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.User=void 0;var c=function(){function u(h,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,f,g){return f&&u(h.prototype,f),g&&u(h,g),h}}(),s=o(0);a.User=function(){function u(h){var f=h.id_token,g=h.session_state,v=h.access_token,w=h.refresh_token,S=h.token_type,T=h.scope,R=h.profile,C=h.expires_at,x=h.state;(function(P,K){if(!(P instanceof K))throw new TypeError("Cannot call a class as a function")})(this,u),this.id_token=f,this.session_state=g,this.access_token=v,this.refresh_token=w,this.token_type=S,this.scope=T,this.profile=R,this.expires_at=C,this.state=x}return u.prototype.toStorageString=function(){return s.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},u.fromStorageString=function(f){return s.Log.debug("User.fromStorageString"),new u(JSON.parse(f))},c(u,[{key:"expires_in",get:function(){if(this.expires_at){var f=parseInt(Date.now()/1e3);return this.expires_at-f}},set:function(f){var g=parseInt(f);if(typeof g=="number"&&g>0){var v=parseInt(Date.now()/1e3);this.expires_at=v+g}}},{key:"expired",get:function(){var f=this.expires_in;if(f!==void 0)return f<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),u}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.AccessTokenEvents=void 0;var c=o(0),s=o(46);function u(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}a.AccessTokenEvents=function(){function h(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=f.accessTokenExpiringNotificationTime,v=g===void 0?60:g,w=f.accessTokenExpiringTimer,S=w===void 0?new s.Timer("Access token expiring"):w,T=f.accessTokenExpiredTimer,R=T===void 0?new s.Timer("Access token expired"):T;u(this,h),this._accessTokenExpiringNotificationTime=v,this._accessTokenExpiring=S,this._accessTokenExpired=R}return h.prototype.load=function(g){if(g.access_token&&g.expires_in!==void 0){var v=g.expires_in;if(c.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",v),v>0){var w=v-this._accessTokenExpiringNotificationTime;w<=0&&(w=1),c.Log.debug("AccessTokenEvents.load: registering expiring timer in:",w),this._accessTokenExpiring.init(w)}else c.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var S=v+1;c.Log.debug("AccessTokenEvents.load: registering expired timer in:",S),this._accessTokenExpired.init(S)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},h.prototype.unload=function(){c.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},h.prototype.addAccessTokenExpiring=function(g){this._accessTokenExpiring.addHandler(g)},h.prototype.removeAccessTokenExpiring=function(g){this._accessTokenExpiring.removeHandler(g)},h.prototype.addAccessTokenExpired=function(g){this._accessTokenExpired.addHandler(g)},h.prototype.removeAccessTokenExpired=function(g){this._accessTokenExpired.removeHandler(g)},h}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.Event=void 0;var c=o(0);a.Event=function(){function s(u){(function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,s),this._name=u,this._callbacks=[]}return s.prototype.addHandler=function(h){this._callbacks.push(h)},s.prototype.removeHandler=function(h){var f=this._callbacks.findIndex(function(g){return g===h});f>=0&&this._callbacks.splice(f,1)},s.prototype.raise=function(){c.Log.debug("Event: Raising event: "+this._name);for(var h=0;h<this._callbacks.length;h++){var f;(f=this._callbacks)[h].apply(f,arguments)}},s}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.SessionMonitor=void 0;var c=function(){function g(v,w){for(var S=0;S<w.length;S++){var T=w[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,w,S){return w&&g(v.prototype,w),S&&g(v,S),v}}(),s=o(0),u=o(19),h=o(1);function f(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}a.SessionMonitor=function(){function g(v){var w=this,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.CheckSessionIFrame,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.Global.timer;if(f(this,g),!v)throw s.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=v,this._CheckSessionIFrameCtor=S,this._timer=T,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(R){R?w._start(R):w._settings.monitorAnonymousSession&&w._userManager.querySessionStatus().then(function(C){var x={session_state:C.session_state};C.sub&&C.sid&&(x.profile={sub:C.sub,sid:C.sid}),w._start(x)}).catch(function(C){s.Log.error("SessionMonitor ctor: error from querySessionStatus:",C.message)})}).catch(function(R){s.Log.error("SessionMonitor ctor: error from getUser:",R.message)}))}return g.prototype._start=function(w){var S=this,T=w.session_state;T&&(w.profile?(this._sub=w.profile.sub,this._sid=w.profile.sid,s.Log.debug("SessionMonitor._start: session_state:",T,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,s.Log.debug("SessionMonitor._start: session_state:",T,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(T):this._metadataService.getCheckSessionIframe().then(function(R){if(R){s.Log.debug("SessionMonitor._start: Initializing check session iframe");var C=S._client_id,x=S._checkSessionInterval,F=S._stopCheckSessionOnError;S._checkSessionIFrame=new S._CheckSessionIFrameCtor(S._callback.bind(S),C,R,x,F),S._checkSessionIFrame.load().then(function(){S._checkSessionIFrame.start(T)})}else s.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(R){s.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",R.message)}))},g.prototype._stop=function(){var w=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(s.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var S=this._timer.setInterval(function(){w._timer.clearInterval(S),w._userManager.querySessionStatus().then(function(T){var R={session_state:T.session_state};T.sub&&T.sid&&(R.profile={sub:T.sub,sid:T.sid}),w._start(R)}).catch(function(T){s.Log.error("SessionMonitor: error from querySessionStatus:",T.message)})},1e3)},g.prototype._callback=function(){var w=this;this._userManager.querySessionStatus().then(function(S){var T=!0;S?S.sub===w._sub?(T=!1,w._checkSessionIFrame.start(S.session_state),S.sid===w._sid?s.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",S.session_state):(s.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",S.session_state),w._userManager.events._raiseUserSessionChanged())):s.Log.debug("SessionMonitor._callback: Different subject signed into OP:",S.sub):s.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),T&&(w._sub?(s.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),w._userManager.events._raiseUserSignedOut()):(s.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),w._userManager.events._raiseUserSignedIn()))}).catch(function(S){w._sub&&(s.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",S.message),w._userManager.events._raiseUserSignedOut())})},c(g,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),g}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.CheckSessionIFrame=void 0;var c=o(0);function s(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}a.CheckSessionIFrame=function(){function u(h,f,g,v){var w=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];s(this,u),this._callback=h,this._client_id=f,this._url=g,this._interval=v||2e3,this._stopOnError=w;var S=g.indexOf("/",g.indexOf("//")+2);this._frame_origin=g.substr(0,S),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=g}return u.prototype.load=function(){var f=this;return new Promise(function(g){f._frame.onload=function(){g()},window.document.body.appendChild(f._frame),f._boundMessageEvent=f._message.bind(f),window.addEventListener("message",f._boundMessageEvent,!1)})},u.prototype._message=function(f){f.origin===this._frame_origin&&f.source===this._frame.contentWindow&&(f.data==="error"?(c.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):f.data==="changed"?(c.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):c.Log.debug("CheckSessionIFrame: "+f.data+" message from check session op iframe"))},u.prototype.start=function(f){var g=this;if(this._session_state!==f){c.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=f;var v=function(){g._frame.contentWindow.postMessage(g._client_id+" "+g._session_state,g._frame_origin)};v(),this._timer=window.setInterval(v,this._interval)}},u.prototype.stop=function(){this._session_state=null,this._timer&&(c.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},u}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.TokenRevocationClient=void 0;var c=o(0),s=o(2),u=o(1);function h(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}var f="access_token",g="refresh_token";a.TokenRevocationClient=function(){function v(w){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.Global.XMLHttpRequest,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.MetadataService;if(h(this,v),!w)throw c.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=w,this._XMLHttpRequestCtor=S,this._metadataService=new T(this._settings)}return v.prototype.revoke=function(S,T){var R=this,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!S)throw c.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(C!==f&&C!=g)throw c.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(x){if(x){c.Log.debug("TokenRevocationClient.revoke: Revoking "+C);var F=R._settings.client_id,P=R._settings.client_secret;return R._revoke(x,F,P,S,C)}if(T)throw c.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},v.prototype._revoke=function(S,T,R,C,x){var F=this;return new Promise(function(P,K){var M=new F._XMLHttpRequestCtor;M.open("POST",S),M.onload=function(){c.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",M.status),M.status===200?P():K(Error(M.statusText+" ("+M.status+")"))},M.onerror=function(){c.Log.debug("TokenRevocationClient.revoke: Network Error."),K("Network Error")};var z="client_id="+encodeURIComponent(T);R&&(z+="&client_secret="+encodeURIComponent(R)),z+="&token_type_hint="+encodeURIComponent(x),z+="&token="+encodeURIComponent(C),M.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),M.send(z)})},v}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.CordovaPopupWindow=void 0;var c=function(){function u(h,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,f,g){return f&&u(h.prototype,f),g&&u(h,g),h}}(),s=o(0);a.CordovaPopupWindow=function(){function u(h){var f=this;(function(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")})(this,u),this._promise=new Promise(function(g,v){f._resolve=g,f._reject=v}),this.features=h.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=h.popupWindowTarget||"_blank",this.redirect_uri=h.startUrl,s.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return u.prototype._isInAppBrowserInstalled=function(f){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(g){return f.hasOwnProperty(g)})},u.prototype.navigate=function(f){if(f&&f.url){if(!window.cordova)return this._error("cordova is undefined");var g=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(g)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(f.url,this.target,this.features),this._popup?(s.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},u.prototype._loadStartCallback=function(f){f.url.indexOf(this.redirect_uri)===0&&this._success({url:f.url})},u.prototype._exitCallback=function(f){this._error(f)},u.prototype._success=function(f){this._cleanup(),s.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(f)},u.prototype._error=function(f){this._cleanup(),s.Log.error(f),this._reject(new Error(f))},u.prototype.close=function(){this._cleanup()},u.prototype._cleanup=function(){this._popup&&(s.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},c(u,[{key:"promise",get:function(){return this._promise}}]),u}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0});var c=o(0),s=o(10),u=o(5),h=o(6),f=o(37),g=o(38),v=o(16),w=o(2),S=o(48),T=o(49),R=o(19),C=o(20),x=o(18),F=o(1),P=o(15),K=o(50);a.default={Version:K.Version,Log:c.Log,OidcClient:s.OidcClient,OidcClientSettings:u.OidcClientSettings,WebStorageStateStore:h.WebStorageStateStore,InMemoryWebStorage:f.InMemoryWebStorage,UserManager:g.UserManager,AccessTokenEvents:v.AccessTokenEvents,MetadataService:w.MetadataService,CordovaPopupNavigator:S.CordovaPopupNavigator,CordovaIFrameNavigator:T.CordovaIFrameNavigator,CheckSessionIFrame:R.CheckSessionIFrame,TokenRevocationClient:C.TokenRevocationClient,SessionMonitor:x.SessionMonitor,Global:F.Global,User:P.User},r.exports=a.default},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.ClockService=function(){function c(){(function(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")})(this,c)}return c.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},c}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.ResponseValidator=void 0;var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},s=o(0),u=o(2),h=o(25),f=o(11),g=o(12),v=o(4);function w(T,R){if(!(T instanceof R))throw new TypeError("Cannot call a class as a function")}var S=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];a.ResponseValidator=function(){function T(R){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.MetadataService,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.UserInfoService,F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:v.JoseUtil,P=arguments.length>4&&arguments[4]!==void 0?arguments[4]:f.TokenClient;if(w(this,T),!R)throw s.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=R,this._metadataService=new C(this._settings),this._userInfoService=new x(this._settings),this._joseUtil=F,this._tokenClient=new P(this._settings)}return T.prototype.validateSigninResponse=function(C,x){var F=this;return s.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(C,x).then(function(P){return s.Log.debug("ResponseValidator.validateSigninResponse: state processed"),F._validateTokens(C,P).then(function(K){return s.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),F._processClaims(C,K).then(function(M){return s.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),M})})})},T.prototype.validateSignoutResponse=function(C,x){return C.id!==x.state?(s.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(s.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),x.state=C.data,x.error?(s.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",x.error),Promise.reject(new g.ErrorResponse(x))):Promise.resolve(x))},T.prototype._processSigninParams=function(C,x){if(C.id!==x.state)return s.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!C.client_id)return s.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!C.authority)return s.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==C.authority)return s.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=C.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==C.client_id)return s.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=C.client_id;return s.Log.debug("ResponseValidator._processSigninParams: state validated"),x.state=C.data,x.error?(s.Log.warn("ResponseValidator._processSigninParams: Response was error",x.error),Promise.reject(new g.ErrorResponse(x))):C.nonce&&!x.id_token?(s.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!C.nonce&&x.id_token?(s.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):C.code_verifier&&!x.code?(s.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!C.code_verifier&&x.code?(s.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(x.scope||(x.scope=C.scope),Promise.resolve(x))},T.prototype._processClaims=function(C,x){var F=this;if(x.isOpenIdConnect){if(s.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),x.profile=this._filterProtocolClaims(x.profile),C.skipUserInfo!==!0&&this._settings.loadUserInfo&&x.access_token)return s.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(x.access_token).then(function(P){return s.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),P.sub!==x.profile.sub?(s.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(x.profile=F._mergeClaims(x.profile,P),s.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",x.profile),x)});s.Log.debug("ResponseValidator._processClaims: not loading user info")}else s.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(x)},T.prototype._mergeClaims=function(C,x){var F=Object.assign({},C);for(var P in x){var K=x[P];Array.isArray(K)||(K=[K]);for(var M=0;M<K.length;M++){var z=K[M];F[P]?Array.isArray(F[P])?F[P].indexOf(z)<0&&F[P].push(z):F[P]!==z&&((z===void 0?"undefined":c(z))==="object"&&this._settings.mergeClaims?F[P]=this._mergeClaims(F[P],z):F[P]=[F[P],z]):F[P]=z}}return F},T.prototype._filterProtocolClaims=function(C){s.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",C);var x=Object.assign({},C);return this._settings._filterProtocolClaims?(S.forEach(function(F){delete x[F]}),s.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",x)):s.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),x},T.prototype._validateTokens=function(C,x){return x.code?(s.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(C,x)):x.id_token?x.access_token?(s.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(C,x)):(s.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(C,x)):(s.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(x))},T.prototype._processCode=function(C,x){var F=this,P={client_id:C.client_id,client_secret:C.client_secret,code:x.code,redirect_uri:C.redirect_uri,code_verifier:C.code_verifier};return C.extraTokenParams&&c(C.extraTokenParams)==="object"&&Object.assign(P,C.extraTokenParams),this._tokenClient.exchangeCode(P).then(function(K){for(var M in K)x[M]=K[M];return x.id_token?(s.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),F._validateIdTokenAttributes(C,x)):(s.Log.debug("ResponseValidator._processCode: token response successful, returning response"),x)})},T.prototype._validateIdTokenAttributes=function(C,x){var F=this;return this._metadataService.getIssuer().then(function(P){var K=C.client_id,M=F._settings.clockSkew;return s.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",M),F._settings.getEpochTime().then(function(z){return F._joseUtil.validateJwtAttributes(x.id_token,P,K,M,z).then(function(J){return C.nonce&&C.nonce!==J.nonce?(s.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):J.sub?(x.profile=J,x):(s.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},T.prototype._validateIdTokenAndAccessToken=function(C,x){var F=this;return this._validateIdToken(C,x).then(function(P){return F._validateAccessToken(P)})},T.prototype._getSigningKeyForJwt=function(C){var x=this;return this._metadataService.getSigningKeys().then(function(F){var P=C.header.kid;if(!F)return s.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));s.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var K=void 0;if(P)K=F.filter(function(M){return M.kid===P})[0];else{if((F=x._filterByAlg(F,C.header.alg)).length>1)return s.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));K=F[0]}return Promise.resolve(K)})},T.prototype._getSigningKeyForJwtWithSingleRetry=function(C){var x=this;return this._getSigningKeyForJwt(C).then(function(F){return F?Promise.resolve(F):(x._metadataService.resetSigningKeys(),x._getSigningKeyForJwt(C))})},T.prototype._validateIdToken=function(C,x){var F=this;if(!C.nonce)return s.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var P=this._joseUtil.parseJwt(x.id_token);return P&&P.header&&P.payload?C.nonce!==P.payload.nonce?(s.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(K){return s.Log.debug("ResponseValidator._validateIdToken: Received issuer"),F._getSigningKeyForJwtWithSingleRetry(P).then(function(M){if(!M)return s.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var z=C.client_id,J=F._settings.clockSkew;return s.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",J),F._joseUtil.validateJwt(x.id_token,M,K,z,J).then(function(){return s.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),P.payload.sub?(x.profile=P.payload,x):(s.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(s.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",P),Promise.reject(new Error("Failed to parse id_token")))},T.prototype._filterByAlg=function(C,x){var F=null;if(x.startsWith("RS"))F="RSA";else if(x.startsWith("PS"))F="PS";else{if(!x.startsWith("ES"))return s.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",x),[];F="EC"}return s.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",F),C=C.filter(function(P){return P.kty===F}),s.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",F,C.length),C},T.prototype._validateAccessToken=function(C){if(!C.profile)return s.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!C.profile.at_hash)return s.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!C.id_token)return s.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var x=this._joseUtil.parseJwt(C.id_token);if(!x||!x.header)return s.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",x),Promise.reject(new Error("Failed to parse id_token"));var F=x.header.alg;if(!F||F.length!==5)return s.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",F),Promise.reject(new Error("Unsupported alg: "+F));var P=F.substr(2,3);if(!P)return s.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",F,P),Promise.reject(new Error("Unsupported alg: "+F));if((P=parseInt(P))!==256&&P!==384&&P!==512)return s.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",F,P),Promise.reject(new Error("Unsupported alg: "+F));var K="sha"+P,M=this._joseUtil.hashString(C.access_token,K);if(!M)return s.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",K),Promise.reject(new Error("Failed to validate at_hash"));var z=M.substr(0,M.length/2),J=this._joseUtil.hexToBase64Url(z);return J!==C.profile.at_hash?(s.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",J,C.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(s.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(C))},T}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.UserInfoService=void 0;var c=o(7),s=o(2),u=o(0),h=o(4);function f(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}a.UserInfoService=function(){function g(v){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.JsonService,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.MetadataService,T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:h.JoseUtil;if(f(this,g),!v)throw u.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=v,this._jsonService=new w(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new S(this._settings),this._joseUtil=T}return g.prototype.getClaims=function(w){var S=this;return w?this._metadataService.getUserInfoEndpoint().then(function(T){return u.Log.debug("UserInfoService.getClaims: received userinfo url",T),S._jsonService.getJson(T,w).then(function(R){return u.Log.debug("UserInfoService.getClaims: claims received",R),R})}):(u.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},g.prototype._getClaimsFromJwt=function(w){var S=this;try{var T=this._joseUtil.parseJwt(w.responseText);if(!T||!T.header||!T.payload)return u.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",T),Promise.reject(new Error("Failed to parse id_token"));var R=T.header.kid,C=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":C=this._metadataService.getIssuer();break;case"ANY":C=Promise.resolve(T.payload.iss);break;default:C=Promise.resolve(this._settings.userInfoJwtIssuer)}return C.then(function(x){return u.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+x),S._metadataService.getSigningKeys().then(function(F){if(!F)return u.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));u.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var P=void 0;if(R)P=F.filter(function(z){return z.kid===R})[0];else{if((F=S._filterByAlg(F,T.header.alg)).length>1)return u.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));P=F[0]}if(!P)return u.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var K=S._settings.client_id,M=S._settings.clockSkew;return u.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",M),S._joseUtil.validateJwt(w.responseText,P,x,K,M,void 0,!0).then(function(){return u.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),T.payload})})})}catch(x){return u.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",x.message),void reject(x)}},g.prototype._filterByAlg=function(w,S){var T=null;if(S.startsWith("RS"))T="RSA";else if(S.startsWith("PS"))T="PS";else{if(!S.startsWith("ES"))return u.Log.debug("UserInfoService._filterByAlg: alg not supported: ",S),[];T="EC"}return u.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",T),w=w.filter(function(R){return R.kty===T}),u.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",T,w.length),w},g}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.AllowedSigningAlgs=a.b64tohex=a.hextob64u=a.crypto=a.X509=a.KeyUtil=a.jws=void 0;var c=o(27);a.jws=c.jws,a.KeyUtil=c.KEYUTIL,a.X509=c.X509,a.crypto=c.crypto,a.hextob64u=c.hextob64u,a.b64tohex=c.b64tohex,a.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(r,a,o){(function(c){Object.defineProperty(a,"__esModule",{value:!0});var s,u,h,f,g,v,w,S,T,R,C,x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},F={},P={},K=K||(s=Math,h=(u={}).lib={},f=h.Base=function(){function b(){}return{extend:function(E){b.prototype=this;var O=new b;return E&&O.mixIn(E),O.hasOwnProperty("init")||(O.init=function(){O.$super.init.apply(this,arguments)}),O.init.prototype=O,O.$super=this,O},create:function(){var E=this.extend();return E.init.apply(E,arguments),E},init:function(){},mixIn:function(E){for(var O in E)E.hasOwnProperty(O)&&(this[O]=E[O]);E.hasOwnProperty("toString")&&(this.toString=E.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),g=h.WordArray=f.extend({init:function(m,E){m=this.words=m||[],this.sigBytes=E??4*m.length},toString:function(m){return(m||w).stringify(this)},concat:function(m){var E=this.words,O=m.words,j=this.sigBytes,Q=m.sigBytes;if(this.clamp(),j%4)for(var se=0;se<Q;se++){var we=O[se>>>2]>>>24-se%4*8&255;E[j+se>>>2]|=we<<24-(j+se)%4*8}else for(se=0;se<Q;se+=4)E[j+se>>>2]=O[se>>>2];return this.sigBytes+=Q,this},clamp:function(){var m=this.words,E=this.sigBytes;m[E>>>2]&=4294967295<<32-E%4*8,m.length=s.ceil(E/4)},clone:function(){var m=f.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var E=[],O=0;O<m;O+=4)E.push(4294967296*s.random()|0);return new g.init(E,m)}}),v=u.enc={},w=v.Hex={stringify:function(m){for(var E=m.words,O=m.sigBytes,j=[],Q=0;Q<O;Q++){var se=E[Q>>>2]>>>24-Q%4*8&255;j.push((se>>>4).toString(16)),j.push((15&se).toString(16))}return j.join("")},parse:function(m){for(var E=m.length,O=[],j=0;j<E;j+=2)O[j>>>3]|=parseInt(m.substr(j,2),16)<<24-j%8*4;return new g.init(O,E/2)}},S=v.Latin1={stringify:function(m){for(var E=m.words,O=m.sigBytes,j=[],Q=0;Q<O;Q++){var se=E[Q>>>2]>>>24-Q%4*8&255;j.push(String.fromCharCode(se))}return j.join("")},parse:function(m){for(var E=m.length,O=[],j=0;j<E;j++)O[j>>>2]|=(255&m.charCodeAt(j))<<24-j%4*8;return new g.init(O,E)}},T=v.Utf8={stringify:function(m){try{return decodeURIComponent(escape(S.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return S.parse(unescape(encodeURIComponent(m)))}},R=h.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(m){typeof m=="string"&&(m=T.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var E=this._data,O=E.words,j=E.sigBytes,Q=this.blockSize,se=j/(4*Q),we=(se=m?s.ceil(se):s.max((0|se)-this._minBufferSize,0))*Q,pe=s.min(4*we,j);if(we){for(var be=0;be<we;be+=Q)this._doProcessBlock(O,be);var Ae=O.splice(0,we);E.sigBytes-=pe}return new g.init(Ae,pe)},clone:function(){var m=f.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0}),h.Hasher=R.extend({cfg:f.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){R.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){return m&&this._append(m),this._doFinalize()},blockSize:16,_createHelper:function(m){return function(E,O){return new m.init(O).finalize(E)}},_createHmacHelper:function(m){return function(E,O){return new C.HMAC.init(m,O).finalize(E)}}}),C=u.algo={},u);(function(b){var m,E=(m=K).lib,O=E.Base,j=E.WordArray;(m=m.x64={}).Word=O.extend({init:function(se,we){this.high=se,this.low=we}}),m.WordArray=O.extend({init:function(se,we){se=this.words=se||[],this.sigBytes=we??8*se.length},toX32:function(){for(var se=this.words,we=se.length,pe=[],be=0;be<we;be++){var Ae=se[be];pe.push(Ae.high),pe.push(Ae.low)}return j.create(pe,this.sigBytes)},clone:function(){for(var se=O.clone.call(this),we=se.words=this.words.slice(0),pe=we.length,be=0;be<pe;be++)we[be]=we[be].clone();return se}})})(),function(){var b=K,m=b.lib.WordArray;b.enc.Base64={stringify:function(O){var j=O.words,Q=O.sigBytes,se=this._map;O.clamp(),O=[];for(var we=0;we<Q;we+=3)for(var pe=(j[we>>>2]>>>24-we%4*8&255)<<16|(j[we+1>>>2]>>>24-(we+1)%4*8&255)<<8|j[we+2>>>2]>>>24-(we+2)%4*8&255,be=0;4>be&&we+.75*be<Q;be++)O.push(se.charAt(pe>>>6*(3-be)&63));if(j=se.charAt(64))for(;O.length%4;)O.push(j);return O.join("")},parse:function(O){var j=O.length,Q=this._map;(se=Q.charAt(64))&&(se=O.indexOf(se))!=-1&&(j=se);for(var se=[],we=0,pe=0;pe<j;pe++)if(pe%4){var be=Q.indexOf(O.charAt(pe-1))<<pe%4*2,Ae=Q.indexOf(O.charAt(pe))>>>6-pe%4*2;se[we>>>2]|=(be|Ae)<<24-we%4*8,we++}return m.create(se,we)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(b){for(var m=K,E=(j=m.lib).WordArray,O=j.Hasher,j=m.algo,Q=[],se=[],we=function(mt){return 4294967296*(mt-(0|mt))|0},pe=2,be=0;64>be;){var Ae;e:{Ae=pe;for(var xe=b.sqrt(Ae),Ue=2;Ue<=xe;Ue++)if(!(Ae%Ue)){Ae=!1;break e}Ae=!0}Ae&&(8>be&&(Q[be]=we(b.pow(pe,.5))),se[be]=we(b.pow(pe,1/3)),be++),pe++}var qe=[];j=j.SHA256=O.extend({_doReset:function(){this._hash=new E.init(Q.slice(0))},_doProcessBlock:function(mt,St){for(var ae=this._hash.words,Se=ae[0],Ne=ae[1],De=ae[2],dt=ae[3],At=ae[4],dn=ae[5],jt=ae[6],zn=ae[7],un=0;64>un;un++){if(16>un)qe[un]=0|mt[St+un];else{var gn=qe[un-15],nr=qe[un-2];qe[un]=((gn<<25|gn>>>7)^(gn<<14|gn>>>18)^gn>>>3)+qe[un-7]+((nr<<15|nr>>>17)^(nr<<13|nr>>>19)^nr>>>10)+qe[un-16]}gn=zn+((At<<26|At>>>6)^(At<<21|At>>>11)^(At<<7|At>>>25))+(At&dn^~At&jt)+se[un]+qe[un],nr=((Se<<30|Se>>>2)^(Se<<19|Se>>>13)^(Se<<10|Se>>>22))+(Se&Ne^Se&De^Ne&De),zn=jt,jt=dn,dn=At,At=dt+gn|0,dt=De,De=Ne,Ne=Se,Se=gn+nr|0}ae[0]=ae[0]+Se|0,ae[1]=ae[1]+Ne|0,ae[2]=ae[2]+De|0,ae[3]=ae[3]+dt|0,ae[4]=ae[4]+At|0,ae[5]=ae[5]+dn|0,ae[6]=ae[6]+jt|0,ae[7]=ae[7]+zn|0},_doFinalize:function(){var mt=this._data,St=mt.words,ae=8*this._nDataBytes,Se=8*mt.sigBytes;return St[Se>>>5]|=128<<24-Se%32,St[14+(Se+64>>>9<<4)]=b.floor(ae/4294967296),St[15+(Se+64>>>9<<4)]=ae,mt.sigBytes=4*St.length,this._process(),this._hash},clone:function(){var mt=O.clone.call(this);return mt._hash=this._hash.clone(),mt}}),m.SHA256=O._createHelper(j),m.HmacSHA256=O._createHmacHelper(j)}(Math),function(){function b(){return O.create.apply(O,arguments)}for(var m=K,E=m.lib.Hasher,O=(Q=m.x64).Word,j=Q.WordArray,Q=m.algo,se=[b(1116352408,3609767458),b(1899447441,602891725),b(3049323471,3964484399),b(3921009573,2173295548),b(961987163,4081628472),b(1508970993,3053834265),b(2453635748,2937671579),b(2870763221,3664609560),b(3624381080,2734883394),b(310598401,1164996542),b(607225278,1323610764),b(1426881987,3590304994),b(1925078388,4068182383),b(2162078206,991336113),b(2614888103,633803317),b(3248222580,3479774868),b(3835390401,2666613458),b(4022224774,944711139),b(264347078,2341262773),b(604807628,2007800933),b(770255983,1495990901),b(1249150122,1856431235),b(1555081692,3175218132),b(1996064986,2198950837),b(2554220882,3999719339),b(2821834349,766784016),b(2952996808,2566594879),b(3210313671,3203337956),b(3336571891,1034457026),b(3584528711,2466948901),b(113926993,3758326383),b(338241895,168717936),b(666307205,1188179964),b(773529912,1546045734),b(1294757372,1522805485),b(1396182291,2643833823),b(1695183700,2343527390),b(1986661051,1014477480),b(2177026350,1206759142),b(2456956037,344077627),b(2730485921,1290863460),b(2820302411,3158454273),b(3259730800,3505952657),b(3345764771,106217008),b(3516065817,3606008344),b(3600352804,1432725776),b(4094571909,1467031594),b(275423344,851169720),b(430227734,3100823752),b(506948616,1363258195),b(659060556,3750685593),b(883997877,3785050280),b(958139571,3318307427),b(1322822218,3812723403),b(1537002063,2003034995),b(1747873779,3602036899),b(1955562222,1575990012),b(2024104815,1125592928),b(2227730452,2716904306),b(2361852424,442776044),b(2428436474,593698344),b(2756734187,3733110249),b(3204031479,2999351573),b(3329325298,3815920427),b(3391569614,3928383900),b(3515267271,566280711),b(3940187606,3454069534),b(4118630271,4000239992),b(116418474,1914138554),b(174292421,2731055270),b(289380356,3203993006),b(460393269,320620315),b(685471733,587496836),b(852142971,1086792851),b(1017036298,365543100),b(1126000580,2618297676),b(1288033470,3409855158),b(1501505948,4234509866),b(1607167915,987167468),b(1816402316,1246189591)],we=[],pe=0;80>pe;pe++)we[pe]=b();Q=Q.SHA512=E.extend({_doReset:function(){this._hash=new j.init([new O.init(1779033703,4089235720),new O.init(3144134277,2227873595),new O.init(1013904242,4271175723),new O.init(2773480762,1595750129),new O.init(1359893119,2917565137),new O.init(2600822924,725511199),new O.init(528734635,4215389547),new O.init(1541459225,327033209)])},_doProcessBlock:function(Ae,xe){for(var Ue=(Ne=this._hash.words)[0],qe=Ne[1],at=Ne[2],mt=Ne[3],St=Ne[4],ae=Ne[5],Se=Ne[6],Ne=Ne[7],De=Ue.high,dt=Ue.low,At=qe.high,dn=qe.low,jt=at.high,zn=at.low,un=mt.high,gn=mt.low,nr=St.high,hn=St.low,rr=ae.high,er=ae.low,Ir=Se.high,Qn=Se.low,tr=Ne.high,wr=Ne.low,Tn=De,Kr=dt,Ri=At,ta=dn,Pr=jt,Gi=zn,Ya=un,go=gn,xr=nr,Wr=hn,Pa=rr,Jr=er,rs=Ir,ha=Qn,U=tr,te=wr,re=0;80>re;re++){var fe=we[re];if(16>re)var Le=fe.high=0|Ae[xe+2*re],ve=fe.low=0|Ae[xe+2*re+1];else{Le=((ve=(Le=we[re-15]).high)>>>1|($e=Le.low)<<31)^(ve>>>8|$e<<24)^ve>>>7;var $e=($e>>>1|ve<<31)^($e>>>8|ve<<24)^($e>>>7|ve<<25),Rt=((ve=(Rt=we[re-2]).high)>>>19|(_t=Rt.low)<<13)^(ve<<3|_t>>>29)^ve>>>6,_t=(_t>>>19|ve<<13)^(_t<<3|ve>>>29)^(_t>>>6|ve<<26),Pt=(ve=we[re-7]).high,qt=(Vt=we[re-16]).high,Vt=Vt.low;Le=(Le=(Le=Le+Pt+((ve=$e+ve.low)>>>0<$e>>>0?1:0))+Rt+((ve=ve+_t)>>>0<_t>>>0?1:0))+qt+((ve=ve+Vt)>>>0<Vt>>>0?1:0),fe.high=Le,fe.low=ve}Pt=xr&Pa^~xr&rs,Vt=Wr&Jr^~Wr&ha,fe=Tn&Ri^Tn&Pr^Ri&Pr;var Wt=Kr&ta^Kr&Gi^ta&Gi,Ut=($e=(Tn>>>28|Kr<<4)^(Tn<<30|Kr>>>2)^(Tn<<25|Kr>>>7),Rt=(Kr>>>28|Tn<<4)^(Kr<<30|Tn>>>2)^(Kr<<25|Tn>>>7),(_t=se[re]).high),Jt=_t.low;qt=U+((xr>>>14|Wr<<18)^(xr>>>18|Wr<<14)^(xr<<23|Wr>>>9))+((_t=te+((Wr>>>14|xr<<18)^(Wr>>>18|xr<<14)^(Wr<<23|xr>>>9)))>>>0<te>>>0?1:0),U=rs,te=ha,rs=Pa,ha=Jr,Pa=xr,Jr=Wr,xr=Ya+(qt=(qt=(qt=qt+Pt+((_t=_t+Vt)>>>0<Vt>>>0?1:0))+Ut+((_t=_t+Jt)>>>0<Jt>>>0?1:0))+Le+((_t=_t+ve)>>>0<ve>>>0?1:0))+((Wr=go+_t|0)>>>0<go>>>0?1:0)|0,Ya=Pr,go=Gi,Pr=Ri,Gi=ta,Ri=Tn,ta=Kr,Tn=qt+(fe=$e+fe+((ve=Rt+Wt)>>>0<Rt>>>0?1:0))+((Kr=_t+ve|0)>>>0<_t>>>0?1:0)|0}dt=Ue.low=dt+Kr,Ue.high=De+Tn+(dt>>>0<Kr>>>0?1:0),dn=qe.low=dn+ta,qe.high=At+Ri+(dn>>>0<ta>>>0?1:0),zn=at.low=zn+Gi,at.high=jt+Pr+(zn>>>0<Gi>>>0?1:0),gn=mt.low=gn+go,mt.high=un+Ya+(gn>>>0<go>>>0?1:0),hn=St.low=hn+Wr,St.high=nr+xr+(hn>>>0<Wr>>>0?1:0),er=ae.low=er+Jr,ae.high=rr+Pa+(er>>>0<Jr>>>0?1:0),Qn=Se.low=Qn+ha,Se.high=Ir+rs+(Qn>>>0<ha>>>0?1:0),wr=Ne.low=wr+te,Ne.high=tr+U+(wr>>>0<te>>>0?1:0)},_doFinalize:function(){var Ae=this._data,xe=Ae.words,Ue=8*this._nDataBytes,qe=8*Ae.sigBytes;return xe[qe>>>5]|=128<<24-qe%32,xe[30+(qe+128>>>10<<5)]=Math.floor(Ue/4294967296),xe[31+(qe+128>>>10<<5)]=Ue,Ae.sigBytes=4*xe.length,this._process(),this._hash.toX32()},clone:function(){var Ae=E.clone.call(this);return Ae._hash=this._hash.clone(),Ae},blockSize:32}),m.SHA512=E._createHelper(Q),m.HmacSHA512=E._createHmacHelper(Q)}(),function(){var b=K,m=(j=b.x64).Word,E=j.WordArray,O=(j=b.algo).SHA512,j=j.SHA384=O.extend({_doReset:function(){this._hash=new E.init([new m.init(3418070365,3238371032),new m.init(1654270250,914150663),new m.init(2438529370,812702999),new m.init(355462360,4144912697),new m.init(1731405415,4290775857),new m.init(2394180231,1750603025),new m.init(3675008525,1694076839),new m.init(1203062813,3204075428)])},_doFinalize:function(){var se=O._doFinalize.call(this);return se.sigBytes-=16,se}});b.SHA384=O._createHelper(j),b.HmacSHA384=O._createHmacHelper(j)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var M,z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function J(b){var m,E,O="";for(m=0;m+3<=b.length;m+=3)E=parseInt(b.substring(m,m+3),16),O+=z.charAt(E>>6)+z.charAt(63&E);for(m+1==b.length?(E=parseInt(b.substring(m,m+1),16),O+=z.charAt(E<<2)):m+2==b.length&&(E=parseInt(b.substring(m,m+2),16),O+=z.charAt(E>>2)+z.charAt((3&E)<<4)),"=";(3&O.length)>0;)O+="=";return O}function q(b){var m,E,O,j="",Q=0;for(m=0;m<b.length&&b.charAt(m)!="=";++m)(O=z.indexOf(b.charAt(m)))<0||(Q==0?(j+=ct(O>>2),E=3&O,Q=1):Q==1?(j+=ct(E<<2|O>>4),E=15&O,Q=2):Q==2?(j+=ct(E),j+=ct(O>>2),E=3&O,Q=3):(j+=ct(E<<2|O>>4),j+=ct(15&O),Q=0));return Q==1&&(j+=ct(E<<2)),j}function Fe(b){var m,E=q(b),O=new Array;for(m=0;2*m<E.length;++m)O[m]=parseInt(E.substring(2*m,2*m+2),16);return O}function $(b,m,E){b!=null&&(typeof b=="number"?this.fromNumber(b,m,E):m==null&&typeof b!="string"?this.fromString(b,256):this.fromString(b,m))}function ie(){return new $(null)}F.appName=="Microsoft Internet Explorer"?($.prototype.am=function(m,E,O,j,Q,se){for(var we=32767&E,pe=E>>15;--se>=0;){var be=32767&this[m],Ae=this[m++]>>15,xe=pe*be+Ae*we;Q=((be=we*be+((32767&xe)<<15)+O[j]+(1073741823&Q))>>>30)+(xe>>>15)+pe*Ae+(Q>>>30),O[j++]=1073741823&be}return Q},M=30):F.appName!="Netscape"?($.prototype.am=function(m,E,O,j,Q,se){for(;--se>=0;){var we=E*this[m++]+O[j]+Q;Q=Math.floor(we/67108864),O[j++]=67108863&we}return Q},M=26):($.prototype.am=function(m,E,O,j,Q,se){for(var we=16383&E,pe=E>>14;--se>=0;){var be=16383&this[m],Ae=this[m++]>>14,xe=pe*be+Ae*we;Q=((be=we*be+((16383&xe)<<14)+O[j]+Q)>>28)+(xe>>14)+pe*Ae,O[j++]=268435455&be}return Q},M=28),$.prototype.DB=M,$.prototype.DM=(1<<M)-1,$.prototype.DV=1<<M,$.prototype.FV=Math.pow(2,52),$.prototype.F1=52-M,$.prototype.F2=2*M-52;var ge,Ee,tt=new Array;for(ge=48,Ee=0;Ee<=9;++Ee)tt[ge++]=Ee;for(ge=97,Ee=10;Ee<36;++Ee)tt[ge++]=Ee;for(ge=65,Ee=10;Ee<36;++Ee)tt[ge++]=Ee;function ct(b){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(b)}function Ie(b,m){var E=tt[b.charCodeAt(m)];return E??-1}function ht(b){var m=ie();return m.fromInt(b),m}function de(b){var m,E=1;return(m=b>>>16)!=0&&(b=m,E+=16),(m=b>>8)!=0&&(b=m,E+=8),(m=b>>4)!=0&&(b=m,E+=4),(m=b>>2)!=0&&(b=m,E+=2),(m=b>>1)!=0&&(b=m,E+=1),E}function nt(b){this.m=b}function Y(b){this.m=b,this.mp=b.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<b.DB-15)-1,this.mt2=2*b.t}function Re(b,m){return b&m}function Qe(b,m){return b|m}function He(b,m){return b^m}function st(b,m){return b&~m}function It(b){if(b==0)return-1;var m=0;return(65535&b)==0&&(b>>=16,m+=16),(255&b)==0&&(b>>=8,m+=8),(15&b)==0&&(b>>=4,m+=4),(3&b)==0&&(b>>=2,m+=2),(1&b)==0&&++m,m}function kt(b){for(var m=0;b!=0;)b&=b-1,++m;return m}function ke(){}function le(b){return b}function Ce(b){this.r2=ie(),this.q3=ie(),$.ONE.dlShiftTo(2*b.t,this.r2),this.mu=this.r2.divide(b),this.m=b}nt.prototype.convert=function(m){return m.s<0||m.compareTo(this.m)>=0?m.mod(this.m):m},nt.prototype.revert=function(m){return m},nt.prototype.reduce=function(m){m.divRemTo(this.m,null,m)},nt.prototype.mulTo=function(m,E,O){m.multiplyTo(E,O),this.reduce(O)},nt.prototype.sqrTo=function(m,E){m.squareTo(E),this.reduce(E)},Y.prototype.convert=function(m){var E=ie();return m.abs().dlShiftTo(this.m.t,E),E.divRemTo(this.m,null,E),m.s<0&&E.compareTo($.ZERO)>0&&this.m.subTo(E,E),E},Y.prototype.revert=function(m){var E=ie();return m.copyTo(E),this.reduce(E),E},Y.prototype.reduce=function(m){for(;m.t<=this.mt2;)m[m.t++]=0;for(var E=0;E<this.m.t;++E){var O=32767&m[E],j=O*this.mpl+((O*this.mph+(m[E]>>15)*this.mpl&this.um)<<15)&m.DM;for(m[O=E+this.m.t]+=this.m.am(0,j,m,E,0,this.m.t);m[O]>=m.DV;)m[O]-=m.DV,m[++O]++}m.clamp(),m.drShiftTo(this.m.t,m),m.compareTo(this.m)>=0&&m.subTo(this.m,m)},Y.prototype.mulTo=function(m,E,O){m.multiplyTo(E,O),this.reduce(O)},Y.prototype.sqrTo=function(m,E){m.squareTo(E),this.reduce(E)},$.prototype.copyTo=function(m){for(var E=this.t-1;E>=0;--E)m[E]=this[E];m.t=this.t,m.s=this.s},$.prototype.fromInt=function(m){this.t=1,this.s=m<0?-1:0,m>0?this[0]=m:m<-1?this[0]=m+this.DV:this.t=0},$.prototype.fromString=function(m,E){var O;if(E==16)O=4;else if(E==8)O=3;else if(E==256)O=8;else if(E==2)O=1;else if(E==32)O=5;else{if(E!=4)return void this.fromRadix(m,E);O=2}this.t=0,this.s=0;for(var j=m.length,Q=!1,se=0;--j>=0;){var we=O==8?255&m[j]:Ie(m,j);we<0?m.charAt(j)=="-"&&(Q=!0):(Q=!1,se==0?this[this.t++]=we:se+O>this.DB?(this[this.t-1]|=(we&(1<<this.DB-se)-1)<<se,this[this.t++]=we>>this.DB-se):this[this.t-1]|=we<<se,(se+=O)>=this.DB&&(se-=this.DB))}O==8&&(128&m[0])!=0&&(this.s=-1,se>0&&(this[this.t-1]|=(1<<this.DB-se)-1<<se)),this.clamp(),Q&&$.ZERO.subTo(this,this)},$.prototype.clamp=function(){for(var m=this.s&this.DM;this.t>0&&this[this.t-1]==m;)--this.t},$.prototype.dlShiftTo=function(m,E){var O;for(O=this.t-1;O>=0;--O)E[O+m]=this[O];for(O=m-1;O>=0;--O)E[O]=0;E.t=this.t+m,E.s=this.s},$.prototype.drShiftTo=function(m,E){for(var O=m;O<this.t;++O)E[O-m]=this[O];E.t=Math.max(this.t-m,0),E.s=this.s},$.prototype.lShiftTo=function(m,E){var O,j=m%this.DB,Q=this.DB-j,se=(1<<Q)-1,we=Math.floor(m/this.DB),pe=this.s<<j&this.DM;for(O=this.t-1;O>=0;--O)E[O+we+1]=this[O]>>Q|pe,pe=(this[O]&se)<<j;for(O=we-1;O>=0;--O)E[O]=0;E[we]=pe,E.t=this.t+we+1,E.s=this.s,E.clamp()},$.prototype.rShiftTo=function(m,E){E.s=this.s;var O=Math.floor(m/this.DB);if(O>=this.t)E.t=0;else{var j=m%this.DB,Q=this.DB-j,se=(1<<j)-1;E[0]=this[O]>>j;for(var we=O+1;we<this.t;++we)E[we-O-1]|=(this[we]&se)<<Q,E[we-O]=this[we]>>j;j>0&&(E[this.t-O-1]|=(this.s&se)<<Q),E.t=this.t-O,E.clamp()}},$.prototype.subTo=function(m,E){for(var O=0,j=0,Q=Math.min(m.t,this.t);O<Q;)j+=this[O]-m[O],E[O++]=j&this.DM,j>>=this.DB;if(m.t<this.t){for(j-=m.s;O<this.t;)j+=this[O],E[O++]=j&this.DM,j>>=this.DB;j+=this.s}else{for(j+=this.s;O<m.t;)j-=m[O],E[O++]=j&this.DM,j>>=this.DB;j-=m.s}E.s=j<0?-1:0,j<-1?E[O++]=this.DV+j:j>0&&(E[O++]=j),E.t=O,E.clamp()},$.prototype.multiplyTo=function(m,E){var O=this.abs(),j=m.abs(),Q=O.t;for(E.t=Q+j.t;--Q>=0;)E[Q]=0;for(Q=0;Q<j.t;++Q)E[Q+O.t]=O.am(0,j[Q],E,Q,0,O.t);E.s=0,E.clamp(),this.s!=m.s&&$.ZERO.subTo(E,E)},$.prototype.squareTo=function(m){for(var E=this.abs(),O=m.t=2*E.t;--O>=0;)m[O]=0;for(O=0;O<E.t-1;++O){var j=E.am(O,E[O],m,2*O,0,1);(m[O+E.t]+=E.am(O+1,2*E[O],m,2*O+1,j,E.t-O-1))>=E.DV&&(m[O+E.t]-=E.DV,m[O+E.t+1]=1)}m.t>0&&(m[m.t-1]+=E.am(O,E[O],m,2*O,0,1)),m.s=0,m.clamp()},$.prototype.divRemTo=function(m,E,O){var j=m.abs();if(!(j.t<=0)){var Q=this.abs();if(Q.t<j.t)return E?.fromInt(0),void(O!=null&&this.copyTo(O));O==null&&(O=ie());var se=ie(),we=this.s,pe=m.s,be=this.DB-de(j[j.t-1]);be>0?(j.lShiftTo(be,se),Q.lShiftTo(be,O)):(j.copyTo(se),Q.copyTo(O));var Ae=se.t,xe=se[Ae-1];if(xe!=0){var Ue=xe*(1<<this.F1)+(Ae>1?se[Ae-2]>>this.F2:0),qe=this.FV/Ue,at=(1<<this.F1)/Ue,mt=1<<this.F2,St=O.t,ae=St-Ae,Se=E??ie();for(se.dlShiftTo(ae,Se),O.compareTo(Se)>=0&&(O[O.t++]=1,O.subTo(Se,O)),$.ONE.dlShiftTo(Ae,Se),Se.subTo(se,se);se.t<Ae;)se[se.t++]=0;for(;--ae>=0;){var Ne=O[--St]==xe?this.DM:Math.floor(O[St]*qe+(O[St-1]+mt)*at);if((O[St]+=se.am(0,Ne,O,ae,0,Ae))<Ne)for(se.dlShiftTo(ae,Se),O.subTo(Se,O);O[St]<--Ne;)O.subTo(Se,O)}E!=null&&(O.drShiftTo(Ae,E),we!=pe&&$.ZERO.subTo(E,E)),O.t=Ae,O.clamp(),be>0&&O.rShiftTo(be,O),we<0&&$.ZERO.subTo(O,O)}}},$.prototype.invDigit=function(){if(this.t<1)return 0;var m=this[0];if((1&m)==0)return 0;var E=3&m;return(E=(E=(E=(E=E*(2-(15&m)*E)&15)*(2-(255&m)*E)&255)*(2-((65535&m)*E&65535))&65535)*(2-m*E%this.DV)%this.DV)>0?this.DV-E:-E},$.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},$.prototype.exp=function(m,E){if(m>4294967295||m<1)return $.ONE;var O=ie(),j=ie(),Q=E.convert(this),se=de(m)-1;for(Q.copyTo(O);--se>=0;)if(E.sqrTo(O,j),(m&1<<se)>0)E.mulTo(j,Q,O);else{var we=O;O=j,j=we}return E.revert(O)},$.prototype.toString=function(m){if(this.s<0)return"-"+this.negate().toString(m);var E;if(m==16)E=4;else if(m==8)E=3;else if(m==2)E=1;else if(m==32)E=5;else{if(m!=4)return this.toRadix(m);E=2}var O,j=(1<<E)-1,Q=!1,se="",we=this.t,pe=this.DB-we*this.DB%E;if(we-- >0)for(pe<this.DB&&(O=this[we]>>pe)>0&&(Q=!0,se=ct(O));we>=0;)pe<E?(O=(this[we]&(1<<pe)-1)<<E-pe,O|=this[--we]>>(pe+=this.DB-E)):(O=this[we]>>(pe-=E)&j,pe<=0&&(pe+=this.DB,--we)),O>0&&(Q=!0),Q&&(se+=ct(O));return Q?se:"0"},$.prototype.negate=function(){var m=ie();return $.ZERO.subTo(this,m),m},$.prototype.abs=function(){return this.s<0?this.negate():this},$.prototype.compareTo=function(m){var E=this.s-m.s;if(E!=0)return E;var O=this.t;if((E=O-m.t)!=0)return this.s<0?-E:E;for(;--O>=0;)if((E=this[O]-m[O])!=0)return E;return 0},$.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+de(this[this.t-1]^this.s&this.DM)},$.prototype.mod=function(m){var E=ie();return this.abs().divRemTo(m,null,E),this.s<0&&E.compareTo($.ZERO)>0&&m.subTo(E,E),E},$.prototype.modPowInt=function(m,E){var O;return O=m<256||E.isEven()?new nt(E):new Y(E),this.exp(m,O)},$.ZERO=ht(0),$.ONE=ht(1),ke.prototype.convert=le,ke.prototype.revert=le,ke.prototype.mulTo=function(m,E,O){m.multiplyTo(E,O)},ke.prototype.sqrTo=function(m,E){m.squareTo(E)},Ce.prototype.convert=function(m){if(m.s<0||m.t>2*this.m.t)return m.mod(this.m);if(m.compareTo(this.m)<0)return m;var E=ie();return m.copyTo(E),this.reduce(E),E},Ce.prototype.revert=function(m){return m},Ce.prototype.reduce=function(m){for(m.drShiftTo(this.m.t-1,this.r2),m.t>this.m.t+1&&(m.t=this.m.t+1,m.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);m.compareTo(this.r2)<0;)m.dAddOffset(1,this.m.t+1);for(m.subTo(this.r2,m);m.compareTo(this.m)>=0;)m.subTo(this.m,m)},Ce.prototype.mulTo=function(m,E,O){m.multiplyTo(E,O),this.reduce(O)},Ce.prototype.sqrTo=function(m,E){m.squareTo(E),this.reduce(E)};var Ye=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],oe=(1<<26)/Ye[Ye.length-1];/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function k(){this.i=0,this.j=0,this.S=new Array}$.prototype.chunkSize=function(m){return Math.floor(Math.LN2*this.DB/Math.log(m))},$.prototype.toRadix=function(m){if(m==null&&(m=10),this.signum()==0||m<2||m>36)return"0";var E=this.chunkSize(m),O=Math.pow(m,E),j=ht(O),Q=ie(),se=ie(),we="";for(this.divRemTo(j,Q,se);Q.signum()>0;)we=(O+se.intValue()).toString(m).substr(1)+we,Q.divRemTo(j,Q,se);return se.intValue().toString(m)+we},$.prototype.fromRadix=function(m,E){this.fromInt(0),E==null&&(E=10);for(var O=this.chunkSize(E),j=Math.pow(E,O),Q=!1,se=0,we=0,pe=0;pe<m.length;++pe){var be=Ie(m,pe);be<0?m.charAt(pe)=="-"&&this.signum()==0&&(Q=!0):(we=E*we+be,++se>=O&&(this.dMultiply(j),this.dAddOffset(we,0),se=0,we=0))}se>0&&(this.dMultiply(Math.pow(E,se)),this.dAddOffset(we,0)),Q&&$.ZERO.subTo(this,this)},$.prototype.fromNumber=function(m,E,O){if(typeof E=="number")if(m<2)this.fromInt(1);else for(this.fromNumber(m,O),this.testBit(m-1)||this.bitwiseTo($.ONE.shiftLeft(m-1),Qe,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(E);)this.dAddOffset(2,0),this.bitLength()>m&&this.subTo($.ONE.shiftLeft(m-1),this);else{var j=new Array,Q=7&m;j.length=1+(m>>3),E.nextBytes(j),Q>0?j[0]&=(1<<Q)-1:j[0]=0,this.fromString(j,256)}},$.prototype.bitwiseTo=function(m,E,O){var j,Q,se=Math.min(m.t,this.t);for(j=0;j<se;++j)O[j]=E(this[j],m[j]);if(m.t<this.t){for(Q=m.s&this.DM,j=se;j<this.t;++j)O[j]=E(this[j],Q);O.t=this.t}else{for(Q=this.s&this.DM,j=se;j<m.t;++j)O[j]=E(Q,m[j]);O.t=m.t}O.s=E(this.s,m.s),O.clamp()},$.prototype.changeBit=function(m,E){var O=$.ONE.shiftLeft(m);return this.bitwiseTo(O,E,O),O},$.prototype.addTo=function(m,E){for(var O=0,j=0,Q=Math.min(m.t,this.t);O<Q;)j+=this[O]+m[O],E[O++]=j&this.DM,j>>=this.DB;if(m.t<this.t){for(j+=m.s;O<this.t;)j+=this[O],E[O++]=j&this.DM,j>>=this.DB;j+=this.s}else{for(j+=this.s;O<m.t;)j+=m[O],E[O++]=j&this.DM,j>>=this.DB;j+=m.s}E.s=j<0?-1:0,j>0?E[O++]=j:j<-1&&(E[O++]=this.DV+j),E.t=O,E.clamp()},$.prototype.dMultiply=function(m){this[this.t]=this.am(0,m-1,this,0,0,this.t),++this.t,this.clamp()},$.prototype.dAddOffset=function(m,E){if(m!=0){for(;this.t<=E;)this[this.t++]=0;for(this[E]+=m;this[E]>=this.DV;)this[E]-=this.DV,++E>=this.t&&(this[this.t++]=0),++this[E]}},$.prototype.multiplyLowerTo=function(m,E,O){var j,Q=Math.min(this.t+m.t,E);for(O.s=0,O.t=Q;Q>0;)O[--Q]=0;for(j=O.t-this.t;Q<j;++Q)O[Q+this.t]=this.am(0,m[Q],O,Q,0,this.t);for(j=Math.min(m.t,E);Q<j;++Q)this.am(0,m[Q],O,Q,0,E-Q);O.clamp()},$.prototype.multiplyUpperTo=function(m,E,O){--E;var j=O.t=this.t+m.t-E;for(O.s=0;--j>=0;)O[j]=0;for(j=Math.max(E-this.t,0);j<m.t;++j)O[this.t+j-E]=this.am(E-j,m[j],O,0,0,this.t+j-E);O.clamp(),O.drShiftTo(1,O)},$.prototype.modInt=function(m){if(m<=0)return 0;var E=this.DV%m,O=this.s<0?m-1:0;if(this.t>0)if(E==0)O=this[0]%m;else for(var j=this.t-1;j>=0;--j)O=(E*O+this[j])%m;return O},$.prototype.millerRabin=function(m){var E=this.subtract($.ONE),O=E.getLowestSetBit();if(O<=0)return!1;var j=E.shiftRight(O);(m=m+1>>1)>Ye.length&&(m=Ye.length);for(var Q=ie(),se=0;se<m;++se){Q.fromInt(Ye[Math.floor(Math.random()*Ye.length)]);var we=Q.modPow(j,this);if(we.compareTo($.ONE)!=0&&we.compareTo(E)!=0){for(var pe=1;pe++<O&&we.compareTo(E)!=0;)if((we=we.modPowInt(2,this)).compareTo($.ONE)==0)return!1;if(we.compareTo(E)!=0)return!1}}return!0},$.prototype.clone=function(){var m=ie();return this.copyTo(m),m},$.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},$.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},$.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},$.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},$.prototype.toByteArray=function(){var m=this.t,E=new Array;E[0]=this.s;var O,j=this.DB-m*this.DB%8,Q=0;if(m-- >0)for(j<this.DB&&(O=this[m]>>j)!=(this.s&this.DM)>>j&&(E[Q++]=O|this.s<<this.DB-j);m>=0;)j<8?(O=(this[m]&(1<<j)-1)<<8-j,O|=this[--m]>>(j+=this.DB-8)):(O=this[m]>>(j-=8)&255,j<=0&&(j+=this.DB,--m)),(128&O)!=0&&(O|=-256),Q==0&&(128&this.s)!=(128&O)&&++Q,(Q>0||O!=this.s)&&(E[Q++]=O);return E},$.prototype.equals=function(m){return this.compareTo(m)==0},$.prototype.min=function(m){return this.compareTo(m)<0?this:m},$.prototype.max=function(m){return this.compareTo(m)>0?this:m},$.prototype.and=function(m){var E=ie();return this.bitwiseTo(m,Re,E),E},$.prototype.or=function(m){var E=ie();return this.bitwiseTo(m,Qe,E),E},$.prototype.xor=function(m){var E=ie();return this.bitwiseTo(m,He,E),E},$.prototype.andNot=function(m){var E=ie();return this.bitwiseTo(m,st,E),E},$.prototype.not=function(){for(var m=ie(),E=0;E<this.t;++E)m[E]=this.DM&~this[E];return m.t=this.t,m.s=~this.s,m},$.prototype.shiftLeft=function(m){var E=ie();return m<0?this.rShiftTo(-m,E):this.lShiftTo(m,E),E},$.prototype.shiftRight=function(m){var E=ie();return m<0?this.lShiftTo(-m,E):this.rShiftTo(m,E),E},$.prototype.getLowestSetBit=function(){for(var m=0;m<this.t;++m)if(this[m]!=0)return m*this.DB+It(this[m]);return this.s<0?this.t*this.DB:-1},$.prototype.bitCount=function(){for(var m=0,E=this.s&this.DM,O=0;O<this.t;++O)m+=kt(this[O]^E);return m},$.prototype.testBit=function(m){var E=Math.floor(m/this.DB);return E>=this.t?this.s!=0:(this[E]&1<<m%this.DB)!=0},$.prototype.setBit=function(m){return this.changeBit(m,Qe)},$.prototype.clearBit=function(m){return this.changeBit(m,st)},$.prototype.flipBit=function(m){return this.changeBit(m,He)},$.prototype.add=function(m){var E=ie();return this.addTo(m,E),E},$.prototype.subtract=function(m){var E=ie();return this.subTo(m,E),E},$.prototype.multiply=function(m){var E=ie();return this.multiplyTo(m,E),E},$.prototype.divide=function(m){var E=ie();return this.divRemTo(m,E,null),E},$.prototype.remainder=function(m){var E=ie();return this.divRemTo(m,null,E),E},$.prototype.divideAndRemainder=function(m){var E=ie(),O=ie();return this.divRemTo(m,E,O),new Array(E,O)},$.prototype.modPow=function(m,E){var O,j,Q=m.bitLength(),se=ht(1);if(Q<=0)return se;O=Q<18?1:Q<48?3:Q<144?4:Q<768?5:6,j=Q<8?new nt(E):E.isEven()?new Ce(E):new Y(E);var we=new Array,pe=3,be=O-1,Ae=(1<<O)-1;if(we[1]=j.convert(this),O>1){var xe=ie();for(j.sqrTo(we[1],xe);pe<=Ae;)we[pe]=ie(),j.mulTo(xe,we[pe-2],we[pe]),pe+=2}var Ue,qe,at=m.t-1,mt=!0,St=ie();for(Q=de(m[at])-1;at>=0;){for(Q>=be?Ue=m[at]>>Q-be&Ae:(Ue=(m[at]&(1<<Q+1)-1)<<be-Q,at>0&&(Ue|=m[at-1]>>this.DB+Q-be)),pe=O;(1&Ue)==0;)Ue>>=1,--pe;if((Q-=pe)<0&&(Q+=this.DB,--at),mt)we[Ue].copyTo(se),mt=!1;else{for(;pe>1;)j.sqrTo(se,St),j.sqrTo(St,se),pe-=2;pe>0?j.sqrTo(se,St):(qe=se,se=St,St=qe),j.mulTo(St,we[Ue],se)}for(;at>=0&&(m[at]&1<<Q)==0;)j.sqrTo(se,St),qe=se,se=St,St=qe,--Q<0&&(Q=this.DB-1,--at)}return j.revert(se)},$.prototype.modInverse=function(m){var E=m.isEven();if(this.isEven()&&E||m.signum()==0)return $.ZERO;for(var O=m.clone(),j=this.clone(),Q=ht(1),se=ht(0),we=ht(0),pe=ht(1);O.signum()!=0;){for(;O.isEven();)O.rShiftTo(1,O),E?(Q.isEven()&&se.isEven()||(Q.addTo(this,Q),se.subTo(m,se)),Q.rShiftTo(1,Q)):se.isEven()||se.subTo(m,se),se.rShiftTo(1,se);for(;j.isEven();)j.rShiftTo(1,j),E?(we.isEven()&&pe.isEven()||(we.addTo(this,we),pe.subTo(m,pe)),we.rShiftTo(1,we)):pe.isEven()||pe.subTo(m,pe),pe.rShiftTo(1,pe);O.compareTo(j)>=0?(O.subTo(j,O),E&&Q.subTo(we,Q),se.subTo(pe,se)):(j.subTo(O,j),E&&we.subTo(Q,we),pe.subTo(se,pe))}return j.compareTo($.ONE)!=0?$.ZERO:pe.compareTo(m)>=0?pe.subtract(m):pe.signum()<0?(pe.addTo(m,pe),pe.signum()<0?pe.add(m):pe):pe},$.prototype.pow=function(m){return this.exp(m,new ke)},$.prototype.gcd=function(m){var E=this.s<0?this.negate():this.clone(),O=m.s<0?m.negate():m.clone();if(E.compareTo(O)<0){var j=E;E=O,O=j}var Q=E.getLowestSetBit(),se=O.getLowestSetBit();if(se<0)return E;for(Q<se&&(se=Q),se>0&&(E.rShiftTo(se,E),O.rShiftTo(se,O));E.signum()>0;)(Q=E.getLowestSetBit())>0&&E.rShiftTo(Q,E),(Q=O.getLowestSetBit())>0&&O.rShiftTo(Q,O),E.compareTo(O)>=0?(E.subTo(O,E),E.rShiftTo(1,E)):(O.subTo(E,O),O.rShiftTo(1,O));return se>0&&O.lShiftTo(se,O),O},$.prototype.isProbablePrime=function(m){var E,O=this.abs();if(O.t==1&&O[0]<=Ye[Ye.length-1]){for(E=0;E<Ye.length;++E)if(O[0]==Ye[E])return!0;return!1}if(O.isEven())return!1;for(E=1;E<Ye.length;){for(var j=Ye[E],Q=E+1;Q<Ye.length&&j<oe;)j*=Ye[Q++];for(j=O.modInt(j);E<Q;)if(j%Ye[E++]==0)return!1}return O.millerRabin(m)},$.prototype.square=function(){var m=ie();return this.squareTo(m),m},k.prototype.init=function(m){var E,O,j;for(E=0;E<256;++E)this.S[E]=E;for(O=0,E=0;E<256;++E)O=O+this.S[E]+m[E%m.length]&255,j=this.S[E],this.S[E]=this.S[O],this.S[O]=j;this.i=0,this.j=0},k.prototype.next=function(){var m;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,m=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=m,this.S[m+this.S[this.i]&255]};var D,G,ne;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function _e(){(function(m){G[ne++]^=255&m,G[ne++]^=m>>8&255,G[ne++]^=m>>16&255,G[ne++]^=m>>24&255,ne>=256&&(ne-=256)})(new Date().getTime())}if(G==null){var Oe;if(G=new Array,ne=0,P!==void 0&&(P.crypto!==void 0||P.msCrypto!==void 0)){var lt=P.crypto||P.msCrypto;if(lt.getRandomValues){var Te=new Uint8Array(32);for(lt.getRandomValues(Te),Oe=0;Oe<32;++Oe)G[ne++]=Te[Oe]}else if(F.appName=="Netscape"&&F.appVersion<"5"){var yt=P.crypto.random(32);for(Oe=0;Oe<yt.length;++Oe)G[ne++]=255&yt.charCodeAt(Oe)}}for(;ne<256;)Oe=Math.floor(65536*Math.random()),G[ne++]=Oe>>>8,G[ne++]=255&Oe;ne=0,_e()}function Ot(){if(D==null){for(_e(),(D=function(){return new k}()).init(G),ne=0;ne<G.length;++ne)G[ne]=0;ne=0}return D.next()}function wt(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Xe(b,m){return new $(b,m)}function ze(b,m,E){for(var O="",j=0;O.length<m;)O+=E(String.fromCharCode.apply(String,b.concat([(4278190080&j)>>24,(16711680&j)>>16,(65280&j)>>8,255&j]))),j+=1;return O}function Pe(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function ft(b,m){this.x=m,this.q=b}function X(b,m,E,O){this.curve=b,this.x=m,this.y=E,this.z=O??$.ONE,this.zinv=null}function B(b,m,E){this.q=b,this.a=this.fromBigInteger(m),this.b=this.fromBigInteger(E),this.infinity=new X(this,null,null)}wt.prototype.nextBytes=function(m){var E;for(E=0;E<m.length;++E)m[E]=Ot()},Pe.prototype.doPublic=function(m){return m.modPowInt(this.e,this.n)},Pe.prototype.setPublic=function(m,E){if(this.isPublic=!0,this.isPrivate=!1,typeof m!="string")this.n=m,this.e=E;else{if(!(m!=null&&E!=null&&m.length>0&&E.length>0))throw"Invalid RSA public key";this.n=Xe(m,16),this.e=parseInt(E,16)}},Pe.prototype.encrypt=function(m){var E=function(se,we){if(we<se.length+11)throw"Message too long for RSA";for(var pe=new Array,be=se.length-1;be>=0&&we>0;){var Ae=se.charCodeAt(be--);Ae<128?pe[--we]=Ae:Ae>127&&Ae<2048?(pe[--we]=63&Ae|128,pe[--we]=Ae>>6|192):(pe[--we]=63&Ae|128,pe[--we]=Ae>>6&63|128,pe[--we]=Ae>>12|224)}pe[--we]=0;for(var xe=new wt,Ue=new Array;we>2;){for(Ue[0]=0;Ue[0]==0;)xe.nextBytes(Ue);pe[--we]=Ue[0]}return pe[--we]=2,pe[--we]=0,new $(pe)}(m,this.n.bitLength()+7>>3);if(E==null)return null;var O=this.doPublic(E);if(O==null)return null;var j=O.toString(16);return(1&j.length)==0?j:"0"+j},Pe.prototype.encryptOAEP=function(m,E,O){var j=function(pe,be,Ae,xe){var Ue=H.crypto.MessageDigest,qe=H.crypto.Util,at=null;if(Ae||(Ae="sha1"),typeof Ae=="string"&&(at=Ue.getCanonicalAlgName(Ae),xe=Ue.getHashLength(at),Ae=function(jt){return zt(qe.hashHex(tn(jt),at))}),pe.length+2*xe+2>be)throw"Message too long for RSA";var mt,St="";for(mt=0;mt<be-pe.length-2*xe-2;mt+=1)St+="\0";var ae=Ae("")+St+""+pe,Se=new Array(xe);new wt().nextBytes(Se);var Ne=ze(Se,ae.length,Ae),De=[];for(mt=0;mt<ae.length;mt+=1)De[mt]=ae.charCodeAt(mt)^Ne.charCodeAt(mt);var dt=ze(De,Se.length,Ae),At=[0];for(mt=0;mt<Se.length;mt+=1)At[mt+1]=Se[mt]^dt.charCodeAt(mt);return new $(At.concat(De))}(m,this.n.bitLength()+7>>3,E,O);if(j==null)return null;var Q=this.doPublic(j);if(Q==null)return null;var se=Q.toString(16);return(1&se.length)==0?se:"0"+se},Pe.prototype.type="RSA",ft.prototype.equals=function(m){return m==this||this.q.equals(m.q)&&this.x.equals(m.x)},ft.prototype.toBigInteger=function(){return this.x},ft.prototype.negate=function(){return new ft(this.q,this.x.negate().mod(this.q))},ft.prototype.add=function(m){return new ft(this.q,this.x.add(m.toBigInteger()).mod(this.q))},ft.prototype.subtract=function(m){return new ft(this.q,this.x.subtract(m.toBigInteger()).mod(this.q))},ft.prototype.multiply=function(m){return new ft(this.q,this.x.multiply(m.toBigInteger()).mod(this.q))},ft.prototype.square=function(){return new ft(this.q,this.x.square().mod(this.q))},ft.prototype.divide=function(m){return new ft(this.q,this.x.multiply(m.toBigInteger().modInverse(this.q)).mod(this.q))},X.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},X.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},X.prototype.equals=function(m){return m==this||(this.isInfinity()?m.isInfinity():m.isInfinity()?this.isInfinity():!!m.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(m.z)).mod(this.curve.q).equals($.ZERO)&&m.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(m.z)).mod(this.curve.q).equals($.ZERO))},X.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals($.ZERO)&&!this.y.toBigInteger().equals($.ZERO)},X.prototype.negate=function(){return new X(this.curve,this.x,this.y.negate(),this.z)},X.prototype.add=function(m){if(this.isInfinity())return m;if(m.isInfinity())return this;var E=m.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(m.z)).mod(this.curve.q),O=m.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(m.z)).mod(this.curve.q);if($.ZERO.equals(O))return $.ZERO.equals(E)?this.twice():this.curve.getInfinity();var j=new $("3"),Q=this.x.toBigInteger(),se=this.y.toBigInteger(),we=(m.x.toBigInteger(),m.y.toBigInteger(),O.square()),pe=we.multiply(O),be=Q.multiply(we),Ae=E.square().multiply(this.z),xe=Ae.subtract(be.shiftLeft(1)).multiply(m.z).subtract(pe).multiply(O).mod(this.curve.q),Ue=be.multiply(j).multiply(E).subtract(se.multiply(pe)).subtract(Ae.multiply(E)).multiply(m.z).add(E.multiply(pe)).mod(this.curve.q),qe=pe.multiply(this.z).multiply(m.z).mod(this.curve.q);return new X(this.curve,this.curve.fromBigInteger(xe),this.curve.fromBigInteger(Ue),qe)},X.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var m=new $("3"),E=this.x.toBigInteger(),O=this.y.toBigInteger(),j=O.multiply(this.z),Q=j.multiply(O).mod(this.curve.q),se=this.curve.a.toBigInteger(),we=E.square().multiply(m);$.ZERO.equals(se)||(we=we.add(this.z.square().multiply(se)));var pe=(we=we.mod(this.curve.q)).square().subtract(E.shiftLeft(3).multiply(Q)).shiftLeft(1).multiply(j).mod(this.curve.q),be=we.multiply(m).multiply(E).subtract(Q.shiftLeft(1)).shiftLeft(2).multiply(Q).subtract(we.square().multiply(we)).mod(this.curve.q),Ae=j.square().multiply(j).shiftLeft(3).mod(this.curve.q);return new X(this.curve,this.curve.fromBigInteger(pe),this.curve.fromBigInteger(be),Ae)},X.prototype.multiply=function(m){if(this.isInfinity())return this;if(m.signum()==0)return this.curve.getInfinity();var E,O=m,j=O.multiply(new $("3")),Q=this.negate(),se=this,we=this.curve.q.subtract(m),pe=we.multiply(new $("3")),be=new X(this.curve,this.x,this.y),Ae=be.negate();for(E=j.bitLength()-2;E>0;--E){se=se.twice();var xe=j.testBit(E);xe!=O.testBit(E)&&(se=se.add(xe?this:Q))}for(E=pe.bitLength()-2;E>0;--E){be=be.twice();var Ue=pe.testBit(E);Ue!=we.testBit(E)&&(be=be.add(Ue?be:Ae))}return se},X.prototype.multiplyTwo=function(m,E,O){var j;j=m.bitLength()>O.bitLength()?m.bitLength()-1:O.bitLength()-1;for(var Q=this.curve.getInfinity(),se=this.add(E);j>=0;)Q=Q.twice(),m.testBit(j)?Q=O.testBit(j)?Q.add(se):Q.add(this):O.testBit(j)&&(Q=Q.add(E)),--j;return Q},B.prototype.getQ=function(){return this.q},B.prototype.getA=function(){return this.a},B.prototype.getB=function(){return this.b},B.prototype.equals=function(m){return m==this||this.q.equals(m.q)&&this.a.equals(m.a)&&this.b.equals(m.b)},B.prototype.getInfinity=function(){return this.infinity},B.prototype.fromBigInteger=function(m){return new ft(this.q,m)},B.prototype.decodePointHex=function(m){switch(parseInt(m.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var E=(m.length-2)/2,O=m.substr(2,E),j=m.substr(E+2,E);return new X(this,this.fromBigInteger(new $(O,16)),this.fromBigInteger(new $(j,16)));default:return null}},ft.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},X.prototype.getEncoded=function(b){var m=function(se,we){var pe=se.toByteArrayUnsigned();if(we<pe.length)pe=pe.slice(pe.length-we);else for(;we>pe.length;)pe.unshift(0);return pe},E=this.getX().toBigInteger(),O=this.getY().toBigInteger(),j=m(E,32);return b?O.isEven()?j.unshift(2):j.unshift(3):(j.unshift(4),j=j.concat(m(O,32))),j},X.decodeFrom=function(b,m){m[0];var E=m.length-1,O=m.slice(1,1+E/2),j=m.slice(1+E/2,1+E);O.unshift(0),j.unshift(0);var Q=new $(O),se=new $(j);return new X(b,b.fromBigInteger(Q),b.fromBigInteger(se))},X.decodeFromHex=function(b,m){m.substr(0,2);var E=m.length-2,O=m.substr(2,E/2),j=m.substr(2+E/2,E/2),Q=new $(O,16),se=new $(j,16);return new X(b,b.fromBigInteger(Q),b.fromBigInteger(se))},X.prototype.add2D=function(b){if(this.isInfinity())return b;if(b.isInfinity())return this;if(this.x.equals(b.x))return this.y.equals(b.y)?this.twice():this.curve.getInfinity();var m=b.x.subtract(this.x),E=b.y.subtract(this.y).divide(m),O=E.square().subtract(this.x).subtract(b.x),j=E.multiply(this.x.subtract(O)).subtract(this.y);return new X(this.curve,O,j)},X.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var b=this.curve.fromBigInteger($.valueOf(2)),m=this.curve.fromBigInteger($.valueOf(3)),E=this.x.square().multiply(m).add(this.curve.a).divide(this.y.multiply(b)),O=E.square().subtract(this.x.multiply(b)),j=E.multiply(this.x.subtract(O)).subtract(this.y);return new X(this.curve,O,j)},X.prototype.multiply2D=function(b){if(this.isInfinity())return this;if(b.signum()==0)return this.curve.getInfinity();var m,E=b,O=E.multiply(new $("3")),j=this.negate(),Q=this;for(m=O.bitLength()-2;m>0;--m){Q=Q.twice();var se=O.testBit(m);se!=E.testBit(m)&&(Q=Q.add2D(se?this:j))}return Q},X.prototype.isOnCurve=function(){var b=this.getX().toBigInteger(),m=this.getY().toBigInteger(),E=this.curve.getA().toBigInteger(),O=this.curve.getB().toBigInteger(),j=this.curve.getQ(),Q=m.multiply(m).mod(j),se=b.multiply(b).multiply(b).add(E.multiply(b)).add(O).mod(j);return Q.equals(se)},X.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},X.prototype.validate=function(){var b=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var m=this.getX().toBigInteger(),E=this.getY().toBigInteger();if(m.compareTo($.ONE)<0||m.compareTo(b.subtract($.ONE))>0)throw new Error("x coordinate out of bounds");if(E.compareTo($.ONE)<0||E.compareTo(b.subtract($.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(b).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var V=function(){var b=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),m=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),E={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function O(se,we,pe){return we?E[we]:String.fromCharCode(parseInt(pe,16))}var j=new String(""),Q=Object.hasOwnProperty;return function(se,we){var pe,be,Ae=se.match(b),xe=Ae[0],Ue=!1;xe==="{"?pe={}:xe==="["?pe=[]:(pe=[],Ue=!0);for(var qe=[pe],at=1-Ue,mt=Ae.length;at<mt;++at){var St;switch((xe=Ae[at]).charCodeAt(0)){default:(St=qe[0])[be||St.length]=+xe,be=void 0;break;case 34:if((xe=xe.substring(1,xe.length-1)).indexOf("\\")!==-1&&(xe=xe.replace(m,O)),St=qe[0],!be){if(!(St instanceof Array)){be=xe||j;break}be=St.length}St[be]=xe,be=void 0;break;case 91:St=qe[0],qe.unshift(St[be||St.length]=[]),be=void 0;break;case 93:qe.shift();break;case 102:(St=qe[0])[be||St.length]=!1,be=void 0;break;case 110:(St=qe[0])[be||St.length]=null,be=void 0;break;case 116:(St=qe[0])[be||St.length]=!0,be=void 0;break;case 123:St=qe[0],qe.unshift(St[be||St.length]={}),be=void 0;break;case 125:qe.shift()}}if(Ue){if(qe.length!==1)throw new Error;pe=pe[0]}else if(qe.length)throw new Error;return we&&(pe=function ae(Se,Ne){var De=Se[Ne];if(De&&(De===void 0?"undefined":x(De))==="object"){var dt=null;for(var At in De)if(Q.call(De,At)&&De!==Se){var dn=ae(De,At);dn!==void 0?De[At]=dn:(dt||(dt=[]),dt.push(At))}if(dt)for(var jt=dt.length;--jt>=0;)delete De[dt[jt]]}return we.call(Se,Ne,De)}({"":pe},"")),pe}}();H!==void 0&&H||(a.KJUR=H={}),H.asn1!==void 0&&H.asn1||(H.asn1={}),H.asn1.ASN1Util=new function(){this.integerToByteHex=function(b){var m=b.toString(16);return m.length%2==1&&(m="0"+m),m},this.bigIntToMinTwosComplementsHex=function(b){var m=b.toString(16);if(m.substr(0,1)!="-")m.length%2==1?m="0"+m:m.match(/^[0-7]/)||(m="00"+m);else{var E=m.substr(1).length;E%2==1?E+=1:m.match(/^[0-7]/)||(E+=2);for(var O="",j=0;j<E;j++)O+="f";m=new $(O,16).xor(b).add($.ONE).toString(16).replace(/^-/,"")}return m},this.getPEMStringFromHex=function(b,m){return Ct(b,m)},this.newObject=function(b){var m=H.asn1,E=m.ASN1Object,O=m.DERBoolean,j=m.DERInteger,Q=m.DERBitString,se=m.DEROctetString,we=m.DERNull,pe=m.DERObjectIdentifier,be=m.DEREnumerated,Ae=m.DERUTF8String,xe=m.DERNumericString,Ue=m.DERPrintableString,qe=m.DERTeletexString,at=m.DERIA5String,mt=m.DERUTCTime,St=m.DERGeneralizedTime,ae=m.DERVisibleString,Se=m.DERBMPString,Ne=m.DERSequence,De=m.DERSet,dt=m.DERTaggedObject,At=m.ASN1Util.newObject;if(b instanceof m.ASN1Object)return b;var dn=Object.keys(b);if(dn.length!=1)throw new Error("key of param shall be only one.");var jt=dn[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+jt+":")==-1)throw new Error("undefined key: "+jt);if(jt=="bool")return new O(b[jt]);if(jt=="int")return new j(b[jt]);if(jt=="bitstr")return new Q(b[jt]);if(jt=="octstr")return new se(b[jt]);if(jt=="null")return new we(b[jt]);if(jt=="oid")return new pe(b[jt]);if(jt=="enum")return new be(b[jt]);if(jt=="utf8str")return new Ae(b[jt]);if(jt=="numstr")return new xe(b[jt]);if(jt=="prnstr")return new Ue(b[jt]);if(jt=="telstr")return new qe(b[jt]);if(jt=="ia5str")return new at(b[jt]);if(jt=="utctime")return new mt(b[jt]);if(jt=="gentime")return new St(b[jt]);if(jt=="visstr")return new ae(b[jt]);if(jt=="bmpstr")return new Se(b[jt]);if(jt=="asn1")return new E(b[jt]);if(jt=="seq"){for(var zn=b[jt],un=[],gn=0;gn<zn.length;gn++){var nr=At(zn[gn]);un.push(nr)}return new Ne({array:un})}if(jt=="set"){for(zn=b[jt],un=[],gn=0;gn<zn.length;gn++)nr=At(zn[gn]),un.push(nr);return new De({array:un})}if(jt=="tag"){var hn=b[jt];if(Object.prototype.toString.call(hn)==="[object Array]"&&hn.length==3){var rr=At(hn[2]);return new dt({tag:hn[0],explicit:hn[1],obj:rr})}return new dt(hn)}},this.jsonToASN1HEX=function(b){return this.newObject(b).getEncodedHex()}},H.asn1.ASN1Util.oidHexToInt=function(b){for(var m="",E=parseInt(b.substr(0,2),16),O=(m=Math.floor(E/40)+"."+E%40,""),j=2;j<b.length;j+=2){var Q=("00000000"+parseInt(b.substr(j,2),16).toString(2)).slice(-8);O+=Q.substr(1,7),Q.substr(0,1)=="0"&&(m=m+"."+new $(O,2).toString(10),O="")}return m},H.asn1.ASN1Util.oidIntToHex=function(b){var m=function(pe){var be=pe.toString(16);return be.length==1&&(be="0"+be),be},E=function(pe){var be="",Ae=new $(pe,10).toString(2),xe=7-Ae.length%7;xe==7&&(xe=0);for(var Ue="",qe=0;qe<xe;qe++)Ue+="0";for(Ae=Ue+Ae,qe=0;qe<Ae.length-1;qe+=7){var at=Ae.substr(qe,7);qe!=Ae.length-7&&(at="1"+at),be+=m(parseInt(at,2))}return be};if(!b.match(/^[0-9.]+$/))throw"malformed oid string: "+b;var O="",j=b.split("."),Q=40*parseInt(j[0])+parseInt(j[1]);O+=m(Q),j.splice(0,2);for(var se=0;se<j.length;se++)O+=E(j[se]);return O},H.asn1.ASN1Object=function(b){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var m=this.hV.length/2,E=m.toString(16);if(E.length%2==1&&(E="0"+E),m<128)return E;var O=E.length/2;if(O>15)throw"ASN.1 length too long to represent by 8x: n = "+m.toString(16);return(128+O).toString(16)+E},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(m){this.params=m},b!=null&&b.tlv!=null&&(this.hTLV=b.tlv,this.isModified=!1)},H.asn1.DERAbstractString=function(b){H.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(m){this.hTLV=null,this.isModified=!0,this.s=m,this.hV=pt(this.s).toLowerCase()},this.setStringHex=function(m){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=m},this.getFreshValueHex=function(){return this.hV},b!==void 0&&(typeof b=="string"?this.setString(b):b.str!==void 0?this.setString(b.str):b.hex!==void 0&&this.setStringHex(b.hex))},ln(H.asn1.DERAbstractString,H.asn1.ASN1Object),H.asn1.DERAbstractTime=function(b){H.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(m){var E=m.getTime()+6e4*m.getTimezoneOffset();return new Date(E)},this.formatDate=function(m,E,O){var j=this.zeroPadding,Q=this.localDateToUTC(m),se=String(Q.getFullYear());E=="utc"&&(se=se.substr(2,2));var we=se+j(String(Q.getMonth()+1),2)+j(String(Q.getDate()),2)+j(String(Q.getHours()),2)+j(String(Q.getMinutes()),2)+j(String(Q.getSeconds()),2);if(O===!0){var pe=Q.getMilliseconds();if(pe!=0){var be=j(String(pe),3);we=we+"."+(be=be.replace(/[0]+$/,""))}}return we+"Z"},this.zeroPadding=function(m,E){return m.length>=E?m:new Array(E-m.length+1).join("0")+m},this.getString=function(){return this.s},this.setString=function(m){this.hTLV=null,this.isModified=!0,this.s=m,this.hV=sn(m)},this.setByDateValue=function(m,E,O,j,Q,se){var we=new Date(Date.UTC(m,E-1,O,j,Q,se,0));this.setByDate(we)},this.getFreshValueHex=function(){return this.hV}},ln(H.asn1.DERAbstractTime,H.asn1.ASN1Object),H.asn1.DERAbstractStructured=function(b){H.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(m){this.hTLV=null,this.isModified=!0,this.asn1Array=m},this.appendASN1Object=function(m){this.hTLV=null,this.isModified=!0,this.asn1Array.push(m)},this.asn1Array=new Array,b!==void 0&&b.array!==void 0&&(this.asn1Array=b.array)},ln(H.asn1.DERAbstractStructured,H.asn1.ASN1Object),H.asn1.DERBoolean=function(b){H.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=b==0?"010100":"0101ff"},ln(H.asn1.DERBoolean,H.asn1.ASN1Object),H.asn1.DERInteger=function(b){H.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(m){this.hTLV=null,this.isModified=!0,this.hV=H.asn1.ASN1Util.bigIntToMinTwosComplementsHex(m)},this.setByInteger=function(m){var E=new $(String(m),10);this.setByBigInteger(E)},this.setValueHex=function(m){this.hV=m},this.getFreshValueHex=function(){return this.hV},b!==void 0&&(b.bigint!==void 0?this.setByBigInteger(b.bigint):b.int!==void 0?this.setByInteger(b.int):typeof b=="number"?this.setByInteger(b):b.hex!==void 0&&this.setValueHex(b.hex))},ln(H.asn1.DERInteger,H.asn1.ASN1Object),H.asn1.DERBitString=function(b){if(b!==void 0&&b.obj!==void 0){var m=H.asn1.ASN1Util.newObject(b.obj);b.hex="00"+m.getEncodedHex()}H.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(E){this.hTLV=null,this.isModified=!0,this.hV=E},this.setUnusedBitsAndHexValue=function(E,O){if(E<0||7<E)throw"unused bits shall be from 0 to 7: u = "+E;var j="0"+E;this.hTLV=null,this.isModified=!0,this.hV=j+O},this.setByBinaryString=function(E){var O=8-(E=E.replace(/0+$/,"")).length%8;O==8&&(O=0);for(var j=0;j<=O;j++)E+="0";var Q="";for(j=0;j<E.length-1;j+=8){var se=E.substr(j,8),we=parseInt(se,2).toString(16);we.length==1&&(we="0"+we),Q+=we}this.hTLV=null,this.isModified=!0,this.hV="0"+O+Q},this.setByBooleanArray=function(E){for(var O="",j=0;j<E.length;j++)E[j]==1?O+="1":O+="0";this.setByBinaryString(O)},this.newFalseArray=function(E){for(var O=new Array(E),j=0;j<E;j++)O[j]=!1;return O},this.getFreshValueHex=function(){return this.hV},b!==void 0&&(typeof b=="string"&&b.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(b):b.hex!==void 0?this.setHexValueIncludingUnusedBits(b.hex):b.bin!==void 0?this.setByBinaryString(b.bin):b.array!==void 0&&this.setByBooleanArray(b.array))},ln(H.asn1.DERBitString,H.asn1.ASN1Object),H.asn1.DEROctetString=function(b){if(b!==void 0&&b.obj!==void 0){var m=H.asn1.ASN1Util.newObject(b.obj);b.hex=m.getEncodedHex()}H.asn1.DEROctetString.superclass.constructor.call(this,b),this.hT="04"},ln(H.asn1.DEROctetString,H.asn1.DERAbstractString),H.asn1.DERNull=function(){H.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},ln(H.asn1.DERNull,H.asn1.ASN1Object),H.asn1.DERObjectIdentifier=function(b){H.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(m){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=m},this.setValueOidString=function(m){var E=function(j){var Q=function(Ue){var qe=Ue.toString(16);return qe.length==1&&(qe="0"+qe),qe},se=function(Ue){var qe="",at=parseInt(Ue,10).toString(2),mt=7-at.length%7;mt==7&&(mt=0);for(var St="",ae=0;ae<mt;ae++)St+="0";for(at=St+at,ae=0;ae<at.length-1;ae+=7){var Se=at.substr(ae,7);ae!=at.length-7&&(Se="1"+Se),qe+=Q(parseInt(Se,2))}return qe};try{if(!j.match(/^[0-9.]+$/))return null;var we="",pe=j.split("."),be=40*parseInt(pe[0],10)+parseInt(pe[1],10);we+=Q(be),pe.splice(0,2);for(var Ae=0;Ae<pe.length;Ae++)we+=se(pe[Ae]);return we}catch{return null}}(m);if(E==null)throw new Error("malformed oid string: "+m);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=E},this.setValueName=function(m){var E=H.asn1.x509.OID.name2oid(m);if(E==="")throw new Error("DERObjectIdentifier oidName undefined: "+m);this.setValueOidString(E)},this.setValueNameOrOid=function(m){m.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(m):this.setValueName(m)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(m){typeof m=="string"?this.setValueNameOrOid(m):m.oid!==void 0?this.setValueNameOrOid(m.oid):m.name!==void 0?this.setValueNameOrOid(m.name):m.hex!==void 0&&this.setValueHex(m.hex)},b!==void 0&&this.setByParam(b)},ln(H.asn1.DERObjectIdentifier,H.asn1.ASN1Object),H.asn1.DEREnumerated=function(b){H.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(m){this.hTLV=null,this.isModified=!0,this.hV=H.asn1.ASN1Util.bigIntToMinTwosComplementsHex(m)},this.setByInteger=function(m){var E=new $(String(m),10);this.setByBigInteger(E)},this.setValueHex=function(m){this.hV=m},this.getFreshValueHex=function(){return this.hV},b!==void 0&&(b.int!==void 0?this.setByInteger(b.int):typeof b=="number"?this.setByInteger(b):b.hex!==void 0&&this.setValueHex(b.hex))},ln(H.asn1.DEREnumerated,H.asn1.ASN1Object),H.asn1.DERUTF8String=function(b){H.asn1.DERUTF8String.superclass.constructor.call(this,b),this.hT="0c"},ln(H.asn1.DERUTF8String,H.asn1.DERAbstractString),H.asn1.DERNumericString=function(b){H.asn1.DERNumericString.superclass.constructor.call(this,b),this.hT="12"},ln(H.asn1.DERNumericString,H.asn1.DERAbstractString),H.asn1.DERPrintableString=function(b){H.asn1.DERPrintableString.superclass.constructor.call(this,b),this.hT="13"},ln(H.asn1.DERPrintableString,H.asn1.DERAbstractString),H.asn1.DERTeletexString=function(b){H.asn1.DERTeletexString.superclass.constructor.call(this,b),this.hT="14"},ln(H.asn1.DERTeletexString,H.asn1.DERAbstractString),H.asn1.DERIA5String=function(b){H.asn1.DERIA5String.superclass.constructor.call(this,b),this.hT="16"},ln(H.asn1.DERIA5String,H.asn1.DERAbstractString),H.asn1.DERVisibleString=function(b){H.asn1.DERIA5String.superclass.constructor.call(this,b),this.hT="1a"},ln(H.asn1.DERVisibleString,H.asn1.DERAbstractString),H.asn1.DERBMPString=function(b){H.asn1.DERBMPString.superclass.constructor.call(this,b),this.hT="1e"},ln(H.asn1.DERBMPString,H.asn1.DERAbstractString),H.asn1.DERUTCTime=function(b){H.asn1.DERUTCTime.superclass.constructor.call(this,b),this.hT="17",this.setByDate=function(m){this.hTLV=null,this.isModified=!0,this.date=m,this.s=this.formatDate(this.date,"utc"),this.hV=sn(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=sn(this.s)),this.hV},b!==void 0&&(b.str!==void 0?this.setString(b.str):typeof b=="string"&&b.match(/^[0-9]{12}Z$/)?this.setString(b):b.hex!==void 0?this.setStringHex(b.hex):b.date!==void 0&&this.setByDate(b.date))},ln(H.asn1.DERUTCTime,H.asn1.DERAbstractTime),H.asn1.DERGeneralizedTime=function(b){H.asn1.DERGeneralizedTime.superclass.constructor.call(this,b),this.hT="18",this.withMillis=!1,this.setByDate=function(m){this.hTLV=null,this.isModified=!0,this.date=m,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=sn(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=sn(this.s)),this.hV},b!==void 0&&(b.str!==void 0?this.setString(b.str):typeof b=="string"&&b.match(/^[0-9]{14}Z$/)?this.setString(b):b.hex!==void 0?this.setStringHex(b.hex):b.date!==void 0&&this.setByDate(b.date),b.millis===!0&&(this.withMillis=!0))},ln(H.asn1.DERGeneralizedTime,H.asn1.DERAbstractTime),H.asn1.DERSequence=function(b){H.asn1.DERSequence.superclass.constructor.call(this,b),this.hT="30",this.getFreshValueHex=function(){for(var m="",E=0;E<this.asn1Array.length;E++)m+=this.asn1Array[E].getEncodedHex();return this.hV=m,this.hV}},ln(H.asn1.DERSequence,H.asn1.DERAbstractStructured),H.asn1.DERSet=function(b){H.asn1.DERSet.superclass.constructor.call(this,b),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var m=new Array,E=0;E<this.asn1Array.length;E++){var O=this.asn1Array[E];m.push(O.getEncodedHex())}return this.sortFlag==1&&m.sort(),this.hV=m.join(""),this.hV},b!==void 0&&b.sortflag!==void 0&&b.sortflag==0&&(this.sortFlag=!1)},ln(H.asn1.DERSet,H.asn1.DERAbstractStructured),H.asn1.DERTaggedObject=function(b){H.asn1.DERTaggedObject.superclass.constructor.call(this);var m=H.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(E,O,j){this.hT=O,this.isExplicit=E,this.asn1Object=j,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=j.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,O),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(E){E.tag!=null&&(this.hT=E.tag),E.explicit!=null&&(this.isExplicit=E.explicit),E.tage!=null&&(this.hT=E.tage,this.isExplicit=!0),E.tagi!=null&&(this.hT=E.tagi,this.isExplicit=!1),E.obj!=null&&(E.obj instanceof m.ASN1Object?(this.asn1Object=E.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):x(E.obj)=="object"&&(this.asn1Object=m.ASN1Util.newObject(E.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},b!=null&&this.setByParam(b)},ln(H.asn1.DERTaggedObject,H.asn1.ASN1Object);var H,We,rt,Je=new function(){};function Yt(b){for(var m=new Array,E=0;E<b.length;E++)m[E]=b.charCodeAt(E);return m}function jn(b){for(var m="",E=0;E<b.length;E++)m+=String.fromCharCode(b[E]);return m}function Vn(b){for(var m="",E=0;E<b.length;E++){var O=b[E].toString(16);O.length==1&&(O="0"+O),m+=O}return m}function sn(b){return Vn(Yt(b))}function Ge(b){return b=(b=(b=b.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function bt(b){return b.length%4==2?b+="==":b.length%4==3&&(b+="="),b=(b=b.replace(/-/g,"+")).replace(/_/g,"/")}function ut(b){return b.length%2==1&&(b="0"+b),Ge(J(b))}function Me(b){return q(bt(b))}function pt(b){return nn(Un(b))}function Qt(b){return decodeURIComponent(Dn(b))}function zt(b){for(var m="",E=0;E<b.length-1;E+=2)m+=String.fromCharCode(parseInt(b.substr(E,2),16));return m}function tn(b){for(var m="",E=0;E<b.length;E++)m+=("0"+b.charCodeAt(E).toString(16)).slice(-2);return m}function Ht(b){return J(b)}function ue(b){var m=Ht(b).replace(/(.{64})/g,`$1\r
`);return m=m.replace(/\r\n$/,"")}function ye(b){return q(b.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Ct(b,m){return"-----BEGIN "+m+`-----\r
`+ue(b)+`\r
-----END `+m+`-----\r
`}function Tt(b,m){if(b.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+m;return ye(b=m!==void 0?(b=b.replace(new RegExp("^[^]*-----BEGIN "+m+"-----"),"")).replace(new RegExp("-----END "+m+"-----[^]*$"),""):(b=b.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Nt(b){var m,E,O,j,Q,se,we,pe,be,Ae,xe;if(xe=b.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return pe=xe[1],m=parseInt(pe),pe.length===2&&(50<=m&&m<100?m=1900+m:0<=m&&m<50&&(m=2e3+m)),E=parseInt(xe[2])-1,O=parseInt(xe[3]),j=parseInt(xe[4]),Q=parseInt(xe[5]),se=parseInt(xe[6]),we=0,(be=xe[7])!==""&&(Ae=(be.substr(1)+"00").substr(0,3),we=parseInt(Ae)),Date.UTC(m,E,O,j,Q,se,we);throw"unsupported zulu format: "+b}function Zt(b){return~~(Nt(b)/1e3)}function nn(b){return b.replace(/%/g,"")}function Dn(b){return b.replace(/(..)/g,"%$1")}function $t(b){var m="malformed IPv6 address";if(!b.match(/^[0-9A-Fa-f:]+$/))throw m;var E=(b=b.toLowerCase()).split(":").length-1;if(E<2)throw m;var O=":".repeat(7-E+2),j=(b=b.replace("::",O)).split(":");if(j.length!=8)throw m;for(var Q=0;Q<8;Q++)j[Q]=("0000"+j[Q]).slice(-4);return j.join("")}function en(b){if(!b.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var m=(b=b.toLowerCase()).match(/.{1,4}/g),E=0;E<8;E++)m[E]=m[E].replace(/^0+/,""),m[E]==""&&(m[E]="0");var O=(b=":"+m.join(":")+":").match(/:(0:){2,}/g);if(O===null)return b.slice(1,-1);var j="";for(E=0;E<O.length;E++)O[E].length>j.length&&(j=O[E]);return(b=b.replace(j,"::")).slice(1,-1)}function vn(b){var m="malformed hex value";if(!b.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw m;if(b.length!=8)return b.length==32?en(b):b;try{return parseInt(b.substr(0,2),16)+"."+parseInt(b.substr(2,2),16)+"."+parseInt(b.substr(4,2),16)+"."+parseInt(b.substr(6,2),16)}catch{throw m}}function on(b){return b.match(/.{4}/g).map(function(E){var O=parseInt(E.substr(0,2),16),j=parseInt(E.substr(2),16);if(O==0&j<128)return String.fromCharCode(j);if(O<8){var Q=128|63&j;return Qt((192|(7&O)<<3|(192&j)>>6).toString(16)+Q.toString(16))}Q=128|(15&O)<<2|(192&j)>>6;var se=128|63&j;return Qt((224|(240&O)>>4).toString(16)+Q.toString(16)+se.toString(16))}).join("")}function Un(b){for(var m=encodeURIComponent(b),E="",O=0;O<m.length;O++)m[O]=="%"?(E+=m.substr(O,3),O+=2):E=E+"%"+sn(m[O]);return E}function xn(b){return!(b.length%2!=0||!b.match(/^[0-9a-f]+$/)&&!b.match(/^[0-9A-F]+$/))}function qn(b){return b.length%2==1?"0"+b:b.substr(0,1)>"7"?"00"+b:b}Je.getLblen=function(b,m){if(b.substr(m+2,1)!="8")return 1;var E=parseInt(b.substr(m+3,1));return E==0?-1:0<E&&E<10?E+1:-2},Je.getL=function(b,m){var E=Je.getLblen(b,m);return E<1?"":b.substr(m+2,2*E)},Je.getVblen=function(b,m){var E;return(E=Je.getL(b,m))==""?-1:(E.substr(0,1)==="8"?new $(E.substr(2),16):new $(E,16)).intValue()},Je.getVidx=function(b,m){var E=Je.getLblen(b,m);return E<0?E:m+2*(E+1)},Je.getV=function(b,m){var E=Je.getVidx(b,m),O=Je.getVblen(b,m);return b.substr(E,2*O)},Je.getTLV=function(b,m){return b.substr(m,2)+Je.getL(b,m)+Je.getV(b,m)},Je.getTLVblen=function(b,m){return 2+2*Je.getLblen(b,m)+2*Je.getVblen(b,m)},Je.getNextSiblingIdx=function(b,m){return Je.getVidx(b,m)+2*Je.getVblen(b,m)},Je.getChildIdx=function(b,m){var E,O,j,Q=Je,se=[];E=Q.getVidx(b,m),O=2*Q.getVblen(b,m),b.substr(m,2)=="03"&&(E+=2,O-=2),j=0;for(var we=E;j<=O;){var pe=Q.getTLVblen(b,we);if((j+=pe)<=O&&se.push(we),we+=pe,j>=O)break}return se},Je.getNthChildIdx=function(b,m,E){return Je.getChildIdx(b,m)[E]},Je.getIdxbyList=function(b,m,E,O){var j,Q,se=Je;return E.length==0?O!==void 0&&b.substr(m,2)!==O?-1:m:(j=E.shift())>=(Q=se.getChildIdx(b,m)).length?-1:se.getIdxbyList(b,Q[j],E,O)},Je.getIdxbyListEx=function(b,m,E,O){var j,Q,se=Je;if(E.length==0)return O!==void 0&&b.substr(m,2)!==O?-1:m;j=E.shift(),Q=se.getChildIdx(b,m);for(var we=0,pe=0;pe<Q.length;pe++){var be=b.substr(Q[pe],2);if(typeof j=="number"&&!se.isContextTag(be)&&we==j||typeof j=="string"&&se.isContextTag(be,j))return se.getIdxbyListEx(b,Q[pe],E,O);se.isContextTag(be)||we++}return-1},Je.getTLVbyList=function(b,m,E,O){var j=Je,Q=j.getIdxbyList(b,m,E,O);return Q==-1||Q>=b.length?null:j.getTLV(b,Q)},Je.getTLVbyListEx=function(b,m,E,O){var j=Je,Q=j.getIdxbyListEx(b,m,E,O);return Q==-1?null:j.getTLV(b,Q)},Je.getVbyList=function(b,m,E,O,j){var Q,se,we=Je;return(Q=we.getIdxbyList(b,m,E,O))==-1||Q>=b.length?null:(se=we.getV(b,Q),j===!0&&(se=se.substr(2)),se)},Je.getVbyListEx=function(b,m,E,O,j){var Q,se,we=Je;return(Q=we.getIdxbyListEx(b,m,E,O))==-1?null:(se=we.getV(b,Q),b.substr(Q,2)=="03"&&j!==!1&&(se=se.substr(2)),se)},Je.getInt=function(b,m,E){E==null&&(E=-1);try{var O=b.substr(m,2);if(O!="02"&&O!="03")return E;var j=Je.getV(b,m);return O=="02"?parseInt(j,16):function(se){try{var we=se.substr(0,2);if(we=="00")return parseInt(se.substr(2),16);var pe=parseInt(we,16),be=se.substr(2),Ae=parseInt(be,16).toString(2);return Ae=="0"&&(Ae="00000000"),Ae=Ae.slice(0,0-pe),parseInt(Ae,2)}catch{return-1}}(j)}catch{return E}},Je.getOID=function(b,m,E){E==null&&(E=null);try{return b.substr(m,2)!="06"?E:function(j){if(!xn(j))return null;try{var Q=[],se=j.substr(0,2),we=parseInt(se,16);Q[0]=new String(Math.floor(we/40)),Q[1]=new String(we%40);for(var pe=j.substr(2),be=[],Ae=0;Ae<pe.length/2;Ae++)be.push(parseInt(pe.substr(2*Ae,2),16));var xe=[],Ue="";for(Ae=0;Ae<be.length;Ae++)128&be[Ae]?Ue+=yn((127&be[Ae]).toString(2),7):(Ue+=yn((127&be[Ae]).toString(2),7),xe.push(new String(parseInt(Ue,2))),Ue="");var qe=Q.join(".");return xe.length>0&&(qe=qe+"."+xe.join(".")),qe}catch{return null}}(Je.getV(b,m))}catch{return E}},Je.getOIDName=function(b,m,E){E==null&&(E=null);try{var O=Je.getOID(b,m,E);if(O==E)return E;var j=H.asn1.x509.OID.oid2name(O);return j==""?O:j}catch{return E}},Je.getString=function(b,m,E){E==null&&(E=null);try{return zt(Je.getV(b,m))}catch{return E}},Je.hextooidstr=function(b){var m=function(Ue,qe){return Ue.length>=qe?Ue:new Array(qe-Ue.length+1).join("0")+Ue},E=[],O=b.substr(0,2),j=parseInt(O,16);E[0]=new String(Math.floor(j/40)),E[1]=new String(j%40);for(var Q=b.substr(2),se=[],we=0;we<Q.length/2;we++)se.push(parseInt(Q.substr(2*we,2),16));var pe=[],be="";for(we=0;we<se.length;we++)128&se[we]?be+=m((127&se[we]).toString(2),7):(be+=m((127&se[we]).toString(2),7),pe.push(new String(parseInt(be,2))),be="");var Ae=E.join(".");return pe.length>0&&(Ae=Ae+"."+pe.join(".")),Ae},Je.dump=function(b,m,E,O){var j=Je,Q=j.getV,se=j.dump,we=j.getChildIdx,pe=b;b instanceof H.asn1.ASN1Object&&(pe=b.getEncodedHex());var be=function(jt,zn){return jt.length<=2*zn?jt:jt.substr(0,zn)+"..(total "+jt.length/2+"bytes).."+jt.substr(jt.length-zn,zn)};m===void 0&&(m={ommit_long_octet:32}),E===void 0&&(E=0),O===void 0&&(O="");var Ae,xe=m.ommit_long_octet;if((Ae=pe.substr(E,2))=="01")return(Ue=Q(pe,E))=="00"?O+`BOOLEAN FALSE
`:O+`BOOLEAN TRUE
`;if(Ae=="02")return O+"INTEGER "+be(Ue=Q(pe,E),xe)+`
`;if(Ae=="03"){var Ue=Q(pe,E);if(j.isASN1HEX(Ue.substr(2))){var qe=O+`BITSTRING, encapsulates
`;return qe+=se(Ue.substr(2),m,0,O+"  ")}return O+"BITSTRING "+be(Ue,xe)+`
`}if(Ae=="04")return Ue=Q(pe,E),j.isASN1HEX(Ue)?(qe=O+`OCTETSTRING, encapsulates
`,qe+=se(Ue,m,0,O+"  ")):O+"OCTETSTRING "+be(Ue,xe)+`
`;if(Ae=="05")return O+`NULL
`;if(Ae=="06"){var at=Q(pe,E),mt=H.asn1.ASN1Util.oidHexToInt(at),St=H.asn1.x509.OID.oid2name(mt),ae=mt.replace(/\./g," ");return St!=""?O+"ObjectIdentifier "+St+" ("+ae+`)
`:O+"ObjectIdentifier ("+ae+`)
`}if(Ae=="0a")return O+"ENUMERATED "+parseInt(Q(pe,E))+`
`;if(Ae=="0c")return O+"UTF8String '"+Qt(Q(pe,E))+`'
`;if(Ae=="13")return O+"PrintableString '"+Qt(Q(pe,E))+`'
`;if(Ae=="14")return O+"TeletexString '"+Qt(Q(pe,E))+`'
`;if(Ae=="16")return O+"IA5String '"+Qt(Q(pe,E))+`'
`;if(Ae=="17")return O+"UTCTime "+Qt(Q(pe,E))+`
`;if(Ae=="18")return O+"GeneralizedTime "+Qt(Q(pe,E))+`
`;if(Ae=="1a")return O+"VisualString '"+Qt(Q(pe,E))+`'
`;if(Ae=="1e")return O+"BMPString '"+on(Q(pe,E))+`'
`;if(Ae=="30"){if(pe.substr(E,4)=="3000")return O+`SEQUENCE {}
`;qe=O+`SEQUENCE
`;var Se=m;if(((dt=we(pe,E)).length==2||dt.length==3)&&pe.substr(dt[0],2)=="06"&&pe.substr(dt[dt.length-1],2)=="04"){St=j.oidname(Q(pe,dt[0]));var Ne=JSON.parse(JSON.stringify(m));Ne.x509ExtName=St,Se=Ne}for(var De=0;De<dt.length;De++)qe+=se(pe,Se,dt[De],O+"  ");return qe}if(Ae=="31"){qe=O+`SET
`;var dt=we(pe,E);for(De=0;De<dt.length;De++)qe+=se(pe,m,dt[De],O+"  ");return qe}if((128&(Ae=parseInt(Ae,16)))!=0){var At=31&Ae;if((32&Ae)!=0){for(qe=O+"["+At+`]
`,dt=we(pe,E),De=0;De<dt.length;De++)qe+=se(pe,m,dt[De],O+"  ");return qe}if(Ue=Q(pe,E),Je.isASN1HEX(Ue)){var qe=O+"["+At+`]
`;return qe+=se(Ue,m,0,O+"  ")}return(Ue.substr(0,8)=="68747470"||m.x509ExtName==="subjectAltName"&&At==2)&&(Ue=Qt(Ue)),qe=O+"["+At+"] "+Ue+`
`}return O+"UNKNOWN("+Ae+") "+Q(pe,E)+`
`},Je.isContextTag=function(b,m){var E,O;b=b.toLowerCase();try{E=parseInt(b,16)}catch{return-1}if(m===void 0)return(192&E)==128;try{return m.match(/^\[[0-9]+\]$/)!=null&&!((O=parseInt(m.substr(1,m.length-1),10))>31)&&(192&E)==128&&(31&E)==O}catch{return!1}},Je.isASN1HEX=function(b){var m=Je;if(b.length%2==1)return!1;var E=m.getVblen(b,0),O=b.substr(0,2),j=m.getL(b,0);return b.length-O.length-j.length==2*E},Je.checkStrictDER=function(b,m,E,O,j){var Q=Je;if(E===void 0){if(typeof b!="string")throw new Error("not hex string");if(b=b.toLowerCase(),!H.lang.String.isHex(b))throw new Error("not hex string");E=b.length,j=(O=b.length/2)<128?1:Math.ceil(O.toString(16))+1}if(Q.getL(b,m).length>2*j)throw new Error("L of TLV too long: idx="+m);var se=Q.getVblen(b,m);if(se>O)throw new Error("value of L too long than hex: idx="+m);var we=Q.getTLV(b,m),pe=we.length-2-Q.getL(b,m).length;if(pe!==2*se)throw new Error("V string length and L's value not the same:"+pe+"/"+2*se);if(m===0&&b.length!=we.length)throw new Error("total length and TLV length unmatch:"+b.length+"!="+we.length);var be=b.substr(m,2);if(be==="02"){var Ae=Q.getVidx(b,m);if(b.substr(Ae,2)=="00"&&b.charCodeAt(Ae+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(be,16)){for(var xe=Q.getVblen(b,m),Ue=0,qe=Q.getChildIdx(b,m),at=0;at<qe.length;at++)Ue+=Q.getTLV(b,qe[at]).length,Q.checkStrictDER(b,qe[at],E,O,j);if(2*xe!=Ue)throw new Error("sum of children's TLV length and L unmatch: "+2*xe+"!="+Ue)}},Je.oidname=function(b){var m=H.asn1;H.lang.String.isHex(b)&&(b=m.ASN1Util.oidHexToInt(b));var E=m.x509.OID.oid2name(b);return E===""&&(E=b),E},H!==void 0&&H||(a.KJUR=H={}),H.lang!==void 0&&H.lang||(H.lang={}),H.lang.String=function(){},typeof c=="function"?(a.utf8tob64u=We=function(m){return Ge(c.from(m,"utf8").toString("base64"))},a.b64utoutf8=rt=function(m){return c.from(bt(m),"base64").toString("utf8")}):(a.utf8tob64u=We=function(m){return ut(nn(Un(m)))},a.b64utoutf8=rt=function(m){return decodeURIComponent(Dn(Me(m)))}),H.lang.String.isInteger=function(b){return!!b.match(/^[0-9]+$/)||!!b.match(/^-[0-9]+$/)},H.lang.String.isHex=function(b){return xn(b)},H.lang.String.isBase64=function(b){return!(!(b=b.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||b.length%4!=0)},H.lang.String.isBase64URL=function(b){return!b.match(/[+/=]/)&&(b=bt(b),H.lang.String.isBase64(b))},H.lang.String.isIntegerArray=function(b){return!!(b=b.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},H.lang.String.isPrintable=function(b){return b.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},H.lang.String.isIA5=function(b){return b.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},H.lang.String.isMail=function(b){return b.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var yn=function(m,E,O){return O==null&&(O="0"),m.length>=E?m:new Array(E-m.length+1).join(O)+m};function ln(b,m){var E=function(){};E.prototype=m.prototype,b.prototype=new E,b.prototype.constructor=b,b.superclass=m.prototype,m.prototype.constructor==Object.prototype.constructor&&(m.prototype.constructor=m)}H!==void 0&&H||(a.KJUR=H={}),H.crypto!==void 0&&H.crypto||(H.crypto={}),H.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:K.algo.MD5,sha1:K.algo.SHA1,sha224:K.algo.SHA224,sha256:K.algo.SHA256,sha384:K.algo.SHA384,sha512:K.algo.SHA512,ripemd160:K.algo.RIPEMD160},this.getDigestInfoHex=function(b,m){if(this.DIGESTINFOHEAD[m]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+m;return this.DIGESTINFOHEAD[m]+b},this.getPaddedDigestInfoHex=function(b,m,E){var O=this.getDigestInfoHex(b,m),j=E/4;if(O.length+22>j)throw"key is too short for SigAlg: keylen="+E+","+m;for(var Q="0001",se="00"+O,we="",pe=j-Q.length-se.length,be=0;be<pe;be+=2)we+="ff";return Q+we+se},this.hashString=function(b,m){return new H.crypto.MessageDigest({alg:m}).digestString(b)},this.hashHex=function(b,m){return new H.crypto.MessageDigest({alg:m}).digestHex(b)},this.sha1=function(b){return this.hashString(b,"sha1")},this.sha256=function(b){return this.hashString(b,"sha256")},this.sha256Hex=function(b){return this.hashHex(b,"sha256")},this.sha512=function(b){return this.hashString(b,"sha512")},this.sha512Hex=function(b){return this.hashHex(b,"sha512")},this.isKey=function(b){return b instanceof Pe||b instanceof H.crypto.DSA||b instanceof H.crypto.ECDSA}},H.crypto.Util.md5=function(b){return new H.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(b)},H.crypto.Util.ripemd160=function(b){return new H.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(b)},H.crypto.Util.SECURERANDOMGEN=new wt,H.crypto.Util.getRandomHexOfNbytes=function(b){var m=new Array(b);return H.crypto.Util.SECURERANDOMGEN.nextBytes(m),Vn(m)},H.crypto.Util.getRandomBigIntegerOfNbytes=function(b){return new $(H.crypto.Util.getRandomHexOfNbytes(b),16)},H.crypto.Util.getRandomHexOfNbits=function(b){var m=b%8,E=new Array((b-m)/8+1);return H.crypto.Util.SECURERANDOMGEN.nextBytes(E),E[0]=(255<<m&255^255)&E[0],Vn(E)},H.crypto.Util.getRandomBigIntegerOfNbits=function(b){return new $(H.crypto.Util.getRandomHexOfNbits(b),16)},H.crypto.Util.getRandomBigIntegerZeroToMax=function(b){for(var m=b.bitLength();;){var E=H.crypto.Util.getRandomBigIntegerOfNbits(m);if(b.compareTo(E)!=-1)return E}},H.crypto.Util.getRandomBigIntegerMinToMax=function(b,m){var E=b.compareTo(m);if(E==1)throw"biMin is greater than biMax";if(E==0)return b;var O=m.subtract(b);return H.crypto.Util.getRandomBigIntegerZeroToMax(O).add(b)},H.crypto.MessageDigest=function(b){this.setAlgAndProvider=function(m,E){if((m=H.crypto.MessageDigest.getCanonicalAlgName(m))!==null&&E===void 0&&(E=H.crypto.Util.DEFAULTPROVIDER[m]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(m)!=-1&&E=="cryptojs"){try{this.md=H.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[m].create()}catch(O){throw"setAlgAndProvider hash alg set fail alg="+m+"/"+O}this.updateString=function(O){this.md.update(O)},this.updateHex=function(O){var j=K.enc.Hex.parse(O);this.md.update(j)},this.digest=function(){return this.md.finalize().toString(K.enc.Hex)},this.digestString=function(O){return this.updateString(O),this.digest()},this.digestHex=function(O){return this.updateHex(O),this.digest()}}if(":sha256:".indexOf(m)!=-1&&E=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(O){throw"setAlgAndProvider hash alg set fail alg="+m+"/"+O}this.updateString=function(O){this.md.update(O)},this.updateHex=function(O){var j=sjcl.codec.hex.toBits(O);this.md.update(j)},this.digest=function(){var O=this.md.finalize();return sjcl.codec.hex.fromBits(O)},this.digestString=function(O){return this.updateString(O),this.digest()},this.digestHex=function(O){return this.updateHex(O),this.digest()}}},this.updateString=function(m){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(m){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(m){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(m){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},b!==void 0&&b.alg!==void 0&&(this.algName=b.alg,b.prov===void 0&&(this.provName=H.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},H.crypto.MessageDigest.getCanonicalAlgName=function(b){return typeof b=="string"&&(b=(b=b.toLowerCase()).replace(/-/,"")),b},H.crypto.MessageDigest.getHashLength=function(b){var m=H.crypto.MessageDigest,E=m.getCanonicalAlgName(b);if(m.HASHLENGTH[E]===void 0)throw"not supported algorithm: "+b;return m.HASHLENGTH[E]},H.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},H.crypto.Mac=function(b){this.setAlgAndProvider=function(m,E){if((m=m.toLowerCase())==null&&(m="hmacsha1"),(m=m.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+m;E===void 0&&(E=H.crypto.Util.DEFAULTPROVIDER[m]),this.algProv=m+"/"+E;var O=m.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(O)!=-1&&E=="cryptojs"){try{var j=H.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[O];this.mac=K.algo.HMAC.create(j,this.pass)}catch(Q){throw"setAlgAndProvider hash alg set fail hashAlg="+O+"/"+Q}this.updateString=function(Q){this.mac.update(Q)},this.updateHex=function(Q){var se=K.enc.Hex.parse(Q);this.mac.update(se)},this.doFinal=function(){return this.mac.finalize().toString(K.enc.Hex)},this.doFinalString=function(Q){return this.updateString(Q),this.doFinal()},this.doFinalHex=function(Q){return this.updateHex(Q),this.doFinal()}}},this.updateString=function(m){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(m){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(m){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(m){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(m){if(typeof m=="string"){var E=m;return m.length%2!=1&&m.match(/^[0-9A-Fa-f]+$/)||(E=tn(m)),void(this.pass=K.enc.Hex.parse(E))}if((m===void 0?"undefined":x(m))!="object")throw"KJUR.crypto.Mac unsupported password type: "+m;if(E=null,m.hex!==void 0){if(m.hex.length%2!=0||!m.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+m.hex;E=m.hex}if(m.utf8!==void 0&&(E=pt(m.utf8)),m.rstr!==void 0&&(E=tn(m.rstr)),m.b64!==void 0&&(E=q(m.b64)),m.b64u!==void 0&&(E=Me(m.b64u)),E==null)throw"KJUR.crypto.Mac unsupported password type: "+m;this.pass=K.enc.Hex.parse(E)},b!==void 0&&(b.pass!==void 0&&this.setPassword(b.pass),b.alg!==void 0&&(this.algName=b.alg,b.prov===void 0&&(this.provName=H.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},H.crypto.Signature=function(b){var m=null;if(this._setAlgNames=function(){var E=this.algName.match(/^(.+)with(.+)$/);E&&(this.mdAlgName=E[1].toLowerCase(),this.pubkeyAlgName=E[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(E,O){for(var j="",Q=O/4-E.length,se=0;se<Q;se++)j+="0";return j+E},this.setAlgAndProvider=function(E,O){if(this._setAlgNames(),O!="cryptojs/jsrsa")throw new Error("provider not supported: "+O);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new H.crypto.MessageDigest({alg:this.mdAlgName})}catch(j){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+j)}this.init=function(j,Q){var se=null;try{se=Q===void 0?Gt.getKey(j):Gt.getKey(j,Q)}catch(we){throw"init failed:"+we}if(se.isPrivate===!0)this.prvKey=se,this.state="SIGN";else{if(se.isPublic!==!0)throw"init failed.:"+se;this.pubKey=se,this.state="VERIFY"}},this.updateString=function(j){this.md.updateString(j)},this.updateHex=function(j){this.md.updateHex(j)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&H.crypto.ECDSA!==void 0&&(this.prvKey=new H.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Pe&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Pe&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof H.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof H.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(j){return this.updateString(j),this.sign()},this.signHex=function(j){return this.updateHex(j),this.sign()},this.verify=function(j){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&H.crypto.ECDSA!==void 0&&(this.pubKey=new H.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Pe&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,j,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Pe&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,j);if(H.crypto.ECDSA!==void 0&&this.pubKey instanceof H.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,j);if(H.crypto.DSA!==void 0&&this.pubKey instanceof H.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,j);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(E,O){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(E){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(E){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(E){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(E){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(E){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=b,b!==void 0&&(b.alg!==void 0&&(this.algName=b.alg,b.prov===void 0?this.provName=H.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=b.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),b.psssaltlen!==void 0&&(this.pssSaltLen=b.psssaltlen),b.prvkeypem!==void 0)){if(b.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{m=Gt.getKey(b.prvkeypem),this.init(m)}catch(E){throw"fatal error to load pem private key: "+E}}},H.crypto.Cipher=function(b){},H.crypto.Cipher.encrypt=function(b,m,E){if(m instanceof Pe&&m.isPublic){var O=H.crypto.Cipher.getAlgByKeyAndName(m,E);if(O==="RSA")return m.encrypt(b);if(O==="RSAOAEP")return m.encryptOAEP(b,"sha1");var j=O.match(/^RSAOAEP(\d+)$/);if(j!==null)return m.encryptOAEP(b,"sha"+j[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+E}throw"Cipher.encrypt: unsupported key or algorithm"},H.crypto.Cipher.decrypt=function(b,m,E){if(m instanceof Pe&&m.isPrivate){var O=H.crypto.Cipher.getAlgByKeyAndName(m,E);if(O==="RSA")return m.decrypt(b);if(O==="RSAOAEP")return m.decryptOAEP(b,"sha1");var j=O.match(/^RSAOAEP(\d+)$/);if(j!==null)return m.decryptOAEP(b,"sha"+j[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+E}throw"Cipher.decrypt: unsupported key or algorithm"},H.crypto.Cipher.getAlgByKeyAndName=function(b,m){if(b instanceof Pe){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(m)!=-1)return m;if(m==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+m}throw"getAlgByKeyAndName: not supported algorithm name: "+m},H.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},H!==void 0&&H||(a.KJUR=H={}),H.crypto!==void 0&&H.crypto||(H.crypto={}),H.crypto.ECDSA=function(b){var m=Error,E=$,O=X,j=H.crypto.ECDSA,Q=H.crypto.ECParameterDB,se=j.getName,we=Je,pe=we.getVbyListEx,be=we.isASN1HEX,Ae=new wt;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(xe){return new E(xe.bitLength(),Ae).mod(xe.subtract(E.ONE)).add(E.ONE)},this.setNamedCurve=function(xe){this.ecparams=Q.getByName(xe),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=xe},this.setPrivateKeyHex=function(xe){this.isPrivate=!0,this.prvKeyHex=xe},this.setPublicKeyHex=function(xe){this.isPublic=!0,this.pubKeyHex=xe},this.getPublicKeyXYHex=function(){var xe=this.pubKeyHex;if(xe.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var Ue=this.ecparams.keylen/4;if(xe.length!==2+2*Ue)throw"malformed public key hex length";var qe={};return qe.x=xe.substr(2,Ue),qe.y=xe.substr(2+Ue),qe},this.getShortNISTPCurveName=function(){var xe=this.curveName;return xe==="secp256r1"||xe==="NIST P-256"||xe==="P-256"||xe==="prime256v1"?"P-256":xe==="secp384r1"||xe==="NIST P-384"||xe==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var xe=this.ecparams.n,Ue=this.getBigRandom(xe),qe=this.ecparams.G.multiply(Ue),at=qe.getX().toBigInteger(),mt=qe.getY().toBigInteger(),St=this.ecparams.keylen/4,ae=("0000000000"+Ue.toString(16)).slice(-St),Se="04"+("0000000000"+at.toString(16)).slice(-St)+("0000000000"+mt.toString(16)).slice(-St);return this.setPrivateKeyHex(ae),this.setPublicKeyHex(Se),{ecprvhex:ae,ecpubhex:Se}},this.signWithMessageHash=function(xe){return this.signHex(xe,this.prvKeyHex)},this.signHex=function(xe,Ue){var qe=new E(Ue,16),at=this.ecparams.n,mt=new E(xe.substring(0,this.ecparams.keylen/4),16);do var St=this.getBigRandom(at),ae=this.ecparams.G.multiply(St).getX().toBigInteger().mod(at);while(ae.compareTo(E.ZERO)<=0);var Se=St.modInverse(at).multiply(mt.add(qe.multiply(ae))).mod(at);return j.biRSSigToASN1Sig(ae,Se)},this.sign=function(xe,Ue){var qe=Ue,at=this.ecparams.n,mt=E.fromByteArrayUnsigned(xe);do var St=this.getBigRandom(at),ae=this.ecparams.G.multiply(St).getX().toBigInteger().mod(at);while(ae.compareTo($.ZERO)<=0);var Se=St.modInverse(at).multiply(mt.add(qe.multiply(ae))).mod(at);return this.serializeSig(ae,Se)},this.verifyWithMessageHash=function(xe,Ue){return this.verifyHex(xe,Ue,this.pubKeyHex)},this.verifyHex=function(xe,Ue,qe){try{var at,mt,St=j.parseSigHex(Ue);at=St.r,mt=St.s;var ae=O.decodeFromHex(this.ecparams.curve,qe),Se=new E(xe.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(Se,at,mt,ae)}catch{return!1}},this.verify=function(xe,Ue,qe){var at,mt,St;if(Bitcoin.Util.isArray(Ue)){var ae=this.parseSig(Ue);at=ae.r,mt=ae.s}else{if((Ue===void 0?"undefined":x(Ue))!=="object"||!Ue.r||!Ue.s)throw"Invalid value for signature";at=Ue.r,mt=Ue.s}if(qe instanceof X)St=qe;else{if(!Bitcoin.Util.isArray(qe))throw"Invalid format for pubkey value, must be byte array or ECPointFp";St=O.decodeFrom(this.ecparams.curve,qe)}var Se=E.fromByteArrayUnsigned(xe);return this.verifyRaw(Se,at,mt,St)},this.verifyRaw=function(xe,Ue,qe,at){var mt=this.ecparams.n,St=this.ecparams.G;if(Ue.compareTo(E.ONE)<0||Ue.compareTo(mt)>=0||qe.compareTo(E.ONE)<0||qe.compareTo(mt)>=0)return!1;var ae=qe.modInverse(mt),Se=xe.multiply(ae).mod(mt),Ne=Ue.multiply(ae).mod(mt);return St.multiply(Se).add(at.multiply(Ne)).getX().toBigInteger().mod(mt).equals(Ue)},this.serializeSig=function(xe,Ue){var qe=xe.toByteArraySigned(),at=Ue.toByteArraySigned(),mt=[];return mt.push(2),mt.push(qe.length),(mt=mt.concat(qe)).push(2),mt.push(at.length),(mt=mt.concat(at)).unshift(mt.length),mt.unshift(48),mt},this.parseSig=function(xe){var Ue;if(xe[0]!=48)throw new Error("Signature not a valid DERSequence");if(xe[Ue=2]!=2)throw new Error("First element in signature must be a DERInteger");var qe=xe.slice(Ue+2,Ue+2+xe[Ue+1]);if(xe[Ue+=2+xe[Ue+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var at=xe.slice(Ue+2,Ue+2+xe[Ue+1]);return Ue+=2+xe[Ue+1],{r:E.fromByteArrayUnsigned(qe),s:E.fromByteArrayUnsigned(at)}},this.parseSigCompact=function(xe){if(xe.length!==65)throw"Signature has the wrong length";var Ue=xe[0]-27;if(Ue<0||Ue>7)throw"Invalid signature type";var qe=this.ecparams.n;return{r:E.fromByteArrayUnsigned(xe.slice(1,33)).mod(qe),s:E.fromByteArrayUnsigned(xe.slice(33,65)).mod(qe),i:Ue}},this.readPKCS5PrvKeyHex=function(xe){if(be(xe)===!1)throw new Error("not ASN.1 hex string");var Ue,qe,at;try{Ue=pe(xe,0,["[0]",0],"06"),qe=pe(xe,0,[1],"04");try{at=pe(xe,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=se(Ue),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(at),this.setPrivateKeyHex(qe),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(xe){if(be(xe)===!1)throw new m("not ASN.1 hex string");var Ue,qe,at;try{pe(xe,0,[1,0],"06"),Ue=pe(xe,0,[1,1],"06"),qe=pe(xe,0,[2,0,1],"04");try{at=pe(xe,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new m("malformed PKCS#8 plain ECC private key")}if(this.curveName=se(Ue),this.curveName===void 0)throw new m("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(at),this.setPrivateKeyHex(qe),this.isPublic=!1},this.readPKCS8PubKeyHex=function(xe){if(be(xe)===!1)throw new m("not ASN.1 hex string");var Ue,qe;try{pe(xe,0,[0,0],"06"),Ue=pe(xe,0,[0,1],"06"),qe=pe(xe,0,[1],"03")}catch{throw new m("malformed PKCS#8 ECC public key")}if(this.curveName=se(Ue),this.curveName===null)throw new m("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(qe)},this.readCertPubKeyHex=function(xe,Ue){if(be(xe)===!1)throw new m("not ASN.1 hex string");var qe,at;try{qe=pe(xe,0,[0,5,0,1],"06"),at=pe(xe,0,[0,5,1],"03")}catch{throw new m("malformed X.509 certificate ECC public key")}if(this.curveName=se(qe),this.curveName===null)throw new m("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(at)},b!==void 0&&b.curve!==void 0&&(this.curveName=b.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),b!==void 0&&(b.prv!==void 0&&this.setPrivateKeyHex(b.prv),b.pub!==void 0&&this.setPublicKeyHex(b.pub))},H.crypto.ECDSA.parseSigHex=function(b){var m=H.crypto.ECDSA.parseSigHexInHexRS(b);return{r:new $(m.r,16),s:new $(m.s,16)}},H.crypto.ECDSA.parseSigHexInHexRS=function(b){var m=Je,E=m.getChildIdx,O=m.getV;if(m.checkStrictDER(b,0),b.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var j=E(b,0);if(j.length!=2)throw new Error("signature shall have two elements");var Q=j[0],se=j[1];if(b.substr(Q,2)!="02")throw new Error("1st item not ASN.1 integer");if(b.substr(se,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:O(b,Q),s:O(b,se)}},H.crypto.ECDSA.asn1SigToConcatSig=function(b){var m=H.crypto.ECDSA.parseSigHexInHexRS(b),E=m.r,O=m.s;if(E.substr(0,2)=="00"&&E.length%32==2&&(E=E.substr(2)),O.substr(0,2)=="00"&&O.length%32==2&&(O=O.substr(2)),E.length%32==30&&(E="00"+E),O.length%32==30&&(O="00"+O),E.length%32!=0)throw"unknown ECDSA sig r length error";if(O.length%32!=0)throw"unknown ECDSA sig s length error";return E+O},H.crypto.ECDSA.concatSigToASN1Sig=function(b){if(b.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var m=b.substr(0,b.length/2),E=b.substr(b.length/2);return H.crypto.ECDSA.hexRSSigToASN1Sig(m,E)},H.crypto.ECDSA.hexRSSigToASN1Sig=function(b,m){var E=new $(b,16),O=new $(m,16);return H.crypto.ECDSA.biRSSigToASN1Sig(E,O)},H.crypto.ECDSA.biRSSigToASN1Sig=function(b,m){var E=H.asn1,O=new E.DERInteger({bigint:b}),j=new E.DERInteger({bigint:m});return new E.DERSequence({array:[O,j]}).getEncodedHex()},H.crypto.ECDSA.getName=function(b){return b==="2b8104001f"?"secp192k1":b==="2a8648ce3d030107"?"secp256r1":b==="2b8104000a"?"secp256k1":b==="2b81040021"?"secp224r1":b==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(b)!==-1?"secp256r1":"|secp256k1|".indexOf(b)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(b)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(b)!==-1?"secp384r1":null},H!==void 0&&H||(a.KJUR=H={}),H.crypto!==void 0&&H.crypto||(H.crypto={}),H.crypto.ECParameterDB=new function(){var b={},m={};function E(O){return new $(O,16)}this.getByName=function(O){var j=O;if(m[j]!==void 0&&(j=m[O]),b[j]!==void 0)return b[j];throw"unregistered EC curve name: "+j},this.regist=function(O,j,Q,se,we,pe,be,Ae,xe,Ue,qe,at){b[O]={};var mt=E(Q),St=E(se),ae=E(we),Se=E(pe),Ne=E(be),De=new B(mt,St,ae),dt=De.decodePointHex("04"+Ae+xe);b[O].name=O,b[O].keylen=j,b[O].curve=De,b[O].G=dt,b[O].n=Se,b[O].h=Ne,b[O].oid=qe,b[O].info=at;for(var At=0;At<Ue.length;At++)m[Ue[At]]=O}},H.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),H.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),H.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),H.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),H.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),H.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),H.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),H.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),H.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),H.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var Gt=function(){var b=function(be,Ae,xe){return m(K.AES,be,Ae,xe)},m=function(be,Ae,xe,Ue){var qe=K.enc.Hex.parse(Ae),at=K.enc.Hex.parse(xe),mt=K.enc.Hex.parse(Ue),St={};St.key=at,St.iv=mt,St.ciphertext=qe;var ae=be.decrypt(St,at,{iv:mt});return K.enc.Hex.stringify(ae)},E=function(be,Ae,xe){return O(K.AES,be,Ae,xe)},O=function(be,Ae,xe,Ue){var qe=K.enc.Hex.parse(Ae),at=K.enc.Hex.parse(xe),mt=K.enc.Hex.parse(Ue),St=be.encrypt(qe,at,{iv:mt}),ae=K.enc.Hex.parse(St.toString());return K.enc.Base64.stringify(ae)},j={"AES-256-CBC":{proc:b,eproc:E,keylen:32,ivlen:16},"AES-192-CBC":{proc:b,eproc:E,keylen:24,ivlen:16},"AES-128-CBC":{proc:b,eproc:E,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(be,Ae,xe){return m(K.TripleDES,be,Ae,xe)},eproc:function(be,Ae,xe){return O(K.TripleDES,be,Ae,xe)},keylen:24,ivlen:8},"DES-CBC":{proc:function(be,Ae,xe){return m(K.DES,be,Ae,xe)},eproc:function(be,Ae,xe){return O(K.DES,be,Ae,xe)},keylen:8,ivlen:8}},Q=function(be){var Ae={},xe=be.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));xe&&(Ae.cipher=xe[1],Ae.ivsalt=xe[2]);var Ue=be.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));Ue&&(Ae.type=Ue[1]);var qe=-1,at=0;be.indexOf(`\r
\r
`)!=-1&&(qe=be.indexOf(`\r
\r
`),at=2),be.indexOf(`

`)!=-1&&(qe=be.indexOf(`

`),at=1);var mt=be.indexOf("-----END");if(qe!=-1&&mt!=-1){var St=be.substring(qe+2*at,mt-at);St=St.replace(/\s+/g,""),Ae.data=St}return Ae},se=function(be,Ae,xe){for(var Ue=xe.substring(0,16),qe=K.enc.Hex.parse(Ue),at=K.enc.Utf8.parse(Ae),mt=j[be].keylen+j[be].ivlen,St="",ae=null;;){var Se=K.algo.MD5.create();if(ae!=null&&Se.update(ae),Se.update(at),Se.update(qe),ae=Se.finalize(),(St+=K.enc.Hex.stringify(ae)).length>=2*mt)break}var Ne={};return Ne.keyhex=St.substr(0,2*j[be].keylen),Ne.ivhex=St.substr(2*j[be].keylen,2*j[be].ivlen),Ne},we=function(be,Ae,xe,Ue){var qe=K.enc.Base64.parse(be),at=K.enc.Hex.stringify(qe);return(0,j[Ae].proc)(at,xe,Ue)};return{version:"1.0.0",parsePKCS5PEM:function(be){return Q(be)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(be,Ae,xe){return se(be,Ae,xe)},decryptKeyB64:function(be,Ae,xe,Ue){return we(be,Ae,xe,Ue)},getDecryptedKeyHex:function(be,Ae){var xe=Q(be),Ue=(xe.type,xe.cipher),qe=xe.ivsalt,at=xe.data,mt=se(Ue,Ae,qe).keyhex;return we(at,Ue,mt,qe)},getEncryptedPKCS5PEMFromPrvKeyHex:function(be,Ae,xe,Ue,qe){var at="";if(Ue!==void 0&&Ue!=null||(Ue="AES-256-CBC"),j[Ue]===void 0)throw new Error("KEYUTIL unsupported algorithm: "+Ue);qe!==void 0&&qe!=null||(qe=function(ae){var Se=K.lib.WordArray.random(ae);return K.enc.Hex.stringify(Se)}(j[Ue].ivlen).toUpperCase());var mt=function(ae,Se,Ne,De){return(0,j[Se].eproc)(ae,Ne,De)}(Ae,Ue,se(Ue,xe,qe).keyhex,qe);return at="-----BEGIN "+be+` PRIVATE KEY-----\r
`,at+=`Proc-Type: 4,ENCRYPTED\r
`,at+="DEK-Info: "+Ue+","+qe+`\r
`,at+=`\r
`,at+=mt.replace(/(.{64})/g,`$1\r
`),at+=`\r
-----END `+be+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(be){var Ae=Je,xe=Ae.getChildIdx,Ue=Ae.getV,qe={},at=xe(be,0);if(at.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+at.length);qe.ciphertext=Ue(be,at[1]);var mt=xe(be,at[0]);if(mt.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+mt.length);if(Ue(be,mt[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var St=xe(be,mt[1]);if(mt.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+St.length);var ae=xe(be,St[1]);if(ae.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+ae.length);if(Ue(be,ae[0])!="2a864886f70d0307")throw"this only supports TripleDES";qe.encryptionSchemeAlg="TripleDES",qe.encryptionSchemeIV=Ue(be,ae[1]);var Se=xe(be,St[0]);if(Se.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+Se.length);if(Ue(be,Se[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var Ne=xe(be,Se[1]);if(Ne.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Ne.length);qe.pbkdf2Salt=Ue(be,Ne[0]);var De=Ue(be,Ne[1]);try{qe.pbkdf2Iter=parseInt(De,16)}catch{throw new Error("malformed format pbkdf2Iter: "+De)}return qe},getPBKDF2KeyHexFromParam:function(be,Ae){var xe=K.enc.Hex.parse(be.pbkdf2Salt),Ue=be.pbkdf2Iter,qe=K.PBKDF2(Ae,xe,{keySize:6,iterations:Ue});return K.enc.Hex.stringify(qe)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(be,Ae){var xe=Tt(be,"ENCRYPTED PRIVATE KEY"),Ue=this.parseHexOfEncryptedPKCS8(xe),qe=Gt.getPBKDF2KeyHexFromParam(Ue,Ae),at={};at.ciphertext=K.enc.Hex.parse(Ue.ciphertext);var mt=K.enc.Hex.parse(qe),St=K.enc.Hex.parse(Ue.encryptionSchemeIV),ae=K.TripleDES.decrypt(at,mt,{iv:St});return K.enc.Hex.stringify(ae)},getKeyFromEncryptedPKCS8PEM:function(be,Ae){var xe=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(be,Ae);return this.getKeyFromPlainPrivatePKCS8Hex(xe)},parsePlainPrivatePKCS8Hex:function(be){var Ae=Je,xe=Ae.getChildIdx,Ue=Ae.getV,qe={algparam:null};if(be.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var at=xe(be,0);if(at.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(be.substr(at[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var mt=xe(be,at[1]);if(mt.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(be.substr(mt[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(qe.algoid=Ue(be,mt[0]),be.substr(mt[1],2)=="06"&&(qe.algparam=Ue(be,mt[1])),be.substr(at[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return qe.keyidx=Ae.getVidx(be,at[2]),qe},getKeyFromPlainPrivatePKCS8PEM:function(be){var Ae=Tt(be,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Ae)},getKeyFromPlainPrivatePKCS8Hex:function(be){var Ae,xe=this.parsePlainPrivatePKCS8Hex(be);if(xe.algoid=="2a864886f70d010101")Ae=new Pe;else if(xe.algoid=="2a8648ce380401")Ae=new H.crypto.DSA;else{if(xe.algoid!="2a8648ce3d0201")throw new Error("unsupported private key algorithm");Ae=new H.crypto.ECDSA}return Ae.readPKCS8PrvKeyHex(be),Ae},_getKeyFromPublicPKCS8Hex:function(be){var Ae,xe=Je.getVbyList(be,0,[0,0],"06");if(xe==="2a864886f70d010101")Ae=new Pe;else if(xe==="2a8648ce380401")Ae=new H.crypto.DSA;else{if(xe!=="2a8648ce3d0201")throw new Error("unsupported PKCS#8 public key hex");Ae=new H.crypto.ECDSA}return Ae.readPKCS8PubKeyHex(be),Ae},parsePublicRawRSAKeyHex:function(be){var Ae=Je,xe=Ae.getChildIdx,Ue=Ae.getV,qe={};if(be.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var at=xe(be,0);if(at.length!=2)throw new Error("malformed RSA key(code:002)");if(be.substr(at[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(qe.n=Ue(be,at[0]),be.substr(at[1],2)!="02")throw new Error("malformed RSA key(code:004)");return qe.e=Ue(be,at[1]),qe},parsePublicPKCS8Hex:function(be){var Ae=Je,xe=Ae.getChildIdx,Ue=Ae.getV,qe={algparam:null},at=xe(be,0);if(at.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+at.length);var mt=at[0];if(be.substr(mt,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var St=xe(be,mt);if(St.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(be.substr(St[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(qe.algoid=Ue(be,St[0]),be.substr(St[1],2)=="06"?qe.algparam=Ue(be,St[1]):be.substr(St[1],2)=="30"&&(qe.algparam={},qe.algparam.p=Ae.getVbyList(be,St[1],[0],"02"),qe.algparam.q=Ae.getVbyList(be,St[1],[1],"02"),qe.algparam.g=Ae.getVbyList(be,St[1],[2],"02")),be.substr(at[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return qe.key=Ue(be,at[1]).substr(2),qe}}}();Gt.getKey=function(b,m,E){var O=(St=Je).getChildIdx,j=(St.getV,St.getVbyList),Q=H.crypto,se=Q.ECDSA,we=Q.DSA,pe=Pe,be=Tt,Ae=Gt;if(pe!==void 0&&b instanceof pe||se!==void 0&&b instanceof se||we!==void 0&&b instanceof we)return b;if(b.curve!==void 0&&b.xy!==void 0&&b.d===void 0)return new se({pub:b.xy,curve:b.curve});if(b.curve!==void 0&&b.d!==void 0)return new se({prv:b.d,curve:b.curve});if(b.kty===void 0&&b.n!==void 0&&b.e!==void 0&&b.d===void 0)return(gn=new pe).setPublic(b.n,b.e),gn;if(b.kty===void 0&&b.n!==void 0&&b.e!==void 0&&b.d!==void 0&&b.p!==void 0&&b.q!==void 0&&b.dp!==void 0&&b.dq!==void 0&&b.co!==void 0&&b.qi===void 0)return(gn=new pe).setPrivateEx(b.n,b.e,b.d,b.p,b.q,b.dp,b.dq,b.co),gn;if(b.kty===void 0&&b.n!==void 0&&b.e!==void 0&&b.d!==void 0&&b.p===void 0)return(gn=new pe).setPrivate(b.n,b.e,b.d),gn;if(b.p!==void 0&&b.q!==void 0&&b.g!==void 0&&b.y!==void 0&&b.x===void 0)return(gn=new we).setPublic(b.p,b.q,b.g,b.y),gn;if(b.p!==void 0&&b.q!==void 0&&b.g!==void 0&&b.y!==void 0&&b.x!==void 0)return(gn=new we).setPrivate(b.p,b.q,b.g,b.y,b.x),gn;if(b.kty==="RSA"&&b.n!==void 0&&b.e!==void 0&&b.d===void 0)return(gn=new pe).setPublic(Me(b.n),Me(b.e)),gn;if(b.kty==="RSA"&&b.n!==void 0&&b.e!==void 0&&b.d!==void 0&&b.p!==void 0&&b.q!==void 0&&b.dp!==void 0&&b.dq!==void 0&&b.qi!==void 0)return(gn=new pe).setPrivateEx(Me(b.n),Me(b.e),Me(b.d),Me(b.p),Me(b.q),Me(b.dp),Me(b.dq),Me(b.qi)),gn;if(b.kty==="RSA"&&b.n!==void 0&&b.e!==void 0&&b.d!==void 0)return(gn=new pe).setPrivate(Me(b.n),Me(b.e),Me(b.d)),gn;if(b.kty==="EC"&&b.crv!==void 0&&b.x!==void 0&&b.y!==void 0&&b.d===void 0){var xe=(un=new se({curve:b.crv})).ecparams.keylen/4,Ue="04"+("0000000000"+Me(b.x)).slice(-xe)+("0000000000"+Me(b.y)).slice(-xe);return un.setPublicKeyHex(Ue),un}if(b.kty==="EC"&&b.crv!==void 0&&b.x!==void 0&&b.y!==void 0&&b.d!==void 0){xe=(un=new se({curve:b.crv})).ecparams.keylen/4,Ue="04"+("0000000000"+Me(b.x)).slice(-xe)+("0000000000"+Me(b.y)).slice(-xe);var qe=("0000000000"+Me(b.d)).slice(-xe);return un.setPublicKeyHex(Ue),un.setPrivateKeyHex(qe),un}if(E==="pkcs5prv"){var at,mt=b,St=Je;if((at=O(mt,0)).length===9)(gn=new pe).readPKCS5PrvKeyHex(mt);else if(at.length===6)(gn=new we).readPKCS5PrvKeyHex(mt);else{if(!(at.length>2&&mt.substr(at[1],2)==="04"))throw new Error("unsupported PKCS#1/5 hexadecimal key");(gn=new se).readPKCS5PrvKeyHex(mt)}return gn}if(E==="pkcs8prv")return gn=Ae.getKeyFromPlainPrivatePKCS8Hex(b);if(E==="pkcs8pub")return Ae._getKeyFromPublicPKCS8Hex(b);if(E==="x509pub")return Ln.getPublicKeyFromCertHex(b);if(b.indexOf("-END CERTIFICATE-",0)!=-1||b.indexOf("-END X509 CERTIFICATE-",0)!=-1||b.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Ln.getPublicKeyFromCertPEM(b);if(b.indexOf("-END PUBLIC KEY-")!=-1){var ae=Tt(b,"PUBLIC KEY");return Ae._getKeyFromPublicPKCS8Hex(ae)}if(b.indexOf("-END RSA PRIVATE KEY-")!=-1&&b.indexOf("4,ENCRYPTED")==-1){var Se=be(b,"RSA PRIVATE KEY");return Ae.getKey(Se,null,"pkcs5prv")}if(b.indexOf("-END DSA PRIVATE KEY-")!=-1&&b.indexOf("4,ENCRYPTED")==-1){var Ne=j(rr=be(b,"DSA PRIVATE KEY"),0,[1],"02"),De=j(rr,0,[2],"02"),dt=j(rr,0,[3],"02"),At=j(rr,0,[4],"02"),dn=j(rr,0,[5],"02");return(gn=new we).setPrivate(new $(Ne,16),new $(De,16),new $(dt,16),new $(At,16),new $(dn,16)),gn}if(b.indexOf("-END EC PRIVATE KEY-")!=-1&&b.indexOf("4,ENCRYPTED")==-1)return Se=be(b,"EC PRIVATE KEY"),Ae.getKey(Se,null,"pkcs5prv");if(b.indexOf("-END PRIVATE KEY-")!=-1)return Ae.getKeyFromPlainPrivatePKCS8PEM(b);if(b.indexOf("-END RSA PRIVATE KEY-")!=-1&&b.indexOf("4,ENCRYPTED")!=-1){var jt=Ae.getDecryptedKeyHex(b,m),zn=new Pe;return zn.readPKCS5PrvKeyHex(jt),zn}if(b.indexOf("-END EC PRIVATE KEY-")!=-1&&b.indexOf("4,ENCRYPTED")!=-1){var un,gn=j(rr=Ae.getDecryptedKeyHex(b,m),0,[1],"04"),nr=j(rr,0,[2,0],"06"),hn=j(rr,0,[3,0],"03").substr(2);if(H.crypto.OID.oidhex2name[nr]===void 0)throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+nr);return(un=new se({curve:H.crypto.OID.oidhex2name[nr]})).setPublicKeyHex(hn),un.setPrivateKeyHex(gn),un.isPublic=!1,un}if(b.indexOf("-END DSA PRIVATE KEY-")!=-1&&b.indexOf("4,ENCRYPTED")!=-1){var rr;return Ne=j(rr=Ae.getDecryptedKeyHex(b,m),0,[1],"02"),De=j(rr,0,[2],"02"),dt=j(rr,0,[3],"02"),At=j(rr,0,[4],"02"),dn=j(rr,0,[5],"02"),(gn=new we).setPrivate(new $(Ne,16),new $(De,16),new $(dt,16),new $(At,16),new $(dn,16)),gn}if(b.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return Ae.getKeyFromEncryptedPKCS8PEM(b,m);throw new Error("not supported argument")},Gt.generateKeypair=function(b,m){if(b=="RSA"){var E=m;(se=new Pe).generate(E,"10001"),se.isPrivate=!0,se.isPublic=!0;var O=new Pe,j=se.n.toString(16),Q=se.e.toString(16);return O.setPublic(j,Q),O.isPrivate=!1,O.isPublic=!0,(we={}).prvKeyObj=se,we.pubKeyObj=O,we}if(b=="EC"){var se,we,pe=m,be=new H.crypto.ECDSA({curve:pe}).generateKeyPairHex();return(se=new H.crypto.ECDSA({curve:pe})).setPublicKeyHex(be.ecpubhex),se.setPrivateKeyHex(be.ecprvhex),se.isPrivate=!0,se.isPublic=!1,(O=new H.crypto.ECDSA({curve:pe})).setPublicKeyHex(be.ecpubhex),O.isPrivate=!1,O.isPublic=!0,(we={}).prvKeyObj=se,we.pubKeyObj=O,we}throw new Error("unknown algorithm: "+b)},Gt.getPEM=function(b,m,E,O,j,Q){var se=H,we=se.asn1,pe=we.DERObjectIdentifier,be=we.DERInteger,Ae=we.ASN1Util.newObject,xe=we.x509.SubjectPublicKeyInfo,Ue=se.crypto,qe=Ue.DSA,at=Ue.ECDSA,mt=Pe;function St(un){return Ae({seq:[{int:0},{int:{bigint:un.n}},{int:un.e},{int:{bigint:un.d}},{int:{bigint:un.p}},{int:{bigint:un.q}},{int:{bigint:un.dmp1}},{int:{bigint:un.dmq1}},{int:{bigint:un.coeff}}]})}function ae(un){return Ae({seq:[{int:1},{octstr:{hex:un.prvKeyHex}},{tag:["a0",!0,{oid:{name:un.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+un.pubKeyHex}}]}]})}function Se(un){return Ae({seq:[{int:0},{int:{bigint:un.p}},{int:{bigint:un.q}},{int:{bigint:un.g}},{int:{bigint:un.y}},{int:{bigint:un.x}}]})}if((mt!==void 0&&b instanceof mt||qe!==void 0&&b instanceof qe||at!==void 0&&b instanceof at)&&b.isPublic==1&&(m===void 0||m=="PKCS8PUB"))return Ct(At=new xe(b).getEncodedHex(),"PUBLIC KEY");if(m=="PKCS1PRV"&&mt!==void 0&&b instanceof mt&&(E===void 0||E==null)&&b.isPrivate==1)return Ct(At=St(b).getEncodedHex(),"RSA PRIVATE KEY");if(m=="PKCS1PRV"&&at!==void 0&&b instanceof at&&(E===void 0||E==null)&&b.isPrivate==1){var Ne=new pe({name:b.curveName}).getEncodedHex(),De=ae(b).getEncodedHex(),dt="";return dt+=Ct(Ne,"EC PARAMETERS"),dt+=Ct(De,"EC PRIVATE KEY")}if(m=="PKCS1PRV"&&qe!==void 0&&b instanceof qe&&(E===void 0||E==null)&&b.isPrivate==1)return Ct(At=Se(b).getEncodedHex(),"DSA PRIVATE KEY");if(m=="PKCS5PRV"&&mt!==void 0&&b instanceof mt&&E!==void 0&&E!=null&&b.isPrivate==1){var At=St(b).getEncodedHex();return O===void 0&&(O="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",At,E,O,Q)}if(m=="PKCS5PRV"&&at!==void 0&&b instanceof at&&E!==void 0&&E!=null&&b.isPrivate==1)return At=ae(b).getEncodedHex(),O===void 0&&(O="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",At,E,O,Q);if(m=="PKCS5PRV"&&qe!==void 0&&b instanceof qe&&E!==void 0&&E!=null&&b.isPrivate==1)return At=Se(b).getEncodedHex(),O===void 0&&(O="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",At,E,O,Q);var dn=function(gn,nr){var hn=jt(gn,nr);return new Ae({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:hn.pbkdf2Salt}},{int:hn.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:hn.encryptionSchemeIV}}]}]}]},{octstr:{hex:hn.ciphertext}}]}).getEncodedHex()},jt=function(gn,nr){var hn=K.lib.WordArray.random(8),rr=K.lib.WordArray.random(8),er=K.PBKDF2(nr,hn,{keySize:6,iterations:100}),Ir=K.enc.Hex.parse(gn),Qn=K.TripleDES.encrypt(Ir,er,{iv:rr})+"",tr={};return tr.ciphertext=Qn,tr.pbkdf2Salt=K.enc.Hex.stringify(hn),tr.pbkdf2Iter=100,tr.encryptionSchemeAlg="DES-EDE3-CBC",tr.encryptionSchemeIV=K.enc.Hex.stringify(rr),tr};if(m=="PKCS8PRV"&&mt!=null&&b instanceof mt&&b.isPrivate==1){var zn=St(b).getEncodedHex();return At=Ae({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:zn}}]}).getEncodedHex(),E===void 0||E==null?Ct(At,"PRIVATE KEY"):Ct(De=dn(At,E),"ENCRYPTED PRIVATE KEY")}if(m=="PKCS8PRV"&&at!==void 0&&b instanceof at&&b.isPrivate==1)return zn=new Ae({seq:[{int:1},{octstr:{hex:b.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+b.pubKeyHex}}]}]}).getEncodedHex(),At=Ae({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:b.curveName}}]},{octstr:{hex:zn}}]}).getEncodedHex(),E===void 0||E==null?Ct(At,"PRIVATE KEY"):Ct(De=dn(At,E),"ENCRYPTED PRIVATE KEY");if(m=="PKCS8PRV"&&qe!==void 0&&b instanceof qe&&b.isPrivate==1)return zn=new be({bigint:b.x}).getEncodedHex(),At=Ae({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:b.p}},{int:{bigint:b.q}},{int:{bigint:b.g}}]}]},{octstr:{hex:zn}}]}).getEncodedHex(),E===void 0||E==null?Ct(At,"PRIVATE KEY"):Ct(De=dn(At,E),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},Gt.getKeyFromCSRPEM=function(b){var m=Tt(b,"CERTIFICATE REQUEST");return Gt.getKeyFromCSRHex(m)},Gt.getKeyFromCSRHex=function(b){var m=Gt.parseCSRHex(b);return Gt.getKey(m.p8pubkeyhex,null,"pkcs8pub")},Gt.parseCSRHex=function(b){var m=Je,E=m.getChildIdx,O=m.getTLV,j={},Q=b;if(Q.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var se=E(Q,0);if(se.length<1)throw new Error("malformed CSR(code:002)");if(Q.substr(se[0],2)!="30")throw new Error("malformed CSR(code:003)");var we=E(Q,se[0]);if(we.length<3)throw new Error("malformed CSR(code:004)");return j.p8pubkeyhex=O(Q,we[2]),j},Gt.getKeyID=function(b){var m=Gt,E=Je;typeof b=="string"&&b.indexOf("BEGIN ")!=-1&&(b=m.getKey(b));var O=Tt(m.getPEM(b)),j=E.getIdxbyList(O,0,[1]),Q=E.getV(O,j).substring(2);return H.crypto.Util.hashHex(Q,"sha1")},Gt.getJWKFromKey=function(b){var m={};if(b instanceof Pe&&b.isPrivate)return m.kty="RSA",m.n=ut(b.n.toString(16)),m.e=ut(b.e.toString(16)),m.d=ut(b.d.toString(16)),m.p=ut(b.p.toString(16)),m.q=ut(b.q.toString(16)),m.dp=ut(b.dmp1.toString(16)),m.dq=ut(b.dmq1.toString(16)),m.qi=ut(b.coeff.toString(16)),m;if(b instanceof Pe&&b.isPublic)return m.kty="RSA",m.n=ut(b.n.toString(16)),m.e=ut(b.e.toString(16)),m;if(b instanceof H.crypto.ECDSA&&b.isPrivate){if((O=b.getShortNISTPCurveName())!=="P-256"&&O!=="P-384")throw new Error("unsupported curve name for JWT: "+O);var E=b.getPublicKeyXYHex();return m.kty="EC",m.crv=O,m.x=ut(E.x),m.y=ut(E.y),m.d=ut(b.prvKeyHex),m}if(b instanceof H.crypto.ECDSA&&b.isPublic){var O;if((O=b.getShortNISTPCurveName())!=="P-256"&&O!=="P-384")throw new Error("unsupported curve name for JWT: "+O);return E=b.getPublicKeyXYHex(),m.kty="EC",m.crv=O,m.x=ut(E.x),m.y=ut(E.y),m}throw new Error("not supported key object")},Pe.getPosArrayOfChildrenFromHex=function(b){return Je.getChildIdx(b,0)},Pe.getHexValueArrayOfChildrenFromHex=function(b){var m,E=Je.getV,O=E(b,(m=Pe.getPosArrayOfChildrenFromHex(b))[0]),j=E(b,m[1]),Q=E(b,m[2]),se=E(b,m[3]),we=E(b,m[4]),pe=E(b,m[5]),be=E(b,m[6]),Ae=E(b,m[7]),xe=E(b,m[8]);return(m=new Array).push(O,j,Q,se,we,pe,be,Ae,xe),m},Pe.prototype.readPrivateKeyFromPEMString=function(b){var m=Tt(b),E=Pe.getHexValueArrayOfChildrenFromHex(m);this.setPrivateEx(E[1],E[2],E[3],E[4],E[5],E[6],E[7],E[8])},Pe.prototype.readPKCS5PrvKeyHex=function(b){var m=Pe.getHexValueArrayOfChildrenFromHex(b);this.setPrivateEx(m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8])},Pe.prototype.readPKCS8PrvKeyHex=function(b){var m,E,O,j,Q,se,we,pe,be=Je,Ae=be.getVbyListEx;if(be.isASN1HEX(b)===!1)throw new Error("not ASN.1 hex string");try{m=Ae(b,0,[2,0,1],"02"),E=Ae(b,0,[2,0,2],"02"),O=Ae(b,0,[2,0,3],"02"),j=Ae(b,0,[2,0,4],"02"),Q=Ae(b,0,[2,0,5],"02"),se=Ae(b,0,[2,0,6],"02"),we=Ae(b,0,[2,0,7],"02"),pe=Ae(b,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(m,E,O,j,Q,se,we,pe)},Pe.prototype.readPKCS5PubKeyHex=function(b){var m=Je,E=m.getV;if(m.isASN1HEX(b)===!1)throw new Error("keyHex is not ASN.1 hex string");var O=m.getChildIdx(b,0);if(O.length!==2||b.substr(O[0],2)!=="02"||b.substr(O[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var j=E(b,O[0]),Q=E(b,O[1]);this.setPublic(j,Q)},Pe.prototype.readPKCS8PubKeyHex=function(b){var m=Je;if(m.isASN1HEX(b)===!1)throw new Error("not ASN.1 hex string");if(m.getTLVbyListEx(b,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var E=m.getTLVbyListEx(b,0,[1,0]);this.readPKCS5PubKeyHex(E)},Pe.prototype.readCertPubKeyHex=function(b,m){var E,O;(E=new Ln).readCertHex(b),O=E.getPublicKeyHex(),this.readPKCS8PubKeyHex(O)};function Xn(b,m){for(var E="",O=m/4-b.length,j=0;j<O;j++)E+="0";return E+b}function Or(b,m,E){for(var O="",j=0;O.length<m;)O+=zt(E(tn(b+String.fromCharCode.apply(String,[(4278190080&j)>>24,(16711680&j)>>16,(65280&j)>>8,255&j])))),j+=1;return O}function fr(b){for(var m in H.crypto.Util.DIGESTINFOHEAD){var E=H.crypto.Util.DIGESTINFOHEAD[m],O=E.length;if(b.substring(0,O)==E)return[m,b.substring(O)]}return[]}function Ln(b){var m,E=Je,O=E.getChildIdx,j=E.getV,Q=E.getTLV,se=E.getVbyList,we=E.getVbyListEx,pe=E.getTLVbyList,be=E.getTLVbyListEx,Ae=E.getIdxbyList,xe=E.getIdxbyListEx,Ue=E.getVidx,qe=E.getInt,at=E.oidname,mt=E.hextooidstr,St=Tt;try{m=H.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var ae=pe(this.hex,0,[0,0]);if(ae.substr(0,2)=="a0"){var Se=pe(ae,0,[0]),Ne=qe(Se,0);if(Ne<0||2<Ne)throw new Error("malformed version field");return this.version=Ne+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return we(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var ae=be(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(ae)},this.getAlgorithmIdentifierName=function(ae){for(var Se in m)if(ae===m[Se])return Se;return at(we(ae,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return pe(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return pe(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var ae=se(this.hex,0,[0,4+this.foffset,0]);return ae=ae.replace(/(..)/g,"%$1"),ae=decodeURIComponent(ae)},this.getNotAfter=function(){var ae=se(this.hex,0,[0,4+this.foffset,1]);return ae=ae.replace(/(..)/g,"%$1"),ae=decodeURIComponent(ae)},this.getPublicKeyHex=function(){return E.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Ae(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var ae=this.getPublicKeyIdx();return Ae(this.hex,ae,[1,0],"30")},this.getPublicKey=function(){return Gt.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var ae=pe(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(ae)},this.getSignatureValueHex=function(){return se(this.hex,0,[2],"03",!0)},this.verifySignature=function(ae){var Se=this.getSignatureAlgorithmField(),Ne=this.getSignatureValueHex(),De=pe(this.hex,0,[0],"30"),dt=new H.crypto.Signature({alg:Se});return dt.init(ae),dt.updateHex(De),dt.verify(Ne)},this.parseExt=function(ae){var Se,Ne,De;if(ae===void 0){if(De=this.hex,this.version!==3)return-1;Se=Ae(De,0,[0,7,0],"30"),Ne=O(De,Se)}else{De=Tt(ae);var dt=Ae(De,0,[0,3,0,0],"06");if(j(De,dt)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);Se=Ae(De,0,[0,3,0,1,0],"30"),Ne=O(De,Se),this.hex=De}this.aExtInfo=new Array;for(var At=0;At<Ne.length;At++){var dn={critical:!1},jt=0;O(De,Ne[At]).length===3&&(dn.critical=!0,jt=1),dn.oid=E.hextooidstr(se(De,Ne[At],[0],"06"));var zn=Ae(De,Ne[At],[1+jt]);dn.vidx=Ue(De,zn),this.aExtInfo.push(dn)}},this.getExtInfo=function(ae){var Se=this.aExtInfo,Ne=ae;if(ae.match(/^[0-9.]+$/)||(Ne=H.asn1.x509.OID.name2oid(ae)),Ne!==""){for(var De=0;De<Se.length;De++)if(Se[De].oid===Ne)return Se[De]}},this.getExtBasicConstraints=function(ae,Se){if(ae===void 0&&Se===void 0){var Ne=this.getExtInfo("basicConstraints");if(Ne===void 0)return;ae=Q(this.hex,Ne.vidx),Se=Ne.critical}var De={extname:"basicConstraints"};if(Se&&(De.critical=!0),ae==="3000")return De;if(ae==="30030101ff")return De.cA=!0,De;if(ae.substr(0,12)==="30060101ff02"){var dt=j(ae,10),At=parseInt(dt,16);return De.cA=!0,De.pathLen=At,De}throw new Error("hExtV parse error: "+ae)},this.getExtKeyUsage=function(ae,Se){if(ae===void 0&&Se===void 0){var Ne=this.getExtInfo("keyUsage");if(Ne===void 0)return;ae=Q(this.hex,Ne.vidx),Se=Ne.critical}var De={extname:"keyUsage"};return Se&&(De.critical=!0),De.names=this.getExtKeyUsageString(ae).split(","),De},this.getExtKeyUsageBin=function(ae){if(ae===void 0){var Se=this.getExtInfo("keyUsage");if(Se===void 0)return"";ae=Q(this.hex,Se.vidx)}if(ae.length!=8&&ae.length!=10)throw new Error("malformed key usage value: "+ae);var Ne="000000000000000"+parseInt(ae.substr(6),16).toString(2);return ae.length==8&&(Ne=Ne.slice(-8)),ae.length==10&&(Ne=Ne.slice(-16)),(Ne=Ne.replace(/0+$/,""))==""&&(Ne="0"),Ne},this.getExtKeyUsageString=function(ae){for(var Se=this.getExtKeyUsageBin(ae),Ne=new Array,De=0;De<Se.length;De++)Se.substr(De,1)=="1"&&Ne.push(Ln.KEYUSAGE_NAME[De]);return Ne.join(",")},this.getExtSubjectKeyIdentifier=function(ae,Se){if(ae===void 0&&Se===void 0){var Ne=this.getExtInfo("subjectKeyIdentifier");if(Ne===void 0)return;ae=Q(this.hex,Ne.vidx),Se=Ne.critical}var De={extname:"subjectKeyIdentifier"};Se&&(De.critical=!0);var dt=j(ae,0);return De.kid={hex:dt},De},this.getExtAuthorityKeyIdentifier=function(ae,Se){if(ae===void 0&&Se===void 0){var Ne=this.getExtInfo("authorityKeyIdentifier");if(Ne===void 0)return;ae=Q(this.hex,Ne.vidx),Se=Ne.critical}var De={extname:"authorityKeyIdentifier"};Se&&(De.critical=!0);for(var dt=O(ae,0),At=0;At<dt.length;At++){var dn=ae.substr(dt[At],2);if(dn==="80"&&(De.kid={hex:j(ae,dt[At])}),dn==="a1"){var jt=Q(ae,dt[At]),zn=this.getGeneralNames(jt);De.issuer=zn[0].dn}dn==="82"&&(De.sn={hex:j(ae,dt[At])})}return De},this.getExtExtKeyUsage=function(ae,Se){if(ae===void 0&&Se===void 0){var Ne=this.getExtInfo("extKeyUsage");if(Ne===void 0)return;ae=Q(this.hex,Ne.vidx),Se=Ne.critical}var De={extname:"extKeyUsage",array:[]};Se&&(De.critical=!0);for(var dt=O(ae,0),At=0;At<dt.length;At++)De.array.push(at(j(ae,dt[At])));return De},this.getExtExtKeyUsageName=function(){var ae=this.getExtInfo("extKeyUsage");if(ae===void 0)return ae;var Se=new Array,Ne=Q(this.hex,ae.vidx);if(Ne==="")return Se;for(var De=O(Ne,0),dt=0;dt<De.length;dt++)Se.push(at(j(Ne,De[dt])));return Se},this.getExtSubjectAltName=function(ae,Se){if(ae===void 0&&Se===void 0){var Ne=this.getExtInfo("subjectAltName");if(Ne===void 0)return;ae=Q(this.hex,Ne.vidx),Se=Ne.critical}var De={extname:"subjectAltName",array:[]};return Se&&(De.critical=!0),De.array=this.getGeneralNames(ae),De},this.getExtIssuerAltName=function(ae,Se){if(ae===void 0&&Se===void 0){var Ne=this.getExtInfo("issuerAltName");if(Ne===void 0)return;ae=Q(this.hex,Ne.vidx),Se=Ne.critical}var De={extname:"issuerAltName",array:[]};return Se&&(De.critical=!0),De.array=this.getGeneralNames(ae),De},this.getGeneralNames=function(ae){for(var Se=O(ae,0),Ne=[],De=0;De<Se.length;De++){var dt=this.getGeneralName(Q(ae,Se[De]));dt!==void 0&&Ne.push(dt)}return Ne},this.getGeneralName=function(ae){var Se=ae.substr(0,2),Ne=j(ae,0),De=zt(Ne);return Se=="81"?{rfc822:De}:Se=="82"?{dns:De}:Se=="86"?{uri:De}:Se=="87"?{ip:vn(Ne)}:Se=="a4"?{dn:this.getX500Name(Ne)}:void 0},this.getExtSubjectAltName2=function(){var ae,Se,Ne,De=this.getExtInfo("subjectAltName");if(De===void 0)return De;for(var dt=new Array,At=Q(this.hex,De.vidx),dn=O(At,0),jt=0;jt<dn.length;jt++)Ne=At.substr(dn[jt],2),ae=j(At,dn[jt]),Ne==="81"&&(Se=Qt(ae),dt.push(["MAIL",Se])),Ne==="82"&&(Se=Qt(ae),dt.push(["DNS",Se])),Ne==="84"&&(Se=Ln.hex2dn(ae,0),dt.push(["DN",Se])),Ne==="86"&&(Se=Qt(ae),dt.push(["URI",Se])),Ne==="87"&&(Se=vn(ae),dt.push(["IP",Se]));return dt},this.getExtCRLDistributionPoints=function(ae,Se){if(ae===void 0&&Se===void 0){var Ne=this.getExtInfo("cRLDistributionPoints");if(Ne===void 0)return;ae=Q(this.hex,Ne.vidx),Se=Ne.critical}var De={extname:"cRLDistributionPoints",array:[]};Se&&(De.critical=!0);for(var dt=O(ae,0),At=0;At<dt.length;At++){var dn=Q(ae,dt[At]);De.array.push(this.getDistributionPoint(dn))}return De},this.getDistributionPoint=function(ae){for(var Se={},Ne=O(ae,0),De=0;De<Ne.length;De++){var dt=ae.substr(Ne[De],2),At=Q(ae,Ne[De]);dt=="a0"&&(Se.dpname=this.getDistributionPointName(At))}return Se},this.getDistributionPointName=function(ae){for(var Se={},Ne=O(ae,0),De=0;De<Ne.length;De++){var dt=ae.substr(Ne[De],2),At=Q(ae,Ne[De]);dt=="a0"&&(Se.full=this.getGeneralNames(At))}return Se},this.getExtCRLDistributionPointsURI=function(){var ae=this.getExtInfo("cRLDistributionPoints");if(ae===void 0)return ae;for(var Se=new Array,Ne=O(this.hex,ae.vidx),De=0;De<Ne.length;De++)try{var dt=Qt(se(this.hex,Ne[De],[0,0,0],"86"));Se.push(dt)}catch{}return Se},this.getExtAIAInfo=function(){var ae=this.getExtInfo("authorityInfoAccess");if(ae===void 0)return ae;for(var Se={ocsp:[],caissuer:[]},Ne=O(this.hex,ae.vidx),De=0;De<Ne.length;De++){var dt=se(this.hex,Ne[De],[0],"06"),At=se(this.hex,Ne[De],[1],"86");dt==="2b06010505073001"&&Se.ocsp.push(Qt(At)),dt==="2b06010505073002"&&Se.caissuer.push(Qt(At))}return Se},this.getExtAuthorityInfoAccess=function(ae,Se){if(ae===void 0&&Se===void 0){var Ne=this.getExtInfo("authorityInfoAccess");if(Ne===void 0)return;ae=Q(this.hex,Ne.vidx),Se=Ne.critical}var De={extname:"authorityInfoAccess",array:[]};Se&&(De.critical=!0);for(var dt=O(ae,0),At=0;At<dt.length;At++){var dn=we(ae,dt[At],[0],"06"),jt=Qt(se(ae,dt[At],[1],"86"));if(dn=="2b06010505073001")De.array.push({ocsp:jt});else{if(dn!="2b06010505073002")throw new Error("unknown method: "+dn);De.array.push({caissuer:jt})}}return De},this.getExtCertificatePolicies=function(ae,Se){if(ae===void 0&&Se===void 0){var Ne=this.getExtInfo("certificatePolicies");if(Ne===void 0)return;ae=Q(this.hex,Ne.vidx),Se=Ne.critical}var De={extname:"certificatePolicies",array:[]};Se&&(De.critical=!0);for(var dt=O(ae,0),At=0;At<dt.length;At++){var dn=Q(ae,dt[At]),jt=this.getPolicyInformation(dn);De.array.push(jt)}return De},this.getPolicyInformation=function(ae){var Se={},Ne=se(ae,0,[0],"06");Se.policyoid=at(Ne);var De=xe(ae,0,[1],"30");if(De!=-1){Se.array=[];for(var dt=O(ae,De),At=0;At<dt.length;At++){var dn=Q(ae,dt[At]),jt=this.getPolicyQualifierInfo(dn);Se.array.push(jt)}}return Se},this.getPolicyQualifierInfo=function(ae){var Se={},Ne=se(ae,0,[0],"06");if(Ne==="2b06010505070201"){var De=we(ae,0,[1],"16");Se.cps=zt(De)}else if(Ne==="2b06010505070202"){var dt=pe(ae,0,[1],"30");Se.unotice=this.getUserNotice(dt)}return Se},this.getUserNotice=function(ae){for(var Se={},Ne=O(ae,0),De=0;De<Ne.length;De++){var dt=Q(ae,Ne[De]);dt.substr(0,2)!="30"&&(Se.exptext=this.getDisplayText(dt))}return Se},this.getDisplayText=function(ae){var Se={};return Se.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[ae.substr(0,2)],Se.str=zt(j(ae,0)),Se},this.getExtCRLNumber=function(ae,Se){var Ne={extname:"cRLNumber"};if(Se&&(Ne.critical=!0),ae.substr(0,2)=="02")return Ne.num={hex:j(ae,0)},Ne;throw new Error("hExtV parse error: "+ae)},this.getExtCRLReason=function(ae,Se){var Ne={extname:"cRLReason"};if(Se&&(Ne.critical=!0),ae.substr(0,2)=="0a")return Ne.code=parseInt(j(ae,0),16),Ne;throw new Error("hExtV parse error: "+ae)},this.getExtOcspNonce=function(ae,Se){var Ne={extname:"ocspNonce"};Se&&(Ne.critical=!0);var De=j(ae,0);return Ne.hex=De,Ne},this.getExtOcspNoCheck=function(ae,Se){var Ne={extname:"ocspNoCheck"};return Se&&(Ne.critical=!0),Ne},this.getExtAdobeTimeStamp=function(ae,Se){if(ae===void 0&&Se===void 0){var Ne=this.getExtInfo("adobeTimeStamp");if(Ne===void 0)return;ae=Q(this.hex,Ne.vidx),Se=Ne.critical}var De={extname:"adobeTimeStamp"};Se&&(De.critical=!0);var dt=O(ae,0);if(dt.length>1){var At=Q(ae,dt[1]),dn=this.getGeneralName(At);dn.uri!=null&&(De.uri=dn.uri)}if(dt.length>2){var jt=Q(ae,dt[2]);jt=="0101ff"&&(De.reqauth=!0),jt=="010100"&&(De.reqauth=!1)}return De},this.getX500NameRule=function(ae){for(var Se=null,Ne=[],De=0;De<ae.length;De++)for(var dt=ae[De],At=0;At<dt.length;At++)Ne.push(dt[At]);for(De=0;De<Ne.length;De++){var dn=Ne[De],jt=dn.ds,zn=dn.value,un=dn.type;if(jt!="prn"&&jt!="utf8"&&jt!="ia5")return"mixed";if(jt=="ia5"){if(un!="CN")return"mixed";if(H.lang.String.isMail(zn))continue;return"mixed"}if(un=="C"){if(jt=="prn")continue;return"mixed"}if(Se==null)Se=jt;else if(Se!==jt)return"mixed"}return Se??"prn"},this.getX500Name=function(ae){var Se=this.getX500NameArray(ae);return{array:Se,str:this.dnarraytostr(Se)}},this.getX500NameArray=function(ae){for(var Se=[],Ne=O(ae,0),De=0;De<Ne.length;De++)Se.push(this.getRDN(Q(ae,Ne[De])));return Se},this.getRDN=function(ae){for(var Se=[],Ne=O(ae,0),De=0;De<Ne.length;De++)Se.push(this.getAttrTypeAndValue(Q(ae,Ne[De])));return Se},this.getAttrTypeAndValue=function(ae){var Se={type:null,value:null,ds:null},Ne=O(ae,0),De=se(ae,Ne[0],[],"06"),dt=se(ae,Ne[1],[]),At=H.asn1.ASN1Util.oidHexToInt(De);return Se.type=H.asn1.x509.OID.oid2atype(At),Se.ds=this.HEX2STAG[ae.substr(Ne[1],2)],Se.ds!="bmp"?Se.value=Qt(dt):Se.value=on(dt),Se},this.readCertPEM=function(ae){this.readCertHex(St(ae))},this.readCertHex=function(ae){this.hex=ae,this.getVersion();try{Ae(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var ae={};return ae.version=this.getVersion(),ae.serial={hex:this.getSerialNumberHex()},ae.sigalg=this.getSignatureAlgorithmField(),ae.issuer=this.getIssuer(),ae.notbefore=this.getNotBefore(),ae.notafter=this.getNotAfter(),ae.subject=this.getSubject(),ae.sbjpubkey=Ct(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(ae.ext=this.getExtParamArray()),ae.sighex=this.getSignatureValueHex(),ae},this.getExtParamArray=function(ae){ae==null&&xe(this.hex,0,[0,"[3]"])!=-1&&(ae=be(this.hex,0,[0,"[3]",0],"30"));for(var Se=[],Ne=O(ae,0),De=0;De<Ne.length;De++){var dt=Q(ae,Ne[De]),At=this.getExtParam(dt);At!=null&&Se.push(At)}return Se},this.getExtParam=function(ae){var Se=O(ae,0).length;if(Se!=2&&Se!=3)throw new Error("wrong number elements in Extension: "+Se+" "+ae);var Ne=mt(se(ae,0,[0],"06")),De=!1;Se==3&&pe(ae,0,[1])=="0101ff"&&(De=!0);var dt=pe(ae,0,[Se-1,0]),At=void 0;if(Ne=="2.5.29.14"?At=this.getExtSubjectKeyIdentifier(dt,De):Ne=="2.5.29.15"?At=this.getExtKeyUsage(dt,De):Ne=="2.5.29.17"?At=this.getExtSubjectAltName(dt,De):Ne=="2.5.29.18"?At=this.getExtIssuerAltName(dt,De):Ne=="2.5.29.19"?At=this.getExtBasicConstraints(dt,De):Ne=="2.5.29.31"?At=this.getExtCRLDistributionPoints(dt,De):Ne=="2.5.29.32"?At=this.getExtCertificatePolicies(dt,De):Ne=="2.5.29.35"?At=this.getExtAuthorityKeyIdentifier(dt,De):Ne=="2.5.29.37"?At=this.getExtExtKeyUsage(dt,De):Ne=="1.3.6.1.5.5.7.1.1"?At=this.getExtAuthorityInfoAccess(dt,De):Ne=="2.5.29.20"?At=this.getExtCRLNumber(dt,De):Ne=="2.5.29.21"?At=this.getExtCRLReason(dt,De):Ne=="1.3.6.1.5.5.7.48.1.2"?At=this.getExtOcspNonce(dt,De):Ne=="1.3.6.1.5.5.7.48.1.5"?At=this.getExtOcspNoCheck(dt,De):Ne=="1.2.840.113583.1.1.9.1"&&(At=this.getExtAdobeTimeStamp(dt,De)),At!=null)return At;var dn={extname:Ne,extn:dt};return De&&(dn.critical=!0),dn},this.findExt=function(ae,Se){for(var Ne=0;Ne<ae.length;Ne++)if(ae[Ne].extname==Se)return ae[Ne];return null},this.updateExtCDPFullURI=function(ae,Se){var Ne=this.findExt(ae,"cRLDistributionPoints");if(Ne!=null&&Ne.array!=null){for(var De=Ne.array,dt=0;dt<De.length;dt++)if(De[dt].dpname!=null&&De[dt].dpname.full!=null)for(var At=De[dt].dpname.full,dn=0;dn<At.length;dn++){var jt=At[dt];jt.uri!=null&&(jt.uri=Se)}}},this.updateExtAIAOCSP=function(ae,Se){var Ne=this.findExt(ae,"authorityInfoAccess");if(Ne!=null&&Ne.array!=null)for(var De=Ne.array,dt=0;dt<De.length;dt++)De[dt].ocsp!=null&&(De[dt].ocsp=Se)},this.updateExtAIACAIssuer=function(ae,Se){var Ne=this.findExt(ae,"authorityInfoAccess");if(Ne!=null&&Ne.array!=null)for(var De=Ne.array,dt=0;dt<De.length;dt++)De[dt].caissuer!=null&&(De[dt].caissuer=Se)},this.dnarraytostr=function(ae){return"/"+ae.map(function(Se){return function(De){return De.map(function(dt){return function(dn){return dn.type+"="+dn.value}(dt).replace(/\+/,"\\+")}).join("+")}(Se).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var ae,Se,Ne,De=function(er){return JSON.stringify(er.array).replace(/[\[\]\{\}\"]/g,"")},dt=function(er){for(var Ir="",Qn=er.array,tr=0;tr<Qn.length;tr++){var wr=Qn[tr];if(Ir+="    policy oid: "+wr.policyoid+`
`,wr.array!==void 0)for(var Tn=0;Tn<wr.array.length;Tn++){var Kr=wr.array[Tn];Kr.cps!==void 0&&(Ir+="    cps: "+Kr.cps+`
`)}}return Ir},At=function(er){for(var Ir="",Qn=er.array,tr=0;tr<Qn.length;tr++){var wr=Qn[tr];try{wr.dpname.full[0].uri!==void 0&&(Ir+="    "+wr.dpname.full[0].uri+`
`)}catch{}try{wr.dname.full[0].dn.hex!==void 0&&(Ir+="    "+Ln.hex2dn(wr.dpname.full[0].dn.hex)+`
`)}catch{}}return Ir},dn=function(er){for(var Ir="",Qn=er.array,tr=0;tr<Qn.length;tr++){var wr=Qn[tr];wr.caissuer!==void 0&&(Ir+="    caissuer: "+wr.caissuer+`
`),wr.ocsp!==void 0&&(Ir+="    ocsp: "+wr.ocsp+`
`)}return Ir};if(ae=`Basic Fields
`,ae+="  serial number: "+this.getSerialNumberHex()+`
`,ae+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,ae+="  issuer: "+this.getIssuerString()+`
`,ae+="  notBefore: "+this.getNotBefore()+`
`,ae+="  notAfter: "+this.getNotAfter()+`
`,ae+="  subject: "+this.getSubjectString()+`
`,ae+=`  subject public key info: 
`,ae+="    key algorithm: "+(Se=this.getPublicKey()).type+`
`,Se.type==="RSA"&&(ae+="    n="+qn(Se.n.toString(16)).substr(0,16)+`...
`,ae+="    e="+qn(Se.e.toString(16))+`
`),(Ne=this.aExtInfo)!=null){ae+=`X509v3 Extensions:
`;for(var jt=0;jt<Ne.length;jt++){var zn=Ne[jt],un=H.asn1.x509.OID.oid2name(zn.oid);un===""&&(un=zn.oid);var gn="";if(zn.critical===!0&&(gn="CRITICAL"),ae+="  "+un+" "+gn+`:
`,un==="basicConstraints"){var nr=this.getExtBasicConstraints();nr.cA===void 0?ae+=`    {}
`:(ae+="    cA=true",nr.pathLen!==void 0&&(ae+=", pathLen="+nr.pathLen),ae+=`
`)}else if(un==="keyUsage")ae+="    "+this.getExtKeyUsageString()+`
`;else if(un==="subjectKeyIdentifier")ae+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(un==="authorityKeyIdentifier"){var hn=this.getExtAuthorityKeyIdentifier();hn.kid!==void 0&&(ae+="    kid="+hn.kid.hex+`
`)}else un==="extKeyUsage"?ae+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:un==="subjectAltName"?ae+="    "+De(this.getExtSubjectAltName())+`
`:un==="cRLDistributionPoints"?ae+=At(this.getExtCRLDistributionPoints()):un==="authorityInfoAccess"?ae+=dn(this.getExtAuthorityInfoAccess()):un==="certificatePolicies"&&(ae+=dt(this.getExtCertificatePolicies()))}}return ae+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,ae+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof b=="string"&&(b.indexOf("-----BEGIN")!=-1?this.readCertPEM(b):H.lang.String.isHex(b)&&this.readCertHex(b))}Pe.prototype.sign=function(b,m){var E=function(j){return H.crypto.Util.hashString(j,m)}(b);return this.signWithMessageHash(E,m)},Pe.prototype.signWithMessageHash=function(b,m){var E=Xe(H.crypto.Util.getPaddedDigestInfoHex(b,m,this.n.bitLength()),16);return Xn(this.doPrivate(E).toString(16),this.n.bitLength())},Pe.prototype.signPSS=function(b,m,E){var O=function(Q){return H.crypto.Util.hashHex(Q,m)}(tn(b));return E===void 0&&(E=-1),this.signWithMessageHashPSS(O,m,E)},Pe.prototype.signWithMessageHashPSS=function(b,m,E){var O,j=zt(b),Q=j.length,se=this.n.bitLength()-1,we=Math.ceil(se/8),pe=function(ae){return H.crypto.Util.hashHex(ae,m)};if(E===-1||E===void 0)E=Q;else if(E===-2)E=we-Q-2;else if(E<-2)throw new Error("invalid salt length");if(we<Q+E+2)throw new Error("data too long");var be="";E>0&&(be=new Array(E),new wt().nextBytes(be),be=String.fromCharCode.apply(String,be));var Ae=zt(pe(tn("\0\0\0\0\0\0\0\0"+j+be))),xe=[];for(O=0;O<we-E-Q-2;O+=1)xe[O]=0;var Ue=String.fromCharCode.apply(String,xe)+""+be,qe=Or(Ae,Ue.length,pe),at=[];for(O=0;O<Ue.length;O+=1)at[O]=Ue.charCodeAt(O)^qe.charCodeAt(O);var mt=65280>>8*we-se&255;for(at[0]&=~mt,O=0;O<Q;O++)at.push(Ae.charCodeAt(O));return at.push(188),Xn(this.doPrivate(new $(at)).toString(16),this.n.bitLength())},Pe.prototype.verify=function(b,m){if((m=m.toLowerCase()).match(/^[0-9a-f]+$/)==null)return!1;var E=Xe(m,16),O=this.n.bitLength();if(E.bitLength()>O)return!1;var j=this.doPublic(E).toString(16);if(j.length+3!=O/4)return!1;var Q=fr(j.replace(/^1f+00/,""));if(Q.length==0)return!1;var se=Q[0];return Q[1]==function(pe){return H.crypto.Util.hashString(pe,se)}(b)},Pe.prototype.verifyWithMessageHash=function(b,m){if(m.length!=Math.ceil(this.n.bitLength()/4))return!1;var E=Xe(m,16);if(E.bitLength()>this.n.bitLength())return 0;var O=fr(this.doPublic(E).toString(16).replace(/^1f+00/,""));return O.length==0?!1:(O[0],O[1]==b)},Pe.prototype.verifyPSS=function(b,m,E,O){var j=function(se){return H.crypto.Util.hashHex(se,E)}(tn(b));return O===void 0&&(O=-1),this.verifyWithMessageHashPSS(j,m,E,O)},Pe.prototype.verifyWithMessageHashPSS=function(b,m,E,O){if(m.length!=Math.ceil(this.n.bitLength()/4))return!1;var j,Q=new $(m,16),se=function(Ne){return H.crypto.Util.hashHex(Ne,E)},we=zt(b),pe=we.length,be=this.n.bitLength()-1,Ae=Math.ceil(be/8);if(O===-1||O===void 0)O=pe;else if(O===-2)O=Ae-pe-2;else if(O<-2)throw new Error("invalid salt length");if(Ae<pe+O+2)throw new Error("data too long");var xe=this.doPublic(Q).toByteArray();for(j=0;j<xe.length;j+=1)xe[j]&=255;for(;xe.length<Ae;)xe.unshift(0);if(xe[Ae-1]!==188)throw new Error("encoded message does not end in 0xbc");var Ue=(xe=String.fromCharCode.apply(String,xe)).substr(0,Ae-pe-1),qe=xe.substr(Ue.length,pe),at=65280>>8*Ae-be&255;if((Ue.charCodeAt(0)&at)!=0)throw new Error("bits beyond keysize not zero");var mt=Or(qe,Ue.length,se),St=[];for(j=0;j<Ue.length;j+=1)St[j]=Ue.charCodeAt(j)^mt.charCodeAt(j);St[0]&=~at;var ae=Ae-pe-O-2;for(j=0;j<ae;j+=1)if(St[j]!==0)throw new Error("leftmost octets not zero");if(St[ae]!==1)throw new Error("0x01 marker not found");return qe===zt(se(tn("\0\0\0\0\0\0\0\0"+we+String.fromCharCode.apply(String,St.slice(-O)))))},Pe.SALT_LEN_HLEN=-1,Pe.SALT_LEN_MAX=-2,Pe.SALT_LEN_RECOVER=-2,Ln.hex2dn=function(b,m){m===void 0&&(m=0);var E=new Ln;return Je.getTLV(b,m),E.getX500Name(b).str},Ln.hex2rdn=function(b,m){if(m===void 0&&(m=0),b.substr(m,2)!=="31")throw new Error("malformed RDN");for(var E=new Array,O=Je.getChildIdx(b,m),j=0;j<O.length;j++)E.push(Ln.hex2attrTypeValue(b,O[j]));return(E=E.map(function(Q){return Q.replace("+","\\+")})).join("+")},Ln.hex2attrTypeValue=function(b,m){var E=Je,O=E.getV;if(m===void 0&&(m=0),b.substr(m,2)!=="30")throw new Error("malformed attribute type and value");var j=E.getChildIdx(b,m);j.length!==2||b.substr(j[0],2);var Q=O(b,j[0]),se=H.asn1.ASN1Util.oidHexToInt(Q);return H.asn1.x509.OID.oid2atype(se)+"="+zt(O(b,j[1]))},Ln.getPublicKeyFromCertHex=function(b){var m=new Ln;return m.readCertHex(b),m.getPublicKey()},Ln.getPublicKeyFromCertPEM=function(b){var m=new Ln;return m.readCertPEM(b),m.getPublicKey()},Ln.getPublicKeyInfoPropOfCertPEM=function(b){var m,E,O=Je.getVbyList,j={};return j.algparam=null,(m=new Ln).readCertPEM(b),E=m.getPublicKeyHex(),j.keyhex=O(E,0,[1],"03").substr(2),j.algoid=O(E,0,[0,0],"06"),j.algoid==="2a8648ce3d0201"&&(j.algparam=O(E,0,[0,1],"06")),j},Ln.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],H!==void 0&&H||(a.KJUR=H={}),H.jws!==void 0&&H.jws||(H.jws={}),H.jws.JWS=function(){var b=H.jws.JWS.isSafeJSONString;this.parseJWS=function(m,E){if(this.parsedJWS===void 0||!E&&this.parsedJWS.sigvalH===void 0){var O=m.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(O==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var j=O[1],Q=O[2],se=O[3],we=j+"."+Q;if(this.parsedJWS={},this.parsedJWS.headB64U=j,this.parsedJWS.payloadB64U=Q,this.parsedJWS.sigvalB64U=se,this.parsedJWS.si=we,!E){var pe=Me(se),be=Xe(pe,16);this.parsedJWS.sigvalH=pe,this.parsedJWS.sigvalBI=be}var Ae=rt(j),xe=rt(Q);if(this.parsedJWS.headS=Ae,this.parsedJWS.payloadS=xe,!b(Ae,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Ae}}},H.jws.JWS.sign=function(b,m,E,O,j){var Q,se,we,pe=H,be=pe.jws.JWS,Ae=be.readSafeJSONString,xe=be.isSafeJSONString,Ue=pe.crypto,qe=(Ue.ECDSA,Ue.Mac),at=Ue.Signature,mt=JSON;if(typeof m!="string"&&(m===void 0?"undefined":x(m))!="object")throw"spHeader must be JSON string or object: "+m;if((m===void 0?"undefined":x(m))=="object"&&(se=m,Q=mt.stringify(se)),typeof m=="string"){if(!xe(Q=m))throw"JWS Head is not safe JSON string: "+Q;se=Ae(Q)}if(we=E,(E===void 0?"undefined":x(E))=="object"&&(we=mt.stringify(E)),b!=""&&b!=null||se.alg===void 0||(b=se.alg),b!=""&&b!=null&&se.alg===void 0&&(se.alg=b,Q=mt.stringify(se)),b!==se.alg)throw"alg and sHeader.alg doesn't match: "+b+"!="+se.alg;var St=null;if(be.jwsalg2sigalg[b]===void 0)throw"unsupported alg name: "+b;St=be.jwsalg2sigalg[b];var ae=We(Q)+"."+We(we),Se="";if(St.substr(0,4)=="Hmac"){if(O===void 0)throw"mac key shall be specified for HS* alg";var Ne=new qe({alg:St,prov:"cryptojs",pass:O});Ne.updateString(ae),Se=Ne.doFinal()}else if(St.indexOf("withECDSA")!=-1){(dt=new at({alg:St})).init(O,j),dt.updateString(ae);var De=dt.sign();Se=H.crypto.ECDSA.asn1SigToConcatSig(De)}else{var dt;St!="none"&&((dt=new at({alg:St})).init(O,j),dt.updateString(ae),Se=dt.sign())}return ae+"."+ut(Se)},H.jws.JWS.verify=function(b,m,E){var O,j=H,Q=j.jws.JWS,se=Q.readSafeJSONString,we=j.crypto,pe=we.ECDSA,be=we.Mac,Ae=we.Signature;x(Pe)!==void 0&&(O=Pe);var xe=b.split(".");if(xe.length!==3)return!1;var Ue=xe[0]+"."+xe[1],qe=Me(xe[2]),at=se(rt(xe[0])),mt=null,St=null;if(at.alg===void 0)throw"algorithm not specified in header";if(St=(mt=at.alg).substr(0,2),E!=null&&Object.prototype.toString.call(E)==="[object Array]"&&E.length>0&&(":"+E.join(":")+":").indexOf(":"+mt+":")==-1)throw"algorithm '"+mt+"' not accepted in the list";if(mt!="none"&&m===null)throw"key shall be specified to verify.";if(typeof m=="string"&&m.indexOf("-----BEGIN ")!=-1&&(m=Gt.getKey(m)),!(St!="RS"&&St!="PS"||m instanceof O))throw"key shall be a RSAKey obj for RS* and PS* algs";if(St=="ES"&&!(m instanceof pe))throw"key shall be a ECDSA obj for ES* algs";var ae=null;if(Q.jwsalg2sigalg[at.alg]===void 0)throw"unsupported alg name: "+mt;if((ae=Q.jwsalg2sigalg[mt])=="none")throw"not supported";if(ae.substr(0,4)=="Hmac"){if(m===void 0)throw"hexadecimal key shall be specified for HMAC";var Se=new be({alg:ae,pass:m});return Se.updateString(Ue),qe==Se.doFinal()}if(ae.indexOf("withECDSA")!=-1){var Ne,De=null;try{De=pe.concatSigToASN1Sig(qe)}catch{return!1}return(Ne=new Ae({alg:ae})).init(m),Ne.updateString(Ue),Ne.verify(De)}return(Ne=new Ae({alg:ae})).init(m),Ne.updateString(Ue),Ne.verify(qe)},H.jws.JWS.parse=function(b){var m,E,O,j=b.split("."),Q={};if(j.length!=2&&j.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return m=j[0],E=j[1],j.length==3&&(O=j[2]),Q.headerObj=H.jws.JWS.readSafeJSONString(rt(m)),Q.payloadObj=H.jws.JWS.readSafeJSONString(rt(E)),Q.headerPP=JSON.stringify(Q.headerObj,null,"  "),Q.payloadObj==null?Q.payloadPP=rt(E):Q.payloadPP=JSON.stringify(Q.payloadObj,null,"  "),O!==void 0&&(Q.sigHex=Me(O)),Q},H.jws.JWS.verifyJWT=function(b,m,E){var O=H.jws,j=O.JWS,Q=j.readSafeJSONString,se=j.inArray,we=j.includedArray,pe=b.split("."),be=pe[0],Ae=pe[1],xe=(Me(pe[2]),Q(rt(be))),Ue=Q(rt(Ae));if(xe.alg===void 0)return!1;if(E.alg===void 0)throw"acceptField.alg shall be specified";if(!se(xe.alg,E.alg)||Ue.iss!==void 0&&x(E.iss)==="object"&&!se(Ue.iss,E.iss)||Ue.sub!==void 0&&x(E.sub)==="object"&&!se(Ue.sub,E.sub))return!1;if(Ue.aud!==void 0&&x(E.aud)==="object"){if(typeof Ue.aud=="string"){if(!se(Ue.aud,E.aud))return!1}else if(x(Ue.aud)=="object"&&!we(Ue.aud,E.aud))return!1}var qe=O.IntDate.getNow();return E.verifyAt!==void 0&&typeof E.verifyAt=="number"&&(qe=E.verifyAt),E.gracePeriod!==void 0&&typeof E.gracePeriod=="number"||(E.gracePeriod=0),!(Ue.exp!==void 0&&typeof Ue.exp=="number"&&Ue.exp+E.gracePeriod<qe)&&!(Ue.nbf!==void 0&&typeof Ue.nbf=="number"&&qe<Ue.nbf-E.gracePeriod)&&!(Ue.iat!==void 0&&typeof Ue.iat=="number"&&qe<Ue.iat-E.gracePeriod)&&(Ue.jti===void 0||E.jti===void 0||Ue.jti===E.jti)&&!!j.verify(b,m,E.alg)},H.jws.JWS.includedArray=function(b,m){var E=H.jws.JWS.inArray;if(b===null||(b===void 0?"undefined":x(b))!=="object"||typeof b.length!="number")return!1;for(var O=0;O<b.length;O++)if(!E(b[O],m))return!1;return!0},H.jws.JWS.inArray=function(b,m){if(m===null||(m===void 0?"undefined":x(m))!=="object"||typeof m.length!="number")return!1;for(var E=0;E<m.length;E++)if(m[E]==b)return!0;return!1},H.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},H.jws.JWS.isSafeJSONString=function(b,m,E){var O=null;try{return((O=V(b))===void 0?"undefined":x(O))!="object"||O.constructor===Array?0:(m&&(m[E]=O),1)}catch{return 0}},H.jws.JWS.readSafeJSONString=function(b){var m=null;try{return((m=V(b))===void 0?"undefined":x(m))!="object"||m.constructor===Array?null:m}catch{return null}},H.jws.JWS.getEncodedSignatureValueFromJWS=function(b){var m=b.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(m==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return m[1]},H.jws.JWS.getJWKthumbprint=function(b){if(b.kty!=="RSA"&&b.kty!=="EC"&&b.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var m="{";if(b.kty==="RSA"){if(typeof b.n!="string"||typeof b.e!="string")throw"wrong n and e value for RSA key";m+='"e":"'+b.e+'",',m+='"kty":"'+b.kty+'",',m+='"n":"'+b.n+'"}'}else if(b.kty==="EC"){if(typeof b.crv!="string"||typeof b.x!="string"||typeof b.y!="string")throw"wrong crv, x and y value for EC key";m+='"crv":"'+b.crv+'",',m+='"kty":"'+b.kty+'",',m+='"x":"'+b.x+'",',m+='"y":"'+b.y+'"}'}else if(b.kty==="oct"){if(typeof b.k!="string")throw"wrong k value for oct(symmetric) key";m+='"kty":"'+b.kty+'",',m+='"k":"'+b.k+'"}'}var E=tn(m);return ut(H.crypto.Util.hashHex(E,"sha256"))},H.jws.IntDate={},H.jws.IntDate.get=function(b){var m=H.jws.IntDate,E=m.getNow,O=m.getZulu;if(b=="now")return E();if(b=="now + 1hour")return E()+3600;if(b=="now + 1day")return E()+86400;if(b=="now + 1month")return E()+2592e3;if(b=="now + 1year")return E()+31536e3;if(b.match(/Z$/))return O(b);if(b.match(/^[0-9]+$/))return parseInt(b);throw"unsupported format: "+b},H.jws.IntDate.getZulu=function(b){return Zt(b)},H.jws.IntDate.getNow=function(){return~~(new Date/1e3)},H.jws.IntDate.intDate2UTCString=function(b){return new Date(1e3*b).toUTCString()},H.jws.IntDate.intDate2Zulu=function(b){var m=new Date(1e3*b);return("0000"+m.getUTCFullYear()).slice(-4)+("00"+(m.getUTCMonth()+1)).slice(-2)+("00"+m.getUTCDate()).slice(-2)+("00"+m.getUTCHours()).slice(-2)+("00"+m.getUTCMinutes()).slice(-2)+("00"+m.getUTCSeconds()).slice(-2)+"Z"},a.SecureRandom=wt,a.rng_seed_time=_e,a.BigInteger=$,a.RSAKey=Pe;var Ar=H.crypto.EDSA;a.EDSA=Ar;var Mr=H.crypto.DSA;a.DSA=Mr;var cn=H.crypto.Signature;a.Signature=cn;var fi=H.crypto.MessageDigest;a.MessageDigest=fi;var Tr=H.crypto.Mac;a.Mac=Tr;var Ki=H.crypto.Cipher;a.Cipher=Ki,a.KEYUTIL=Gt,a.ASN1HEX=Je,a.X509=Ln,a.CryptoJS=K,a.b64tohex=q,a.b64toBA=Fe,a.stoBA=Yt,a.BAtos=jn,a.BAtohex=Vn,a.stohex=sn,a.stob64=function(m){return J(sn(m))},a.stob64u=function(m){return Ge(J(sn(m)))},a.b64utos=function(m){return jn(Fe(bt(m)))},a.b64tob64u=Ge,a.b64utob64=bt,a.hex2b64=J,a.hextob64u=ut,a.b64utohex=Me,a.utf8tob64u=We,a.b64utoutf8=rt,a.utf8tob64=function(m){return J(nn(Un(m)))},a.b64toutf8=function(m){return decodeURIComponent(Dn(q(m)))},a.utf8tohex=pt,a.hextoutf8=Qt,a.hextorstr=zt,a.rstrtohex=tn,a.hextob64=Ht,a.hextob64nl=ue,a.b64nltohex=ye,a.hextopem=Ct,a.pemtohex=Tt,a.hextoArrayBuffer=function(m){if(m.length%2!=0)throw"input is not even length";if(m.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var E=new ArrayBuffer(m.length/2),O=new DataView(E),j=0;j<m.length/2;j++)O.setUint8(j,parseInt(m.substr(2*j,2),16));return E},a.ArrayBuffertohex=function(m){for(var E="",O=new DataView(m),j=0;j<m.byteLength;j++)E+=("00"+O.getUint8(j).toString(16)).slice(-2);return E},a.zulutomsec=Nt,a.zulutosec=Zt,a.zulutodate=function(m){return new Date(Nt(m))},a.datetozulu=function(m,E,O){var j,Q=m.getUTCFullYear();if(E){if(Q<1950||2049<Q)throw"not proper year for UTCTime: "+Q;j=(""+Q).slice(-2)}else j=("000"+Q).slice(-4);if(j+=("0"+(m.getUTCMonth()+1)).slice(-2),j+=("0"+m.getUTCDate()).slice(-2),j+=("0"+m.getUTCHours()).slice(-2),j+=("0"+m.getUTCMinutes()).slice(-2),j+=("0"+m.getUTCSeconds()).slice(-2),O){var se=m.getUTCMilliseconds();se!==0&&(j+="."+(se=(se=("00"+se).slice(-3)).replace(/0+$/g,"")))}return j+="Z"},a.uricmptohex=nn,a.hextouricmp=Dn,a.ipv6tohex=$t,a.hextoipv6=en,a.hextoip=vn,a.iptohex=function(m){var E="malformed IP address";if(!(m=m.toLowerCase(m)).match(/^[0-9.]+$/)){if(m.match(/^[0-9a-f:]+$/)&&m.indexOf(":")!==-1)return $t(m);throw E}var O=m.split(".");if(O.length!==4)throw E;var j="";try{for(var Q=0;Q<4;Q++)j+=("0"+parseInt(O[Q]).toString(16)).slice(-2);return j}catch{throw E}},a.encodeURIComponentAll=Un,a.newline_toUnix=function(m){return m=m.replace(/\r\n/gm,`
`)},a.newline_toDos=function(m){return m=(m=m.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},a.hextoposhex=qn,a.intarystrtohex=function(m){m=(m=(m=m.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return m.split(/,/).map(function(E,O,j){var Q=parseInt(E);if(Q<0||255<Q)throw"integer not in range 0-255";return("00"+Q.toString(16)).slice(-2)}).join("")}catch(E){throw"malformed integer array string: "+E}},a.strdiffidx=function(m,E){var O=m.length;m.length>E.length&&(O=E.length);for(var j=0;j<O;j++)if(m.charCodeAt(j)!=E.charCodeAt(j))return j;return m.length!=E.length?O:-1},a.KJUR=H;var di=H.crypto;a.crypto=di;var Ia=H.asn1;a.asn1=Ia;var ea=H.jws;a.jws=ea;var hi=H.lang;a.lang=hi}).call(this,o(28).Buffer)},function(r,a,o){(function(c){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var s=o(30),u=o(31),h=o(32);function f(){return v.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function g(oe,k){if(f()<k)throw new RangeError("Invalid typed array length");return v.TYPED_ARRAY_SUPPORT?(oe=new Uint8Array(k)).__proto__=v.prototype:(oe===null&&(oe=new v(k)),oe.length=k),oe}function v(oe,k,D){if(!(v.TYPED_ARRAY_SUPPORT||this instanceof v))return new v(oe,k,D);if(typeof oe=="number"){if(typeof k=="string")throw new Error("If encoding is specified then the first argument must be a string");return T(this,oe)}return w(this,oe,k,D)}function w(oe,k,D,G){if(typeof k=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&k instanceof ArrayBuffer?function(_e,Oe,lt,Te){if(Oe.byteLength,lt<0||Oe.byteLength<lt)throw new RangeError("'offset' is out of bounds");if(Oe.byteLength<lt+(Te||0))throw new RangeError("'length' is out of bounds");return Oe=lt===void 0&&Te===void 0?new Uint8Array(Oe):Te===void 0?new Uint8Array(Oe,lt):new Uint8Array(Oe,lt,Te),v.TYPED_ARRAY_SUPPORT?(_e=Oe).__proto__=v.prototype:_e=R(_e,Oe),_e}(oe,k,D,G):typeof k=="string"?function(_e,Oe,lt){if(typeof lt=="string"&&lt!==""||(lt="utf8"),!v.isEncoding(lt))throw new TypeError('"encoding" must be a valid string encoding');var Te=0|x(Oe,lt),yt=(_e=g(_e,Te)).write(Oe,lt);return yt!==Te&&(_e=_e.slice(0,yt)),_e}(oe,k,D):function(_e,Oe){if(v.isBuffer(Oe)){var lt=0|C(Oe.length);return(_e=g(_e,lt)).length===0||Oe.copy(_e,0,0,lt),_e}if(Oe){if(typeof ArrayBuffer<"u"&&Oe.buffer instanceof ArrayBuffer||"length"in Oe)return typeof Oe.length!="number"||function(yt){return yt!=yt}(Oe.length)?g(_e,0):R(_e,Oe);if(Oe.type==="Buffer"&&h(Oe.data))return R(_e,Oe.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(oe,k)}function S(oe){if(typeof oe!="number")throw new TypeError('"size" argument must be a number');if(oe<0)throw new RangeError('"size" argument must not be negative')}function T(oe,k){if(S(k),oe=g(oe,k<0?0:0|C(k)),!v.TYPED_ARRAY_SUPPORT)for(var D=0;D<k;++D)oe[D]=0;return oe}function R(oe,k){var D=k.length<0?0:0|C(k.length);oe=g(oe,D);for(var G=0;G<D;G+=1)oe[G]=255&k[G];return oe}function C(oe){if(oe>=f())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f().toString(16)+" bytes");return 0|oe}function x(oe,k){if(v.isBuffer(oe))return oe.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(oe)||oe instanceof ArrayBuffer))return oe.byteLength;typeof oe!="string"&&(oe=""+oe);var D=oe.length;if(D===0)return 0;for(var G=!1;;)switch(k){case"ascii":case"latin1":case"binary":return D;case"utf8":case"utf-8":case void 0:return le(oe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*D;case"hex":return D>>>1;case"base64":return Ce(oe).length;default:if(G)return le(oe).length;k=(""+k).toLowerCase(),G=!0}}function F(oe,k,D){var G=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((D===void 0||D>this.length)&&(D=this.length),D<=0)||(D>>>=0)<=(k>>>=0))return"";for(oe||(oe="utf8");;)switch(oe){case"hex":return ht(this,k,D);case"utf8":case"utf-8":return Ee(this,k,D);case"ascii":return ct(this,k,D);case"latin1":case"binary":return Ie(this,k,D);case"base64":return ge(this,k,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,k,D);default:if(G)throw new TypeError("Unknown encoding: "+oe);oe=(oe+"").toLowerCase(),G=!0}}function P(oe,k,D){var G=oe[k];oe[k]=oe[D],oe[D]=G}function K(oe,k,D,G,ne){if(oe.length===0)return-1;if(typeof D=="string"?(G=D,D=0):D>2147483647?D=2147483647:D<-2147483648&&(D=-2147483648),D=+D,isNaN(D)&&(D=ne?0:oe.length-1),D<0&&(D=oe.length+D),D>=oe.length){if(ne)return-1;D=oe.length-1}else if(D<0){if(!ne)return-1;D=0}if(typeof k=="string"&&(k=v.from(k,G)),v.isBuffer(k))return k.length===0?-1:M(oe,k,D,G,ne);if(typeof k=="number")return k&=255,v.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?ne?Uint8Array.prototype.indexOf.call(oe,k,D):Uint8Array.prototype.lastIndexOf.call(oe,k,D):M(oe,[k],D,G,ne);throw new TypeError("val must be string, number or Buffer")}function M(oe,k,D,G,ne){var _e,Oe=1,lt=oe.length,Te=k.length;if(G!==void 0&&((G=String(G).toLowerCase())==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(oe.length<2||k.length<2)return-1;Oe=2,lt/=2,Te/=2,D/=2}function yt(ze,Pe){return Oe===1?ze[Pe]:ze.readUInt16BE(Pe*Oe)}if(ne){var Ot=-1;for(_e=D;_e<lt;_e++)if(yt(oe,_e)===yt(k,Ot===-1?0:_e-Ot)){if(Ot===-1&&(Ot=_e),_e-Ot+1===Te)return Ot*Oe}else Ot!==-1&&(_e-=_e-Ot),Ot=-1}else for(D+Te>lt&&(D=lt-Te),_e=D;_e>=0;_e--){for(var wt=!0,Xe=0;Xe<Te;Xe++)if(yt(oe,_e+Xe)!==yt(k,Xe)){wt=!1;break}if(wt)return _e}return-1}function z(oe,k,D,G){D=Number(D)||0;var ne=oe.length-D;G?(G=Number(G))>ne&&(G=ne):G=ne;var _e=k.length;if(_e%2!=0)throw new TypeError("Invalid hex string");G>_e/2&&(G=_e/2);for(var Oe=0;Oe<G;++Oe){var lt=parseInt(k.substr(2*Oe,2),16);if(isNaN(lt))return Oe;oe[D+Oe]=lt}return Oe}function J(oe,k,D,G){return Ye(le(k,oe.length-D),oe,D,G)}function q(oe,k,D,G){return Ye(function(_e){for(var Oe=[],lt=0;lt<_e.length;++lt)Oe.push(255&_e.charCodeAt(lt));return Oe}(k),oe,D,G)}function Fe(oe,k,D,G){return q(oe,k,D,G)}function $(oe,k,D,G){return Ye(Ce(k),oe,D,G)}function ie(oe,k,D,G){return Ye(function(_e,Oe){for(var lt,Te,yt,Ot=[],wt=0;wt<_e.length&&!((Oe-=2)<0);++wt)Te=(lt=_e.charCodeAt(wt))>>8,yt=lt%256,Ot.push(yt),Ot.push(Te);return Ot}(k,oe.length-D),oe,D,G)}function ge(oe,k,D){return k===0&&D===oe.length?s.fromByteArray(oe):s.fromByteArray(oe.slice(k,D))}function Ee(oe,k,D){D=Math.min(oe.length,D);for(var G=[],ne=k;ne<D;){var _e,Oe,lt,Te,yt=oe[ne],Ot=null,wt=yt>239?4:yt>223?3:yt>191?2:1;if(ne+wt<=D)switch(wt){case 1:yt<128&&(Ot=yt);break;case 2:(192&(_e=oe[ne+1]))==128&&(Te=(31&yt)<<6|63&_e)>127&&(Ot=Te);break;case 3:_e=oe[ne+1],Oe=oe[ne+2],(192&_e)==128&&(192&Oe)==128&&(Te=(15&yt)<<12|(63&_e)<<6|63&Oe)>2047&&(Te<55296||Te>57343)&&(Ot=Te);break;case 4:_e=oe[ne+1],Oe=oe[ne+2],lt=oe[ne+3],(192&_e)==128&&(192&Oe)==128&&(192&lt)==128&&(Te=(15&yt)<<18|(63&_e)<<12|(63&Oe)<<6|63&lt)>65535&&Te<1114112&&(Ot=Te)}Ot===null?(Ot=65533,wt=1):Ot>65535&&(Ot-=65536,G.push(Ot>>>10&1023|55296),Ot=56320|1023&Ot),G.push(Ot),ne+=wt}return function(ze){var Pe=ze.length;if(Pe<=tt)return String.fromCharCode.apply(String,ze);for(var ft="",X=0;X<Pe;)ft+=String.fromCharCode.apply(String,ze.slice(X,X+=tt));return ft}(G)}a.Buffer=v,a.SlowBuffer=function(k){return+k!=k&&(k=0),v.alloc(+k)},a.INSPECT_MAX_BYTES=50,v.TYPED_ARRAY_SUPPORT=c.TYPED_ARRAY_SUPPORT!==void 0?c.TYPED_ARRAY_SUPPORT:function(){try{var k=new Uint8Array(1);return k.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},k.foo()===42&&typeof k.subarray=="function"&&k.subarray(1,1).byteLength===0}catch{return!1}}(),a.kMaxLength=f(),v.poolSize=8192,v._augment=function(oe){return oe.__proto__=v.prototype,oe},v.from=function(oe,k,D){return w(null,oe,k,D)},v.TYPED_ARRAY_SUPPORT&&(v.prototype.__proto__=Uint8Array.prototype,v.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&v[Symbol.species]===v&&Object.defineProperty(v,Symbol.species,{value:null,configurable:!0})),v.alloc=function(oe,k,D){return function(ne,_e,Oe,lt){return S(_e),_e<=0?g(ne,_e):Oe!==void 0?typeof lt=="string"?g(ne,_e).fill(Oe,lt):g(ne,_e).fill(Oe):g(ne,_e)}(null,oe,k,D)},v.allocUnsafe=function(oe){return T(null,oe)},v.allocUnsafeSlow=function(oe){return T(null,oe)},v.isBuffer=function(k){return!(k==null||!k._isBuffer)},v.compare=function(k,D){if(!v.isBuffer(k)||!v.isBuffer(D))throw new TypeError("Arguments must be Buffers");if(k===D)return 0;for(var G=k.length,ne=D.length,_e=0,Oe=Math.min(G,ne);_e<Oe;++_e)if(k[_e]!==D[_e]){G=k[_e],ne=D[_e];break}return G<ne?-1:ne<G?1:0},v.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.concat=function(k,D){if(!h(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return v.alloc(0);var G;if(D===void 0)for(D=0,G=0;G<k.length;++G)D+=k[G].length;var ne=v.allocUnsafe(D),_e=0;for(G=0;G<k.length;++G){var Oe=k[G];if(!v.isBuffer(Oe))throw new TypeError('"list" argument must be an Array of Buffers');Oe.copy(ne,_e),_e+=Oe.length}return ne},v.byteLength=x,v.prototype._isBuffer=!0,v.prototype.swap16=function(){var k=this.length;if(k%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<k;D+=2)P(this,D,D+1);return this},v.prototype.swap32=function(){var k=this.length;if(k%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<k;D+=4)P(this,D,D+3),P(this,D+1,D+2);return this},v.prototype.swap64=function(){var k=this.length;if(k%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<k;D+=8)P(this,D,D+7),P(this,D+1,D+6),P(this,D+2,D+5),P(this,D+3,D+4);return this},v.prototype.toString=function(){var k=0|this.length;return k===0?"":arguments.length===0?Ee(this,0,k):F.apply(this,arguments)},v.prototype.equals=function(k){if(!v.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k||v.compare(this,k)===0},v.prototype.inspect=function(){var k="",D=a.INSPECT_MAX_BYTES;return this.length>0&&(k=this.toString("hex",0,D).match(/.{2}/g).join(" "),this.length>D&&(k+=" ... ")),"<Buffer "+k+">"},v.prototype.compare=function(k,D,G,ne,_e){if(!v.isBuffer(k))throw new TypeError("Argument must be a Buffer");if(D===void 0&&(D=0),G===void 0&&(G=k?k.length:0),ne===void 0&&(ne=0),_e===void 0&&(_e=this.length),D<0||G>k.length||ne<0||_e>this.length)throw new RangeError("out of range index");if(ne>=_e&&D>=G)return 0;if(ne>=_e)return-1;if(D>=G)return 1;if(this===k)return 0;for(var Oe=(_e>>>=0)-(ne>>>=0),lt=(G>>>=0)-(D>>>=0),Te=Math.min(Oe,lt),yt=this.slice(ne,_e),Ot=k.slice(D,G),wt=0;wt<Te;++wt)if(yt[wt]!==Ot[wt]){Oe=yt[wt],lt=Ot[wt];break}return Oe<lt?-1:lt<Oe?1:0},v.prototype.includes=function(k,D,G){return this.indexOf(k,D,G)!==-1},v.prototype.indexOf=function(k,D,G){return K(this,k,D,G,!0)},v.prototype.lastIndexOf=function(k,D,G){return K(this,k,D,G,!1)},v.prototype.write=function(k,D,G,ne){if(D===void 0)ne="utf8",G=this.length,D=0;else if(G===void 0&&typeof D=="string")ne=D,G=this.length,D=0;else{if(!isFinite(D))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");D|=0,isFinite(G)?(G|=0,ne===void 0&&(ne="utf8")):(ne=G,G=void 0)}var _e=this.length-D;if((G===void 0||G>_e)&&(G=_e),k.length>0&&(G<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");for(var Oe=!1;;)switch(ne){case"hex":return z(this,k,D,G);case"utf8":case"utf-8":return J(this,k,D,G);case"ascii":return q(this,k,D,G);case"latin1":case"binary":return Fe(this,k,D,G);case"base64":return $(this,k,D,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,k,D,G);default:if(Oe)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),Oe=!0}},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;function ct(oe,k,D){var G="";D=Math.min(oe.length,D);for(var ne=k;ne<D;++ne)G+=String.fromCharCode(127&oe[ne]);return G}function Ie(oe,k,D){var G="";D=Math.min(oe.length,D);for(var ne=k;ne<D;++ne)G+=String.fromCharCode(oe[ne]);return G}function ht(oe,k,D){var G=oe.length;(!k||k<0)&&(k=0),(!D||D<0||D>G)&&(D=G);for(var ne="",_e=k;_e<D;++_e)ne+=ke(oe[_e]);return ne}function de(oe,k,D){for(var G=oe.slice(k,D),ne="",_e=0;_e<G.length;_e+=2)ne+=String.fromCharCode(G[_e]+256*G[_e+1]);return ne}function nt(oe,k,D){if(oe%1!=0||oe<0)throw new RangeError("offset is not uint");if(oe+k>D)throw new RangeError("Trying to access beyond buffer length")}function Y(oe,k,D,G,ne,_e){if(!v.isBuffer(oe))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>ne||k<_e)throw new RangeError('"value" argument is out of bounds');if(D+G>oe.length)throw new RangeError("Index out of range")}function Re(oe,k,D,G){k<0&&(k=65535+k+1);for(var ne=0,_e=Math.min(oe.length-D,2);ne<_e;++ne)oe[D+ne]=(k&255<<8*(G?ne:1-ne))>>>8*(G?ne:1-ne)}function Qe(oe,k,D,G){k<0&&(k=4294967295+k+1);for(var ne=0,_e=Math.min(oe.length-D,4);ne<_e;++ne)oe[D+ne]=k>>>8*(G?ne:3-ne)&255}function He(oe,k,D,G,ne,_e){if(D+G>oe.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("Index out of range")}function st(oe,k,D,G,ne){return ne||He(oe,0,D,4),u.write(oe,k,D,G,23,4),D+4}function It(oe,k,D,G,ne){return ne||He(oe,0,D,8),u.write(oe,k,D,G,52,8),D+8}v.prototype.slice=function(k,D){var G,ne=this.length;if((k=~~k)<0?(k+=ne)<0&&(k=0):k>ne&&(k=ne),(D=D===void 0?ne:~~D)<0?(D+=ne)<0&&(D=0):D>ne&&(D=ne),D<k&&(D=k),v.TYPED_ARRAY_SUPPORT)(G=this.subarray(k,D)).__proto__=v.prototype;else{var _e=D-k;G=new v(_e,void 0);for(var Oe=0;Oe<_e;++Oe)G[Oe]=this[Oe+k]}return G},v.prototype.readUIntLE=function(k,D,G){k|=0,D|=0,G||nt(k,D,this.length);for(var ne=this[k],_e=1,Oe=0;++Oe<D&&(_e*=256);)ne+=this[k+Oe]*_e;return ne},v.prototype.readUIntBE=function(k,D,G){k|=0,D|=0,G||nt(k,D,this.length);for(var ne=this[k+--D],_e=1;D>0&&(_e*=256);)ne+=this[k+--D]*_e;return ne},v.prototype.readUInt8=function(k,D){return D||nt(k,1,this.length),this[k]},v.prototype.readUInt16LE=function(k,D){return D||nt(k,2,this.length),this[k]|this[k+1]<<8},v.prototype.readUInt16BE=function(k,D){return D||nt(k,2,this.length),this[k]<<8|this[k+1]},v.prototype.readUInt32LE=function(k,D){return D||nt(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+16777216*this[k+3]},v.prototype.readUInt32BE=function(k,D){return D||nt(k,4,this.length),16777216*this[k]+(this[k+1]<<16|this[k+2]<<8|this[k+3])},v.prototype.readIntLE=function(k,D,G){k|=0,D|=0,G||nt(k,D,this.length);for(var ne=this[k],_e=1,Oe=0;++Oe<D&&(_e*=256);)ne+=this[k+Oe]*_e;return ne>=(_e*=128)&&(ne-=Math.pow(2,8*D)),ne},v.prototype.readIntBE=function(k,D,G){k|=0,D|=0,G||nt(k,D,this.length);for(var ne=D,_e=1,Oe=this[k+--ne];ne>0&&(_e*=256);)Oe+=this[k+--ne]*_e;return Oe>=(_e*=128)&&(Oe-=Math.pow(2,8*D)),Oe},v.prototype.readInt8=function(k,D){return D||nt(k,1,this.length),128&this[k]?-1*(255-this[k]+1):this[k]},v.prototype.readInt16LE=function(k,D){D||nt(k,2,this.length);var G=this[k]|this[k+1]<<8;return 32768&G?4294901760|G:G},v.prototype.readInt16BE=function(k,D){D||nt(k,2,this.length);var G=this[k+1]|this[k]<<8;return 32768&G?4294901760|G:G},v.prototype.readInt32LE=function(k,D){return D||nt(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},v.prototype.readInt32BE=function(k,D){return D||nt(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},v.prototype.readFloatLE=function(k,D){return D||nt(k,4,this.length),u.read(this,k,!0,23,4)},v.prototype.readFloatBE=function(k,D){return D||nt(k,4,this.length),u.read(this,k,!1,23,4)},v.prototype.readDoubleLE=function(k,D){return D||nt(k,8,this.length),u.read(this,k,!0,52,8)},v.prototype.readDoubleBE=function(k,D){return D||nt(k,8,this.length),u.read(this,k,!1,52,8)},v.prototype.writeUIntLE=function(k,D,G,ne){k=+k,D|=0,G|=0,ne||Y(this,k,D,G,Math.pow(2,8*G)-1,0);var _e=1,Oe=0;for(this[D]=255&k;++Oe<G&&(_e*=256);)this[D+Oe]=k/_e&255;return D+G},v.prototype.writeUIntBE=function(k,D,G,ne){k=+k,D|=0,G|=0,ne||Y(this,k,D,G,Math.pow(2,8*G)-1,0);var _e=G-1,Oe=1;for(this[D+_e]=255&k;--_e>=0&&(Oe*=256);)this[D+_e]=k/Oe&255;return D+G},v.prototype.writeUInt8=function(k,D,G){return k=+k,D|=0,G||Y(this,k,D,1,255,0),v.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),this[D]=255&k,D+1},v.prototype.writeUInt16LE=function(k,D,G){return k=+k,D|=0,G||Y(this,k,D,2,65535,0),v.TYPED_ARRAY_SUPPORT?(this[D]=255&k,this[D+1]=k>>>8):Re(this,k,D,!0),D+2},v.prototype.writeUInt16BE=function(k,D,G){return k=+k,D|=0,G||Y(this,k,D,2,65535,0),v.TYPED_ARRAY_SUPPORT?(this[D]=k>>>8,this[D+1]=255&k):Re(this,k,D,!1),D+2},v.prototype.writeUInt32LE=function(k,D,G){return k=+k,D|=0,G||Y(this,k,D,4,4294967295,0),v.TYPED_ARRAY_SUPPORT?(this[D+3]=k>>>24,this[D+2]=k>>>16,this[D+1]=k>>>8,this[D]=255&k):Qe(this,k,D,!0),D+4},v.prototype.writeUInt32BE=function(k,D,G){return k=+k,D|=0,G||Y(this,k,D,4,4294967295,0),v.TYPED_ARRAY_SUPPORT?(this[D]=k>>>24,this[D+1]=k>>>16,this[D+2]=k>>>8,this[D+3]=255&k):Qe(this,k,D,!1),D+4},v.prototype.writeIntLE=function(k,D,G,ne){if(k=+k,D|=0,!ne){var _e=Math.pow(2,8*G-1);Y(this,k,D,G,_e-1,-_e)}var Oe=0,lt=1,Te=0;for(this[D]=255&k;++Oe<G&&(lt*=256);)k<0&&Te===0&&this[D+Oe-1]!==0&&(Te=1),this[D+Oe]=(k/lt>>0)-Te&255;return D+G},v.prototype.writeIntBE=function(k,D,G,ne){if(k=+k,D|=0,!ne){var _e=Math.pow(2,8*G-1);Y(this,k,D,G,_e-1,-_e)}var Oe=G-1,lt=1,Te=0;for(this[D+Oe]=255&k;--Oe>=0&&(lt*=256);)k<0&&Te===0&&this[D+Oe+1]!==0&&(Te=1),this[D+Oe]=(k/lt>>0)-Te&255;return D+G},v.prototype.writeInt8=function(k,D,G){return k=+k,D|=0,G||Y(this,k,D,1,127,-128),v.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),k<0&&(k=255+k+1),this[D]=255&k,D+1},v.prototype.writeInt16LE=function(k,D,G){return k=+k,D|=0,G||Y(this,k,D,2,32767,-32768),v.TYPED_ARRAY_SUPPORT?(this[D]=255&k,this[D+1]=k>>>8):Re(this,k,D,!0),D+2},v.prototype.writeInt16BE=function(k,D,G){return k=+k,D|=0,G||Y(this,k,D,2,32767,-32768),v.TYPED_ARRAY_SUPPORT?(this[D]=k>>>8,this[D+1]=255&k):Re(this,k,D,!1),D+2},v.prototype.writeInt32LE=function(k,D,G){return k=+k,D|=0,G||Y(this,k,D,4,2147483647,-2147483648),v.TYPED_ARRAY_SUPPORT?(this[D]=255&k,this[D+1]=k>>>8,this[D+2]=k>>>16,this[D+3]=k>>>24):Qe(this,k,D,!0),D+4},v.prototype.writeInt32BE=function(k,D,G){return k=+k,D|=0,G||Y(this,k,D,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),v.TYPED_ARRAY_SUPPORT?(this[D]=k>>>24,this[D+1]=k>>>16,this[D+2]=k>>>8,this[D+3]=255&k):Qe(this,k,D,!1),D+4},v.prototype.writeFloatLE=function(k,D,G){return st(this,k,D,!0,G)},v.prototype.writeFloatBE=function(k,D,G){return st(this,k,D,!1,G)},v.prototype.writeDoubleLE=function(k,D,G){return It(this,k,D,!0,G)},v.prototype.writeDoubleBE=function(k,D,G){return It(this,k,D,!1,G)},v.prototype.copy=function(k,D,G,ne){if(G||(G=0),ne||ne===0||(ne=this.length),D>=k.length&&(D=k.length),D||(D=0),ne>0&&ne<G&&(ne=G),ne===G||k.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("sourceStart out of bounds");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),k.length-D<ne-G&&(ne=k.length-D+G);var _e,Oe=ne-G;if(this===k&&G<D&&D<ne)for(_e=Oe-1;_e>=0;--_e)k[_e+D]=this[_e+G];else if(Oe<1e3||!v.TYPED_ARRAY_SUPPORT)for(_e=0;_e<Oe;++_e)k[_e+D]=this[_e+G];else Uint8Array.prototype.set.call(k,this.subarray(G,G+Oe),D);return Oe},v.prototype.fill=function(k,D,G,ne){if(typeof k=="string"){if(typeof D=="string"?(ne=D,D=0,G=this.length):typeof G=="string"&&(ne=G,G=this.length),k.length===1){var _e=k.charCodeAt(0);_e<256&&(k=_e)}if(ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!v.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne)}else typeof k=="number"&&(k&=255);if(D<0||this.length<D||this.length<G)throw new RangeError("Out of range index");if(G<=D)return this;var Oe;if(D>>>=0,G=G===void 0?this.length:G>>>0,k||(k=0),typeof k=="number")for(Oe=D;Oe<G;++Oe)this[Oe]=k;else{var lt=v.isBuffer(k)?k:le(new v(k,ne).toString()),Te=lt.length;for(Oe=0;Oe<G-D;++Oe)this[Oe+D]=lt[Oe%Te]}return this};var kt=/[^+\/0-9A-Za-z-_]/g;function ke(oe){return oe<16?"0"+oe.toString(16):oe.toString(16)}function le(oe,k){var D;k=k||1/0;for(var G=oe.length,ne=null,_e=[],Oe=0;Oe<G;++Oe){if((D=oe.charCodeAt(Oe))>55295&&D<57344){if(!ne){if(D>56319){(k-=3)>-1&&_e.push(239,191,189);continue}if(Oe+1===G){(k-=3)>-1&&_e.push(239,191,189);continue}ne=D;continue}if(D<56320){(k-=3)>-1&&_e.push(239,191,189),ne=D;continue}D=65536+(ne-55296<<10|D-56320)}else ne&&(k-=3)>-1&&_e.push(239,191,189);if(ne=null,D<128){if((k-=1)<0)break;_e.push(D)}else if(D<2048){if((k-=2)<0)break;_e.push(D>>6|192,63&D|128)}else if(D<65536){if((k-=3)<0)break;_e.push(D>>12|224,D>>6&63|128,63&D|128)}else{if(!(D<1114112))throw new Error("Invalid code point");if((k-=4)<0)break;_e.push(D>>18|240,D>>12&63|128,D>>6&63|128,63&D|128)}}return _e}function Ce(oe){return s.toByteArray(function(D){if((D=function(ne){return ne.trim?ne.trim():ne.replace(/^\s+|\s+$/g,"")}(D).replace(kt,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D}(oe))}function Ye(oe,k,D,G){for(var ne=0;ne<G&&!(ne+D>=k.length||ne>=oe.length);++ne)k[ne+D]=oe[ne];return ne}}).call(this,o(29))},function(r,a){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}r.exports=o},function(r,a,o){a.byteLength=function(T){var R=v(T),C=R[0],x=R[1];return 3*(C+x)/4-x},a.toByteArray=function(T){var R,C,x=v(T),F=x[0],P=x[1],K=new u(function(q,Fe,$){return 3*(Fe+$)/4-$}(0,F,P)),M=0,z=P>0?F-4:F;for(C=0;C<z;C+=4)R=s[T.charCodeAt(C)]<<18|s[T.charCodeAt(C+1)]<<12|s[T.charCodeAt(C+2)]<<6|s[T.charCodeAt(C+3)],K[M++]=R>>16&255,K[M++]=R>>8&255,K[M++]=255&R;return P===2&&(R=s[T.charCodeAt(C)]<<2|s[T.charCodeAt(C+1)]>>4,K[M++]=255&R),P===1&&(R=s[T.charCodeAt(C)]<<10|s[T.charCodeAt(C+1)]<<4|s[T.charCodeAt(C+2)]>>2,K[M++]=R>>8&255,K[M++]=255&R),K},a.fromByteArray=function(T){for(var R,C=T.length,x=C%3,F=[],P=16383,K=0,M=C-x;K<M;K+=P)F.push(w(T,K,K+P>M?M:K+P));return x===1?(R=T[C-1],F.push(c[R>>2]+c[R<<4&63]+"==")):x===2&&(R=(T[C-2]<<8)+T[C-1],F.push(c[R>>10]+c[R>>4&63]+c[R<<2&63]+"=")),F.join("")};for(var c=[],s=[],u=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,g=h.length;f<g;++f)c[f]=h[f],s[h.charCodeAt(f)]=f;function v(S){var T=S.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=S.indexOf("=");return R===-1&&(R=T),[R,R===T?0:4-R%4]}function w(S,T,R){for(var C,x,F=[],P=T;P<R;P+=3)C=(S[P]<<16&16711680)+(S[P+1]<<8&65280)+(255&S[P+2]),F.push(c[(x=C)>>18&63]+c[x>>12&63]+c[x>>6&63]+c[63&x]);return F.join("")}s[45]=62,s[95]=63},function(r,a){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */a.read=function(o,c,s,u,h){var f,g,v=8*h-u-1,w=(1<<v)-1,S=w>>1,T=-7,R=s?h-1:0,C=s?-1:1,x=o[c+R];for(R+=C,f=x&(1<<-T)-1,x>>=-T,T+=v;T>0;f=256*f+o[c+R],R+=C,T-=8);for(g=f&(1<<-T)-1,f>>=-T,T+=u;T>0;g=256*g+o[c+R],R+=C,T-=8);if(f===0)f=1-S;else{if(f===w)return g?NaN:1/0*(x?-1:1);g+=Math.pow(2,u),f-=S}return(x?-1:1)*g*Math.pow(2,f-u)},a.write=function(o,c,s,u,h,f){var g,v,w,S=8*f-h-1,T=(1<<S)-1,R=T>>1,C=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=u?0:f-1,F=u?1:-1,P=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(v=isNaN(c)?1:0,g=T):(g=Math.floor(Math.log(c)/Math.LN2),c*(w=Math.pow(2,-g))<1&&(g--,w*=2),(c+=g+R>=1?C/w:C*Math.pow(2,1-R))*w>=2&&(g++,w/=2),g+R>=T?(v=0,g=T):g+R>=1?(v=(c*w-1)*Math.pow(2,h),g+=R):(v=c*Math.pow(2,R-1)*Math.pow(2,h),g=0));h>=8;o[s+x]=255&v,x+=F,v/=256,h-=8);for(g=g<<h|v,S+=h;S>0;o[s+x]=255&g,x+=F,g/=256,S-=8);o[s+x-F]|=128*P}},function(r,a){var o={}.toString;r.exports=Array.isArray||function(c){return o.call(c)=="[object Array]"}},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(u){var h=u.jws,f=u.KeyUtil,g=u.X509,v=u.crypto,w=u.hextob64u,S=u.b64tohex,T=u.AllowedSigningAlgs;return function(){function R(){(function(x,F){if(!(x instanceof F))throw new TypeError("Cannot call a class as a function")})(this,R)}return R.parseJwt=function(x){c.Log.debug("JoseUtil.parseJwt");try{var F=h.JWS.parse(x);return{header:F.headerObj,payload:F.payloadObj}}catch(P){c.Log.error(P)}},R.validateJwt=function(x,F,P,K,M,z,J){c.Log.debug("JoseUtil.validateJwt");try{if(F.kty==="RSA")if(F.e&&F.n)F=f.getKey(F);else{if(!F.x5c||!F.x5c.length)return c.Log.error("JoseUtil.validateJwt: RSA key missing key material",F),Promise.reject(new Error("RSA key missing key material"));var q=S(F.x5c[0]);F=g.getPublicKeyFromCertHex(q)}else{if(F.kty!=="EC")return c.Log.error("JoseUtil.validateJwt: Unsupported key type",F&&F.kty),Promise.reject(new Error(F.kty));if(!(F.crv&&F.x&&F.y))return c.Log.error("JoseUtil.validateJwt: EC key missing key material",F),Promise.reject(new Error("EC key missing key material"));F=f.getKey(F)}return R._validateJwt(x,F,P,K,M,z,J)}catch(Fe){return c.Log.error(Fe&&Fe.message||Fe),Promise.reject("JWT validation failed")}},R.validateJwtAttributes=function(x,F,P,K,M,z){K||(K=0),M||(M=parseInt(Date.now()/1e3));var J=R.parseJwt(x).payload;if(!J.iss)return c.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(J.iss!==F)return c.Log.error("JoseUtil._validateJwt: Invalid issuer in token",J.iss),Promise.reject(new Error("Invalid issuer in token: "+J.iss));if(!J.aud)return c.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(J.aud===P||Array.isArray(J.aud)&&J.aud.indexOf(P)>=0))return c.Log.error("JoseUtil._validateJwt: Invalid audience in token",J.aud),Promise.reject(new Error("Invalid audience in token: "+J.aud));if(J.azp&&J.azp!==P)return c.Log.error("JoseUtil._validateJwt: Invalid azp in token",J.azp),Promise.reject(new Error("Invalid azp in token: "+J.azp));if(!z){var q=M+K,Fe=M-K;if(!J.iat)return c.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(q<J.iat)return c.Log.error("JoseUtil._validateJwt: iat is in the future",J.iat),Promise.reject(new Error("iat is in the future: "+J.iat));if(J.nbf&&q<J.nbf)return c.Log.error("JoseUtil._validateJwt: nbf is in the future",J.nbf),Promise.reject(new Error("nbf is in the future: "+J.nbf));if(!J.exp)return c.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(J.exp<Fe)return c.Log.error("JoseUtil._validateJwt: exp is in the past",J.exp),Promise.reject(new Error("exp is in the past:"+J.exp))}return Promise.resolve(J)},R._validateJwt=function(x,F,P,K,M,z,J){return R.validateJwtAttributes(x,P,K,M,z,J).then(function(q){try{return h.JWS.verify(x,F,T)?q:(c.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(Fe){return c.Log.error(Fe&&Fe.message||Fe),Promise.reject(new Error("signature validation failed"))}})},R.hashString=function(x,F){try{return v.Util.hashString(x,F)}catch(P){c.Log.error(P)}},R.hexToBase64Url=function(x){try{return w(x)}catch(F){c.Log.error(F)}},R}()};var c=o(0);r.exports=a.default},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.SigninResponse=void 0;var c=function(){function h(f,g){for(var v=0;v<g.length;v++){var w=g[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}return function(f,g,v){return g&&h(f.prototype,g),v&&h(f,v),f}}(),s=o(3);function u(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}a.SigninResponse=function(){function h(f){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";u(this,h);var v=s.UrlUtility.parseUrlFragment(f,g);this.error=v.error,this.error_description=v.error_description,this.error_uri=v.error_uri,this.code=v.code,this.state=v.state,this.id_token=v.id_token,this.session_state=v.session_state,this.access_token=v.access_token,this.token_type=v.token_type,this.scope=v.scope,this.profile=void 0,this.expires_in=v.expires_in}return c(h,[{key:"expires_in",get:function(){if(this.expires_at){var g=parseInt(Date.now()/1e3);return this.expires_at-g}},set:function(g){var v=parseInt(g);if(typeof v=="number"&&v>0){var w=parseInt(Date.now()/1e3);this.expires_at=w+v}}},{key:"expired",get:function(){var g=this.expires_in;if(g!==void 0)return g<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),h}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.SignoutRequest=void 0;var c=o(0),s=o(3),u=o(9);a.SignoutRequest=function h(f){var g=f.url,v=f.id_token_hint,w=f.post_logout_redirect_uri,S=f.data,T=f.extraQueryParams,R=f.request_type;if(function(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}(this,h),!g)throw c.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var C in v&&(g=s.UrlUtility.addQueryParam(g,"id_token_hint",v)),w&&(g=s.UrlUtility.addQueryParam(g,"post_logout_redirect_uri",w),S&&(this.state=new u.State({data:S,request_type:R}),g=s.UrlUtility.addQueryParam(g,"state",this.state.id))),T)g=s.UrlUtility.addQueryParam(g,C,T[C]);this.url=g}},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.SignoutResponse=void 0;var c=o(3);a.SignoutResponse=function s(u){(function(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")})(this,s);var h=c.UrlUtility.parseUrlFragment(u,"?");this.error=h.error,this.error_description=h.error_description,this.error_uri=h.error_uri,this.state=h.state}},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.InMemoryWebStorage=void 0;var c=function(){function u(h,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,f,g){return f&&u(h.prototype,f),g&&u(h,g),h}}(),s=o(0);a.InMemoryWebStorage=function(){function u(){(function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,u),this._data={}}return u.prototype.getItem=function(f){return s.Log.debug("InMemoryWebStorage.getItem",f),this._data[f]},u.prototype.setItem=function(f,g){s.Log.debug("InMemoryWebStorage.setItem",f),this._data[f]=g},u.prototype.removeItem=function(f){s.Log.debug("InMemoryWebStorage.removeItem",f),delete this._data[f]},u.prototype.key=function(f){return Object.getOwnPropertyNames(this._data)[f]},c(u,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),u}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.UserManager=void 0;var c=function(){function P(K,M){for(var z=0;z<M.length;z++){var J=M[z];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(K,J.key,J)}}return function(K,M,z){return M&&P(K.prototype,M),z&&P(K,z),K}}(),s=o(0),u=o(10),h=o(39),f=o(15),g=o(45),v=o(47),w=o(18),S=o(8),T=o(20),R=o(11),C=o(4);function x(P,K){if(!(P instanceof K))throw new TypeError("Cannot call a class as a function")}function F(P,K){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!K||typeof K!="object"&&typeof K!="function"?P:K}a.UserManager=function(P){function K(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.SilentRenewService,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.SessionMonitor,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T.TokenRevocationClient,Fe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:R.TokenClient,$=arguments.length>5&&arguments[5]!==void 0?arguments[5]:C.JoseUtil;x(this,K),M instanceof h.UserManagerSettings||(M=new h.UserManagerSettings(M));var ie=F(this,P.call(this,M));return ie._events=new g.UserManagerEvents(M),ie._silentRenewService=new z(ie),ie.settings.automaticSilentRenew&&(s.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),ie.startSilentRenew()),ie.settings.monitorSession&&(s.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),ie._sessionMonitor=new J(ie)),ie._tokenRevocationClient=new q(ie._settings),ie._tokenClient=new Fe(ie._settings),ie._joseUtil=$,ie}return function(z,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);z.prototype=Object.create(J&&J.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(z,J):z.__proto__=J)}(K,P),K.prototype.getUser=function(){var z=this;return this._loadUser().then(function(J){return J?(s.Log.info("UserManager.getUser: user loaded"),z._events.load(J,!1),J):(s.Log.info("UserManager.getUser: user not found in storage"),null)})},K.prototype.removeUser=function(){var z=this;return this.storeUser(null).then(function(){s.Log.info("UserManager.removeUser: user removed from storage"),z._events.unload()})},K.prototype.signinRedirect=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(z=Object.assign({},z)).request_type="si:r";var J={useReplaceToNavigate:z.useReplaceToNavigate};return this._signinStart(z,this._redirectNavigator,J).then(function(){s.Log.info("UserManager.signinRedirect: successful")})},K.prototype.signinRedirectCallback=function(z){return this._signinEnd(z||this._redirectNavigator.url).then(function(J){return J.profile&&J.profile.sub?s.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",J.profile.sub):s.Log.info("UserManager.signinRedirectCallback: no sub"),J})},K.prototype.signinPopup=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(z=Object.assign({},z)).request_type="si:p";var J=z.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return J?(z.redirect_uri=J,z.display="popup",this._signin(z,this._popupNavigator,{startUrl:J,popupWindowFeatures:z.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:z.popupWindowTarget||this.settings.popupWindowTarget}).then(function(q){return q&&(q.profile&&q.profile.sub?s.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",q.profile.sub):s.Log.info("UserManager.signinPopup: no sub")),q})):(s.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},K.prototype.signinPopupCallback=function(z){return this._signinCallback(z,this._popupNavigator).then(function(J){return J&&(J.profile&&J.profile.sub?s.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",J.profile.sub):s.Log.info("UserManager.signinPopupCallback: no sub")),J}).catch(function(J){s.Log.error(J.message)})},K.prototype.signinSilent=function(){var z=this,J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return J=Object.assign({},J),this._loadUser().then(function(q){return q&&q.refresh_token?(J.refresh_token=q.refresh_token,z._useRefreshToken(J)):(J.request_type="si:s",J.id_token_hint=J.id_token_hint||z.settings.includeIdTokenInSilentRenew&&q&&q.id_token,q&&z._settings.validateSubOnSilentRenew&&(s.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",q.profile.sub),J.current_sub=q.profile.sub),z._signinSilentIframe(J))})},K.prototype._useRefreshToken=function(){var z=this,J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(J).then(function(q){return q?q.access_token?z._loadUser().then(function(Fe){if(Fe){var $=Promise.resolve();return q.id_token&&($=z._validateIdTokenFromTokenRefreshToken(Fe.profile,q.id_token)),$.then(function(){return s.Log.debug("UserManager._useRefreshToken: refresh token response success"),Fe.id_token=q.id_token||Fe.id_token,Fe.access_token=q.access_token,Fe.refresh_token=q.refresh_token||Fe.refresh_token,Fe.expires_in=q.expires_in,z.storeUser(Fe).then(function(){return z._events.load(Fe),Fe})})}return null}):(s.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(s.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},K.prototype._validateIdTokenFromTokenRefreshToken=function(z,J){var q=this;return this._metadataService.getIssuer().then(function(Fe){return q.settings.getEpochTime().then(function($){return q._joseUtil.validateJwtAttributes(J,Fe,q._settings.client_id,q._settings.clockSkew,$).then(function(ie){return ie?ie.sub!==z.sub?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):ie.auth_time&&ie.auth_time!==z.auth_time?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):ie.azp&&ie.azp!==z.azp?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!ie.azp&&z.azp?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},K.prototype._signinSilentIframe=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=z.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return J?(z.redirect_uri=J,z.prompt=z.prompt||"none",this._signin(z,this._iframeNavigator,{startUrl:J,silentRequestTimeout:z.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(q){return q&&(q.profile&&q.profile.sub?s.Log.info("UserManager.signinSilent: successful, signed in sub: ",q.profile.sub):s.Log.info("UserManager.signinSilent: no sub")),q})):(s.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},K.prototype.signinSilentCallback=function(z){return this._signinCallback(z,this._iframeNavigator).then(function(J){return J&&(J.profile&&J.profile.sub?s.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",J.profile.sub):s.Log.info("UserManager.signinSilentCallback: no sub")),J})},K.prototype.signinCallback=function(z){var J=this;return this.readSigninResponseState(z).then(function(q){var Fe=q.state;return q.response,Fe.request_type==="si:r"?J.signinRedirectCallback(z):Fe.request_type==="si:p"?J.signinPopupCallback(z):Fe.request_type==="si:s"?J.signinSilentCallback(z):Promise.reject(new Error("invalid response_type in state"))})},K.prototype.signoutCallback=function(z,J){var q=this;return this.readSignoutResponseState(z).then(function(Fe){var $=Fe.state,ie=Fe.response;return $?$.request_type==="so:r"?q.signoutRedirectCallback(z):$.request_type==="so:p"?q.signoutPopupCallback(z,J):Promise.reject(new Error("invalid response_type in state")):ie})},K.prototype.querySessionStatus=function(){var z=this,J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(J=Object.assign({},J)).request_type="si:s";var q=J.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return q?(J.redirect_uri=q,J.prompt="none",J.response_type=J.response_type||this.settings.query_status_response_type,J.scope=J.scope||"openid",J.skipUserInfo=!0,this._signinStart(J,this._iframeNavigator,{startUrl:q,silentRequestTimeout:J.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Fe){return z.processSigninResponse(Fe.url).then(function($){if(s.Log.debug("UserManager.querySessionStatus: got signin response"),$.session_state&&$.profile.sub)return s.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",$.profile.sub),{session_state:$.session_state,sub:$.profile.sub,sid:$.profile.sid};s.Log.info("querySessionStatus successful, user not authenticated")}).catch(function($){if($.session_state&&z.settings.monitorAnonymousSession&&($.message=="login_required"||$.message=="consent_required"||$.message=="interaction_required"||$.message=="account_selection_required"))return s.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:$.session_state};throw $})})):(s.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},K.prototype._signin=function(z,J){var q=this,Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(z,J,Fe).then(function($){return q._signinEnd($.url,z)})},K.prototype._signinStart=function(z,J){var q=this,Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return J.prepare(Fe).then(function($){return s.Log.debug("UserManager._signinStart: got navigator window handle"),q.createSigninRequest(z).then(function(ie){return s.Log.debug("UserManager._signinStart: got signin request"),Fe.url=ie.url,Fe.id=ie.state.id,$.navigate(Fe)}).catch(function(ie){throw $.close&&(s.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),$.close()),ie})})},K.prototype._signinEnd=function(z){var J=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(z).then(function(Fe){s.Log.debug("UserManager._signinEnd: got signin response");var $=new f.User(Fe);if(q.current_sub){if(q.current_sub!==$.profile.sub)return s.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",$.profile.sub),Promise.reject(new Error("login_required"));s.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return J.storeUser($).then(function(){return s.Log.debug("UserManager._signinEnd: user stored"),J._events.load($),$})})},K.prototype._signinCallback=function(z,J){s.Log.debug("UserManager._signinCallback");var q=this._settings.response_mode==="query"||!this._settings.response_mode&&S.SigninRequest.isCode(this._settings.response_type)?"?":"#";return J.callback(z,void 0,q)},K.prototype.signoutRedirect=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(z=Object.assign({},z)).request_type="so:r";var J=z.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;J&&(z.post_logout_redirect_uri=J);var q={useReplaceToNavigate:z.useReplaceToNavigate};return this._signoutStart(z,this._redirectNavigator,q).then(function(){s.Log.info("UserManager.signoutRedirect: successful")})},K.prototype.signoutRedirectCallback=function(z){return this._signoutEnd(z||this._redirectNavigator.url).then(function(J){return s.Log.info("UserManager.signoutRedirectCallback: successful"),J})},K.prototype.signoutPopup=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(z=Object.assign({},z)).request_type="so:p";var J=z.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return z.post_logout_redirect_uri=J,z.display="popup",z.post_logout_redirect_uri&&(z.state=z.state||{}),this._signout(z,this._popupNavigator,{startUrl:J,popupWindowFeatures:z.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:z.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){s.Log.info("UserManager.signoutPopup: successful")})},K.prototype.signoutPopupCallback=function(z,J){return J===void 0&&typeof z=="boolean"&&(J=z,z=null),this._popupNavigator.callback(z,J,"?").then(function(){s.Log.info("UserManager.signoutPopupCallback: successful")})},K.prototype._signout=function(z,J){var q=this,Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(z,J,Fe).then(function($){return q._signoutEnd($.url)})},K.prototype._signoutStart=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=this,q=arguments[1],Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return q.prepare(Fe).then(function($){return s.Log.debug("UserManager._signoutStart: got navigator window handle"),J._loadUser().then(function(ie){return s.Log.debug("UserManager._signoutStart: loaded current user from storage"),(J._settings.revokeAccessTokenOnSignout?J._revokeInternal(ie):Promise.resolve()).then(function(){var ge=z.id_token_hint||ie&&ie.id_token;return ge&&(s.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),z.id_token_hint=ge),J.removeUser().then(function(){return s.Log.debug("UserManager._signoutStart: user removed, creating signout request"),J.createSignoutRequest(z).then(function(Ee){return s.Log.debug("UserManager._signoutStart: got signout request"),Fe.url=Ee.url,Ee.state&&(Fe.id=Ee.state.id),$.navigate(Fe)})})})}).catch(function(ie){throw $.close&&(s.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),$.close()),ie})})},K.prototype._signoutEnd=function(z){return this.processSignoutResponse(z).then(function(J){return s.Log.debug("UserManager._signoutEnd: got signout response"),J})},K.prototype.revokeAccessToken=function(){var z=this;return this._loadUser().then(function(J){return z._revokeInternal(J,!0).then(function(q){if(q)return s.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),J.access_token=null,J.refresh_token=null,J.expires_at=null,J.token_type=null,z.storeUser(J).then(function(){s.Log.debug("UserManager.revokeAccessToken: user stored"),z._events.load(J)})})}).then(function(){s.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},K.prototype._revokeInternal=function(z,J){var q=this;if(z){var Fe=z.access_token,$=z.refresh_token;return this._revokeAccessTokenInternal(Fe,J).then(function(ie){return q._revokeRefreshTokenInternal($,J).then(function(ge){return ie||ge||s.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),ie||ge})})}return Promise.resolve(!1)},K.prototype._revokeAccessTokenInternal=function(z,J){return!z||z.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(z,J).then(function(){return!0})},K.prototype._revokeRefreshTokenInternal=function(z,J){return z?this._tokenRevocationClient.revoke(z,J,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},K.prototype.startSilentRenew=function(){this._silentRenewService.start()},K.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},K.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(z){return z?(s.Log.debug("UserManager._loadUser: user storageString loaded"),f.User.fromStorageString(z)):(s.Log.debug("UserManager._loadUser: no user storageString"),null)})},K.prototype.storeUser=function(z){if(z){s.Log.debug("UserManager.storeUser: storing user");var J=z.toStorageString();return this._userStore.set(this._userStoreKey,J)}return s.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},c(K,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),K}(u.OidcClient)},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.UserManagerSettings=void 0;var c=function(){function R(C,x){for(var F=0;F<x.length;F++){var P=x[F];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}return function(C,x,F){return x&&R(C.prototype,x),F&&R(C,F),C}}(),s=(o(0),o(5)),u=o(40),h=o(41),f=o(43),g=o(6),v=o(1),w=o(8);function S(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")}function T(R,C){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||typeof C!="object"&&typeof C!="function"?R:C}a.UserManagerSettings=function(R){function C(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=x.popup_redirect_uri,P=x.popup_post_logout_redirect_uri,K=x.popupWindowFeatures,M=x.popupWindowTarget,z=x.silent_redirect_uri,J=x.silentRequestTimeout,q=x.automaticSilentRenew,Fe=q!==void 0&&q,$=x.validateSubOnSilentRenew,ie=$!==void 0&&$,ge=x.includeIdTokenInSilentRenew,Ee=ge===void 0||ge,tt=x.monitorSession,ct=tt===void 0||tt,Ie=x.monitorAnonymousSession,ht=Ie!==void 0&&Ie,de=x.checkSessionInterval,nt=de===void 0?2e3:de,Y=x.stopCheckSessionOnError,Re=Y===void 0||Y,Qe=x.query_status_response_type,He=x.revokeAccessTokenOnSignout,st=He!==void 0&&He,It=x.accessTokenExpiringNotificationTime,kt=It===void 0?60:It,ke=x.redirectNavigator,le=ke===void 0?new u.RedirectNavigator:ke,Ce=x.popupNavigator,Ye=Ce===void 0?new h.PopupNavigator:Ce,oe=x.iframeNavigator,k=oe===void 0?new f.IFrameNavigator:oe,D=x.userStore,G=D===void 0?new g.WebStorageStateStore({store:v.Global.sessionStorage}):D;S(this,C);var ne=T(this,R.call(this,arguments[0]));return ne._popup_redirect_uri=F,ne._popup_post_logout_redirect_uri=P,ne._popupWindowFeatures=K,ne._popupWindowTarget=M,ne._silent_redirect_uri=z,ne._silentRequestTimeout=J,ne._automaticSilentRenew=Fe,ne._validateSubOnSilentRenew=ie,ne._includeIdTokenInSilentRenew=Ee,ne._accessTokenExpiringNotificationTime=kt,ne._monitorSession=ct,ne._monitorAnonymousSession=ht,ne._checkSessionInterval=nt,ne._stopCheckSessionOnError=Re,Qe?ne._query_status_response_type=Qe:arguments[0]&&arguments[0].response_type?ne._query_status_response_type=w.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":ne._query_status_response_type="id_token",ne._revokeAccessTokenOnSignout=st,ne._redirectNavigator=le,ne._popupNavigator=Ye,ne._iframeNavigator=k,ne._userStore=G,ne}return function(F,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);F.prototype=Object.create(P&&P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(F,P):F.__proto__=P)}(C,R),c(C,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),C}(s.OidcClientSettings)},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.RedirectNavigator=void 0;var c=function(){function u(h,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,f,g){return f&&u(h.prototype,f),g&&u(h,g),h}}(),s=o(0);a.RedirectNavigator=function(){function u(){(function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.prototype.prepare=function(){return Promise.resolve(this)},u.prototype.navigate=function(f){return f&&f.url?(f.useReplaceToNavigate?window.location.replace(f.url):window.location=f.url,Promise.resolve()):(s.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},c(u,[{key:"url",get:function(){return window.location.href}}]),u}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.PopupNavigator=void 0;var c=o(0),s=o(42);a.PopupNavigator=function(){function u(){(function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.prototype.prepare=function(f){var g=new s.PopupWindow(f);return Promise.resolve(g)},u.prototype.callback=function(f,g,v){c.Log.debug("PopupNavigator.callback");try{return s.PopupWindow.notifyOpener(f,g,v),Promise.resolve()}catch(w){return Promise.reject(w)}},u}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.PopupWindow=void 0;var c=function(){function h(f,g){for(var v=0;v<g.length;v++){var w=g[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}return function(f,g,v){return g&&h(f.prototype,g),v&&h(f,v),f}}(),s=o(0),u=o(3);a.PopupWindow=function(){function h(f){var g=this;(function(T,R){if(!(T instanceof R))throw new TypeError("Cannot call a class as a function")})(this,h),this._promise=new Promise(function(S,T){g._resolve=S,g._reject=T});var v=f.popupWindowTarget||"_blank",w=f.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",v,w),this._popup&&(s.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return h.prototype.navigate=function(g){return this._popup?g&&g.url?(s.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=g.id,this._id&&(window["popupCallback_"+g.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=g.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},h.prototype._success=function(g){s.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(g)},h.prototype._error=function(g){s.Log.error("PopupWindow.error: ",g),this._cleanup(),this._reject(new Error(g))},h.prototype.close=function(){this._cleanup(!1)},h.prototype._cleanup=function(g){s.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!g&&this._popup.close(),this._popup=null},h.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},h.prototype._callback=function(g,v){this._cleanup(v),g?(s.Log.debug("PopupWindow.callback success"),this._success({url:g})):(s.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},h.notifyOpener=function(g,v,w){if(window.opener){if(g=g||window.location.href){var S=u.UrlUtility.parseUrlFragment(g,w);if(S.state){var T="popupCallback_"+S.state,R=window.opener[T];R?(s.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),R(g,v)):s.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else s.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else s.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},c(h,[{key:"promise",get:function(){return this._promise}}]),h}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.IFrameNavigator=void 0;var c=o(0),s=o(44);a.IFrameNavigator=function(){function u(){(function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,u)}return u.prototype.prepare=function(f){var g=new s.IFrameWindow(f);return Promise.resolve(g)},u.prototype.callback=function(f){c.Log.debug("IFrameNavigator.callback");try{return s.IFrameWindow.notifyParent(f),Promise.resolve()}catch(g){return Promise.reject(g)}},u}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.IFrameWindow=void 0;var c=function(){function u(h,f){for(var g=0;g<f.length;g++){var v=f[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,f,g){return f&&u(h.prototype,f),g&&u(h,g),h}}(),s=o(0);a.IFrameWindow=function(){function u(h){var f=this;(function(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")})(this,u),this._promise=new Promise(function(g,v){f._resolve=g,f._reject=v}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return u.prototype.navigate=function(f){if(f&&f.url){var g=f.silentRequestTimeout||1e4;s.Log.debug("IFrameWindow.navigate: Using timeout of:",g),this._timer=window.setTimeout(this._timeout.bind(this),g),this._frame.src=f.url}else this._error("No url provided");return this.promise},u.prototype._success=function(f){this._cleanup(),s.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(f)},u.prototype._error=function(f){this._cleanup(),s.Log.error(f),this._reject(new Error(f))},u.prototype.close=function(){this._cleanup()},u.prototype._cleanup=function(){this._frame&&(s.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},u.prototype._timeout=function(){s.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},u.prototype._message=function(f){if(s.Log.debug("IFrameWindow.message"),this._timer&&f.origin===this._origin&&f.source===this._frame.contentWindow&&typeof f.data=="string"&&(f.data.startsWith("http://")||f.data.startsWith("https://"))){var g=f.data;g?this._success({url:g}):this._error("Invalid response from frame")}},u.notifyParent=function(f){s.Log.debug("IFrameWindow.notifyParent"),(f=f||window.location.href)&&(s.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(f,location.protocol+"//"+location.host))},c(u,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),u}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.UserManagerEvents=void 0;var c=o(0),s=o(16),u=o(17);a.UserManagerEvents=function(h){function f(g){(function(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")})(this,f);var v=function(S,T){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||typeof T!="object"&&typeof T!="function"?S:T}(this,h.call(this,g));return v._userLoaded=new u.Event("User loaded"),v._userUnloaded=new u.Event("User unloaded"),v._silentRenewError=new u.Event("Silent renew error"),v._userSignedIn=new u.Event("User signed in"),v._userSignedOut=new u.Event("User signed out"),v._userSessionChanged=new u.Event("User session changed"),v}return function(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}(f,h),f.prototype.load=function(v){var w=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];c.Log.debug("UserManagerEvents.load"),h.prototype.load.call(this,v),w&&this._userLoaded.raise(v)},f.prototype.unload=function(){c.Log.debug("UserManagerEvents.unload"),h.prototype.unload.call(this),this._userUnloaded.raise()},f.prototype.addUserLoaded=function(v){this._userLoaded.addHandler(v)},f.prototype.removeUserLoaded=function(v){this._userLoaded.removeHandler(v)},f.prototype.addUserUnloaded=function(v){this._userUnloaded.addHandler(v)},f.prototype.removeUserUnloaded=function(v){this._userUnloaded.removeHandler(v)},f.prototype.addSilentRenewError=function(v){this._silentRenewError.addHandler(v)},f.prototype.removeSilentRenewError=function(v){this._silentRenewError.removeHandler(v)},f.prototype._raiseSilentRenewError=function(v){c.Log.debug("UserManagerEvents._raiseSilentRenewError",v.message),this._silentRenewError.raise(v)},f.prototype.addUserSignedIn=function(v){this._userSignedIn.addHandler(v)},f.prototype.removeUserSignedIn=function(v){this._userSignedIn.removeHandler(v)},f.prototype._raiseUserSignedIn=function(){c.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},f.prototype.addUserSignedOut=function(v){this._userSignedOut.addHandler(v)},f.prototype.removeUserSignedOut=function(v){this._userSignedOut.removeHandler(v)},f.prototype._raiseUserSignedOut=function(){c.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},f.prototype.addUserSessionChanged=function(v){this._userSessionChanged.addHandler(v)},f.prototype.removeUserSessionChanged=function(v){this._userSessionChanged.removeHandler(v)},f.prototype._raiseUserSessionChanged=function(){c.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},f}(s.AccessTokenEvents)},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.Timer=void 0;var c=function(){function v(w,S){for(var T=0;T<S.length;T++){var R=S[T];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(w,R.key,R)}}return function(w,S,T){return S&&v(w.prototype,S),T&&v(w,T),w}}(),s=o(0),u=o(1),h=o(17);function f(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function g(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?v:w}a.Timer=function(v){function w(S){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.Global.timer,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;f(this,w);var C=g(this,v.call(this,S));return C._timer=T,C._nowFunc=R||function(){return Date.now()/1e3},C}return function(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);T.prototype=Object.create(R&&R.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(T,R):T.__proto__=R)}(w,v),w.prototype.init=function(T){T<=0&&(T=1),T=parseInt(T);var R=this.now+T;if(this.expiration===R&&this._timerHandle)s.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),s.Log.debug("Timer.init timer "+this._name+" for duration:",T),this._expiration=R;var C=5;T<C&&(C=T),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*C)}},w.prototype.cancel=function(){this._timerHandle&&(s.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},w.prototype._callback=function(){var T=this._expiration-this.now;s.Log.debug("Timer.callback; "+this._name+" timer expires in:",T),this._expiration<=this.now&&(this.cancel(),v.prototype.raise.call(this))},c(w,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),w}(h.Event)},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.SilentRenewService=void 0;var c=o(0);a.SilentRenewService=function(){function s(u){(function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,s),this._userManager=u}return s.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(h){}).catch(function(h){c.Log.error("SilentRenewService.start: Error from getUser:",h.message)}))},s.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},s.prototype._tokenExpiring=function(){var h=this;this._userManager.signinSilent().then(function(f){c.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(f){c.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",f.message),h._userManager.events._raiseSilentRenewError(f)})},s}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.CordovaPopupNavigator=void 0;var c=o(21);a.CordovaPopupNavigator=function(){function s(){(function(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(h){var f=new c.CordovaPopupWindow(h);return Promise.resolve(f)},s}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.CordovaIFrameNavigator=void 0;var c=o(21);a.CordovaIFrameNavigator=function(){function s(){(function(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(h){h.popupWindowFeatures="hidden=yes";var f=new c.CordovaPopupWindow(h);return Promise.resolve(f)},s}()},function(r,a,o){Object.defineProperty(a,"__esModule",{value:!0}),a.Version="1.11.6"}])})}(sm)),sm.exports}var fo=mO();Rf();const{fetch:Yb}=globalThis;let Jy;const vO=new Uint8Array(16);function bO(){if(!Jy&&(Jy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Jy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Jy(vO)}const Xi=[];for(let e=0;e<256;++e)Xi.push((e+256).toString(16).slice(1));function wO(e,t=0){return Xi[e[t+0]]+Xi[e[t+1]]+Xi[e[t+2]]+Xi[e[t+3]]+"-"+Xi[e[t+4]]+Xi[e[t+5]]+"-"+Xi[e[t+6]]+Xi[e[t+7]]+"-"+Xi[e[t+8]]+Xi[e[t+9]]+"-"+Xi[e[t+10]]+Xi[e[t+11]]+Xi[e[t+12]]+Xi[e[t+13]]+Xi[e[t+14]]+Xi[e[t+15]]}const _O=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),bS={randomUUID:_O};function EO(e,t,r){if(bS.randomUUID&&!e)return bS.randomUUID();e=e||{};const a=e.random||(e.rng||bO)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,wO(a)}const mm=["ES256","RS256"],SO="openid",AO="offline_access",xO="webid",RO=[SO,AO,xO].join(" ");async function TO(e,t){const r=await Yb.call(globalThis,e);if(r.status!==200)throw new Error(`Could not fetch JWKS for [${t}] at [${e}]: ${r.status} ${r.statusText}`);let a;try{a=(await r.json()).keys[0]}catch(o){throw new Error(`Malformed JWKS for [${t}] at [${e}]: ${o.message}`)}return a}async function Xb(e,t,r,a){const o=await TO(t,r);let c;try{const{payload:s}=await HA(e,await Hg(o),{issuer:r,audience:a});c=s}catch(s){throw new Error(`Token verification failed: ${s.stack}`)}if(typeof c.webid=="string")return c.webid;if(typeof c.sub!="string")throw new Error(`The token ${JSON.stringify(c)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(c.sub),c.sub}catch(s){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${c.sub}] is invalid as a URL - error [${s}].`)}}function CO(e){const t=new URL(e);return t.searchParams.delete("state"),t.searchParams.delete("code"),t.searchParams.delete("error"),t.searchParams.delete("error_description"),t.searchParams.delete("iss"),t}function OO(e,t){var r;return(r=t.find(a=>e.includes(a)))!==null&&r!==void 0?r:null}class Yy extends Error{constructor(t){super(`Invalid response from OIDC provider: missing fields ${t}`),this.missingFields=t}}class IO extends Error{constructor(t,r,a){super(t),this.error=r,this.errorDescription=a}}function PO(e){const t=new URL(e);return new URL(t.pathname,t.origin).toString()}async function JA(e,t,r){return new KA({htu:PO(e),htm:t.toUpperCase(),jti:EO()}).setProtectedHeader({alg:mm[0],jwk:r.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(r.privateKey,{})}async function NO(){const{privateKey:e,publicKey:t}=await WA(mm[0]),r={privateKey:e,publicKey:await $b(t)};return[r.publicKey.alg]=mm,r}function FO(e,t){var r,a,o,c;throw e.error==="invalid_redirect_uri"?new Error(`Dynamic client registration failed: the provided redirect uri [${(r=t.redirectUrl)===null||r===void 0?void 0:r.toString()}] is invalid - ${(a=e.error_description)!==null&&a!==void 0?a:""}`):e.error==="invalid_client_metadata"?new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(t)} is invalid - ${(o=e.error_description)!==null&&o!==void 0?o:""}`):new Error(`Dynamic client registration failed: ${e.error} - ${(c=e.error_description)!==null&&c!==void 0?c:""}`)}function DO(e,t){if(e.client_id===void 0)throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(e)}`);if(t.redirectUrl&&(e.redirect_uris===void 0||e.redirect_uris[0]!==t.redirectUrl.toString()))throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(e.redirect_uris)} don't match the provided ${JSON.stringify([t.redirectUrl.toString()])}`)}async function UO(e,t){var r;if(!t.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(t.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const a=OO(t.idTokenSigningAlgValuesSupported,mm),o={client_name:e.clientName,application_type:"web",redirect_uris:[(r=e.redirectUrl)===null||r===void 0?void 0:r.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:a,grant_types:["authorization_code","refresh_token"]},c={"Content-Type":"application/json"},s=await fetch(t.registrationEndpoint.toString(),{method:"POST",headers:c,body:JSON.stringify(o)});if(s.ok){const u=await s.json();return DO(u,e),{clientId:u.client_id,clientSecret:u.client_secret,idTokenSignedResponseAlg:u.id_token_signed_response_alg,clientType:"dynamic"}}throw s.status===400&&FO(await s.json(),e),new Error(`Dynamic client registration failed: the server returned ${s.status} ${s.statusText} - ${await s.text()}`)}function LO(e){return e.error!==void 0&&typeof e.error=="string"}function wS(e){return e.error_description!==void 0&&typeof e.error_description=="string"}function MO(e){return e.error_uri!==void 0&&typeof e.error_uri=="string"}function kO(e){return e.access_token!==void 0&&typeof e.access_token=="string"}function BO(e){return e.id_token!==void 0&&typeof e.id_token=="string"}function jO(e){return e.refresh_token!==void 0&&typeof e.refresh_token=="string"}function HO(e){return e.token_type!==void 0&&typeof e.token_type=="string"}function VO(e){return e.expires_in===void 0||typeof e.expires_in=="number"}function $O(e,t){if(t.grantType&&(!e.grantTypesSupported||!e.grantTypesSupported.includes(t.grantType)))throw new Error(`The issuer [${e.issuer}] does not support the [${t.grantType}] grant`);if(!e.tokenEndpoint)throw new Error(`This issuer [${e.issuer}] does not have a token endpoint`)}function YA(e,t){if(LO(e))throw new IO(`Token endpoint returned error [${e.error}]${wS(e)?`: ${e.error_description}`:""}${MO(e)?` (see ${e.error_uri})`:""}`,e.error,wS(e)?e.error_description:void 0);if(!kO(e))throw new Yy(["access_token"]);if(!BO(e))throw new Yy(["id_token"]);if(!HO(e))throw new Yy(["token_type"]);if(!VO(e))throw new Yy(["expires_in"]);if(!t&&e.token_type.toLowerCase()!=="bearer")throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${e.token_type}].`);return e}async function KO(e,t,r,a){$O(e,r);const o={"content-type":"application/x-www-form-urlencoded"};let c;c=await NO(),o.DPoP=await JA(e.tokenEndpoint,"POST",c),t.clientSecret&&(o.Authorization=`Basic ${btoa(`${t.clientId}:${t.clientSecret}`)}`);const s={grant_type:r.grantType,redirect_uri:r.redirectUrl,code:r.code,code_verifier:r.codeVerifier,client_id:t.clientId},u={method:"POST",headers:o,body:new URLSearchParams(s).toString()},f=await(await Yb(e.tokenEndpoint,u)).json(),g=YA(f,a),v=await Xb(g.id_token,e.jwksUri,e.issuer,t.clientId);return{accessToken:g.access_token,idToken:g.id_token,refreshToken:jO(g)?g.refresh_token:void 0,webId:v,dpopKey:c,expiresIn:g.expires_in}}async function GO(e){let t;try{const r=new fo.OidcClient({response_mode:"query",loadUserInfo:!1});if(t=await r.processSigninResponse(e),r.settings.metadata===void 0)throw new Error("Cannot retrieve issuer metadata from client information in storage.");if(r.settings.metadata.jwks_uri===void 0)throw new Error("Missing some issuer metadata from client information in storage: 'jwks_uri' is undefined");if(r.settings.metadata.issuer===void 0)throw new Error("Missing some issuer metadata from client information in storage: 'issuer' is undefined");if(r.settings.client_id===void 0)throw new Error("Missing some client information in storage: 'client_id' is undefined");const a=await Xb(t.id_token,r.settings.metadata.jwks_uri,r.settings.metadata.issuer,r.settings.client_id);return{accessToken:t.access_token,idToken:t.id_token,webId:a,refreshToken:t.refresh_token}}catch(r){throw new Error(`Problem handling Auth Code Grant (Flow) redirect - URL [${e}]: ${r}`)}}async function qO(e,t,r){return KO(e,t,r,!0)}const zO=e=>{try{return new URL(e),!0}catch{return!1}};async function WO(e,t,r,a){if(r.clientId===void 0)throw new Error("No client ID available when trying to refresh the access token.");const o={grant_type:"refresh_token",refresh_token:e,scope:RO};let c={};a!==void 0&&(c={DPoP:await JA(t.tokenEndpoint,"POST",a)});let s={};r.clientSecret!==void 0?s={Authorization:`Basic ${btoa(`${r.clientId}:${r.clientSecret}`)}`}:zO(r.clientId)&&(o.client_id=r.clientId);const u=await Yb(t.tokenEndpoint,{method:"POST",body:new URLSearchParams(o).toString(),headers:{...c,...s,"Content-Type":"application/x-www-form-urlencoded"}});let h;try{h=await u.json()}catch{throw new Error(`The token endpoint of issuer ${t.issuer} returned a malformed response.`)}const f=YA(h,a!==void 0),g=await Xb(f.id_token,t.jwksUri,t.issuer,r.clientId);return{accessToken:f.access_token,idToken:f.id_token,refreshToken:typeof f.refresh_token=="string"?f.refresh_token:void 0,webId:g,dpopKey:a,expiresIn:f.expires_in}}function JO(e){const t=CO(e);return t.hash="",e.includes(`${t.origin}/`)?t.href:`${t.origin}${t.href.substring(t.origin.length+1)}`}async function YO(){await new fo.OidcClient({response_mode:"query"}).clearStaleState(new fo.WebStorageStateStore({}));const t=window.localStorage,r=[];for(let a=0;a<=t.length;a+=1){const o=t.key(a);o&&(o.match(/^oidc\..+$/)||o.match(/^solidClientAuthenticationUser:.+$/))&&r.push(o)}r.forEach(a=>t.removeItem(a))}const XO=Object.freeze(Object.defineProperty({__proto__:null,CordovaIFrameNavigator:fo.CordovaIFrameNavigator,CordovaPopupNavigator:fo.CordovaPopupNavigator,InMemoryWebStorage:fo.InMemoryWebStorage,Log:fo.Log,OidcClient:fo.OidcClient,SessionMonitor:fo.SessionMonitor,User:fo.User,UserManager:fo.UserManager,Version:fo.Version,WebStorageStateStore:fo.WebStorageStateStore,clearOidcPersistentStorage:YO,getBearerToken:GO,getDpopToken:qO,normalizeCallbackUrl:JO,refresh:WO,registerClient:UO},Symbol.toStringTag,{value:"Module"})),QO=Am(XO);var _S;function ZO(){return _S||(_S=1,function(e){var t=gO(),r=Lb(),a=Rf(),o=QO,c=Ib();class s extends t.StorageUtility{constructor(le,Ce){super(le,Ce)}}class u extends t.ClientAuthentication{constructor(){super(...arguments),this.login=async(le,Ce)=>{var Ye,oe;await this.sessionInfoManager.clear(le.sessionId);const k=(Ye=le.redirectUrl)!==null&&Ye!==void 0?Ye:o.normalizeCallbackUrl(window.location.href);if(!t.isValidRedirectUrl(k))throw new Error(`${k} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...le,redirectUrl:k,clientName:(oe=le.clientName)!==null&&oe!==void 0?oe:le.clientId,eventEmitter:Ce})},this.validateCurrentSession=async le=>{const Ce=await this.sessionInfoManager.get(le);return Ce===void 0||Ce.clientAppId===void 0||Ce.issuer===void 0?null:Ce},this.handleIncomingRedirect=async(le,Ce)=>{try{const Ye=await this.redirectHandler.handle(le,Ce);return this.fetch=Ye.fetch.bind(window),this.boundLogout=Ye.getLogoutUrl,await this.cleanUrlAfterRedirect(le),{isLoggedIn:Ye.isLoggedIn,webId:Ye.webId,sessionId:Ye.sessionId,expirationDate:Ye.expirationDate}}catch(Ye){await this.cleanUrlAfterRedirect(le),Ce.emit(t.EVENTS.ERROR,"redirect",Ye);return}}}async cleanUrlAfterRedirect(le){const Ce=t.removeOpenIdParams(le).href;for(window.history.replaceState(null,"",Ce);window.location.href!==Ce;)await new Promise(Ye=>{setTimeout(()=>Ye(),1)})}}function h(ke){return typeof ke.oidcIssuer=="string"}function f(ke){return typeof ke.redirectUrl=="string"}class g{constructor(le,Ce,Ye,oe){this.storageUtility=le,this.oidcHandler=Ce,this.issuerConfigFetcher=Ye,this.clientRegistrar=oe,this.storageUtility=le,this.oidcHandler=Ce,this.issuerConfigFetcher=Ye,this.clientRegistrar=oe}async canHandle(le){return h(le)&&f(le)}async handle(le){if(!h(le))throw new t.ConfigurationError(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(le)}`);if(!f(le))throw new t.ConfigurationError(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(le)}`);const Ce=await this.issuerConfigFetcher.fetchConfig(le.oidcIssuer),Ye=await t.handleRegistration(le,Ce,this.storageUtility,this.clientRegistrar),oe={issuer:Ce.issuer,dpop:le.tokenType.toLowerCase()==="dpop",...le,issuerConfiguration:Ce,client:Ye};return this.oidcHandler.handle(oe)}}class v extends t.AuthorizationCodeWithPkceOidcHandlerBase{async handle(le){var Ce;const Ye={authority:le.issuer.toString(),client_id:le.client.clientId,client_secret:le.client.clientSecret,redirect_uri:le.redirectUrl.toString(),post_logout_redirect_uri:le.redirectUrl.toString(),response_type:"code",scope:t.DEFAULT_SCOPES,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:(Ce=le.prompt)!==null&&Ce!==void 0?Ce:"consent"},oe=new o.OidcClient(Ye);try{const k=await oe.createSigninRequest();return await this.handleRedirect({oidcLoginOptions:le,state:k.state._id,codeVerifier:k.state._code_verifier,targetUrl:k.url.toString()})}catch(k){console.error(k)}}}const w=".well-known/openid-configuration",S={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};function T(ke){const le={};return Object.keys(ke).forEach(Ce=>{S[Ce]&&(le[S[Ce].toKey]=ke[Ce])}),Array.isArray(le.scopesSupported)||(le.scopesSupported=["openid"]),le}class R{constructor(le){this.storageUtility=le,this.storageUtility=le}static getLocalStorageKey(le){return`issuerConfig:${le}`}async fetchConfig(le){let Ce;const Ye=new URL(w,le.endsWith("/")?le:`${le}/`).href,oe=await c.fetch.call(globalThis,Ye);try{Ce=T(await oe.json())}catch(k){throw new t.ConfigurationError(`[${le.toString()}] has an invalid configuration: ${k.message}`)}return await this.storageUtility.set(R.getLocalStorageKey(le),JSON.stringify(Ce)),Ce}}async function C(ke,le){await t.clear(ke,le),await o.clearOidcPersistentStorage()}class x extends t.SessionInfoManagerBase{async get(le){const[Ce,Ye,oe,k,D,G,ne,_e]=await Promise.all([this.storageUtility.getForUser(le,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(le,"webId",{secure:!0}),this.storageUtility.getForUser(le,"clientId",{secure:!1}),this.storageUtility.getForUser(le,"clientSecret",{secure:!1}),this.storageUtility.getForUser(le,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(le,"refreshToken",{secure:!0}),this.storageUtility.getForUser(le,"issuer",{secure:!1}),this.storageUtility.getForUser(le,"tokenType",{secure:!1})]);if(typeof D=="string"&&!t.isValidRedirectUrl(D)){await Promise.all([this.storageUtility.deleteAllUserData(le,{secure:!1}),this.storageUtility.deleteAllUserData(le,{secure:!0})]);return}if(_e!==void 0&&!t.isSupportedTokenType(_e))throw new Error(`Tokens of type [${_e}] are not supported.`);if(!(oe===void 0&&Ce===void 0&&Ye===void 0&&G===void 0))return{sessionId:le,webId:Ye,isLoggedIn:Ce==="true",redirectUrl:D,refreshToken:G,issuer:ne,clientAppId:oe,clientAppSecret:k,tokenType:_e??"DPoP"}}async clear(le){return C(le,this.storageUtility)}}class F{async canHandle(le){try{return new URL(le),!0}catch(Ce){throw new Error(`[${le}] is not a valid URL, and cannot be used as a redirect URL: ${Ce}`)}}async handle(le){return t.getUnauthenticatedSession()}}const P=(...ke)=>c.fetch.call(globalThis,...ke);class K{constructor(le,Ce,Ye,oe,k){this.storageUtility=le,this.sessionInfoManager=Ce,this.issuerConfigFetcher=Ye,this.clientRegistrar=oe,this.tokerRefresher=k,this.storageUtility=le,this.sessionInfoManager=Ce,this.issuerConfigFetcher=Ye,this.clientRegistrar=oe,this.tokerRefresher=k}async canHandle(le){try{const Ce=new URL(le);return Ce.searchParams.get("code")!==null&&Ce.searchParams.get("state")!==null}catch(Ce){throw new Error(`[${le}] is not a valid URL, and cannot be used as a redirect URL: ${Ce}`)}}async handle(le,Ce){if(!await this.canHandle(le))throw new Error(`AuthCodeRedirectHandler cannot handle [${le}]: it is missing one of [code, state].`);const Ye=new URL(le),oe=Ye.searchParams.get("state"),k=await this.storageUtility.getForUser(oe,"sessionId",{errorIfNull:!0}),{issuerConfig:D,codeVerifier:G,redirectUrl:ne,dpop:_e}=await t.loadOidcContextFromStorage(k,this.storageUtility,this.issuerConfigFetcher),Oe=Ye.searchParams.get("iss");if(typeof Oe=="string"&&Oe!==D.issuer)throw new Error(`The value of the iss parameter (${Oe}) does not match the issuer identifier of the authorization server (${D.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(G===void 0)throw new Error(`The code verifier for session ${k} is missing from storage.`);if(ne===void 0)throw new Error(`The redirect URL for session ${k} is missing from storage.`);const lt=await this.clientRegistrar.getClient({sessionId:k},D);let Te;const yt=Date.now();_e?(Te=await o.getDpopToken(D,lt,{grantType:"authorization_code",code:Ye.searchParams.get("code"),codeVerifier:G,redirectUrl:ne}),window.localStorage.removeItem(`oidc.${oe}`)):Te=await o.getBearerToken(Ye.toString());let Ot;Te.refreshToken!==void 0&&(Ot={sessionId:k,refreshToken:Te.refreshToken,tokenRefresher:this.tokerRefresher});const wt=await t.buildAuthenticatedFetch(P,Te.accessToken,{dpopKey:Te.dpopKey,refreshOptions:Ot,eventEmitter:Ce,expiresIn:Te.expiresIn});await this.storageUtility.setForUser(k,{webId:Te.webId,isLoggedIn:"true"},{secure:!0});const Xe=await this.sessionInfoManager.get(k);if(!Xe)throw new Error(`Could not retrieve session: [${k}].`);return Object.assign(Xe,{fetch:wt,getLogoutUrl:t.maybeBuildRpInitiatedLogout({idTokenHint:Te.idToken,endSessionEndpoint:D.endSessionEndpoint}),expirationDate:typeof Te.expiresIn=="number"?yt+Te.expiresIn*1e3:void 0})}}class M extends t.AggregateHandler{constructor(le){super(le)}}class z{get storage(){return window.localStorage}async get(le){return this.storage.getItem(le)||void 0}async set(le,Ce){this.storage.setItem(le,Ce)}async delete(le){this.storage.removeItem(le)}}class J{redirect(le,Ce){Ce&&Ce.handleRedirect?Ce.handleRedirect(le):Ce&&Ce.redirectByReplacingState?window.history.replaceState({},"",le):window.location.href=le}}class q{constructor(le){this.storageUtility=le,this.storageUtility=le}async getClient(le,Ce){const[Ye,oe]=await Promise.all([this.storageUtility.getForUser(le.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(le.sessionId,"clientSecret",{secure:!1})]);if(Ye)return{clientId:Ye,clientSecret:oe,clientType:"dynamic"};try{const k=await o.registerClient(le,Ce),D={clientId:k.clientId};return k.clientSecret&&(D.clientSecret=k.clientSecret),k.idTokenSignedResponseAlg&&(D.idTokenSignedResponseAlg=k.idTokenSignedResponseAlg),await this.storageUtility.setForUser(le.sessionId,D,{secure:!1}),k}catch(k){throw new Error(`Client registration failed: [${k}]`)}}}class Fe{async canHandle(le){try{return new URL(le).searchParams.has("error")}catch(Ce){throw new Error(`[${le}] is not a valid URL, and cannot be used as a redirect URL: ${Ce}`)}}async handle(le,Ce){if(Ce!==void 0){const Ye=new URL(le),oe=Ye.searchParams.get("error"),k=Ye.searchParams.get("error_description");Ce.emit(t.EVENTS.ERROR,oe,k)}return t.getUnauthenticatedSession()}}class ${constructor(le,Ce,Ye){this.storageUtility=le,this.issuerConfigFetcher=Ce,this.clientRegistrar=Ye,this.storageUtility=le,this.issuerConfigFetcher=Ce,this.clientRegistrar=Ye}async refresh(le,Ce,Ye,oe){const k=await t.loadOidcContextFromStorage(le,this.storageUtility,this.issuerConfigFetcher),D=await this.clientRegistrar.getClient({sessionId:le},k.issuerConfig);if(Ce===void 0)throw new Error(`Session [${le}] has no refresh token to allow it to refresh its access token.`);if(k.dpop&&Ye===void 0)throw new Error(`For session [${le}], the key bound to the DPoP access token must be provided to refresh said access token.`);const G=await o.refresh(Ce,k.issuerConfig,D,Ye);return G.refreshToken!==void 0&&(oe?.emit(t.EVENTS.NEW_REFRESH_TOKEN,G.refreshToken),await this.storageUtility.setForUser(le,{refreshToken:G.refreshToken})),G}}function ie(ke){const le=new t.InMemoryStorage,Ce=ke.secureStorage||le,Ye=ke.insecureStorage||new z,oe=new s(Ce,Ye),k=new R(oe),D=new q(oe),G=new x(oe),ne=new $(oe,k,D),_e=new J,Oe=new g(oe,new v(oe,_e),k,D),lt=new M([new Fe,new K(oe,G,k,D,ne),new F]);return new u(Oe,lt,new t.IWaterfallLogoutHandler(G,_e),G,k)}const ge=`${t.SOLID_CLIENT_AUTHN_KEY_PREFIX}currentSession`,Ee=`${t.SOLID_CLIENT_AUTHN_KEY_PREFIX}currentUrl`;async function tt(ke,le,Ce){var Ye;const oe=await le.validateCurrentSession(ke);return oe!==null?(window.localStorage.setItem(Ee,window.location.href),await le.login({sessionId:ke,prompt:"none",oidcIssuer:oe.issuer,redirectUrl:oe.redirectUrl,clientId:oe.clientAppId,clientSecret:oe.clientAppSecret,tokenType:(Ye=oe.tokenType)!==null&&Ye!==void 0?Ye:"DPoP"},Ce.events),!0):!1}function ct(ke){return!!ke?.isLoggedIn}class Ie extends a{constructor(le={},Ce=void 0){super(),this.tokenRequestInProgress=!1,this.login=async Ye=>{var oe;return await this.clientAuthentication.login({sessionId:this.info.sessionId,...Ye,tokenType:(oe=Ye.tokenType)!==null&&oe!==void 0?oe:"DPoP"},this.events),new Promise(()=>{})},this.fetch=(Ye,oe)=>this.clientAuthentication.fetch(Ye,oe),this.internalLogout=async(Ye,oe)=>{window.localStorage.removeItem(ge),await this.clientAuthentication.logout(this.info.sessionId,oe),this.info.isLoggedIn=!1,Ye&&this.events.emit(t.EVENTS.LOGOUT)},this.logout=async Ye=>this.internalLogout(!0,Ye),this.handleIncomingRedirect=async(Ye={})=>{var oe;if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const k=typeof Ye=="string"?{url:Ye}:Ye,D=(oe=k.url)!==null&&oe!==void 0?oe:window.location.href;this.tokenRequestInProgress=!0;const G=await this.clientAuthentication.handleIncomingRedirect(D,this.events);if(ct(G)){this.setSessionInfo(G);const ne=window.localStorage.getItem(Ee);ne===null?this.events.emit(t.EVENTS.LOGIN):(window.localStorage.removeItem(Ee),this.events.emit(t.EVENTS.SESSION_RESTORED,ne))}else if(k.restorePreviousSession===!0){const ne=window.localStorage.getItem(ge);if(ne!==null&&await tt(ne,this.clientAuthentication,this))return new Promise(()=>{})}return this.tokenRequestInProgress=!1,G},this.events=new Proxy(this,t.buildProxyHandler(Ie.prototype,"events only implements ISessionEventListener")),le.clientAuthentication?this.clientAuthentication=le.clientAuthentication:le.secureStorage&&le.insecureStorage?this.clientAuthentication=ie({secureStorage:le.secureStorage,insecureStorage:le.insecureStorage}):this.clientAuthentication=ie({}),le.sessionInfo?this.info={sessionId:le.sessionInfo.sessionId,isLoggedIn:!1,webId:le.sessionInfo.webId}:this.info={sessionId:Ce??r.v4(),isLoggedIn:!1},this.events.on(t.EVENTS.LOGIN,()=>window.localStorage.setItem(ge,this.info.sessionId)),this.events.on(t.EVENTS.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.events.on(t.EVENTS.ERROR,()=>this.internalLogout(!1))}onLogin(le){this.events.on(t.EVENTS.LOGIN,le)}onLogout(le){this.events.on(t.EVENTS.LOGOUT,le)}onError(le){this.events.on(t.EVENTS.ERROR,le)}onSessionRestore(le){this.events.on(t.EVENTS.SESSION_RESTORED,le)}onSessionExpiration(le){this.events.on(t.EVENTS.SESSION_EXPIRED,le)}setSessionInfo(le){this.info.isLoggedIn=le.isLoggedIn,this.info.webId=le.webId,this.info.sessionId=le.sessionId,this.info.expirationDate=le.expirationDate,this.events.on(t.EVENTS.SESSION_EXTENDED,Ce=>{this.info.expirationDate=Date.now()+Ce*1e3})}}let ht;function de(){return typeof ht>"u"&&(ht=new Ie),ht}const nt=(...ke)=>de().fetch(...ke),Y=(...ke)=>de().login(...ke),Re=(...ke)=>de().logout(...ke),Qe=(...ke)=>de().handleIncomingRedirect(...ke),He=(...ke)=>de().onLogin(...ke),st=(...ke)=>de().onLogout(...ke),It=(...ke)=>de().onSessionRestore(...ke),kt=()=>de().events;Object.defineProperty(e,"ConfigurationError",{enumerable:!0,get:function(){return t.ConfigurationError}}),Object.defineProperty(e,"EVENTS",{enumerable:!0,get:function(){return t.EVENTS}}),Object.defineProperty(e,"InMemoryStorage",{enumerable:!0,get:function(){return t.InMemoryStorage}}),Object.defineProperty(e,"NotImplementedError",{enumerable:!0,get:function(){return t.NotImplementedError}}),e.Session=Ie,e.events=kt,e.fetch=nt,e.getClientAuthenticationWithDependencies=ie,e.getDefaultSession=de,e.handleIncomingRedirect=Qe,e.login=Y,e.logout=Re,e.onLogin=He,e.onLogout=st,e.onSessionRestore=It}(_v)),_v}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function XA(e,t,r,a){function o(c){return c instanceof r?c:new r(function(s){s(c)})}return new(r||(r=Promise))(function(c,s){function u(g){try{f(a.next(g))}catch(v){s(v)}}function h(g){try{f(a.throw(g))}catch(v){s(v)}}function f(g){g.done?c(g.value):o(g.value).then(u,h)}f((a=a.apply(e,[])).next())})}function QA(e,t){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,o,c,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(f){return function(g){return h([f,g])}}function h(f){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,o&&(c=f[0]&2?o.return:f[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,f[1])).done)return c;switch(o=0,c&&(f=[f[0]&2,c.value]),f[0]){case 0:case 1:c=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,o=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!c||f[1]>c[0]&&f[1]<c[3])){r.label=f[1];break}if(f[0]===6&&r.label<c[1]){r.label=c[1],c=f;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(f);break}c[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(g){f=[6,g],o=0}finally{a=c=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Ds=function(){},fa=Ds(),Sg=Object,xa=function(e){return e===fa},qu=function(e){return typeof e=="function"},jl=function(e,t){return Sg.assign({},e,t)},Qb="undefined",Zb=function(){return typeof window!=Qb},eI=function(){return typeof document!=Qb},tI=function(){return Zb()&&typeof window.requestAnimationFrame!=Qb},Xy=new WeakMap,nI=0,Ig=function(e){var t=typeof e,r=e&&e.constructor,a=r==Date,o,c;if(Sg(e)===e&&!a&&r!=RegExp){if(o=Xy.get(e),o)return o;if(o=++nI+"~",Xy.set(e,o),r==Array){for(o="@",c=0;c<e.length;c++)o+=Ig(e[c])+",";Xy.set(e,o)}if(r==Sg){o="#";for(var s=Sg.keys(e).sort();!xa(c=s.pop());)xa(e[c])||(o+=c+":"+Ig(e[c])+",");Xy.set(e,o)}}else o=a?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},Qv=!0,rI=function(){return Qv},ZA=Zb(),ew=eI(),Zv=ZA&&window.addEventListener?window.addEventListener.bind(window):Ds,iI=ew?document.addEventListener.bind(document):Ds,eb=ZA&&window.removeEventListener?window.removeEventListener.bind(window):Ds,aI=ew?document.removeEventListener.bind(document):Ds,oI=function(){var e=ew&&document.visibilityState;return xa(e)||e!=="hidden"},sI=function(e){return iI("visibilitychange",e),Zv("focus",e),function(){aI("visibilitychange",e),eb("focus",e)}},lI=function(e){var t=function(){Qv=!0,e()},r=function(){Qv=!1};return Zv("online",t),Zv("offline",r),function(){eb("online",t),eb("offline",r)}},uI={isOnline:rI,isVisible:oI},cI={initFocus:sI,initReconnect:lI},Bm=!Zb()||"Deno"in window,fI=function(e){return tI()?window.requestAnimationFrame(e):setTimeout(e,1)},Ag=Bm?me.useEffect:me.useLayoutEffect,Av=typeof navigator<"u"&&navigator.connection,ES=!Bm&&Av&&(["slow-2g","2g"].includes(Av.effectiveType)||Av.saveData),tw=function(e){if(qu(e))try{e=e()}catch{e=""}var t=[].concat(e);e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Ig(e):"";var r=e?"$swr$"+e:"";return[e,t,r]},Sf=new WeakMap,ex=0,tx=1,nx=2,xg=function(e,t,r,a,o,c,s){s===void 0&&(s=!0);var u=Sf.get(e),h=u[0],f=u[1],g=u[3],v=h[t],w=f[t];if(s&&w)for(var S=0;S<w.length;++S)w[S](r,a,o);return c&&(delete g[t],v&&v[0])?v[0](nx).then(function(){return e.get(t)}):e.get(t)},dI=0,tb=function(){return++dI},rx=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return XA(void 0,void 0,void 0,function(){var r,a,o,c,s,u,h,f,g,v,w,S,T,R,C,x,F,P,K,M,z;return QA(this,function(J){switch(J.label){case 0:if(r=e[0],a=e[1],o=e[2],c=e[3],s=typeof c=="boolean"?{revalidate:c}:c||{},u=xa(s.populateCache)?!0:s.populateCache,h=s.revalidate!==!1,f=s.rollbackOnError!==!1,g=s.optimisticData,v=tw(a),w=v[0],S=v[2],!w)return[2];if(T=Sf.get(r),R=T[2],e.length<3)return[2,xg(r,w,r.get(w),fa,fa,h,!0)];if(C=o,F=tb(),R[w]=[F,0],P=!xa(g),K=r.get(w),P&&(M=qu(g)?g(K):g,r.set(w,M),xg(r,w,M)),qu(C))try{C=C(r.get(w))}catch(q){x=q}return C&&qu(C.then)?[4,C.catch(function(q){x=q})]:[3,2];case 1:if(C=J.sent(),F!==R[w][0]){if(x)throw x;return[2,C]}else x&&P&&f&&(u=!0,C=K,r.set(w,K));J.label=2;case 2:return u&&(x||(qu(u)&&(C=u(C,K)),r.set(w,C)),r.set(S,jl(r.get(S),{error:x}))),R[w][1]=tb(),[4,xg(r,w,C,x,fa,h,!!u)];case 3:if(z=J.sent(),x)throw x;return[2,u?z:C]}})})},SS=function(e,t){for(var r in e)e[r][0]&&e[r][0](t)},ix=function(e,t){if(!Sf.has(e)){var r=jl(cI,t),a={},o=rx.bind(fa,e),c=Ds;if(Sf.set(e,[a,{},{},{},o]),!Bm){var s=r.initFocus(setTimeout.bind(fa,SS.bind(fa,a,ex))),u=r.initReconnect(setTimeout.bind(fa,SS.bind(fa,a,tx)));c=function(){s&&s(),u&&u(),Sf.delete(e)}}return[e,o,c]}return[e,Sf.get(e)[4]]},hI=function(e,t,r,a,o){var c=r.errorRetryCount,s=o.retryCount,u=~~((Math.random()+.5)*(1<<(s<8?s:8)))*r.errorRetryInterval;!xa(c)&&s>c||setTimeout(a,u,o)},ax=ix(new Map),ox=ax[0],sx=ax[1],lx=jl({onLoadingSlow:Ds,onSuccess:Ds,onError:Ds,onErrorRetry:hI,onDiscarded:Ds,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ES?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:ES?5e3:3e3,compare:function(e,t){return Ig(e)==Ig(t)},isPaused:function(){return!1},cache:ox,mutate:sx,fallback:{}},uI),ux=function(e,t){var r=jl(e,t);if(t){var a=e.use,o=e.fallback,c=t.use,s=t.fallback;a&&c&&(r.use=a.concat(c)),o&&s&&(r.fallback=jl(o,s))}return r},nb=me.createContext({}),pI=function(e){var t=e.value,r=ux(me.useContext(nb),t),a=t&&t.provider,o=me.useState(function(){return a?ix(a(r.cache||ox),t):fa})[0];return o&&(r.cache=o[0],r.mutate=o[1]),Ag(function(){return o?o[2]:fa},[]),me.createElement(nb.Provider,jl(e,{value:r}))},gI=function(e,t){var r=me.useState({})[1],a=me.useRef(e),o=me.useRef({data:!1,error:!1,isValidating:!1}),c=me.useCallback(function(s){var u=!1,h=a.current;for(var f in s){var g=f;h[g]!==s[g]&&(h[g]=s[g],o.current[g]&&(u=!0))}u&&!t.current&&r({})},[]);return Ag(function(){a.current=e}),[a,o.current,c]},yI=function(e){return qu(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}]},cx=function(){return jl(lx,me.useContext(nb))},mI=function(e){return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var o=cx(),c=yI(r),s=c[0],u=c[1],h=c[2],f=ux(o,h),g=e,v=f.use;if(v)for(var w=v.length;w-- >0;)g=v[w](g);return g(s,u||f.fetcher,f)}},AS=function(e,t,r){var a=t[e]||(t[e]=[]);return a.push(r),function(){var o=a.indexOf(r);o>=0&&(a[o]=a[a.length-1],a.pop())}},xv={dedupe:!0},vI=function(e,t,r){var a=r.cache,o=r.compare,c=r.fallbackData,s=r.suspense,u=r.revalidateOnMount,h=r.refreshInterval,f=r.refreshWhenHidden,g=r.refreshWhenOffline,v=Sf.get(a),w=v[0],S=v[1],T=v[2],R=v[3],C=tw(e),x=C[0],F=C[1],P=C[2],K=me.useRef(!1),M=me.useRef(!1),z=me.useRef(x),J=me.useRef(t),q=me.useRef(r),Fe=function(){return q.current},$=function(){return Fe().isVisible()&&Fe().isOnline()},ie=function(ke){return a.set(P,jl(a.get(P),ke))},ge=a.get(x),Ee=xa(c)?r.fallback[x]:c,tt=xa(ge)?Ee:ge,ct=a.get(P)||{},Ie=ct.error,ht=!K.current,de=function(){return ht&&!xa(u)?u:Fe().isPaused()?!1:s?xa(tt)?!1:r.revalidateIfStale:xa(tt)||r.revalidateIfStale},nt=function(){return!x||!t?!1:ct.isValidating?!0:ht&&de()},Y=nt(),Re=gI({data:tt,error:Ie,isValidating:Y},M),Qe=Re[0],He=Re[1],st=Re[2],It=me.useCallback(function(ke){return XA(void 0,void 0,void 0,function(){var le,Ce,Ye,oe,k,D,G,ne,_e,Oe,lt,Te,yt;return QA(this,function(Ot){switch(Ot.label){case 0:if(le=J.current,!x||!le||M.current||Fe().isPaused())return[2,!1];oe=!0,k=ke||{},D=!R[x]||!k.dedupe,G=function(){return!M.current&&x===z.current&&K.current},ne=function(){var wt=R[x];wt&&wt[1]===Ye&&delete R[x]},_e={isValidating:!1},Oe=function(){ie({isValidating:!1}),G()&&st(_e)},ie({isValidating:!0}),st({isValidating:!0}),Ot.label=1;case 1:return Ot.trys.push([1,3,,4]),D&&(xg(a,x,Qe.current.data,Qe.current.error,!0),r.loadingTimeout&&!a.get(x)&&setTimeout(function(){oe&&G()&&Fe().onLoadingSlow(x,r)},r.loadingTimeout),R[x]=[le.apply(void 0,F),tb()]),yt=R[x],Ce=yt[0],Ye=yt[1],[4,Ce];case 2:return Ce=Ot.sent(),D&&setTimeout(ne,r.dedupingInterval),!R[x]||R[x][1]!==Ye?(D&&G()&&Fe().onDiscarded(x),[2,!1]):(ie({error:fa}),_e.error=fa,lt=T[x],!xa(lt)&&(Ye<=lt[0]||Ye<=lt[1]||lt[1]===0)?(Oe(),D&&G()&&Fe().onDiscarded(x),[2,!1]):(o(Qe.current.data,Ce)?_e.data=Qe.current.data:_e.data=Ce,o(a.get(x),Ce)||a.set(x,Ce),D&&G()&&Fe().onSuccess(Ce,x,r),[3,4]));case 3:return Te=Ot.sent(),ne(),Fe().isPaused()||(ie({error:Te}),_e.error=Te,D&&G()&&(Fe().onError(Te,x,r),(typeof r.shouldRetryOnError=="boolean"&&r.shouldRetryOnError||qu(r.shouldRetryOnError)&&r.shouldRetryOnError(Te))&&$()&&Fe().onErrorRetry(Te,x,r,It,{retryCount:(k.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return oe=!1,Oe(),G()&&D&&xg(a,x,_e.data,_e.error,!1),[2,!0]}})})},[x]),kt=me.useCallback(rx.bind(fa,a,function(){return z.current}),[]);if(Ag(function(){J.current=t,q.current=r}),Ag(function(){if(x){var ke=x!==z.current,le=It.bind(fa,xv),Ce=function(G,ne,_e){st(jl({error:ne,isValidating:_e},o(Qe.current.data,G)?fa:{data:G}))},Ye=0,oe=function(G){if(G==ex){var ne=Date.now();Fe().revalidateOnFocus&&ne>Ye&&$()&&(Ye=ne+Fe().focusThrottleInterval,le())}else if(G==tx)Fe().revalidateOnReconnect&&$()&&le();else if(G==nx)return It()},k=AS(x,S,Ce),D=AS(x,w,oe);return M.current=!1,z.current=x,K.current=!0,ke&&st({data:tt,error:Ie,isValidating:Y}),de()&&(xa(tt)||Bm?le():fI(le)),function(){M.current=!0,k(),D()}}},[x,It]),Ag(function(){var ke;function le(){var Ye=qu(h)?h(tt):h;Ye&&ke!==-1&&(ke=setTimeout(Ce,Ye))}function Ce(){!Qe.current.error&&(f||Fe().isVisible())&&(g||Fe().isOnline())?It(xv).then(le):le()}return le(),function(){ke&&(clearTimeout(ke),ke=-1)}},[h,f,g,It]),me.useDebugValue(tt),s&&xa(tt)&&x)throw J.current=t,q.current=r,M.current=!1,xa(Ie)?It(xv):Ie;return{mutate:kt,get data(){return He.data=!0,tt},get error(){return He.error=!0,Ie},get isValidating(){return He.isValidating=!0,Y}}},bI=Sg.defineProperty(pI,"default",{value:lx}),wI=function(e){return tw(e)[0]},_I=mI(vI);const EI=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:bI,default:_I,mutate:sx,unstable_serialize:wI,useSWRConfig:cx},Symbol.toStringTag,{value:"Module"})),SI=Am(EI);var Rv={exports:{}},wg={exports:{}},AI=wg.exports,xS;function xI(){return xS||(xS=1,function(e,t){(function(r,a){a(t,Ug())})(AI,function(r,a){function o(U,te,re,fe,Le,ve,$e){try{var Rt=U[ve]($e),_t=Rt.value}catch(Pt){return void re(Pt)}Rt.done?te(_t):Promise.resolve(_t).then(fe,Le)}function c(U){return function(){var te=this,re=arguments;return new Promise(function(fe,Le){var ve=U.apply(te,re);function $e(_t){o(ve,fe,Le,$e,Rt,"next",_t)}function Rt(_t){o(ve,fe,Le,$e,Rt,"throw",_t)}$e(void 0)})}}function s(){return(s=Object.assign||function(U){for(var te=1;te<arguments.length;te++){var re=arguments[te];for(var fe in re)Object.prototype.hasOwnProperty.call(re,fe)&&(U[fe]=re[fe])}return U}).apply(this,arguments)}function u(U,te){if(U==null)return{};var re,fe,Le={},ve=Object.keys(U);for(fe=0;fe<ve.length;fe++)re=ve[fe],te.indexOf(re)>=0||(Le[re]=U[re]);return Le}function h(U){var te=function(re,fe){if(typeof re!="object"||re===null)return re;var Le=re[Symbol.toPrimitive];if(Le!==void 0){var ve=Le.call(re,fe);if(typeof ve!="object")return ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(re)}(U,"string");return typeof te=="symbol"?te:String(te)}a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;var f={init:"init"},g=function(U){var te=U.value;return te===void 0?"":te},v=function(){return a.createElement(a.Fragment,null," ")},w={Cell:g,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function S(){for(var U=arguments.length,te=new Array(U),re=0;re<U;re++)te[re]=arguments[re];return te.reduce(function(fe,Le){var ve=Le.style,$e=Le.className;return fe=s({},fe,{},u(Le,["style","className"])),ve&&(fe.style=fe.style?s({},fe.style||{},{},ve||{}):ve),$e&&(fe.className=fe.className?fe.className+" "+$e:$e),fe.className===""&&delete fe.className,fe},{})}var T=function(U,te){return te===void 0&&(te={}),function(re){return re===void 0&&(re={}),[].concat(U,[re]).reduce(function(fe,Le){return function ve($e,Rt,_t){return typeof Rt=="function"?ve({},Rt($e,_t)):Array.isArray(Rt)?S.apply(void 0,[$e].concat(Rt)):S($e,Rt)}(fe,Le,s({},te,{userProps:re}))},{})}},R=function(U,te,re,fe){return re===void 0&&(re={}),U.reduce(function(Le,ve){return ve(Le,re)},te)},C=function(U,te,re){return re===void 0&&(re={}),U.forEach(function(fe){fe(te,re)})};function x(U,te,re,fe){U.findIndex(function(Le){return Le.pluginName===re}),te.forEach(function(Le){U.findIndex(function(ve){return ve.pluginName===Le})})}function F(U,te){return typeof U=="function"?U(te):U}function P(U){var te=a.useRef();return te.current=U,a.useCallback(function(){return te.current},[])}var K=typeof document<"u"?a.useLayoutEffect:a.useEffect;function M(U,te){var re=a.useRef(!1);K(function(){re.current&&U(),re.current=!0},te)}function z(U,te,re){return re===void 0&&(re={}),function(fe,Le){Le===void 0&&(Le={});var ve=typeof fe=="string"?te[fe]:fe;if(ve===void 0)throw console.info(te),new Error("Renderer Error ☝️");return J(ve,s({},U,{column:te},re,{},Le))}}function J(U,te){return function(fe){return typeof fe=="function"&&(Le=Object.getPrototypeOf(fe)).prototype&&Le.prototype.isReactComponent;var Le}(re=U)||typeof re=="function"||function(fe){return typeof fe=="object"&&typeof fe.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(fe.$$typeof.description)}(re)?a.createElement(U,te):U;var re}function q(U,te,re){return re===void 0&&(re=0),U.map(function(fe){return $(fe=s({},fe,{parent:te,depth:re})),fe.columns&&(fe.columns=q(fe.columns,fe,re+1)),fe})}function Fe(U){return Ie(U,"columns")}function $(U){var te=U.id,re=U.accessor,fe=U.Header;if(typeof re=="string"){te=te||re;var Le=re.split(".");re=function(ve){return function($e,Rt,_t){if(!Rt)return $e;var Pt,qt=typeof Rt=="function"?Rt:JSON.stringify(Rt),Vt=Ee.get(qt)||function(){var Wt=function(Ut){return function Jt(an,fn){if(fn===void 0&&(fn=[]),Array.isArray(an))for(var wn=0;wn<an.length;wn+=1)Jt(an[wn],fn);else fn.push(an);return fn}(Ut).map(function(Jt){return String(Jt).replace(".","_")}).join(".").replace(Qe,".").replace(He,"").split(".")}(Rt);return Ee.set(qt,Wt),Wt}();try{Pt=Vt.reduce(function(Wt,Ut){return Wt[Ut]},$e)}catch{}return Pt!==void 0?Pt:_t}(ve,Le)}}if(!te&&typeof fe=="string"&&fe&&(te=fe),!te&&U.columns)throw console.error(U),new Error('A column ID (or unique "Header" value) is required!');if(!te)throw console.error(U),new Error("A column ID (or string accessor) is required!");return Object.assign(U,{id:te,accessor:re}),U}function ie(U,te){if(!te)throw new Error;return Object.assign(U,s({Header:v,Footer:v},w,{},te,{},U)),Object.assign(U,{originalWidth:U.width}),U}function ge(U,te,re){re===void 0&&(re=function(){return{}});for(var fe=[],Le=U,ve=0,$e=function(){return ve++},Rt=function(){var _t={headers:[]},Pt=[],qt=Le.some(function(Vt){return Vt.parent});Le.forEach(function(Vt){var Wt,Ut=[].concat(Pt).reverse()[0];qt&&(Vt.parent?Wt=s({},Vt.parent,{originalId:Vt.parent.id,id:Vt.parent.id+"_"+$e(),headers:[Vt]},re(Vt)):Wt=ie(s({originalId:Vt.id+"_placeholder",id:Vt.id+"_placeholder_"+$e(),placeholderOf:Vt,headers:[Vt]},re(Vt)),te),Ut&&Ut.originalId===Wt.originalId?Ut.headers.push(Vt):Pt.push(Wt)),_t.headers.push(Vt)}),fe.push(_t),Le=Pt};Le.length;)Rt();return fe.reverse()}var Ee=new Map;function tt(){for(var U=arguments.length,te=new Array(U),re=0;re<U;re++)te[re]=arguments[re];for(var fe=0;fe<te.length;fe+=1)if(te[fe]!==void 0)return te[fe]}function ct(U){if(typeof U=="function")return U}function Ie(U,te){var re=[];return function fe(Le){Le.forEach(function(ve){ve[te]?fe(ve[te]):re.push(ve)})}(U),re}function ht(U,te){var re=te.manualExpandedKey,fe=te.expanded,Le=te.expandSubRows,ve=Le===void 0||Le,$e=[];return U.forEach(function(Rt){return function _t(Pt,qt){qt===void 0&&(qt=!0),Pt.isExpanded=Pt.original&&Pt.original[re]||fe[Pt.id],Pt.canExpand=Pt.subRows&&!!Pt.subRows.length,qt&&$e.push(Pt),Pt.subRows&&Pt.subRows.length&&Pt.isExpanded&&Pt.subRows.forEach(function(Vt){return _t(Vt,ve)})}(Rt)}),$e}function de(U,te,re){return ct(U)||te[U]||re[U]||re.text}function nt(U,te,re){return U?U(te,re):te===void 0}function Y(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var Re=null,Qe=/\[/g,He=/\]/g,st=function(U){return s({role:"table"},U)},It=function(U){return s({role:"rowgroup"},U)},kt=function(U,te){var re=te.column;return s({key:"header_"+re.id,colSpan:re.totalVisibleHeaderCount,role:"columnheader"},U)},ke=function(U,te){var re=te.column;return s({key:"footer_"+re.id,colSpan:re.totalVisibleHeaderCount},U)},le=function(U,te){return s({key:"headerGroup_"+te.index,role:"row"},U)},Ce=function(U,te){return s({key:"footerGroup_"+te.index},U)},Ye=function(U,te){return s({key:"row_"+te.row.id,role:"row"},U)},oe=function(U,te){var re=te.cell;return s({key:"cell_"+re.row.id+"_"+re.column.id,role:"cell"},U)};function k(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[st],getTableBodyProps:[It],getHeaderGroupProps:[le],getFooterGroupProps:[Ce],getHeaderProps:[kt],getFooterProps:[ke],getRowProps:[Ye],getCellProps:[oe],useFinalInstance:[]}}f.resetHiddenColumns="resetHiddenColumns",f.toggleHideColumn="toggleHideColumn",f.setHiddenColumns="setHiddenColumns",f.toggleHideAllColumns="toggleHideAllColumns";var D=function(U){U.getToggleHiddenProps=[G],U.getToggleHideAllColumnsProps=[ne],U.stateReducers.push(_e),U.useInstanceBeforeDimensions.push(Oe),U.headerGroupsDeps.push(function(te,re){var fe=re.instance;return[].concat(te,[fe.state.hiddenColumns])}),U.useInstance.push(lt)};D.pluginName="useColumnVisibility";var G=function(U,te){var re=te.column;return[U,{onChange:function(fe){re.toggleHidden(!fe.target.checked)},style:{cursor:"pointer"},checked:re.isVisible,title:"Toggle Column Visible"}]},ne=function(U,te){var re=te.instance;return[U,{onChange:function(fe){re.toggleHideAllColumns(!fe.target.checked)},style:{cursor:"pointer"},checked:!re.allColumnsHidden&&!re.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!re.allColumnsHidden&&re.state.hiddenColumns.length}]};function _e(U,te,re,fe){if(te.type===f.init)return s({hiddenColumns:[]},U);if(te.type===f.resetHiddenColumns)return s({},U,{hiddenColumns:fe.initialState.hiddenColumns||[]});if(te.type===f.toggleHideColumn){var Le=(te.value!==void 0?te.value:!U.hiddenColumns.includes(te.columnId))?[].concat(U.hiddenColumns,[te.columnId]):U.hiddenColumns.filter(function(ve){return ve!==te.columnId});return s({},U,{hiddenColumns:Le})}return te.type===f.setHiddenColumns?s({},U,{hiddenColumns:F(te.value,U.hiddenColumns)}):te.type===f.toggleHideAllColumns?s({},U,{hiddenColumns:(te.value!==void 0?te.value:!U.hiddenColumns.length)?fe.allColumns.map(function(ve){return ve.id}):[]}):void 0}function Oe(U){var te=U.headers,re=U.state.hiddenColumns;a.useRef(!1).current;var fe=0;te.forEach(function(Le){return fe+=function ve($e,Rt){$e.isVisible=Rt&&!re.includes($e.id);var _t=0;return $e.headers&&$e.headers.length?$e.headers.forEach(function(Pt){return _t+=ve(Pt,$e.isVisible)}):_t=$e.isVisible?1:0,$e.totalVisibleHeaderCount=_t,_t}(Le,!0)})}function lt(U){var te=U.columns,re=U.flatHeaders,fe=U.dispatch,Le=U.allColumns,ve=U.getHooks,$e=U.state.hiddenColumns,Rt=U.autoResetHiddenColumns,_t=Rt===void 0||Rt,Pt=P(U),qt=Le.length===$e.length,Vt=a.useCallback(function(fn,wn){return fe({type:f.toggleHideColumn,columnId:fn,value:wn})},[fe]),Wt=a.useCallback(function(fn){return fe({type:f.setHiddenColumns,value:fn})},[fe]),Ut=a.useCallback(function(fn){return fe({type:f.toggleHideAllColumns,value:fn})},[fe]),Jt=T(ve().getToggleHideAllColumnsProps,{instance:Pt()});re.forEach(function(fn){fn.toggleHidden=function(wn){fe({type:f.toggleHideColumn,columnId:fn.id,value:wn})},fn.getToggleHiddenProps=T(ve().getToggleHiddenProps,{instance:Pt(),column:fn})});var an=P(_t);M(function(){an()&&fe({type:f.resetHiddenColumns})},[fe,te]),Object.assign(U,{allColumnsHidden:qt,toggleHideColumn:Vt,setHiddenColumns:Wt,toggleHideAllColumns:Ut,getToggleHideAllColumnsProps:Jt})}var Te={},yt={},Ot=function(U,te,re){return U},wt=function(U,te){return U.subRows||[]},Xe=function(U,te,re){return""+(re?[re.id,te].join("."):te)},ze=function(U){return U};function Pe(U){var te=U.initialState,re=te===void 0?Te:te,fe=U.defaultColumn,Le=fe===void 0?yt:fe,ve=U.getSubRows,$e=ve===void 0?wt:ve,Rt=U.getRowId,_t=Rt===void 0?Xe:Rt,Pt=U.stateReducer,qt=Pt===void 0?Ot:Pt,Vt=U.useControlledState,Wt=Vt===void 0?ze:Vt;return s({},u(U,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:re,defaultColumn:Le,getSubRows:$e,getRowId:_t,stateReducer:qt,useControlledState:Wt})}function ft(U,te){te===void 0&&(te=0);var re=0,fe=0,Le=0,ve=0;return U.forEach(function($e){var Rt=$e.headers;if($e.totalLeft=te,Rt&&Rt.length){var _t=ft(Rt,te),Pt=_t[0],qt=_t[1],Vt=_t[2],Wt=_t[3];$e.totalMinWidth=Pt,$e.totalWidth=qt,$e.totalMaxWidth=Vt,$e.totalFlexWidth=Wt}else $e.totalMinWidth=$e.minWidth,$e.totalWidth=Math.min(Math.max($e.minWidth,$e.width),$e.maxWidth),$e.totalMaxWidth=$e.maxWidth,$e.totalFlexWidth=$e.canResize?$e.totalWidth:0;$e.isVisible&&(te+=$e.totalWidth,re+=$e.totalMinWidth,fe+=$e.totalWidth,Le+=$e.totalMaxWidth,ve+=$e.totalFlexWidth)}),[re,fe,Le,ve]}function X(U){var te=U.data,re=U.rows,fe=U.flatRows,Le=U.rowsById,ve=U.column,$e=U.getRowId,Rt=U.getSubRows,_t=U.accessValueHooks,Pt=U.getInstance;te.forEach(function(qt,Vt){return function Wt(Ut,Jt,an,fn,wn){an===void 0&&(an=0);var Gn=Ut,_n=$e(Ut,Jt,fn),Xt=Le[_n];if(Xt)Xt.subRows&&Xt.originalSubRows.forEach(function(pn,kn){return Wt(pn,kn,an+1,Xt)});else if((Xt={id:_n,original:Gn,index:Jt,depth:an,cells:[{}]}).cells.map=Y,Xt.cells.filter=Y,Xt.cells.forEach=Y,Xt.cells[0].getCellProps=Y,Xt.values={},wn.push(Xt),fe.push(Xt),Le[_n]=Xt,Xt.originalSubRows=Rt(Ut,Jt),Xt.originalSubRows){var Bn=[];Xt.originalSubRows.forEach(function(pn,kn){return Wt(pn,kn,an+1,Xt,Bn)}),Xt.subRows=Bn}ve.accessor&&(Xt.values[ve.id]=ve.accessor(Ut,Jt,Xt,wn,te)),Xt.values[ve.id]=R(_t,Xt.values[ve.id],{row:Xt,column:ve,instance:Pt()})}(qt,Vt,0,void 0,re)})}f.resetExpanded="resetExpanded",f.toggleRowExpanded="toggleRowExpanded",f.toggleAllRowsExpanded="toggleAllRowsExpanded";var B=function(U){U.getToggleAllRowsExpandedProps=[V],U.getToggleRowExpandedProps=[H],U.stateReducers.push(We),U.useInstance.push(rt),U.prepareRow.push(Je)};B.pluginName="useExpanded";var V=function(U,te){var re=te.instance;return[U,{onClick:function(fe){re.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},H=function(U,te){var re=te.row;return[U,{onClick:function(){re.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function We(U,te,re,fe){if(te.type===f.init)return s({expanded:{}},U);if(te.type===f.resetExpanded)return s({},U,{expanded:fe.initialState.expanded||{}});if(te.type===f.toggleAllRowsExpanded){var Le=te.value,ve=fe.rowsById,$e=Object.keys(ve).length===Object.keys(U.expanded).length;if(Le!==void 0?Le:!$e){var Rt={};return Object.keys(ve).forEach(function(Jt){Rt[Jt]=!0}),s({},U,{expanded:Rt})}return s({},U,{expanded:{}})}if(te.type===f.toggleRowExpanded){var _t,Pt=te.id,qt=te.value,Vt=U.expanded[Pt],Wt=qt!==void 0?qt:!Vt;if(!Vt&&Wt)return s({},U,{expanded:s({},U.expanded,(_t={},_t[Pt]=!0,_t))});if(Vt&&!Wt){var Ut=U.expanded;return Ut[Pt],s({},U,{expanded:u(Ut,[Pt].map(h))})}return U}}function rt(U){var te=U.data,re=U.rows,fe=U.rowsById,Le=U.manualExpandedKey,ve=Le===void 0?"expanded":Le,$e=U.paginateExpandedRows,Rt=$e===void 0||$e,_t=U.expandSubRows,Pt=_t===void 0||_t,qt=U.autoResetExpanded,Vt=qt===void 0||qt,Wt=U.getHooks,Ut=U.plugins,Jt=U.state.expanded,an=U.dispatch;x(Ut,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var fn=P(Vt),wn=!!(Object.keys(fe).length&&Object.keys(Jt).length);wn&&Object.keys(fe).some(function(Jn){return!Jt[Jn]})&&(wn=!1),M(function(){fn()&&an({type:f.resetExpanded})},[an,te]);var Gn=a.useCallback(function(Jn,Dt){an({type:f.toggleRowExpanded,id:Jn,value:Dt})},[an]),_n=a.useCallback(function(Jn){return an({type:f.toggleAllRowsExpanded,value:Jn})},[an]),Xt=a.useMemo(function(){return Rt?ht(re,{manualExpandedKey:ve,expanded:Jt,expandSubRows:Pt}):re},[Rt,re,ve,Jt,Pt]),Bn=a.useMemo(function(){return function(Jn){var Dt=0;return Object.keys(Jn).forEach(function(Pn){var vr=Pn.split(".");Dt=Math.max(Dt,vr.length)}),Dt}(Jt)},[Jt]),pn=P(U),kn=T(Wt().getToggleAllRowsExpandedProps,{instance:pn()});Object.assign(U,{preExpandedRows:re,expandedRows:Xt,rows:Xt,expandedDepth:Bn,isAllRowsExpanded:wn,toggleRowExpanded:Gn,toggleAllRowsExpanded:_n,getToggleAllRowsExpandedProps:kn})}function Je(U,te){var re=te.instance.getHooks,fe=te.instance;U.toggleRowExpanded=function(Le){return fe.toggleRowExpanded(U.id,Le)},U.getToggleRowExpandedProps=T(re().getToggleRowExpandedProps,{instance:fe,row:U})}var Yt=function(U,te,re){return U=U.filter(function(fe){return te.some(function(Le){var ve=fe.values[Le];return String(ve).toLowerCase().includes(String(re).toLowerCase())})})};Yt.autoRemove=function(U){return!U};var jn=function(U,te,re){return U.filter(function(fe){return te.some(function(Le){var ve=fe.values[Le];return ve===void 0||String(ve).toLowerCase()===String(re).toLowerCase()})})};jn.autoRemove=function(U){return!U};var Vn=function(U,te,re){return U.filter(function(fe){return te.some(function(Le){var ve=fe.values[Le];return ve===void 0||String(ve)===String(re)})})};Vn.autoRemove=function(U){return!U};var sn=function(U,te,re){return U.filter(function(fe){return te.some(function(Le){return fe.values[Le].includes(re)})})};sn.autoRemove=function(U){return!U||!U.length};var Ge=function(U,te,re){return U.filter(function(fe){return te.some(function(Le){var ve=fe.values[Le];return ve&&ve.length&&re.every(function($e){return ve.includes($e)})})})};Ge.autoRemove=function(U){return!U||!U.length};var bt=function(U,te,re){return U.filter(function(fe){return te.some(function(Le){var ve=fe.values[Le];return ve&&ve.length&&re.some(function($e){return ve.includes($e)})})})};bt.autoRemove=function(U){return!U||!U.length};var ut=function(U,te,re){return U.filter(function(fe){return te.some(function(Le){var ve=fe.values[Le];return re.includes(ve)})})};ut.autoRemove=function(U){return!U||!U.length};var Me=function(U,te,re){return U.filter(function(fe){return te.some(function(Le){return fe.values[Le]===re})})};Me.autoRemove=function(U){return U===void 0};var pt=function(U,te,re){return U.filter(function(fe){return te.some(function(Le){return fe.values[Le]==re})})};pt.autoRemove=function(U){return U==null};var Qt=function(U,te,re){var fe=re||[],Le=fe[0],ve=fe[1];if((Le=typeof Le=="number"?Le:-1/0)>(ve=typeof ve=="number"?ve:1/0)){var $e=Le;Le=ve,ve=$e}return U.filter(function(Rt){return te.some(function(_t){var Pt=Rt.values[_t];return Pt>=Le&&Pt<=ve})})};Qt.autoRemove=function(U){return!U||typeof U[0]!="number"&&typeof U[1]!="number"};var zt=Object.freeze({__proto__:null,text:Yt,exactText:jn,exactTextCase:Vn,includes:sn,includesAll:Ge,includesSome:bt,includesValue:ut,exact:Me,equals:pt,between:Qt});f.resetFilters="resetFilters",f.setFilter="setFilter",f.setAllFilters="setAllFilters";var tn=function(U){U.stateReducers.push(Ht),U.useInstance.push(ue)};function Ht(U,te,re,fe){if(te.type===f.init)return s({filters:[]},U);if(te.type===f.resetFilters)return s({},U,{filters:fe.initialState.filters||[]});if(te.type===f.setFilter){var Le=te.columnId,ve=te.filterValue,$e=fe.allColumns,Rt=fe.filterTypes,_t=$e.find(function(an){return an.id===Le});if(!_t)throw new Error("React-Table: Could not find a column with id: "+Le);var Pt=de(_t.filter,Rt||{},zt),qt=U.filters.find(function(an){return an.id===Le}),Vt=F(ve,qt&&qt.value);return nt(Pt.autoRemove,Vt,_t)?s({},U,{filters:U.filters.filter(function(an){return an.id!==Le})}):s({},U,qt?{filters:U.filters.map(function(an){return an.id===Le?{id:Le,value:Vt}:an})}:{filters:[].concat(U.filters,[{id:Le,value:Vt}])})}if(te.type===f.setAllFilters){var Wt=te.filters,Ut=fe.allColumns,Jt=fe.filterTypes;return s({},U,{filters:F(Wt,U.filters).filter(function(an){var fn=Ut.find(function(wn){return wn.id===an.id});return!nt(de(fn.filter,Jt||{},zt).autoRemove,an.value,fn)})})}}function ue(U){var te=U.data,re=U.rows,fe=U.flatRows,Le=U.rowsById,ve=U.allColumns,$e=U.filterTypes,Rt=U.manualFilters,_t=U.defaultCanFilter,Pt=_t!==void 0&&_t,qt=U.disableFilters,Vt=U.state.filters,Wt=U.dispatch,Ut=U.autoResetFilters,Jt=Ut===void 0||Ut,an=a.useCallback(function(pn,kn){Wt({type:f.setFilter,columnId:pn,filterValue:kn})},[Wt]),fn=a.useCallback(function(pn){Wt({type:f.setAllFilters,filters:pn})},[Wt]);ve.forEach(function(pn){var kn=pn.id,Jn=pn.accessor,Dt=pn.defaultCanFilter,Pn=pn.disableFilters;pn.canFilter=Jn?tt(Pn!==!0&&void 0,qt!==!0&&void 0,!0):tt(Dt,Pt,!1),pn.setFilter=function(Mn){return an(pn.id,Mn)};var vr=Vt.find(function(Mn){return Mn.id===kn});pn.filterValue=vr&&vr.value});var wn=a.useMemo(function(){if(Rt||!Vt.length)return[re,fe,Le];var pn=[],kn={};return[function Jn(Dt,Pn){Pn===void 0&&(Pn=0);var vr=Dt;return(vr=Vt.reduce(function(Mn,pr){var lr=pr.id,Nr=pr.value,En=ve.find(function(Yr){return Yr.id===lr});if(!En)return Mn;Pn===0&&(En.preFilteredRows=Mn);var $n=de(En.filter,$e||{},zt);return $n?(En.filteredRows=$n(Mn,[lr],Nr),En.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+En.id+"."),Mn)},Dt)).forEach(function(Mn){pn.push(Mn),kn[Mn.id]=Mn,Mn.subRows&&(Mn.subRows=Mn.subRows&&Mn.subRows.length>0?Jn(Mn.subRows,Pn+1):Mn.subRows)}),vr}(re),pn,kn]},[Rt,Vt,re,fe,Le,ve,$e]),Gn=wn[0],_n=wn[1],Xt=wn[2];a.useMemo(function(){ve.filter(function(pn){return!Vt.find(function(kn){return kn.id===pn.id})}).forEach(function(pn){pn.preFilteredRows=Gn,pn.filteredRows=Gn})},[Gn,Vt,ve]);var Bn=P(Jt);M(function(){Bn()&&Wt({type:f.resetFilters})},[Wt,Rt?null:te]),Object.assign(U,{preFilteredRows:re,preFilteredFlatRows:fe,preFilteredRowsById:Le,filteredRows:Gn,filteredFlatRows:_n,filteredRowsById:Xt,rows:Gn,flatRows:_n,rowsById:Xt,setFilter:an,setAllFilters:fn})}tn.pluginName="useFilters",f.resetGlobalFilter="resetGlobalFilter",f.setGlobalFilter="setGlobalFilter";var ye=function(U){U.stateReducers.push(Ct),U.useInstance.push(Tt)};function Ct(U,te,re,fe){if(te.type===f.resetGlobalFilter)return s({},U,{globalFilter:fe.initialState.globalFilter||void 0});if(te.type===f.setGlobalFilter){var Le=te.filterValue,ve=fe.userFilterTypes,$e=de(fe.globalFilter,ve||{},zt),Rt=F(Le,U.globalFilter);return nt($e.autoRemove,Rt)?(U.globalFilter,u(U,["globalFilter"])):s({},U,{globalFilter:Rt})}}function Tt(U){var te=U.data,re=U.rows,fe=U.flatRows,Le=U.rowsById,ve=U.allColumns,$e=U.filterTypes,Rt=U.globalFilter,_t=U.manualGlobalFilter,Pt=U.state.globalFilter,qt=U.dispatch,Vt=U.autoResetGlobalFilter,Wt=Vt===void 0||Vt,Ut=U.disableGlobalFilter,Jt=a.useCallback(function(Xt){qt({type:f.setGlobalFilter,filterValue:Xt})},[qt]),an=a.useMemo(function(){if(_t||Pt===void 0)return[re,fe,Le];var Xt=[],Bn={},pn=de(Rt,$e||{},zt);if(!pn)return console.warn("Could not find a valid 'globalFilter' option."),re;ve.forEach(function(Jn){var Dt=Jn.disableGlobalFilter;Jn.canFilter=tt(Dt!==!0&&void 0,Ut!==!0&&void 0,!0)});var kn=ve.filter(function(Jn){return Jn.canFilter===!0});return[function Jn(Dt){return(Dt=pn(Dt,kn.map(function(Pn){return Pn.id}),Pt)).forEach(function(Pn){Xt.push(Pn),Bn[Pn.id]=Pn,Pn.subRows=Pn.subRows&&Pn.subRows.length?Jn(Pn.subRows):Pn.subRows}),Dt}(re),Xt,Bn]},[_t,Pt,Rt,$e,ve,re,fe,Le,Ut]),fn=an[0],wn=an[1],Gn=an[2],_n=P(Wt);M(function(){_n()&&qt({type:f.resetGlobalFilter})},[qt,_t?null:te]),Object.assign(U,{preGlobalFilteredRows:re,preGlobalFilteredFlatRows:fe,preGlobalFilteredRowsById:Le,globalFilteredRows:fn,globalFilteredFlatRows:wn,globalFilteredRowsById:Gn,rows:fn,flatRows:wn,rowsById:Gn,setGlobalFilter:Jt,disableGlobalFilter:Ut})}function Nt(U,te){return te.reduce(function(re,fe){return re+(typeof fe=="number"?fe:0)},0)}ye.pluginName="useGlobalFilter";var Zt=Object.freeze({__proto__:null,sum:Nt,min:function(U){var te=U[0]||0;return U.forEach(function(re){typeof re=="number"&&(te=Math.min(te,re))}),te},max:function(U){var te=U[0]||0;return U.forEach(function(re){typeof re=="number"&&(te=Math.max(te,re))}),te},minMax:function(U){var te=U[0]||0,re=U[0]||0;return U.forEach(function(fe){typeof fe=="number"&&(te=Math.min(te,fe),re=Math.max(re,fe))}),te+".."+re},average:function(U){return Nt(0,U)/U.length},median:function(U){if(!U.length)return null;var te=Math.floor(U.length/2),re=[].concat(U).sort(function(fe,Le){return fe-Le});return U.length%2!=0?re[te]:(re[te-1]+re[te])/2},unique:function(U){return Array.from(new Set(U).values())},uniqueCount:function(U){return new Set(U).size},count:function(U){return U.length}}),nn=[],Dn={};f.resetGroupBy="resetGroupBy",f.setGroupBy="setGroupBy",f.toggleGroupBy="toggleGroupBy";var $t=function(U){U.getGroupByToggleProps=[en],U.stateReducers.push(vn),U.visibleColumnsDeps.push(function(te,re){var fe=re.instance;return[].concat(te,[fe.state.groupBy])}),U.visibleColumns.push(on),U.useInstance.push(xn),U.prepareRow.push(qn)};$t.pluginName="useGroupBy";var en=function(U,te){var re=te.header;return[U,{onClick:re.canGroupBy?function(fe){fe.persist(),re.toggleGroupBy()}:void 0,style:{cursor:re.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function vn(U,te,re,fe){if(te.type===f.init)return s({groupBy:[]},U);if(te.type===f.resetGroupBy)return s({},U,{groupBy:fe.initialState.groupBy||[]});if(te.type===f.setGroupBy)return s({},U,{groupBy:te.value});if(te.type===f.toggleGroupBy){var Le=te.columnId,ve=te.value,$e=ve!==void 0?ve:!U.groupBy.includes(Le);return s({},U,$e?{groupBy:[].concat(U.groupBy,[Le])}:{groupBy:U.groupBy.filter(function(Rt){return Rt!==Le})})}}function on(U,te){var re=te.instance.state.groupBy,fe=re.map(function(ve){return U.find(function($e){return $e.id===ve})}).filter(Boolean),Le=U.filter(function(ve){return!re.includes(ve.id)});return(U=[].concat(fe,Le)).forEach(function(ve){ve.isGrouped=re.includes(ve.id),ve.groupedIndex=re.indexOf(ve.id)}),U}var Un={};function xn(U){var te=U.data,re=U.rows,fe=U.flatRows,Le=U.rowsById,ve=U.allColumns,$e=U.flatHeaders,Rt=U.groupByFn,_t=Rt===void 0?yn:Rt,Pt=U.manualGroupBy,qt=U.aggregations,Vt=qt===void 0?Un:qt,Wt=U.plugins,Ut=U.state.groupBy,Jt=U.dispatch,an=U.autoResetGroupBy,fn=an===void 0||an,wn=U.disableGroupBy,Gn=U.defaultCanGroupBy,_n=U.getHooks;x(Wt,["useColumnOrder","useFilters"],"useGroupBy");var Xt=P(U);ve.forEach(function(En){var $n=En.accessor,Yr=En.defaultGroupBy,gi=En.disableGroupBy;En.canGroupBy=$n?tt(En.canGroupBy,gi!==!0&&void 0,wn!==!0&&void 0,!0):tt(En.canGroupBy,Yr,Gn,!1),En.canGroupBy&&(En.toggleGroupBy=function(){return U.toggleGroupBy(En.id)}),En.Aggregated=En.Aggregated||En.Cell});var Bn=a.useCallback(function(En,$n){Jt({type:f.toggleGroupBy,columnId:En,value:$n})},[Jt]),pn=a.useCallback(function(En){Jt({type:f.setGroupBy,value:En})},[Jt]);$e.forEach(function(En){En.getGroupByToggleProps=T(_n().getGroupByToggleProps,{instance:Xt(),header:En})});var kn=a.useMemo(function(){if(Pt||!Ut.length)return[re,fe,Le,nn,Dn,fe,Le];var En=Ut.filter(function(Gr){return ve.find(function(ir){return ir.id===Gr})}),$n=[],Yr={},gi=[],Cn={},Hr=[],kr={},Zn=function Gr(ir,Na,Zu){if(Na===void 0&&(Na=0),Na===En.length)return ir.map(function(Xa){return s({},Xa,{depth:Na})});var Bs=En[Na],ec=_t(ir,Bs);return Object.entries(ec).map(function(Xa,is){var Of=Xa[0],pa=Xa[1],Mo=Bs+":"+Of,Gl=Gr(pa,Na+1,Mo=Zu?Zu+">"+Mo:Mo),js=Na?Ie(pa,"leafRows"):pa,Qa=function(gr,Hs,If){var Vs={};return ve.forEach(function(ii){if(En.includes(ii.id))Vs[ii.id]=Hs[0]?Hs[0].values[ii.id]:null;else{var tc=typeof ii.aggregate=="function"?ii.aggregate:Vt[ii.aggregate]||Zt[ii.aggregate];if(tc){var Pf=Hs.map(function(Za){return Za.values[ii.id]}),Oi=gr.map(function(Za){var $s=Za.values[ii.id];if(!If&&ii.aggregateValue){var ql=typeof ii.aggregateValue=="function"?ii.aggregateValue:Vt[ii.aggregateValue]||Zt[ii.aggregateValue];if(!ql)throw console.info({column:ii}),new Error("React Table: Invalid column.aggregateValue option for column listed above");$s=ql($s,Za,ii)}return $s});Vs[ii.id]=tc(Oi,Pf)}else{if(ii.aggregate)throw console.info({column:ii}),new Error("React Table: Invalid column.aggregate option for column listed above");Vs[ii.id]=null}}}),Vs}(js,pa,Na),Fa={id:Mo,isGrouped:!0,groupByID:Bs,groupByVal:Of,values:Qa,subRows:Gl,leafRows:js,depth:Na,index:is};return Gl.forEach(function(gr){$n.push(gr),Yr[gr.id]=gr,gr.isGrouped?(gi.push(gr),Cn[gr.id]=gr):(Hr.push(gr),kr[gr.id]=gr)}),Fa})}(re);return Zn.forEach(function(Gr){$n.push(Gr),Yr[Gr.id]=Gr,Gr.isGrouped?(gi.push(Gr),Cn[Gr.id]=Gr):(Hr.push(Gr),kr[Gr.id]=Gr)}),[Zn,$n,Yr,gi,Cn,Hr,kr]},[Pt,Ut,re,fe,Le,ve,Vt,_t]),Jn=kn[0],Dt=kn[1],Pn=kn[2],vr=kn[3],Mn=kn[4],pr=kn[5],lr=kn[6],Nr=P(fn);M(function(){Nr()&&Jt({type:f.resetGroupBy})},[Jt,Pt?null:te]),Object.assign(U,{preGroupedRows:re,preGroupedFlatRow:fe,preGroupedRowsById:Le,groupedRows:Jn,groupedFlatRows:Dt,groupedRowsById:Pn,onlyGroupedFlatRows:vr,onlyGroupedRowsById:Mn,nonGroupedFlatRows:pr,nonGroupedRowsById:lr,rows:Jn,flatRows:Dt,rowsById:Pn,toggleGroupBy:Bn,setGroupBy:pn})}function qn(U){U.allCells.forEach(function(te){var re;te.isGrouped=te.column.isGrouped&&te.column.id===U.groupByID,te.isPlaceholder=!te.isGrouped&&te.column.isGrouped,te.isAggregated=!te.isGrouped&&!te.isPlaceholder&&((re=U.subRows)==null?void 0:re.length)})}function yn(U,te){return U.reduce(function(re,fe,Le){var ve=""+fe.values[te];return re[ve]=Array.isArray(re[ve])?re[ve]:[],re[ve].push(fe),re},{})}var ln=/([0-9]+)/gm;function Gt(U,te){return U===te?0:U>te?1:-1}function Xn(U,te,re){return[U.values[re],te.values[re]]}function Or(U){return typeof U=="number"?isNaN(U)||U===1/0||U===-1/0?"":String(U):typeof U=="string"?U:""}var fr=Object.freeze({__proto__:null,alphanumeric:function(U,te,re){var fe=Xn(U,te,re),Le=fe[0],ve=fe[1];for(Le=Or(Le),ve=Or(ve),Le=Le.split(ln).filter(Boolean),ve=ve.split(ln).filter(Boolean);Le.length&&ve.length;){var $e=Le.shift(),Rt=ve.shift(),_t=parseInt($e,10),Pt=parseInt(Rt,10),qt=[_t,Pt].sort();if(isNaN(qt[0])){if($e>Rt)return 1;if(Rt>$e)return-1}else{if(isNaN(qt[1]))return isNaN(_t)?-1:1;if(_t>Pt)return 1;if(Pt>_t)return-1}}return Le.length-ve.length},datetime:function(U,te,re){var fe=Xn(U,te,re),Le=fe[0],ve=fe[1];return Gt(Le=Le.getTime(),ve=ve.getTime())},basic:function(U,te,re){var fe=Xn(U,te,re);return Gt(fe[0],fe[1])},string:function(U,te,re){var fe=Xn(U,te,re),Le=fe[0],ve=fe[1];for(Le=Le.split("").filter(Boolean),ve=ve.split("").filter(Boolean);Le.length&&ve.length;){var $e=Le.shift(),Rt=ve.shift(),_t=$e.toLowerCase(),Pt=Rt.toLowerCase();if(_t>Pt)return 1;if(Pt>_t)return-1;if($e>Rt)return 1;if(Rt>$e)return-1}return Le.length-ve.length},number:function(U,te,re){var fe=Xn(U,te,re),Le=fe[0],ve=fe[1],$e=/[^0-9.]/gi;return Gt(Le=Number(String(Le).replace($e,"")),ve=Number(String(ve).replace($e,"")))}});f.resetSortBy="resetSortBy",f.setSortBy="setSortBy",f.toggleSortBy="toggleSortBy",f.clearSortBy="clearSortBy",w.sortType="alphanumeric",w.sortDescFirst=!1;var Ln=function(U){U.getSortByToggleProps=[Ar],U.stateReducers.push(Mr),U.useInstance.push(cn)};Ln.pluginName="useSortBy";var Ar=function(U,te){var re=te.instance,fe=te.column,Le=re.isMultiSortEvent,ve=Le===void 0?function($e){return $e.shiftKey}:Le;return[U,{onClick:fe.canSort?function($e){$e.persist(),fe.toggleSortBy(void 0,!re.disableMultiSort&&ve($e))}:void 0,style:{cursor:fe.canSort?"pointer":void 0},title:fe.canSort?"Toggle SortBy":void 0}]};function Mr(U,te,re,fe){if(te.type===f.init)return s({sortBy:[]},U);if(te.type===f.resetSortBy)return s({},U,{sortBy:fe.initialState.sortBy||[]});if(te.type===f.clearSortBy)return s({},U,{sortBy:U.sortBy.filter(function(Xt){return Xt.id!==te.columnId})});if(te.type===f.setSortBy)return s({},U,{sortBy:te.sortBy});if(te.type===f.toggleSortBy){var Le,ve=te.columnId,$e=te.desc,Rt=te.multi,_t=fe.allColumns,Pt=fe.disableMultiSort,qt=fe.disableSortRemove,Vt=fe.disableMultiRemove,Wt=fe.maxMultiSortColCount,Ut=Wt===void 0?Number.MAX_SAFE_INTEGER:Wt,Jt=U.sortBy,an=_t.find(function(Xt){return Xt.id===ve}).sortDescFirst,fn=Jt.find(function(Xt){return Xt.id===ve}),wn=Jt.findIndex(function(Xt){return Xt.id===ve}),Gn=$e!=null,_n=[];return(Le=!Pt&&Rt?fn?"toggle":"add":wn!==Jt.length-1||Jt.length!==1?"replace":fn?"toggle":"replace")!="toggle"||qt||Gn||Rt&&Vt||!(fn&&fn.desc&&!an||!fn.desc&&an)||(Le="remove"),Le==="replace"?_n=[{id:ve,desc:Gn?$e:an}]:Le==="add"?(_n=[].concat(Jt,[{id:ve,desc:Gn?$e:an}])).splice(0,_n.length-Ut):Le==="toggle"?_n=Jt.map(function(Xt){return Xt.id===ve?s({},Xt,{desc:Gn?$e:!fn.desc}):Xt}):Le==="remove"&&(_n=Jt.filter(function(Xt){return Xt.id!==ve})),s({},U,{sortBy:_n})}}function cn(U){var te=U.data,re=U.rows,fe=U.flatRows,Le=U.allColumns,ve=U.orderByFn,$e=ve===void 0?fi:ve,Rt=U.sortTypes,_t=U.manualSortBy,Pt=U.defaultCanSort,qt=U.disableSortBy,Vt=U.flatHeaders,Wt=U.state.sortBy,Ut=U.dispatch,Jt=U.plugins,an=U.getHooks,fn=U.autoResetSortBy,wn=fn===void 0||fn;x(Jt,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var Gn=a.useCallback(function(Dt){Ut({type:f.setSortBy,sortBy:Dt})},[Ut]),_n=a.useCallback(function(Dt,Pn,vr){Ut({type:f.toggleSortBy,columnId:Dt,desc:Pn,multi:vr})},[Ut]),Xt=P(U);Vt.forEach(function(Dt){var Pn=Dt.accessor,vr=Dt.canSort,Mn=Dt.disableSortBy,pr=Dt.id,lr=Pn?tt(Mn!==!0&&void 0,qt!==!0&&void 0,!0):tt(Pt,vr,!1);Dt.canSort=lr,Dt.canSort&&(Dt.toggleSortBy=function(En,$n){return _n(Dt.id,En,$n)},Dt.clearSortBy=function(){Ut({type:f.clearSortBy,columnId:Dt.id})}),Dt.getSortByToggleProps=T(an().getSortByToggleProps,{instance:Xt(),column:Dt});var Nr=Wt.find(function(En){return En.id===pr});Dt.isSorted=!!Nr,Dt.sortedIndex=Wt.findIndex(function(En){return En.id===pr}),Dt.isSortedDesc=Dt.isSorted?Nr.desc:void 0});var Bn=a.useMemo(function(){if(_t||!Wt.length)return[re,fe];var Dt=[],Pn=Wt.filter(function(vr){return Le.find(function(Mn){return Mn.id===vr.id})});return[function vr(Mn){var pr=$e(Mn,Pn.map(function(lr){var Nr=Le.find(function(Yr){return Yr.id===lr.id});if(!Nr)throw new Error("React-Table: Could not find a column with id: "+lr.id+" while sorting");var En=Nr.sortType,$n=ct(En)||(Rt||{})[En]||fr[En];if(!$n)throw new Error("React-Table: Could not find a valid sortType of '"+En+"' for column '"+lr.id+"'.");return function(Yr,gi){return $n(Yr,gi,lr.id,lr.desc)}}),Pn.map(function(lr){var Nr=Le.find(function(En){return En.id===lr.id});return Nr&&Nr.sortInverted?lr.desc:!lr.desc}));return pr.forEach(function(lr){Dt.push(lr),lr.subRows&&lr.subRows.length!==0&&(lr.subRows=vr(lr.subRows))}),pr}(re),Dt]},[_t,Wt,re,fe,Le,$e,Rt]),pn=Bn[0],kn=Bn[1],Jn=P(wn);M(function(){Jn()&&Ut({type:f.resetSortBy})},[_t?null:te]),Object.assign(U,{preSortedRows:re,preSortedFlatRows:fe,sortedRows:pn,sortedFlatRows:kn,rows:pn,flatRows:kn,setSortBy:Gn,toggleSortBy:_n})}function fi(U,te,re){return[].concat(U).sort(function(fe,Le){for(var ve=0;ve<te.length;ve+=1){var $e=te[ve],Rt=re[ve]===!1||re[ve]==="desc",_t=$e(fe,Le);if(_t!==0)return Rt?-_t:_t}return re[0]?fe.index-Le.index:Le.index-fe.index})}f.resetPage="resetPage",f.gotoPage="gotoPage",f.setPageSize="setPageSize";var Tr=function(U){U.stateReducers.push(Ki),U.useInstance.push(di)};function Ki(U,te,re,fe){if(te.type===f.init)return s({pageSize:10,pageIndex:0},U);if(te.type===f.resetPage)return s({},U,{pageIndex:fe.initialState.pageIndex||0});if(te.type===f.gotoPage){var Le=fe.pageCount,ve=fe.page,$e=F(te.pageIndex,U.pageIndex),Rt=!1;return $e>U.pageIndex?Rt=Le===-1?ve.length>=U.pageSize:$e<Le:$e<U.pageIndex&&(Rt=$e>-1),Rt?s({},U,{pageIndex:$e}):U}if(te.type===f.setPageSize){var _t=te.pageSize,Pt=U.pageSize*U.pageIndex;return s({},U,{pageIndex:Math.floor(Pt/_t),pageSize:_t})}}function di(U){var te=U.rows,re=U.autoResetPage,fe=re===void 0||re,Le=U.manualExpandedKey,ve=Le===void 0?"expanded":Le,$e=U.plugins,Rt=U.pageCount,_t=U.paginateExpandedRows,Pt=_t===void 0||_t,qt=U.expandSubRows,Vt=qt===void 0||qt,Wt=U.state,Ut=Wt.pageSize,Jt=Wt.pageIndex,an=Wt.expanded,fn=Wt.globalFilter,wn=Wt.filters,Gn=Wt.groupBy,_n=Wt.sortBy,Xt=U.dispatch,Bn=U.data,pn=U.manualPagination;x($e,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var kn=P(fe);M(function(){kn()&&Xt({type:f.resetPage})},[Xt,pn?null:Bn,fn,wn,Gn,_n]);var Jn=pn?Rt:Math.ceil(te.length/Ut),Dt=a.useMemo(function(){return Jn>0?[].concat(new Array(Jn)).fill(null).map(function($n,Yr){return Yr}):[]},[Jn]),Pn=a.useMemo(function(){var $n;if(pn)$n=te;else{var Yr=Ut*Jt,gi=Yr+Ut;$n=te.slice(Yr,gi)}return Pt?$n:ht($n,{manualExpandedKey:ve,expanded:an,expandSubRows:Vt})},[Vt,an,ve,pn,Jt,Ut,Pt,te]),vr=Jt>0,Mn=Jn===-1?Pn.length>=Ut:Jt<Jn-1,pr=a.useCallback(function($n){Xt({type:f.gotoPage,pageIndex:$n})},[Xt]),lr=a.useCallback(function(){return pr(function($n){return $n-1})},[pr]),Nr=a.useCallback(function(){return pr(function($n){return $n+1})},[pr]),En=a.useCallback(function($n){Xt({type:f.setPageSize,pageSize:$n})},[Xt]);Object.assign(U,{pageOptions:Dt,pageCount:Jn,page:Pn,canPreviousPage:vr,canNextPage:Mn,gotoPage:pr,previousPage:lr,nextPage:Nr,setPageSize:En})}Tr.pluginName="usePagination",f.resetPivot="resetPivot",f.togglePivot="togglePivot";var Ia=function(U){U.getPivotToggleProps=[hi],U.stateReducers.push(b),U.useInstanceAfterData.push(m),U.allColumns.push(E),U.accessValue.push(O),U.materializedColumns.push(j),U.materializedColumnsDeps.push(Q),U.visibleColumns.push(se),U.visibleColumnsDeps.push(we),U.useInstance.push(pe),U.prepareRow.push(be)};Ia.pluginName="usePivotColumns";var ea=[],hi=function(U,te){var re=te.header;return[U,{onClick:re.canPivot?function(fe){fe.persist(),re.togglePivot()}:void 0,style:{cursor:re.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function b(U,te,re,fe){if(te.type===f.init)return s({pivotColumns:ea},U);if(te.type===f.resetPivot)return s({},U,{pivotColumns:fe.initialState.pivotColumns||ea});if(te.type===f.togglePivot){var Le=te.columnId,ve=te.value,$e=ve!==void 0?ve:!U.pivotColumns.includes(Le);return s({},U,$e?{pivotColumns:[].concat(U.pivotColumns,[Le])}:{pivotColumns:U.pivotColumns.filter(function(Rt){return Rt!==Le})})}}function m(U){U.allColumns.forEach(function(te){te.isPivotSource=U.state.pivotColumns.includes(te.id)})}function E(U,te){var re=te.instance;return U.forEach(function(fe){fe.isPivotSource=re.state.pivotColumns.includes(fe.id),fe.uniqueValues=new Set}),U}function O(U,te){var re=te.column;return re.uniqueValues&&U!==void 0&&re.uniqueValues.add(U),U}function j(U,te){var re=te.instance,fe=re.allColumns,Le=re.state;if(!Le.pivotColumns.length||!Le.groupBy||!Le.groupBy.length)return U;var ve=Le.pivotColumns.map(function(_t){return fe.find(function(Pt){return Pt.id===_t})}).filter(Boolean),$e=fe.filter(function(_t){return!_t.isPivotSource&&!Le.groupBy.includes(_t.id)&&!Le.pivotColumns.includes(_t.id)}),Rt=Fe(function _t(Pt,qt,Vt){Pt===void 0&&(Pt=0),Vt===void 0&&(Vt=[]);var Wt=ve[Pt];return Wt?Array.from(Wt.uniqueValues).sort().map(function(Ut){var Jt=s({},Wt,{Header:Wt.PivotHeader||typeof Wt.header=="string"?Wt.Header+": "+Ut:Ut,isPivotGroup:!0,parent:qt,depth:Pt,id:qt?qt.id+"."+Wt.id+"."+Ut:Wt.id+"."+Ut,pivotValue:Ut});return Jt.columns=_t(Pt+1,Jt,[].concat(Vt,[function(an){return an.values[Wt.id]===Ut}])),Jt}):$e.map(function(Ut){return s({},Ut,{canPivot:!1,isPivoted:!0,parent:qt,depth:Pt,id:""+(qt?qt.id+"."+Ut.id:Ut.id),accessor:function(Jt,an,fn){if(Vt.every(function(wn){return wn(fn)}))return fn.values[Ut.id]}})})}());return[].concat(U,Rt)}function Q(U,te){var re=te.instance.state,fe=re.pivotColumns,Le=re.groupBy;return[].concat(U,[fe,Le])}function se(U,te){var re=te.instance.state;return U=U.filter(function(fe){return!fe.isPivotSource}),re.pivotColumns.length&&re.groupBy&&re.groupBy.length&&(U=U.filter(function(fe){return fe.isGrouped||fe.isPivoted})),U}function we(U,te){var re=te.instance;return[].concat(U,[re.state.pivotColumns,re.state.groupBy])}function pe(U){var te=U.columns,re=U.allColumns,fe=U.flatHeaders,Le=U.getHooks,ve=U.plugins,$e=U.dispatch,Rt=U.autoResetPivot,_t=Rt===void 0||Rt,Pt=U.manaulPivot,qt=U.disablePivot,Vt=U.defaultCanPivot;x(ve,["useGroupBy"],"usePivotColumns");var Wt=P(U);re.forEach(function(Jt){var an=Jt.accessor,fn=Jt.defaultPivot,wn=Jt.disablePivot;Jt.canPivot=an?tt(Jt.canPivot,wn!==!0&&void 0,qt!==!0&&void 0,!0):tt(Jt.canPivot,fn,Vt,!1),Jt.canPivot&&(Jt.togglePivot=function(){return U.togglePivot(Jt.id)}),Jt.Aggregated=Jt.Aggregated||Jt.Cell}),fe.forEach(function(Jt){Jt.getPivotToggleProps=T(Le().getPivotToggleProps,{instance:Wt(),header:Jt})});var Ut=P(_t);M(function(){Ut()&&$e({type:f.resetPivot})},[$e,Pt?null:te]),Object.assign(U,{togglePivot:function(Jt,an){$e({type:f.togglePivot,columnId:Jt,value:an})}})}function be(U){U.allCells.forEach(function(te){te.isPivoted=te.column.isPivoted})}f.resetSelectedRows="resetSelectedRows",f.toggleAllRowsSelected="toggleAllRowsSelected",f.toggleRowSelected="toggleRowSelected",f.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var Ae=function(U){U.getToggleRowSelectedProps=[xe],U.getToggleAllRowsSelectedProps=[Ue],U.getToggleAllPageRowsSelectedProps=[qe],U.stateReducers.push(at),U.useInstance.push(mt),U.prepareRow.push(St)};Ae.pluginName="useRowSelect";var xe=function(U,te){var re=te.instance,fe=te.row,Le=re.manualRowSelectedKey,ve=Le===void 0?"isSelected":Le;return[U,{onChange:function($e){fe.toggleRowSelected($e.target.checked)},style:{cursor:"pointer"},checked:!(!fe.original||!fe.original[ve])||fe.isSelected,title:"Toggle Row Selected",indeterminate:fe.isSomeSelected}]},Ue=function(U,te){var re=te.instance;return[U,{onChange:function(fe){re.toggleAllRowsSelected(fe.target.checked)},style:{cursor:"pointer"},checked:re.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:!!(!re.isAllRowsSelected&&Object.keys(re.state.selectedRowIds).length)}]},qe=function(U,te){var re=te.instance;return[U,{onChange:function(fe){re.toggleAllPageRowsSelected(fe.target.checked)},style:{cursor:"pointer"},checked:re.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:!!(!re.isAllPageRowsSelected&&re.page.some(function(fe){var Le=fe.id;return re.state.selectedRowIds[Le]}))}]};function at(U,te,re,fe){if(te.type===f.init)return s({selectedRowIds:{}},U);if(te.type===f.resetSelectedRows)return s({},U,{selectedRowIds:fe.initialState.selectedRowIds||{}});if(te.type===f.toggleAllRowsSelected){var Le=te.value,ve=fe.isAllRowsSelected,$e=fe.rowsById,Rt=fe.nonGroupedRowsById,_t=Rt===void 0?$e:Rt,Pt=Le!==void 0?Le:!ve,qt=Object.assign({},U.selectedRowIds);return Pt?Object.keys(_t).forEach(function(pr){qt[pr]=!0}):Object.keys(_t).forEach(function(pr){delete qt[pr]}),s({},U,{selectedRowIds:qt})}if(te.type===f.toggleRowSelected){var Vt=te.id,Wt=te.value,Ut=fe.rowsById,Jt=fe.selectSubRows,an=Jt===void 0||Jt,fn=fe.getSubRows,wn=U.selectedRowIds[Vt],Gn=Wt!==void 0?Wt:!wn;if(wn===Gn)return U;var _n=s({},U.selectedRowIds);return function pr(lr){var Nr=Ut[lr];if(Nr&&(Nr.isGrouped||(Gn?_n[lr]=!0:delete _n[lr]),an&&fn(Nr)))return fn(Nr).forEach(function(En){return pr(En.id)})}(Vt),s({},U,{selectedRowIds:_n})}if(te.type===f.toggleAllPageRowsSelected){var Xt=te.value,Bn=fe.page,pn=fe.rowsById,kn=fe.selectSubRows,Jn=kn===void 0||kn,Dt=fe.isAllPageRowsSelected,Pn=fe.getSubRows,vr=Xt!==void 0?Xt:!Dt,Mn=s({},U.selectedRowIds);return Bn.forEach(function(pr){return function lr(Nr){var En=pn[Nr];if(En.isGrouped||(vr?Mn[Nr]=!0:delete Mn[Nr]),Jn&&Pn(En))return Pn(En).forEach(function($n){return lr($n.id)})}(pr.id)}),s({},U,{selectedRowIds:Mn})}return U}function mt(U){var te=U.data,re=U.rows,fe=U.getHooks,Le=U.plugins,ve=U.rowsById,$e=U.nonGroupedRowsById,Rt=$e===void 0?ve:$e,_t=U.autoResetSelectedRows,Pt=_t===void 0||_t,qt=U.state.selectedRowIds,Vt=U.selectSubRows,Wt=Vt===void 0||Vt,Ut=U.dispatch,Jt=U.page,an=U.getSubRows;x(Le,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var fn=a.useMemo(function(){var Pn=[];return re.forEach(function(vr){var Mn=Wt?function pr(lr,Nr,En){if(Nr[lr.id])return!0;var $n=En(lr);if($n&&$n.length){var Yr=!0,gi=!1;return $n.forEach(function(Cn){gi&&!Yr||(pr(Cn,Nr,En)?gi=!0:Yr=!1)}),!!Yr||!!gi&&null}return!1}(vr,qt,an):!!qt[vr.id];vr.isSelected=!!Mn,vr.isSomeSelected=Mn===null,Mn&&Pn.push(vr)}),Pn},[re,Wt,qt,an]),wn=!!(Object.keys(Rt).length&&Object.keys(qt).length),Gn=wn;wn&&Object.keys(Rt).some(function(Pn){return!qt[Pn]})&&(wn=!1),wn||Jt&&Jt.length&&Jt.some(function(Pn){var vr=Pn.id;return!qt[vr]})&&(Gn=!1);var _n=P(Pt);M(function(){_n()&&Ut({type:f.resetSelectedRows})},[Ut,te]);var Xt=a.useCallback(function(Pn){return Ut({type:f.toggleAllRowsSelected,value:Pn})},[Ut]),Bn=a.useCallback(function(Pn){return Ut({type:f.toggleAllPageRowsSelected,value:Pn})},[Ut]),pn=a.useCallback(function(Pn,vr){return Ut({type:f.toggleRowSelected,id:Pn,value:vr})},[Ut]),kn=P(U),Jn=T(fe().getToggleAllRowsSelectedProps,{instance:kn()}),Dt=T(fe().getToggleAllPageRowsSelectedProps,{instance:kn()});Object.assign(U,{selectedFlatRows:fn,isAllRowsSelected:wn,isAllPageRowsSelected:Gn,toggleRowSelected:pn,toggleAllRowsSelected:Xt,getToggleAllRowsSelectedProps:Jn,getToggleAllPageRowsSelectedProps:Dt,toggleAllPageRowsSelected:Bn})}function St(U,te){var re=te.instance;U.toggleRowSelected=function(fe){return re.toggleRowSelected(U.id,fe)},U.getToggleRowSelectedProps=T(re.getHooks().getToggleRowSelectedProps,{instance:re,row:U})}var ae=function(U){return{}},Se=function(U){return{}};f.setRowState="setRowState",f.setCellState="setCellState",f.resetRowState="resetRowState";var Ne=function(U){U.stateReducers.push(De),U.useInstance.push(dt),U.prepareRow.push(At)};function De(U,te,re,fe){var Le=fe.initialRowStateAccessor,ve=Le===void 0?ae:Le,$e=fe.initialCellStateAccessor,Rt=$e===void 0?Se:$e,_t=fe.rowsById;if(te.type===f.init)return s({rowState:{}},U);if(te.type===f.resetRowState)return s({},U,{rowState:fe.initialState.rowState||{}});if(te.type===f.setRowState){var Pt,qt=te.rowId,Vt=te.value,Wt=U.rowState[qt]!==void 0?U.rowState[qt]:ve(_t[qt]);return s({},U,{rowState:s({},U.rowState,(Pt={},Pt[qt]=F(Vt,Wt),Pt))})}if(te.type===f.setCellState){var Ut,Jt,an,fn,wn,Gn=te.rowId,_n=te.columnId,Xt=te.value,Bn=U.rowState[Gn]!==void 0?U.rowState[Gn]:ve(_t[Gn]),pn=(Bn==null||(Ut=Bn.cellState)==null?void 0:Ut[_n])!==void 0?Bn.cellState[_n]:Rt((Jt=_t[Gn])==null||(an=Jt.cells)==null?void 0:an.find(function(kn){return kn.column.id===_n}));return s({},U,{rowState:s({},U.rowState,(wn={},wn[Gn]=s({},Bn,{cellState:s({},Bn.cellState||{},(fn={},fn[_n]=F(Xt,pn),fn))}),wn))})}}function dt(U){var te=U.autoResetRowState,re=te===void 0||te,fe=U.data,Le=U.dispatch,ve=a.useCallback(function(_t,Pt){return Le({type:f.setRowState,rowId:_t,value:Pt})},[Le]),$e=a.useCallback(function(_t,Pt,qt){return Le({type:f.setCellState,rowId:_t,columnId:Pt,value:qt})},[Le]),Rt=P(re);M(function(){Rt()&&Le({type:f.resetRowState})},[fe]),Object.assign(U,{setRowState:ve,setCellState:$e})}function At(U,te){var re=te.instance,fe=re.initialRowStateAccessor,Le=fe===void 0?ae:fe,ve=re.initialCellStateAccessor,$e=ve===void 0?Se:ve,Rt=re.state.rowState;U&&(U.state=Rt[U.id]!==void 0?Rt[U.id]:Le(U),U.setState=function(_t){return re.setRowState(U.id,_t)},U.cells.forEach(function(_t){U.state.cellState||(U.state.cellState={}),_t.state=U.state.cellState[_t.column.id]!==void 0?U.state.cellState[_t.column.id]:$e(_t),_t.setState=function(Pt){return re.setCellState(U.id,_t.column.id,Pt)}}))}Ne.pluginName="useRowState",f.resetColumnOrder="resetColumnOrder",f.setColumnOrder="setColumnOrder";var dn=function(U){U.stateReducers.push(jt),U.visibleColumnsDeps.push(function(te,re){var fe=re.instance;return[].concat(te,[fe.state.columnOrder])}),U.visibleColumns.push(zn),U.useInstance.push(un)};function jt(U,te,re,fe){return te.type===f.init?s({columnOrder:[]},U):te.type===f.resetColumnOrder?s({},U,{columnOrder:fe.initialState.columnOrder||[]}):te.type===f.setColumnOrder?s({},U,{columnOrder:F(te.columnOrder,U.columnOrder)}):void 0}function zn(U,te){var re=te.instance.state.columnOrder;if(!re||!re.length)return U;for(var fe=[].concat(re),Le=[].concat(U),ve=[],$e=function(){var Rt=fe.shift(),_t=Le.findIndex(function(Pt){return Pt.id===Rt});_t>-1&&ve.push(Le.splice(_t,1)[0])};Le.length&&fe.length;)$e();return[].concat(ve,Le)}function un(U){var te=U.dispatch;U.setColumnOrder=a.useCallback(function(re){return te({type:f.setColumnOrder,columnOrder:re})},[te])}dn.pluginName="useColumnOrder",w.canResize=!0,f.columnStartResizing="columnStartResizing",f.columnResizing="columnResizing",f.columnDoneResizing="columnDoneResizing",f.resetResize="resetResize";var gn=function(U){U.getResizerProps=[nr],U.getHeaderProps.push({style:{position:"relative"}}),U.stateReducers.push(hn),U.useInstance.push(er),U.useInstanceBeforeDimensions.push(rr)},nr=function(U,te){var re=te.instance,fe=te.header,Le=re.dispatch,ve=function($e,Rt){var _t=!1;if($e.type==="touchstart"){if($e.touches&&$e.touches.length>1)return;_t=!0}var Pt,qt,Vt=function(_n){var Xt=[];return function Bn(pn){pn.columns&&pn.columns.length&&pn.columns.map(Bn),Xt.push(pn)}(_n),Xt}(Rt).map(function(_n){return[_n.id,_n.totalWidth]}),Wt=_t?Math.round($e.touches[0].clientX):$e.clientX,Ut=function(){window.cancelAnimationFrame(Pt),Pt=null,Le({type:f.columnDoneResizing})},Jt=function(){window.cancelAnimationFrame(Pt),Pt=null,Le({type:f.columnResizing,clientX:qt})},an=function(_n){qt=_n,Pt||(Pt=window.requestAnimationFrame(Jt))},fn={mouse:{moveEvent:"mousemove",moveHandler:function(_n){return an(_n.clientX)},upEvent:"mouseup",upHandler:function(_n){document.removeEventListener("mousemove",fn.mouse.moveHandler),document.removeEventListener("mouseup",fn.mouse.upHandler),Ut()}},touch:{moveEvent:"touchmove",moveHandler:function(_n){return _n.cancelable&&(_n.preventDefault(),_n.stopPropagation()),an(_n.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(_n){document.removeEventListener(fn.touch.moveEvent,fn.touch.moveHandler),document.removeEventListener(fn.touch.upEvent,fn.touch.moveHandler),Ut()}}},wn=_t?fn.touch:fn.mouse,Gn=!!function(){if(typeof Re=="boolean")return Re;var _n=!1;try{var Xt={get passive(){return _n=!0,!1}};window.addEventListener("test",null,Xt),window.removeEventListener("test",null,Xt)}catch{_n=!1}return Re=_n}()&&{passive:!1};document.addEventListener(wn.moveEvent,wn.moveHandler,Gn),document.addEventListener(wn.upEvent,wn.upHandler,Gn),Le({type:f.columnStartResizing,columnId:Rt.id,columnWidth:Rt.totalWidth,headerIdWidths:Vt,clientX:Wt})};return[U,{onMouseDown:function($e){return $e.persist()||ve($e,fe)},onTouchStart:function($e){return $e.persist()||ve($e,fe)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function hn(U,te){if(te.type===f.init)return s({columnResizing:{columnWidths:{}}},U);if(te.type===f.resetResize)return s({},U,{columnResizing:{columnWidths:{}}});if(te.type===f.columnStartResizing){var re=te.clientX,fe=te.columnId,Le=te.columnWidth,ve=te.headerIdWidths;return s({},U,{columnResizing:s({},U.columnResizing,{startX:re,headerIdWidths:ve,columnWidth:Le,isResizingColumn:fe})})}if(te.type===f.columnResizing){var $e=te.clientX,Rt=U.columnResizing,_t=Rt.startX,Pt=Rt.columnWidth,qt=Rt.headerIdWidths,Vt=($e-_t)/Pt,Wt={};return(qt===void 0?[]:qt).forEach(function(Ut){var Jt=Ut[0],an=Ut[1];Wt[Jt]=Math.max(an+an*Vt,0)}),s({},U,{columnResizing:s({},U.columnResizing,{columnWidths:s({},U.columnResizing.columnWidths,{},Wt)})})}return te.type===f.columnDoneResizing?s({},U,{columnResizing:s({},U.columnResizing,{startX:null,isResizingColumn:null})}):void 0}gn.pluginName="useResizeColumns";var rr=function(U){var te=U.flatHeaders,re=U.disableResizing,fe=U.getHooks,Le=U.state.columnResizing,ve=P(U);te.forEach(function($e){var Rt=tt($e.disableResizing!==!0&&void 0,re!==!0&&void 0,!0);$e.canResize=Rt,$e.width=Le.columnWidths[$e.id]||$e.originalWidth||$e.width,$e.isResizing=Le.isResizingColumn===$e.id,Rt&&($e.getResizerProps=T(fe().getResizerProps,{instance:ve(),header:$e}))})};function er(U){var te=U.plugins,re=U.dispatch,fe=U.autoResetResize,Le=fe===void 0||fe,ve=U.columns;x(te,["useAbsoluteLayout"],"useResizeColumns");var $e=P(Le);M(function(){$e()&&re({type:f.resetResize})},[ve]);var Rt=a.useCallback(function(){return re({type:f.resetResize})},[re]);Object.assign(U,{resetResizing:Rt})}var Ir={position:"absolute",top:0},Qn=function(U){U.getTableBodyProps.push(tr),U.getRowProps.push(tr),U.getHeaderGroupProps.push(tr),U.getFooterGroupProps.push(tr),U.getHeaderProps.push(function(te,re){var fe=re.column;return[te,{style:s({},Ir,{left:fe.totalLeft+"px",width:fe.totalWidth+"px"})}]}),U.getCellProps.push(function(te,re){var fe=re.cell;return[te,{style:s({},Ir,{left:fe.column.totalLeft+"px",width:fe.column.totalWidth+"px"})}]}),U.getFooterProps.push(function(te,re){var fe=re.column;return[te,{style:s({},Ir,{left:fe.totalLeft+"px",width:fe.totalWidth+"px"})}]})};Qn.pluginName="useAbsoluteLayout";var tr=function(U,te){return[U,{style:{position:"relative",width:te.instance.totalColumnsWidth+"px"}}]},wr={display:"inline-block",boxSizing:"border-box"},Tn=function(U,te){return[U,{style:{display:"flex",width:te.instance.totalColumnsWidth+"px"}}]},Kr=function(U){U.getRowProps.push(Tn),U.getHeaderGroupProps.push(Tn),U.getFooterGroupProps.push(Tn),U.getHeaderProps.push(function(te,re){var fe=re.column;return[te,{style:s({},wr,{width:fe.totalWidth+"px"})}]}),U.getCellProps.push(function(te,re){var fe=re.cell;return[te,{style:s({},wr,{width:fe.column.totalWidth+"px"})}]}),U.getFooterProps.push(function(te,re){var fe=re.column;return[te,{style:s({},wr,{width:fe.totalWidth+"px"})}]})};function Ri(U){U.getTableProps.push(ta),U.getRowProps.push(Pr),U.getHeaderGroupProps.push(Pr),U.getFooterGroupProps.push(Pr),U.getHeaderProps.push(Gi),U.getCellProps.push(Ya),U.getFooterProps.push(go)}Kr.pluginName="useBlockLayout",Ri.pluginName="useFlexLayout";var ta=function(U,te){return[U,{style:{minWidth:te.instance.totalColumnsMinWidth+"px"}}]},Pr=function(U,te){return[U,{style:{display:"flex",flex:"1 0 auto",minWidth:te.instance.totalColumnsMinWidth+"px"}}]},Gi=function(U,te){var re=te.column;return[U,{style:{boxSizing:"border-box",flex:re.totalFlexWidth?re.totalFlexWidth+" 0 auto":void 0,minWidth:re.totalMinWidth+"px",width:re.totalWidth+"px"}}]},Ya=function(U,te){var re=te.cell;return[U,{style:{boxSizing:"border-box",flex:re.column.totalFlexWidth+" 0 auto",minWidth:re.column.totalMinWidth+"px",width:re.column.totalWidth+"px"}}]},go=function(U,te){var re=te.column;return[U,{style:{boxSizing:"border-box",flex:re.totalFlexWidth?re.totalFlexWidth+" 0 auto":void 0,minWidth:re.totalMinWidth+"px",width:re.totalWidth+"px"}}]};function xr(U){U.stateReducers.push(rs),U.getTableProps.push(Wr),U.getHeaderProps.push(Pa),U.getRowProps.push(Jr)}f.columnStartResizing="columnStartResizing",f.columnResizing="columnResizing",f.columnDoneResizing="columnDoneResizing",f.resetResize="resetResize",xr.pluginName="useGridLayout";var Wr=function(U,te){var re=te.instance;return[U,{style:{display:"grid",gridTemplateColumns:re.visibleColumns.map(function(fe){var Le;return re.state.gridLayout.columnWidths[fe.id]?re.state.gridLayout.columnWidths[fe.id]+"px":(Le=re.state.columnResizing)!=null&&Le.isResizingColumn?re.state.gridLayout.startWidths[fe.id]+"px":typeof fe.width=="number"?fe.width+"px":fe.width}).join(" ")}}]},Pa=function(U,te){var re=te.column;return[U,{id:"header-cell-"+re.id,style:{position:"sticky",gridColumn:"span "+re.totalVisibleHeaderCount}}]},Jr=function(U,te){var re=te.row;return re.isExpanded?[U,{style:{gridColumn:"1 / "+(re.cells.length+1)}}]:[U,{}]};function rs(U,te,re,fe){if(te.type===f.init)return s({gridLayout:{columnWidths:{}}},U);if(te.type===f.resetResize)return s({},U,{gridLayout:{columnWidths:{}}});if(te.type===f.columnStartResizing){var Le=te.columnId,ve=te.headerIdWidths,$e=ha(Le);if($e!==void 0){var Rt=fe.visibleColumns.reduce(function(Xt,Bn){var pn;return s({},Xt,((pn={})[Bn.id]=ha(Bn.id),pn))},{}),_t=fe.visibleColumns.reduce(function(Xt,Bn){var pn;return s({},Xt,((pn={})[Bn.id]=Bn.minWidth,pn))},{}),Pt=fe.visibleColumns.reduce(function(Xt,Bn){var pn;return s({},Xt,((pn={})[Bn.id]=Bn.maxWidth,pn))},{}),qt=ve.map(function(Xt){var Bn=Xt[0];return[Bn,ha(Bn)]});return s({},U,{gridLayout:s({},U.gridLayout,{startWidths:Rt,minWidths:_t,maxWidths:Pt,headerIdGridWidths:qt,columnWidth:$e})})}return U}if(te.type===f.columnResizing){var Vt=te.clientX,Wt=U.columnResizing.startX,Ut=U.gridLayout,Jt=Ut.columnWidth,an=Ut.minWidths,fn=Ut.maxWidths,wn=Ut.headerIdGridWidths,Gn=(Vt-Wt)/Jt,_n={};return(wn===void 0?[]:wn).forEach(function(Xt){var Bn=Xt[0],pn=Xt[1];_n[Bn]=Math.min(Math.max(an[Bn],pn+pn*Gn),fn[Bn])}),s({},U,{gridLayout:s({},U.gridLayout,{columnWidths:s({},U.gridLayout.columnWidths,{},_n)})})}return te.type===f.columnDoneResizing?s({},U,{gridLayout:s({},U.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function ha(U){var te,re=(te=document.getElementById("header-cell-"+U))==null?void 0:te.offsetWidth;if(re!==void 0)return re}r._UNSTABLE_usePivotColumns=Ia,r.actions=f,r.defaultColumn=w,r.defaultGroupByFn=yn,r.defaultOrderByFn=fi,r.defaultRenderer=g,r.emptyRenderer=v,r.ensurePluginOrder=x,r.flexRender=J,r.functionalUpdate=F,r.loopHooks=C,r.makePropGetter=T,r.makeRenderer=z,r.reduceHooks=R,r.safeUseLayoutEffect=K,r.useAbsoluteLayout=Qn,r.useAsyncDebounce=function(U,te){te===void 0&&(te=0);var re=a.useRef({}),fe=P(U),Le=P(te);return a.useCallback(function(){var ve=c(regeneratorRuntime.mark(function $e(){var Rt,_t,Pt,qt=arguments;return regeneratorRuntime.wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:for(Rt=qt.length,_t=new Array(Rt),Pt=0;Pt<Rt;Pt++)_t[Pt]=qt[Pt];return re.current.promise||(re.current.promise=new Promise(function(Wt,Ut){re.current.resolve=Wt,re.current.reject=Ut})),re.current.timeout&&clearTimeout(re.current.timeout),re.current.timeout=setTimeout(c(regeneratorRuntime.mark(function Wt(){return regeneratorRuntime.wrap(function(Ut){for(;;)switch(Ut.prev=Ut.next){case 0:return delete re.current.timeout,Ut.prev=1,Ut.t0=re.current,Ut.next=5,fe().apply(void 0,_t);case 5:Ut.t1=Ut.sent,Ut.t0.resolve.call(Ut.t0,Ut.t1),Ut.next=12;break;case 9:Ut.prev=9,Ut.t2=Ut.catch(1),re.current.reject(Ut.t2);case 12:return Ut.prev=12,delete re.current.promise,Ut.finish(12);case 15:case"end":return Ut.stop()}},Wt,null,[[1,9,12,15]])})),Le()),Vt.abrupt("return",re.current.promise);case 5:case"end":return Vt.stop()}},$e)}));return function(){return ve.apply(this,arguments)}}(),[fe,Le])},r.useBlockLayout=Kr,r.useColumnOrder=dn,r.useExpanded=B,r.useFilters=tn,r.useFlexLayout=Ri,r.useGetLatest=P,r.useGlobalFilter=ye,r.useGridLayout=xr,r.useGroupBy=$t,r.useMountedLayoutEffect=M,r.usePagination=Tr,r.useResizeColumns=gn,r.useRowSelect=Ae,r.useRowState=Ne,r.useSortBy=Ln,r.useTable=function(U){for(var te=arguments.length,re=new Array(te>1?te-1:0),fe=1;fe<te;fe++)re[fe-1]=arguments[fe];U=Pe(U),re=[D].concat(re);var Le=a.useRef({}),ve=P(Le.current);Object.assign(ve(),s({},U,{plugins:re,hooks:k()})),re.filter(Boolean).forEach(function(Cn){Cn(ve().hooks)});var $e=P(ve().hooks);ve().getHooks=$e,delete ve().hooks,Object.assign(ve(),R($e().useOptions,Pe(U)));var Rt=ve(),_t=Rt.data,Pt=Rt.columns,qt=Rt.initialState,Vt=Rt.defaultColumn,Wt=Rt.getSubRows,Ut=Rt.getRowId,Jt=Rt.stateReducer,an=Rt.useControlledState,fn=P(Jt),wn=a.useCallback(function(Cn,Hr){if(!Hr.type)throw console.info({action:Hr}),new Error("Unknown Action 👆");return[].concat($e().stateReducers,Array.isArray(fn())?fn():[fn()]).reduce(function(kr,Zn){return Zn(kr,Hr,Cn,ve())||kr},Cn)},[$e,fn,ve]),Gn=a.useReducer(wn,void 0,function(){return wn(qt,{type:f.init})}),_n=Gn[0],Xt=Gn[1],Bn=R([].concat($e().useControlledState,[an]),_n,{instance:ve()});Object.assign(ve(),{state:Bn,dispatch:Xt});var pn=a.useMemo(function(){return q(R($e().columns,Pt,{instance:ve()}))},[$e,ve,Pt].concat(R($e().columnsDeps,[],{instance:ve()})));ve().columns=pn;var kn=a.useMemo(function(){return R($e().allColumns,Fe(pn),{instance:ve()}).map($)},[pn,$e,ve].concat(R($e().allColumnsDeps,[],{instance:ve()})));ve().allColumns=kn;var Jn=a.useMemo(function(){for(var Cn=[],Hr=[],kr={},Zn=[].concat(kn);Zn.length;){var Gr=Zn.shift();X({data:_t,rows:Cn,flatRows:Hr,rowsById:kr,column:Gr,getRowId:Ut,getSubRows:Wt,accessValueHooks:$e().accessValue,getInstance:ve})}return[Cn,Hr,kr]},[kn,_t,Ut,Wt,$e,ve]),Dt=Jn[0],Pn=Jn[1],vr=Jn[2];Object.assign(ve(),{rows:Dt,initialRows:[].concat(Dt),flatRows:Pn,rowsById:vr}),C($e().useInstanceAfterData,ve());var Mn=a.useMemo(function(){return R($e().visibleColumns,kn,{instance:ve()}).map(function(Cn){return ie(Cn,Vt)})},[$e,kn,ve,Vt].concat(R($e().visibleColumnsDeps,[],{instance:ve()})));kn=a.useMemo(function(){var Cn=[].concat(Mn);return kn.forEach(function(Hr){Cn.find(function(kr){return kr.id===Hr.id})||Cn.push(Hr)}),Cn},[kn,Mn]),ve().allColumns=kn;var pr=a.useMemo(function(){return R($e().headerGroups,ge(Mn,Vt),ve())},[$e,Mn,Vt,ve].concat(R($e().headerGroupsDeps,[],{instance:ve()})));ve().headerGroups=pr;var lr=a.useMemo(function(){return pr.length?pr[0].headers:[]},[pr]);ve().headers=lr,ve().flatHeaders=pr.reduce(function(Cn,Hr){return[].concat(Cn,Hr.headers)},[]),C($e().useInstanceBeforeDimensions,ve());var Nr=Mn.filter(function(Cn){return Cn.isVisible}).map(function(Cn){return Cn.id}).sort().join("_");Mn=a.useMemo(function(){return Mn.filter(function(Cn){return Cn.isVisible})},[Mn,Nr]),ve().visibleColumns=Mn;var En=ft(lr),$n=En[0],Yr=En[1],gi=En[2];return ve().totalColumnsMinWidth=$n,ve().totalColumnsWidth=Yr,ve().totalColumnsMaxWidth=gi,C($e().useInstance,ve()),[].concat(ve().flatHeaders,ve().allColumns).forEach(function(Cn){Cn.render=z(ve(),Cn),Cn.getHeaderProps=T($e().getHeaderProps,{instance:ve(),column:Cn}),Cn.getFooterProps=T($e().getFooterProps,{instance:ve(),column:Cn})}),ve().headerGroups=a.useMemo(function(){return pr.filter(function(Cn,Hr){return Cn.headers=Cn.headers.filter(function(kr){return kr.headers?function Zn(Gr){return Gr.filter(function(ir){return ir.headers?Zn(ir.headers):ir.isVisible}).length}(kr.headers):kr.isVisible}),!!Cn.headers.length&&(Cn.getHeaderGroupProps=T($e().getHeaderGroupProps,{instance:ve(),headerGroup:Cn,index:Hr}),Cn.getFooterGroupProps=T($e().getFooterGroupProps,{instance:ve(),headerGroup:Cn,index:Hr}),!0)})},[pr,ve,$e]),ve().footerGroups=[].concat(ve().headerGroups).reverse(),ve().prepareRow=a.useCallback(function(Cn){Cn.getRowProps=T($e().getRowProps,{instance:ve(),row:Cn}),Cn.allCells=kn.map(function(Hr){var kr=Cn.values[Hr.id],Zn={column:Hr,row:Cn,value:kr};return Zn.getCellProps=T($e().getCellProps,{instance:ve(),cell:Zn}),Zn.render=z(ve(),Hr,{row:Cn,cell:Zn,value:kr}),Zn}),Cn.cells=Mn.map(function(Hr){return Cn.allCells.find(function(kr){return kr.column.id===Hr.id})}),C($e().prepareRow,Cn,{instance:ve()})},[$e,ve,kn,Mn]),ve().getTableProps=T($e().getTableProps,{instance:ve()}),ve().getTableBodyProps=T($e().getTableBodyProps,{instance:ve()}),C($e().useFinalInstance,ve()),ve()},Object.defineProperty(r,"__esModule",{value:!0})})}(wg,wg.exports)),wg.exports}var RS;function RI(){return RS||(RS=1,Rv.exports=xI()),Rv.exports}var TI=rm.exports,TS;function CI(){return TS||(TS=1,function(e,t){(function(a,o){e.exports=o(Ug(),WC(),ZO(),SI,RI())})(TI,(r,a,o,c,s)=>(()=>{var u={577:v=>{v.exports=a},606:v=>{v.exports=o},156:v=>{v.exports=r},767:v=>{v.exports=s},928:v=>{v.exports=c}},h={};function f(v){var w=h[v];if(w!==void 0)return w.exports;var S=h[v]={exports:{}};return u[v](S,S.exports,f),S.exports}f.n=v=>{var w=v&&v.__esModule?()=>v.default:()=>v;return f.d(w,{a:w}),w},f.d=(v,w)=>{for(var S in w)f.o(w,S)&&!f.o(v,S)&&Object.defineProperty(v,S,{enumerable:!0,get:w[S]})},f.o=(v,w)=>Object.prototype.hasOwnProperty.call(v,w),f.r=v=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})};var g={};return(()=>{f.r(g),f.d(g,{CombinedDataProvider:()=>B,DatasetContext:()=>z,DatasetProvider:()=>J,FileUpload:()=>x,Image:()=>Re,Link:()=>Xe,LoginButton:()=>ze,LogoutButton:()=>Pe,SessionContext:()=>R,SessionProvider:()=>C,Table:()=>We,TableColumn:()=>H,Text:()=>Je,ThingContext:()=>Fe,ThingProvider:()=>$,Value:()=>Ot,Video:()=>jn,useDataset:()=>K,useFile:()=>nt,useSession:()=>Vn,useThing:()=>sn});var v=f(156),w=f.n(v),S=f(577),T=f(606);const R=(0,v.createContext)({login:T.login,logout:T.logout,fetch:T.fetch,session:(0,T.getDefaultSession)(),sessionRequestInProgress:!0,profile:void 0}),C=({sessionId:Ge,children:bt,onError:ut,sessionRequestInProgress:Me,restorePreviousSession:pt,skipLoadingProfile:Qt,onSessionRestore:zt})=>{const tn=pt||typeof zt<"u",[Ht,ue]=(0,v.useState)((0,T.getDefaultSession)()),[ye,Ct]=(0,v.useState)();(0,v.useEffect)(()=>{zt!==void 0&&(0,T.onSessionRestore)(zt)},[zt]);const Tt=typeof Me>"u"?!Ht.info.isLoggedIn:Me,[Nt,Zt]=(0,v.useState)(Tt);let nn;typeof window<"u"&&(nn=window.location),(0,v.useEffect)(()=>{(0,T.handleIncomingRedirect)({url:window.location.href,restorePreviousSession:tn}).then(async en=>{if(Qt!==!0&&en?.webId!==void 0){const vn=await(0,S.getProfileAll)(en?.webId,{fetch:Ht.fetch});Ct(vn)}}).catch(en=>{if(ut)ut(en);else throw en}).finally(()=>{Zt(!1)}),(0,T.getDefaultSession)().on("logout",()=>{ue((0,T.getDefaultSession)())})},[Ht,Ge,ut,nn,tn,Qt]);const Dn=async en=>{Zt(!0);try{await(0,T.login)(en)}catch(vn){if(ut)ut(vn);else throw vn}finally{Zt(!1)}},$t=async()=>{try{await(0,T.logout)(),Ct(void 0)}catch(en){if(ut)ut(en);else throw en}};return w().createElement(R.Provider,{value:{session:Ht,login:Dn,logout:$t,sessionRequestInProgress:Nt,setSessionRequestInProgress:Zt,fetch:T.fetch,profile:ye}},bt)};function x({saveLocation:Ge,onError:bt,onSave:ut,inputProps:Me,autosave:pt}){const{fetch:Qt}=(0,v.useContext)(R),zt=async tn=>{const Ht=tn.target;if(Ht.files&&pt)try{const ue=await(0,S.saveFileInContainer)(Ge,Ht.files[0],{slug:Ht.files[0].name?Ht.files[0].name:void 0,fetch:Qt});ut&&ut(ue)}catch(ue){bt&&bt(ue)}};return w().createElement(w().Fragment,null,w().createElement("input",Object.assign({type:"file"},Me,{onChange:tn=>zt(tn),"data-testid":"form-input"})))}var F=f(928),P=f.n(F);function K(Ge,bt){const{fetch:ut}=(0,v.useContext)(R),{solidDataset:Me}=(0,v.useContext)(z),{data:pt,error:Qt}=P()(Ge?[Ge,bt,ut]:null,()=>{const tn=Object.assign({fetch:ut},bt);return(0,S.getSolidDataset)(Ge,tn)});return{dataset:Ge?pt:Me,error:Qt}}const M=(0,v.createContext)({solidDataset:void 0,setDataset:()=>{}}),z=M,J=({children:Ge,onError:bt,solidDataset:ut,datasetUrl:Me,loading:pt,loadingComponent:Qt})=>{const{dataset:zt,error:tn}=K(Me);tn&&bt&&bt(tn);const Ht=ut??zt,[ue,ye]=(0,v.useState)(Ht);(0,v.useEffect)(()=>{ye(Ht)},[Ht]);let Ct=Qt&&w().createElement(Qt,null)||pt||w().createElement("span",null,"Fetching data...");return Qt===null&&(Ct=null),w().createElement(M.Provider,{value:{solidDataset:ue,setDataset:ye}},ue?Ge:Ct)},q=(0,v.createContext)({thing:null,setThing:()=>{}}),Fe=q,$=({children:Ge,thing:bt,thingUrl:ut})=>{const{solidDataset:Me}=(0,v.useContext)(z);let pt=bt;Me&&ut&&(pt=(0,S.getThing)(Me,ut));const[Qt,zt]=(0,v.useState)(pt||null);return(0,v.useEffect)(()=>{Me&&ut?zt((0,S.getThing)(Me,ut)):bt&&zt(bt)},[Me,ut,bt]),w().createElement(q.Provider,{value:{thing:Qt,setThing:zt}},Ge)},ie=async(Ge,bt,ut,Me,pt,Qt,zt)=>{try{return pt!==void 0&&bt.size>pt*1024?(ut.setCustomValidity(`The selected file must not be larger than ${pt}kB`),ut.reportValidity(),null):(ut.setCustomValidity(""),await(0,S.overwriteFile)(Ge,bt,{fetch:Me}),Qt&&Qt(),URL.createObjectURL(bt))}catch(tn){return zt&&zt(tn),null}},ge=async(Ge,bt)=>await(0,S.getFile)(Ge,{fetch:bt});function Ee(Ge,bt,ut,Me){switch(Ge){case"boolean":return(0,S.getBoolean)(bt,ut);case"datetime":return(0,S.getDatetime)(bt,ut);case"decimal":return(0,S.getDecimal)(bt,ut);case"integer":return(0,S.getInteger)(bt,ut);case"url":return(0,S.getUrl)(bt,ut);default:return Me?(0,S.getStringWithLocale)(bt,ut,Me):(0,S.getStringNoLocale)(bt,ut)}}function tt(Ge,bt,ut,Me){switch(Ge){case"boolean":return(0,S.getBooleanAll)(bt,ut);case"datetime":return(0,S.getDatetimeAll)(bt,ut);case"decimal":return(0,S.getDecimalAll)(bt,ut);case"integer":return(0,S.getIntegerAll)(bt,ut);case"url":return(0,S.getUrlAll)(bt,ut);default:return Me?(0,S.getStringWithLocaleAll)(bt,ut,Me):(0,S.getStringNoLocaleAll)(bt,ut)}}function ct(Ge,bt,ut,Me,pt){return Me.find(Qt=>Ge(bt,ut,Qt,pt))||Me[0]}function Ie(Ge){const{dataset:bt,thing:ut,properties:Me,property:pt,type:Qt,locale:zt}=Ge,{solidDataset:tn,setDataset:Ht=()=>{}}=(0,v.useContext)(z),ue=bt||tn,{thing:ye,setThing:Ct=()=>{}}=(0,v.useContext)(Fe),Tt=ut||ye||void 0;let Nt;Tt||(Nt=new Error("Thing not found as property or in context"));const Zt=Tt&&Me?ct(Ee,Qt,Tt,Me,zt)||Me[0]:pt;if(!Zt)throw new Error("No property provided");const nn=Tt&&Zt?Ee(Qt,Tt,Zt,zt):null;return{dataset:ue,thing:Tt,property:Zt,error:Nt,value:nn,setDataset:Ht,setThing:Ct}}function ht(){const[Ge,bt]=(0,v.useState)(null);return(0,v.useEffect)(()=>{const ut=document.createElement("input");ut.type="datetime-local",bt(ut.type!=="text")},[]),Ge}async function de(Ge,bt){const ut=await(0,S.getSolidDataset)(Ge);bt(ut)}function nt(Ge){const[bt,ut]=(0,v.useState)(),[Me,pt]=(0,v.useState)(!1),[Qt,zt]=(0,v.useState)(),{fetch:tn}=(0,v.useContext)(R);return(0,v.useEffect)(()=>{Ge&&(pt(!0),ge(Ge,tn).then(Ht=>{zt(Ht),pt(!1)}).catch(Ht=>{ut(Ht),pt(!1)}))},[Ge,tn]),{error:bt,inProgress:Me,data:Qt}}var Y=function(Ge,bt){var ut={};for(var Me in Ge)Object.prototype.hasOwnProperty.call(Ge,Me)&&bt.indexOf(Me)<0&&(ut[Me]=Ge[Me]);if(Ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Me=Object.getOwnPropertySymbols(Ge);pt<Me.length;pt++)bt.indexOf(Me[pt])<0&&Object.prototype.propertyIsEnumerable.call(Ge,Me[pt])&&(ut[Me[pt]]=Ge[Me[pt]]);return ut};function Re(Ge){var{thing:bt,property:ut,properties:Me,edit:pt,autosave:Qt,allowDelete:zt,onSave:tn,onError:Ht,maxSize:ue,alt:ye,inputProps:Ct,errorComponent:Tt,loadingComponent:Nt,deleteComponent:Zt,saveLocation:nn,solidDataset:Dn}=Ge,$t=Y(Ge,["thing","property","properties","edit","autosave","allowDelete","onSave","onError","maxSize","alt","inputProps","errorComponent","loadingComponent","deleteComponent","saveLocation","solidDataset"]);const{fetch:en}=(0,v.useContext)(R),vn=Ie({thing:bt,property:ut,properties:Me,type:"url"}),{value:on,thing:Un,error:xn}=vn;let qn;on||(qn=new Error("No value found for property."));const yn=!Un&&!xn,[ln,Gt]=(0,v.useState)(xn??qn);(0,v.useEffect)(()=>{ln&&Ht&&Ht(ln)},[ln,Ht,Tt]);const[Xn,Or]=(0,v.useState)(),{data:fr,error:Ln,inProgress:Ar}=nt(on);(0,v.useEffect)(()=>{if(Ar)return;if(Ln){Gt(Ln);return}const Tr=fr&&URL.createObjectURL(fr);Tr&&Or(Tr)},[fr,Ar,Ln]);const Mr=async()=>{if(!(!bt||!Dn||!ut||typeof on!="string"||!Qt))try{const Tr=(0,S.removeUrl)(bt,ut,on),Ki=(0,S.setThing)(Dn,Tr),di=(0,S.getSourceUrl)(Dn);if(!di)return;await(0,S.saveSolidDatasetAt)(di,Ki,{fetch:en})}catch(Tr){Gt(Tr)}},cn=async Tr=>{const Ki=Tr.files;if(Qt&&Ki&&Ki.length>0){if(on){const di=await ie(on,Ki[0],Tr,en,ue,tn,Ht);di&&Or(di)}else if(!on&&nn){const di=await(0,S.saveFileInContainer)(nn,Ki[0],{fetch:en}),Ia=(0,S.getSourceUrl)(di);if(Ia&&bt&&ut&&Dn){Or(Ia);try{const ea=(0,S.addUrl)(bt,ut,Ia),hi=(0,S.setThing)(Dn,ea),b=(0,S.getSourceUrl)(Dn);if(!b)return;await(0,S.saveSolidDatasetAt)(b,hi,{fetch:en})}catch(ea){Gt(ea)}}}}};let fi=null;if(yn||Ar){let Tr=Nt&&w().createElement(Nt,null)||w().createElement("span",null,"fetching data in progress");return Nt===null&&(Tr=null),Tr}return ln?fi=Tt?w().createElement(Tt,{error:ln}):w().createElement("span",null,ln.toString()):on&&(fi=w().createElement("img",Object.assign({src:Xn,alt:ye??""},$t))),w().createElement(w().Fragment,null,fi,pt&&w().createElement("input",Object.assign({},Ct,{type:"file",accept:"image/*",onChange:Tr=>cn(Tr.target)})),zt&&(Zt?w().createElement(Zt,{onClick:Mr}):w().createElement("button",{type:"button",onClick:Mr},"Delete")))}var Qe=function(Ge,bt){var ut={};for(var Me in Ge)Object.prototype.hasOwnProperty.call(Ge,Me)&&bt.indexOf(Me)<0&&(ut[Me]=Ge[Me]);if(Ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Me=Object.getOwnPropertySymbols(Ge);pt<Me.length;pt++)bt.indexOf(Me[pt])<0&&Object.prototype.propertyIsEnumerable.call(Ge,Me[pt])&&(ut[Me[pt]]=Ge[Me[pt]]);return ut};const He=Ge=>{var bt;const{thing:ut,solidDataset:Me,property:pt,properties:Qt,saveDatasetTo:zt,onSave:tn,onError:Ht,edit:ue,autosave:ye,inputProps:Ct}=Ge,Tt=Qe(Ge,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:Nt}=(0,v.useContext)(R),{value:Zt,thing:nn,property:Dn,dataset:$t,setDataset:en,error:vn}=Ie({dataset:Me,thing:ut,type:"datetime",property:pt,properties:Qt}),on=ht();(0,v.useEffect)(()=>{vn&&Ht&&Ht(vn)},[vn,Ht]);const Un=Zt?Zt.toISOString().substring(0,Zt.toISOString().length-5):null,[xn,qn]=(0,v.useState)(Un);let yn="";on||(yn=xn?.split(/T(.+)/)[0].toString());let ln="00:00";on||(ln=(bt=xn?.split(/T(.+)/)[1])===null||bt===void 0?void 0:bt.toString());const[Gt,Xn]=(0,v.useState)(ln),[Or,fr]=(0,v.useState)(yn);(0,v.useEffect)(()=>{!Gt&&!Or||on||qn(`${Or??""}T${Gt??"00:00"}`)},[Gt,Or,on]);const Ln=async Mr=>{if(Un!==xn&&nn&&$t&&Mr.target.reportValidity()){const cn=xn,fi=(0,S.setDatetime)(nn,Dn,new Date(`${cn}Z`));try{let Tr;zt?(Tr=await(0,S.saveSolidDatasetAt)(zt,(0,S.setThing)($t,fi),{fetch:Nt}),await de(zt,en)):(0,S.hasResourceInfo)($t)?(Tr=await(0,S.saveSolidDatasetAt)((0,S.getSourceUrl)($t),(0,S.setThing)($t,fi),{fetch:Nt}),await de((0,S.getSourceUrl)($t),en)):Ht&&Ht(new Error("Please provide saveDatasetTo location for new data")),!vn&&tn&&tn(Tr,fi)}catch(Tr){Ht&&Ht(Tr)}}};let Ar;return on?Ar="datetime-local":Ar="datetime-workaround",w().createElement(w().Fragment,null,!ue&&$t&&nn&&w().createElement("span",Object.assign({},Tt),`${xn}`),ue&&$t&&nn&&Ar==="datetime-local"&&w().createElement("input",Object.assign({type:Ar,"aria-label":"Date and Time",step:"any"},Ct,{onChange:Mr=>{qn(Mr.target.value)},onBlur:Mr=>ye&&Ln(Mr),value:xn,pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}",placeholder:"yyyy-mm-ddThh:mm"})),ue&&$t&&nn&&Ar==="datetime-workaround"&&w().createElement(w().Fragment,null,w().createElement("input",Object.assign({type:"date","aria-label":"Date",step:"any"},Ct,{onChange:Mr=>{fr(Mr.target.value)},onBlur:Mr=>ye&&Ln(Mr),value:Or,pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}",placeholder:"yyyy-mm-dd"})),w().createElement("input",{type:"time","aria-label":"Time",value:Gt,onChange:Mr=>Xn(Mr.target.value),onBlur:Mr=>ye&&Ln(Mr),pattern:"[0-9]{2}:[0-9]{2}"})))};He.defaultProps={autosave:!1,edit:!1};const st=He;var It=function(Ge,bt){var ut={};for(var Me in Ge)Object.prototype.hasOwnProperty.call(Ge,Me)&&bt.indexOf(Me)<0&&(ut[Me]=Ge[Me]);if(Ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Me=Object.getOwnPropertySymbols(Ge);pt<Me.length;pt++)bt.indexOf(Me[pt])<0&&Object.prototype.propertyIsEnumerable.call(Ge,Me[pt])&&(ut[Me[pt]]=Ge[Me[pt]]);return ut};const kt=Ge=>{var bt;const{thing:ut,solidDataset:Me,property:pt,properties:Qt,saveDatasetTo:zt,locale:tn,onSave:Ht,onError:ue,edit:ye,autosave:Ct,inputProps:Tt}=Ge,Nt=It(Ge,["thing","solidDataset","property","properties","saveDatasetTo","locale","onSave","onError","edit","autosave","inputProps"]),{fetch:Zt}=(0,v.useContext)(R),{value:nn,thing:Dn,property:$t,dataset:en,setDataset:vn,error:on}=Ie({dataset:Me,thing:ut,type:"string",property:pt,properties:Qt,locale:tn});(0,v.useEffect)(()=>{on&&ue&&ue(on)},[on,ue]);const Un=(bt=nn?.toString())!==null&&bt!==void 0?bt:"",[xn,qn]=(0,v.useState)(Un),yn=async ln=>{if(Un!==xn&&Dn&&en&&ln.target.reportValidity()){let Gt;tn?Gt=(0,S.setStringWithLocale)(Dn,$t,xn,tn):Gt=(0,S.setStringNoLocale)(Dn,$t,xn);try{let Xn;zt?(Xn=await(0,S.saveSolidDatasetAt)(zt,(0,S.setThing)(en,Gt),{fetch:Zt}),await de(zt,vn)):(0,S.hasResourceInfo)(en)?(Xn=await(0,S.saveSolidDatasetAt)((0,S.getSourceUrl)(en),(0,S.setThing)(en,Gt),{fetch:Zt}),await de((0,S.getSourceUrl)(en),vn)):ue&&ue(new Error("Please provide saveDatasetTo location for new data")),!on&&Ht&&Ht(Xn,Gt)}catch(Xn){ue&&ue(Xn)}}};return w().createElement(w().Fragment,null,!ye&&en&&Dn&&w().createElement("span",Object.assign({},Nt),xn),ye&&en&&Dn&&w().createElement("input",Object.assign({type:"text"},Tt,{onChange:ln=>{qn(ln.target.value)},onBlur:ln=>Ct&&yn(ln),value:xn})))};kt.defaultProps={autosave:!1,edit:!1};const ke=kt;var le=function(Ge,bt){var ut={};for(var Me in Ge)Object.prototype.hasOwnProperty.call(Ge,Me)&&bt.indexOf(Me)<0&&(ut[Me]=Ge[Me]);if(Ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Me=Object.getOwnPropertySymbols(Ge);pt<Me.length;pt++)bt.indexOf(Me[pt])<0&&Object.prototype.propertyIsEnumerable.call(Ge,Me[pt])&&(ut[Me[pt]]=Ge[Me[pt]]);return ut};const Ce=Ge=>{var bt;const{thing:ut,solidDataset:Me,property:pt,properties:Qt,saveDatasetTo:zt,onSave:tn,onError:Ht,edit:ue,autosave:ye,inputProps:Ct}=Ge,Tt=le(Ge,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:Nt}=(0,v.useContext)(R),{value:Zt,thing:nn,property:Dn,dataset:$t,setDataset:en,error:vn}=Ie({dataset:Me,thing:ut,type:"boolean",property:pt,properties:Qt});(0,v.useEffect)(()=>{vn&&Ht&&Ht(vn)},[vn,Ht]);let on=Zt,Un=!1;Un=(bt=Zt)!==null&&bt!==void 0?bt:!1,on=Un.toString();const[xn,qn]=(0,v.useState)(on),[yn,ln]=(0,v.useState)(Un);(0,v.useEffect)(()=>{qn(yn.toString())},[yn]);const Gt=async Xn=>{if(on!==xn&&nn&&$t&&Xn.target.reportValidity()){const Or=(0,S.setBoolean)(nn,Dn,yn);try{let fr;zt?(fr=await(0,S.saveSolidDatasetAt)(zt,(0,S.setThing)($t,Or),{fetch:Nt}),await de(zt,en)):(0,S.hasResourceInfo)($t)?(fr=await(0,S.saveSolidDatasetAt)((0,S.getSourceUrl)($t),(0,S.setThing)($t,Or),{fetch:Nt}),await de((0,S.getSourceUrl)($t),en)):Ht&&Ht(new Error("Please provide saveDatasetTo location for new data")),!vn&&tn&&tn(fr,Or)}catch(fr){Ht&&Ht(fr)}}};return w().createElement(w().Fragment,null,!ue&&$t&&nn&&w().createElement("span",Object.assign({},Tt),`${xn}`),ue&&$t&&nn&&w().createElement("input",Object.assign({type:"checkbox",checked:yn},Ct,{onChange:Xn=>{ln(Xn.target.checked)},onBlur:Xn=>ye&&Gt(Xn),value:xn})))};Ce.defaultProps={autosave:!1,edit:!1};const Ye=Ce;var oe=function(Ge,bt){var ut={};for(var Me in Ge)Object.prototype.hasOwnProperty.call(Ge,Me)&&bt.indexOf(Me)<0&&(ut[Me]=Ge[Me]);if(Ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Me=Object.getOwnPropertySymbols(Ge);pt<Me.length;pt++)bt.indexOf(Me[pt])<0&&Object.prototype.propertyIsEnumerable.call(Ge,Me[pt])&&(ut[Me[pt]]=Ge[Me[pt]]);return ut};const k=Ge=>{var bt;const{thing:ut,solidDataset:Me,property:pt,properties:Qt,saveDatasetTo:zt,onSave:tn,onError:Ht,edit:ue,autosave:ye,inputProps:Ct}=Ge,Tt=oe(Ge,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:Nt}=(0,v.useContext)(R),{value:Zt,thing:nn,property:Dn,dataset:$t,setDataset:en,error:vn}=Ie({dataset:Me,thing:ut,type:"url",property:pt,properties:Qt});(0,v.useEffect)(()=>{vn&&Ht&&Ht(vn)},[vn,Ht]);const on=(bt=Zt?.toString())!==null&&bt!==void 0?bt:"",[Un,xn]=(0,v.useState)(on),qn=async yn=>{if(on!==Un&&nn&&$t&&yn.target.reportValidity()){const ln=(0,S.setUrl)(nn,Dn,Un);try{let Gt;zt?(Gt=await(0,S.saveSolidDatasetAt)(zt,(0,S.setThing)($t,ln),{fetch:Nt}),await de(zt,en)):(0,S.hasResourceInfo)($t)?(Gt=await(0,S.saveSolidDatasetAt)((0,S.getSourceUrl)($t),(0,S.setThing)($t,ln),{fetch:Nt}),await de((0,S.getSourceUrl)($t),en)):Ht&&Ht(new Error("Please provide saveDatasetTo location for new data")),!vn&&tn&&tn(Gt,ln)}catch(Gt){Ht&&Ht(Gt)}}};return w().createElement(w().Fragment,null,!ue&&$t&&nn&&w().createElement("span",Object.assign({},Tt),`${Un}`),ue&&$t&&nn&&w().createElement("input",Object.assign({type:"url"},Ct,{onChange:yn=>{xn(yn.target.value)},onBlur:yn=>ye&&qn(yn),value:Un})))};k.defaultProps={autosave:!1,edit:!1};const D=k;var G=function(Ge,bt){var ut={};for(var Me in Ge)Object.prototype.hasOwnProperty.call(Ge,Me)&&bt.indexOf(Me)<0&&(ut[Me]=Ge[Me]);if(Ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Me=Object.getOwnPropertySymbols(Ge);pt<Me.length;pt++)bt.indexOf(Me[pt])<0&&Object.prototype.propertyIsEnumerable.call(Ge,Me[pt])&&(ut[Me[pt]]=Ge[Me[pt]]);return ut};const ne=Ge=>{var bt;const{thing:ut,solidDataset:Me,property:pt,properties:Qt,saveDatasetTo:zt,onSave:tn,onError:Ht,edit:ue,autosave:ye,inputProps:Ct}=Ge,Tt=G(Ge,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:Nt}=(0,v.useContext)(R),{value:Zt,thing:nn,property:Dn,dataset:$t,setDataset:en,error:vn}=Ie({dataset:Me,thing:ut,type:"integer",property:pt,properties:Qt});(0,v.useEffect)(()=>{vn&&Ht&&Ht(vn)},[vn,Ht]);const on=(bt=Zt?.toString())!==null&&bt!==void 0?bt:"",[Un,xn]=(0,v.useState)(on),qn=async yn=>{if(on!==Un&&nn&&$t&&yn.target.reportValidity()){const ln=(0,S.setInteger)(nn,Dn,parseInt(Un,10));try{let Gt;zt?(Gt=await(0,S.saveSolidDatasetAt)(zt,(0,S.setThing)($t,ln),{fetch:Nt}),await de(zt,en)):(0,S.hasResourceInfo)($t)?(Gt=await(0,S.saveSolidDatasetAt)((0,S.getSourceUrl)($t),(0,S.setThing)($t,ln),{fetch:Nt}),await de((0,S.getSourceUrl)($t),en)):Ht&&Ht(new Error("Please provide saveDatasetTo location for new data")),!vn&&tn&&tn(Gt,ln)}catch(Gt){Ht&&Ht(Gt)}}};return w().createElement(w().Fragment,null,!ue&&$t&&nn&&w().createElement("span",Object.assign({},Tt),`${Un}`),ue&&$t&&nn&&w().createElement("input",Object.assign({type:"number",step:"any"},Ct,{onChange:yn=>{xn(yn.target.value)},onBlur:yn=>ye&&qn(yn),value:Un})))};ne.defaultProps={autosave:!1,edit:!1};const _e=ne;var Oe=function(Ge,bt){var ut={};for(var Me in Ge)Object.prototype.hasOwnProperty.call(Ge,Me)&&bt.indexOf(Me)<0&&(ut[Me]=Ge[Me]);if(Ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Me=Object.getOwnPropertySymbols(Ge);pt<Me.length;pt++)bt.indexOf(Me[pt])<0&&Object.prototype.propertyIsEnumerable.call(Ge,Me[pt])&&(ut[Me[pt]]=Ge[Me[pt]]);return ut};const lt=Ge=>{var bt;const{thing:ut,solidDataset:Me,property:pt,properties:Qt,saveDatasetTo:zt,onSave:tn,onError:Ht,edit:ue,autosave:ye,inputProps:Ct}=Ge,Tt=Oe(Ge,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),{fetch:Nt}=(0,v.useContext)(R),{value:Zt,thing:nn,property:Dn,dataset:$t,setDataset:en,error:vn}=Ie({dataset:Me,thing:ut,type:"decimal",property:pt,properties:Qt});(0,v.useEffect)(()=>{vn&&Ht&&Ht(vn)},[vn,Ht]);const on=(bt=Zt?.toString())!==null&&bt!==void 0?bt:"",[Un,xn]=(0,v.useState)(on),qn=async yn=>{if(on!==Un&&nn&&$t&&yn.target.reportValidity()){const ln=(0,S.setDecimal)(nn,Dn,parseFloat(Un));try{let Gt;zt?(Gt=await(0,S.saveSolidDatasetAt)(zt,(0,S.setThing)($t,ln),{fetch:Nt}),await de(zt,en)):(0,S.hasResourceInfo)($t)?(Gt=await(0,S.saveSolidDatasetAt)((0,S.getSourceUrl)($t),(0,S.setThing)($t,ln),{fetch:Nt}),await de((0,S.getSourceUrl)($t),en)):Ht&&Ht(new Error("Please provide saveDatasetTo location for new data")),!vn&&tn&&tn(Gt,ln)}catch(Gt){Ht&&Ht(Gt)}}};return w().createElement(w().Fragment,null,!ue&&$t&&nn&&w().createElement("span",Object.assign({},Tt),`${Un}`),ue&&$t&&nn&&w().createElement("input",Object.assign({type:"number",step:"any"},Ct,{onChange:yn=>{xn(yn.target.value)},onBlur:yn=>ye&&qn(yn),value:Un})))};lt.defaultProps={autosave:!1,edit:!1};const Te=lt;var yt=function(Ge,bt){var ut={};for(var Me in Ge)Object.prototype.hasOwnProperty.call(Ge,Me)&&bt.indexOf(Me)<0&&(ut[Me]=Ge[Me]);if(Ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Me=Object.getOwnPropertySymbols(Ge);pt<Me.length;pt++)bt.indexOf(Me[pt])<0&&Object.prototype.propertyIsEnumerable.call(Ge,Me[pt])&&(ut[Me[pt]]=Ge[Me[pt]]);return ut};function Ot(Ge){const bt=Ge,{dataType:ut}=bt,Me=yt(bt,["dataType"]),{thing:pt,solidDataset:Qt,property:zt,properties:tn,edit:Ht,loadingComponent:ue,errorComponent:ye,locale:Ct}=Me,{thing:Tt,value:Nt,error:Zt}=Ie({dataset:Qt,thing:pt,property:zt,properties:tn,type:ut,locale:Ct});let nn;!Ht&&!Nt&&ut!=="boolean"&&(nn=new Error("No value found for property."));const Dn=!Tt&&!Zt,[$t]=(0,v.useState)(Zt??nn);if(Dn){let vn=ue&&w().createElement(ue,null)||w().createElement("span",null,"fetching data in progress");return ue===null&&(vn=null),vn}if($t)return ye?w().createElement(ye,{error:$t}):w().createElement("span",null,$t.toString());let en=ke;switch(ut){case"boolean":en=Ye;break;case"datetime":en=st;break;case"decimal":en=Te;break;case"integer":en=_e;break;case"url":en=D;break;default:en=ke}return w().createElement(en,Object.assign({},Me))}Ot.defaultProps={autosave:!1,edit:!1};var wt=function(Ge,bt){var ut={};for(var Me in Ge)Object.prototype.hasOwnProperty.call(Ge,Me)&&bt.indexOf(Me)<0&&(ut[Me]=Ge[Me]);if(Ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Me=Object.getOwnPropertySymbols(Ge);pt<Me.length;pt++)bt.indexOf(Me[pt])<0&&Object.prototype.propertyIsEnumerable.call(Ge,Me[pt])&&(ut[Me[pt]]=Ge[Me[pt]]);return ut};function Xe(Ge){var{children:bt,property:ut,properties:Me,thing:pt,solidDataset:Qt,autosave:zt,rel:tn,target:Ht,edit:ue,loadingComponent:ye,errorComponent:Ct,onSave:Tt,onError:Nt}=Ge,Zt=wt(Ge,["children","property","properties","thing","solidDataset","autosave","rel","target","edit","loadingComponent","errorComponent","onSave","onError"]);const{value:nn,thing:Dn,property:$t,dataset:en,error:vn}=Ie({dataset:Qt,thing:pt,property:ut,properties:Me,type:"url"});let on;!ue&&!nn&&(on=new Error("URL not found for given property"));const Un=!Dn&&!vn,[xn]=(0,v.useState)(vn??on);if(Un){let yn=ye&&w().createElement(ye,null)||w().createElement("span",null,"fetching data in progress");return ye===null&&(yn=null),yn}if(xn)return Ct?w().createElement(Ct,{error:xn}):w().createElement("span",null,xn.toString());const qn=tn||(Ht==="_blank"?"noopener noreferrer":"nofollow");return ue?w().createElement(Ot,{dataType:"url",solidDataset:en,thing:Dn,property:$t,autosave:zt,onSave:Tt,onError:Nt,edit:!0}):w().createElement("a",Object.assign({href:nn,rel:qn,target:Ht},Zt),bt??nn)}const ze=({oidcIssuer:Ge,redirectUrl:bt,children:ut,authOptions:Me,onError:pt})=>{const Qt=Object.assign({redirectUrl:bt,oidcIssuer:Ge},Me),{login:zt,setSessionRequestInProgress:tn}=(0,v.useContext)(R);async function Ht(){tn(!0);try{await zt(Qt),tn(!1)}catch(ye){tn(!1),pt&&pt(ye)}}function ue(ye){return ye.preventDefault(),ye.key==="Enter"?Ht():Promise.resolve()}return ut?w().createElement("div",{role:"button",tabIndex:0,onClick:Ht,onKeyDown:ue},ut):w().createElement("button",{type:"button",onClick:Ht,onKeyDown:ue},"Log In")},Pe=({children:Ge,onLogout:bt,onError:ut})=>{const{logout:Me}=(0,v.useContext)(R);async function pt(){try{await Me(),bt&&bt()}catch(zt){ut&&ut(zt)}}function Qt(zt){return zt.preventDefault(),zt.key==="Enter"?pt():Promise.resolve()}return Ge?w().createElement("div",{role:"button",tabIndex:0,onClick:pt,onKeyDown:Qt},Ge):w().createElement("button",{type:"button",onClick:pt,onKeyDown:Qt},"Log Out")};var ft=f(767);function X(Ge){const{children:bt,solidDataset:ut,datasetUrl:Me,thing:pt,thingUrl:Qt,onError:zt,loadingComponent:tn}=Ge;return w().createElement(J,{onError:zt,solidDataset:ut,datasetUrl:Me,loadingComponent:tn},w().createElement($,{thing:pt,thingUrl:Qt},bt))}const B=X;var V=function(Ge,bt){var ut={};for(var Me in Ge)Object.prototype.hasOwnProperty.call(Ge,Me)&&bt.indexOf(Me)<0&&(ut[Me]=Ge[Me]);if(Ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Me=Object.getOwnPropertySymbols(Ge);pt<Me.length;pt++)bt.indexOf(Me[pt])<0&&Object.prototype.propertyIsEnumerable.call(Ge,Me[pt])&&(ut[Me[pt]]=Ge[Me[pt]]);return ut};function H(Ge){throw new Error("Can't use TableColumn outside a Table.")}function We(Ge){var{children:bt,emptyStateComponent:ut,things:Me,filter:pt,ascIndicator:Qt,descIndicator:zt,getRowProps:tn}=Ge,Ht=V(Ge,["children","emptyStateComponent","things","filter","ascIndicator","descIndicator","getRowProps"]);const{columns:ue,data:ye}=(0,v.useMemo)(()=>{const $t=[],en=Me.map(()=>({}));return v.Children.forEach(bt,(vn,on)=>{if(vn){const{property:Un,header:xn,body:qn,dataType:yn="string",locale:ln,multiple:Gt=!1,sortable:Xn,sortFn:Or,filterable:fr}=vn.props;if($t.push({Header:xn??`${Un}`,accessor:`col${on}`,disableGlobalFilter:!fr,disableSortBy:!Xn,Cell:qn??(({value:Ln})=>Ln!=null?`${Ln}`:"")}),Or){const Ln=(Ar,Mr,cn)=>{const fi=Ar.values[cn],Tr=Mr.values[cn];return Or(fi,Tr)};$t[on].sortType=Ln}else yn==="string"&&($t[on].sortType=yn),(yn==="integer"||yn==="decimal")&&($t[on].sortType="number");Me.forEach((Ln,Ar)=>{en[Ar][`col${on}`]=Gt?tt(yn,Ln.thing,Un,ln):Ee(yn,Ln.thing,Un,ln)})}}),{columns:$t,data:en}},[bt,Me]),Ct=(0,ft.useTable)({columns:ue,data:ye,initialState:{globalFilter:pt||void 0}},ft.useGlobalFilter,ft.useSortBy),{getTableProps:Tt,getTableBodyProps:Nt,headerGroups:Zt,rows:nn,prepareRow:Dn}=Ct;return nn.length?w().createElement("table",Object.assign({},Tt(),Ht),w().createElement("thead",null,Zt.map($t=>w().createElement("tr",Object.assign({},$t.getHeaderGroupProps()),$t.headers.map(en=>w().createElement("th",Object.assign({},en.getHeaderProps(en.getSortByToggleProps())),en.render("Header"),en.isSorted&&(en.isSortedDesc?zt:Qt)))))),w().createElement("tbody",Object.assign({},Nt()),nn.map($t=>{Dn($t);const en=Me[$t.index].dataset,vn=Me[$t.index].thing;return w().createElement("tr",Object.assign({},$t.getRowProps(tn($t,vn,en))),w().createElement(B,{solidDataset:en,thing:vn},$t.cells.map(on=>w().createElement("td",Object.assign({},on.getCellProps()),on.render("Cell")))))}))):ut?w().createElement(ut,null):null}We.defaultProps={filter:void 0,ascIndicator:w().createElement("span",{role:"img","aria-label":"Sorted in ascending order"}," ","🔼"),descIndicator:w().createElement("span",{role:"img","aria-label":"Sorted in descending order"}," ","🔽"),getRowProps:()=>({})};var rt=function(Ge,bt){var ut={};for(var Me in Ge)Object.prototype.hasOwnProperty.call(Ge,Me)&&bt.indexOf(Me)<0&&(ut[Me]=Ge[Me]);if(Ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Me=Object.getOwnPropertySymbols(Ge);pt<Me.length;pt++)bt.indexOf(Me[pt])<0&&Object.prototype.propertyIsEnumerable.call(Ge,Me[pt])&&(ut[Me[pt]]=Ge[Me[pt]]);return ut};function Je(Ge){var{thing:bt,solidDataset:ut,property:Me,properties:pt,saveDatasetTo:Qt,locale:zt,onSave:tn,onError:Ht,inputProps:ue,errorComponent:ye,loadingComponent:Ct,edit:Tt=!1,autosave:Nt=!1}=Ge,Zt=rt(Ge,["thing","solidDataset","property","properties","saveDatasetTo","locale","onSave","onError","inputProps","errorComponent","loadingComponent","edit","autosave"]);const{fetch:nn}=(0,v.useContext)(R),{error:Dn,value:$t,thing:en,property:vn,dataset:on,setDataset:Un}=Ie({dataset:ut,thing:bt,property:Me,properties:pt,type:"string",locale:zt});let xn;!Tt&&!$t&&(xn=new Error("No value found for property."));const qn=!en&&!Dn,[yn]=(0,v.useState)(Dn??xn);(0,v.useEffect)(()=>{yn&&Ht&&Ht(yn)},[yn,Ht]);const[ln,Gt]=(0,v.useState)($t),[,Xn]=(0,v.useState)(),[Or,fr]=(0,v.useState)($t),Ln=async Ar=>{if(Or!==Ar.target.value&&en&&on){const Mr=Ar.target.value;let cn;zt?cn=(0,S.setStringWithLocale)(en,vn,Mr,zt):cn=(0,S.setStringNoLocale)(en,vn,Mr);try{let fi;Qt?(fi=await(0,S.saveSolidDatasetAt)(Qt,(0,S.setThing)(on,cn),{fetch:nn}),await de(Qt,Un)):(0,S.hasResourceInfo)(on)?(fi=await(0,S.saveSolidDatasetAt)((0,S.getSourceUrl)(on),(0,S.setThing)(on,cn),{fetch:nn}),await de((0,S.getSourceUrl)(on),Un)):Xn(()=>{throw new Error("Please provide saveDatasetTo location for new data")}),tn&&tn(fi,cn)}catch(fi){Ht&&Ht(fi)}}};if(qn){let Ar=Ct&&w().createElement(Ct,null)||w().createElement("span",null,"fetching data in progress");return Ct===null&&(Ar=null),Ar}return yn?ye?w().createElement(ye,{error:yn}):w().createElement("span",null,yn.toString()):w().createElement(w().Fragment,null,!Tt&&on&&en&&w().createElement("span",Object.assign({},Zt),ln),Tt&&on&&en&&w().createElement("input",Object.assign({type:ue&&ue.type?ue.type:"text"},ue,{onFocus:Ar=>fr(Ar.target.value),onChange:Ar=>Gt(Ar.target.value),onBlur:Ar=>Nt&&Ln(Ar),value:ln||""})))}var Yt=function(Ge,bt){var ut={};for(var Me in Ge)Object.prototype.hasOwnProperty.call(Ge,Me)&&bt.indexOf(Me)<0&&(ut[Me]=Ge[Me]);if(Ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,Me=Object.getOwnPropertySymbols(Ge);pt<Me.length;pt++)bt.indexOf(Me[pt])<0&&Object.prototype.propertyIsEnumerable.call(Ge,Me[pt])&&(ut[Me[pt]]=Ge[Me[pt]]);return ut};function jn(Ge){var{property:bt,properties:ut,thing:Me,edit:pt,autosave:Qt,onSave:zt,onError:tn,maxSize:Ht,inputProps:ue,errorComponent:ye,loadingComponent:Ct}=Ge,Tt=Yt(Ge,["property","properties","thing","edit","autosave","onSave","onError","maxSize","inputProps","errorComponent","loadingComponent"]);const{fetch:Nt}=(0,v.useContext)(R),Zt=Ie({thing:Me,property:bt,properties:ut,type:"url"}),{value:nn,thing:Dn,error:$t}=Zt;let en;!pt&&!nn&&(en=new Error("No value found for property."));const vn=!Dn&&!$t,[on,Un]=(0,v.useState)($t??en);(0,v.useEffect)(()=>{on&&tn&&tn(on)},[on,tn,ye]);const[xn,qn]=(0,v.useState)(""),{data:yn,error:ln,inProgress:Gt}=nt(nn);(0,v.useEffect)(()=>{if(Gt)return;if(ln){Un(ln);return}const fr=yn&&URL.createObjectURL(yn);fr&&qn(fr)},[yn,Gt,ln]);const Xn=async fr=>{const Ln=fr.files;if(Qt&&Ln&&Ln.length>0&&nn){const Ar=await ie(nn,Ln[0],fr,Nt,Ht,zt,tn);Ar&&qn(Ar)}};let Or=null;if(vn||Gt){let fr=Ct&&w().createElement(Ct,null)||w().createElement("span",null,"fetching data in progress");return Ct===null&&(fr=null),fr}return on?Or=ye?w().createElement(ye,{error:on}):w().createElement("span",null,on.toString()):nn&&(Or=w().createElement("video",Object.assign({src:xn||nn,controls:!0},Tt))),w().createElement(w().Fragment,null,Or,pt&&w().createElement("input",Object.assign({},ue,{type:"file",accept:"video/*",onChange:fr=>Xn(fr.target)})))}function Vn(){const{session:Ge,sessionRequestInProgress:bt,fetch:ut,login:Me,logout:pt}=(0,v.useContext)(R);return{session:Ge,sessionRequestInProgress:bt,fetch:ut,login:Me,logout:pt}}function sn(Ge,bt,ut){const{dataset:Me,error:pt}=K(Ge,ut),{thing:Qt}=(0,v.useContext)(Fe);return bt?Me?{thing:(0,S.getThing)(Me,bt),error:pt}:{thing:null,error:pt}:{thing:Qt||void 0,error:pt}}})(),g})())}(rm)),rm.exports}var OI=CI(),rb=function(e,t){return rb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])},rb(e,t)};function Uo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");rb(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Rn=function(){return Rn=Object.assign||function(t){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c])}return t},Rn.apply(this,arguments)};function qd(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r}function Ps(e,t,r){if(r||arguments.length===2)for(var a=0,o=t.length,c;a<o;a++)(c||!(a in t))&&(c||(c=Array.prototype.slice.call(t,0,a)),c[a]=t[a]);return e.concat(c||Array.prototype.slice.call(t))}function Os(e,t){var r=t&&t.cache?t.cache:LI,a=t&&t.serializer?t.serializer:DI,o=t&&t.strategy?t.strategy:NI;return o(e,{cache:r,serializer:a})}function II(e){return e==null||typeof e=="number"||typeof e=="boolean"}function PI(e,t,r,a){var o=II(a)?a:r(a),c=t.get(o);return typeof c>"u"&&(c=e.call(this,a),t.set(o,c)),c}function fx(e,t,r){var a=Array.prototype.slice.call(arguments,3),o=r(a),c=t.get(o);return typeof c>"u"&&(c=e.apply(this,a),t.set(o,c)),c}function dx(e,t,r,a,o){return r.bind(t,e,a,o)}function NI(e,t){var r=e.length===1?PI:fx;return dx(e,this,r,t.cache.create(),t.serializer)}function FI(e,t){return dx(e,this,fx,t.cache.create(),t.serializer)}var DI=function(){return JSON.stringify(arguments)},UI=function(){function e(){this.cache=Object.create(null)}return e.prototype.get=function(t){return this.cache[t]},e.prototype.set=function(t,r){this.cache[t]=r},e}(),LI={create:function(){return new UI}},Is={variadic:FI},Cr;(function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(Cr||(Cr={}));var ci;(function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"})(ci||(ci={}));var zd;(function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"})(zd||(zd={}));function CS(e){return e.type===ci.literal}function MI(e){return e.type===ci.argument}function hx(e){return e.type===ci.number}function px(e){return e.type===ci.date}function gx(e){return e.type===ci.time}function yx(e){return e.type===ci.select}function mx(e){return e.type===ci.plural}function kI(e){return e.type===ci.pound}function vx(e){return e.type===ci.tag}function bx(e){return!!(e&&typeof e=="object"&&e.type===zd.number)}function ib(e){return!!(e&&typeof e=="object"&&e.type===zd.dateTime)}var wx=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,BI=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function jI(e){var t={};return e.replace(BI,function(r){var a=r.length;switch(r[0]){case"G":t.era=a===4?"long":a===5?"narrow":"short";break;case"y":t.year=a===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][a-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][a-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=a===4?"long":a===5?"narrow":"short";break;case"e":if(a<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][a-4];break;case"c":if(a<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][a-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][a-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][a-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][a-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][a-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][a-1];break;case"s":t.second=["numeric","2-digit"][a-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=a<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),t}var HI=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function VI(e){if(e.length===0)throw new Error("Number skeleton cannot be empty");for(var t=e.split(HI).filter(function(w){return w.length>0}),r=[],a=0,o=t;a<o.length;a++){var c=o[a],s=c.split("/");if(s.length===0)throw new Error("Invalid number skeleton");for(var u=s[0],h=s.slice(1),f=0,g=h;f<g.length;f++){var v=g[f];if(v.length===0)throw new Error("Invalid number skeleton")}r.push({stem:u,options:h})}return r}function $I(e){return e.replace(/^(.*?)-/,"")}var OS=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,_x=/^(@+)?(\+|#+)?[rs]?$/g,KI=/(\*)(0+)|(#+)(0+)|(0+)/g,Ex=/^(0+)$/;function IS(e){var t={};return e[e.length-1]==="r"?t.roundingPriority="morePrecision":e[e.length-1]==="s"&&(t.roundingPriority="lessPrecision"),e.replace(_x,function(r,a,o){return typeof o!="string"?(t.minimumSignificantDigits=a.length,t.maximumSignificantDigits=a.length):o==="+"?t.minimumSignificantDigits=a.length:a[0]==="#"?t.maximumSignificantDigits=a.length:(t.minimumSignificantDigits=a.length,t.maximumSignificantDigits=a.length+(typeof o=="string"?o.length:0)),""}),t}function Sx(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function GI(e){var t;if(e[0]==="E"&&e[1]==="E"?(t={notation:"engineering"},e=e.slice(2)):e[0]==="E"&&(t={notation:"scientific"},e=e.slice(1)),t){var r=e.slice(0,2);if(r==="+!"?(t.signDisplay="always",e=e.slice(2)):r==="+?"&&(t.signDisplay="exceptZero",e=e.slice(2)),!Ex.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function PS(e){var t={},r=Sx(e);return r||t}function qI(e){for(var t={},r=0,a=e;r<a.length;r++){var o=a[r];switch(o.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=o.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=$I(o.options[0]);continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=Rn(Rn(Rn({},t),{notation:"scientific"}),o.options.reduce(function(h,f){return Rn(Rn({},h),PS(f))},{}));continue;case"engineering":t=Rn(Rn(Rn({},t),{notation:"engineering"}),o.options.reduce(function(h,f){return Rn(Rn({},h),PS(f))},{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(o.options[0]);continue;case"rounding-mode-floor":t.roundingMode="floor";continue;case"rounding-mode-ceiling":t.roundingMode="ceil";continue;case"rounding-mode-down":t.roundingMode="trunc";continue;case"rounding-mode-up":t.roundingMode="expand";continue;case"rounding-mode-half-even":t.roundingMode="halfEven";continue;case"rounding-mode-half-down":t.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":t.roundingMode="halfExpand";continue;case"integer-width":if(o.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");o.options[0].replace(KI,function(h,f,g,v,w,S){if(f)t.minimumIntegerDigits=g.length;else{if(v&&w)throw new Error("We currently do not support maximum integer digits");if(S)throw new Error("We currently do not support exact integer digits")}return""});continue}if(Ex.test(o.stem)){t.minimumIntegerDigits=o.stem.length;continue}if(OS.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(OS,function(h,f,g,v,w,S){return g==="*"?t.minimumFractionDigits=f.length:v&&v[0]==="#"?t.maximumFractionDigits=v.length:w&&S?(t.minimumFractionDigits=w.length,t.maximumFractionDigits=w.length+S.length):(t.minimumFractionDigits=f.length,t.maximumFractionDigits=f.length),""});var c=o.options[0];c==="w"?t=Rn(Rn({},t),{trailingZeroDisplay:"stripIfInteger"}):c&&(t=Rn(Rn({},t),IS(c)));continue}if(_x.test(o.stem)){t=Rn(Rn({},t),IS(o.stem));continue}var s=Sx(o.stem);s&&(t=Rn(Rn({},t),s));var u=GI(o.stem);u&&(t=Rn(Rn({},t),u))}return t}var Qy={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"en-HK":["h","hb","H","hB"],"en-IL":["H","h","hb","hB"],"en-MY":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function zI(e,t){for(var r="",a=0;a<e.length;a++){var o=e.charAt(a);if(o==="j"){for(var c=0;a+1<e.length&&e.charAt(a+1)===o;)c++,a++;var s=1+(c&1),u=c<2?1:3+(c>>1),h="a",f=WI(t);for((f=="H"||f=="k")&&(u=0);u-- >0;)r+=h;for(;s-- >0;)r=f+r}else o==="J"?r+="H":r+=o}return r}function WI(e){var t=e.hourCycle;if(t===void 0&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var r=e.language,a;r!=="root"&&(a=e.maximize().region);var o=Qy[a||""]||Qy[r||""]||Qy["".concat(r,"-001")]||Qy["001"];return o[0]}var Tv,JI=new RegExp("^".concat(wx.source,"*")),YI=new RegExp("".concat(wx.source,"*$"));function Ur(e,t){return{start:e,end:t}}var XI=!!String.prototype.startsWith&&"_a".startsWith("a",1),QI=!!String.fromCodePoint,ZI=!!Object.fromEntries,eP=!!String.prototype.codePointAt,tP=!!String.prototype.trimStart,nP=!!String.prototype.trimEnd,rP=!!Number.isSafeInteger,iP=rP?Number.isSafeInteger:function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},ab=!0;try{var aP=xx("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");ab=((Tv=aP.exec("a"))===null||Tv===void 0?void 0:Tv[0])==="a"}catch{ab=!1}var NS=XI?function(t,r,a){return t.startsWith(r,a)}:function(t,r,a){return t.slice(a,a+r.length)===r},ob=QI?String.fromCodePoint:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var a="",o=t.length,c=0,s;o>c;){if(s=t[c++],s>1114111)throw RangeError(s+" is not a valid code point");a+=s<65536?String.fromCharCode(s):String.fromCharCode(((s-=65536)>>10)+55296,s%1024+56320)}return a},FS=ZI?Object.fromEntries:function(t){for(var r={},a=0,o=t;a<o.length;a++){var c=o[a],s=c[0],u=c[1];r[s]=u}return r},Ax=eP?function(t,r){return t.codePointAt(r)}:function(t,r){var a=t.length;if(!(r<0||r>=a)){var o=t.charCodeAt(r),c;return o<55296||o>56319||r+1===a||(c=t.charCodeAt(r+1))<56320||c>57343?o:(o-55296<<10)+(c-56320)+65536}},oP=tP?function(t){return t.trimStart()}:function(t){return t.replace(JI,"")},sP=nP?function(t){return t.trimEnd()}:function(t){return t.replace(YI,"")};function xx(e,t){return new RegExp(e,t)}var sb;if(ab){var DS=xx("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");sb=function(t,r){var a;DS.lastIndex=r;var o=DS.exec(t);return(a=o[1])!==null&&a!==void 0?a:""}}else sb=function(t,r){for(var a=[];;){var o=Ax(t,r);if(o===void 0||Rx(o)||fP(o))break;a.push(o),r+=o>=65536?2:1}return ob.apply(void 0,a)};var lP=function(){function e(t,r){r===void 0&&(r={}),this.message=t,this.position={offset:0,line:1,column:1},this.ignoreTag=!!r.ignoreTag,this.locale=r.locale,this.requiresOtherClause=!!r.requiresOtherClause,this.shouldParseSkeletons=!!r.shouldParseSkeletons}return e.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(t,r,a){for(var o=[];!this.isEOF();){var c=this.char();if(c===123){var s=this.parseArgument(t,a);if(s.err)return s;o.push(s.val)}else{if(c===125&&t>0)break;if(c===35&&(r==="plural"||r==="selectordinal")){var u=this.clonePosition();this.bump(),o.push({type:ci.pound,location:Ur(u,this.clonePosition())})}else if(c===60&&!this.ignoreTag&&this.peek()===47){if(a)break;return this.error(Cr.UNMATCHED_CLOSING_TAG,Ur(this.clonePosition(),this.clonePosition()))}else if(c===60&&!this.ignoreTag&&lb(this.peek()||0)){var s=this.parseTag(t,r);if(s.err)return s;o.push(s.val)}else{var s=this.parseLiteral(t,r);if(s.err)return s;o.push(s.val)}}}return{val:o,err:null}},e.prototype.parseTag=function(t,r){var a=this.clonePosition();this.bump();var o=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:ci.literal,value:"<".concat(o,"/>"),location:Ur(a,this.clonePosition())},err:null};if(this.bumpIf(">")){var c=this.parseMessage(t+1,r,!0);if(c.err)return c;var s=c.val,u=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!lb(this.char()))return this.error(Cr.INVALID_TAG,Ur(u,this.clonePosition()));var h=this.clonePosition(),f=this.parseTagName();return o!==f?this.error(Cr.UNMATCHED_CLOSING_TAG,Ur(h,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:ci.tag,value:o,children:s,location:Ur(a,this.clonePosition())},err:null}:this.error(Cr.INVALID_TAG,Ur(u,this.clonePosition())))}else return this.error(Cr.UNCLOSED_TAG,Ur(a,this.clonePosition()))}else return this.error(Cr.INVALID_TAG,Ur(a,this.clonePosition()))},e.prototype.parseTagName=function(){var t=this.offset();for(this.bump();!this.isEOF()&&cP(this.char());)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(t,r){for(var a=this.clonePosition(),o="";;){var c=this.tryParseQuote(r);if(c){o+=c;continue}var s=this.tryParseUnquoted(t,r);if(s){o+=s;continue}var u=this.tryParseLeftAngleBracket();if(u){o+=u;continue}break}var h=Ur(a,this.clonePosition());return{val:{type:ci.literal,value:o,location:h},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!uP(this.peek()||0))?(this.bump(),"<"):null},e.prototype.tryParseQuote=function(t){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(t==="plural"||t==="selectordinal")break;return null;default:return null}this.bump();var r=[this.char()];for(this.bump();!this.isEOF();){var a=this.char();if(a===39)if(this.peek()===39)r.push(39),this.bump();else{this.bump();break}else r.push(a);this.bump()}return ob.apply(void 0,r)},e.prototype.tryParseUnquoted=function(t,r){if(this.isEOF())return null;var a=this.char();return a===60||a===123||a===35&&(r==="plural"||r==="selectordinal")||a===125&&t>0?null:(this.bump(),ob(a))},e.prototype.parseArgument=function(t,r){var a=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Cr.EXPECT_ARGUMENT_CLOSING_BRACE,Ur(a,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(Cr.EMPTY_ARGUMENT,Ur(a,this.clonePosition()));var o=this.parseIdentifierIfPossible().value;if(!o)return this.error(Cr.MALFORMED_ARGUMENT,Ur(a,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Cr.EXPECT_ARGUMENT_CLOSING_BRACE,Ur(a,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:ci.argument,value:o,location:Ur(a,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Cr.EXPECT_ARGUMENT_CLOSING_BRACE,Ur(a,this.clonePosition())):this.parseArgumentOptions(t,r,o,a);default:return this.error(Cr.MALFORMED_ARGUMENT,Ur(a,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var t=this.clonePosition(),r=this.offset(),a=sb(this.message,r),o=r+a.length;this.bumpTo(o);var c=this.clonePosition(),s=Ur(t,c);return{value:a,location:s}},e.prototype.parseArgumentOptions=function(t,r,a,o){var c,s=this.clonePosition(),u=this.parseIdentifierIfPossible().value,h=this.clonePosition();switch(u){case"":return this.error(Cr.EXPECT_ARGUMENT_TYPE,Ur(s,h));case"number":case"date":case"time":{this.bumpSpace();var f=null;if(this.bumpIf(",")){this.bumpSpace();var g=this.clonePosition(),v=this.parseSimpleArgStyleIfPossible();if(v.err)return v;var w=sP(v.val);if(w.length===0)return this.error(Cr.EXPECT_ARGUMENT_STYLE,Ur(this.clonePosition(),this.clonePosition()));var S=Ur(g,this.clonePosition());f={style:w,styleLocation:S}}var T=this.tryParseArgumentClose(o);if(T.err)return T;var R=Ur(o,this.clonePosition());if(f&&NS(f?.style,"::",0)){var C=oP(f.style.slice(2));if(u==="number"){var v=this.parseNumberSkeletonFromString(C,f.styleLocation);return v.err?v:{val:{type:ci.number,value:a,location:R,style:v.val},err:null}}else{if(C.length===0)return this.error(Cr.EXPECT_DATE_TIME_SKELETON,R);var x=C;this.locale&&(x=zI(C,this.locale));var w={type:zd.dateTime,pattern:x,location:f.styleLocation,parsedOptions:this.shouldParseSkeletons?jI(x):{}},F=u==="date"?ci.date:ci.time;return{val:{type:F,value:a,location:R,style:w},err:null}}}return{val:{type:u==="number"?ci.number:u==="date"?ci.date:ci.time,value:a,location:R,style:(c=f?.style)!==null&&c!==void 0?c:null},err:null}}case"plural":case"selectordinal":case"select":{var P=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Cr.EXPECT_SELECT_ARGUMENT_OPTIONS,Ur(P,Rn({},P)));this.bumpSpace();var K=this.parseIdentifierIfPossible(),M=0;if(u!=="select"&&K.value==="offset"){if(!this.bumpIf(":"))return this.error(Cr.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Ur(this.clonePosition(),this.clonePosition()));this.bumpSpace();var v=this.tryParseDecimalInteger(Cr.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Cr.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(v.err)return v;this.bumpSpace(),K=this.parseIdentifierIfPossible(),M=v.val}var z=this.tryParsePluralOrSelectOptions(t,u,r,K);if(z.err)return z;var T=this.tryParseArgumentClose(o);if(T.err)return T;var J=Ur(o,this.clonePosition());return u==="select"?{val:{type:ci.select,value:a,options:FS(z.val),location:J},err:null}:{val:{type:ci.plural,value:a,options:FS(z.val),offset:M,pluralType:u==="plural"?"cardinal":"ordinal",location:J},err:null}}default:return this.error(Cr.INVALID_ARGUMENT_TYPE,Ur(s,h))}},e.prototype.tryParseArgumentClose=function(t){return this.isEOF()||this.char()!==125?this.error(Cr.EXPECT_ARGUMENT_CLOSING_BRACE,Ur(t,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var t=0,r=this.clonePosition();!this.isEOF();){var a=this.char();switch(a){case 39:{this.bump();var o=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Cr.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Ur(o,this.clonePosition()));this.bump();break}case 123:{t+=1,this.bump();break}case 125:{if(t>0)t-=1;else return{val:this.message.slice(r.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(r.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(t,r){var a=[];try{a=VI(t)}catch{return this.error(Cr.INVALID_NUMBER_SKELETON,r)}return{val:{type:zd.number,tokens:a,location:r,parsedOptions:this.shouldParseSkeletons?qI(a):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(t,r,a,o){for(var c,s=!1,u=[],h=new Set,f=o.value,g=o.location;;){if(f.length===0){var v=this.clonePosition();if(r!=="select"&&this.bumpIf("=")){var w=this.tryParseDecimalInteger(Cr.EXPECT_PLURAL_ARGUMENT_SELECTOR,Cr.INVALID_PLURAL_ARGUMENT_SELECTOR);if(w.err)return w;g=Ur(v,this.clonePosition()),f=this.message.slice(v.offset,this.offset())}else break}if(h.has(f))return this.error(r==="select"?Cr.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Cr.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,g);f==="other"&&(s=!0),this.bumpSpace();var S=this.clonePosition();if(!this.bumpIf("{"))return this.error(r==="select"?Cr.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Cr.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Ur(this.clonePosition(),this.clonePosition()));var T=this.parseMessage(t+1,r,a);if(T.err)return T;var R=this.tryParseArgumentClose(S);if(R.err)return R;u.push([f,{value:T.val,location:Ur(S,this.clonePosition())}]),h.add(f),this.bumpSpace(),c=this.parseIdentifierIfPossible(),f=c.value,g=c.location}return u.length===0?this.error(r==="select"?Cr.EXPECT_SELECT_ARGUMENT_SELECTOR:Cr.EXPECT_PLURAL_ARGUMENT_SELECTOR,Ur(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(Cr.MISSING_OTHER_CLAUSE,Ur(this.clonePosition(),this.clonePosition())):{val:u,err:null}},e.prototype.tryParseDecimalInteger=function(t,r){var a=1,o=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(a=-1);for(var c=!1,s=0;!this.isEOF();){var u=this.char();if(u>=48&&u<=57)c=!0,s=s*10+(u-48),this.bump();else break}var h=Ur(o,this.clonePosition());return c?(s*=a,iP(s)?{val:s,err:null}:this.error(r,h)):this.error(t,h)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var t=this.position.offset;if(t>=this.message.length)throw Error("out of bound");var r=Ax(this.message,t);if(r===void 0)throw Error("Offset ".concat(t," is at invalid UTF-16 code unit boundary"));return r},e.prototype.error=function(t,r){return{val:null,err:{kind:t,message:this.message,location:r}}},e.prototype.bump=function(){if(!this.isEOF()){var t=this.char();t===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=t<65536?1:2)}},e.prototype.bumpIf=function(t){if(NS(this.message,t,this.offset())){for(var r=0;r<t.length;r++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(t){var r=this.offset(),a=this.message.indexOf(t,r);return a>=0?(this.bumpTo(a),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(t){if(this.offset()>t)throw Error("targetOffset ".concat(t," must be greater than or equal to the current offset ").concat(this.offset()));for(t=Math.min(t,this.message.length);;){var r=this.offset();if(r===t)break;if(r>t)throw Error("targetOffset ".concat(t," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&Rx(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var t=this.char(),r=this.offset(),a=this.message.charCodeAt(r+(t>=65536?2:1));return a??null},e}();function lb(e){return e>=97&&e<=122||e>=65&&e<=90}function uP(e){return lb(e)||e===47}function cP(e){return e===45||e===46||e>=48&&e<=57||e===95||e>=97&&e<=122||e>=65&&e<=90||e==183||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function Rx(e){return e>=9&&e<=13||e===32||e===133||e>=8206&&e<=8207||e===8232||e===8233}function fP(e){return e>=33&&e<=35||e===36||e>=37&&e<=39||e===40||e===41||e===42||e===43||e===44||e===45||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||e===91||e===92||e===93||e===94||e===96||e===123||e===124||e===125||e===126||e===161||e>=162&&e<=165||e===166||e===167||e===169||e===171||e===172||e===174||e===176||e===177||e===182||e===187||e===191||e===215||e===247||e>=8208&&e<=8213||e>=8214&&e<=8215||e===8216||e===8217||e===8218||e>=8219&&e<=8220||e===8221||e===8222||e===8223||e>=8224&&e<=8231||e>=8240&&e<=8248||e===8249||e===8250||e>=8251&&e<=8254||e>=8257&&e<=8259||e===8260||e===8261||e===8262||e>=8263&&e<=8273||e===8274||e===8275||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||e===8608||e>=8609&&e<=8610||e===8611||e>=8612&&e<=8613||e===8614||e>=8615&&e<=8621||e===8622||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||e===8658||e===8659||e===8660||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||e===8968||e===8969||e===8970||e===8971||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||e===9001||e===9002||e>=9003&&e<=9083||e===9084||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||e===9655||e>=9656&&e<=9664||e===9665||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||e===9839||e>=9840&&e<=10087||e===10088||e===10089||e===10090||e===10091||e===10092||e===10093||e===10094||e===10095||e===10096||e===10097||e===10098||e===10099||e===10100||e===10101||e>=10132&&e<=10175||e>=10176&&e<=10180||e===10181||e===10182||e>=10183&&e<=10213||e===10214||e===10215||e===10216||e===10217||e===10218||e===10219||e===10220||e===10221||e===10222||e===10223||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||e===10627||e===10628||e===10629||e===10630||e===10631||e===10632||e===10633||e===10634||e===10635||e===10636||e===10637||e===10638||e===10639||e===10640||e===10641||e===10642||e===10643||e===10644||e===10645||e===10646||e===10647||e===10648||e>=10649&&e<=10711||e===10712||e===10713||e===10714||e===10715||e>=10716&&e<=10747||e===10748||e===10749||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||e===11158||e>=11159&&e<=11263||e>=11776&&e<=11777||e===11778||e===11779||e===11780||e===11781||e>=11782&&e<=11784||e===11785||e===11786||e===11787||e===11788||e===11789||e>=11790&&e<=11798||e===11799||e>=11800&&e<=11801||e===11802||e===11803||e===11804||e===11805||e>=11806&&e<=11807||e===11808||e===11809||e===11810||e===11811||e===11812||e===11813||e===11814||e===11815||e===11816||e===11817||e>=11818&&e<=11822||e===11823||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||e===11840||e===11841||e===11842||e>=11843&&e<=11855||e>=11856&&e<=11857||e===11858||e>=11859&&e<=11903||e>=12289&&e<=12291||e===12296||e===12297||e===12298||e===12299||e===12300||e===12301||e===12302||e===12303||e===12304||e===12305||e>=12306&&e<=12307||e===12308||e===12309||e===12310||e===12311||e===12312||e===12313||e===12314||e===12315||e===12316||e===12317||e>=12318&&e<=12319||e===12320||e===12336||e===64830||e===64831||e>=65093&&e<=65094}function ub(e){e.forEach(function(t){if(delete t.location,yx(t)||mx(t))for(var r in t.options)delete t.options[r].location,ub(t.options[r].value);else hx(t)&&bx(t.style)||(px(t)||gx(t))&&ib(t.style)?delete t.style.location:vx(t)&&ub(t.children)})}function dP(e,t){t===void 0&&(t={}),t=Rn({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var r=new lP(e,t).parse();if(r.err){var a=SyntaxError(Cr[r.err.kind]);throw a.location=r.err.location,a.originalMessage=r.err.message,a}return t?.captureLocation||ub(r.val),r.val}var Us;(function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"})(Us||(Us={}));var Xu=function(e){Uo(t,e);function t(r,a,o){var c=e.call(this,r)||this;return c.code=a,c.originalMessage=o,c}return t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),US=function(e){Uo(t,e);function t(r,a,o,c){return e.call(this,'Invalid values for "'.concat(r,'": "').concat(a,'". Options are "').concat(Object.keys(o).join('", "'),'"'),Us.INVALID_VALUE,c)||this}return t}(Xu),hP=function(e){Uo(t,e);function t(r,a,o){return e.call(this,'Value for "'.concat(r,'" must be of type ').concat(a),Us.INVALID_VALUE,o)||this}return t}(Xu),pP=function(e){Uo(t,e);function t(r,a){return e.call(this,'The intl string context variable "'.concat(r,'" was not provided to the string "').concat(a,'"'),Us.MISSING_VALUE,a)||this}return t}(Xu),Aa;(function(e){e[e.literal=0]="literal",e[e.object=1]="object"})(Aa||(Aa={}));function gP(e){return e.length<2?e:e.reduce(function(t,r){var a=t[t.length-1];return!a||a.type!==Aa.literal||r.type!==Aa.literal?t.push(r):a.value+=r.value,t},[])}function Tx(e){return typeof e=="function"}function lm(e,t,r,a,o,c,s){if(e.length===1&&CS(e[0]))return[{type:Aa.literal,value:e[0].value}];for(var u=[],h=0,f=e;h<f.length;h++){var g=f[h];if(CS(g)){u.push({type:Aa.literal,value:g.value});continue}if(kI(g)){typeof c=="number"&&u.push({type:Aa.literal,value:r.getNumberFormat(t).format(c)});continue}var v=g.value;if(!(o&&v in o))throw new pP(v,s);var w=o[v];if(MI(g)){(!w||typeof w=="string"||typeof w=="number")&&(w=typeof w=="string"||typeof w=="number"?String(w):""),u.push({type:typeof w=="string"?Aa.literal:Aa.object,value:w});continue}if(px(g)){var S=typeof g.style=="string"?a.date[g.style]:ib(g.style)?g.style.parsedOptions:void 0;u.push({type:Aa.literal,value:r.getDateTimeFormat(t,S).format(w)});continue}if(gx(g)){var S=typeof g.style=="string"?a.time[g.style]:ib(g.style)?g.style.parsedOptions:a.time.medium;u.push({type:Aa.literal,value:r.getDateTimeFormat(t,S).format(w)});continue}if(hx(g)){var S=typeof g.style=="string"?a.number[g.style]:bx(g.style)?g.style.parsedOptions:void 0;S&&S.scale&&(w=w*(S.scale||1)),u.push({type:Aa.literal,value:r.getNumberFormat(t,S).format(w)});continue}if(vx(g)){var T=g.children,R=g.value,C=o[R];if(!Tx(C))throw new hP(R,"function",s);var x=lm(T,t,r,a,o,c),F=C(x.map(function(M){return M.value}));Array.isArray(F)||(F=[F]),u.push.apply(u,F.map(function(M){return{type:typeof M=="string"?Aa.literal:Aa.object,value:M}}))}if(yx(g)){var P=g.options[w]||g.options.other;if(!P)throw new US(g.value,w,Object.keys(g.options),s);u.push.apply(u,lm(P.value,t,r,a,o));continue}if(mx(g)){var P=g.options["=".concat(w)];if(!P){if(!Intl.PluralRules)throw new Xu(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Us.MISSING_INTL_API,s);var K=r.getPluralRules(t,{type:g.pluralType}).select(w-(g.offset||0));P=g.options[K]||g.options.other}if(!P)throw new US(g.value,w,Object.keys(g.options),s);u.push.apply(u,lm(P.value,t,r,a,o,w-(g.offset||0)));continue}}return gP(u)}function yP(e,t){return t?Rn(Rn(Rn({},e||{}),t||{}),Object.keys(e).reduce(function(r,a){return r[a]=Rn(Rn({},e[a]),t[a]||{}),r},{})):e}function mP(e,t){return t?Object.keys(e).reduce(function(r,a){return r[a]=yP(e[a],t[a]),r},Rn({},e)):e}function Cv(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}function vP(e){return e===void 0&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Os(function(){for(var t,r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return new((t=Intl.NumberFormat).bind.apply(t,Ps([void 0],r,!1)))},{cache:Cv(e.number),strategy:Is.variadic}),getDateTimeFormat:Os(function(){for(var t,r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return new((t=Intl.DateTimeFormat).bind.apply(t,Ps([void 0],r,!1)))},{cache:Cv(e.dateTime),strategy:Is.variadic}),getPluralRules:Os(function(){for(var t,r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return new((t=Intl.PluralRules).bind.apply(t,Ps([void 0],r,!1)))},{cache:Cv(e.pluralRules),strategy:Is.variadic})}}var Cx=function(){function e(t,r,a,o){r===void 0&&(r=e.defaultLocale);var c=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(h){var f=c.formatToParts(h);if(f.length===1)return f[0].value;var g=f.reduce(function(v,w){return!v.length||w.type!==Aa.literal||typeof v[v.length-1]!="string"?v.push(w.value):v[v.length-1]+=w.value,v},[]);return g.length<=1?g[0]||"":g},this.formatToParts=function(h){return lm(c.ast,c.locales,c.formatters,c.formats,h,void 0,c.message)},this.resolvedOptions=function(){var h;return{locale:((h=c.resolvedLocale)===null||h===void 0?void 0:h.toString())||Intl.NumberFormat.supportedLocalesOf(c.locales)[0]}},this.getAst=function(){return c.ast},this.locales=r,this.resolvedLocale=e.resolveLocale(r),typeof t=="string"){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var s=o||{};s.formatters;var u=qd(s,["formatters"]);this.ast=e.__parse(t,Rn(Rn({},u),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=mP(e.formats,a),this.formatters=o&&o.formatters||vP(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(t){if(!(typeof Intl.Locale>"u")){var r=Intl.NumberFormat.supportedLocalesOf(t);return r.length>0?new Intl.Locale(r[0]):new Intl.Locale(typeof t=="string"?t:t[0])}},e.__parse=dP,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}(),xf;(function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"})(xf||(xf={}));var $g=function(e){Uo(t,e);function t(r,a,o){var c=this,s=o?o instanceof Error?o:new Error(String(o)):void 0;return c=e.call(this,"[@formatjs/intl Error ".concat(r,"] ").concat(a,`
`).concat(s?`
`.concat(s.message,`
`).concat(s.stack):""))||this,c.code=r,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(c,t),c}return t}(Error),bP=function(e){Uo(t,e);function t(r,a){return e.call(this,xf.UNSUPPORTED_FORMATTER,r,a)||this}return t}($g),wP=function(e){Uo(t,e);function t(r,a){return e.call(this,xf.INVALID_CONFIG,r,a)||this}return t}($g),LS=function(e){Uo(t,e);function t(r,a){return e.call(this,xf.MISSING_DATA,r,a)||this}return t}($g),Lo=function(e){Uo(t,e);function t(r,a,o){var c=e.call(this,xf.FORMAT_ERROR,"".concat(r,`
Locale: `).concat(a,`
`),o)||this;return c.locale=a,c}return t}($g),Ov=function(e){Uo(t,e);function t(r,a,o,c){var s=e.call(this,"".concat(r,`
MessageID: `).concat(o?.id,`
Default Message: `).concat(o?.defaultMessage,`
Description: `).concat(o?.description,`
`),a,c)||this;return s.descriptor=o,s.locale=a,s}return t}(Lo),_P=function(e){Uo(t,e);function t(r,a){var o=e.call(this,xf.MISSING_TRANSLATION,'Missing message: "'.concat(r.id,'" for locale "').concat(a,'", using ').concat(r.defaultMessage?"default message (".concat(typeof r.defaultMessage=="string"?r.defaultMessage:r.defaultMessage.map(function(c){var s;return(s=c.value)!==null&&s!==void 0?s:JSON.stringify(c)}).join(),")"):"id"," as fallback."))||this;return o.descriptor=r,o}return t}($g);function EP(e,t,r){if(r===void 0&&(r=Error),!e)throw new r(t)}function Yd(e,t,r){return r===void 0&&(r={}),t.reduce(function(a,o){return o in e?a[o]=e[o]:o in r&&(a[o]=r[o]),a},{})}var SP=function(e){},AP=function(e){},Ox={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:SP,onWarn:AP};function Ix(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function mf(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}function xP(e){e===void 0&&(e=Ix());var t=Intl.RelativeTimeFormat,r=Intl.ListFormat,a=Intl.DisplayNames,o=Os(function(){for(var u,h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];return new((u=Intl.DateTimeFormat).bind.apply(u,Ps([void 0],h,!1)))},{cache:mf(e.dateTime),strategy:Is.variadic}),c=Os(function(){for(var u,h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];return new((u=Intl.NumberFormat).bind.apply(u,Ps([void 0],h,!1)))},{cache:mf(e.number),strategy:Is.variadic}),s=Os(function(){for(var u,h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];return new((u=Intl.PluralRules).bind.apply(u,Ps([void 0],h,!1)))},{cache:mf(e.pluralRules),strategy:Is.variadic});return{getDateTimeFormat:o,getNumberFormat:c,getMessageFormat:Os(function(u,h,f,g){return new Cx(u,h,f,Rn({formatters:{getNumberFormat:c,getDateTimeFormat:o,getPluralRules:s}},g||{}))},{cache:mf(e.message),strategy:Is.variadic}),getRelativeTimeFormat:Os(function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];return new(t.bind.apply(t,Ps([void 0],u,!1)))},{cache:mf(e.relativeTime),strategy:Is.variadic}),getPluralRules:s,getListFormat:Os(function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];return new(r.bind.apply(r,Ps([void 0],u,!1)))},{cache:mf(e.list),strategy:Is.variadic}),getDisplayNames:Os(function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];return new(a.bind.apply(a,Ps([void 0],u,!1)))},{cache:mf(e.displayNames),strategy:Is.variadic})}}function nw(e,t,r,a){var o=e&&e[t],c;if(o&&(c=o[r]),c)return c;a(new bP("No ".concat(t," format named: ").concat(r)))}function Zy(e,t){return Object.keys(e).reduce(function(r,a){return r[a]=Rn({timeZone:t},e[a]),r},{})}function MS(e,t){var r=Object.keys(Rn(Rn({},e),t));return r.reduce(function(a,o){return a[o]=Rn(Rn({},e[o]||{}),t[o]||{}),a},{})}function kS(e,t){if(!t)return e;var r=Cx.formats;return Rn(Rn(Rn({},r),e),{date:MS(Zy(r.date,t),Zy(e.date||{},t)),time:MS(Zy(r.time,t),Zy(e.time||{},t))})}var cb=function(e,t,r,a,o){var c=e.locale,s=e.formats,u=e.messages,h=e.defaultLocale,f=e.defaultFormats,g=e.fallbackOnEmptyString,v=e.onError,w=e.timeZone,S=e.defaultRichTextElements;r===void 0&&(r={id:""});var T=r.id,R=r.defaultMessage;EP(!!T,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.github.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.github.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.github.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var C=String(T),x=u&&Object.prototype.hasOwnProperty.call(u,C)&&u[C];if(Array.isArray(x)&&x.length===1&&x[0].type===ci.literal)return x[0].value;if(!a&&x&&typeof x=="string"&&!S)return x.replace(/'\{(.*?)\}'/gi,"{$1}");if(a=Rn(Rn({},S),a||{}),s=kS(s,w),f=kS(f,w),!x){if(g===!1&&x==="")return x;if((!R||c&&c.toLowerCase()!==h.toLowerCase())&&v(new _P(r,c)),R)try{var F=t.getMessageFormat(R,h,f,o);return F.format(a)}catch(P){return v(new Ov('Error formatting default message for: "'.concat(C,'", rendering default message verbatim'),c,r,P)),typeof R=="string"?R:C}return C}try{var F=t.getMessageFormat(x,c,s,Rn({formatters:t},o||{}));return F.format(a)}catch(P){v(new Ov('Error formatting message: "'.concat(C,'", using ').concat(R?"default message":"id"," as fallback."),c,r,P))}if(R)try{var F=t.getMessageFormat(R,h,f,o);return F.format(a)}catch(P){v(new Ov('Error formatting the default message for: "'.concat(C,'", rendering message verbatim'),c,r,P))}return typeof x=="string"?x:typeof R=="string"?R:C},RP=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function Kg(e,t,r,a){var o=e.locale,c=e.formats,s=e.onError,u=e.timeZone;a===void 0&&(a={});var h=a.format,f=Rn(Rn({},u&&{timeZone:u}),h&&nw(c,t,h,s)),g=Yd(a,RP,f);return t==="time"&&!g.hour&&!g.minute&&!g.second&&!g.timeStyle&&!g.dateStyle&&(g=Rn(Rn({},g),{hour:"numeric",minute:"numeric"})),r(o,g)}function TP(e,t){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];var o=r[0],c=r[1],s=c===void 0?{}:c,u=typeof o=="string"?new Date(o||0):o;try{return Kg(e,"date",t,s).format(u)}catch(h){e.onError(new Lo("Error formatting date.",e.locale,h))}return String(u)}function CP(e,t){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];var o=r[0],c=r[1],s=c===void 0?{}:c,u=typeof o=="string"?new Date(o||0):o;try{return Kg(e,"time",t,s).format(u)}catch(h){e.onError(new Lo("Error formatting time.",e.locale,h))}return String(u)}function OP(e,t){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];var o=r[0],c=r[1],s=r[2],u=s===void 0?{}:s,h=typeof o=="string"?new Date(o||0):o,f=typeof c=="string"?new Date(c||0):c;try{return Kg(e,"dateTimeRange",t,u).formatRange(h,f)}catch(g){e.onError(new Lo("Error formatting date time range.",e.locale,g))}return String(h)}function IP(e,t){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];var o=r[0],c=r[1],s=c===void 0?{}:c,u=typeof o=="string"?new Date(o||0):o;try{return Kg(e,"date",t,s).formatToParts(u)}catch(h){e.onError(new Lo("Error formatting date.",e.locale,h))}return[]}function PP(e,t){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];var o=r[0],c=r[1],s=c===void 0?{}:c,u=typeof o=="string"?new Date(o||0):o;try{return Kg(e,"time",t,s).formatToParts(u)}catch(h){e.onError(new Lo("Error formatting time.",e.locale,h))}return[]}var NP=["style","type","fallback","languageDisplay"];function FP(e,t,r,a){var o=e.locale,c=e.onError,s=Intl.DisplayNames;s||c(new Xu(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,Us.MISSING_INTL_API));var u=Yd(a,NP);try{return t(o,u).of(r)}catch(h){c(new Lo("Error formatting display name.",o,h))}}var DP=["type","style"],BS=Date.now();function UP(e){return"".concat(BS,"_").concat(e,"_").concat(BS)}function LP(e,t,r,a){a===void 0&&(a={});var o=Px(e,t,r,a).reduce(function(c,s){var u=s.value;return typeof u!="string"?c.push(u):typeof c[c.length-1]=="string"?c[c.length-1]+=u:c.push(u),c},[]);return o.length===1?o[0]:o.length===0?"":o}function Px(e,t,r,a){var o=e.locale,c=e.onError;a===void 0&&(a={});var s=Intl.ListFormat;s||c(new Xu(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,Us.MISSING_INTL_API));var u=Yd(a,DP);try{var h={},f=r.map(function(g,v){if(typeof g=="object"){var w=UP(v);return h[w]=g,w}return String(g)});return t(o,u).formatToParts(f).map(function(g){return g.type==="literal"?g:Rn(Rn({},g),{value:h[g.value]||g.value})})}catch(g){c(new Lo("Error formatting list.",o,g))}return r}var MP=["type"];function kP(e,t,r,a){var o=e.locale,c=e.onError;a===void 0&&(a={}),Intl.PluralRules||c(new Xu(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Us.MISSING_INTL_API));var s=Yd(a,MP);try{return t(o,s).select(r)}catch(u){c(new Lo("Error formatting plural.",o,u))}return"other"}var BP=["numeric","style"];function jP(e,t,r){var a=e.locale,o=e.formats,c=e.onError;r===void 0&&(r={});var s=r.format,u=!!s&&nw(o,"relative",s,c)||{},h=Yd(r,BP,u);return t(a,h)}function HP(e,t,r,a,o){o===void 0&&(o={}),a||(a="second");var c=Intl.RelativeTimeFormat;c||e.onError(new Xu(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,Us.MISSING_INTL_API));try{return jP(e,t,o).format(r,a)}catch(s){e.onError(new Lo("Error formatting relative time.",e.locale,s))}return String(r)}var VP=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function Nx(e,t,r){var a=e.locale,o=e.formats,c=e.onError;r===void 0&&(r={});var s=r.format,u=s&&nw(o,"number",s,c)||{},h=Yd(r,VP,u);return t(a,h)}function $P(e,t,r,a){a===void 0&&(a={});try{return Nx(e,t,a).format(r)}catch(o){e.onError(new Lo("Error formatting number.",e.locale,o))}return String(r)}function KP(e,t,r,a){a===void 0&&(a={});try{return Nx(e,t,a).formatToParts(r)}catch(o){e.onError(new Lo("Error formatting number.",e.locale,o))}return[]}function GP(e){var t=e?e[Object.keys(e)[0]]:void 0;return typeof t=="string"}function qP(e){e.onWarn&&e.defaultRichTextElements&&GP(e.messages||{})&&e.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.github.io/docs/getting-started/message-distribution`)}function zP(e,t){var r=xP(t),a=Rn(Rn({},Ox),e),o=a.locale,c=a.defaultLocale,s=a.onError;return o?!Intl.NumberFormat.supportedLocalesOf(o).length&&s?s(new LS('Missing locale data for locale: "'.concat(o,'" in Intl.NumberFormat. Using default locale: "').concat(c,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(o).length&&s&&s(new LS('Missing locale data for locale: "'.concat(o,'" in Intl.DateTimeFormat. Using default locale: "').concat(c,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):(s&&s(new wP('"locale" was not configured, using "'.concat(c,'" as fallback. See https://formatjs.github.io/docs/react-intl/api#intlshape for more details'))),a.locale=a.defaultLocale||"en"),qP(a),Rn(Rn({},a),{formatters:r,formatNumber:$P.bind(null,a,r.getNumberFormat),formatNumberToParts:KP.bind(null,a,r.getNumberFormat),formatRelativeTime:HP.bind(null,a,r.getRelativeTimeFormat),formatDate:TP.bind(null,a,r.getDateTimeFormat),formatDateToParts:IP.bind(null,a,r.getDateTimeFormat),formatTime:CP.bind(null,a,r.getDateTimeFormat),formatDateTimeRange:OP.bind(null,a,r.getDateTimeFormat),formatTimeToParts:PP.bind(null,a,r.getDateTimeFormat),formatPlural:kP.bind(null,a,r.getPluralRules),formatMessage:cb.bind(null,a,r),$t:cb.bind(null,a,r),formatList:LP.bind(null,a,r.getListFormat),formatListToParts:Px.bind(null,a,r.getListFormat),formatDisplayName:FP.bind(null,a,r.getDisplayNames)})}function WP(e,t,r){if(r===void 0&&(r=Error),!e)throw new r(t)}function Fx(e){WP(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var Dx=Rn(Rn({},Ox),{textComponent:me.Fragment}),JP={key:42},YP=function(e){return me.isValidElement(e)?me.createElement(me.Fragment,JP,e):e},XP=function(e){var t;return(t=me.Children.map(e,YP))!==null&&t!==void 0?t:[]};function QP(e){return function(t){return e(me.Children.toArray(t))}}function fb(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=Object.keys(e),a=Object.keys(t),o=r.length;if(a.length!==o)return!1;for(var c=0;c<o;c++){var s=r[c];if(e[s]!==t[s]||!Object.prototype.hasOwnProperty.call(t,s))return!1}return!0}var Iv={exports:{}},zr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jS;function ZP(){if(jS)return zr;jS=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,a=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,c=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,h=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,g=e?Symbol.for("react.forward_ref"):60112,v=e?Symbol.for("react.suspense"):60113,w=e?Symbol.for("react.suspense_list"):60120,S=e?Symbol.for("react.memo"):60115,T=e?Symbol.for("react.lazy"):60116,R=e?Symbol.for("react.block"):60121,C=e?Symbol.for("react.fundamental"):60117,x=e?Symbol.for("react.responder"):60118,F=e?Symbol.for("react.scope"):60119;function P(M){if(typeof M=="object"&&M!==null){var z=M.$$typeof;switch(z){case t:switch(M=M.type,M){case h:case f:case a:case c:case o:case v:return M;default:switch(M=M&&M.$$typeof,M){case u:case g:case T:case S:case s:return M;default:return z}}case r:return z}}}function K(M){return P(M)===f}return zr.AsyncMode=h,zr.ConcurrentMode=f,zr.ContextConsumer=u,zr.ContextProvider=s,zr.Element=t,zr.ForwardRef=g,zr.Fragment=a,zr.Lazy=T,zr.Memo=S,zr.Portal=r,zr.Profiler=c,zr.StrictMode=o,zr.Suspense=v,zr.isAsyncMode=function(M){return K(M)||P(M)===h},zr.isConcurrentMode=K,zr.isContextConsumer=function(M){return P(M)===u},zr.isContextProvider=function(M){return P(M)===s},zr.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===t},zr.isForwardRef=function(M){return P(M)===g},zr.isFragment=function(M){return P(M)===a},zr.isLazy=function(M){return P(M)===T},zr.isMemo=function(M){return P(M)===S},zr.isPortal=function(M){return P(M)===r},zr.isProfiler=function(M){return P(M)===c},zr.isStrictMode=function(M){return P(M)===o},zr.isSuspense=function(M){return P(M)===v},zr.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===a||M===f||M===c||M===o||M===v||M===w||typeof M=="object"&&M!==null&&(M.$$typeof===T||M.$$typeof===S||M.$$typeof===s||M.$$typeof===u||M.$$typeof===g||M.$$typeof===C||M.$$typeof===x||M.$$typeof===F||M.$$typeof===R)},zr.typeOf=P,zr}var HS;function eN(){return HS||(HS=1,Iv.exports=ZP()),Iv.exports}var Pv,VS;function tN(){if(VS)return Pv;VS=1;var e=eN(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};c[e.ForwardRef]=a,c[e.Memo]=o;function s(T){return e.isMemo(T)?o:c[T.$$typeof]||t}var u=Object.defineProperty,h=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,w=Object.prototype;function S(T,R,C){if(typeof R!="string"){if(w){var x=v(R);x&&x!==w&&S(T,x,C)}var F=h(R);f&&(F=F.concat(f(R)));for(var P=s(T),K=s(R),M=0;M<F.length;++M){var z=F[M];if(!r[z]&&!(C&&C[z])&&!(K&&K[z])&&!(P&&P[z])){var J=g(R,z);try{u(T,z,J)}catch{}}}}return T}return Pv=S,Pv}tN();var rw=typeof window<"u"&&!window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=me.createContext(null)):me.createContext(null);rw.Consumer;var nN=rw.Provider,rN=nN,iN=rw;function Xd(){var e=me.useContext(iN);return Fx(e),e}var db;(function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"})(db||(db={}));var hb;(function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"})(hb||(hb={}));function Ux(e){var t=function(r){var a=Xd(),o=r.value,c=r.children,s=qd(r,["value","children"]),u=typeof o=="string"?new Date(o||0):o,h=e==="formatDate"?a.formatDateToParts(u,s):a.formatTimeToParts(u,s);return c(h)};return t.displayName=hb[e],t}function Gg(e){var t=function(r){var a=Xd(),o=r.value,c=r.children,s=qd(r,["value","children"]),u=a[e](o,s);if(typeof c=="function")return c(u);var h=a.textComponent||me.Fragment;return me.createElement(h,null,u)};return t.displayName=db[e],t}function Lx(e){return e&&Object.keys(e).reduce(function(t,r){var a=e[r];return t[r]=Tx(a)?QP(a):a,t},{})}var $S=function(e,t,r,a){for(var o=[],c=4;c<arguments.length;c++)o[c-4]=arguments[c];var s=Lx(a),u=cb.apply(void 0,Ps([e,t,r,s],o,!1));return Array.isArray(u)?XP(u):u},KS=function(e,t){var r=e.defaultRichTextElements,a=qd(e,["defaultRichTextElements"]),o=Lx(r),c=zP(Rn(Rn(Rn({},Dx),a),{defaultRichTextElements:o}),t),s={locale:c.locale,timeZone:c.timeZone,fallbackOnEmptyString:c.fallbackOnEmptyString,formats:c.formats,defaultLocale:c.defaultLocale,defaultFormats:c.defaultFormats,messages:c.messages,onError:c.onError,defaultRichTextElements:o};return Rn(Rn({},c),{formatMessage:$S.bind(null,s,c.formatters),$t:$S.bind(null,s,c.formatters)})};function aN(e,t){var r=e.values,a=qd(e,["values"]),o=t.values,c=qd(t,["values"]);return fb(o,r)&&fb(a,c)}function Mx(e){var t=Xd(),r=t.formatMessage,a=t.textComponent,o=a===void 0?me.Fragment:a,c=e.id,s=e.description,u=e.defaultMessage,h=e.values,f=e.children,g=e.tagName,v=g===void 0?o:g,w=e.ignoreTag,S={id:c,description:s,defaultMessage:u},T=r(S,h,{ignoreTag:w});return typeof f=="function"?f(Array.isArray(T)?T:[T]):v?me.createElement(v,null,T):me.createElement(me.Fragment,null,T)}Mx.displayName="FormattedMessage";var Ra=me.memo(Mx,aN);Ra.displayName="MemoizedFormattedMessage";function Nv(e){return{locale:e.locale,timeZone:e.timeZone,fallbackOnEmptyString:e.fallbackOnEmptyString,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError,onWarn:e.onWarn,wrapRichTextChunksInFragment:e.wrapRichTextChunksInFragment,defaultRichTextElements:e.defaultRichTextElements}}var oN=function(e){Uo(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.cache=Ix(),r.state={cache:r.cache,intl:KS(Nv(r.props),r.cache),prevConfig:Nv(r.props)},r}return t.getDerivedStateFromProps=function(r,a){var o=a.prevConfig,c=a.cache,s=Nv(r);return fb(o,s)?null:{intl:KS(s,c),prevConfig:s}},t.prototype.render=function(){return Fx(this.state.intl),me.createElement(rN,{value:this.state.intl},this.props.children)},t.displayName="IntlProvider",t.defaultProps=Dx,t}(me.PureComponent);Gg("formatDate");Gg("formatTime");Gg("formatNumber");Gg("formatList");Gg("formatDisplayName");Ux("formatDate");Ux("formatTime");const sN=Fs.createContext({selectedLanguage:"",setSelectedLanguage:()=>{}}),lN={manageYourProfileLoginScreenHeading:"Spravujte svoje jedálne preferencie",selectSignInMethod:"Vyberte spôsob prihlásenia",signInWithSolid:"Solid",whatIsSolid:"Čo je to Solid?",signInDivider:"alebo",signInWithFacebook:"Facebook",signInWithGoogle:"Google",redirectToProvider:"Prejsť na poskytovateľa",welcomeToTheApplication:"Vitajte v editore vášho diétneho profilu!",aboutTheApplication:"O aplikácii",sourceCode:"Zdrojový kód",createdBy:"Vytvoril",editProfile:"Upraviť profil",importProfile:"Importovať profil",downloadProfile:"Stiahnuť profil",userManual:"Používateľská príručka",signOut:"Odhlásiť sa",allergicTo:"Ste alergickí na: ",diets:"Diéty",onDiets:"Vaše diéty sú: ",tastePreferencesHeading:"Preferencie chutí",worldCuisines:"Obľúbené svetové kuchyne",tasteOfDesserts:"Preferovaná chuť zákuskov",tasteSpiciness:"Úroveň štipľavosti",whatAreYouAllergicTo:"Na čo máte alergiu?",nextStep:"Ďalší krok: ",saveProfile:"Uložiť profil",whichDietsAreYouOn:"Ktoré diéty dodržiavate?",showLessDietOptions:"Zobraziť menej možností",showMoreDietOptions:"Zobraziť viac možností",isYourDietNotListed:"Chýba vaša diéta v zozname?",searchForMoreDiets:"Hľadať ďalšie diéty...",specifyYourTastePreferences:"Špecifikujte vaše chuťové preferencie",whichWorldCuisinesDoYouLike:"Ktoré svetové kuchyne máte radi?",loadingData:"Načítavam dáta",searchForMoreWorldCuisines:"Hľadať ďalšie svetové kuchyne...",whichTasteOfDessertsDoYouPrefer:"Aké zákusky máte radšej?",doesNotMatter:"Nezáleží",sweet:"Sladké",savory:"Slané",yes:"Áno",no:"Nie",howSpicyShouldItBe:"Ako veľmi pálivé by malo byť?",mild:"Jemne",medium:"Stredne",hot:"Veľmi",selectASolidProvider:"Vyberte poskytovateľa Solid",typeInProviderUrlHeading:"Alebo vložte poskytovateľovu URL",providerUrlPlaceholder:"Zadajte URL poskytovateľa",chooseSolidProvider:"Zvoľte Solid poskytovateľa",goBack:"Späť",loginSolidErrorMessage:`Možné dôvody sú:
      1. Nie ste pripojení na internet.
      2. Zadaná URL poskytovateľa je nesprávna.
      3. Problém je na strane zvoleného Solid poskytovateľa.
    `,emptyUrlAlert:"Vyberte poskytovateľa alebo zadajte poskytovateľovu URL.",solidDescription:`
    <b>Solid</b> vám umožňuje mať kontrolu nad tým kde sú vaše dáta uložené a kto k nim má prístup. Na začiatok si budete musieť u poskytovateľa Solid zaobstarať vaše WebID. Taktiež sa môžete prihlásiť pod vaším Google alebo Facebook účtom, pričom vaše dáta budú uložené na serveroch týchto poskytovateľov. Solid môžete začať používať aj neskôr a vaše dáta si v rámci aplikácie preniesť. Viac sa dozviete na <a>oficiálnej stránke</a> projektu Solid.
  `,closeModal:"Zavrieť",firebaseLoginErrorMessageFacebook:"Prihlásenie zlyhalo z dôvodu chyby v prihlasovacej službe.",firebaseLoginErrorMessageGoogle:"Prihlásenie zlyhalo pretože buď nemáte prístup na internet alebo z dôvodu chyby v prihlasovacej službe.",loginFailed:"Prihlásenie bolo neúspešné",aboutApplicationTitle:"O aplikácii",aboutApplicationBody:"<b>Editor diétneho profilu</b> slúži pre ľudí ktorí radi jedia v reštauráciách a sú obmedzovaní alergiami alebo majú iné jedálne preferencie. Aplikácia vám umožňuje uložiť a spravovať váš diétny profil. Výnimočná je v tom, že umožňuje použiť technológiu <b>Solid</b>, a tým pádom budú vaše dáta uložené decentralizovaným spôsobom a budete mať kontrolu nad tým kto ich môže vidieť, čo zaručí vyššiu mieru súkromia.",emailAndPassword:"Email a heslo",loginWithEmail:"Prihláste sa pomocou emailu",password:"Heslo",signIn:"Prihlásiť sa",newAccount:"Ak ste noví, je taktiež možné",createAccount:"Vytvoriť účet",createYourAccount:"Založte si účet",signUp:"Zaregistrovať sa",provideValidEmail:"Zadajte platnú emailovú adresu",passwordMustContain:"Heslo musí obsahovať",atLeastEightChars:"Aspoň 8 znakov",lowerCaseLetter:"Malé písmeno",upperCaseLetter:"Veľké písmeno",number:"Číslo",close:"Zatvoriť",signUpFailed:"Chyba pri vytváraní účtu",singUpDefaultErrorMessage:"Účet sa nepodarilo vytvoriť. Skontrolujte prosím vaše internetové pripojenie a skúste to znovu.",signUpEmailInUse:"Pre zadanú emailovú adresu už existuje účet. Zvoľte prosím inú adresu alebo sa prihláste.",emailOrPasswordInvalid:"Zadaný email alebo heslo sú nesprávne. Skontrolujte si prosím údaje a skúste to znovu.",loginCredentialsNotValid:"Buďto je zadaný email v nesprávnom formáte alebo ste nezadali heslo. Skontrolujte prosím vaše prihlasovacie údaje a skúste to znovu.",emailLoginErrorMessage:"Prihlásenie bolo neúspešné kvôli nesprávnym prihlasovacím údajom.",profileOverviewHeading:"Vaše jedálne preferencie",gluten:"Lepok",crustaceans:"Kôrovce",eggs:"Vajcia",fish:"Ryby",peanuts:"Arašidy",soya:"Sója",milk:"Mlieko",nuts:"Orechy",celery:"Zeler",mustard:"Horčica",sesame:"Sezam",sulphites:"Siričitany",lupin:"Vlčí bôb",molluscs:"Mäkkýše",dietPreferencesHeading:"Diéty",whichDietsDoYouFollow:"Ktoré diéty dodržiavate?",calorieTrackingGoal:"V prípade že si počítate kalórie, aký je váš denný príjem?",tastesAndFoodPreparation:"Preferencie chutí",favoriteWorldCuisines:"Aké sú vaše obľúbené svetové kuchyne?",foodIngredientsLikeOrDislike:"Ktoré ingrediencie máte radi a ktoré naopak nie?",doYouLikeSpicyFood:"Máte radi pálivé jedlá?",notSpecified:"Nešpecifikované",notAtAll:"Vôbec",yesIDo:"Áno, mám",howSpicyShouldFoodBe:"Zvoľte úroveň ostrosti",whichCookingMethodsDoYouPrefer:"Ktoré spôsoby prípravy jedla uprednostňujete?",dailyCalorieIntakeGoal:"Váš denný príjem kalórií je: ",yourFavoriteCuisines:"Vaše obľúbené svetové kuchyne sú: ",likedIngredients:"Obľúbené ingrediencie: ",dislikedIngredients:"Neobľúbené ingrediencie: ",howSpicyYouLikeYourFood:"Preferovaná úroveň pálivosti jedla: ",preferredCookingMethods:"Uprednostňované spôsoby prípravy jedla",finish:"Uložiť",allergenPreferencesHeading:"Alergény",deleteProfile:"Zmazať profil",searchMoreDiets:"Vyhľadajte ďalšie diéty",next:"Ďalej",vegetarianDiet:"Vegetariánstvo",mediterraneanDiet:"Stredomorská strava",lowCarbDiet:"Nízkosacharidová diéta",veganDiet:"Veganstvo",ketoDiet:"Ketogénna diéta",atkinsDiet:"Atkinsonova diéta",paleoDiet:"Paleo diéta",error:"Chyba",fetchingDietsFailed:"Načítanie diét bolo neúspešné",italianCuisine:"Talianska",greekCuisine:"Grécka",mexicanCuisine:"Mexická",chineseCuisine:"Čínska",turkishCuisine:"Turecká",spanishCuisine:"Španielska",japaneseCuisine:"Japonská",frenchCuisine:"Francúzska",searchMoreCuisines:"Vyhľadajte ďalšie svetové kuchyne",fetchingCuisinesFailed:"Načítanie svetových kuchýň bolo neúspešné",fetchingIngredientsFailed:"Načítanie ingrediencií bolo neúspešné",whatILike:"Mám rád",searchIngredients:"Vyhľadajte ingrediencie",whatIDontLike:"Nemám rád",extraHot:"Extra",bakingMethod:"Pečenie",grillingMethod:"Grilovanie",boilingMethod:"Varenie",deepFryingMethod:"Vyprážanie",steamingMethod:"Naparovanie",sauteingMethod:"Restovanie",fetchingCookingMethodsFailed:"Načítanie spôsobov prípravy jedla bolo neúspešné",searchMoreCookingMethods:"Vyhľadajte spôsoby prípravy",emptyProfileText:"Profil je prázdny, kliknite na tlačidlo editácie profilu.",preferredCookingMethodsOverview:"Preferované spôsoby prípravy jedla: ",profileSavedSuccessfully:"Profil bol úspešne uložený",profileDeletion:"Zmazanie profilu",profileDeletionConfirm:"Naozaj chcete zmazať váš diétny profil?",delete:"Zmazať",profileDeletionSuccessMessage:"Profil bol úspešne zmazaný",profileDeletionNotFoundMessage:"Profil nebol nájdený",profileDeletionErrorMessage:"Profil sa nepodarilo zmazať",saveProfileModalTitle:"Uloženie profilu",profileSaveError:"Profil sa nepodarilo uložiť",profileLoading:"Načítanie profilu",loadingProfileError:"Načítanie profilu sa skončilo chybou",menuOverviewHeading:"Prehľad menu",editMenu:"Upraviť",visible:"Viditeľné",scheduleMenu:"Rozvrh",addCategory:"Pridať kategóriu",currency:"Mena",shareMenu:"Zdieľať",menuDescription:"Popis",addMenuItem:"Nová položka",editMenuItem:"Upraviť",cancel:"Zrušiť",save:"Uložiť"},uN=e=>{const[t,r]=me.useState("en"),a={selectedLanguage:t,setSelectedLanguage:r};function o(c){return c==="sk"?lN:{}}return Ve.jsx(sN.Provider,{value:a,children:Ve.jsx(oN,{messages:o(t),locale:t,children:e.children})})};var yg={},GS;function cN(){if(GS)return yg;GS=1,Object.defineProperty(yg,"__esModule",{value:!0}),yg.parse=s,yg.serialize=f;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function s(w,S){const T=new c,R=w.length;if(R<2)return T;const C=S?.decode||g;let x=0;do{const F=w.indexOf("=",x);if(F===-1)break;const P=w.indexOf(";",x),K=P===-1?R:P;if(F>K){x=w.lastIndexOf(";",F-1)+1;continue}const M=u(w,x,F),z=h(w,F,M),J=w.slice(M,z);if(T[J]===void 0){let q=u(w,F+1,K),Fe=h(w,K,q);const $=C(w.slice(q,Fe));T[J]=$}x=K+1}while(x<R);return T}function u(w,S,T){do{const R=w.charCodeAt(S);if(R!==32&&R!==9)return S}while(++S<T);return T}function h(w,S,T){for(;S>T;){const R=w.charCodeAt(--S);if(R!==32&&R!==9)return S+1}return T}function f(w,S,T){const R=T?.encode||encodeURIComponent;if(!e.test(w))throw new TypeError(`argument name is invalid: ${w}`);const C=R(S);if(!t.test(C))throw new TypeError(`argument val is invalid: ${S}`);let x=w+"="+C;if(!T)return x;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);x+="; Max-Age="+T.maxAge}if(T.domain){if(!r.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);x+="; Domain="+T.domain}if(T.path){if(!a.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);x+="; Path="+T.path}if(T.expires){if(!v(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);x+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(x+="; HttpOnly"),T.secure&&(x+="; Secure"),T.partitioned&&(x+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return x}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return o.call(w)==="[object Date]"}return yg}cN();var qS="popstate";function fN(e={}){function t(a,o){let{pathname:c,search:s,hash:u}=a.location;return pb("",{pathname:c,search:s,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(a,o){return typeof o=="string"?o:Pg(o)}return hN(t,r,null,e)}function pi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ts(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dN(){return Math.random().toString(36).substring(2,10)}function zS(e,t){return{usr:e.state,key:e.key,idx:t}}function pb(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Qd(t):t,state:r,key:t&&t.key||a||dN()}}function Pg({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function hN(e,t,r,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,s=o.history,u="POP",h=null,f=g();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function g(){return(s.state||{idx:null}).idx}function v(){u="POP";let C=g(),x=C==null?null:C-f;f=C,h&&h({action:u,location:R.location,delta:x})}function w(C,x){u="PUSH";let F=pb(R.location,C,x);f=g()+1;let P=zS(F,f),K=R.createHref(F);try{s.pushState(P,"",K)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;o.location.assign(K)}c&&h&&h({action:u,location:R.location,delta:1})}function S(C,x){u="REPLACE";let F=pb(R.location,C,x);f=g();let P=zS(F,f),K=R.createHref(F);s.replaceState(P,"",K),c&&h&&h({action:u,location:R.location,delta:0})}function T(C){return pN(C)}let R={get action(){return u},get location(){return e(o,s)},listen(C){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(qS,v),h=C,()=>{o.removeEventListener(qS,v),h=null}},createHref(C){return t(o,C)},createURL:T,encodeLocation(C){let x=T(C);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:w,replace:S,go(C){return s.go(C)}};return R}function pN(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),pi(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Pg(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function kx(e,t,r="/"){return gN(e,t,r,!1)}function gN(e,t,r,a){let o=typeof t=="string"?Qd(t):t,c=Hl(o.pathname||"/",r);if(c==null)return null;let s=Bx(e);yN(s);let u=null;for(let h=0;u==null&&h<s.length;++h){let f=TN(c);u=xN(s[h],f,a)}return u}function Bx(e,t=[],r=[],a=""){let o=(c,s,u)=>{let h={relativePath:u===void 0?c.path||"":u,caseSensitive:c.caseSensitive===!0,childrenIndex:s,route:c};h.relativePath.startsWith("/")&&(pi(h.relativePath.startsWith(a),`Absolute route path "${h.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(a.length));let f=Ll([a,h.relativePath]),g=r.concat(h);c.children&&c.children.length>0&&(pi(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Bx(c.children,t,g,f)),!(c.path==null&&!c.index)&&t.push({path:f,score:SN(f,c.index),routesMeta:g})};return e.forEach((c,s)=>{if(c.path===""||!c.path?.includes("?"))o(c,s);else for(let u of jx(c.path))o(c,s,u)}),t}function jx(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,o=r.endsWith("?"),c=r.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let s=jx(a.join("/")),u=[];return u.push(...s.map(h=>h===""?c:[c,h].join("/"))),o&&u.push(...s),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function yN(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:AN(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var mN=/^:[\w-]+$/,vN=3,bN=2,wN=1,_N=10,EN=-2,WS=e=>e==="*";function SN(e,t){let r=e.split("/"),a=r.length;return r.some(WS)&&(a+=EN),t&&(a+=bN),r.filter(o=>!WS(o)).reduce((o,c)=>o+(mN.test(c)?vN:c===""?wN:_N),a)}function AN(e,t){return e.length===t.length&&e.slice(0,-1).every((a,o)=>a===t[o])?e[e.length-1]-t[t.length-1]:0}function xN(e,t,r=!1){let{routesMeta:a}=e,o={},c="/",s=[];for(let u=0;u<a.length;++u){let h=a[u],f=u===a.length-1,g=c==="/"?t:t.slice(c.length)||"/",v=vm({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),w=h.route;if(!v&&f&&r&&!a[a.length-1].route.index&&(v=vm({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(o,v.params),s.push({params:o,pathname:Ll([c,v.pathname]),pathnameBase:PN(Ll([c,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(c=Ll([c,v.pathnameBase]))}return s}function vm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=RN(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let c=o[0],s=c.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:a.reduce((f,{paramName:g,isOptional:v},w)=>{if(g==="*"){let T=u[w]||"";s=c.slice(0,c.length-T.length).replace(/(.)\/+$/,"$1")}const S=u[w];return v&&!S?f[g]=void 0:f[g]=(S||"").replace(/%2F/g,"/"),f},{}),pathname:c,pathnameBase:s,pattern:e}}function RN(e,t=!1,r=!0){ts(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,h)=>(a.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function TN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ts(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Hl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function CN(e,t="/"){let{pathname:r,search:a="",hash:o=""}=typeof e=="string"?Qd(e):e;return{pathname:r?r.startsWith("/")?r:ON(r,t):t,search:NN(a),hash:FN(o)}}function ON(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Fv(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IN(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function iw(e){let t=IN(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function aw(e,t,r,a=!1){let o;typeof e=="string"?o=Qd(e):(o={...e},pi(!o.pathname||!o.pathname.includes("?"),Fv("?","pathname","search",o)),pi(!o.pathname||!o.pathname.includes("#"),Fv("#","pathname","hash",o)),pi(!o.search||!o.search.includes("#"),Fv("#","search","hash",o)));let c=e===""||o.pathname==="",s=c?"/":o.pathname,u;if(s==null)u=r;else{let v=t.length-1;if(!a&&s.startsWith("..")){let w=s.split("/");for(;w[0]==="..";)w.shift(),v-=1;o.pathname=w.join("/")}u=v>=0?t[v]:"/"}let h=CN(o,u),f=s&&s!=="/"&&s.endsWith("/"),g=(c||s===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var Ll=e=>e.join("/").replace(/\/\/+/g,"/"),PN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),NN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,FN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function DN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Hx=["POST","PUT","PATCH","DELETE"];new Set(Hx);var UN=["GET",...Hx];new Set(UN);var Zd=me.createContext(null);Zd.displayName="DataRouter";var jm=me.createContext(null);jm.displayName="DataRouterState";var Vx=me.createContext({isTransitioning:!1});Vx.displayName="ViewTransition";var LN=me.createContext(new Map);LN.displayName="Fetchers";var MN=me.createContext(null);MN.displayName="Await";var ns=me.createContext(null);ns.displayName="Navigation";var qg=me.createContext(null);qg.displayName="Location";var ks=me.createContext({outlet:null,matches:[],isDataRoute:!1});ks.displayName="Route";var ow=me.createContext(null);ow.displayName="RouteError";function kN(e,{relative:t}={}){pi(eh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=me.useContext(ns),{hash:o,pathname:c,search:s}=zg(e,{relative:t}),u=c;return r!=="/"&&(u=c==="/"?r:Ll([r,c])),a.createHref({pathname:u,search:s,hash:o})}function eh(){return me.useContext(qg)!=null}function Qu(){return pi(eh(),"useLocation() may be used only in the context of a <Router> component."),me.useContext(qg).location}var $x="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kx(e){me.useContext(ns).static||me.useLayoutEffect(e)}function Gx(){let{isDataRoute:e}=me.useContext(ks);return e?XN():BN()}function BN(){pi(eh(),"useNavigate() may be used only in the context of a <Router> component.");let e=me.useContext(Zd),{basename:t,navigator:r}=me.useContext(ns),{matches:a}=me.useContext(ks),{pathname:o}=Qu(),c=JSON.stringify(iw(a)),s=me.useRef(!1);return Kx(()=>{s.current=!0}),me.useCallback((h,f={})=>{if(ts(s.current,$x),!s.current)return;if(typeof h=="number"){r.go(h);return}let g=aw(h,JSON.parse(c),o,f.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Ll([t,g.pathname])),(f.replace?r.replace:r.push)(g,f.state,f)},[t,r,c,o,e])}me.createContext(null);function zg(e,{relative:t}={}){let{matches:r}=me.useContext(ks),{pathname:a}=Qu(),o=JSON.stringify(iw(r));return me.useMemo(()=>aw(e,JSON.parse(o),a,t==="path"),[e,o,a,t])}function jN(e,t){return qx(e,t)}function qx(e,t,r,a){pi(eh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=me.useContext(ns),{matches:c}=me.useContext(ks),s=c[c.length-1],u=s?s.params:{},h=s?s.pathname:"/",f=s?s.pathnameBase:"/",g=s&&s.route;{let x=g&&g.path||"";zx(h,!g||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let v=Qu(),w;if(t){let x=typeof t=="string"?Qd(t):t;pi(f==="/"||x.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${x.pathname}" was given in the \`location\` prop.`),w=x}else w=v;let S=w.pathname||"/",T=S;if(f!=="/"){let x=f.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(x.length).join("/")}let R=kx(e,{pathname:T});ts(g||R!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ts(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=GN(R&&R.map(x=>Object.assign({},x,{params:Object.assign({},u,x.params),pathname:Ll([f,o.encodeLocation?o.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?f:Ll([f,o.encodeLocation?o.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),c,r,a);return t&&C?me.createElement(qg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},C):C}function HN(){let e=YN(),t=DN(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=me.createElement(me.Fragment,null,me.createElement("p",null,"💿 Hey developer 👋"),me.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",me.createElement("code",{style:c},"ErrorBoundary")," or"," ",me.createElement("code",{style:c},"errorElement")," prop on your route.")),me.createElement(me.Fragment,null,me.createElement("h2",null,"Unexpected Application Error!"),me.createElement("h3",{style:{fontStyle:"italic"}},t),r?me.createElement("pre",{style:o},r):null,s)}var VN=me.createElement(HN,null),$N=class extends me.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?me.createElement(ks.Provider,{value:this.props.routeContext},me.createElement(ow.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KN({routeContext:e,match:t,children:r}){let a=me.useContext(Zd);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),me.createElement(ks.Provider,{value:e},r)}function GN(e,t=[],r=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=r?.errors;if(c!=null){let h=o.findIndex(f=>f.route.id&&c?.[f.route.id]!==void 0);pi(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let s=!1,u=-1;if(r)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:g,errors:v}=r,w=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||w){s=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,g)=>{let v,w=!1,S=null,T=null;r&&(v=c&&f.route.id?c[f.route.id]:void 0,S=f.route.errorElement||VN,s&&(u<0&&g===0?(zx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,T=null):u===g&&(w=!0,T=f.route.hydrateFallbackElement||null)));let R=t.concat(o.slice(0,g+1)),C=()=>{let x;return v?x=S:w?x=T:f.route.Component?x=me.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=h,me.createElement(KN,{match:f,routeContext:{outlet:h,matches:R,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?me.createElement($N,{location:r.location,revalidation:r.revalidation,component:S,error:v,children:C(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):C()},null)}function sw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qN(e){let t=me.useContext(Zd);return pi(t,sw(e)),t}function zN(e){let t=me.useContext(jm);return pi(t,sw(e)),t}function WN(e){let t=me.useContext(ks);return pi(t,sw(e)),t}function lw(e){let t=WN(e),r=t.matches[t.matches.length-1];return pi(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function JN(){return lw("useRouteId")}function YN(){let e=me.useContext(ow),t=zN("useRouteError"),r=lw("useRouteError");return e!==void 0?e:t.errors?.[r]}function XN(){let{router:e}=qN("useNavigate"),t=lw("useNavigate"),r=me.useRef(!1);return Kx(()=>{r.current=!0}),me.useCallback(async(o,c={})=>{ts(r.current,$x),r.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...c}))},[e,t])}var JS={};function zx(e,t,r){!t&&!JS[e]&&(JS[e]=!0,ts(!1,r))}me.memo(QN);function QN({routes:e,future:t,state:r}){return qx(e,void 0,r,t)}function ZN({to:e,replace:t,state:r,relative:a}){pi(eh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=me.useContext(ns);ts(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=me.useContext(ks),{pathname:s}=Qu(),u=Gx(),h=aw(e,iw(c),s,a==="path"),f=JSON.stringify(h);return me.useEffect(()=>{u(JSON.parse(f),{replace:t,state:r,relative:a})},[u,f,a,t,r]),null}function $d(e){pi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eF({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:o,static:c=!1}){pi(!eh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),u=me.useMemo(()=>({basename:s,navigator:o,static:c,future:{}}),[s,o,c]);typeof r=="string"&&(r=Qd(r));let{pathname:h="/",search:f="",hash:g="",state:v=null,key:w="default"}=r,S=me.useMemo(()=>{let T=Hl(h,s);return T==null?null:{location:{pathname:T,search:f,hash:g,state:v,key:w},navigationType:a}},[s,h,f,g,v,w,a]);return ts(S!=null,`<Router basename="${s}"> is not able to match the URL "${h}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:me.createElement(ns.Provider,{value:u},me.createElement(qg.Provider,{children:t,value:S}))}function tF({children:e,location:t}){return jN(gb(e),t)}function gb(e,t=[]){let r=[];return me.Children.forEach(e,(a,o)=>{if(!me.isValidElement(a))return;let c=[...t,o];if(a.type===me.Fragment){r.push.apply(r,gb(a.props.children,c));return}pi(a.type===$d,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pi(!a.props.index||!a.props.children,"An index route cannot have child routes.");let s={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(s.children=gb(a.props.children,c)),r.push(s)}),r}var um="get",cm="application/x-www-form-urlencoded";function Hm(e){return e!=null&&typeof e.tagName=="string"}function nF(e){return Hm(e)&&e.tagName.toLowerCase()==="button"}function rF(e){return Hm(e)&&e.tagName.toLowerCase()==="form"}function iF(e){return Hm(e)&&e.tagName.toLowerCase()==="input"}function aF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oF(e,t){return e.button===0&&(!t||t==="_self")&&!aF(e)}var em=null;function sF(){if(em===null)try{new FormData(document.createElement("form"),0),em=!1}catch{em=!0}return em}var lF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dv(e){return e!=null&&!lF.has(e)?(ts(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cm}"`),null):e}function uF(e,t){let r,a,o,c,s;if(rF(e)){let u=e.getAttribute("action");a=u?Hl(u,t):null,r=e.getAttribute("method")||um,o=Dv(e.getAttribute("enctype"))||cm,c=new FormData(e)}else if(nF(e)||iF(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||u.getAttribute("action");if(a=h?Hl(h,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||um,o=Dv(e.getAttribute("formenctype"))||Dv(u.getAttribute("enctype"))||cm,c=new FormData(u,e),!sF()){let{name:f,type:g,value:v}=e;if(g==="image"){let w=f?`${f}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else f&&c.append(f,v)}}else{if(Hm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=um,a=null,o=cm,s=e}return c&&o==="text/plain"&&(s=c,c=void 0),{action:a,method:r.toLowerCase(),encType:o,formData:c,body:s}}function uw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function cF(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fF(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function dF(e,t,r){let a=await Promise.all(e.map(async o=>{let c=t.routes[o.route.id];if(c){let s=await cF(c,r);return s.links?s.links():[]}return[]}));return yF(a.flat(1).filter(fF).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function YS(e,t,r,a,o,c){let s=(h,f)=>r[f]?h.route.id!==r[f].route.id:!0,u=(h,f)=>r[f].pathname!==h.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==h.params["*"];return c==="assets"?t.filter((h,f)=>s(h,f)||u(h,f)):c==="data"?t.filter((h,f)=>{let g=a.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(s(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function hF(e,t,{includeHydrateFallback:r}={}){return pF(e.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function pF(e){return[...new Set(e)]}function gF(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function yF(e,t){let r=new Set;return new Set(t),e.reduce((a,o)=>{let c=JSON.stringify(gF(o));return r.has(c)||(r.add(c),a.push({key:c,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mF=new Set([100,101,204,205]);function vF(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&Hl(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function Wx(){let e=me.useContext(Zd);return uw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function bF(){let e=me.useContext(jm);return uw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var cw=me.createContext(void 0);cw.displayName="FrameworkContext";function Jx(){let e=me.useContext(cw);return uw(e,"You must render this element inside a <HydratedRouter> element"),e}function wF(e,t){let r=me.useContext(cw),[a,o]=me.useState(!1),[c,s]=me.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:v}=t,w=me.useRef(null);me.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let R=x=>{x.forEach(F=>{s(F.isIntersecting)})},C=new IntersectionObserver(R,{threshold:.5});return w.current&&C.observe(w.current),()=>{C.disconnect()}}},[e]),me.useEffect(()=>{if(a){let R=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(R)}}},[a]);let S=()=>{o(!0)},T=()=>{o(!1),s(!1)};return r?e!=="intent"?[c,w,{}]:[c,w,{onFocus:mg(u,S),onBlur:mg(h,T),onMouseEnter:mg(f,S),onMouseLeave:mg(g,T),onTouchStart:mg(v,S)}]:[!1,w,{}]}function mg(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function _F({page:e,...t}){let{router:r}=Wx(),a=me.useMemo(()=>kx(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?me.createElement(SF,{page:e,matches:a,...t}):null}function EF(e){let{manifest:t,routeModules:r}=Jx(),[a,o]=me.useState([]);return me.useEffect(()=>{let c=!1;return dF(e,t,r).then(s=>{c||o(s)}),()=>{c=!0}},[e,t,r]),a}function SF({page:e,matches:t,...r}){let a=Qu(),{manifest:o,routeModules:c}=Jx(),{basename:s}=Wx(),{loaderData:u,matches:h}=bF(),f=me.useMemo(()=>YS(e,t,h,o,a,"data"),[e,t,h,o,a]),g=me.useMemo(()=>YS(e,t,h,o,a,"assets"),[e,t,h,o,a]),v=me.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let T=new Set,R=!1;if(t.forEach(x=>{let F=o.routes[x.route.id];!F||!F.hasLoader||(!f.some(P=>P.route.id===x.route.id)&&x.route.id in u&&c[x.route.id]?.shouldRevalidate||F.hasClientLoader?R=!0:T.add(x.route.id))}),T.size===0)return[];let C=vF(e,s);return R&&T.size>0&&C.searchParams.set("_routes",t.filter(x=>T.has(x.route.id)).map(x=>x.route.id).join(",")),[C.pathname+C.search]},[s,u,a,o,f,t,e,c]),w=me.useMemo(()=>hF(g,o),[g,o]),S=EF(g);return me.createElement(me.Fragment,null,v.map(T=>me.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...r})),w.map(T=>me.createElement("link",{key:T,rel:"modulepreload",href:T,...r})),S.map(({key:T,link:R})=>me.createElement("link",{key:T,...R})))}function AF(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Yx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yx&&(window.__reactRouterVersion="7.6.3")}catch{}function xF({basename:e,children:t,window:r}){let a=me.useRef();a.current==null&&(a.current=fN({window:r,v5Compat:!0}));let o=a.current,[c,s]=me.useState({action:o.action,location:o.location}),u=me.useCallback(h=>{me.startTransition(()=>s(h))},[s]);return me.useLayoutEffect(()=>o.listen(u),[o,u]),me.createElement(eF,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:o})}var Xx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qx=me.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:o,reloadDocument:c,replace:s,state:u,target:h,to:f,preventScrollReset:g,viewTransition:v,...w},S){let{basename:T}=me.useContext(ns),R=typeof f=="string"&&Xx.test(f),C,x=!1;if(typeof f=="string"&&R&&(C=f,Yx))try{let Fe=new URL(window.location.href),$=f.startsWith("//")?new URL(Fe.protocol+f):new URL(f),ie=Hl($.pathname,T);$.origin===Fe.origin&&ie!=null?f=ie+$.search+$.hash:x=!0}catch{ts(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=kN(f,{relative:o}),[P,K,M]=wF(a,w),z=OF(f,{replace:s,state:u,target:h,preventScrollReset:g,relative:o,viewTransition:v});function J(Fe){t&&t(Fe),Fe.defaultPrevented||z(Fe)}let q=me.createElement("a",{...w,...M,href:C||F,onClick:x||c?t:J,ref:AF(S,K),target:h,"data-discover":!R&&r==="render"?"true":void 0});return P&&!R?me.createElement(me.Fragment,null,q,me.createElement(_F,{page:F})):q});Qx.displayName="Link";var RF=me.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:o=!1,style:c,to:s,viewTransition:u,children:h,...f},g){let v=zg(s,{relative:f.relative}),w=Qu(),S=me.useContext(jm),{navigator:T,basename:R}=me.useContext(ns),C=S!=null&&DF(v)&&u===!0,x=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,F=w.pathname,P=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;r||(F=F.toLowerCase(),P=P?P.toLowerCase():null,x=x.toLowerCase()),P&&R&&(P=Hl(P,R)||P);const K=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let M=F===x||!o&&F.startsWith(x)&&F.charAt(K)==="/",z=P!=null&&(P===x||!o&&P.startsWith(x)&&P.charAt(x.length)==="/"),J={isActive:M,isPending:z,isTransitioning:C},q=M?t:void 0,Fe;typeof a=="function"?Fe=a(J):Fe=[a,M?"active":null,z?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let $=typeof c=="function"?c(J):c;return me.createElement(Qx,{...f,"aria-current":q,className:Fe,ref:g,style:$,to:s,viewTransition:u},typeof h=="function"?h(J):h)});RF.displayName="NavLink";var TF=me.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:o,state:c,method:s=um,action:u,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:v,...w},S)=>{let T=NF(),R=FF(u,{relative:f}),C=s.toLowerCase()==="get"?"get":"post",x=typeof u=="string"&&Xx.test(u),F=P=>{if(h&&h(P),P.defaultPrevented)return;P.preventDefault();let K=P.nativeEvent.submitter,M=K?.getAttribute("formmethod")||s;T(K||P.currentTarget,{fetcherKey:t,method:M,navigate:r,replace:o,state:c,relative:f,preventScrollReset:g,viewTransition:v})};return me.createElement("form",{ref:S,method:C,action:R,onSubmit:a?h:F,...w,"data-discover":!x&&e==="render"?"true":void 0})});TF.displayName="Form";function CF(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zx(e){let t=me.useContext(Zd);return pi(t,CF(e)),t}function OF(e,{target:t,replace:r,state:a,preventScrollReset:o,relative:c,viewTransition:s}={}){let u=Gx(),h=Qu(),f=zg(e,{relative:c});return me.useCallback(g=>{if(oF(g,t)){g.preventDefault();let v=r!==void 0?r:Pg(h)===Pg(f);u(e,{replace:v,state:a,preventScrollReset:o,relative:c,viewTransition:s})}},[h,u,f,r,a,t,e,o,c,s])}var IF=0,PF=()=>`__${String(++IF)}__`;function NF(){let{router:e}=Zx("useSubmit"),{basename:t}=me.useContext(ns),r=JN();return me.useCallback(async(a,o={})=>{let{action:c,method:s,encType:u,formData:h,body:f}=uF(a,t);if(o.navigate===!1){let g=o.fetcherKey||PF();await e.fetch(g,r,o.action||c,{preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||s,formEncType:o.encType||u,flushSync:o.flushSync})}else await e.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||s,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,r])}function FF(e,{relative:t}={}){let{basename:r}=me.useContext(ns),a=me.useContext(ks);pi(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...zg(e||".",{relative:t})},s=Qu();if(e==null){c.search=s.search;let u=new URLSearchParams(c.search),h=u.getAll("index");if(h.some(g=>g==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let g=u.toString();c.search=g?`?${g}`:""}}return(!e||e===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:Ll([r,c.pathname])),Pg(c)}function DF(e,t={}){let r=me.useContext(Vx);pi(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Zx("useViewTransitionState"),o=zg(e,{relative:t.relative});if(!r.isTransitioning)return!1;let c=Hl(r.currentLocation.pathname,a)||r.currentLocation.pathname,s=Hl(r.nextLocation.pathname,a)||r.nextLocation.pathname;return vm(o.pathname,s)!=null||vm(o.pathname,c)!=null}[...mF];var Vm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$m=typeof window>"u"||"Deno"in globalThis;function Qo(){}function UF(e,t){return typeof e=="function"?e(t):e}function LF(e){return typeof e=="number"&&e>=0&&e!==1/0}function MF(e,t){return Math.max(e+(t||0)-Date.now(),0)}function yb(e,t){return typeof e=="function"?e(t):e}function kF(e,t){return typeof e=="function"?e(t):e}function XS(e,t){const{type:r="all",exact:a,fetchStatus:o,predicate:c,queryKey:s,stale:u}=e;if(s){if(a){if(t.queryHash!==fw(s,t.options))return!1}else if(!Fg(t.queryKey,s))return!1}if(r!=="all"){const h=t.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||o&&o!==t.state.fetchStatus||c&&!c(t))}function QS(e,t){const{exact:r,status:a,predicate:o,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(r){if(Ng(t.options.mutationKey)!==Ng(c))return!1}else if(!Fg(t.options.mutationKey,c))return!1}return!(a&&t.state.status!==a||o&&!o(t))}function fw(e,t){return(t?.queryKeyHashFn||Ng)(e)}function Ng(e){return JSON.stringify(e,(t,r)=>mb(r)?Object.keys(r).sort().reduce((a,o)=>(a[o]=r[o],a),{}):r)}function Fg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Fg(e[r],t[r])):!1}function eR(e,t){if(e===t)return e;const r=ZS(e)&&ZS(t);if(r||mb(e)&&mb(t)){const a=r?e:Object.keys(e),o=a.length,c=r?t:Object.keys(t),s=c.length,u=r?[]:{},h=new Set(a);let f=0;for(let g=0;g<s;g++){const v=r?g:c[g];(!r&&h.has(v)||r)&&e[v]===void 0&&t[v]===void 0?(u[v]=void 0,f++):(u[v]=eR(e[v],t[v]),u[v]===e[v]&&e[v]!==void 0&&f++)}return o===s&&f===o?e:u}return t}function ZS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mb(e){if(!e1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!e1(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function e1(e){return Object.prototype.toString.call(e)==="[object Object]"}function BF(e){return new Promise(t=>{setTimeout(t,e)})}function jF(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?eR(e,t):t}function HF(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function VF(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var dw=Symbol();function tR(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===dw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var $F=class extends Vm{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!$m&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},nR=new $F,KF=class extends Vm{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!$m&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},bm=new KF;function GF(){let e,t;const r=new Promise((o,c)=>{e=o,t=c});r.status="pending",r.catch(()=>{});function a(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{a({status:"fulfilled",value:o}),e(o)},r.reject=o=>{a({status:"rejected",reason:o}),t(o)},r}function qF(e){return Math.min(1e3*2**e,3e4)}function rR(e){return(e??"online")==="online"?bm.isOnline():!0}var iR=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Uv(e){return e instanceof iR}function aR(e){let t=!1,r=0,a=!1,o;const c=GF(),s=R=>{a||(w(new iR(R)),e.abort?.())},u=()=>{t=!0},h=()=>{t=!1},f=()=>nR.isFocused()&&(e.networkMode==="always"||bm.isOnline())&&e.canRun(),g=()=>rR(e.networkMode)&&e.canRun(),v=R=>{a||(a=!0,e.onSuccess?.(R),o?.(),c.resolve(R))},w=R=>{a||(a=!0,e.onError?.(R),o?.(),c.reject(R))},S=()=>new Promise(R=>{o=C=>{(a||f())&&R(C)},e.onPause?.()}).then(()=>{o=void 0,a||e.onContinue?.()}),T=()=>{if(a)return;let R;const C=r===0?e.initialPromise:void 0;try{R=C??e.fn()}catch(x){R=Promise.reject(x)}Promise.resolve(R).then(v).catch(x=>{if(a)return;const F=e.retry??($m?0:3),P=e.retryDelay??qF,K=typeof P=="function"?P(r,x):P,M=F===!0||typeof F=="number"&&r<F||typeof F=="function"&&F(r,x);if(t||!M){w(x);return}r++,e.onFail?.(r,x),BF(K).then(()=>f()?void 0:S()).then(()=>{t?w(x):T()})})};return{promise:c,cancel:s,continue:()=>(o?.(),c),cancelRetry:u,continueRetry:h,canStart:g,start:()=>(g()?T():S().then(T),c)}}var zF=e=>setTimeout(e,0);function WF(){let e=[],t=0,r=u=>{u()},a=u=>{u()},o=zF;const c=u=>{t?e.push(u):o(()=>{r(u)})},s=()=>{const u=e;e=[],u.length&&o(()=>{a(()=>{u.forEach(h=>{r(h)})})})};return{batch:u=>{let h;t++;try{h=u()}finally{t--,t||s()}return h},batchCalls:u=>(...h)=>{c(()=>{u(...h)})},schedule:c,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{a=u},setScheduler:u=>{o=u}}}var Ta=WF(),oR=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),LF(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($m?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},JF=class extends oR{#e;#t;#n;#i;#r;#o;#s;constructor(e){super(),this.#s=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=XF(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=jF(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Qo).catch(Qo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>kF(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>yb(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!MF(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},o=()=>{const h=tR(this.options,t),g=(()=>{const v={client:this.#i,queryKey:this.queryKey,meta:this.meta};return a(v),v})();return this.#s=!1,this.options.persister?this.options.persister(h,g,this):h(g)},s=(()=>{const h={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:o};return a(h),h})();this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#a({type:"fetch",meta:s.fetchOptions?.meta});const u=h=>{Uv(h)&&h.silent||this.#a({type:"error",error:h}),Uv(h)||(this.#n.config.onError?.(h,this),this.#n.config.onSettled?.(this.state.data,h,this)),this.scheduleGc()};return this.#r=aR({initialPromise:t?.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{if(h===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(f){u(f);return}this.#n.config.onSuccess?.(h,this),this.#n.config.onSettled?.(h,this.state.error,this),this.scheduleGc()},onError:u,onFail:(h,f)=>{this.#a({type:"failed",failureCount:h,error:f})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#r.start()}#a(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...YF(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#t=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return Uv(a)&&a.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Ta.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function YF(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rR(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function XF(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var QF=class extends Vm{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const a=t.queryKey,o=t.queryHash??fw(a,t);let c=this.get(o);return c||(c=new JF({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ta.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>XS(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>XS(e,r)):t}notify(e){Ta.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ta.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ta.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ZF=class extends oR{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||eD(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#i({type:"continue"})};this.#n=aR({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(o,c)=>{this.#i({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const r=this.state.status==="pending",a=!this.#n.canStart();try{if(r)t();else{this.#i({type:"pending",variables:e,isPaused:a}),await this.#t.config.onMutate?.(e,this);const c=await this.options.onMutate?.(e);c!==this.state.context&&this.#i({type:"pending",context:c,variables:e,isPaused:a})}const o=await this.#n.start();return await this.#t.config.onSuccess?.(o,e,this.state.context,this),await this.options.onSuccess?.(o,e,this.state.context),await this.#t.config.onSettled?.(o,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(o,null,e,this.state.context),this.#i({type:"success",data:o}),o}catch(o){try{throw await this.#t.config.onError?.(o,e,this.state.context,this),await this.options.onError?.(o,e,this.state.context),await this.#t.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,o,e,this.state.context),o}finally{this.#i({type:"error",error:o})}}finally{this.#t.runNext(this)}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ta.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function eD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tD=class extends Vm{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,r){const a=new ZF({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){this.#e.add(e);const t=tm(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=tm(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const a=r.indexOf(e);a!==-1&&r.splice(a,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=tm(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=tm(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ta.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>QS(t,r))}findAll(e={}){return this.getAll().filter(t=>QS(e,t))}notify(e){Ta.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ta.batch(()=>Promise.all(e.map(t=>t.continue().catch(Qo))))}};function tm(e){return e.options.scope?.id}function t1(e){return{onFetch:(t,r)=>{const a=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,c=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let u={pages:[],pageParams:[]},h=0;const f=async()=>{let g=!1;const v=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},w=tR(t.options,t.fetchOptions),S=async(T,R,C)=>{if(g)return Promise.reject();if(R==null&&T.pages.length)return Promise.resolve(T);const F=(()=>{const z={client:t.client,queryKey:t.queryKey,pageParam:R,direction:C?"backward":"forward",meta:t.options.meta};return v(z),z})(),P=await w(F),{maxPages:K}=t.options,M=C?VF:HF;return{pages:M(T.pages,P,K),pageParams:M(T.pageParams,R,K)}};if(o&&c.length){const T=o==="backward",R=T?nD:n1,C={pages:c,pageParams:s},x=R(a,C);u=await S(C,x,T)}else{const T=e??c.length;do{const R=h===0?s[0]??a.initialPageParam:n1(a,u);if(h>0&&R==null)break;u=await S(u,R),h++}while(h<T)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=f}}}function n1(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function nD(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var rD=class{#e;#t;#n;#i;#r;#o;#s;#a;constructor(e={}){this.#e=e.queryCache||new QF,this.#t=e.mutationCache||new tD,this.#n=e.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=nR.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=bm.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),a=r.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(yb(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),c=this.#e.get(a.queryHash)?.state.data,s=UF(t,c);if(s!==void 0)return this.#e.build(this,a).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return Ta.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Ta.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return Ta.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},a=Ta.batch(()=>this.#e.findAll(e).map(o=>o.cancel(r)));return Promise.all(a).then(Qo).catch(Qo)}invalidateQueries(e,t={}){return Ta.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},a=Ta.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let c=o.fetch(void 0,r);return r.throwOnError||(c=c.catch(Qo)),o.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(a).then(Qo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(yb(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Qo).catch(Qo)}fetchInfiniteQuery(e){return e.behavior=t1(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Qo).catch(Qo)}ensureInfiniteQueryData(e){return e.behavior=t1(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bm.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(Ng(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],r={};return t.forEach(a=>{Fg(e,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(e,t){this.#r.set(Ng(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],r={};return t.forEach(a=>{Fg(e,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=fw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===dw&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},iD=me.createContext(void 0),aD=({client:e,children:t})=>(me.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Ve.jsx(iD.Provider,{value:e,children:t})),Lv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var r1;function oD(){return r1||(r1=1,function(e){(function(){var t={}.hasOwnProperty;function r(){for(var c="",s=0;s<arguments.length;s++){var u=arguments[s];u&&(c=o(c,a(u)))}return c}function a(c){if(typeof c=="string"||typeof c=="number")return c;if(typeof c!="object")return"";if(Array.isArray(c))return r.apply(null,c);if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]"))return c.toString();var s="";for(var u in c)t.call(c,u)&&c[u]&&(s=o(s,u));return s}function o(c,s){return s?c?c+" "+s:c+s:c}e.exports?(r.default=r,e.exports=r):window.classNames=r})()}(Lv)),Lv.exports}var sD=oD();const cr=Sm(sD),sR=["xxl","xl","lg","md","sm","xs"],lR="xs",Km=me.createContext({prefixes:{},breakpoints:sR,minBreakpoint:lR}),{Consumer:pL,Provider:gL}=Km;function Rr(e,t){const{prefixes:r}=me.useContext(Km);return e||r[t]||t}function hw(){const{breakpoints:e}=me.useContext(Km);return e}function pw(){const{minBreakpoint:e}=me.useContext(Km);return e}const gw=me.forwardRef(({className:e,bsPrefix:t,as:r="div",...a},o)=>(t=Rr(t,"card-body"),Ve.jsx(r,{ref:o,className:cr(e,t),...a})));gw.displayName="CardBody";const uR=me.forwardRef(({className:e,bsPrefix:t,as:r="div",...a},o)=>(t=Rr(t,"card-footer"),Ve.jsx(r,{ref:o,className:cr(e,t),...a})));uR.displayName="CardFooter";const cR=me.createContext(null);cR.displayName="CardHeaderContext";const fR=me.forwardRef(({bsPrefix:e,className:t,as:r="div",...a},o)=>{const c=Rr(e,"card-header"),s=me.useMemo(()=>({cardHeaderBsPrefix:c}),[c]);return Ve.jsx(cR.Provider,{value:s,children:Ve.jsx(r,{ref:o,...a,className:cr(t,c)})})});fR.displayName="CardHeader";const dR=me.forwardRef(({bsPrefix:e,className:t,variant:r,as:a="img",...o},c)=>{const s=Rr(e,"card-img");return Ve.jsx(a,{ref:c,className:cr(r?`${s}-${r}`:s,t),...o})});dR.displayName="CardImg";const hR=me.forwardRef(({className:e,bsPrefix:t,as:r="div",...a},o)=>(t=Rr(t,"card-img-overlay"),Ve.jsx(r,{ref:o,className:cr(e,t),...a})));hR.displayName="CardImgOverlay";const pR=me.forwardRef(({className:e,bsPrefix:t,as:r="a",...a},o)=>(t=Rr(t,"card-link"),Ve.jsx(r,{ref:o,className:cr(e,t),...a})));pR.displayName="CardLink";const yw=e=>me.forwardRef((t,r)=>Ve.jsx("div",{...t,ref:r,className:cr(t.className,e)})),lD=yw("h6"),gR=me.forwardRef(({className:e,bsPrefix:t,as:r=lD,...a},o)=>(t=Rr(t,"card-subtitle"),Ve.jsx(r,{ref:o,className:cr(e,t),...a})));gR.displayName="CardSubtitle";const yR=me.forwardRef(({className:e,bsPrefix:t,as:r="p",...a},o)=>(t=Rr(t,"card-text"),Ve.jsx(r,{ref:o,className:cr(e,t),...a})));yR.displayName="CardText";const uD=yw("h5"),mR=me.forwardRef(({className:e,bsPrefix:t,as:r=uD,...a},o)=>(t=Rr(t,"card-title"),Ve.jsx(r,{ref:o,className:cr(e,t),...a})));mR.displayName="CardTitle";const vR=me.forwardRef(({bsPrefix:e,className:t,bg:r,text:a,border:o,body:c=!1,children:s,as:u="div",...h},f)=>{const g=Rr(e,"card");return Ve.jsx(u,{ref:f,...h,className:cr(t,g,r&&`bg-${r}`,a&&`text-${a}`,o&&`border-${o}`),children:c?Ve.jsx(gw,{children:s}):s})});vR.displayName="Card";const Vu=Object.assign(vR,{Img:dR,Title:mR,Subtitle:gR,Body:gw,Link:pR,Text:yR,Header:fR,Footer:uR,ImgOverlay:hR});var Mv={exports:{}},kv,i1;function cD(){if(i1)return kv;i1=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kv=e,kv}var Bv,a1;function fD(){if(a1)return Bv;a1=1;var e=cD();function t(){}function r(){}return r.resetWarningCache=t,Bv=function(){function a(s,u,h,f,g,v){if(v!==e){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}a.isRequired=a;function o(){return a}var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:o,element:a,elementType:a,instanceOf:o,node:a,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:t};return c.PropTypes=c,c},Bv}var o1;function dD(){return o1||(o1=1,Mv.exports=fD()()),Mv.exports}var hD=dD();const Ml=Sm(hD);function pD(e,t=sR,r=lR){const a=[];return Object.entries(e).forEach(([o,c])=>{c!=null&&(typeof c=="object"?t.forEach(s=>{const u=c[s];if(u!=null){const h=s!==r?`-${s}`:"";a.push(`${o}${h}-${u}`)}}):a.push(`${o}-${c}`))}),a}const Af=me.forwardRef(({as:e="div",bsPrefix:t,className:r,direction:a,gap:o,...c},s)=>{t=Rr(t,a==="horizontal"?"hstack":"vstack");const u=hw(),h=pw();return Ve.jsx(e,{...c,ref:s,className:cr(r,t,...pD({gap:o},u,h))})});Af.displayName="Stack";const gD={type:Ml.string,tooltip:Ml.bool,as:Ml.elementType},Gm=me.forwardRef(({as:e="div",className:t,type:r="valid",tooltip:a=!1,...o},c)=>Ve.jsx(e,{...o,ref:c,className:cr(t,`${r}-${a?"tooltip":"feedback"}`)}));Gm.displayName="Feedback";Gm.propTypes=gD;const Vl=me.createContext({}),mw=me.forwardRef(({id:e,bsPrefix:t,className:r,type:a="checkbox",isValid:o=!1,isInvalid:c=!1,as:s="input",...u},h)=>{const{controlId:f}=me.useContext(Vl);return t=Rr(t,"form-check-input"),Ve.jsx(s,{...u,ref:h,type:a,id:e||f,className:cr(r,t,o&&"is-valid",c&&"is-invalid")})});mw.displayName="FormCheckInput";const wm=me.forwardRef(({bsPrefix:e,className:t,htmlFor:r,...a},o)=>{const{controlId:c}=me.useContext(Vl);return e=Rr(e,"form-check-label"),Ve.jsx("label",{...a,ref:o,htmlFor:r||c,className:cr(t,e)})});wm.displayName="FormCheckLabel";function yD(e,t){return me.Children.toArray(e).some(r=>me.isValidElement(r)&&r.type===t)}const bR=me.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:r,inline:a=!1,reverse:o=!1,disabled:c=!1,isValid:s=!1,isInvalid:u=!1,feedbackTooltip:h=!1,feedback:f,feedbackType:g,className:v,style:w,title:S="",type:T="checkbox",label:R,children:C,as:x="input",...F},P)=>{t=Rr(t,"form-check"),r=Rr(r,"form-switch");const{controlId:K}=me.useContext(Vl),M=me.useMemo(()=>({controlId:e||K}),[K,e]),z=!C&&R!=null&&R!==!1||yD(C,wm),J=Ve.jsx(mw,{...F,type:T==="switch"?"checkbox":T,ref:P,isValid:s,isInvalid:u,disabled:c,as:x});return Ve.jsx(Vl.Provider,{value:M,children:Ve.jsx("div",{style:w,className:cr(v,z&&t,a&&`${t}-inline`,o&&`${t}-reverse`,T==="switch"&&r),children:C||Ve.jsxs(Ve.Fragment,{children:[J,z&&Ve.jsx(wm,{title:S,children:R}),f&&Ve.jsx(Gm,{type:g,tooltip:h,children:f})]})})})});bR.displayName="FormCheck";const _m=Object.assign(bR,{Input:mw,Label:wm}),wR=me.forwardRef(({bsPrefix:e,type:t,size:r,htmlSize:a,id:o,className:c,isValid:s=!1,isInvalid:u=!1,plaintext:h,readOnly:f,as:g="input",...v},w)=>{const{controlId:S}=me.useContext(Vl);return e=Rr(e,"form-control"),Ve.jsx(g,{...v,type:t,size:a,ref:w,readOnly:f,id:o||S,className:cr(c,h?`${e}-plaintext`:e,r&&`${e}-${r}`,t==="color"&&`${e}-color`,s&&"is-valid",u&&"is-invalid")})});wR.displayName="FormControl";const mD=Object.assign(wR,{Feedback:Gm}),_R=me.forwardRef(({className:e,bsPrefix:t,as:r="div",...a},o)=>(t=Rr(t,"form-floating"),Ve.jsx(r,{ref:o,className:cr(e,t),...a})));_R.displayName="FormFloating";const vw=me.forwardRef(({controlId:e,as:t="div",...r},a)=>{const o=me.useMemo(()=>({controlId:e}),[e]);return Ve.jsx(Vl.Provider,{value:o,children:Ve.jsx(t,{...r,ref:a})})});vw.displayName="FormGroup";function vD({as:e,bsPrefix:t,className:r,...a}){t=Rr(t,"col");const o=hw(),c=pw(),s=[],u=[];return o.forEach(h=>{const f=a[h];delete a[h];let g,v,w;typeof f=="object"&&f!=null?{span:g,offset:v,order:w}=f:g=f;const S=h!==c?`-${h}`:"";g&&s.push(g===!0?`${t}${S}`:`${t}${S}-${g}`),w!=null&&u.push(`order${S}-${w}`),v!=null&&u.push(`offset${S}-${v}`)}),[{...a,className:cr(r,...s,...u)},{as:e,bsPrefix:t,spans:s}]}const Hi=me.forwardRef((e,t)=>{const[{className:r,...a},{as:o="div",bsPrefix:c,spans:s}]=vD(e);return Ve.jsx(o,{...a,ref:t,className:cr(r,!s.length&&c)})});Hi.displayName="Col";const ER=me.forwardRef(({as:e="label",bsPrefix:t,column:r=!1,visuallyHidden:a=!1,className:o,htmlFor:c,...s},u)=>{const{controlId:h}=me.useContext(Vl);t=Rr(t,"form-label");let f="col-form-label";typeof r=="string"&&(f=`${f} ${f}-${r}`);const g=cr(o,t,a&&"visually-hidden",r&&f);return c=c||h,r?Ve.jsx(Hi,{ref:u,as:"label",className:g,htmlFor:c,...s}):Ve.jsx(e,{ref:u,className:g,htmlFor:c,...s})});ER.displayName="FormLabel";const SR=me.forwardRef(({bsPrefix:e,className:t,id:r,...a},o)=>{const{controlId:c}=me.useContext(Vl);return e=Rr(e,"form-range"),Ve.jsx("input",{...a,type:"range",ref:o,className:cr(t,e),id:r||c})});SR.displayName="FormRange";const AR=me.forwardRef(({bsPrefix:e,size:t,htmlSize:r,className:a,isValid:o=!1,isInvalid:c=!1,id:s,...u},h)=>{const{controlId:f}=me.useContext(Vl);return e=Rr(e,"form-select"),Ve.jsx("select",{...u,size:r,ref:h,className:cr(a,e,t&&`${e}-${t}`,o&&"is-valid",c&&"is-invalid"),id:s||f})});AR.displayName="FormSelect";const xR=me.forwardRef(({bsPrefix:e,className:t,as:r="small",muted:a,...o},c)=>(e=Rr(e,"form-text"),Ve.jsx(r,{...o,ref:c,className:cr(t,e,a&&"text-muted")})));xR.displayName="FormText";const RR=me.forwardRef((e,t)=>Ve.jsx(_m,{...e,ref:t,type:"switch"}));RR.displayName="Switch";const bD=Object.assign(RR,{Input:_m.Input,Label:_m.Label}),TR=me.forwardRef(({bsPrefix:e,className:t,children:r,controlId:a,label:o,...c},s)=>(e=Rr(e,"form-floating"),Ve.jsxs(vw,{ref:s,className:cr(t,e),controlId:a,...c,children:[r,Ve.jsx("label",{htmlFor:a,children:o})]})));TR.displayName="FloatingLabel";const wD={_ref:Ml.any,validated:Ml.bool,as:Ml.elementType},bw=me.forwardRef(({className:e,validated:t,as:r="form",...a},o)=>Ve.jsx(r,{...a,ref:o,className:cr(e,t&&"was-validated")}));bw.displayName="Form";bw.propTypes=wD;const ho=Object.assign(bw,{Group:vw,Control:mD,Floating:_R,Check:_m,Switch:bD,Label:ER,Text:xR,Range:SR,Select:AR,FloatingLabel:TR}),_D=["as","disabled"];function ED(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function SD(e){return!e||e.trim()==="#"}function CR({tagName:e,disabled:t,href:r,target:a,rel:o,role:c,onClick:s,tabIndex:u=0,type:h}){e||(r!=null||a!=null||o!=null?e="a":e="button");const f={tagName:e};if(e==="button")return[{type:h||"button",disabled:t},f];const g=w=>{if((t||e==="a"&&SD(r))&&w.preventDefault(),t){w.stopPropagation();return}s?.(w)},v=w=>{w.key===" "&&(w.preventDefault(),g(w))};return e==="a"&&(r||(r="#"),t&&(r=void 0)),[{role:c??"button",disabled:void 0,tabIndex:t?void 0:u,href:r,target:e==="a"?a:void 0,"aria-disabled":t||void 0,rel:e==="a"?o:void 0,onClick:g,onKeyDown:v},f]}const AD=me.forwardRef((e,t)=>{let{as:r,disabled:a}=e,o=ED(e,_D);const[c,{tagName:s}]=CR(Object.assign({tagName:r,disabled:a},o));return Ve.jsx(s,Object.assign({},o,c,{ref:t}))});AD.displayName="Button";const ca=me.forwardRef(({as:e,bsPrefix:t,variant:r="primary",size:a,active:o=!1,disabled:c=!1,className:s,...u},h)=>{const f=Rr(t,"btn"),[g,{tagName:v}]=CR({tagName:e,disabled:c,...u}),w=v;return Ve.jsx(w,{...g,...u,ref:h,disabled:c,className:cr(s,f,o&&"active",r&&`${f}-${r}`,a&&`${f}-${a}`,u.href&&c&&"disabled")})});ca.displayName="Button";const xD={"Inrupt Pod Spaces":"https://login.inrupt.com/","Data Pod":"https://datapod.igrant.io/","solidcommunity.net":"https://solidcommunity.net/","solidweb.org":"https://solidweb.org/","redpencil.io":"https://solid.redpencil.io/"},RD=()=>{const e=Xd();return Ve.jsxs(Ve.Fragment,{children:[Ve.jsx(Vu,{className:"position-absolute top-50 start-50 translate-middle text-center pb-4 pt-3 ps-4 pe-4",children:Ve.jsx(Vu.Body,{children:Ve.jsxs(Af,{gap:3,style:{width:"250px"},children:[Ve.jsx("span",{style:{fontSize:"large",fontWeight:500},children:Ve.jsx(Ra,{id:"selectASolidProvider",defaultMessage:"Select a Solid provider"})}),Ve.jsxs(ho.Select,{style:{borderColor:"#cccccc",height:"45px"},children:[Ve.jsx("option",{hidden:!0,children:e.formatMessage({id:"chooseSolidProvider",defaultMessage:"Choose a Solid provider"})},"defaultOption"),Object.keys(xD).map(t=>Ve.jsx("option",{children:t},t))]}),Ve.jsx(Ra,{id:"typeInProviderUrlHeading",defaultMessage:"Or type in a provider URL"}),Ve.jsx(ho.Control,{type:"text",placeholder:e.formatMessage({id:"providerUrlPlaceholder",defaultMessage:"Place a provider URL"}),style:{borderColor:"#cccccc",height:"45px"}}),Ve.jsx(ca,{className:"solid-button mt-2 w-100",children:Ve.jsx(Ra,{id:"redirectToProvider",defaultMessage:"Redirect to provider"})})]})})}),Ve.jsx("div",{className:"position-absolute bottom-0 start-0 ms-3 mb-3",children:Ve.jsxs(ho.Select,{style:{borderColor:"#cccccc",height:"45px"},tabIndex:1,children:[Ve.jsx("option",{children:"English"},"en"),Ve.jsx("option",{children:"Slovensky"},"sk")]})})]})},Ns=me.forwardRef(({bsPrefix:e,className:t,as:r="div",...a},o)=>{const c=Rr(e,"row"),s=hw(),u=pw(),h=`${c}-cols`,f=[];return s.forEach(g=>{const v=a[g];delete a[g];let w;v!=null&&typeof v=="object"?{cols:w}=v:w=v;const S=g!==u?`-${g}`:"";w!=null&&f.push(`${h}${S}-${w}`)}),Ve.jsx(r,{ref:o,...a,className:cr(t,c,...f)})});Ns.displayName="Row";const Rg=me.forwardRef(({bsPrefix:e,fluid:t=!1,as:r="div",className:a,...o},c)=>{const s=Rr(e,"container"),u=typeof t=="string"?`-${t}`:"-fluid";return Ve.jsx(r,{ref:c,...o,className:cr(a,t?`${s}${u}`:s)})});Rg.displayName="Container";const TD=()=>{const e=Xd();return Ve.jsxs("div",{style:{height:"100dvh",backgroundColor:"#FAFAFA"},children:[Ve.jsx(Rg,{fluid:!0,children:Ve.jsxs(Ns,{className:"sticky-top align-items-center",style:{backgroundColor:"#7C4DFF",height:"86px"},children:[Ve.jsx(Hi,{className:"ms-3",xs:8,children:Ve.jsx("span",{style:{color:"white",fontSize:"x-large",fontWeight:500},children:Ve.jsx(Ra,{id:"menuOverviewHeading",defaultMessage:"Menu overview"})})}),Ve.jsx(Hi,{className:"text-end",children:Ve.jsx("button",{style:{background:"none",border:"none"},"aria-label":"Open offcanvas",children:Ve.jsx("img",{src:"images/list.svg",alt:"Hamburger icon",style:{width:"40px"}})})})]})}),Ve.jsxs(Af,{gap:3,className:"ps-3 pe-3 mt-3",children:[Ve.jsx(Vu,{style:{maxWidth:"470px",height:"160px"},children:Ve.jsx(Vu.Body,{children:Ve.jsxs(Ns,{children:[Ve.jsxs(Hi,{xs:9,children:[Ve.jsx("div",{style:{fontSize:"large",fontWeight:700},children:"A la Carte Menu"}),Ve.jsxs("div",{className:"mt-2",children:[Ve.jsx("img",{src:"images/calendar-week.svg",alt:"Calendar icon",style:{width:"22px"}}),Ve.jsx("span",{className:"text-muted ms-3",style:{fontWeight:500},children:"Monday - Friday"})]}),Ve.jsx(ca,{variant:"secondary",className:"mt-4",children:Ve.jsx(Ra,{id:"editMenu",defaultMessage:"Edit"})})]}),Ve.jsxs(Hi,{xs:3,className:"text-end",children:[Ve.jsx(ho.Switch,{reverse:!0,label:e.formatMessage({id:"visible",defaultMessage:"Visible"})}),Ve.jsx(ca,{variant:"secondary",style:{marginTop:"43pt",marginRight:"4pt"},children:e.formatMessage({id:"scheduleMenu",defaultMessage:"Schedule"})})]})]})})}),Ve.jsx(Vu,{style:{maxWidth:"470px",height:"160px"},children:Ve.jsx(Vu.Body,{children:Ve.jsxs(Ns,{children:[Ve.jsxs(Hi,{xs:9,children:[Ve.jsx("div",{style:{fontSize:"large",fontWeight:700},children:"Weekend Menu"}),Ve.jsxs("div",{className:"mt-2",children:[Ve.jsx("img",{src:"images/calendar-week.svg",alt:"Calendar icon",style:{width:"22px"}}),Ve.jsx("span",{className:"text-muted ms-3",style:{fontWeight:500},children:"Saturday, Sunday"})]}),Ve.jsx(ca,{variant:"secondary",className:"mt-4",children:Ve.jsx(Ra,{id:"editMenu",defaultMessage:"Edit"})})]}),Ve.jsxs(Hi,{xs:3,className:"text-end",children:[Ve.jsx(ho.Switch,{reverse:!0,label:e.formatMessage({id:"visible",defaultMessage:"Visible"})}),Ve.jsx(ca,{variant:"secondary",style:{marginTop:"43pt",marginRight:"4pt"},children:e.formatMessage({id:"scheduleMenu",defaultMessage:"Schedule"})})]})]})})}),Ve.jsx(Vu,{style:{maxWidth:"470px",height:"160px"},children:Ve.jsx(Vu.Body,{children:Ve.jsxs(Ns,{children:[Ve.jsxs(Hi,{xs:9,children:[Ve.jsx("div",{style:{fontSize:"large",fontWeight:700},children:"Lunch Menu"}),Ve.jsxs("div",{className:"mt-2",children:[Ve.jsx("img",{src:"images/calendar-week.svg",alt:"Calendar icon",style:{width:"22px"}}),Ve.jsx("span",{className:"text-muted ms-3",style:{fontWeight:500},children:"Daily, 11:00 AM - 3:00 PM"})]}),Ve.jsx(ca,{variant:"secondary",className:"mt-4",children:Ve.jsx(Ra,{id:"editMenu",defaultMessage:"Edit"})})]}),Ve.jsxs(Hi,{xs:3,className:"text-end",children:[Ve.jsx(ho.Switch,{reverse:!0,label:e.formatMessage({id:"visible",defaultMessage:"Visible"})}),Ve.jsx(ca,{variant:"secondary",style:{marginTop:"43pt",marginRight:"4pt"},children:e.formatMessage({id:"scheduleMenu",defaultMessage:"Schedule"})})]})]})})})]}),Ve.jsx(ca,{className:"position-absolute position-fixed bottom-0 end-0 mb-4 me-4 add-menu-round-button shadow",children:Ve.jsx("img",{src:"images/plus.svg",alt:"Add menu icon",className:"edit-profile-round-icon",style:{width:"36px"}})})]})},CD=me.createContext(null);function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vb.apply(null,arguments)}function OR(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function s1(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function OD(e){var t=ID(e,"string");return typeof t=="symbol"?t:String(t)}function ID(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function PD(e,t,r){var a=me.useRef(e!==void 0),o=me.useState(t),c=o[0],s=o[1],u=e!==void 0,h=a.current;return a.current=u,!u&&h&&c!==t&&s(t),[u?e:c,me.useCallback(function(f){for(var g=arguments.length,v=new Array(g>1?g-1:0),w=1;w<g;w++)v[w-1]=arguments[w];r&&r.apply(void 0,[f].concat(v)),s(f)},[r])]}function ND(e,t){return Object.keys(t).reduce(function(r,a){var o,c=r,s=c[s1(a)],u=c[a],h=OR(c,[s1(a),a].map(OD)),f=t[a],g=PD(u,s,e[f]),v=g[0],w=g[1];return vb({},h,(o={},o[a]=v,o[f]=w,o))},e)}function bb(e,t){return bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},bb(e,t)}function FD(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,bb(e,t)}const IR=me.forwardRef(({bsPrefix:e,className:t,as:r,...a},o)=>{e=Rr(e,"navbar-brand");const c=r||(a.href?"a":"span");return Ve.jsx(c,{...a,ref:o,className:cr(t,e)})});IR.displayName="NavbarBrand";function ww(e){return e&&e.ownerDocument||document}function DD(e){var t=ww(e);return t&&t.defaultView||window}function UD(e,t){return DD(e).getComputedStyle(e,t)}var LD=/([A-Z])/g;function MD(e){return e.replace(LD,"-$1").toLowerCase()}var kD=/^ms-/;function nm(e){return MD(e).replace(kD,"-ms-")}var BD=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function jD(e){return!!(e&&BD.test(e))}function kl(e,t){var r="",a="";if(typeof t=="string")return e.style.getPropertyValue(nm(t))||UD(e).getPropertyValue(nm(t));Object.keys(t).forEach(function(o){var c=t[o];!c&&c!==0?e.style.removeProperty(nm(o)):jD(o)?a+=o+"("+c+") ":r+=nm(o)+": "+c+";"}),a&&(r+="transform: "+a+";"),e.style.cssText+=";"+r}var HD=b1();const Kd=Sm(HD),l1={disabled:!1},PR=Fs.createContext(null);var VD=function(t){return t.scrollTop},_g="unmounted",$u="exited",Zo="entering",Ul="entered",Dg="exiting",Kl=function(e){FD(t,e);function t(a,o){var c;c=e.call(this,a,o)||this;var s=o,u=s&&!s.isMounting?a.enter:a.appear,h;return c.appearStatus=null,a.in?u?(h=$u,c.appearStatus=Zo):h=Ul:a.unmountOnExit||a.mountOnEnter?h=_g:h=$u,c.state={status:h},c.nextCallback=null,c}t.getDerivedStateFromProps=function(o,c){var s=o.in;return s&&c.status===_g?{status:$u}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(o){var c=null;if(o!==this.props){var s=this.state.status;this.props.in?s!==Zo&&s!==Ul&&(c=Zo):(s===Zo||s===Ul)&&(c=Dg)}this.updateStatus(!1,c)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var o=this.props.timeout,c,s,u;return c=s=u=o,o!=null&&typeof o!="number"&&(c=o.exit,s=o.enter,u=o.appear!==void 0?o.appear:s),{exit:c,enter:s,appear:u}},r.updateStatus=function(o,c){if(o===void 0&&(o=!1),c!==null)if(this.cancelNextCallback(),c===Zo){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Kd.findDOMNode(this);s&&VD(s)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===$u&&this.setState({status:_g})},r.performEnter=function(o){var c=this,s=this.props.enter,u=this.context?this.context.isMounting:o,h=this.props.nodeRef?[u]:[Kd.findDOMNode(this),u],f=h[0],g=h[1],v=this.getTimeouts(),w=u?v.appear:v.enter;if(!o&&!s||l1.disabled){this.safeSetState({status:Ul},function(){c.props.onEntered(f)});return}this.props.onEnter(f,g),this.safeSetState({status:Zo},function(){c.props.onEntering(f,g),c.onTransitionEnd(w,function(){c.safeSetState({status:Ul},function(){c.props.onEntered(f,g)})})})},r.performExit=function(){var o=this,c=this.props.exit,s=this.getTimeouts(),u=this.props.nodeRef?void 0:Kd.findDOMNode(this);if(!c||l1.disabled){this.safeSetState({status:$u},function(){o.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Dg},function(){o.props.onExiting(u),o.onTransitionEnd(s.exit,function(){o.safeSetState({status:$u},function(){o.props.onExited(u)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(o,c){c=this.setNextCallback(c),this.setState(o,c)},r.setNextCallback=function(o){var c=this,s=!0;return this.nextCallback=function(u){s&&(s=!1,c.nextCallback=null,o(u))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(o,c){this.setNextCallback(c);var s=this.props.nodeRef?this.props.nodeRef.current:Kd.findDOMNode(this),u=o==null&&!this.props.addEndListener;if(!s||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],f=h[0],g=h[1];this.props.addEndListener(f,g)}o!=null&&setTimeout(this.nextCallback,o)},r.render=function(){var o=this.state.status;if(o===_g)return null;var c=this.props,s=c.children;c.in,c.mountOnEnter,c.unmountOnExit,c.appear,c.enter,c.exit,c.timeout,c.addEndListener,c.onEnter,c.onEntering,c.onEntered,c.onExit,c.onExiting,c.onExited,c.nodeRef;var u=OR(c,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Fs.createElement(PR.Provider,{value:null},typeof s=="function"?s(o,u):Fs.cloneElement(Fs.Children.only(s),u))},t}(Fs.Component);Kl.contextType=PR;Kl.propTypes={};function Bd(){}Kl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Bd,onEntering:Bd,onEntered:Bd,onExit:Bd,onExiting:Bd,onExited:Bd};Kl.UNMOUNTED=_g;Kl.EXITED=$u;Kl.ENTERING=Zo;Kl.ENTERED=Ul;Kl.EXITING=Dg;function $D(e){return e.code==="Escape"||e.keyCode===27}function KD(){const e=me.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function th(e){if(!e||typeof e=="function")return null;const{major:t}=KD();return t>=19?e.props.ref:e.ref}const qm=!!(typeof window<"u"&&window.document&&window.document.createElement);var wb=!1,_b=!1;try{var jv={get passive(){return wb=!0},get once(){return _b=wb=!0}};qm&&(window.addEventListener("test",jv,jv),window.removeEventListener("test",jv,!0))}catch{}function GD(e,t,r,a){if(a&&typeof a!="boolean"&&!_b){var o=a.once,c=a.capture,s=r;!_b&&o&&(s=r.__once||function u(h){this.removeEventListener(t,u,c),r.call(this,h)},r.__once=s),e.addEventListener(t,s,wb?a:c)}e.addEventListener(t,r,a)}function qD(e,t,r,a){var o=a&&typeof a!="boolean"?a.capture:a;e.removeEventListener(t,r,o),r.__once&&e.removeEventListener(t,r.__once,o)}function Em(e,t,r,a){return GD(e,t,r,a),function(){qD(e,t,r,a)}}function zD(e,t,r,a){if(a===void 0&&(a=!0),e){var o=document.createEvent("HTMLEvents");o.initEvent(t,r,a),e.dispatchEvent(o)}}function WD(e){var t=kl(e,"transitionDuration")||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function JD(e,t,r){r===void 0&&(r=5);var a=!1,o=setTimeout(function(){a||zD(e,"transitionend",!0)},t+r),c=Em(e,"transitionend",function(){a=!0},{once:!0});return function(){clearTimeout(o),c()}}function YD(e,t,r,a){r==null&&(r=WD(e)||0);var o=JD(e,r,a),c=Em(e,"transitionend",t);return function(){o(),c()}}function u1(e,t){const r=kl(e,t)||"",a=r.indexOf("ms")===-1?1e3:1;return parseFloat(r)*a}function _w(e,t){const r=u1(e,"transitionDuration"),a=u1(e,"transitionDelay"),o=YD(e,c=>{c.target===e&&(o(),t(c))},r+a)}function vg(...e){return e.filter(t=>t!=null).reduce((t,r)=>{if(typeof r!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?r:function(...o){t.apply(this,o),r.apply(this,o)}},null)}function NR(e){e.offsetHeight}const c1=e=>!e||typeof e=="function"?e:t=>{e.current=t};function XD(e,t){const r=c1(e),a=c1(t);return o=>{r&&r(o),a&&a(o)}}function QD(e,t){return me.useMemo(()=>XD(e,t),[e,t])}function ZD(e){return e&&"setState"in e?Kd.findDOMNode(e):e??null}const zm=Fs.forwardRef(({onEnter:e,onEntering:t,onEntered:r,onExit:a,onExiting:o,onExited:c,addEndListener:s,children:u,childRef:h,...f},g)=>{const v=me.useRef(null),w=QD(v,h),S=z=>{w(ZD(z))},T=z=>J=>{z&&v.current&&z(v.current,J)},R=me.useCallback(T(e),[e]),C=me.useCallback(T(t),[t]),x=me.useCallback(T(r),[r]),F=me.useCallback(T(a),[a]),P=me.useCallback(T(o),[o]),K=me.useCallback(T(c),[c]),M=me.useCallback(T(s),[s]);return Ve.jsx(Kl,{ref:g,...f,onEnter:R,onEntered:x,onEntering:C,onExit:F,onExited:K,onExiting:P,addEndListener:M,nodeRef:v,children:typeof u=="function"?(z,J)=>u(z,{...J,ref:S}):Fs.cloneElement(u,{ref:S})})});zm.displayName="TransitionWrapper";const eU={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function tU(e,t){const r=`offset${e[0].toUpperCase()}${e.slice(1)}`,a=t[r],o=eU[e];return a+parseInt(kl(t,o[0]),10)+parseInt(kl(t,o[1]),10)}const nU={[$u]:"collapse",[Dg]:"collapsing",[Zo]:"collapsing",[Ul]:"collapse show"},FR=Fs.forwardRef(({onEnter:e,onEntering:t,onEntered:r,onExit:a,onExiting:o,className:c,children:s,dimension:u="height",in:h=!1,timeout:f=300,mountOnEnter:g=!1,unmountOnExit:v=!1,appear:w=!1,getDimensionValue:S=tU,...T},R)=>{const C=typeof u=="function"?u():u,x=me.useMemo(()=>vg(z=>{z.style[C]="0"},e),[C,e]),F=me.useMemo(()=>vg(z=>{const J=`scroll${C[0].toUpperCase()}${C.slice(1)}`;z.style[C]=`${z[J]}px`},t),[C,t]),P=me.useMemo(()=>vg(z=>{z.style[C]=null},r),[C,r]),K=me.useMemo(()=>vg(z=>{z.style[C]=`${S(C,z)}px`,NR(z)},a),[a,S,C]),M=me.useMemo(()=>vg(z=>{z.style[C]=null},o),[C,o]);return Ve.jsx(zm,{ref:R,addEndListener:_w,...T,"aria-expanded":T.role?h:null,onEnter:x,onEntering:F,onEntered:P,onExit:K,onExiting:M,childRef:th(s),in:h,timeout:f,mountOnEnter:g,unmountOnExit:v,appear:w,children:(z,J)=>Fs.cloneElement(s,{...J,className:cr(c,s.props.className,nU[z],C==="width"&&"collapse-horizontal")})})});FR.displayName="Collapse";const Wg=me.createContext(null);Wg.displayName="NavbarContext";const DR=me.forwardRef(({children:e,bsPrefix:t,...r},a)=>{t=Rr(t,"navbar-collapse");const o=me.useContext(Wg);return Ve.jsx(FR,{in:!!(o&&o.expanded),...r,children:Ve.jsx("div",{ref:a,className:t,children:e})})});DR.displayName="NavbarCollapse";function rU(e){const t=me.useRef(e);return me.useEffect(()=>{t.current=e},[e]),t}function Wm(e){const t=rU(e);return me.useCallback(function(...r){return t.current&&t.current(...r)},[t])}const UR=me.forwardRef(({bsPrefix:e,className:t,children:r,label:a="Toggle navigation",as:o="button",onClick:c,...s},u)=>{e=Rr(e,"navbar-toggler");const{onToggle:h,expanded:f}=me.useContext(Wg)||{},g=Wm(v=>{c&&c(v),h&&h()});return o==="button"&&(s.type="button"),Ve.jsx(o,{...s,ref:u,onClick:g,"aria-label":a,className:cr(t,e,!f&&"collapsed"),children:r||Ve.jsx("span",{className:`${e}-icon`})})});UR.displayName="NavbarToggle";const iU=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",aU=typeof document<"u",oU=aU||iU?me.useLayoutEffect:me.useEffect,Eb=new WeakMap,f1=(e,t)=>{if(!e||!t)return;const r=Eb.get(t)||new Map;Eb.set(t,r);let a=r.get(e);return a||(a=t.matchMedia(e),a.refCount=0,r.set(a.media,a)),a};function sU(e,t=typeof window>"u"?void 0:window){const r=f1(e,t),[a,o]=me.useState(()=>r?r.matches:!1);return oU(()=>{let c=f1(e,t);if(!c)return o(!1);let s=Eb.get(t);const u=()=>{o(c.matches)};return c.refCount++,c.addListener(u),u(),()=>{c.removeListener(u),c.refCount--,c.refCount<=0&&s?.delete(c.media),c=void 0}},[e]),a}function lU(e){const t=Object.keys(e);function r(u,h){return u===h?h:u?`${u} and ${h}`:h}function a(u){return t[Math.min(t.indexOf(u)+1,t.length-1)]}function o(u){const h=a(u);let f=e[h];return typeof f=="number"?f=`${f-.2}px`:f=`calc(${f} - 0.2px)`,`(max-width: ${f})`}function c(u){let h=e[u];return typeof h=="number"&&(h=`${h}px`),`(min-width: ${h})`}function s(u,h,f){let g;typeof u=="object"?(g=u,f=h,h=!0):(h=h||!0,g={[u]:h});let v=me.useMemo(()=>Object.entries(g).reduce((w,[S,T])=>((T==="up"||T===!0)&&(w=r(w,c(S))),(T==="down"||T===!0)&&(w=r(w,o(S))),w),""),[JSON.stringify(g)]);return sU(v,f)}return s}const uU=lU({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Hv(e){e===void 0&&(e=ww());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function d1(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function cU(){const e=me.useRef(!0),t=me.useRef(()=>e.current);return me.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function fU(e){const t=me.useRef(e);return t.current=e,t}function dU(e){const t=fU(e);me.useEffect(()=>()=>t.current(),[])}function hU(e){const t=me.useRef(null);return me.useEffect(()=>{t.current=e}),t.current}function pU(e){const t=me.useRef(e);return me.useEffect(()=>{t.current=e},[e]),t}function _f(e){const t=pU(e);return me.useCallback(function(...r){return t.current&&t.current(...r)},[t])}const gU="data-rr-ui-";function yU(e){return`${gU}${e}`}function mU(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const h1=yU("modal-open");class Ew{constructor({ownerDocument:t,handleContainerOverflow:r=!0,isRTL:a=!1}={}){this.handleContainerOverflow=r,this.isRTL=a,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return mU(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const r={overflow:"hidden"},a=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[a]:o.style[a]},t.scrollBarWidth&&(r[a]=`${parseInt(kl(o,a)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(h1,""),kl(o,r)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const r=this.getElement();r.removeAttribute(h1),Object.assign(r.style,t.style)}add(t){let r=this.modals.indexOf(t);return r!==-1||(r=this.modals.length,this.modals.push(t),this.setModalAttributes(t),r!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),r}remove(t){const r=this.modals.indexOf(t);r!==-1&&(this.modals.splice(r,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const LR=me.createContext(qm?window:void 0);LR.Provider;function Sw(){return me.useContext(LR)}const Vv=(e,t)=>qm?e==null?(t||ww()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function vU(e,t){const r=Sw(),[a,o]=me.useState(()=>Vv(e,r?.document));if(!a){const c=Vv(e);c&&o(c)}return me.useEffect(()=>{},[t,a]),me.useEffect(()=>{const c=Vv(e);c!==a&&o(c)},[e,a]),a}const p1=e=>!e||typeof e=="function"?e:t=>{e.current=t};function bU(e,t){const r=p1(e),a=p1(t);return o=>{r&&r(o),a&&a(o)}}function Aw(e,t){return me.useMemo(()=>bU(e,t),[e,t])}const wU=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",_U=typeof document<"u",g1=_U||wU?me.useLayoutEffect:me.useEffect;function EU({children:e,in:t,onExited:r,mountOnEnter:a,unmountOnExit:o}){const c=me.useRef(null),s=me.useRef(t),u=_f(r);me.useEffect(()=>{t?s.current=!0:u(c.current)},[t,u]);const h=Aw(c,th(e)),f=me.cloneElement(e,{ref:h});return t?f:o||!s.current&&a?null:f}const SU=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function AU(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function xU(e){let{onEnter:t,onEntering:r,onEntered:a,onExit:o,onExiting:c,onExited:s,addEndListener:u,children:h}=e,f=AU(e,SU);const g=me.useRef(null),v=Aw(g,th(h)),w=K=>M=>{K&&g.current&&K(g.current,M)},S=me.useCallback(w(t),[t]),T=me.useCallback(w(r),[r]),R=me.useCallback(w(a),[a]),C=me.useCallback(w(o),[o]),x=me.useCallback(w(c),[c]),F=me.useCallback(w(s),[s]),P=me.useCallback(w(u),[u]);return Object.assign({},f,{nodeRef:g},t&&{onEnter:S},r&&{onEntering:T},a&&{onEntered:R},o&&{onExit:C},c&&{onExiting:x},s&&{onExited:F},u&&{addEndListener:P},{children:typeof h=="function"?(K,M)=>h(K,Object.assign({},M,{ref:v})):me.cloneElement(h,{ref:v})})}const RU=["component"];function TU(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}const CU=me.forwardRef((e,t)=>{let{component:r}=e,a=TU(e,RU);const o=xU(a);return Ve.jsx(r,Object.assign({ref:t},o))});function OU({in:e,onTransition:t}){const r=me.useRef(null),a=me.useRef(!0),o=_f(t);return g1(()=>{if(!r.current)return;let c=!1;return o({in:e,element:r.current,initial:a.current,isStale:()=>c}),()=>{c=!0}},[e,o]),g1(()=>(a.current=!1,()=>{a.current=!0}),[]),r}function IU({children:e,in:t,onExited:r,onEntered:a,transition:o}){const[c,s]=me.useState(!t);t&&c&&s(!1);const u=OU({in:!!t,onTransition:f=>{const g=()=>{f.isStale()||(f.in?a?.(f.element,f.initial):(s(!0),r?.(f.element)))};Promise.resolve(o(f)).then(g,v=>{throw f.in||s(!0),v})}}),h=Aw(u,th(e));return c&&!t?null:me.cloneElement(e,{ref:h})}function y1(e,t,r){return e?Ve.jsx(CU,Object.assign({},r,{component:e})):t?Ve.jsx(IU,Object.assign({},r,{transition:t})):Ve.jsx(EU,Object.assign({},r))}const PU=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function NU(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}let $v;function FU(e){return $v||($v=new Ew({ownerDocument:e?.document})),$v}function DU(e){const t=Sw(),r=e||FU(t),a=me.useRef({dialog:null,backdrop:null});return Object.assign(a.current,{add:()=>r.add(a.current),remove:()=>r.remove(a.current),isTopModal:()=>r.isTopModal(a.current),setDialogRef:me.useCallback(o=>{a.current.dialog=o},[]),setBackdropRef:me.useCallback(o=>{a.current.backdrop=o},[])})}const MR=me.forwardRef((e,t)=>{let{show:r=!1,role:a="dialog",className:o,style:c,children:s,backdrop:u=!0,keyboard:h=!0,onBackdropClick:f,onEscapeKeyDown:g,transition:v,runTransition:w,backdropTransition:S,runBackdropTransition:T,autoFocus:R=!0,enforceFocus:C=!0,restoreFocus:x=!0,restoreFocusOptions:F,renderDialog:P,renderBackdrop:K=ne=>Ve.jsx("div",Object.assign({},ne)),manager:M,container:z,onShow:J,onHide:q=()=>{},onExit:Fe,onExited:$,onExiting:ie,onEnter:ge,onEntering:Ee,onEntered:tt}=e,ct=NU(e,PU);const Ie=Sw(),ht=vU(z),de=DU(M),nt=cU(),Y=hU(r),[Re,Qe]=me.useState(!r),He=me.useRef(null);me.useImperativeHandle(t,()=>de,[de]),qm&&!Y&&r&&(He.current=Hv(Ie?.document)),r&&Re&&Qe(!1);const st=_f(()=>{if(de.add(),Ye.current=Em(document,"keydown",le),Ce.current=Em(document,"focus",()=>setTimeout(kt),!0),J&&J(),R){var ne,_e;const Oe=Hv((ne=(_e=de.dialog)==null?void 0:_e.ownerDocument)!=null?ne:Ie?.document);de.dialog&&Oe&&!d1(de.dialog,Oe)&&(He.current=Oe,de.dialog.focus())}}),It=_f(()=>{if(de.remove(),Ye.current==null||Ye.current(),Ce.current==null||Ce.current(),x){var ne;(ne=He.current)==null||ne.focus==null||ne.focus(F),He.current=null}});me.useEffect(()=>{!r||!ht||st()},[r,ht,st]),me.useEffect(()=>{Re&&It()},[Re,It]),dU(()=>{It()});const kt=_f(()=>{if(!C||!nt()||!de.isTopModal())return;const ne=Hv(Ie?.document);de.dialog&&ne&&!d1(de.dialog,ne)&&de.dialog.focus()}),ke=_f(ne=>{ne.target===ne.currentTarget&&(f?.(ne),u===!0&&q())}),le=_f(ne=>{h&&$D(ne)&&de.isTopModal()&&(g?.(ne),ne.defaultPrevented||q())}),Ce=me.useRef(),Ye=me.useRef(),oe=(...ne)=>{Qe(!0),$?.(...ne)};if(!ht)return null;const k=Object.assign({role:a,ref:de.setDialogRef,"aria-modal":a==="dialog"?!0:void 0},ct,{style:c,className:o,tabIndex:-1});let D=P?P(k):Ve.jsx("div",Object.assign({},k,{children:me.cloneElement(s,{role:"document"})}));D=y1(v,w,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:Fe,onExiting:ie,onExited:oe,onEnter:ge,onEntering:Ee,onEntered:tt,children:D});let G=null;return u&&(G=K({ref:de.setBackdropRef,onClick:ke}),G=y1(S,T,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:G})),Ve.jsx(Ve.Fragment,{children:Kd.createPortal(Ve.jsxs(Ve.Fragment,{children:[G,D]}),ht)})});MR.displayName="Modal";const UU=Object.assign(MR,{Manager:Ew}),LU={[Zo]:"show",[Ul]:"show"},kR=me.forwardRef(({className:e,children:t,transitionClasses:r={},onEnter:a,...o},c)=>{const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},u=me.useCallback((h,f)=>{NR(h),a?.(h,f)},[a]);return Ve.jsx(zm,{ref:c,addEndListener:_w,...s,onEnter:u,childRef:th(t),children:(h,f)=>me.cloneElement(t,{...f,className:cr("fade",e,t.props.className,LU[h],r[h])})})});kR.displayName="Fade";const BR=me.forwardRef(({className:e,bsPrefix:t,as:r="div",...a},o)=>(t=Rr(t,"offcanvas-body"),Ve.jsx(r,{ref:o,className:cr(e,t),...a})));BR.displayName="OffcanvasBody";const MU={[Zo]:"show",[Ul]:"show"},jR=me.forwardRef(({bsPrefix:e,className:t,children:r,in:a=!1,mountOnEnter:o=!1,unmountOnExit:c=!1,appear:s=!1,...u},h)=>(e=Rr(e,"offcanvas"),Ve.jsx(zm,{ref:h,addEndListener:_w,in:a,mountOnEnter:o,unmountOnExit:c,appear:s,...u,childRef:th(r),children:(f,g)=>me.cloneElement(r,{...g,className:cr(t,r.props.className,(f===Zo||f===Dg)&&`${e}-toggling`,MU[f])})})));jR.displayName="OffcanvasToggling";const HR=me.createContext({onHide(){}}),kU={"aria-label":Ml.string,onClick:Ml.func,variant:Ml.oneOf(["white"])},xw=me.forwardRef(({className:e,variant:t,"aria-label":r="Close",...a},o)=>Ve.jsx("button",{ref:o,type:"button",className:cr("btn-close",t&&`btn-close-${t}`,e),"aria-label":r,...a}));xw.displayName="CloseButton";xw.propTypes=kU;const VR=me.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:r=!1,onHide:a,children:o,...c},s)=>{const u=me.useContext(HR),h=Wm(()=>{u?.onHide(),a?.()});return Ve.jsxs("div",{ref:s,...c,children:[o,r&&Ve.jsx(xw,{"aria-label":e,variant:t,onClick:h})]})});VR.displayName="AbstractModalHeader";const $R=me.forwardRef(({bsPrefix:e,className:t,closeLabel:r="Close",closeButton:a=!1,...o},c)=>(e=Rr(e,"offcanvas-header"),Ve.jsx(VR,{ref:c,...o,className:cr(t,e),closeLabel:r,closeButton:a})));$R.displayName="OffcanvasHeader";const BU=yw("h5"),KR=me.forwardRef(({className:e,bsPrefix:t,as:r=BU,...a},o)=>(t=Rr(t,"offcanvas-title"),Ve.jsx(r,{ref:o,className:cr(e,t),...a})));KR.displayName="OffcanvasTitle";function jU(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function HU(e,t){e.classList?e.classList.add(t):jU(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}var VU=Function.prototype.bind.call(Function.prototype.call,[].slice);function jd(e,t){return VU(e.querySelectorAll(t))}function m1(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function $U(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=m1(e.className,t):e.setAttribute("class",m1(e.className&&e.className.baseVal||"",t))}const Hd={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class GR extends Ew{adjustAndStore(t,r,a){const o=r.style[t];r.dataset[t]=o,kl(r,{[t]:`${parseFloat(kl(r,t))+a}px`})}restore(t,r){const a=r.dataset[t];a!==void 0&&(delete r.dataset[t],kl(r,{[t]:a}))}setContainerStyle(t){super.setContainerStyle(t);const r=this.getElement();if(HU(r,"modal-open"),!t.scrollBarWidth)return;const a=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";jd(r,Hd.FIXED_CONTENT).forEach(c=>this.adjustAndStore(a,c,t.scrollBarWidth)),jd(r,Hd.STICKY_CONTENT).forEach(c=>this.adjustAndStore(o,c,-t.scrollBarWidth)),jd(r,Hd.NAVBAR_TOGGLER).forEach(c=>this.adjustAndStore(o,c,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const r=this.getElement();$U(r,"modal-open");const a=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";jd(r,Hd.FIXED_CONTENT).forEach(c=>this.restore(a,c)),jd(r,Hd.STICKY_CONTENT).forEach(c=>this.restore(o,c)),jd(r,Hd.NAVBAR_TOGGLER).forEach(c=>this.restore(o,c))}}let Kv;function KU(e){return Kv||(Kv=new GR(e)),Kv}function GU(e){return Ve.jsx(jR,{...e})}function qU(e){return Ve.jsx(kR,{...e})}const qR=me.forwardRef(({bsPrefix:e,className:t,children:r,"aria-labelledby":a,placement:o="start",responsive:c,show:s=!1,backdrop:u=!0,keyboard:h=!0,scroll:f=!1,onEscapeKeyDown:g,onShow:v,onHide:w,container:S,autoFocus:T=!0,enforceFocus:R=!0,restoreFocus:C=!0,restoreFocusOptions:x,onEntered:F,onExit:P,onExiting:K,onEnter:M,onEntering:z,onExited:J,backdropClassName:q,manager:Fe,renderStaticNode:$=!1,...ie},ge)=>{const Ee=me.useRef();e=Rr(e,"offcanvas");const[tt,ct]=me.useState(!1),Ie=Wm(w),ht=uU(c||"xs","up");me.useEffect(()=>{ct(c?s&&!ht:s)},[s,c,ht]);const de=me.useMemo(()=>({onHide:Ie}),[Ie]);function nt(){return Fe||(f?(Ee.current||(Ee.current=new GR({handleContainerOverflow:!1})),Ee.current):KU())}const Y=(st,...It)=>{st&&(st.style.visibility="visible"),M?.(st,...It)},Re=(st,...It)=>{st&&(st.style.visibility=""),J?.(...It)},Qe=me.useCallback(st=>Ve.jsx("div",{...st,className:cr(`${e}-backdrop`,q)}),[q,e]),He=st=>Ve.jsx("div",{...st,...ie,className:cr(t,c?`${e}-${c}`:e,`${e}-${o}`),"aria-labelledby":a,children:r});return Ve.jsxs(Ve.Fragment,{children:[!tt&&(c||$)&&He({}),Ve.jsx(HR.Provider,{value:de,children:Ve.jsx(UU,{show:tt,ref:ge,backdrop:u,container:S,keyboard:h,autoFocus:T,enforceFocus:R&&!f,restoreFocus:C,restoreFocusOptions:x,onEscapeKeyDown:g,onShow:v,onHide:Ie,onEnter:Y,onEntering:z,onEntered:F,onExit:P,onExiting:K,onExited:Re,manager:nt(),transition:GU,backdropTransition:qU,renderBackdrop:Qe,renderDialog:He})})]})});qR.displayName="Offcanvas";const zU=Object.assign(qR,{Body:BR,Header:$R,Title:KR}),zR=me.forwardRef(({onHide:e,...t},r)=>{const a=me.useContext(Wg),o=Wm(()=>{a==null||a.onToggle==null||a.onToggle(),e?.()});return Ve.jsx(zU,{ref:r,show:!!(a!=null&&a.expanded),...t,renderStaticNode:!0,onHide:o})});zR.displayName="NavbarOffcanvas";const WR=me.forwardRef(({className:e,bsPrefix:t,as:r="span",...a},o)=>(t=Rr(t,"navbar-text"),Ve.jsx(r,{ref:o,className:cr(e,t),...a})));WR.displayName="NavbarText";const JR=me.forwardRef((e,t)=>{const{bsPrefix:r,expand:a=!0,variant:o="light",bg:c,fixed:s,sticky:u,className:h,as:f="nav",expanded:g,onToggle:v,onSelect:w,collapseOnSelect:S=!1,...T}=ND(e,{expanded:"onToggle"}),R=Rr(r,"navbar"),C=me.useCallback((...P)=>{w?.(...P),S&&g&&v?.(!1)},[w,S,g,v]);T.role===void 0&&f!=="nav"&&(T.role="navigation");let x=`${R}-expand`;typeof a=="string"&&(x=`${x}-${a}`);const F=me.useMemo(()=>({onToggle:()=>v?.(!g),bsPrefix:R,expanded:!!g,expand:a}),[R,g,a,v]);return Ve.jsx(Wg.Provider,{value:F,children:Ve.jsx(CD.Provider,{value:C,children:Ve.jsx(f,{ref:t,...T,className:cr(h,R,a&&x,o&&`${R}-${o}`,c&&`bg-${c}`,u&&`sticky-${u}`,s&&`fixed-${s}`)})})})});JR.displayName="Navbar";const v1=Object.assign(JR,{Brand:IR,Collapse:DR,Offcanvas:zR,Text:WR,Toggle:UR}),WU=()=>{const e=Xd();return Ve.jsxs(Ve.Fragment,{children:[Ve.jsxs(Rg,{fluid:!0,children:[Ve.jsxs(Ns,{style:{maxWidth:"700px",marginTop:"15px"},children:[Ve.jsx(Hi,{xs:6,children:Ve.jsxs(Af,{style:{width:"150px"},gap:3,children:[Ve.jsx("div",{style:{fontSize:"x-large",fontWeight:700},children:"Lunch Menu"}),Ve.jsx(ca,{variant:"secondary",children:e.formatMessage({id:"scheduleMenu",defaultMessage:"Schedule"})}),Ve.jsx(ca,{variant:"secondary",children:e.formatMessage({id:"addCategory",defaultMessage:"Add category"})})]})}),Ve.jsx(Hi,{xs:6,children:Ve.jsxs(Af,{gap:3,style:{marginTop:"10px",maxWidth:"200px"},children:[Ve.jsx(ho.Switch,{reverse:!0,label:e.formatMessage({id:"visible",defaultMessage:"Visible"})}),Ve.jsxs(ho.Group,{as:Ns,controlId:"menuCurrencyTextInput",children:[Ve.jsx(ho.Label,{column:!0,xs:"6",className:"text-end",children:Ve.jsx(Ra,{id:"currency",defaultMessage:"Currency"})}),Ve.jsx(Hi,{xs:"6",children:Ve.jsxs(ho.Select,{style:{width:"70px"},"aria-label":"Currency select",children:[Ve.jsx("option",{value:"1",children:"€"}),Ve.jsx("option",{value:"2",children:"$"}),Ve.jsx("option",{value:"3",children:"¥"})]})})]}),Ve.jsx(ca,{variant:"secondary",style:{width:"150px",marginLeft:"30px"},children:Ve.jsx(Ra,{id:"shareMenu",defaultMessage:"Share"})})]})})]}),Ve.jsxs(ho.Group,{as:Ns,controlId:"menuDescriptionTextInput",style:{maxWidth:"560px",marginTop:"20px"},children:[Ve.jsx(ho.Label,{column:!0,xs:"3",children:Ve.jsx(Ra,{id:"menuDescription",defaultMessage:"Description"})}),Ve.jsx(Hi,{xs:"9",children:Ve.jsx(ho.Control,{})})]})]}),Ve.jsx("hr",{}),Ve.jsxs(Rg,{fluid:!0,children:[Ve.jsxs(Ns,{style:{maxWidth:"700px"},children:[Ve.jsx(Hi,{xs:4,children:Ve.jsx("div",{style:{fontSize:"large",fontWeight:"500",marginTop:"4px"},children:"Main Courses"})}),Ve.jsx(Hi,{xs:8,children:Ve.jsxs(Af,{direction:"horizontal",gap:2,children:[Ve.jsx(ca,{variant:"secondary",className:"ms-auto",children:Ve.jsx(Ra,{id:"addMenuItem",defaultMessage:"Add item"})}),Ve.jsx("button",{style:{background:"none",border:"none"},"aria-label":"Move category up",children:Ve.jsx("img",{src:"images/arrow-up.svg",alt:"Arrow up",style:{width:"30px"}})}),Ve.jsx("button",{style:{background:"none",border:"none"},"aria-label":"Move category down",children:Ve.jsx("img",{src:"images/arrow-down.svg",alt:"Arrow down",style:{width:"30px"}})}),Ve.jsx("button",{style:{background:"none",border:"none"},"aria-label":"Delete category",children:Ve.jsx("img",{src:"images/trash.svg",alt:"Trash",style:{width:"30px"}})})]})})]}),Ve.jsxs(Ns,{style:{maxWidth:"700px"},className:"align-items-center mt-2",children:[Ve.jsx(Hi,{xs:4,children:Ve.jsx("div",{style:{marginLeft:"12px"},children:"Carbonara"})}),Ve.jsx(Hi,{xs:8,children:Ve.jsxs(Af,{direction:"horizontal",gap:2,children:[Ve.jsx(ca,{variant:"secondary",className:"ms-auto",children:Ve.jsx(Ra,{id:"editMenuItem",defaultMessage:"Edit"})}),Ve.jsx("button",{style:{background:"none",border:"none"},"aria-label":"Move menu item up",children:Ve.jsx("img",{src:"images/arrow-up.svg",alt:"Arrow up",style:{width:"30px"}})}),Ve.jsx("button",{style:{background:"none",border:"none"},"aria-label":"Move menu item down",children:Ve.jsx("img",{src:"images/arrow-down.svg",alt:"Arrow down",style:{width:"30px"}})}),Ve.jsx("button",{style:{background:"none",border:"none",marginRight:"38px"},"aria-label":"Delete menu item",children:Ve.jsx("img",{src:"images/trash.svg",alt:"Trash",style:{width:"30px"}})})]})})]})]}),Ve.jsx(v1,{fixed:"bottom",children:Ve.jsxs(Rg,{children:[Ve.jsx(ca,{variant:"secondary",children:Ve.jsx(Ra,{id:"cancel",defaultMessage:"Cancel"})}),Ve.jsx(v1.Collapse,{className:"justify-content-end",children:Ve.jsx(ca,{children:Ve.jsx(Ra,{id:"save",defaultMessage:"Save"})})})]})})]})},JU=()=>{const e=new rD;return Ve.jsx(OI.SessionProvider,{restorePreviousSession:!0,children:Ve.jsx(uN,{children:Ve.jsx(aD,{client:e,children:Ve.jsx(xF,{basename:"/solid-menu-manager/",children:Ve.jsxs(tF,{children:[Ve.jsx($d,{path:"/",element:Ve.jsx("h1",{children:"Base path"})}),Ve.jsx($d,{path:"/login",element:Ve.jsx(RD,{})}),Ve.jsx($d,{path:"/menuOverview",element:Ve.jsx(TD,{})}),Ve.jsx($d,{path:"/menuCreation",element:Ve.jsx(WU,{})}),Ve.jsx($d,{path:"*",element:Ve.jsx(ZN,{to:"/",replace:!0})})]})})})})})};TT.createRoot(document.getElementById("root")).render(Ve.jsx(me.StrictMode,{children:Ve.jsx(JU,{})}));
